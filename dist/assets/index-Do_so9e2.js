function Zpe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qpe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var WE={exports:{}},uv={},HE={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PB;function ege(){if(PB)return zr;PB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(X,z,Z){this.props=X,this.context=z,this.refs=g,this.updater=Z||p}v.prototype.isReactComponent={},v.prototype.setState=function(X,z){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,z,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function w(){}w.prototype=v.prototype;function b(X,z,Z){this.props=X,this.context=z,this.refs=g,this.updater=Z||p}var j=b.prototype=new w;j.constructor=b,y(j,v.prototype),j.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function D(X,z,Z){var J,Q={},de=null,fe=null;if(z!=null)for(J in z.ref!==void 0&&(fe=z.ref),z.key!==void 0&&(de=""+z.key),z)S.call(z,J)&&!k.hasOwnProperty(J)&&(Q[J]=z[J]);var pe=arguments.length-2;if(pe===1)Q.children=Z;else if(1<pe){for(var K=Array(pe),ee=0;ee<pe;ee++)K[ee]=arguments[ee+2];Q.children=K}if(X&&X.defaultProps)for(J in pe=X.defaultProps,pe)Q[J]===void 0&&(Q[J]=pe[J]);return{$$typeof:e,type:X,key:de,ref:fe,props:Q,_owner:C.current}}function O(X,z){return{$$typeof:e,type:X.type,key:z,ref:X.ref,props:X.props,_owner:X._owner}}function P(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function A(X){var z={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Z){return z[Z]})}var R=/\/+/g;function F(X,z){return typeof X=="object"&&X!==null&&X.key!=null?A(""+X.key):z.toString(36)}function L(X,z,Z,J,Q){var de=typeof X;(de==="undefined"||de==="boolean")&&(X=null);var fe=!1;if(X===null)fe=!0;else switch(de){case"string":case"number":fe=!0;break;case"object":switch(X.$$typeof){case e:case t:fe=!0}}if(fe)return fe=X,Q=Q(fe),X=J===""?"."+F(fe,0):J,E(Q)?(Z="",X!=null&&(Z=X.replace(R,"$&/")+"/"),L(Q,z,Z,"",function(ee){return ee})):Q!=null&&(P(Q)&&(Q=O(Q,Z+(!Q.key||fe&&fe.key===Q.key?"":(""+Q.key).replace(R,"$&/")+"/")+X)),z.push(Q)),1;if(fe=0,J=J===""?".":J+":",E(X))for(var pe=0;pe<X.length;pe++){de=X[pe];var K=J+F(de,pe);fe+=L(de,z,Z,K,Q)}else if(K=m(X),typeof K=="function")for(X=K.call(X),pe=0;!(de=X.next()).done;)de=de.value,K=J+F(de,pe++),fe+=L(de,z,Z,K,Q);else if(de==="object")throw z=String(X),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return fe}function W(X,z,Z){if(X==null)return X;var J=[],Q=0;return L(X,J,"","",function(de){return z.call(Z,de,Q++)}),J}function V(X){if(X._status===-1){var z=X._result;z=z(),z.then(function(Z){(X._status===0||X._status===-1)&&(X._status=1,X._result=Z)},function(Z){(X._status===0||X._status===-1)&&(X._status=2,X._result=Z)}),X._status===-1&&(X._status=0,X._result=z)}if(X._status===1)return X._result.default;throw X._result}var H={current:null},G={transition:null},I={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:G,ReactCurrentOwner:C};function U(){throw Error("act(...) is not supported in production builds of React.")}return zr.Children={map:W,forEach:function(X,z,Z){W(X,function(){z.apply(this,arguments)},Z)},count:function(X){var z=0;return W(X,function(){z++}),z},toArray:function(X){return W(X,function(z){return z})||[]},only:function(X){if(!P(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},zr.Component=v,zr.Fragment=r,zr.Profiler=a,zr.PureComponent=b,zr.StrictMode=n,zr.Suspense=c,zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,zr.act=U,zr.cloneElement=function(X,z,Z){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var J=y({},X.props),Q=X.key,de=X.ref,fe=X._owner;if(z!=null){if(z.ref!==void 0&&(de=z.ref,fe=C.current),z.key!==void 0&&(Q=""+z.key),X.type&&X.type.defaultProps)var pe=X.type.defaultProps;for(K in z)S.call(z,K)&&!k.hasOwnProperty(K)&&(J[K]=z[K]===void 0&&pe!==void 0?pe[K]:z[K])}var K=arguments.length-2;if(K===1)J.children=Z;else if(1<K){pe=Array(K);for(var ee=0;ee<K;ee++)pe[ee]=arguments[ee+2];J.children=pe}return{$$typeof:e,type:X.type,key:Q,ref:de,props:J,_owner:fe}},zr.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:i,_context:X},X.Consumer=X},zr.createElement=D,zr.createFactory=function(X){var z=D.bind(null,X);return z.type=X,z},zr.createRef=function(){return{current:null}},zr.forwardRef=function(X){return{$$typeof:l,render:X}},zr.isValidElement=P,zr.lazy=function(X){return{$$typeof:d,_payload:{_status:-1,_result:X},_init:V}},zr.memo=function(X,z){return{$$typeof:u,type:X,compare:z===void 0?null:z}},zr.startTransition=function(X){var z=G.transition;G.transition={};try{X()}finally{G.transition=z}},zr.unstable_act=U,zr.useCallback=function(X,z){return H.current.useCallback(X,z)},zr.useContext=function(X){return H.current.useContext(X)},zr.useDebugValue=function(){},zr.useDeferredValue=function(X){return H.current.useDeferredValue(X)},zr.useEffect=function(X,z){return H.current.useEffect(X,z)},zr.useId=function(){return H.current.useId()},zr.useImperativeHandle=function(X,z,Z){return H.current.useImperativeHandle(X,z,Z)},zr.useInsertionEffect=function(X,z){return H.current.useInsertionEffect(X,z)},zr.useLayoutEffect=function(X,z){return H.current.useLayoutEffect(X,z)},zr.useMemo=function(X,z){return H.current.useMemo(X,z)},zr.useReducer=function(X,z,Z){return H.current.useReducer(X,z,Z)},zr.useRef=function(X){return H.current.useRef(X)},zr.useState=function(X){return H.current.useState(X)},zr.useSyncExternalStore=function(X,z,Z){return H.current.useSyncExternalStore(X,z,Z)},zr.useTransition=function(){return H.current.useTransition()},zr.version="18.3.1",zr}var OB;function f2(){return OB||(OB=1,HE.exports=ege()),HE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB;function tge(){if(RB)return uv;RB=1;var e=f2(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:f,_owner:a.current}}return uv.Fragment=r,uv.jsx=o,uv.jsxs=o,uv}var DB;function rge(){return DB||(DB=1,WE.exports=tge()),WE.exports}var s=rge(),__={},GE={exports:{}},so={},KE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB;function nge(){return IB||(IB=1,(function(e){function t(G,I){var U=G.length;G.push(I);e:for(;0<U;){var X=U-1>>>1,z=G[X];if(0<a(z,I))G[X]=I,G[U]=z,U=X;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var I=G[0],U=G.pop();if(U!==I){G[0]=U;e:for(var X=0,z=G.length,Z=z>>>1;X<Z;){var J=2*(X+1)-1,Q=G[J],de=J+1,fe=G[de];if(0>a(Q,U))de<z&&0>a(fe,Q)?(G[X]=fe,G[de]=U,X=de):(G[X]=Q,G[J]=U,X=J);else if(de<z&&0>a(fe,U))G[X]=fe,G[de]=U,X=de;else break e}}return I}function a(G,I){var U=G.sortIndex-I.sortIndex;return U!==0?U:G.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=G)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function E(G){if(g=!1,j(G),!y)if(r(c)!==null)y=!0,V(S);else{var I=r(u);I!==null&&H(E,I.startTime-G)}}function S(G,I){y=!1,g&&(g=!1,w(D),D=-1),p=!0;var U=m;try{for(j(I),f=r(c);f!==null&&(!(f.expirationTime>I)||G&&!A());){var X=f.callback;if(typeof X=="function"){f.callback=null,m=f.priorityLevel;var z=X(f.expirationTime<=I);I=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),j(I)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var J=r(u);J!==null&&H(E,J.startTime-I),Z=!1}return Z}finally{f=null,m=U,p=!1}}var C=!1,k=null,D=-1,O=5,P=-1;function A(){return!(e.unstable_now()-P<O)}function R(){if(k!==null){var G=e.unstable_now();P=G;var I=!0;try{I=k(!0,G)}finally{I?F():(C=!1,k=null)}}else C=!1}var F;if(typeof b=="function")F=function(){b(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=R,F=function(){W.postMessage(null)}}else F=function(){v(R,0)};function V(G){k=G,C||(C=!0,F())}function H(G,I){D=v(function(){G(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,V(S))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return G()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,I){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var U=m;m=G;try{return I()}finally{m=U}},e.unstable_scheduleCallback=function(G,I,U){var X=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=U+z,G={id:d++,callback:I,priorityLevel:G,startTime:U,expirationTime:z,sortIndex:-1},U>X?(G.sortIndex=U,t(u,G),r(c)===null&&G===r(u)&&(g?(w(D),D=-1):g=!0,H(E,U-X))):(G.sortIndex=z,t(c,G),y||p||(y=!0,V(S))),G},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(G){var I=m;return function(){var U=m;m=I;try{return G.apply(this,arguments)}finally{m=U}}}})(YE)),YE}var MB;function sge(){return MB||(MB=1,KE.exports=nge()),KE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FB;function age(){if(FB)return so;FB=1;var e=f2(),t=sge();function r(h){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+h,N=1;N<arguments.length;N++)x+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(h,x){o(h,x),o(h+"Capture",x)}function o(h,x){for(a[h]=x,h=0;h<x.length;h++)n.add(x[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function p(h,x,N,T){if(N!==null&&N.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return T?!1:N!==null?!N.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,x,N,T){if(x===null||typeof x>"u"||p(h,x,N,T))return!0;if(T)return!1;if(N!==null)switch(N.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(h,x,N,T,M,q,ne){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=N,this.propertyName=h,this.type=x,this.sanitizeURL=q,this.removeEmptyString=ne}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new g(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var x=h[0];v[x]=new g(x,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new g(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new g(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new g(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new g(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new g(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new g(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new g(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function b(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var x=h.replace(w,b);v[x]=new g(x,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var x=h.replace(w,b);v[x]=new g(x,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var x=h.replace(w,b);v[x]=new g(x,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,x,N,T){var M=v.hasOwnProperty(x)?v[x]:null;(M!==null?M.type!==0:T||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,N,M,T)&&(N=null),T||M===null?m(x)&&(N===null?h.removeAttribute(x):h.setAttribute(x,""+N)):M.mustUseProperty?h[M.propertyName]=N===null?M.type===3?!1:"":N:(x=M.attributeName,T=M.attributeNamespace,N===null?h.removeAttribute(x):(M=M.type,N=M===3||M===4&&N===!0?"":""+N,T?h.setAttributeNS(T,x,N):h.setAttribute(x,N))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),G=Symbol.iterator;function I(h){return h===null||typeof h!="object"?null:(h=G&&h[G]||h["@@iterator"],typeof h=="function"?h:null)}var U=Object.assign,X;function z(h){if(X===void 0)try{throw Error()}catch(N){var x=N.stack.trim().match(/\n( *(at )?)/);X=x&&x[1]||""}return`
`+X+h}var Z=!1;function J(h,x){if(!h||Z)return"";Z=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Ke){var T=Ke}Reflect.construct(h,[],x)}else{try{x.call()}catch(Ke){T=Ke}h.call(x.prototype)}else{try{throw Error()}catch(Ke){T=Ke}h()}}catch(Ke){if(Ke&&T&&typeof Ke.stack=="string"){for(var M=Ke.stack.split(`
`),q=T.stack.split(`
`),ne=M.length-1,je=q.length-1;1<=ne&&0<=je&&M[ne]!==q[je];)je--;for(;1<=ne&&0<=je;ne--,je--)if(M[ne]!==q[je]){if(ne!==1||je!==1)do if(ne--,je--,0>je||M[ne]!==q[je]){var Ae=`
`+M[ne].replace(" at new "," at ");return h.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",h.displayName)),Ae}while(1<=ne&&0<=je);break}}}finally{Z=!1,Error.prepareStackTrace=N}return(h=h?h.displayName||h.name:"")?z(h):""}function Q(h){switch(h.tag){case 5:return z(h.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return h=J(h.type,!1),h;case 11:return h=J(h.type.render,!1),h;case 1:return h=J(h.type,!0),h;default:return""}}function de(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case k:return"Fragment";case C:return"Portal";case O:return"Profiler";case D:return"StrictMode";case F:return"Suspense";case L:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case A:return(h.displayName||"Context")+".Consumer";case P:return(h._context.displayName||"Context")+".Provider";case R:var x=h.render;return h=h.displayName,h||(h=x.displayName||x.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case W:return x=h.displayName||null,x!==null?x:de(h.type)||"Memo";case V:x=h._payload,h=h._init;try{return de(h(x))}catch{}}return null}function fe(h){var x=h.type;switch(h.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=x.render,h=h.displayName||h.name||"",x.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(x);case 8:return x===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function pe(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function K(h){var x=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function ee(h){var x=K(h)?"checked":"value",N=Object.getOwnPropertyDescriptor(h.constructor.prototype,x),T=""+h[x];if(!h.hasOwnProperty(x)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var M=N.get,q=N.set;return Object.defineProperty(h,x,{configurable:!0,get:function(){return M.call(this)},set:function(ne){T=""+ne,q.call(this,ne)}}),Object.defineProperty(h,x,{enumerable:N.enumerable}),{getValue:function(){return T},setValue:function(ne){T=""+ne},stopTracking:function(){h._valueTracker=null,delete h[x]}}}}function se(h){h._valueTracker||(h._valueTracker=ee(h))}function B(h){if(!h)return!1;var x=h._valueTracker;if(!x)return!0;var N=x.getValue(),T="";return h&&(T=K(h)?h.checked?"true":"false":h.value),h=T,h!==N?(x.setValue(h),!0):!1}function ie(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ae(h,x){var N=x.checked;return U({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??h._wrapperState.initialChecked})}function Ne(h,x){var N=x.defaultValue==null?"":x.defaultValue,T=x.checked!=null?x.checked:x.defaultChecked;N=pe(x.value!=null?x.value:N),h._wrapperState={initialChecked:T,initialValue:N,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Ee(h,x){x=x.checked,x!=null&&j(h,"checked",x,!1)}function ue(h,x){Ee(h,x);var N=pe(x.value),T=x.type;if(N!=null)T==="number"?(N===0&&h.value===""||h.value!=N)&&(h.value=""+N):h.value!==""+N&&(h.value=""+N);else if(T==="submit"||T==="reset"){h.removeAttribute("value");return}x.hasOwnProperty("value")?Je(h,x.type,N):x.hasOwnProperty("defaultValue")&&Je(h,x.type,pe(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(h.defaultChecked=!!x.defaultChecked)}function qe(h,x,N){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var T=x.type;if(!(T!=="submit"&&T!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+h._wrapperState.initialValue,N||x===h.value||(h.value=x),h.defaultValue=x}N=h.name,N!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,N!==""&&(h.name=N)}function Je(h,x,N){(x!=="number"||ie(h.ownerDocument)!==h)&&(N==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+N&&(h.defaultValue=""+N))}var le=Array.isArray;function we(h,x,N,T){if(h=h.options,x){x={};for(var M=0;M<N.length;M++)x["$"+N[M]]=!0;for(N=0;N<h.length;N++)M=x.hasOwnProperty("$"+h[N].value),h[N].selected!==M&&(h[N].selected=M),M&&T&&(h[N].defaultSelected=!0)}else{for(N=""+pe(N),x=null,M=0;M<h.length;M++){if(h[M].value===N){h[M].selected=!0,T&&(h[M].defaultSelected=!0);return}x!==null||h[M].disabled||(x=h[M])}x!==null&&(x.selected=!0)}}function Oe(h,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},x,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ge(h,x){var N=x.value;if(N==null){if(N=x.children,x=x.defaultValue,N!=null){if(x!=null)throw Error(r(92));if(le(N)){if(1<N.length)throw Error(r(93));N=N[0]}x=N}x==null&&(x=""),N=x}h._wrapperState={initialValue:pe(N)}}function Ze(h,x){var N=pe(x.value),T=pe(x.defaultValue);N!=null&&(N=""+N,N!==h.value&&(h.value=N),x.defaultValue==null&&h.defaultValue!==N&&(h.defaultValue=N)),T!=null&&(h.defaultValue=""+T)}function Se(h){var x=h.textContent;x===h._wrapperState.initialValue&&x!==""&&x!==null&&(h.value=x)}function te(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(h,x){return h==null||h==="http://www.w3.org/1999/xhtml"?te(x):h==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var he,Re=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,N,T,M){MSApp.execUnsafeLocalFunction(function(){return h(x,N,T,M)})}:h})(function(h,x){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=x;else{for(he=he||document.createElement("div"),he.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=he.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;x.firstChild;)h.appendChild(x.firstChild)}});function De(h,x){if(x){var N=h.firstChild;if(N&&N===h.lastChild&&N.nodeType===3){N.nodeValue=x;return}}h.textContent=x}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(h){xe.forEach(function(x){x=x+h.charAt(0).toUpperCase()+h.substring(1),Fe[x]=Fe[h]})});function He(h,x,N){return x==null||typeof x=="boolean"||x===""?"":N||typeof x!="number"||x===0||Fe.hasOwnProperty(h)&&Fe[h]?(""+x).trim():x+"px"}function ot(h,x){h=h.style;for(var N in x)if(x.hasOwnProperty(N)){var T=N.indexOf("--")===0,M=He(N,x[N],T);N==="float"&&(N="cssFloat"),T?h.setProperty(N,M):h[N]=M}}var _t=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(h,x){if(x){if(_t[h]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function Xt(h,x){if(h.indexOf("-")===-1)return typeof x.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=null;function jt(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Pr=null,tr=null,Sr=null;function Ir(h){if(h=Yx(h)){if(typeof Pr!="function")throw Error(r(280));var x=h.stateNode;x&&(x=M1(x),Pr(h.stateNode,h.type,x))}}function Ca(h){tr?Sr?Sr.push(h):Sr=[h]:tr=h}function Ot(){if(tr){var h=tr,x=Sr;if(Sr=tr=null,Ir(h),x)for(h=0;h<x.length;h++)Ir(x[h])}}function Jt(h,x){return h(x)}function Mr(){}var zt=!1;function Rt(h,x,N){if(zt)return h(x,N);zt=!0;try{return Jt(h,x,N)}finally{zt=!1,(tr!==null||Sr!==null)&&(Mr(),Ot())}}function or(h,x){var N=h.stateNode;if(N===null)return null;var T=M1(N);if(T===null)return null;N=T[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(h=h.type,T=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(N&&typeof N!="function")throw Error(r(231,x,typeof N));return N}var vt=!1;if(l)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){vt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{vt=!1}function Lt(h,x,N,T,M,q,ne,je,Ae){var Ke=Array.prototype.slice.call(arguments,3);try{x.apply(N,Ke)}catch(mt){this.onError(mt)}}var er=!1,Rn=null,re=!1,ve=null,me={onError:function(h){er=!0,Rn=h}};function ge(h,x,N,T,M,q,ne,je,Ae){er=!1,Rn=null,Lt.apply(me,arguments)}function be(h,x,N,T,M,q,ne,je,Ae){if(ge.apply(this,arguments),er){if(er){var Ke=Rn;er=!1,Rn=null}else throw Error(r(198));re||(re=!0,ve=Ke)}}function ye(h){var x=h,N=h;if(h.alternate)for(;x.return;)x=x.return;else{h=x;do x=h,(x.flags&4098)!==0&&(N=x.return),h=x.return;while(h)}return x.tag===3?N:null}function Le(h){if(h.tag===13){var x=h.memoizedState;if(x===null&&(h=h.alternate,h!==null&&(x=h.memoizedState)),x!==null)return x.dehydrated}return null}function We(h){if(ye(h)!==h)throw Error(r(188))}function Ie(h){var x=h.alternate;if(!x){if(x=ye(h),x===null)throw Error(r(188));return x!==h?null:h}for(var N=h,T=x;;){var M=N.return;if(M===null)break;var q=M.alternate;if(q===null){if(T=M.return,T!==null){N=T;continue}break}if(M.child===q.child){for(q=M.child;q;){if(q===N)return We(M),h;if(q===T)return We(M),x;q=q.sibling}throw Error(r(188))}if(N.return!==T.return)N=M,T=q;else{for(var ne=!1,je=M.child;je;){if(je===N){ne=!0,N=M,T=q;break}if(je===T){ne=!0,T=M,N=q;break}je=je.sibling}if(!ne){for(je=q.child;je;){if(je===N){ne=!0,N=q,T=M;break}if(je===T){ne=!0,T=q,N=M;break}je=je.sibling}if(!ne)throw Error(r(189))}}if(N.alternate!==T)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?h:x}function Ue(h){return h=Ie(h),h!==null?$e(h):null}function $e(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var x=$e(h);if(x!==null)return x;h=h.sibling}return null}var st=t.unstable_scheduleCallback,pt=t.unstable_cancelCallback,Et=t.unstable_shouldYield,xt=t.unstable_requestPaint,it=t.unstable_now,Ut=t.unstable_getCurrentPriorityLevel,Vr=t.unstable_ImmediatePriority,xn=t.unstable_UserBlockingPriority,as=t.unstable_NormalPriority,No=t.unstable_LowPriority,ua=t.unstable_IdlePriority,ai=null,ds=null;function Zi(h){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(ai,h,void 0,(h.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:gme,mme=Math.log,pme=Math.LN2;function gme(h){return h>>>=0,h===0?32:31-(mme(h)/pme|0)|0}var v1=64,y1=4194304;function Px(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function b1(h,x){var N=h.pendingLanes;if(N===0)return 0;var T=0,M=h.suspendedLanes,q=h.pingedLanes,ne=N&268435455;if(ne!==0){var je=ne&~M;je!==0?T=Px(je):(q&=ne,q!==0&&(T=Px(q)))}else ne=N&~M,ne!==0?T=Px(ne):q!==0&&(T=Px(q));if(T===0)return 0;if(x!==0&&x!==T&&(x&M)===0&&(M=T&-T,q=x&-x,M>=q||M===16&&(q&4194240)!==0))return x;if((T&4)!==0&&(T|=N&16),x=h.entangledLanes,x!==0)for(h=h.entanglements,x&=T;0<x;)N=31-Os(x),M=1<<N,T|=h[N],x&=~M;return T}function xme(h,x){switch(h){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vme(h,x){for(var N=h.suspendedLanes,T=h.pingedLanes,M=h.expirationTimes,q=h.pendingLanes;0<q;){var ne=31-Os(q),je=1<<ne,Ae=M[ne];Ae===-1?((je&N)===0||(je&T)!==0)&&(M[ne]=xme(je,x)):Ae<=x&&(h.expiredLanes|=je),q&=~je}}function fC(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function l8(){var h=v1;return v1<<=1,(v1&4194240)===0&&(v1=64),h}function hC(h){for(var x=[],N=0;31>N;N++)x.push(h);return x}function Ox(h,x,N){h.pendingLanes|=x,x!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,x=31-Os(x),h[x]=N}function yme(h,x){var N=h.pendingLanes&~x;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=x,h.mutableReadLanes&=x,h.entangledLanes&=x,x=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<N;){var M=31-Os(N),q=1<<M;x[M]=0,T[M]=-1,h[M]=-1,N&=~q}}function mC(h,x){var N=h.entangledLanes|=x;for(h=h.entanglements;N;){var T=31-Os(N),M=1<<T;M&x|h[T]&x&&(h[T]|=x),N&=~M}}var Nn=0;function c8(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var u8,pC,d8,f8,h8,gC=!1,w1=[],yd=null,bd=null,wd=null,Rx=new Map,Dx=new Map,_d=[],bme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m8(h,x){switch(h){case"focusin":case"focusout":yd=null;break;case"dragenter":case"dragleave":bd=null;break;case"mouseover":case"mouseout":wd=null;break;case"pointerover":case"pointerout":Rx.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dx.delete(x.pointerId)}}function Ix(h,x,N,T,M,q){return h===null||h.nativeEvent!==q?(h={blockedOn:x,domEventName:N,eventSystemFlags:T,nativeEvent:q,targetContainers:[M]},x!==null&&(x=Yx(x),x!==null&&pC(x)),h):(h.eventSystemFlags|=T,x=h.targetContainers,M!==null&&x.indexOf(M)===-1&&x.push(M),h)}function wme(h,x,N,T,M){switch(x){case"focusin":return yd=Ix(yd,h,x,N,T,M),!0;case"dragenter":return bd=Ix(bd,h,x,N,T,M),!0;case"mouseover":return wd=Ix(wd,h,x,N,T,M),!0;case"pointerover":var q=M.pointerId;return Rx.set(q,Ix(Rx.get(q)||null,h,x,N,T,M)),!0;case"gotpointercapture":return q=M.pointerId,Dx.set(q,Ix(Dx.get(q)||null,h,x,N,T,M)),!0}return!1}function p8(h){var x=oh(h.target);if(x!==null){var N=ye(x);if(N!==null){if(x=N.tag,x===13){if(x=Le(N),x!==null){h.blockedOn=x,h8(h.priority,function(){d8(N)});return}}else if(x===3&&N.stateNode.current.memoizedState.isDehydrated){h.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}h.blockedOn=null}function _1(h){if(h.blockedOn!==null)return!1;for(var x=h.targetContainers;0<x.length;){var N=vC(h.domEventName,h.eventSystemFlags,x[0],h.nativeEvent);if(N===null){N=h.nativeEvent;var T=new N.constructor(N.type,N);Mt=T,N.target.dispatchEvent(T),Mt=null}else return x=Yx(N),x!==null&&pC(x),h.blockedOn=N,!1;x.shift()}return!0}function g8(h,x,N){_1(h)&&N.delete(x)}function _me(){gC=!1,yd!==null&&_1(yd)&&(yd=null),bd!==null&&_1(bd)&&(bd=null),wd!==null&&_1(wd)&&(wd=null),Rx.forEach(g8),Dx.forEach(g8)}function Mx(h,x){h.blockedOn===x&&(h.blockedOn=null,gC||(gC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_me)))}function Fx(h){function x(M){return Mx(M,h)}if(0<w1.length){Mx(w1[0],h);for(var N=1;N<w1.length;N++){var T=w1[N];T.blockedOn===h&&(T.blockedOn=null)}}for(yd!==null&&Mx(yd,h),bd!==null&&Mx(bd,h),wd!==null&&Mx(wd,h),Rx.forEach(x),Dx.forEach(x),N=0;N<_d.length;N++)T=_d[N],T.blockedOn===h&&(T.blockedOn=null);for(;0<_d.length&&(N=_d[0],N.blockedOn===null);)p8(N),N.blockedOn===null&&_d.shift()}var yp=E.ReactCurrentBatchConfig,j1=!0;function jme(h,x,N,T){var M=Nn,q=yp.transition;yp.transition=null;try{Nn=1,xC(h,x,N,T)}finally{Nn=M,yp.transition=q}}function Nme(h,x,N,T){var M=Nn,q=yp.transition;yp.transition=null;try{Nn=4,xC(h,x,N,T)}finally{Nn=M,yp.transition=q}}function xC(h,x,N,T){if(j1){var M=vC(h,x,N,T);if(M===null)IC(h,x,T,N1,N),m8(h,T);else if(wme(M,h,x,N,T))T.stopPropagation();else if(m8(h,T),x&4&&-1<bme.indexOf(h)){for(;M!==null;){var q=Yx(M);if(q!==null&&u8(q),q=vC(h,x,N,T),q===null&&IC(h,x,T,N1,N),q===M)break;M=q}M!==null&&T.stopPropagation()}else IC(h,x,T,null,N)}}var N1=null;function vC(h,x,N,T){if(N1=null,h=jt(T),h=oh(h),h!==null)if(x=ye(h),x===null)h=null;else if(N=x.tag,N===13){if(h=Le(x),h!==null)return h;h=null}else if(N===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;h=null}else x!==h&&(h=null);return N1=h,null}function x8(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ut()){case Vr:return 1;case xn:return 4;case as:case No:return 16;case ua:return 536870912;default:return 16}default:return 16}}var jd=null,yC=null,S1=null;function v8(){if(S1)return S1;var h,x=yC,N=x.length,T,M="value"in jd?jd.value:jd.textContent,q=M.length;for(h=0;h<N&&x[h]===M[h];h++);var ne=N-h;for(T=1;T<=ne&&x[N-T]===M[q-T];T++);return S1=M.slice(h,1<T?1-T:void 0)}function k1(h){var x=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&x===13&&(h=13)):h=x,h===10&&(h=13),32<=h||h===13?h:0}function C1(){return!0}function y8(){return!1}function So(h){function x(N,T,M,q,ne){this._reactName=N,this._targetInst=M,this.type=T,this.nativeEvent=q,this.target=ne,this.currentTarget=null;for(var je in h)h.hasOwnProperty(je)&&(N=h[je],this[je]=N?N(q):q[je]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?C1:y8,this.isPropagationStopped=y8,this}return U(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=C1)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=C1)},persist:function(){},isPersistent:C1}),x}var bp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bC=So(bp),Lx=U({},bp,{view:0,detail:0}),Sme=So(Lx),wC,_C,$x,E1=U({},Lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NC,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==$x&&($x&&h.type==="mousemove"?(wC=h.screenX-$x.screenX,_C=h.screenY-$x.screenY):_C=wC=0,$x=h),wC)},movementY:function(h){return"movementY"in h?h.movementY:_C}}),b8=So(E1),kme=U({},E1,{dataTransfer:0}),Cme=So(kme),Eme=U({},Lx,{relatedTarget:0}),jC=So(Eme),Tme=U({},bp,{animationName:0,elapsedTime:0,pseudoElement:0}),Ame=So(Tme),Pme=U({},bp,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Ome=So(Pme),Rme=U({},bp,{data:0}),w8=So(Rme),Dme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ime={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fme(h){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(h):(h=Mme[h])?!!x[h]:!1}function NC(){return Fme}var Lme=U({},Lx,{key:function(h){if(h.key){var x=Dme[h.key]||h.key;if(x!=="Unidentified")return x}return h.type==="keypress"?(h=k1(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Ime[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NC,charCode:function(h){return h.type==="keypress"?k1(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?k1(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),$me=So(Lme),Bme=U({},E1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_8=So(Bme),Ume=U({},Lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NC}),Vme=So(Ume),zme=U({},bp,{propertyName:0,elapsedTime:0,pseudoElement:0}),qme=So(zme),Wme=U({},E1,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Hme=So(Wme),Gme=[9,13,27,32],SC=l&&"CompositionEvent"in window,Bx=null;l&&"documentMode"in document&&(Bx=document.documentMode);var Kme=l&&"TextEvent"in window&&!Bx,j8=l&&(!SC||Bx&&8<Bx&&11>=Bx),N8=" ",S8=!1;function k8(h,x){switch(h){case"keyup":return Gme.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C8(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var wp=!1;function Yme(h,x){switch(h){case"compositionend":return C8(x);case"keypress":return x.which!==32?null:(S8=!0,N8);case"textInput":return h=x.data,h===N8&&S8?null:h;default:return null}}function Xme(h,x){if(wp)return h==="compositionend"||!SC&&k8(h,x)?(h=v8(),S1=yC=jd=null,wp=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return j8&&x.locale!=="ko"?null:x.data;default:return null}}var Jme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E8(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x==="input"?!!Jme[h.type]:x==="textarea"}function T8(h,x,N,T){Ca(T),x=R1(x,"onChange"),0<x.length&&(N=new bC("onChange","change",null,N,T),h.push({event:N,listeners:x}))}var Ux=null,Vx=null;function Zme(h){G8(h,0)}function T1(h){var x=kp(h);if(B(x))return h}function Qme(h,x){if(h==="change")return x}var A8=!1;if(l){var kC;if(l){var CC="oninput"in document;if(!CC){var P8=document.createElement("div");P8.setAttribute("oninput","return;"),CC=typeof P8.oninput=="function"}kC=CC}else kC=!1;A8=kC&&(!document.documentMode||9<document.documentMode)}function O8(){Ux&&(Ux.detachEvent("onpropertychange",R8),Vx=Ux=null)}function R8(h){if(h.propertyName==="value"&&T1(Vx)){var x=[];T8(x,Vx,h,jt(h)),Rt(Zme,x)}}function epe(h,x,N){h==="focusin"?(O8(),Ux=x,Vx=N,Ux.attachEvent("onpropertychange",R8)):h==="focusout"&&O8()}function tpe(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return T1(Vx)}function rpe(h,x){if(h==="click")return T1(x)}function npe(h,x){if(h==="input"||h==="change")return T1(x)}function spe(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var Hl=typeof Object.is=="function"?Object.is:spe;function zx(h,x){if(Hl(h,x))return!0;if(typeof h!="object"||h===null||typeof x!="object"||x===null)return!1;var N=Object.keys(h),T=Object.keys(x);if(N.length!==T.length)return!1;for(T=0;T<N.length;T++){var M=N[T];if(!c.call(x,M)||!Hl(h[M],x[M]))return!1}return!0}function D8(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function I8(h,x){var N=D8(h);h=0;for(var T;N;){if(N.nodeType===3){if(T=h+N.textContent.length,h<=x&&T>=x)return{node:N,offset:x-h};h=T}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=D8(N)}}function M8(h,x){return h&&x?h===x?!0:h&&h.nodeType===3?!1:x&&x.nodeType===3?M8(h,x.parentNode):"contains"in h?h.contains(x):h.compareDocumentPosition?!!(h.compareDocumentPosition(x)&16):!1:!1}function F8(){for(var h=window,x=ie();x instanceof h.HTMLIFrameElement;){try{var N=typeof x.contentWindow.location.href=="string"}catch{N=!1}if(N)h=x.contentWindow;else break;x=ie(h.document)}return x}function EC(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x&&(x==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||x==="textarea"||h.contentEditable==="true")}function ape(h){var x=F8(),N=h.focusedElem,T=h.selectionRange;if(x!==N&&N&&N.ownerDocument&&M8(N.ownerDocument.documentElement,N)){if(T!==null&&EC(N)){if(x=T.start,h=T.end,h===void 0&&(h=x),"selectionStart"in N)N.selectionStart=x,N.selectionEnd=Math.min(h,N.value.length);else if(h=(x=N.ownerDocument||document)&&x.defaultView||window,h.getSelection){h=h.getSelection();var M=N.textContent.length,q=Math.min(T.start,M);T=T.end===void 0?q:Math.min(T.end,M),!h.extend&&q>T&&(M=T,T=q,q=M),M=I8(N,q);var ne=I8(N,T);M&&ne&&(h.rangeCount!==1||h.anchorNode!==M.node||h.anchorOffset!==M.offset||h.focusNode!==ne.node||h.focusOffset!==ne.offset)&&(x=x.createRange(),x.setStart(M.node,M.offset),h.removeAllRanges(),q>T?(h.addRange(x),h.extend(ne.node,ne.offset)):(x.setEnd(ne.node,ne.offset),h.addRange(x)))}}for(x=[],h=N;h=h.parentNode;)h.nodeType===1&&x.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<x.length;N++)h=x[N],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var ipe=l&&"documentMode"in document&&11>=document.documentMode,_p=null,TC=null,qx=null,AC=!1;function L8(h,x,N){var T=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;AC||_p==null||_p!==ie(T)||(T=_p,"selectionStart"in T&&EC(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),qx&&zx(qx,T)||(qx=T,T=R1(TC,"onSelect"),0<T.length&&(x=new bC("onSelect","select",null,x,N),h.push({event:x,listeners:T}),x.target=_p)))}function A1(h,x){var N={};return N[h.toLowerCase()]=x.toLowerCase(),N["Webkit"+h]="webkit"+x,N["Moz"+h]="moz"+x,N}var jp={animationend:A1("Animation","AnimationEnd"),animationiteration:A1("Animation","AnimationIteration"),animationstart:A1("Animation","AnimationStart"),transitionend:A1("Transition","TransitionEnd")},PC={},$8={};l&&($8=document.createElement("div").style,"AnimationEvent"in window||(delete jp.animationend.animation,delete jp.animationiteration.animation,delete jp.animationstart.animation),"TransitionEvent"in window||delete jp.transitionend.transition);function P1(h){if(PC[h])return PC[h];if(!jp[h])return h;var x=jp[h],N;for(N in x)if(x.hasOwnProperty(N)&&N in $8)return PC[h]=x[N];return h}var B8=P1("animationend"),U8=P1("animationiteration"),V8=P1("animationstart"),z8=P1("transitionend"),q8=new Map,W8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nd(h,x){q8.set(h,x),i(x,[h])}for(var OC=0;OC<W8.length;OC++){var RC=W8[OC],ope=RC.toLowerCase(),lpe=RC[0].toUpperCase()+RC.slice(1);Nd(ope,"on"+lpe)}Nd(B8,"onAnimationEnd"),Nd(U8,"onAnimationIteration"),Nd(V8,"onAnimationStart"),Nd("dblclick","onDoubleClick"),Nd("focusin","onFocus"),Nd("focusout","onBlur"),Nd(z8,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wx));function H8(h,x,N){var T=h.type||"unknown-event";h.currentTarget=N,be(T,x,void 0,h),h.currentTarget=null}function G8(h,x){x=(x&4)!==0;for(var N=0;N<h.length;N++){var T=h[N],M=T.event;T=T.listeners;e:{var q=void 0;if(x)for(var ne=T.length-1;0<=ne;ne--){var je=T[ne],Ae=je.instance,Ke=je.currentTarget;if(je=je.listener,Ae!==q&&M.isPropagationStopped())break e;H8(M,je,Ke),q=Ae}else for(ne=0;ne<T.length;ne++){if(je=T[ne],Ae=je.instance,Ke=je.currentTarget,je=je.listener,Ae!==q&&M.isPropagationStopped())break e;H8(M,je,Ke),q=Ae}}}if(re)throw h=ve,re=!1,ve=null,h}function Jn(h,x){var N=x[UC];N===void 0&&(N=x[UC]=new Set);var T=h+"__bubble";N.has(T)||(K8(x,h,2,!1),N.add(T))}function DC(h,x,N){var T=0;x&&(T|=4),K8(N,h,T,x)}var O1="_reactListening"+Math.random().toString(36).slice(2);function Hx(h){if(!h[O1]){h[O1]=!0,n.forEach(function(N){N!=="selectionchange"&&(cpe.has(N)||DC(N,!1,h),DC(N,!0,h))});var x=h.nodeType===9?h:h.ownerDocument;x===null||x[O1]||(x[O1]=!0,DC("selectionchange",!1,x))}}function K8(h,x,N,T){switch(x8(x)){case 1:var M=jme;break;case 4:M=Nme;break;default:M=xC}N=M.bind(null,x,N,h),M=void 0,!vt||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(M=!0),T?M!==void 0?h.addEventListener(x,N,{capture:!0,passive:M}):h.addEventListener(x,N,!0):M!==void 0?h.addEventListener(x,N,{passive:M}):h.addEventListener(x,N,!1)}function IC(h,x,N,T,M){var q=T;if((x&1)===0&&(x&2)===0&&T!==null)e:for(;;){if(T===null)return;var ne=T.tag;if(ne===3||ne===4){var je=T.stateNode.containerInfo;if(je===M||je.nodeType===8&&je.parentNode===M)break;if(ne===4)for(ne=T.return;ne!==null;){var Ae=ne.tag;if((Ae===3||Ae===4)&&(Ae=ne.stateNode.containerInfo,Ae===M||Ae.nodeType===8&&Ae.parentNode===M))return;ne=ne.return}for(;je!==null;){if(ne=oh(je),ne===null)return;if(Ae=ne.tag,Ae===5||Ae===6){T=q=ne;continue e}je=je.parentNode}}T=T.return}Rt(function(){var Ke=q,mt=jt(N),gt=[];e:{var dt=q8.get(h);if(dt!==void 0){var Dt=bC,qt=h;switch(h){case"keypress":if(k1(N)===0)break e;case"keydown":case"keyup":Dt=$me;break;case"focusin":qt="focus",Dt=jC;break;case"focusout":qt="blur",Dt=jC;break;case"beforeblur":case"afterblur":Dt=jC;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=b8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Cme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=Vme;break;case B8:case U8:case V8:Dt=Ame;break;case z8:Dt=qme;break;case"scroll":Dt=Sme;break;case"wheel":Dt=Hme;break;case"copy":case"cut":case"paste":Dt=Ome;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=_8}var Ht=(x&4)!==0,Rs=!Ht&&h==="scroll",Be=Ht?dt!==null?dt+"Capture":null:dt;Ht=[];for(var Pe=Ke,ze;Pe!==null;){ze=Pe;var yt=ze.stateNode;if(ze.tag===5&&yt!==null&&(ze=yt,Be!==null&&(yt=or(Pe,Be),yt!=null&&Ht.push(Gx(Pe,yt,ze)))),Rs)break;Pe=Pe.return}0<Ht.length&&(dt=new Dt(dt,qt,null,N,mt),gt.push({event:dt,listeners:Ht}))}}if((x&7)===0){e:{if(dt=h==="mouseover"||h==="pointerover",Dt=h==="mouseout"||h==="pointerout",dt&&N!==Mt&&(qt=N.relatedTarget||N.fromElement)&&(oh(qt)||qt[yu]))break e;if((Dt||dt)&&(dt=mt.window===mt?mt:(dt=mt.ownerDocument)?dt.defaultView||dt.parentWindow:window,Dt?(qt=N.relatedTarget||N.toElement,Dt=Ke,qt=qt?oh(qt):null,qt!==null&&(Rs=ye(qt),qt!==Rs||qt.tag!==5&&qt.tag!==6)&&(qt=null)):(Dt=null,qt=Ke),Dt!==qt)){if(Ht=b8,yt="onMouseLeave",Be="onMouseEnter",Pe="mouse",(h==="pointerout"||h==="pointerover")&&(Ht=_8,yt="onPointerLeave",Be="onPointerEnter",Pe="pointer"),Rs=Dt==null?dt:kp(Dt),ze=qt==null?dt:kp(qt),dt=new Ht(yt,Pe+"leave",Dt,N,mt),dt.target=Rs,dt.relatedTarget=ze,yt=null,oh(mt)===Ke&&(Ht=new Ht(Be,Pe+"enter",qt,N,mt),Ht.target=ze,Ht.relatedTarget=Rs,yt=Ht),Rs=yt,Dt&&qt)t:{for(Ht=Dt,Be=qt,Pe=0,ze=Ht;ze;ze=Np(ze))Pe++;for(ze=0,yt=Be;yt;yt=Np(yt))ze++;for(;0<Pe-ze;)Ht=Np(Ht),Pe--;for(;0<ze-Pe;)Be=Np(Be),ze--;for(;Pe--;){if(Ht===Be||Be!==null&&Ht===Be.alternate)break t;Ht=Np(Ht),Be=Np(Be)}Ht=null}else Ht=null;Dt!==null&&Y8(gt,dt,Dt,Ht,!1),qt!==null&&Rs!==null&&Y8(gt,Rs,qt,Ht,!0)}}e:{if(dt=Ke?kp(Ke):window,Dt=dt.nodeName&&dt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&dt.type==="file")var Kt=Qme;else if(E8(dt))if(A8)Kt=npe;else{Kt=tpe;var rr=epe}else(Dt=dt.nodeName)&&Dt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Kt=rpe);if(Kt&&(Kt=Kt(h,Ke))){T8(gt,Kt,N,mt);break e}rr&&rr(h,dt,Ke),h==="focusout"&&(rr=dt._wrapperState)&&rr.controlled&&dt.type==="number"&&Je(dt,"number",dt.value)}switch(rr=Ke?kp(Ke):window,h){case"focusin":(E8(rr)||rr.contentEditable==="true")&&(_p=rr,TC=Ke,qx=null);break;case"focusout":qx=TC=_p=null;break;case"mousedown":AC=!0;break;case"contextmenu":case"mouseup":case"dragend":AC=!1,L8(gt,N,mt);break;case"selectionchange":if(ipe)break;case"keydown":case"keyup":L8(gt,N,mt)}var nr;if(SC)e:{switch(h){case"compositionstart":var xr="onCompositionStart";break e;case"compositionend":xr="onCompositionEnd";break e;case"compositionupdate":xr="onCompositionUpdate";break e}xr=void 0}else wp?k8(h,N)&&(xr="onCompositionEnd"):h==="keydown"&&N.keyCode===229&&(xr="onCompositionStart");xr&&(j8&&N.locale!=="ko"&&(wp||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&wp&&(nr=v8()):(jd=mt,yC="value"in jd?jd.value:jd.textContent,wp=!0)),rr=R1(Ke,xr),0<rr.length&&(xr=new w8(xr,h,null,N,mt),gt.push({event:xr,listeners:rr}),nr?xr.data=nr:(nr=C8(N),nr!==null&&(xr.data=nr)))),(nr=Kme?Yme(h,N):Xme(h,N))&&(Ke=R1(Ke,"onBeforeInput"),0<Ke.length&&(mt=new w8("onBeforeInput","beforeinput",null,N,mt),gt.push({event:mt,listeners:Ke}),mt.data=nr))}G8(gt,x)})}function Gx(h,x,N){return{instance:h,listener:x,currentTarget:N}}function R1(h,x){for(var N=x+"Capture",T=[];h!==null;){var M=h,q=M.stateNode;M.tag===5&&q!==null&&(M=q,q=or(h,N),q!=null&&T.unshift(Gx(h,q,M)),q=or(h,x),q!=null&&T.push(Gx(h,q,M))),h=h.return}return T}function Np(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Y8(h,x,N,T,M){for(var q=x._reactName,ne=[];N!==null&&N!==T;){var je=N,Ae=je.alternate,Ke=je.stateNode;if(Ae!==null&&Ae===T)break;je.tag===5&&Ke!==null&&(je=Ke,M?(Ae=or(N,q),Ae!=null&&ne.unshift(Gx(N,Ae,je))):M||(Ae=or(N,q),Ae!=null&&ne.push(Gx(N,Ae,je)))),N=N.return}ne.length!==0&&h.push({event:x,listeners:ne})}var upe=/\r\n?/g,dpe=/\u0000|\uFFFD/g;function X8(h){return(typeof h=="string"?h:""+h).replace(upe,`
`).replace(dpe,"")}function D1(h,x,N){if(x=X8(x),X8(h)!==x&&N)throw Error(r(425))}function I1(){}var MC=null,FC=null;function LC(h,x){return h==="textarea"||h==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var $C=typeof setTimeout=="function"?setTimeout:void 0,fpe=typeof clearTimeout=="function"?clearTimeout:void 0,J8=typeof Promise=="function"?Promise:void 0,hpe=typeof queueMicrotask=="function"?queueMicrotask:typeof J8<"u"?function(h){return J8.resolve(null).then(h).catch(mpe)}:$C;function mpe(h){setTimeout(function(){throw h})}function BC(h,x){var N=x,T=0;do{var M=N.nextSibling;if(h.removeChild(N),M&&M.nodeType===8)if(N=M.data,N==="/$"){if(T===0){h.removeChild(M),Fx(x);return}T--}else N!=="$"&&N!=="$?"&&N!=="$!"||T++;N=M}while(N);Fx(x)}function Sd(h){for(;h!=null;h=h.nextSibling){var x=h.nodeType;if(x===1||x===3)break;if(x===8){if(x=h.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return h}function Z8(h){h=h.previousSibling;for(var x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="$"||N==="$!"||N==="$?"){if(x===0)return h;x--}else N==="/$"&&x++}h=h.previousSibling}return null}var Sp=Math.random().toString(36).slice(2),Tc="__reactFiber$"+Sp,Kx="__reactProps$"+Sp,yu="__reactContainer$"+Sp,UC="__reactEvents$"+Sp,ppe="__reactListeners$"+Sp,gpe="__reactHandles$"+Sp;function oh(h){var x=h[Tc];if(x)return x;for(var N=h.parentNode;N;){if(x=N[yu]||N[Tc]){if(N=x.alternate,x.child!==null||N!==null&&N.child!==null)for(h=Z8(h);h!==null;){if(N=h[Tc])return N;h=Z8(h)}return x}h=N,N=h.parentNode}return null}function Yx(h){return h=h[Tc]||h[yu],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function kp(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function M1(h){return h[Kx]||null}var VC=[],Cp=-1;function kd(h){return{current:h}}function Zn(h){0>Cp||(h.current=VC[Cp],VC[Cp]=null,Cp--)}function zn(h,x){Cp++,VC[Cp]=h.current,h.current=x}var Cd={},ii=kd(Cd),Qi=kd(!1),lh=Cd;function Ep(h,x){var N=h.type.contextTypes;if(!N)return Cd;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===x)return T.__reactInternalMemoizedMaskedChildContext;var M={},q;for(q in N)M[q]=x[q];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=x,h.__reactInternalMemoizedMaskedChildContext=M),M}function eo(h){return h=h.childContextTypes,h!=null}function F1(){Zn(Qi),Zn(ii)}function Q8(h,x,N){if(ii.current!==Cd)throw Error(r(168));zn(ii,x),zn(Qi,N)}function e$(h,x,N){var T=h.stateNode;if(x=x.childContextTypes,typeof T.getChildContext!="function")return N;T=T.getChildContext();for(var M in T)if(!(M in x))throw Error(r(108,fe(h)||"Unknown",M));return U({},N,T)}function L1(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Cd,lh=ii.current,zn(ii,h),zn(Qi,Qi.current),!0}function t$(h,x,N){var T=h.stateNode;if(!T)throw Error(r(169));N?(h=e$(h,x,lh),T.__reactInternalMemoizedMergedChildContext=h,Zn(Qi),Zn(ii),zn(ii,h)):Zn(Qi),zn(Qi,N)}var bu=null,$1=!1,zC=!1;function r$(h){bu===null?bu=[h]:bu.push(h)}function xpe(h){$1=!0,r$(h)}function Ed(){if(!zC&&bu!==null){zC=!0;var h=0,x=Nn;try{var N=bu;for(Nn=1;h<N.length;h++){var T=N[h];do T=T(!0);while(T!==null)}bu=null,$1=!1}catch(M){throw bu!==null&&(bu=bu.slice(h+1)),st(Vr,Ed),M}finally{Nn=x,zC=!1}}return null}var Tp=[],Ap=0,B1=null,U1=0,al=[],il=0,ch=null,wu=1,_u="";function uh(h,x){Tp[Ap++]=U1,Tp[Ap++]=B1,B1=h,U1=x}function n$(h,x,N){al[il++]=wu,al[il++]=_u,al[il++]=ch,ch=h;var T=wu;h=_u;var M=32-Os(T)-1;T&=~(1<<M),N+=1;var q=32-Os(x)+M;if(30<q){var ne=M-M%5;q=(T&(1<<ne)-1).toString(32),T>>=ne,M-=ne,wu=1<<32-Os(x)+M|N<<M|T,_u=q+h}else wu=1<<q|N<<M|T,_u=h}function qC(h){h.return!==null&&(uh(h,1),n$(h,1,0))}function WC(h){for(;h===B1;)B1=Tp[--Ap],Tp[Ap]=null,U1=Tp[--Ap],Tp[Ap]=null;for(;h===ch;)ch=al[--il],al[il]=null,_u=al[--il],al[il]=null,wu=al[--il],al[il]=null}var ko=null,Co=null,is=!1,Gl=null;function s$(h,x){var N=ul(5,null,null,0);N.elementType="DELETED",N.stateNode=x,N.return=h,x=h.deletions,x===null?(h.deletions=[N],h.flags|=16):x.push(N)}function a$(h,x){switch(h.tag){case 5:var N=h.type;return x=x.nodeType!==1||N.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(h.stateNode=x,ko=h,Co=Sd(x.firstChild),!0):!1;case 6:return x=h.pendingProps===""||x.nodeType!==3?null:x,x!==null?(h.stateNode=x,ko=h,Co=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(N=ch!==null?{id:wu,overflow:_u}:null,h.memoizedState={dehydrated:x,treeContext:N,retryLane:1073741824},N=ul(18,null,null,0),N.stateNode=x,N.return=h,h.child=N,ko=h,Co=null,!0):!1;default:return!1}}function HC(h){return(h.mode&1)!==0&&(h.flags&128)===0}function GC(h){if(is){var x=Co;if(x){var N=x;if(!a$(h,x)){if(HC(h))throw Error(r(418));x=Sd(N.nextSibling);var T=ko;x&&a$(h,x)?s$(T,N):(h.flags=h.flags&-4097|2,is=!1,ko=h)}}else{if(HC(h))throw Error(r(418));h.flags=h.flags&-4097|2,is=!1,ko=h}}}function i$(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ko=h}function V1(h){if(h!==ko)return!1;if(!is)return i$(h),is=!0,!1;var x;if((x=h.tag!==3)&&!(x=h.tag!==5)&&(x=h.type,x=x!=="head"&&x!=="body"&&!LC(h.type,h.memoizedProps)),x&&(x=Co)){if(HC(h))throw o$(),Error(r(418));for(;x;)s$(h,x),x=Sd(x.nextSibling)}if(i$(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="/$"){if(x===0){Co=Sd(h.nextSibling);break e}x--}else N!=="$"&&N!=="$!"&&N!=="$?"||x++}h=h.nextSibling}Co=null}}else Co=ko?Sd(h.stateNode.nextSibling):null;return!0}function o$(){for(var h=Co;h;)h=Sd(h.nextSibling)}function Pp(){Co=ko=null,is=!1}function KC(h){Gl===null?Gl=[h]:Gl.push(h)}var vpe=E.ReactCurrentBatchConfig;function Xx(h,x,N){if(h=N.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(r(309));var T=N.stateNode}if(!T)throw Error(r(147,h));var M=T,q=""+h;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===q?x.ref:(x=function(ne){var je=M.refs;ne===null?delete je[q]:je[q]=ne},x._stringRef=q,x)}if(typeof h!="string")throw Error(r(284));if(!N._owner)throw Error(r(290,h))}return h}function z1(h,x){throw h=Object.prototype.toString.call(x),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":h))}function l$(h){var x=h._init;return x(h._payload)}function c$(h){function x(Be,Pe){if(h){var ze=Be.deletions;ze===null?(Be.deletions=[Pe],Be.flags|=16):ze.push(Pe)}}function N(Be,Pe){if(!h)return null;for(;Pe!==null;)x(Be,Pe),Pe=Pe.sibling;return null}function T(Be,Pe){for(Be=new Map;Pe!==null;)Pe.key!==null?Be.set(Pe.key,Pe):Be.set(Pe.index,Pe),Pe=Pe.sibling;return Be}function M(Be,Pe){return Be=Md(Be,Pe),Be.index=0,Be.sibling=null,Be}function q(Be,Pe,ze){return Be.index=ze,h?(ze=Be.alternate,ze!==null?(ze=ze.index,ze<Pe?(Be.flags|=2,Pe):ze):(Be.flags|=2,Pe)):(Be.flags|=1048576,Pe)}function ne(Be){return h&&Be.alternate===null&&(Be.flags|=2),Be}function je(Be,Pe,ze,yt){return Pe===null||Pe.tag!==6?(Pe=$E(ze,Be.mode,yt),Pe.return=Be,Pe):(Pe=M(Pe,ze),Pe.return=Be,Pe)}function Ae(Be,Pe,ze,yt){var Kt=ze.type;return Kt===k?mt(Be,Pe,ze.props.children,yt,ze.key):Pe!==null&&(Pe.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===V&&l$(Kt)===Pe.type)?(yt=M(Pe,ze.props),yt.ref=Xx(Be,Pe,ze),yt.return=Be,yt):(yt=h_(ze.type,ze.key,ze.props,null,Be.mode,yt),yt.ref=Xx(Be,Pe,ze),yt.return=Be,yt)}function Ke(Be,Pe,ze,yt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==ze.containerInfo||Pe.stateNode.implementation!==ze.implementation?(Pe=BE(ze,Be.mode,yt),Pe.return=Be,Pe):(Pe=M(Pe,ze.children||[]),Pe.return=Be,Pe)}function mt(Be,Pe,ze,yt,Kt){return Pe===null||Pe.tag!==7?(Pe=vh(ze,Be.mode,yt,Kt),Pe.return=Be,Pe):(Pe=M(Pe,ze),Pe.return=Be,Pe)}function gt(Be,Pe,ze){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=$E(""+Pe,Be.mode,ze),Pe.return=Be,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case S:return ze=h_(Pe.type,Pe.key,Pe.props,null,Be.mode,ze),ze.ref=Xx(Be,null,Pe),ze.return=Be,ze;case C:return Pe=BE(Pe,Be.mode,ze),Pe.return=Be,Pe;case V:var yt=Pe._init;return gt(Be,yt(Pe._payload),ze)}if(le(Pe)||I(Pe))return Pe=vh(Pe,Be.mode,ze,null),Pe.return=Be,Pe;z1(Be,Pe)}return null}function dt(Be,Pe,ze,yt){var Kt=Pe!==null?Pe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return Kt!==null?null:je(Be,Pe,""+ze,yt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:return ze.key===Kt?Ae(Be,Pe,ze,yt):null;case C:return ze.key===Kt?Ke(Be,Pe,ze,yt):null;case V:return Kt=ze._init,dt(Be,Pe,Kt(ze._payload),yt)}if(le(ze)||I(ze))return Kt!==null?null:mt(Be,Pe,ze,yt,null);z1(Be,ze)}return null}function Dt(Be,Pe,ze,yt,Kt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Be=Be.get(ze)||null,je(Pe,Be,""+yt,Kt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case S:return Be=Be.get(yt.key===null?ze:yt.key)||null,Ae(Pe,Be,yt,Kt);case C:return Be=Be.get(yt.key===null?ze:yt.key)||null,Ke(Pe,Be,yt,Kt);case V:var rr=yt._init;return Dt(Be,Pe,ze,rr(yt._payload),Kt)}if(le(yt)||I(yt))return Be=Be.get(ze)||null,mt(Pe,Be,yt,Kt,null);z1(Pe,yt)}return null}function qt(Be,Pe,ze,yt){for(var Kt=null,rr=null,nr=Pe,xr=Pe=0,Aa=null;nr!==null&&xr<ze.length;xr++){nr.index>xr?(Aa=nr,nr=null):Aa=nr.sibling;var ln=dt(Be,nr,ze[xr],yt);if(ln===null){nr===null&&(nr=Aa);break}h&&nr&&ln.alternate===null&&x(Be,nr),Pe=q(ln,Pe,xr),rr===null?Kt=ln:rr.sibling=ln,rr=ln,nr=Aa}if(xr===ze.length)return N(Be,nr),is&&uh(Be,xr),Kt;if(nr===null){for(;xr<ze.length;xr++)nr=gt(Be,ze[xr],yt),nr!==null&&(Pe=q(nr,Pe,xr),rr===null?Kt=nr:rr.sibling=nr,rr=nr);return is&&uh(Be,xr),Kt}for(nr=T(Be,nr);xr<ze.length;xr++)Aa=Dt(nr,Be,xr,ze[xr],yt),Aa!==null&&(h&&Aa.alternate!==null&&nr.delete(Aa.key===null?xr:Aa.key),Pe=q(Aa,Pe,xr),rr===null?Kt=Aa:rr.sibling=Aa,rr=Aa);return h&&nr.forEach(function(Fd){return x(Be,Fd)}),is&&uh(Be,xr),Kt}function Ht(Be,Pe,ze,yt){var Kt=I(ze);if(typeof Kt!="function")throw Error(r(150));if(ze=Kt.call(ze),ze==null)throw Error(r(151));for(var rr=Kt=null,nr=Pe,xr=Pe=0,Aa=null,ln=ze.next();nr!==null&&!ln.done;xr++,ln=ze.next()){nr.index>xr?(Aa=nr,nr=null):Aa=nr.sibling;var Fd=dt(Be,nr,ln.value,yt);if(Fd===null){nr===null&&(nr=Aa);break}h&&nr&&Fd.alternate===null&&x(Be,nr),Pe=q(Fd,Pe,xr),rr===null?Kt=Fd:rr.sibling=Fd,rr=Fd,nr=Aa}if(ln.done)return N(Be,nr),is&&uh(Be,xr),Kt;if(nr===null){for(;!ln.done;xr++,ln=ze.next())ln=gt(Be,ln.value,yt),ln!==null&&(Pe=q(ln,Pe,xr),rr===null?Kt=ln:rr.sibling=ln,rr=ln);return is&&uh(Be,xr),Kt}for(nr=T(Be,nr);!ln.done;xr++,ln=ze.next())ln=Dt(nr,Be,xr,ln.value,yt),ln!==null&&(h&&ln.alternate!==null&&nr.delete(ln.key===null?xr:ln.key),Pe=q(ln,Pe,xr),rr===null?Kt=ln:rr.sibling=ln,rr=ln);return h&&nr.forEach(function(Jpe){return x(Be,Jpe)}),is&&uh(Be,xr),Kt}function Rs(Be,Pe,ze,yt){if(typeof ze=="object"&&ze!==null&&ze.type===k&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:e:{for(var Kt=ze.key,rr=Pe;rr!==null;){if(rr.key===Kt){if(Kt=ze.type,Kt===k){if(rr.tag===7){N(Be,rr.sibling),Pe=M(rr,ze.props.children),Pe.return=Be,Be=Pe;break e}}else if(rr.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===V&&l$(Kt)===rr.type){N(Be,rr.sibling),Pe=M(rr,ze.props),Pe.ref=Xx(Be,rr,ze),Pe.return=Be,Be=Pe;break e}N(Be,rr);break}else x(Be,rr);rr=rr.sibling}ze.type===k?(Pe=vh(ze.props.children,Be.mode,yt,ze.key),Pe.return=Be,Be=Pe):(yt=h_(ze.type,ze.key,ze.props,null,Be.mode,yt),yt.ref=Xx(Be,Pe,ze),yt.return=Be,Be=yt)}return ne(Be);case C:e:{for(rr=ze.key;Pe!==null;){if(Pe.key===rr)if(Pe.tag===4&&Pe.stateNode.containerInfo===ze.containerInfo&&Pe.stateNode.implementation===ze.implementation){N(Be,Pe.sibling),Pe=M(Pe,ze.children||[]),Pe.return=Be,Be=Pe;break e}else{N(Be,Pe);break}else x(Be,Pe);Pe=Pe.sibling}Pe=BE(ze,Be.mode,yt),Pe.return=Be,Be=Pe}return ne(Be);case V:return rr=ze._init,Rs(Be,Pe,rr(ze._payload),yt)}if(le(ze))return qt(Be,Pe,ze,yt);if(I(ze))return Ht(Be,Pe,ze,yt);z1(Be,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Pe!==null&&Pe.tag===6?(N(Be,Pe.sibling),Pe=M(Pe,ze),Pe.return=Be,Be=Pe):(N(Be,Pe),Pe=$E(ze,Be.mode,yt),Pe.return=Be,Be=Pe),ne(Be)):N(Be,Pe)}return Rs}var Op=c$(!0),u$=c$(!1),q1=kd(null),W1=null,Rp=null,YC=null;function XC(){YC=Rp=W1=null}function JC(h){var x=q1.current;Zn(q1),h._currentValue=x}function ZC(h,x,N){for(;h!==null;){var T=h.alternate;if((h.childLanes&x)!==x?(h.childLanes|=x,T!==null&&(T.childLanes|=x)):T!==null&&(T.childLanes&x)!==x&&(T.childLanes|=x),h===N)break;h=h.return}}function Dp(h,x){W1=h,YC=Rp=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&x)!==0&&(to=!0),h.firstContext=null)}function ol(h){var x=h._currentValue;if(YC!==h)if(h={context:h,memoizedValue:x,next:null},Rp===null){if(W1===null)throw Error(r(308));Rp=h,W1.dependencies={lanes:0,firstContext:h}}else Rp=Rp.next=h;return x}var dh=null;function QC(h){dh===null?dh=[h]:dh.push(h)}function d$(h,x,N,T){var M=x.interleaved;return M===null?(N.next=N,QC(x)):(N.next=M.next,M.next=N),x.interleaved=N,ju(h,T)}function ju(h,x){h.lanes|=x;var N=h.alternate;for(N!==null&&(N.lanes|=x),N=h,h=h.return;h!==null;)h.childLanes|=x,N=h.alternate,N!==null&&(N.childLanes|=x),N=h,h=h.return;return N.tag===3?N.stateNode:null}var Td=!1;function eE(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f$(h,x){h=h.updateQueue,x.updateQueue===h&&(x.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Nu(h,x){return{eventTime:h,lane:x,tag:0,payload:null,callback:null,next:null}}function Ad(h,x,N){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(rn&2)!==0){var M=T.pending;return M===null?x.next=x:(x.next=M.next,M.next=x),T.pending=x,ju(h,N)}return M=T.interleaved,M===null?(x.next=x,QC(T)):(x.next=M.next,M.next=x),T.interleaved=x,ju(h,N)}function H1(h,x,N){if(x=x.updateQueue,x!==null&&(x=x.shared,(N&4194240)!==0)){var T=x.lanes;T&=h.pendingLanes,N|=T,x.lanes=N,mC(h,N)}}function h$(h,x){var N=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,N===T)){var M=null,q=null;if(N=N.firstBaseUpdate,N!==null){do{var ne={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};q===null?M=q=ne:q=q.next=ne,N=N.next}while(N!==null);q===null?M=q=x:q=q.next=x}else M=q=x;N={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:q,shared:T.shared,effects:T.effects},h.updateQueue=N;return}h=N.lastBaseUpdate,h===null?N.firstBaseUpdate=x:h.next=x,N.lastBaseUpdate=x}function G1(h,x,N,T){var M=h.updateQueue;Td=!1;var q=M.firstBaseUpdate,ne=M.lastBaseUpdate,je=M.shared.pending;if(je!==null){M.shared.pending=null;var Ae=je,Ke=Ae.next;Ae.next=null,ne===null?q=Ke:ne.next=Ke,ne=Ae;var mt=h.alternate;mt!==null&&(mt=mt.updateQueue,je=mt.lastBaseUpdate,je!==ne&&(je===null?mt.firstBaseUpdate=Ke:je.next=Ke,mt.lastBaseUpdate=Ae))}if(q!==null){var gt=M.baseState;ne=0,mt=Ke=Ae=null,je=q;do{var dt=je.lane,Dt=je.eventTime;if((T&dt)===dt){mt!==null&&(mt=mt.next={eventTime:Dt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var qt=h,Ht=je;switch(dt=x,Dt=N,Ht.tag){case 1:if(qt=Ht.payload,typeof qt=="function"){gt=qt.call(Dt,gt,dt);break e}gt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Ht.payload,dt=typeof qt=="function"?qt.call(Dt,gt,dt):qt,dt==null)break e;gt=U({},gt,dt);break e;case 2:Td=!0}}je.callback!==null&&je.lane!==0&&(h.flags|=64,dt=M.effects,dt===null?M.effects=[je]:dt.push(je))}else Dt={eventTime:Dt,lane:dt,tag:je.tag,payload:je.payload,callback:je.callback,next:null},mt===null?(Ke=mt=Dt,Ae=gt):mt=mt.next=Dt,ne|=dt;if(je=je.next,je===null){if(je=M.shared.pending,je===null)break;dt=je,je=dt.next,dt.next=null,M.lastBaseUpdate=dt,M.shared.pending=null}}while(!0);if(mt===null&&(Ae=gt),M.baseState=Ae,M.firstBaseUpdate=Ke,M.lastBaseUpdate=mt,x=M.shared.interleaved,x!==null){M=x;do ne|=M.lane,M=M.next;while(M!==x)}else q===null&&(M.shared.lanes=0);mh|=ne,h.lanes=ne,h.memoizedState=gt}}function m$(h,x,N){if(h=x.effects,x.effects=null,h!==null)for(x=0;x<h.length;x++){var T=h[x],M=T.callback;if(M!==null){if(T.callback=null,T=N,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var Jx={},Ac=kd(Jx),Zx=kd(Jx),Qx=kd(Jx);function fh(h){if(h===Jx)throw Error(r(174));return h}function tE(h,x){switch(zn(Qx,x),zn(Zx,h),zn(Ac,Jx),h=x.nodeType,h){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:_e(null,"");break;default:h=h===8?x.parentNode:x,x=h.namespaceURI||null,h=h.tagName,x=_e(x,h)}Zn(Ac),zn(Ac,x)}function Ip(){Zn(Ac),Zn(Zx),Zn(Qx)}function p$(h){fh(Qx.current);var x=fh(Ac.current),N=_e(x,h.type);x!==N&&(zn(Zx,h),zn(Ac,N))}function rE(h){Zx.current===h&&(Zn(Ac),Zn(Zx))}var fs=kd(0);function K1(h){for(var x=h;x!==null;){if(x.tag===13){var N=x.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var nE=[];function sE(){for(var h=0;h<nE.length;h++)nE[h]._workInProgressVersionPrimary=null;nE.length=0}var Y1=E.ReactCurrentDispatcher,aE=E.ReactCurrentBatchConfig,hh=0,hs=null,da=null,Ea=null,X1=!1,ev=!1,tv=0,ype=0;function oi(){throw Error(r(321))}function iE(h,x){if(x===null)return!1;for(var N=0;N<x.length&&N<h.length;N++)if(!Hl(h[N],x[N]))return!1;return!0}function oE(h,x,N,T,M,q){if(hh=q,hs=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Y1.current=h===null||h.memoizedState===null?jpe:Npe,h=N(T,M),ev){q=0;do{if(ev=!1,tv=0,25<=q)throw Error(r(301));q+=1,Ea=da=null,x.updateQueue=null,Y1.current=Spe,h=N(T,M)}while(ev)}if(Y1.current=Q1,x=da!==null&&da.next!==null,hh=0,Ea=da=hs=null,X1=!1,x)throw Error(r(300));return h}function lE(){var h=tv!==0;return tv=0,h}function Pc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?hs.memoizedState=Ea=h:Ea=Ea.next=h,Ea}function ll(){if(da===null){var h=hs.alternate;h=h!==null?h.memoizedState:null}else h=da.next;var x=Ea===null?hs.memoizedState:Ea.next;if(x!==null)Ea=x,da=h;else{if(h===null)throw Error(r(310));da=h,h={memoizedState:da.memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},Ea===null?hs.memoizedState=Ea=h:Ea=Ea.next=h}return Ea}function rv(h,x){return typeof x=="function"?x(h):x}function cE(h){var x=ll(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var T=da,M=T.baseQueue,q=N.pending;if(q!==null){if(M!==null){var ne=M.next;M.next=q.next,q.next=ne}T.baseQueue=M=q,N.pending=null}if(M!==null){q=M.next,T=T.baseState;var je=ne=null,Ae=null,Ke=q;do{var mt=Ke.lane;if((hh&mt)===mt)Ae!==null&&(Ae=Ae.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),T=Ke.hasEagerState?Ke.eagerState:h(T,Ke.action);else{var gt={lane:mt,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};Ae===null?(je=Ae=gt,ne=T):Ae=Ae.next=gt,hs.lanes|=mt,mh|=mt}Ke=Ke.next}while(Ke!==null&&Ke!==q);Ae===null?ne=T:Ae.next=je,Hl(T,x.memoizedState)||(to=!0),x.memoizedState=T,x.baseState=ne,x.baseQueue=Ae,N.lastRenderedState=T}if(h=N.interleaved,h!==null){M=h;do q=M.lane,hs.lanes|=q,mh|=q,M=M.next;while(M!==h)}else M===null&&(N.lanes=0);return[x.memoizedState,N.dispatch]}function uE(h){var x=ll(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var T=N.dispatch,M=N.pending,q=x.memoizedState;if(M!==null){N.pending=null;var ne=M=M.next;do q=h(q,ne.action),ne=ne.next;while(ne!==M);Hl(q,x.memoizedState)||(to=!0),x.memoizedState=q,x.baseQueue===null&&(x.baseState=q),N.lastRenderedState=q}return[q,T]}function g$(){}function x$(h,x){var N=hs,T=ll(),M=x(),q=!Hl(T.memoizedState,M);if(q&&(T.memoizedState=M,to=!0),T=T.queue,dE(b$.bind(null,N,T,h),[h]),T.getSnapshot!==x||q||Ea!==null&&Ea.memoizedState.tag&1){if(N.flags|=2048,nv(9,y$.bind(null,N,T,M,x),void 0,null),Ta===null)throw Error(r(349));(hh&30)!==0||v$(N,x,M)}return M}function v$(h,x,N){h.flags|=16384,h={getSnapshot:x,value:N},x=hs.updateQueue,x===null?(x={lastEffect:null,stores:null},hs.updateQueue=x,x.stores=[h]):(N=x.stores,N===null?x.stores=[h]:N.push(h))}function y$(h,x,N,T){x.value=N,x.getSnapshot=T,w$(x)&&_$(h)}function b$(h,x,N){return N(function(){w$(x)&&_$(h)})}function w$(h){var x=h.getSnapshot;h=h.value;try{var N=x();return!Hl(h,N)}catch{return!0}}function _$(h){var x=ju(h,1);x!==null&&Jl(x,h,1,-1)}function j$(h){var x=Pc();return typeof h=="function"&&(h=h()),x.memoizedState=x.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rv,lastRenderedState:h},x.queue=h,h=h.dispatch=_pe.bind(null,hs,h),[x.memoizedState,h]}function nv(h,x,N,T){return h={tag:h,create:x,destroy:N,deps:T,next:null},x=hs.updateQueue,x===null?(x={lastEffect:null,stores:null},hs.updateQueue=x,x.lastEffect=h.next=h):(N=x.lastEffect,N===null?x.lastEffect=h.next=h:(T=N.next,N.next=h,h.next=T,x.lastEffect=h)),h}function N$(){return ll().memoizedState}function J1(h,x,N,T){var M=Pc();hs.flags|=h,M.memoizedState=nv(1|x,N,void 0,T===void 0?null:T)}function Z1(h,x,N,T){var M=ll();T=T===void 0?null:T;var q=void 0;if(da!==null){var ne=da.memoizedState;if(q=ne.destroy,T!==null&&iE(T,ne.deps)){M.memoizedState=nv(x,N,q,T);return}}hs.flags|=h,M.memoizedState=nv(1|x,N,q,T)}function S$(h,x){return J1(8390656,8,h,x)}function dE(h,x){return Z1(2048,8,h,x)}function k$(h,x){return Z1(4,2,h,x)}function C$(h,x){return Z1(4,4,h,x)}function E$(h,x){if(typeof x=="function")return h=h(),x(h),function(){x(null)};if(x!=null)return h=h(),x.current=h,function(){x.current=null}}function T$(h,x,N){return N=N!=null?N.concat([h]):null,Z1(4,4,E$.bind(null,x,h),N)}function fE(){}function A$(h,x){var N=ll();x=x===void 0?null:x;var T=N.memoizedState;return T!==null&&x!==null&&iE(x,T[1])?T[0]:(N.memoizedState=[h,x],h)}function P$(h,x){var N=ll();x=x===void 0?null:x;var T=N.memoizedState;return T!==null&&x!==null&&iE(x,T[1])?T[0]:(h=h(),N.memoizedState=[h,x],h)}function O$(h,x,N){return(hh&21)===0?(h.baseState&&(h.baseState=!1,to=!0),h.memoizedState=N):(Hl(N,x)||(N=l8(),hs.lanes|=N,mh|=N,h.baseState=!0),x)}function bpe(h,x){var N=Nn;Nn=N!==0&&4>N?N:4,h(!0);var T=aE.transition;aE.transition={};try{h(!1),x()}finally{Nn=N,aE.transition=T}}function R$(){return ll().memoizedState}function wpe(h,x,N){var T=Dd(h);if(N={lane:T,action:N,hasEagerState:!1,eagerState:null,next:null},D$(h))I$(x,N);else if(N=d$(h,x,N,T),N!==null){var M=Pi();Jl(N,h,T,M),M$(N,x,T)}}function _pe(h,x,N){var T=Dd(h),M={lane:T,action:N,hasEagerState:!1,eagerState:null,next:null};if(D$(h))I$(x,M);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=x.lastRenderedReducer,q!==null))try{var ne=x.lastRenderedState,je=q(ne,N);if(M.hasEagerState=!0,M.eagerState=je,Hl(je,ne)){var Ae=x.interleaved;Ae===null?(M.next=M,QC(x)):(M.next=Ae.next,Ae.next=M),x.interleaved=M;return}}catch{}finally{}N=d$(h,x,M,T),N!==null&&(M=Pi(),Jl(N,h,T,M),M$(N,x,T))}}function D$(h){var x=h.alternate;return h===hs||x!==null&&x===hs}function I$(h,x){ev=X1=!0;var N=h.pending;N===null?x.next=x:(x.next=N.next,N.next=x),h.pending=x}function M$(h,x,N){if((N&4194240)!==0){var T=x.lanes;T&=h.pendingLanes,N|=T,x.lanes=N,mC(h,N)}}var Q1={readContext:ol,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},jpe={readContext:ol,useCallback:function(h,x){return Pc().memoizedState=[h,x===void 0?null:x],h},useContext:ol,useEffect:S$,useImperativeHandle:function(h,x,N){return N=N!=null?N.concat([h]):null,J1(4194308,4,E$.bind(null,x,h),N)},useLayoutEffect:function(h,x){return J1(4194308,4,h,x)},useInsertionEffect:function(h,x){return J1(4,2,h,x)},useMemo:function(h,x){var N=Pc();return x=x===void 0?null:x,h=h(),N.memoizedState=[h,x],h},useReducer:function(h,x,N){var T=Pc();return x=N!==void 0?N(x):x,T.memoizedState=T.baseState=x,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:x},T.queue=h,h=h.dispatch=wpe.bind(null,hs,h),[T.memoizedState,h]},useRef:function(h){var x=Pc();return h={current:h},x.memoizedState=h},useState:j$,useDebugValue:fE,useDeferredValue:function(h){return Pc().memoizedState=h},useTransition:function(){var h=j$(!1),x=h[0];return h=bpe.bind(null,h[1]),Pc().memoizedState=h,[x,h]},useMutableSource:function(){},useSyncExternalStore:function(h,x,N){var T=hs,M=Pc();if(is){if(N===void 0)throw Error(r(407));N=N()}else{if(N=x(),Ta===null)throw Error(r(349));(hh&30)!==0||v$(T,x,N)}M.memoizedState=N;var q={value:N,getSnapshot:x};return M.queue=q,S$(b$.bind(null,T,q,h),[h]),T.flags|=2048,nv(9,y$.bind(null,T,q,N,x),void 0,null),N},useId:function(){var h=Pc(),x=Ta.identifierPrefix;if(is){var N=_u,T=wu;N=(T&~(1<<32-Os(T)-1)).toString(32)+N,x=":"+x+"R"+N,N=tv++,0<N&&(x+="H"+N.toString(32)),x+=":"}else N=ype++,x=":"+x+"r"+N.toString(32)+":";return h.memoizedState=x},unstable_isNewReconciler:!1},Npe={readContext:ol,useCallback:A$,useContext:ol,useEffect:dE,useImperativeHandle:T$,useInsertionEffect:k$,useLayoutEffect:C$,useMemo:P$,useReducer:cE,useRef:N$,useState:function(){return cE(rv)},useDebugValue:fE,useDeferredValue:function(h){var x=ll();return O$(x,da.memoizedState,h)},useTransition:function(){var h=cE(rv)[0],x=ll().memoizedState;return[h,x]},useMutableSource:g$,useSyncExternalStore:x$,useId:R$,unstable_isNewReconciler:!1},Spe={readContext:ol,useCallback:A$,useContext:ol,useEffect:dE,useImperativeHandle:T$,useInsertionEffect:k$,useLayoutEffect:C$,useMemo:P$,useReducer:uE,useRef:N$,useState:function(){return uE(rv)},useDebugValue:fE,useDeferredValue:function(h){var x=ll();return da===null?x.memoizedState=h:O$(x,da.memoizedState,h)},useTransition:function(){var h=uE(rv)[0],x=ll().memoizedState;return[h,x]},useMutableSource:g$,useSyncExternalStore:x$,useId:R$,unstable_isNewReconciler:!1};function Kl(h,x){if(h&&h.defaultProps){x=U({},x),h=h.defaultProps;for(var N in h)x[N]===void 0&&(x[N]=h[N]);return x}return x}function hE(h,x,N,T){x=h.memoizedState,N=N(T,x),N=N==null?x:U({},x,N),h.memoizedState=N,h.lanes===0&&(h.updateQueue.baseState=N)}var e_={isMounted:function(h){return(h=h._reactInternals)?ye(h)===h:!1},enqueueSetState:function(h,x,N){h=h._reactInternals;var T=Pi(),M=Dd(h),q=Nu(T,M);q.payload=x,N!=null&&(q.callback=N),x=Ad(h,q,M),x!==null&&(Jl(x,h,M,T),H1(x,h,M))},enqueueReplaceState:function(h,x,N){h=h._reactInternals;var T=Pi(),M=Dd(h),q=Nu(T,M);q.tag=1,q.payload=x,N!=null&&(q.callback=N),x=Ad(h,q,M),x!==null&&(Jl(x,h,M,T),H1(x,h,M))},enqueueForceUpdate:function(h,x){h=h._reactInternals;var N=Pi(),T=Dd(h),M=Nu(N,T);M.tag=2,x!=null&&(M.callback=x),x=Ad(h,M,T),x!==null&&(Jl(x,h,T,N),H1(x,h,T))}};function F$(h,x,N,T,M,q,ne){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,q,ne):x.prototype&&x.prototype.isPureReactComponent?!zx(N,T)||!zx(M,q):!0}function L$(h,x,N){var T=!1,M=Cd,q=x.contextType;return typeof q=="object"&&q!==null?q=ol(q):(M=eo(x)?lh:ii.current,T=x.contextTypes,q=(T=T!=null)?Ep(h,M):Cd),x=new x(N,q),h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=e_,h.stateNode=x,x._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=q),x}function $$(h,x,N,T){h=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(N,T),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(N,T),x.state!==h&&e_.enqueueReplaceState(x,x.state,null)}function mE(h,x,N,T){var M=h.stateNode;M.props=N,M.state=h.memoizedState,M.refs={},eE(h);var q=x.contextType;typeof q=="object"&&q!==null?M.context=ol(q):(q=eo(x)?lh:ii.current,M.context=Ep(h,q)),M.state=h.memoizedState,q=x.getDerivedStateFromProps,typeof q=="function"&&(hE(h,x,q,N),M.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(x=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),x!==M.state&&e_.enqueueReplaceState(M,M.state,null),G1(h,N,M,T),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}function Mp(h,x){try{var N="",T=x;do N+=Q(T),T=T.return;while(T);var M=N}catch(q){M=`
Error generating stack: `+q.message+`
`+q.stack}return{value:h,source:x,stack:M,digest:null}}function pE(h,x,N){return{value:h,source:null,stack:N??null,digest:x??null}}function gE(h,x){try{console.error(x.value)}catch(N){setTimeout(function(){throw N})}}var kpe=typeof WeakMap=="function"?WeakMap:Map;function B$(h,x,N){N=Nu(-1,N),N.tag=3,N.payload={element:null};var T=x.value;return N.callback=function(){o_||(o_=!0,PE=T),gE(h,x)},N}function U$(h,x,N){N=Nu(-1,N),N.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var M=x.value;N.payload=function(){return T(M)},N.callback=function(){gE(h,x)}}var q=h.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(N.callback=function(){gE(h,x),typeof T!="function"&&(Od===null?Od=new Set([this]):Od.add(this));var ne=x.stack;this.componentDidCatch(x.value,{componentStack:ne!==null?ne:""})}),N}function V$(h,x,N){var T=h.pingCache;if(T===null){T=h.pingCache=new kpe;var M=new Set;T.set(x,M)}else M=T.get(x),M===void 0&&(M=new Set,T.set(x,M));M.has(N)||(M.add(N),h=Bpe.bind(null,h,x,N),x.then(h,h))}function z$(h){do{var x;if((x=h.tag===13)&&(x=h.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return h;h=h.return}while(h!==null);return null}function q$(h,x,N,T,M){return(h.mode&1)===0?(h===x?h.flags|=65536:(h.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(x=Nu(-1,1),x.tag=2,Ad(N,x,1))),N.lanes|=1),h):(h.flags|=65536,h.lanes=M,h)}var Cpe=E.ReactCurrentOwner,to=!1;function Ai(h,x,N,T){x.child=h===null?u$(x,null,N,T):Op(x,h.child,N,T)}function W$(h,x,N,T,M){N=N.render;var q=x.ref;return Dp(x,M),T=oE(h,x,N,T,q,M),N=lE(),h!==null&&!to?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~M,Su(h,x,M)):(is&&N&&qC(x),x.flags|=1,Ai(h,x,T,M),x.child)}function H$(h,x,N,T,M){if(h===null){var q=N.type;return typeof q=="function"&&!LE(q)&&q.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(x.tag=15,x.type=q,G$(h,x,q,T,M)):(h=h_(N.type,null,T,x,x.mode,M),h.ref=x.ref,h.return=x,x.child=h)}if(q=h.child,(h.lanes&M)===0){var ne=q.memoizedProps;if(N=N.compare,N=N!==null?N:zx,N(ne,T)&&h.ref===x.ref)return Su(h,x,M)}return x.flags|=1,h=Md(q,T),h.ref=x.ref,h.return=x,x.child=h}function G$(h,x,N,T,M){if(h!==null){var q=h.memoizedProps;if(zx(q,T)&&h.ref===x.ref)if(to=!1,x.pendingProps=T=q,(h.lanes&M)!==0)(h.flags&131072)!==0&&(to=!0);else return x.lanes=h.lanes,Su(h,x,M)}return xE(h,x,N,T,M)}function K$(h,x,N){var T=x.pendingProps,M=T.children,q=h!==null?h.memoizedState:null;if(T.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Lp,Eo),Eo|=N;else{if((N&1073741824)===0)return h=q!==null?q.baseLanes|N:N,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:h,cachePool:null,transitions:null},x.updateQueue=null,zn(Lp,Eo),Eo|=h,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=q!==null?q.baseLanes:N,zn(Lp,Eo),Eo|=T}else q!==null?(T=q.baseLanes|N,x.memoizedState=null):T=N,zn(Lp,Eo),Eo|=T;return Ai(h,x,M,N),x.child}function Y$(h,x){var N=x.ref;(h===null&&N!==null||h!==null&&h.ref!==N)&&(x.flags|=512,x.flags|=2097152)}function xE(h,x,N,T,M){var q=eo(N)?lh:ii.current;return q=Ep(x,q),Dp(x,M),N=oE(h,x,N,T,q,M),T=lE(),h!==null&&!to?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~M,Su(h,x,M)):(is&&T&&qC(x),x.flags|=1,Ai(h,x,N,M),x.child)}function X$(h,x,N,T,M){if(eo(N)){var q=!0;L1(x)}else q=!1;if(Dp(x,M),x.stateNode===null)r_(h,x),L$(x,N,T),mE(x,N,T,M),T=!0;else if(h===null){var ne=x.stateNode,je=x.memoizedProps;ne.props=je;var Ae=ne.context,Ke=N.contextType;typeof Ke=="object"&&Ke!==null?Ke=ol(Ke):(Ke=eo(N)?lh:ii.current,Ke=Ep(x,Ke));var mt=N.getDerivedStateFromProps,gt=typeof mt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";gt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(je!==T||Ae!==Ke)&&$$(x,ne,T,Ke),Td=!1;var dt=x.memoizedState;ne.state=dt,G1(x,T,ne,M),Ae=x.memoizedState,je!==T||dt!==Ae||Qi.current||Td?(typeof mt=="function"&&(hE(x,N,mt,T),Ae=x.memoizedState),(je=Td||F$(x,N,je,T,dt,Ae,Ke))?(gt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=T,x.memoizedState=Ae),ne.props=T,ne.state=Ae,ne.context=Ke,T=je):(typeof ne.componentDidMount=="function"&&(x.flags|=4194308),T=!1)}else{ne=x.stateNode,f$(h,x),je=x.memoizedProps,Ke=x.type===x.elementType?je:Kl(x.type,je),ne.props=Ke,gt=x.pendingProps,dt=ne.context,Ae=N.contextType,typeof Ae=="object"&&Ae!==null?Ae=ol(Ae):(Ae=eo(N)?lh:ii.current,Ae=Ep(x,Ae));var Dt=N.getDerivedStateFromProps;(mt=typeof Dt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(je!==gt||dt!==Ae)&&$$(x,ne,T,Ae),Td=!1,dt=x.memoizedState,ne.state=dt,G1(x,T,ne,M);var qt=x.memoizedState;je!==gt||dt!==qt||Qi.current||Td?(typeof Dt=="function"&&(hE(x,N,Dt,T),qt=x.memoizedState),(Ke=Td||F$(x,N,Ke,T,dt,qt,Ae)||!1)?(mt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(T,qt,Ae),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(T,qt,Ae)),typeof ne.componentDidUpdate=="function"&&(x.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ne.componentDidUpdate!="function"||je===h.memoizedProps&&dt===h.memoizedState||(x.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&dt===h.memoizedState||(x.flags|=1024),x.memoizedProps=T,x.memoizedState=qt),ne.props=T,ne.state=qt,ne.context=Ae,T=Ke):(typeof ne.componentDidUpdate!="function"||je===h.memoizedProps&&dt===h.memoizedState||(x.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&dt===h.memoizedState||(x.flags|=1024),T=!1)}return vE(h,x,N,T,q,M)}function vE(h,x,N,T,M,q){Y$(h,x);var ne=(x.flags&128)!==0;if(!T&&!ne)return M&&t$(x,N,!1),Su(h,x,q);T=x.stateNode,Cpe.current=x;var je=ne&&typeof N.getDerivedStateFromError!="function"?null:T.render();return x.flags|=1,h!==null&&ne?(x.child=Op(x,h.child,null,q),x.child=Op(x,null,je,q)):Ai(h,x,je,q),x.memoizedState=T.state,M&&t$(x,N,!0),x.child}function J$(h){var x=h.stateNode;x.pendingContext?Q8(h,x.pendingContext,x.pendingContext!==x.context):x.context&&Q8(h,x.context,!1),tE(h,x.containerInfo)}function Z$(h,x,N,T,M){return Pp(),KC(M),x.flags|=256,Ai(h,x,N,T),x.child}var yE={dehydrated:null,treeContext:null,retryLane:0};function bE(h){return{baseLanes:h,cachePool:null,transitions:null}}function Q$(h,x,N){var T=x.pendingProps,M=fs.current,q=!1,ne=(x.flags&128)!==0,je;if((je=ne)||(je=h!==null&&h.memoizedState===null?!1:(M&2)!==0),je?(q=!0,x.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),zn(fs,M&1),h===null)return GC(x),h=x.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((x.mode&1)===0?x.lanes=1:h.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(ne=T.children,h=T.fallback,q?(T=x.mode,q=x.child,ne={mode:"hidden",children:ne},(T&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=ne):q=m_(ne,T,0,null),h=vh(h,T,N,null),q.return=x,h.return=x,q.sibling=h,x.child=q,x.child.memoizedState=bE(N),x.memoizedState=yE,h):wE(x,ne));if(M=h.memoizedState,M!==null&&(je=M.dehydrated,je!==null))return Epe(h,x,ne,T,je,M,N);if(q){q=T.fallback,ne=x.mode,M=h.child,je=M.sibling;var Ae={mode:"hidden",children:T.children};return(ne&1)===0&&x.child!==M?(T=x.child,T.childLanes=0,T.pendingProps=Ae,x.deletions=null):(T=Md(M,Ae),T.subtreeFlags=M.subtreeFlags&14680064),je!==null?q=Md(je,q):(q=vh(q,ne,N,null),q.flags|=2),q.return=x,T.return=x,T.sibling=q,x.child=T,T=q,q=x.child,ne=h.child.memoizedState,ne=ne===null?bE(N):{baseLanes:ne.baseLanes|N,cachePool:null,transitions:ne.transitions},q.memoizedState=ne,q.childLanes=h.childLanes&~N,x.memoizedState=yE,T}return q=h.child,h=q.sibling,T=Md(q,{mode:"visible",children:T.children}),(x.mode&1)===0&&(T.lanes=N),T.return=x,T.sibling=null,h!==null&&(N=x.deletions,N===null?(x.deletions=[h],x.flags|=16):N.push(h)),x.child=T,x.memoizedState=null,T}function wE(h,x){return x=m_({mode:"visible",children:x},h.mode,0,null),x.return=h,h.child=x}function t_(h,x,N,T){return T!==null&&KC(T),Op(x,h.child,null,N),h=wE(x,x.pendingProps.children),h.flags|=2,x.memoizedState=null,h}function Epe(h,x,N,T,M,q,ne){if(N)return x.flags&256?(x.flags&=-257,T=pE(Error(r(422))),t_(h,x,ne,T)):x.memoizedState!==null?(x.child=h.child,x.flags|=128,null):(q=T.fallback,M=x.mode,T=m_({mode:"visible",children:T.children},M,0,null),q=vh(q,M,ne,null),q.flags|=2,T.return=x,q.return=x,T.sibling=q,x.child=T,(x.mode&1)!==0&&Op(x,h.child,null,ne),x.child.memoizedState=bE(ne),x.memoizedState=yE,q);if((x.mode&1)===0)return t_(h,x,ne,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var je=T.dgst;return T=je,q=Error(r(419)),T=pE(q,T,void 0),t_(h,x,ne,T)}if(je=(ne&h.childLanes)!==0,to||je){if(T=Ta,T!==null){switch(ne&-ne){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|ne))!==0?0:M,M!==0&&M!==q.retryLane&&(q.retryLane=M,ju(h,M),Jl(T,h,M,-1))}return FE(),T=pE(Error(r(421))),t_(h,x,ne,T)}return M.data==="$?"?(x.flags|=128,x.child=h.child,x=Upe.bind(null,h),M._reactRetry=x,null):(h=q.treeContext,Co=Sd(M.nextSibling),ko=x,is=!0,Gl=null,h!==null&&(al[il++]=wu,al[il++]=_u,al[il++]=ch,wu=h.id,_u=h.overflow,ch=x),x=wE(x,T.children),x.flags|=4096,x)}function eB(h,x,N){h.lanes|=x;var T=h.alternate;T!==null&&(T.lanes|=x),ZC(h.return,x,N)}function _E(h,x,N,T,M){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:T,tail:N,tailMode:M}:(q.isBackwards=x,q.rendering=null,q.renderingStartTime=0,q.last=T,q.tail=N,q.tailMode=M)}function tB(h,x,N){var T=x.pendingProps,M=T.revealOrder,q=T.tail;if(Ai(h,x,T.children,N),T=fs.current,(T&2)!==0)T=T&1|2,x.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=x.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&eB(h,N,x);else if(h.tag===19)eB(h,N,x);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===x)break e;for(;h.sibling===null;){if(h.return===null||h.return===x)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(zn(fs,T),(x.mode&1)===0)x.memoizedState=null;else switch(M){case"forwards":for(N=x.child,M=null;N!==null;)h=N.alternate,h!==null&&K1(h)===null&&(M=N),N=N.sibling;N=M,N===null?(M=x.child,x.child=null):(M=N.sibling,N.sibling=null),_E(x,!1,M,N,q);break;case"backwards":for(N=null,M=x.child,x.child=null;M!==null;){if(h=M.alternate,h!==null&&K1(h)===null){x.child=M;break}h=M.sibling,M.sibling=N,N=M,M=h}_E(x,!0,N,null,q);break;case"together":_E(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function r_(h,x){(x.mode&1)===0&&h!==null&&(h.alternate=null,x.alternate=null,x.flags|=2)}function Su(h,x,N){if(h!==null&&(x.dependencies=h.dependencies),mh|=x.lanes,(N&x.childLanes)===0)return null;if(h!==null&&x.child!==h.child)throw Error(r(153));if(x.child!==null){for(h=x.child,N=Md(h,h.pendingProps),x.child=N,N.return=x;h.sibling!==null;)h=h.sibling,N=N.sibling=Md(h,h.pendingProps),N.return=x;N.sibling=null}return x.child}function Tpe(h,x,N){switch(x.tag){case 3:J$(x),Pp();break;case 5:p$(x);break;case 1:eo(x.type)&&L1(x);break;case 4:tE(x,x.stateNode.containerInfo);break;case 10:var T=x.type._context,M=x.memoizedProps.value;zn(q1,T._currentValue),T._currentValue=M;break;case 13:if(T=x.memoizedState,T!==null)return T.dehydrated!==null?(zn(fs,fs.current&1),x.flags|=128,null):(N&x.child.childLanes)!==0?Q$(h,x,N):(zn(fs,fs.current&1),h=Su(h,x,N),h!==null?h.sibling:null);zn(fs,fs.current&1);break;case 19:if(T=(N&x.childLanes)!==0,(h.flags&128)!==0){if(T)return tB(h,x,N);x.flags|=128}if(M=x.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),zn(fs,fs.current),T)break;return null;case 22:case 23:return x.lanes=0,K$(h,x,N)}return Su(h,x,N)}var rB,jE,nB,sB;rB=function(h,x){for(var N=x.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===x)break;for(;N.sibling===null;){if(N.return===null||N.return===x)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},jE=function(){},nB=function(h,x,N,T){var M=h.memoizedProps;if(M!==T){h=x.stateNode,fh(Ac.current);var q=null;switch(N){case"input":M=ae(h,M),T=ae(h,T),q=[];break;case"select":M=U({},M,{value:void 0}),T=U({},T,{value:void 0}),q=[];break;case"textarea":M=Oe(h,M),T=Oe(h,T),q=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=I1)}at(N,T);var ne;N=null;for(Ke in M)if(!T.hasOwnProperty(Ke)&&M.hasOwnProperty(Ke)&&M[Ke]!=null)if(Ke==="style"){var je=M[Ke];for(ne in je)je.hasOwnProperty(ne)&&(N||(N={}),N[ne]="")}else Ke!=="dangerouslySetInnerHTML"&&Ke!=="children"&&Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&Ke!=="autoFocus"&&(a.hasOwnProperty(Ke)?q||(q=[]):(q=q||[]).push(Ke,null));for(Ke in T){var Ae=T[Ke];if(je=M?.[Ke],T.hasOwnProperty(Ke)&&Ae!==je&&(Ae!=null||je!=null))if(Ke==="style")if(je){for(ne in je)!je.hasOwnProperty(ne)||Ae&&Ae.hasOwnProperty(ne)||(N||(N={}),N[ne]="");for(ne in Ae)Ae.hasOwnProperty(ne)&&je[ne]!==Ae[ne]&&(N||(N={}),N[ne]=Ae[ne])}else N||(q||(q=[]),q.push(Ke,N)),N=Ae;else Ke==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,je=je?je.__html:void 0,Ae!=null&&je!==Ae&&(q=q||[]).push(Ke,Ae)):Ke==="children"?typeof Ae!="string"&&typeof Ae!="number"||(q=q||[]).push(Ke,""+Ae):Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ke)?(Ae!=null&&Ke==="onScroll"&&Jn("scroll",h),q||je===Ae||(q=[])):(q=q||[]).push(Ke,Ae))}N&&(q=q||[]).push("style",N);var Ke=q;(x.updateQueue=Ke)&&(x.flags|=4)}},sB=function(h,x,N,T){N!==T&&(x.flags|=4)};function sv(h,x){if(!is)switch(h.tailMode){case"hidden":x=h.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?h.tail=null:N.sibling=null;break;case"collapsed":N=h.tail;for(var T=null;N!==null;)N.alternate!==null&&(T=N),N=N.sibling;T===null?x||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function li(h){var x=h.alternate!==null&&h.alternate.child===h.child,N=0,T=0;if(x)for(var M=h.child;M!==null;)N|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)N|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=T,h.childLanes=N,x}function Ape(h,x,N){var T=x.pendingProps;switch(WC(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(x),null;case 1:return eo(x.type)&&F1(),li(x),null;case 3:return T=x.stateNode,Ip(),Zn(Qi),Zn(ii),sE(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(V1(x)?x.flags|=4:h===null||h.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Gl!==null&&(DE(Gl),Gl=null))),jE(h,x),li(x),null;case 5:rE(x);var M=fh(Qx.current);if(N=x.type,h!==null&&x.stateNode!=null)nB(h,x,N,T,M),h.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!T){if(x.stateNode===null)throw Error(r(166));return li(x),null}if(h=fh(Ac.current),V1(x)){T=x.stateNode,N=x.type;var q=x.memoizedProps;switch(T[Tc]=x,T[Kx]=q,h=(x.mode&1)!==0,N){case"dialog":Jn("cancel",T),Jn("close",T);break;case"iframe":case"object":case"embed":Jn("load",T);break;case"video":case"audio":for(M=0;M<Wx.length;M++)Jn(Wx[M],T);break;case"source":Jn("error",T);break;case"img":case"image":case"link":Jn("error",T),Jn("load",T);break;case"details":Jn("toggle",T);break;case"input":Ne(T,q),Jn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!q.multiple},Jn("invalid",T);break;case"textarea":Ge(T,q),Jn("invalid",T)}at(N,q),M=null;for(var ne in q)if(q.hasOwnProperty(ne)){var je=q[ne];ne==="children"?typeof je=="string"?T.textContent!==je&&(q.suppressHydrationWarning!==!0&&D1(T.textContent,je,h),M=["children",je]):typeof je=="number"&&T.textContent!==""+je&&(q.suppressHydrationWarning!==!0&&D1(T.textContent,je,h),M=["children",""+je]):a.hasOwnProperty(ne)&&je!=null&&ne==="onScroll"&&Jn("scroll",T)}switch(N){case"input":se(T),qe(T,q,!0);break;case"textarea":se(T),Se(T);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(T.onclick=I1)}T=M,x.updateQueue=T,T!==null&&(x.flags|=4)}else{ne=M.nodeType===9?M:M.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=te(N)),h==="http://www.w3.org/1999/xhtml"?N==="script"?(h=ne.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=ne.createElement(N,{is:T.is}):(h=ne.createElement(N),N==="select"&&(ne=h,T.multiple?ne.multiple=!0:T.size&&(ne.size=T.size))):h=ne.createElementNS(h,N),h[Tc]=x,h[Kx]=T,rB(h,x,!1,!1),x.stateNode=h;e:{switch(ne=Xt(N,T),N){case"dialog":Jn("cancel",h),Jn("close",h),M=T;break;case"iframe":case"object":case"embed":Jn("load",h),M=T;break;case"video":case"audio":for(M=0;M<Wx.length;M++)Jn(Wx[M],h);M=T;break;case"source":Jn("error",h),M=T;break;case"img":case"image":case"link":Jn("error",h),Jn("load",h),M=T;break;case"details":Jn("toggle",h),M=T;break;case"input":Ne(h,T),M=ae(h,T),Jn("invalid",h);break;case"option":M=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},M=U({},T,{value:void 0}),Jn("invalid",h);break;case"textarea":Ge(h,T),M=Oe(h,T),Jn("invalid",h);break;default:M=T}at(N,M),je=M;for(q in je)if(je.hasOwnProperty(q)){var Ae=je[q];q==="style"?ot(h,Ae):q==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,Ae!=null&&Re(h,Ae)):q==="children"?typeof Ae=="string"?(N!=="textarea"||Ae!=="")&&De(h,Ae):typeof Ae=="number"&&De(h,""+Ae):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?Ae!=null&&q==="onScroll"&&Jn("scroll",h):Ae!=null&&j(h,q,Ae,ne))}switch(N){case"input":se(h),qe(h,T,!1);break;case"textarea":se(h),Se(h);break;case"option":T.value!=null&&h.setAttribute("value",""+pe(T.value));break;case"select":h.multiple=!!T.multiple,q=T.value,q!=null?we(h,!!T.multiple,q,!1):T.defaultValue!=null&&we(h,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(h.onclick=I1)}switch(N){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return li(x),null;case 6:if(h&&x.stateNode!=null)sB(h,x,h.memoizedProps,T);else{if(typeof T!="string"&&x.stateNode===null)throw Error(r(166));if(N=fh(Qx.current),fh(Ac.current),V1(x)){if(T=x.stateNode,N=x.memoizedProps,T[Tc]=x,(q=T.nodeValue!==N)&&(h=ko,h!==null))switch(h.tag){case 3:D1(T.nodeValue,N,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&D1(T.nodeValue,N,(h.mode&1)!==0)}q&&(x.flags|=4)}else T=(N.nodeType===9?N:N.ownerDocument).createTextNode(T),T[Tc]=x,x.stateNode=T}return li(x),null;case 13:if(Zn(fs),T=x.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(is&&Co!==null&&(x.mode&1)!==0&&(x.flags&128)===0)o$(),Pp(),x.flags|=98560,q=!1;else if(q=V1(x),T!==null&&T.dehydrated!==null){if(h===null){if(!q)throw Error(r(318));if(q=x.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(r(317));q[Tc]=x}else Pp(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;li(x),q=!1}else Gl!==null&&(DE(Gl),Gl=null),q=!0;if(!q)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=N,x):(T=T!==null,T!==(h!==null&&h.memoizedState!==null)&&T&&(x.child.flags|=8192,(x.mode&1)!==0&&(h===null||(fs.current&1)!==0?fa===0&&(fa=3):FE())),x.updateQueue!==null&&(x.flags|=4),li(x),null);case 4:return Ip(),jE(h,x),h===null&&Hx(x.stateNode.containerInfo),li(x),null;case 10:return JC(x.type._context),li(x),null;case 17:return eo(x.type)&&F1(),li(x),null;case 19:if(Zn(fs),q=x.memoizedState,q===null)return li(x),null;if(T=(x.flags&128)!==0,ne=q.rendering,ne===null)if(T)sv(q,!1);else{if(fa!==0||h!==null&&(h.flags&128)!==0)for(h=x.child;h!==null;){if(ne=K1(h),ne!==null){for(x.flags|=128,sv(q,!1),T=ne.updateQueue,T!==null&&(x.updateQueue=T,x.flags|=4),x.subtreeFlags=0,T=N,N=x.child;N!==null;)q=N,h=T,q.flags&=14680066,ne=q.alternate,ne===null?(q.childLanes=0,q.lanes=h,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=ne.childLanes,q.lanes=ne.lanes,q.child=ne.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=ne.memoizedProps,q.memoizedState=ne.memoizedState,q.updateQueue=ne.updateQueue,q.type=ne.type,h=ne.dependencies,q.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),N=N.sibling;return zn(fs,fs.current&1|2),x.child}h=h.sibling}q.tail!==null&&it()>$p&&(x.flags|=128,T=!0,sv(q,!1),x.lanes=4194304)}else{if(!T)if(h=K1(ne),h!==null){if(x.flags|=128,T=!0,N=h.updateQueue,N!==null&&(x.updateQueue=N,x.flags|=4),sv(q,!0),q.tail===null&&q.tailMode==="hidden"&&!ne.alternate&&!is)return li(x),null}else 2*it()-q.renderingStartTime>$p&&N!==1073741824&&(x.flags|=128,T=!0,sv(q,!1),x.lanes=4194304);q.isBackwards?(ne.sibling=x.child,x.child=ne):(N=q.last,N!==null?N.sibling=ne:x.child=ne,q.last=ne)}return q.tail!==null?(x=q.tail,q.rendering=x,q.tail=x.sibling,q.renderingStartTime=it(),x.sibling=null,N=fs.current,zn(fs,T?N&1|2:N&1),x):(li(x),null);case 22:case 23:return ME(),T=x.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(x.flags|=8192),T&&(x.mode&1)!==0?(Eo&1073741824)!==0&&(li(x),x.subtreeFlags&6&&(x.flags|=8192)):li(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function Ppe(h,x){switch(WC(x),x.tag){case 1:return eo(x.type)&&F1(),h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 3:return Ip(),Zn(Qi),Zn(ii),sE(),h=x.flags,(h&65536)!==0&&(h&128)===0?(x.flags=h&-65537|128,x):null;case 5:return rE(x),null;case 13:if(Zn(fs),h=x.memoizedState,h!==null&&h.dehydrated!==null){if(x.alternate===null)throw Error(r(340));Pp()}return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 19:return Zn(fs),null;case 4:return Ip(),null;case 10:return JC(x.type._context),null;case 22:case 23:return ME(),null;case 24:return null;default:return null}}var n_=!1,ci=!1,Ope=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Fp(h,x){var N=h.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(T){bs(h,x,T)}else N.current=null}function NE(h,x,N){try{N()}catch(T){bs(h,x,T)}}var aB=!1;function Rpe(h,x){if(MC=j1,h=F8(),EC(h)){if("selectionStart"in h)var N={start:h.selectionStart,end:h.selectionEnd};else e:{N=(N=h.ownerDocument)&&N.defaultView||window;var T=N.getSelection&&N.getSelection();if(T&&T.rangeCount!==0){N=T.anchorNode;var M=T.anchorOffset,q=T.focusNode;T=T.focusOffset;try{N.nodeType,q.nodeType}catch{N=null;break e}var ne=0,je=-1,Ae=-1,Ke=0,mt=0,gt=h,dt=null;t:for(;;){for(var Dt;gt!==N||M!==0&&gt.nodeType!==3||(je=ne+M),gt!==q||T!==0&&gt.nodeType!==3||(Ae=ne+T),gt.nodeType===3&&(ne+=gt.nodeValue.length),(Dt=gt.firstChild)!==null;)dt=gt,gt=Dt;for(;;){if(gt===h)break t;if(dt===N&&++Ke===M&&(je=ne),dt===q&&++mt===T&&(Ae=ne),(Dt=gt.nextSibling)!==null)break;gt=dt,dt=gt.parentNode}gt=Dt}N=je===-1||Ae===-1?null:{start:je,end:Ae}}else N=null}N=N||{start:0,end:0}}else N=null;for(FC={focusedElem:h,selectionRange:N},j1=!1,$t=x;$t!==null;)if(x=$t,h=x.child,(x.subtreeFlags&1028)!==0&&h!==null)h.return=x,$t=h;else for(;$t!==null;){x=$t;try{var qt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(qt!==null){var Ht=qt.memoizedProps,Rs=qt.memoizedState,Be=x.stateNode,Pe=Be.getSnapshotBeforeUpdate(x.elementType===x.type?Ht:Kl(x.type,Ht),Rs);Be.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var ze=x.stateNode.containerInfo;ze.nodeType===1?ze.textContent="":ze.nodeType===9&&ze.documentElement&&ze.removeChild(ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(yt){bs(x,x.return,yt)}if(h=x.sibling,h!==null){h.return=x.return,$t=h;break}$t=x.return}return qt=aB,aB=!1,qt}function av(h,x,N){var T=x.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&h)===h){var q=M.destroy;M.destroy=void 0,q!==void 0&&NE(x,N,q)}M=M.next}while(M!==T)}}function s_(h,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&h)===h){var T=N.create;N.destroy=T()}N=N.next}while(N!==x)}}function SE(h){var x=h.ref;if(x!==null){var N=h.stateNode;switch(h.tag){case 5:h=N;break;default:h=N}typeof x=="function"?x(h):x.current=h}}function iB(h){var x=h.alternate;x!==null&&(h.alternate=null,iB(x)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(x=h.stateNode,x!==null&&(delete x[Tc],delete x[Kx],delete x[UC],delete x[ppe],delete x[gpe])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function oB(h){return h.tag===5||h.tag===3||h.tag===4}function lB(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||oB(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function kE(h,x,N){var T=h.tag;if(T===5||T===6)h=h.stateNode,x?N.nodeType===8?N.parentNode.insertBefore(h,x):N.insertBefore(h,x):(N.nodeType===8?(x=N.parentNode,x.insertBefore(h,N)):(x=N,x.appendChild(h)),N=N._reactRootContainer,N!=null||x.onclick!==null||(x.onclick=I1));else if(T!==4&&(h=h.child,h!==null))for(kE(h,x,N),h=h.sibling;h!==null;)kE(h,x,N),h=h.sibling}function CE(h,x,N){var T=h.tag;if(T===5||T===6)h=h.stateNode,x?N.insertBefore(h,x):N.appendChild(h);else if(T!==4&&(h=h.child,h!==null))for(CE(h,x,N),h=h.sibling;h!==null;)CE(h,x,N),h=h.sibling}var Wa=null,Yl=!1;function Pd(h,x,N){for(N=N.child;N!==null;)cB(h,x,N),N=N.sibling}function cB(h,x,N){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(ai,N)}catch{}switch(N.tag){case 5:ci||Fp(N,x);case 6:var T=Wa,M=Yl;Wa=null,Pd(h,x,N),Wa=T,Yl=M,Wa!==null&&(Yl?(h=Wa,N=N.stateNode,h.nodeType===8?h.parentNode.removeChild(N):h.removeChild(N)):Wa.removeChild(N.stateNode));break;case 18:Wa!==null&&(Yl?(h=Wa,N=N.stateNode,h.nodeType===8?BC(h.parentNode,N):h.nodeType===1&&BC(h,N),Fx(h)):BC(Wa,N.stateNode));break;case 4:T=Wa,M=Yl,Wa=N.stateNode.containerInfo,Yl=!0,Pd(h,x,N),Wa=T,Yl=M;break;case 0:case 11:case 14:case 15:if(!ci&&(T=N.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var q=M,ne=q.destroy;q=q.tag,ne!==void 0&&((q&2)!==0||(q&4)!==0)&&NE(N,x,ne),M=M.next}while(M!==T)}Pd(h,x,N);break;case 1:if(!ci&&(Fp(N,x),T=N.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=N.memoizedProps,T.state=N.memoizedState,T.componentWillUnmount()}catch(je){bs(N,x,je)}Pd(h,x,N);break;case 21:Pd(h,x,N);break;case 22:N.mode&1?(ci=(T=ci)||N.memoizedState!==null,Pd(h,x,N),ci=T):Pd(h,x,N);break;default:Pd(h,x,N)}}function uB(h){var x=h.updateQueue;if(x!==null){h.updateQueue=null;var N=h.stateNode;N===null&&(N=h.stateNode=new Ope),x.forEach(function(T){var M=Vpe.bind(null,h,T);N.has(T)||(N.add(T),T.then(M,M))})}}function Xl(h,x){var N=x.deletions;if(N!==null)for(var T=0;T<N.length;T++){var M=N[T];try{var q=h,ne=x,je=ne;e:for(;je!==null;){switch(je.tag){case 5:Wa=je.stateNode,Yl=!1;break e;case 3:Wa=je.stateNode.containerInfo,Yl=!0;break e;case 4:Wa=je.stateNode.containerInfo,Yl=!0;break e}je=je.return}if(Wa===null)throw Error(r(160));cB(q,ne,M),Wa=null,Yl=!1;var Ae=M.alternate;Ae!==null&&(Ae.return=null),M.return=null}catch(Ke){bs(M,x,Ke)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)dB(x,h),x=x.sibling}function dB(h,x){var N=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Xl(x,h),Oc(h),T&4){try{av(3,h,h.return),s_(3,h)}catch(Ht){bs(h,h.return,Ht)}try{av(5,h,h.return)}catch(Ht){bs(h,h.return,Ht)}}break;case 1:Xl(x,h),Oc(h),T&512&&N!==null&&Fp(N,N.return);break;case 5:if(Xl(x,h),Oc(h),T&512&&N!==null&&Fp(N,N.return),h.flags&32){var M=h.stateNode;try{De(M,"")}catch(Ht){bs(h,h.return,Ht)}}if(T&4&&(M=h.stateNode,M!=null)){var q=h.memoizedProps,ne=N!==null?N.memoizedProps:q,je=h.type,Ae=h.updateQueue;if(h.updateQueue=null,Ae!==null)try{je==="input"&&q.type==="radio"&&q.name!=null&&Ee(M,q),Xt(je,ne);var Ke=Xt(je,q);for(ne=0;ne<Ae.length;ne+=2){var mt=Ae[ne],gt=Ae[ne+1];mt==="style"?ot(M,gt):mt==="dangerouslySetInnerHTML"?Re(M,gt):mt==="children"?De(M,gt):j(M,mt,gt,Ke)}switch(je){case"input":ue(M,q);break;case"textarea":Ze(M,q);break;case"select":var dt=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!q.multiple;var Dt=q.value;Dt!=null?we(M,!!q.multiple,Dt,!1):dt!==!!q.multiple&&(q.defaultValue!=null?we(M,!!q.multiple,q.defaultValue,!0):we(M,!!q.multiple,q.multiple?[]:"",!1))}M[Kx]=q}catch(Ht){bs(h,h.return,Ht)}}break;case 6:if(Xl(x,h),Oc(h),T&4){if(h.stateNode===null)throw Error(r(162));M=h.stateNode,q=h.memoizedProps;try{M.nodeValue=q}catch(Ht){bs(h,h.return,Ht)}}break;case 3:if(Xl(x,h),Oc(h),T&4&&N!==null&&N.memoizedState.isDehydrated)try{Fx(x.containerInfo)}catch(Ht){bs(h,h.return,Ht)}break;case 4:Xl(x,h),Oc(h);break;case 13:Xl(x,h),Oc(h),M=h.child,M.flags&8192&&(q=M.memoizedState!==null,M.stateNode.isHidden=q,!q||M.alternate!==null&&M.alternate.memoizedState!==null||(AE=it())),T&4&&uB(h);break;case 22:if(mt=N!==null&&N.memoizedState!==null,h.mode&1?(ci=(Ke=ci)||mt,Xl(x,h),ci=Ke):Xl(x,h),Oc(h),T&8192){if(Ke=h.memoizedState!==null,(h.stateNode.isHidden=Ke)&&!mt&&(h.mode&1)!==0)for($t=h,mt=h.child;mt!==null;){for(gt=$t=mt;$t!==null;){switch(dt=$t,Dt=dt.child,dt.tag){case 0:case 11:case 14:case 15:av(4,dt,dt.return);break;case 1:Fp(dt,dt.return);var qt=dt.stateNode;if(typeof qt.componentWillUnmount=="function"){T=dt,N=dt.return;try{x=T,qt.props=x.memoizedProps,qt.state=x.memoizedState,qt.componentWillUnmount()}catch(Ht){bs(T,N,Ht)}}break;case 5:Fp(dt,dt.return);break;case 22:if(dt.memoizedState!==null){mB(gt);continue}}Dt!==null?(Dt.return=dt,$t=Dt):mB(gt)}mt=mt.sibling}e:for(mt=null,gt=h;;){if(gt.tag===5){if(mt===null){mt=gt;try{M=gt.stateNode,Ke?(q=M.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(je=gt.stateNode,Ae=gt.memoizedProps.style,ne=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null,je.style.display=He("display",ne))}catch(Ht){bs(h,h.return,Ht)}}}else if(gt.tag===6){if(mt===null)try{gt.stateNode.nodeValue=Ke?"":gt.memoizedProps}catch(Ht){bs(h,h.return,Ht)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===h)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===h)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===h)break e;mt===gt&&(mt=null),gt=gt.return}mt===gt&&(mt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:Xl(x,h),Oc(h),T&4&&uB(h);break;case 21:break;default:Xl(x,h),Oc(h)}}function Oc(h){var x=h.flags;if(x&2){try{e:{for(var N=h.return;N!==null;){if(oB(N)){var T=N;break e}N=N.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(De(M,""),T.flags&=-33);var q=lB(h);CE(h,q,M);break;case 3:case 4:var ne=T.stateNode.containerInfo,je=lB(h);kE(h,je,ne);break;default:throw Error(r(161))}}catch(Ae){bs(h,h.return,Ae)}h.flags&=-3}x&4096&&(h.flags&=-4097)}function Dpe(h,x,N){$t=h,fB(h)}function fB(h,x,N){for(var T=(h.mode&1)!==0;$t!==null;){var M=$t,q=M.child;if(M.tag===22&&T){var ne=M.memoizedState!==null||n_;if(!ne){var je=M.alternate,Ae=je!==null&&je.memoizedState!==null||ci;je=n_;var Ke=ci;if(n_=ne,(ci=Ae)&&!Ke)for($t=M;$t!==null;)ne=$t,Ae=ne.child,ne.tag===22&&ne.memoizedState!==null?pB(M):Ae!==null?(Ae.return=ne,$t=Ae):pB(M);for(;q!==null;)$t=q,fB(q),q=q.sibling;$t=M,n_=je,ci=Ke}hB(h)}else(M.subtreeFlags&8772)!==0&&q!==null?(q.return=M,$t=q):hB(h)}}function hB(h){for(;$t!==null;){var x=$t;if((x.flags&8772)!==0){var N=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ci||s_(5,x);break;case 1:var T=x.stateNode;if(x.flags&4&&!ci)if(N===null)T.componentDidMount();else{var M=x.elementType===x.type?N.memoizedProps:Kl(x.type,N.memoizedProps);T.componentDidUpdate(M,N.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var q=x.updateQueue;q!==null&&m$(x,q,T);break;case 3:var ne=x.updateQueue;if(ne!==null){if(N=null,x.child!==null)switch(x.child.tag){case 5:N=x.child.stateNode;break;case 1:N=x.child.stateNode}m$(x,ne,N)}break;case 5:var je=x.stateNode;if(N===null&&x.flags&4){N=je;var Ae=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ae.autoFocus&&N.focus();break;case"img":Ae.src&&(N.src=Ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Ke=x.alternate;if(Ke!==null){var mt=Ke.memoizedState;if(mt!==null){var gt=mt.dehydrated;gt!==null&&Fx(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ci||x.flags&512&&SE(x)}catch(dt){bs(x,x.return,dt)}}if(x===h){$t=null;break}if(N=x.sibling,N!==null){N.return=x.return,$t=N;break}$t=x.return}}function mB(h){for(;$t!==null;){var x=$t;if(x===h){$t=null;break}var N=x.sibling;if(N!==null){N.return=x.return,$t=N;break}$t=x.return}}function pB(h){for(;$t!==null;){var x=$t;try{switch(x.tag){case 0:case 11:case 15:var N=x.return;try{s_(4,x)}catch(Ae){bs(x,N,Ae)}break;case 1:var T=x.stateNode;if(typeof T.componentDidMount=="function"){var M=x.return;try{T.componentDidMount()}catch(Ae){bs(x,M,Ae)}}var q=x.return;try{SE(x)}catch(Ae){bs(x,q,Ae)}break;case 5:var ne=x.return;try{SE(x)}catch(Ae){bs(x,ne,Ae)}}}catch(Ae){bs(x,x.return,Ae)}if(x===h){$t=null;break}var je=x.sibling;if(je!==null){je.return=x.return,$t=je;break}$t=x.return}}var Ipe=Math.ceil,a_=E.ReactCurrentDispatcher,EE=E.ReactCurrentOwner,cl=E.ReactCurrentBatchConfig,rn=0,Ta=null,Ws=null,Ha=0,Eo=0,Lp=kd(0),fa=0,iv=null,mh=0,i_=0,TE=0,ov=null,ro=null,AE=0,$p=1/0,ku=null,o_=!1,PE=null,Od=null,l_=!1,Rd=null,c_=0,lv=0,OE=null,u_=-1,d_=0;function Pi(){return(rn&6)!==0?it():u_!==-1?u_:u_=it()}function Dd(h){return(h.mode&1)===0?1:(rn&2)!==0&&Ha!==0?Ha&-Ha:vpe.transition!==null?(d_===0&&(d_=l8()),d_):(h=Nn,h!==0||(h=window.event,h=h===void 0?16:x8(h.type)),h)}function Jl(h,x,N,T){if(50<lv)throw lv=0,OE=null,Error(r(185));Ox(h,N,T),((rn&2)===0||h!==Ta)&&(h===Ta&&((rn&2)===0&&(i_|=N),fa===4&&Id(h,Ha)),no(h,T),N===1&&rn===0&&(x.mode&1)===0&&($p=it()+500,$1&&Ed()))}function no(h,x){var N=h.callbackNode;vme(h,x);var T=b1(h,h===Ta?Ha:0);if(T===0)N!==null&&pt(N),h.callbackNode=null,h.callbackPriority=0;else if(x=T&-T,h.callbackPriority!==x){if(N!=null&&pt(N),x===1)h.tag===0?xpe(xB.bind(null,h)):r$(xB.bind(null,h)),hpe(function(){(rn&6)===0&&Ed()}),N=null;else{switch(c8(T)){case 1:N=Vr;break;case 4:N=xn;break;case 16:N=as;break;case 536870912:N=ua;break;default:N=as}N=SB(N,gB.bind(null,h))}h.callbackPriority=x,h.callbackNode=N}}function gB(h,x){if(u_=-1,d_=0,(rn&6)!==0)throw Error(r(327));var N=h.callbackNode;if(Bp()&&h.callbackNode!==N)return null;var T=b1(h,h===Ta?Ha:0);if(T===0)return null;if((T&30)!==0||(T&h.expiredLanes)!==0||x)x=f_(h,T);else{x=T;var M=rn;rn|=2;var q=yB();(Ta!==h||Ha!==x)&&(ku=null,$p=it()+500,gh(h,x));do try{Lpe();break}catch(je){vB(h,je)}while(!0);XC(),a_.current=q,rn=M,Ws!==null?x=0:(Ta=null,Ha=0,x=fa)}if(x!==0){if(x===2&&(M=fC(h),M!==0&&(T=M,x=RE(h,M))),x===1)throw N=iv,gh(h,0),Id(h,T),no(h,it()),N;if(x===6)Id(h,T);else{if(M=h.current.alternate,(T&30)===0&&!Mpe(M)&&(x=f_(h,T),x===2&&(q=fC(h),q!==0&&(T=q,x=RE(h,q))),x===1))throw N=iv,gh(h,0),Id(h,T),no(h,it()),N;switch(h.finishedWork=M,h.finishedLanes=T,x){case 0:case 1:throw Error(r(345));case 2:xh(h,ro,ku);break;case 3:if(Id(h,T),(T&130023424)===T&&(x=AE+500-it(),10<x)){if(b1(h,0)!==0)break;if(M=h.suspendedLanes,(M&T)!==T){Pi(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=$C(xh.bind(null,h,ro,ku),x);break}xh(h,ro,ku);break;case 4:if(Id(h,T),(T&4194240)===T)break;for(x=h.eventTimes,M=-1;0<T;){var ne=31-Os(T);q=1<<ne,ne=x[ne],ne>M&&(M=ne),T&=~q}if(T=M,T=it()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Ipe(T/1960))-T,10<T){h.timeoutHandle=$C(xh.bind(null,h,ro,ku),T);break}xh(h,ro,ku);break;case 5:xh(h,ro,ku);break;default:throw Error(r(329))}}}return no(h,it()),h.callbackNode===N?gB.bind(null,h):null}function RE(h,x){var N=ov;return h.current.memoizedState.isDehydrated&&(gh(h,x).flags|=256),h=f_(h,x),h!==2&&(x=ro,ro=N,x!==null&&DE(x)),h}function DE(h){ro===null?ro=h:ro.push.apply(ro,h)}function Mpe(h){for(var x=h;;){if(x.flags&16384){var N=x.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var T=0;T<N.length;T++){var M=N[T],q=M.getSnapshot;M=M.value;try{if(!Hl(q(),M))return!1}catch{return!1}}}if(N=x.child,x.subtreeFlags&16384&&N!==null)N.return=x,x=N;else{if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Id(h,x){for(x&=~TE,x&=~i_,h.suspendedLanes|=x,h.pingedLanes&=~x,h=h.expirationTimes;0<x;){var N=31-Os(x),T=1<<N;h[N]=-1,x&=~T}}function xB(h){if((rn&6)!==0)throw Error(r(327));Bp();var x=b1(h,0);if((x&1)===0)return no(h,it()),null;var N=f_(h,x);if(h.tag!==0&&N===2){var T=fC(h);T!==0&&(x=T,N=RE(h,T))}if(N===1)throw N=iv,gh(h,0),Id(h,x),no(h,it()),N;if(N===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=x,xh(h,ro,ku),no(h,it()),null}function IE(h,x){var N=rn;rn|=1;try{return h(x)}finally{rn=N,rn===0&&($p=it()+500,$1&&Ed())}}function ph(h){Rd!==null&&Rd.tag===0&&(rn&6)===0&&Bp();var x=rn;rn|=1;var N=cl.transition,T=Nn;try{if(cl.transition=null,Nn=1,h)return h()}finally{Nn=T,cl.transition=N,rn=x,(rn&6)===0&&Ed()}}function ME(){Eo=Lp.current,Zn(Lp)}function gh(h,x){h.finishedWork=null,h.finishedLanes=0;var N=h.timeoutHandle;if(N!==-1&&(h.timeoutHandle=-1,fpe(N)),Ws!==null)for(N=Ws.return;N!==null;){var T=N;switch(WC(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&F1();break;case 3:Ip(),Zn(Qi),Zn(ii),sE();break;case 5:rE(T);break;case 4:Ip();break;case 13:Zn(fs);break;case 19:Zn(fs);break;case 10:JC(T.type._context);break;case 22:case 23:ME()}N=N.return}if(Ta=h,Ws=h=Md(h.current,null),Ha=Eo=x,fa=0,iv=null,TE=i_=mh=0,ro=ov=null,dh!==null){for(x=0;x<dh.length;x++)if(N=dh[x],T=N.interleaved,T!==null){N.interleaved=null;var M=T.next,q=N.pending;if(q!==null){var ne=q.next;q.next=M,T.next=ne}N.pending=T}dh=null}return h}function vB(h,x){do{var N=Ws;try{if(XC(),Y1.current=Q1,X1){for(var T=hs.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}X1=!1}if(hh=0,Ea=da=hs=null,ev=!1,tv=0,EE.current=null,N===null||N.return===null){fa=1,iv=x,Ws=null;break}e:{var q=h,ne=N.return,je=N,Ae=x;if(x=Ha,je.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Ke=Ae,mt=je,gt=mt.tag;if((mt.mode&1)===0&&(gt===0||gt===11||gt===15)){var dt=mt.alternate;dt?(mt.updateQueue=dt.updateQueue,mt.memoizedState=dt.memoizedState,mt.lanes=dt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Dt=z$(ne);if(Dt!==null){Dt.flags&=-257,q$(Dt,ne,je,q,x),Dt.mode&1&&V$(q,Ke,x),x=Dt,Ae=Ke;var qt=x.updateQueue;if(qt===null){var Ht=new Set;Ht.add(Ae),x.updateQueue=Ht}else qt.add(Ae);break e}else{if((x&1)===0){V$(q,Ke,x),FE();break e}Ae=Error(r(426))}}else if(is&&je.mode&1){var Rs=z$(ne);if(Rs!==null){(Rs.flags&65536)===0&&(Rs.flags|=256),q$(Rs,ne,je,q,x),KC(Mp(Ae,je));break e}}q=Ae=Mp(Ae,je),fa!==4&&(fa=2),ov===null?ov=[q]:ov.push(q),q=ne;do{switch(q.tag){case 3:q.flags|=65536,x&=-x,q.lanes|=x;var Be=B$(q,Ae,x);h$(q,Be);break e;case 1:je=Ae;var Pe=q.type,ze=q.stateNode;if((q.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Od===null||!Od.has(ze)))){q.flags|=65536,x&=-x,q.lanes|=x;var yt=U$(q,je,x);h$(q,yt);break e}}q=q.return}while(q!==null)}wB(N)}catch(Kt){x=Kt,Ws===N&&N!==null&&(Ws=N=N.return);continue}break}while(!0)}function yB(){var h=a_.current;return a_.current=Q1,h===null?Q1:h}function FE(){(fa===0||fa===3||fa===2)&&(fa=4),Ta===null||(mh&268435455)===0&&(i_&268435455)===0||Id(Ta,Ha)}function f_(h,x){var N=rn;rn|=2;var T=yB();(Ta!==h||Ha!==x)&&(ku=null,gh(h,x));do try{Fpe();break}catch(M){vB(h,M)}while(!0);if(XC(),rn=N,a_.current=T,Ws!==null)throw Error(r(261));return Ta=null,Ha=0,fa}function Fpe(){for(;Ws!==null;)bB(Ws)}function Lpe(){for(;Ws!==null&&!Et();)bB(Ws)}function bB(h){var x=NB(h.alternate,h,Eo);h.memoizedProps=h.pendingProps,x===null?wB(h):Ws=x,EE.current=null}function wB(h){var x=h;do{var N=x.alternate;if(h=x.return,(x.flags&32768)===0){if(N=Ape(N,x,Eo),N!==null){Ws=N;return}}else{if(N=Ppe(N,x),N!==null){N.flags&=32767,Ws=N;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{fa=6,Ws=null;return}}if(x=x.sibling,x!==null){Ws=x;return}Ws=x=h}while(x!==null);fa===0&&(fa=5)}function xh(h,x,N){var T=Nn,M=cl.transition;try{cl.transition=null,Nn=1,$pe(h,x,N,T)}finally{cl.transition=M,Nn=T}return null}function $pe(h,x,N,T){do Bp();while(Rd!==null);if((rn&6)!==0)throw Error(r(327));N=h.finishedWork;var M=h.finishedLanes;if(N===null)return null;if(h.finishedWork=null,h.finishedLanes=0,N===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var q=N.lanes|N.childLanes;if(yme(h,q),h===Ta&&(Ws=Ta=null,Ha=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||l_||(l_=!0,SB(as,function(){return Bp(),null})),q=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||q){q=cl.transition,cl.transition=null;var ne=Nn;Nn=1;var je=rn;rn|=4,EE.current=null,Rpe(h,N),dB(N,h),ape(FC),j1=!!MC,FC=MC=null,h.current=N,Dpe(N),xt(),rn=je,Nn=ne,cl.transition=q}else h.current=N;if(l_&&(l_=!1,Rd=h,c_=M),q=h.pendingLanes,q===0&&(Od=null),Zi(N.stateNode),no(h,it()),x!==null)for(T=h.onRecoverableError,N=0;N<x.length;N++)M=x[N],T(M.value,{componentStack:M.stack,digest:M.digest});if(o_)throw o_=!1,h=PE,PE=null,h;return(c_&1)!==0&&h.tag!==0&&Bp(),q=h.pendingLanes,(q&1)!==0?h===OE?lv++:(lv=0,OE=h):lv=0,Ed(),null}function Bp(){if(Rd!==null){var h=c8(c_),x=cl.transition,N=Nn;try{if(cl.transition=null,Nn=16>h?16:h,Rd===null)var T=!1;else{if(h=Rd,Rd=null,c_=0,(rn&6)!==0)throw Error(r(331));var M=rn;for(rn|=4,$t=h.current;$t!==null;){var q=$t,ne=q.child;if(($t.flags&16)!==0){var je=q.deletions;if(je!==null){for(var Ae=0;Ae<je.length;Ae++){var Ke=je[Ae];for($t=Ke;$t!==null;){var mt=$t;switch(mt.tag){case 0:case 11:case 15:av(8,mt,q)}var gt=mt.child;if(gt!==null)gt.return=mt,$t=gt;else for(;$t!==null;){mt=$t;var dt=mt.sibling,Dt=mt.return;if(iB(mt),mt===Ke){$t=null;break}if(dt!==null){dt.return=Dt,$t=dt;break}$t=Dt}}}var qt=q.alternate;if(qt!==null){var Ht=qt.child;if(Ht!==null){qt.child=null;do{var Rs=Ht.sibling;Ht.sibling=null,Ht=Rs}while(Ht!==null)}}$t=q}}if((q.subtreeFlags&2064)!==0&&ne!==null)ne.return=q,$t=ne;else e:for(;$t!==null;){if(q=$t,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:av(9,q,q.return)}var Be=q.sibling;if(Be!==null){Be.return=q.return,$t=Be;break e}$t=q.return}}var Pe=h.current;for($t=Pe;$t!==null;){ne=$t;var ze=ne.child;if((ne.subtreeFlags&2064)!==0&&ze!==null)ze.return=ne,$t=ze;else e:for(ne=Pe;$t!==null;){if(je=$t,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:s_(9,je)}}catch(Kt){bs(je,je.return,Kt)}if(je===ne){$t=null;break e}var yt=je.sibling;if(yt!==null){yt.return=je.return,$t=yt;break e}$t=je.return}}if(rn=M,Ed(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(ai,h)}catch{}T=!0}return T}finally{Nn=N,cl.transition=x}}return!1}function _B(h,x,N){x=Mp(N,x),x=B$(h,x,1),h=Ad(h,x,1),x=Pi(),h!==null&&(Ox(h,1,x),no(h,x))}function bs(h,x,N){if(h.tag===3)_B(h,h,N);else for(;x!==null;){if(x.tag===3){_B(x,h,N);break}else if(x.tag===1){var T=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Od===null||!Od.has(T))){h=Mp(N,h),h=U$(x,h,1),x=Ad(x,h,1),h=Pi(),x!==null&&(Ox(x,1,h),no(x,h));break}}x=x.return}}function Bpe(h,x,N){var T=h.pingCache;T!==null&&T.delete(x),x=Pi(),h.pingedLanes|=h.suspendedLanes&N,Ta===h&&(Ha&N)===N&&(fa===4||fa===3&&(Ha&130023424)===Ha&&500>it()-AE?gh(h,0):TE|=N),no(h,x)}function jB(h,x){x===0&&((h.mode&1)===0?x=1:(x=y1,y1<<=1,(y1&130023424)===0&&(y1=4194304)));var N=Pi();h=ju(h,x),h!==null&&(Ox(h,x,N),no(h,N))}function Upe(h){var x=h.memoizedState,N=0;x!==null&&(N=x.retryLane),jB(h,N)}function Vpe(h,x){var N=0;switch(h.tag){case 13:var T=h.stateNode,M=h.memoizedState;M!==null&&(N=M.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(x),jB(h,N)}var NB;NB=function(h,x,N){if(h!==null)if(h.memoizedProps!==x.pendingProps||Qi.current)to=!0;else{if((h.lanes&N)===0&&(x.flags&128)===0)return to=!1,Tpe(h,x,N);to=(h.flags&131072)!==0}else to=!1,is&&(x.flags&1048576)!==0&&n$(x,U1,x.index);switch(x.lanes=0,x.tag){case 2:var T=x.type;r_(h,x),h=x.pendingProps;var M=Ep(x,ii.current);Dp(x,N),M=oE(null,x,T,h,M,N);var q=lE();return x.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,eo(T)?(q=!0,L1(x)):q=!1,x.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,eE(x),M.updater=e_,x.stateNode=M,M._reactInternals=x,mE(x,T,h,N),x=vE(null,x,T,!0,q,N)):(x.tag=0,is&&q&&qC(x),Ai(null,x,M,N),x=x.child),x;case 16:T=x.elementType;e:{switch(r_(h,x),h=x.pendingProps,M=T._init,T=M(T._payload),x.type=T,M=x.tag=qpe(T),h=Kl(T,h),M){case 0:x=xE(null,x,T,h,N);break e;case 1:x=X$(null,x,T,h,N);break e;case 11:x=W$(null,x,T,h,N);break e;case 14:x=H$(null,x,T,Kl(T.type,h),N);break e}throw Error(r(306,T,""))}return x;case 0:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Kl(T,M),xE(h,x,T,M,N);case 1:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Kl(T,M),X$(h,x,T,M,N);case 3:e:{if(J$(x),h===null)throw Error(r(387));T=x.pendingProps,q=x.memoizedState,M=q.element,f$(h,x),G1(x,T,null,N);var ne=x.memoizedState;if(T=ne.element,q.isDehydrated)if(q={element:T,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},x.updateQueue.baseState=q,x.memoizedState=q,x.flags&256){M=Mp(Error(r(423)),x),x=Z$(h,x,T,N,M);break e}else if(T!==M){M=Mp(Error(r(424)),x),x=Z$(h,x,T,N,M);break e}else for(Co=Sd(x.stateNode.containerInfo.firstChild),ko=x,is=!0,Gl=null,N=u$(x,null,T,N),x.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Pp(),T===M){x=Su(h,x,N);break e}Ai(h,x,T,N)}x=x.child}return x;case 5:return p$(x),h===null&&GC(x),T=x.type,M=x.pendingProps,q=h!==null?h.memoizedProps:null,ne=M.children,LC(T,M)?ne=null:q!==null&&LC(T,q)&&(x.flags|=32),Y$(h,x),Ai(h,x,ne,N),x.child;case 6:return h===null&&GC(x),null;case 13:return Q$(h,x,N);case 4:return tE(x,x.stateNode.containerInfo),T=x.pendingProps,h===null?x.child=Op(x,null,T,N):Ai(h,x,T,N),x.child;case 11:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Kl(T,M),W$(h,x,T,M,N);case 7:return Ai(h,x,x.pendingProps,N),x.child;case 8:return Ai(h,x,x.pendingProps.children,N),x.child;case 12:return Ai(h,x,x.pendingProps.children,N),x.child;case 10:e:{if(T=x.type._context,M=x.pendingProps,q=x.memoizedProps,ne=M.value,zn(q1,T._currentValue),T._currentValue=ne,q!==null)if(Hl(q.value,ne)){if(q.children===M.children&&!Qi.current){x=Su(h,x,N);break e}}else for(q=x.child,q!==null&&(q.return=x);q!==null;){var je=q.dependencies;if(je!==null){ne=q.child;for(var Ae=je.firstContext;Ae!==null;){if(Ae.context===T){if(q.tag===1){Ae=Nu(-1,N&-N),Ae.tag=2;var Ke=q.updateQueue;if(Ke!==null){Ke=Ke.shared;var mt=Ke.pending;mt===null?Ae.next=Ae:(Ae.next=mt.next,mt.next=Ae),Ke.pending=Ae}}q.lanes|=N,Ae=q.alternate,Ae!==null&&(Ae.lanes|=N),ZC(q.return,N,x),je.lanes|=N;break}Ae=Ae.next}}else if(q.tag===10)ne=q.type===x.type?null:q.child;else if(q.tag===18){if(ne=q.return,ne===null)throw Error(r(341));ne.lanes|=N,je=ne.alternate,je!==null&&(je.lanes|=N),ZC(ne,N,x),ne=q.sibling}else ne=q.child;if(ne!==null)ne.return=q;else for(ne=q;ne!==null;){if(ne===x){ne=null;break}if(q=ne.sibling,q!==null){q.return=ne.return,ne=q;break}ne=ne.return}q=ne}Ai(h,x,M.children,N),x=x.child}return x;case 9:return M=x.type,T=x.pendingProps.children,Dp(x,N),M=ol(M),T=T(M),x.flags|=1,Ai(h,x,T,N),x.child;case 14:return T=x.type,M=Kl(T,x.pendingProps),M=Kl(T.type,M),H$(h,x,T,M,N);case 15:return G$(h,x,x.type,x.pendingProps,N);case 17:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Kl(T,M),r_(h,x),x.tag=1,eo(T)?(h=!0,L1(x)):h=!1,Dp(x,N),L$(x,T,M),mE(x,T,M,N),vE(null,x,T,!0,h,N);case 19:return tB(h,x,N);case 22:return K$(h,x,N)}throw Error(r(156,x.tag))};function SB(h,x){return st(h,x)}function zpe(h,x,N,T){this.tag=h,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(h,x,N,T){return new zpe(h,x,N,T)}function LE(h){return h=h.prototype,!(!h||!h.isReactComponent)}function qpe(h){if(typeof h=="function")return LE(h)?1:0;if(h!=null){if(h=h.$$typeof,h===R)return 11;if(h===W)return 14}return 2}function Md(h,x){var N=h.alternate;return N===null?(N=ul(h.tag,x,h.key,h.mode),N.elementType=h.elementType,N.type=h.type,N.stateNode=h.stateNode,N.alternate=h,h.alternate=N):(N.pendingProps=x,N.type=h.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=h.flags&14680064,N.childLanes=h.childLanes,N.lanes=h.lanes,N.child=h.child,N.memoizedProps=h.memoizedProps,N.memoizedState=h.memoizedState,N.updateQueue=h.updateQueue,x=h.dependencies,N.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},N.sibling=h.sibling,N.index=h.index,N.ref=h.ref,N}function h_(h,x,N,T,M,q){var ne=2;if(T=h,typeof h=="function")LE(h)&&(ne=1);else if(typeof h=="string")ne=5;else e:switch(h){case k:return vh(N.children,M,q,x);case D:ne=8,M|=8;break;case O:return h=ul(12,N,x,M|2),h.elementType=O,h.lanes=q,h;case F:return h=ul(13,N,x,M),h.elementType=F,h.lanes=q,h;case L:return h=ul(19,N,x,M),h.elementType=L,h.lanes=q,h;case H:return m_(N,M,q,x);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case P:ne=10;break e;case A:ne=9;break e;case R:ne=11;break e;case W:ne=14;break e;case V:ne=16,T=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return x=ul(ne,N,x,M),x.elementType=h,x.type=T,x.lanes=q,x}function vh(h,x,N,T){return h=ul(7,h,T,x),h.lanes=N,h}function m_(h,x,N,T){return h=ul(22,h,T,x),h.elementType=H,h.lanes=N,h.stateNode={isHidden:!1},h}function $E(h,x,N){return h=ul(6,h,null,x),h.lanes=N,h}function BE(h,x,N){return x=ul(4,h.children!==null?h.children:[],h.key,x),x.lanes=N,x.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},x}function Wpe(h,x,N,T,M){this.tag=x,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hC(0),this.expirationTimes=hC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hC(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function UE(h,x,N,T,M,q,ne,je,Ae){return h=new Wpe(h,x,N,je,Ae),x===1?(x=1,q===!0&&(x|=8)):x=0,q=ul(3,null,null,x),h.current=q,q.stateNode=h,q.memoizedState={element:T,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},eE(q),h}function Hpe(h,x,N){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:T==null?null:""+T,children:h,containerInfo:x,implementation:N}}function kB(h){if(!h)return Cd;h=h._reactInternals;e:{if(ye(h)!==h||h.tag!==1)throw Error(r(170));var x=h;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(eo(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(h.tag===1){var N=h.type;if(eo(N))return e$(h,N,x)}return x}function CB(h,x,N,T,M,q,ne,je,Ae){return h=UE(N,T,!0,h,M,q,ne,je,Ae),h.context=kB(null),N=h.current,T=Pi(),M=Dd(N),q=Nu(T,M),q.callback=x??null,Ad(N,q,M),h.current.lanes=M,Ox(h,M,T),no(h,T),h}function p_(h,x,N,T){var M=x.current,q=Pi(),ne=Dd(M);return N=kB(N),x.context===null?x.context=N:x.pendingContext=N,x=Nu(q,ne),x.payload={element:h},T=T===void 0?null:T,T!==null&&(x.callback=T),h=Ad(M,x,ne),h!==null&&(Jl(h,M,ne,q),H1(h,M,ne)),ne}function g_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function EB(h,x){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var N=h.retryLane;h.retryLane=N!==0&&N<x?N:x}}function VE(h,x){EB(h,x),(h=h.alternate)&&EB(h,x)}function Gpe(){return null}var TB=typeof reportError=="function"?reportError:function(h){console.error(h)};function zE(h){this._internalRoot=h}x_.prototype.render=zE.prototype.render=function(h){var x=this._internalRoot;if(x===null)throw Error(r(409));p_(h,x,null,null)},x_.prototype.unmount=zE.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var x=h.containerInfo;ph(function(){p_(null,h,null,null)}),x[yu]=null}};function x_(h){this._internalRoot=h}x_.prototype.unstable_scheduleHydration=function(h){if(h){var x=f8();h={blockedOn:null,target:h,priority:x};for(var N=0;N<_d.length&&x!==0&&x<_d[N].priority;N++);_d.splice(N,0,h),N===0&&p8(h)}};function qE(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function v_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function AB(){}function Kpe(h,x,N,T,M){if(M){if(typeof T=="function"){var q=T;T=function(){var Ke=g_(ne);q.call(Ke)}}var ne=CB(x,T,h,0,null,!1,!1,"",AB);return h._reactRootContainer=ne,h[yu]=ne.current,Hx(h.nodeType===8?h.parentNode:h),ph(),ne}for(;M=h.lastChild;)h.removeChild(M);if(typeof T=="function"){var je=T;T=function(){var Ke=g_(Ae);je.call(Ke)}}var Ae=UE(h,0,!1,null,null,!1,!1,"",AB);return h._reactRootContainer=Ae,h[yu]=Ae.current,Hx(h.nodeType===8?h.parentNode:h),ph(function(){p_(x,Ae,N,T)}),Ae}function y_(h,x,N,T,M){var q=N._reactRootContainer;if(q){var ne=q;if(typeof M=="function"){var je=M;M=function(){var Ae=g_(ne);je.call(Ae)}}p_(x,ne,h,M)}else ne=Kpe(N,x,h,M,T);return g_(ne)}u8=function(h){switch(h.tag){case 3:var x=h.stateNode;if(x.current.memoizedState.isDehydrated){var N=Px(x.pendingLanes);N!==0&&(mC(x,N|1),no(x,it()),(rn&6)===0&&($p=it()+500,Ed()))}break;case 13:ph(function(){var T=ju(h,1);if(T!==null){var M=Pi();Jl(T,h,1,M)}}),VE(h,1)}},pC=function(h){if(h.tag===13){var x=ju(h,134217728);if(x!==null){var N=Pi();Jl(x,h,134217728,N)}VE(h,134217728)}},d8=function(h){if(h.tag===13){var x=Dd(h),N=ju(h,x);if(N!==null){var T=Pi();Jl(N,h,x,T)}VE(h,x)}},f8=function(){return Nn},h8=function(h,x){var N=Nn;try{return Nn=h,x()}finally{Nn=N}},Pr=function(h,x,N){switch(x){case"input":if(ue(h,N),x=N.name,N.type==="radio"&&x!=null){for(N=h;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<N.length;x++){var T=N[x];if(T!==h&&T.form===h.form){var M=M1(T);if(!M)throw Error(r(90));B(T),ue(T,M)}}}break;case"textarea":Ze(h,N);break;case"select":x=N.value,x!=null&&we(h,!!N.multiple,x,!1)}},Jt=IE,Mr=ph;var Ype={usingClientEntryPoint:!1,Events:[Yx,kp,M1,Ca,Ot,IE]},cv={findFiberByHostInstance:oh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xpe={bundleType:cv.bundleType,version:cv.version,rendererPackageName:cv.rendererPackageName,rendererConfig:cv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ue(h),h===null?null:h.stateNode},findFiberByHostInstance:cv.findFiberByHostInstance||Gpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var b_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b_.isDisabled&&b_.supportsFiber)try{ai=b_.inject(Xpe),ds=b_}catch{}}return so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ype,so.createPortal=function(h,x){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qE(x))throw Error(r(200));return Hpe(h,x,null,N)},so.createRoot=function(h,x){if(!qE(h))throw Error(r(299));var N=!1,T="",M=TB;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onRecoverableError!==void 0&&(M=x.onRecoverableError)),x=UE(h,1,!1,null,null,N,!1,T,M),h[yu]=x.current,Hx(h.nodeType===8?h.parentNode:h),new zE(x)},so.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var x=h._reactInternals;if(x===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Ue(x),h=h===null?null:h.stateNode,h},so.flushSync=function(h){return ph(h)},so.hydrate=function(h,x,N){if(!v_(x))throw Error(r(200));return y_(null,h,x,!0,N)},so.hydrateRoot=function(h,x,N){if(!qE(h))throw Error(r(405));var T=N!=null&&N.hydratedSources||null,M=!1,q="",ne=TB;if(N!=null&&(N.unstable_strictMode===!0&&(M=!0),N.identifierPrefix!==void 0&&(q=N.identifierPrefix),N.onRecoverableError!==void 0&&(ne=N.onRecoverableError)),x=CB(x,null,h,1,N??null,M,!1,q,ne),h[yu]=x.current,Hx(h),T)for(h=0;h<T.length;h++)N=T[h],M=N._getVersion,M=M(N._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[N,M]:x.mutableSourceEagerHydrationData.push(N,M);return new x_(x)},so.render=function(h,x,N){if(!v_(x))throw Error(r(200));return y_(null,h,x,!1,N)},so.unmountComponentAtNode=function(h){if(!v_(h))throw Error(r(40));return h._reactRootContainer?(ph(function(){y_(null,null,h,!1,function(){h._reactRootContainer=null,h[yu]=null})}),!0):!1},so.unstable_batchedUpdates=IE,so.unstable_renderSubtreeIntoContainer=function(h,x,N,T){if(!v_(N))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return y_(h,x,N,!1,T)},so.version="18.3.1-next-f1338f8080-20240426",so}var LB;function TJ(){if(LB)return GE.exports;LB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),GE.exports=age(),GE.exports}var $B;function ige(){if($B)return __;$B=1;var e=TJ();return __.createRoot=e.createRoot,__.hydrateRoot=e.hydrateRoot,__}var oge=ige(),_=f2();const ce=tn(_),hM=Zpe({__proto__:null,default:ce},[_]),lge=1,cge=1e6;let XE=0;function uge(){return XE=(XE+1)%Number.MAX_SAFE_INTEGER,XE.toString()}const JE=new Map,BB=e=>{if(JE.has(e))return;const t=setTimeout(()=>{JE.delete(e),sy({type:"REMOVE_TOAST",toastId:e})},cge);JE.set(e,t)},dge=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lge)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?BB(r):e.toasts.forEach(n=>{BB(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Cj=[];let Ej={toasts:[]};function sy(e){Ej=dge(Ej,e),Cj.forEach(t=>{t(Ej)})}function Me({...e}){const t=uge(),r=a=>sy({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>sy({type:"DISMISS_TOAST",toastId:t});return sy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function ss(){const[e,t]=_.useState(Ej);return _.useEffect(()=>(Cj.push(t),()=>{const r=Cj.indexOf(t);r>-1&&Cj.splice(r,1)}),[e]),{...e,toast:Me,dismiss:r=>sy({type:"DISMISS_TOAST",toastId:r})}}var nx=TJ();const AJ=tn(nx);function ht(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function UB(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function h2(...e){return t=>{let r=!1;const n=e.map(a=>{const i=UB(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():UB(e[a],null)}}}}function Qt(...e){return _.useCallback(h2(...e),e)}function fge(e,t){const r=_.createContext(t),n=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function zs(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:m,children:p,...y}=f,g=m?.[e]?.[c]||l,v=_.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,m){const p=m?.[e]?.[c]||l,y=_.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=l?.[e]||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,hge(a,...t)]}function hge(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function jf(e){const t=mge(e),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,l=_.Children.toArray(i),c=l.find(pge);if(c){const u=c.props.children,d=l.map(f=>f===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var PJ=jf("Slot");function mge(e){const t=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=xge(a),l=gge(i,a.props);return a.type!==_.Fragment&&(l.ref=n?h2(n,o):o),_.cloneElement(a,l)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OJ=Symbol("radix.slottable");function RJ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=OJ,t}function pge(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OJ}function gge(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function xge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function sx(e){const t=e+"CollectionProvider",[r,n]=zs(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:w}=g,b=ce.useRef(null),j=ce.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:j,collectionRef:b,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=jf(l),u=ce.forwardRef((g,v)=>{const{scope:w,children:b}=g,j=i(l,w),E=Qt(v,j.collectionRef);return s.jsx(c,{ref:E,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=jf(d),p=ce.forwardRef((g,v)=>{const{scope:w,children:b,...j}=g,E=ce.useRef(null),S=Qt(v,E),C=i(d,w);return ce.useEffect(()=>(C.itemMap.set(E,{ref:E,...j}),()=>void C.itemMap.delete(E))),s.jsx(m,{[f]:"",ref:S,children:b})});p.displayName=d;function y(g){const v=i(e+"CollectionConsumer",g);return ce.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,k)=>j.indexOf(C.ref.current)-j.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var vge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=vge.reduce((e,t)=>{const r=jf(`Primitive.${t}`),n=_.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mM(e,t){e&&nx.flushSync(()=>e.dispatchEvent(t))}function Ss(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function yge(e,t=globalThis?.document){const r=Ss(e);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bge="DismissableLayer",RR="dismissableLayer.update",wge="dismissableLayer.pointerDownOutside",_ge="dismissableLayer.focusOutside",VB,DJ=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zm=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=_.useContext(DJ),[d,f]=_.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=_.useState({}),y=Qt(t,k=>f(k)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),b=d?g.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,E=b>=w,S=Nge(k=>{const D=k.target,O=[...u.branches].some(P=>P.contains(D));!E||O||(a?.(k),o?.(k),k.defaultPrevented||l?.())},m),C=Sge(k=>{const D=k.target;[...u.branches].some(P=>P.contains(D))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},m);return yge(k=>{b===u.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VB=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=VB)}},[d,m,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zB())},[d,u]),_.useEffect(()=>{const k=()=>p({});return document.addEventListener(RR,k),()=>document.removeEventListener(RR,k)},[]),s.jsx(At.div,{...c,ref:y,style:{pointerEvents:j?E?"auto":"none":void 0,...e.style},onFocusCapture:ht(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ht(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ht(e.onPointerDownCapture,S.onPointerDownCapture)})});Zm.displayName=bge;var jge="DismissableLayerBranch",IJ=_.forwardRef((e,t)=>{const r=_.useContext(DJ),n=_.useRef(null),a=Qt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(At.div,{...e,ref:a})});IJ.displayName=jge;function Nge(e,t=globalThis?.document){const r=Ss(e),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){MJ(wge,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Sge(e,t=globalThis?.document){const r=Ss(e),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&MJ(_ge,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zB(){const e=new CustomEvent(RR);document.dispatchEvent(e)}function MJ(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?mM(a,i):a.dispatchEvent(i)}var kge=Zm,Cge=IJ,As=globalThis?.document?_.useLayoutEffect:()=>{},Ege="Portal",ax=_.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=_.useState(!1);As(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?AJ.createPortal(s.jsx(At.div,{...n,ref:t}),o):null});ax.displayName=Ege;function Tge(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var ca=e=>{const{present:t,children:r}=e,n=Age(t),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=Qt(n.ref,Pge(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};ca.displayName="Presence";function Age(e){const[t,r]=_.useState(),n=_.useRef(null),a=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Tge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=j_(n.current);i.current=l==="mounted"?u:"none"},[l]),As(()=>{const u=n.current,d=a.current;if(d!==e){const m=i.current,p=j_(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),As(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=j_(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(i.current=j_(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function j_(e){return e?.animationName||"none"}function Pge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Oge=hM[" useInsertionEffect ".trim().toString()]||As;function Ci({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Rge({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=_.useCallback(d=>{if(l){const f=Dge(d)?d(e):d;f!==e&&o.current?.(f)}else i(d)},[l,e,i,o]);return[c,u]}function Rge({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),a=_.useRef(r),i=_.useRef(t);return Oge(()=>{i.current=t},[t]),_.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function Dge(e){return typeof e=="function"}var FJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ige="VisuallyHidden",m2=_.forwardRef((e,t)=>s.jsx(At.span,{...e,ref:t,style:{...FJ,...e.style}}));m2.displayName=Ige;var Mge=m2,pM="ToastProvider",[gM,Fge,Lge]=sx("Toast"),[LJ]=zs("Toast",[Lge]),[$ge,p2]=LJ(pM),$J=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=_.useState(null),[u,d]=_.useState(0),f=_.useRef(!1),m=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${pM}\`. Expected non-empty \`string\`.`),s.jsx(gM.Provider,{scope:t,children:s.jsx($ge,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};$J.displayName=pM;var BJ="ToastViewport",Bge=["F8"],DR="toast.viewportPause",IR="toast.viewportResume",UJ=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Bge,label:a="Notifications ({hotkey})",...i}=e,o=p2(BJ,r),l=Fge(r),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),f=_.useRef(null),m=Qt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;_.useEffect(()=>{const v=w=>{n.length!==0&&n.every(j=>w[j]||w.code===j)&&f.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),_.useEffect(()=>{const v=c.current,w=f.current;if(y&&v&&w){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(DR);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(IR);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!v.contains(C.relatedTarget)&&j()},S=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",b),v.addEventListener("focusout",E),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",E),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[y,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:v})=>{const b=l().map(j=>{const E=j.ref.current,S=[E,...Qge(E)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return _.useEffect(()=>{const v=f.current;if(v){const w=b=>{const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const S=document.activeElement,C=b.shiftKey;if(b.target===v&&C){u.current?.focus();return}const O=g({tabbingDirection:C?"backwards":"forwards"}),P=O.findIndex(A=>A===S);ZE(O.slice(P+1))?b.preventDefault():C?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,g]),s.jsxs(Cge,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(MR,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});ZE(v)}}),s.jsx(gM.Slot,{scope:r,children:s.jsx(At.ol,{tabIndex:-1,...i,ref:m})}),y&&s.jsx(MR,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});ZE(v)}})]})});UJ.displayName=BJ;var VJ="ToastFocusProxy",MR=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=p2(VJ,r);return s.jsx(m2,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});MR.displayName=VJ;var _w="Toast",Uge="toast.swipeStart",Vge="toast.swipeMove",zge="toast.swipeCancel",qge="toast.swipeEnd",zJ=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Ci({prop:n,defaultProp:a??!0,onChange:i,caller:_w});return s.jsx(ca,{present:r||l,children:s.jsx(Gge,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ss(e.onPause),onResume:Ss(e.onResume),onSwipeStart:ht(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ht(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ht(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ht(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});zJ.displayName=_w;var[Wge,Hge]=LJ(_w,{onClose(){}}),Gge=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=p2(_w,r),[v,w]=_.useState(null),b=Qt(t,L=>w(L)),j=_.useRef(null),E=_.useRef(null),S=a||g.duration,C=_.useRef(0),k=_.useRef(S),D=_.useRef(0),{onToastAdd:O,onToastRemove:P}=g,A=Ss(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),R=_.useCallback(L=>{!L||L===1/0||(window.clearTimeout(D.current),C.current=new Date().getTime(),D.current=window.setTimeout(A,L))},[A]);_.useEffect(()=>{const L=g.viewport;if(L){const W=()=>{R(k.current),u?.()},V=()=>{const H=new Date().getTime()-C.current;k.current=k.current-H,window.clearTimeout(D.current),c?.()};return L.addEventListener(DR,V),L.addEventListener(IR,W),()=>{L.removeEventListener(DR,V),L.removeEventListener(IR,W)}}},[g.viewport,S,c,u,R]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&R(S)},[i,S,g.isClosePausedRef,R]),_.useEffect(()=>(O(),()=>P()),[O,P]);const F=_.useMemo(()=>v?XJ(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(Kge,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(Wge,{scope:r,onClose:A,children:nx.createPortal(s.jsx(gM.ItemSlot,{scope:r,children:s.jsx(kge,{asChild:!0,onEscapeKeyDown:ht(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(At.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ht(e.onKeyDown,L=>{L.key==="Escape"&&(l?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ht(e.onPointerDown,L=>{L.button===0&&(j.current={x:L.clientX,y:L.clientY})}),onPointerMove:ht(e.onPointerMove,L=>{if(!j.current)return;const W=L.clientX-j.current.x,V=L.clientY-j.current.y,H=!!E.current,G=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=G?I(0,W):0,X=G?0:I(0,V),z=L.pointerType==="touch"?10:2,Z={x:U,y:X},J={originalEvent:L,delta:Z};H?(E.current=Z,N_(Vge,f,J,{discrete:!1})):qB(Z,g.swipeDirection,z)?(E.current=Z,N_(Uge,d,J,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>z||Math.abs(V)>z)&&(j.current=null)}),onPointerUp:ht(e.onPointerUp,L=>{const W=E.current,V=L.target;if(V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),E.current=null,j.current=null,W){const H=L.currentTarget,G={originalEvent:L,delta:W};qB(W,g.swipeDirection,g.swipeThreshold)?N_(qge,p,G,{discrete:!0}):N_(zge,m,G,{discrete:!0}),H.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Kge=e=>{const{__scopeToast:t,children:r,...n}=e,a=p2(_w,t),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return Jge(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ax,{asChild:!0,children:s.jsx(m2,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Yge="ToastTitle",qJ=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(At.div,{...n,ref:t})});qJ.displayName=Yge;var Xge="ToastDescription",WJ=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(At.div,{...n,ref:t})});WJ.displayName=Xge;var HJ="ToastAction",GJ=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(YJ,{altText:r,asChild:!0,children:s.jsx(xM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HJ}\`. Expected non-empty \`string\`.`),null)});GJ.displayName=HJ;var KJ="ToastClose",xM=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Hge(KJ,r);return s.jsx(YJ,{asChild:!0,children:s.jsx(At.button,{type:"button",...n,ref:t,onClick:ht(e.onClick,a.onClose)})})});xM.displayName=KJ;var YJ=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(At.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function XJ(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Zge(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...XJ(n))}}),t}function N_(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?mM(a,i):a.dispatchEvent(i)}var qB=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Jge(e=()=>{}){const t=Ss(e);As(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Zge(e){return e.nodeType===e.ELEMENT_NODE}function Qge(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ZE(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var e0e=$J,JJ=UJ,ZJ=zJ,QJ=qJ,eZ=WJ,tZ=GJ,rZ=xM;function nZ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=nZ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Or(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=nZ(e))&&(n&&(n+=" "),n+=t);return n}const WB=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,HB=Or,ix=(e,t)=>r=>{var n;if(t?.variants==null)return HB(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const m=WB(d)||WB(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,f,m]:u},[]);return HB(e,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sZ=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...r0e,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sZ("lucide",a),...l},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(e,t)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(n0e,{ref:i,iconNode:t,className:sZ(`lucide-${t0e(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=ut("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ut("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=ut("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ut("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=ut("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=ut("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ut("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=ut("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=ut("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=ut("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=ut("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=ut("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ut("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ut("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ut("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=ut("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ut("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ut("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ut("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=ut("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ut("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ut("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=ut("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ut("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ut("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=ut("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=ut("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ut("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=ut("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ut("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=ut("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ut("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ut("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ut("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=ut("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ut("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=ut("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ut("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ut("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=ut("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=ut("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ut("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=ut("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ut("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ut("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ut("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=ut("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ut("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=ut("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=ut("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ut("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ut("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=ut("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ut("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ut("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=ut("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=ut("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=ut("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=ut("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=ut("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=ut("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_M="-",b0e=e=>{const t=_0e(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(_M);return l[0]===""&&l.length!==1&&l.shift(),pZ(l,t)||w0e(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},pZ=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?pZ(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(_M);return t.validators.find(({validator:o})=>o(i))?.classGroupId},n9=/^\[(.+)\]$/,w0e=e=>{if(n9.test(e)){const t=n9.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_0e=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return N0e(Object.entries(e.classGroups),r).forEach(([i,o])=>{VR(o,n,i,t)}),n},VR=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:s9(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(j0e(a)){VR(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{VR(o,s9(t,i),r,n)})})},s9=(e,t)=>{let r=e;return t.split(_M).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},j0e=e=>e.isThemeGetter,N0e=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,S0e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},gZ="!",k0e=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(w==="/"){f=v;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(gZ),y=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},C0e=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},E0e=e=>({cache:S0e(e.cacheSize),parseClassName:k0e(e),...b0e(e)}),T0e=/\s+/,A0e=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(T0e);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let y=!!p,g=n(y?m.substring(0,p):m);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=C0e(d).join(":"),w=f?v+gZ:v,b=w+g;if(i.includes(b))continue;i.push(b);const j=a(g,y);for(let E=0;E<j.length;++E){const S=j[E];i.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function P0e(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xZ(t))&&(n&&(n+=" "),n+=r);return n}const xZ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xZ(e[n]))&&(r&&(r+=" "),r+=t);return r};function O0e(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=E0e(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=A0e(c,r);return a(c,d),d}return function(){return i(P0e.apply(null,arguments))}}const Qn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,R0e=/^\d+\/\d+$/,D0e=new Set(["px","full","screen"]),I0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,L0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cu=e=>$g(e)||D0e.has(e)||R0e.test(e),Ld=e=>ox(e,"length",G0e),$g=e=>!!e&&!Number.isNaN(Number(e)),eT=e=>ox(e,"number",$g),dv=e=>!!e&&Number.isInteger(Number(e)),B0e=e=>e.endsWith("%")&&$g(e.slice(0,-1)),Fr=e=>vZ.test(e),$d=e=>I0e.test(e),U0e=new Set(["length","size","percentage"]),V0e=e=>ox(e,U0e,yZ),z0e=e=>ox(e,"position",yZ),q0e=new Set(["image","url"]),W0e=e=>ox(e,q0e,Y0e),H0e=e=>ox(e,"",K0e),fv=()=>!0,ox=(e,t,r)=>{const n=vZ.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},G0e=e=>M0e.test(e)&&!F0e.test(e),yZ=()=>!1,K0e=e=>L0e.test(e),Y0e=e=>$0e.test(e),X0e=()=>{const e=Qn("colors"),t=Qn("spacing"),r=Qn("blur"),n=Qn("brightness"),a=Qn("borderColor"),i=Qn("borderRadius"),o=Qn("borderSpacing"),l=Qn("borderWidth"),c=Qn("contrast"),u=Qn("grayscale"),d=Qn("hueRotate"),f=Qn("invert"),m=Qn("gap"),p=Qn("gradientColorStops"),y=Qn("gradientColorStopPositions"),g=Qn("inset"),v=Qn("margin"),w=Qn("opacity"),b=Qn("padding"),j=Qn("saturate"),E=Qn("scale"),S=Qn("sepia"),C=Qn("skew"),k=Qn("space"),D=Qn("translate"),O=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Fr,t],R=()=>[Fr,t],F=()=>["",Cu,Ld],L=()=>["auto",$g,Fr],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Fr],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[$g,Fr];return{cacheSize:500,separator:":",theme:{colors:[fv],spacing:[Cu,Ld],blur:["none","",$d,Fr],brightness:X(),borderColor:[e],borderRadius:["none","","full",$d,Fr],borderSpacing:R(),borderWidth:F(),contrast:X(),grayscale:I(),hueRotate:X(),invert:I(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[B0e,Ld],inset:A(),margin:A(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:I(),skew:X(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Fr]}],container:["container"],columns:[{columns:[$d]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Fr]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dv,Fr]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fr]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",dv,Fr]}],"grid-cols":[{"grid-cols":[fv]}],"col-start-end":[{col:["auto",{span:["full",dv,Fr]},Fr]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[fv]}],"row-start-end":[{row:["auto",{span:[dv,Fr]},Fr]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fr,t]}],"min-w":[{"min-w":[Fr,t,"min","max","fit"]}],"max-w":[{"max-w":[Fr,t,"none","full","min","max","fit","prose",{screen:[$d]},$d]}],h:[{h:[Fr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$d,Ld]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eT]}],"font-family":[{font:[fv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fr]}],"line-clamp":[{"line-clamp":["none",$g,eT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cu,Fr]}],"list-image":[{"list-image":["none",Fr]}],"list-style-type":[{list:["none","disc","decimal",Fr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cu,Ld]}],"underline-offset":[{"underline-offset":["auto",Cu,Fr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),z0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W0e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Cu,Fr]}],"outline-w":[{outline:[Cu,Ld]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Cu,Ld]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$d,H0e]}],"shadow-color":[{shadow:[fv]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$d,Fr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fr]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Fr]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[dv,Fr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cu,Ld,eT]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J0e=O0e(X0e);function ft(...e){return J0e(Or(e))}const Z0e=e0e,bZ=_.forwardRef(({className:e,...t},r)=>s.jsx(JJ,{ref:r,className:ft("fixed top-4 right-4 z-[100] flex max-h-screen max-w-[420px] flex-col gap-2 p-4",e),...t}));bZ.displayName=JJ.displayName;const Q0e=ix("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border-2 p-4 pr-8 shadow-xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border-emerald-400 bg-emerald-50 dark:bg-emerald-950 text-emerald-900 dark:text-emerald-100",destructive:"border-red-500 bg-red-50 dark:bg-red-950 text-red-900 dark:text-red-100"}},defaultVariants:{variant:"default"}}),wZ=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(ZJ,{ref:n,className:ft(Q0e({variant:t}),e),...r}));wZ.displayName=ZJ.displayName;const exe=_.forwardRef(({className:e,...t},r)=>s.jsx(tZ,{ref:r,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));exe.displayName=tZ.displayName;const _Z=_.forwardRef(({className:e,...t},r)=>s.jsx(rZ,{ref:r,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ua,{className:"h-4 w-4"})}));_Z.displayName=rZ.displayName;const jZ=_.forwardRef(({className:e,...t},r)=>s.jsx(QJ,{ref:r,className:ft("text-sm font-semibold",e),...t}));jZ.displayName=QJ.displayName;const NZ=_.forwardRef(({className:e,...t},r)=>s.jsx(eZ,{ref:r,className:ft("text-sm opacity-90",e),...t}));NZ.displayName=eZ.displayName;function txe(){const{toasts:e,dismiss:t}=ss(),r=_.useRef(null);return _.useEffect(()=>{const n=a=>{e.length!==0&&r.current&&!r.current.contains(a.target)&&e.forEach(i=>{t(i.id)})};if(e.length>0){const a=setTimeout(()=>{document.addEventListener("click",n)},100);return()=>{clearTimeout(a),document.removeEventListener("click",n)}}},[e,t]),s.jsxs(Z0e,{children:[e.map(function({id:n,title:a,description:i,action:o,...l}){return s.jsxs(wZ,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[a&&s.jsx(jZ,{children:a}),i&&s.jsx(NZ,{children:i})]}),o,s.jsx(_Z,{})]},n)}),s.jsx(bZ,{ref:r})]})}var nN=["light","dark"],jM="(prefers-color-scheme: dark)",rxe=typeof window>"u",NM=_.createContext(void 0),nxe={setTheme:e=>{},themes:[]},SZ=()=>{var e;return(e=_.useContext(NM))!=null?e:nxe},sxe=e=>_.useContext(NM)?e.children:_.createElement(ixe,{...e}),axe=["light","dark"],ixe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=axe,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=_.useState(()=>a9(a,o)),[p,y]=_.useState(()=>a9(a)),g=c?Object.values(c):i,v=_.useCallback(E=>{let S=E;if(!S)return;E==="system"&&r&&(S=i9());let C=c?c[S]:S,k=t?lxe():null,D=document.documentElement;if(l==="class"?(D.classList.remove(...g),C&&D.classList.add(C)):C?D.setAttribute(l,C):D.removeAttribute(l),n){let O=nN.includes(o)?o:null,P=nN.includes(S)?S:O;D.style.colorScheme=P}k?.()},[]),w=_.useCallback(E=>{let S=typeof E=="function"?E(E):E;m(S);try{localStorage.setItem(a,S)}catch{}},[e]),b=_.useCallback(E=>{let S=i9(E);y(S),f==="system"&&r&&!e&&v("system")},[f,e]);_.useEffect(()=>{let E=window.matchMedia(jM);return E.addListener(b),b(E),()=>E.removeListener(b)},[b]),_.useEffect(()=>{let E=S=>{if(S.key!==a)return;let C=S.newValue||o;w(C)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[w]),_.useEffect(()=>{v(e??f)},[e,f]);let j=_.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[f,w,e,p,r,i]);return _.createElement(NM.Provider,{value:j},_.createElement(oxe,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},oxe=_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?nN.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,v=!0)=>{let w=o?o[y]:y,b=g?y+"|| ''":`'${w}'`,j="";return a&&v&&!g&&nN.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),r==="class"?g||w?j+=`c.add(${b})`:j+="null":w&&(j+=`d[s](n,${b})`),j},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${jM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),a9=(e,t)=>{if(rxe)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},lxe=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},i9=e=>(e||(e=window.matchMedia(jM)),e.matches?"dark":"light"),cxe=e=>{switch(e){case"success":return fxe;case"info":return mxe;case"warning":return hxe;case"error":return pxe;default:return null}},uxe=Array(12).fill(0),dxe=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},uxe.map((r,n)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fxe=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hxe=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mxe=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pxe=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gxe=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xxe=()=>{let[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},zR=1,vxe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:zR++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],ce.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(bxe(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||zR++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oo=new vxe,yxe=(e,t)=>{let r=t?.id||zR++;return oo.addToast({title:e,...t,id:r}),r},bxe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wxe=yxe,_xe=()=>oo.toasts,jxe=()=>oo.getActiveToasts(),lt=Object.assign(wxe,{success:oo.success,info:oo.info,warning:oo.warning,error:oo.error,custom:oo.custom,message:oo.message,promise:oo.promise,dismiss:oo.dismiss,loading:oo.loading},{getHistory:_xe,getToasts:jxe});function Nxe(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Nxe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function S_(e){return e.label!==void 0}var Sxe=3,kxe="32px",Cxe="16px",o9=4e3,Exe=356,Txe=14,Axe=20,Pxe=200;function Zl(...e){return e.filter(Boolean).join(" ")}function Oxe(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Rxe=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:m,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:w,heights:b,index:j,toasts:E,expanded:S,removeToast:C,defaultRichColors:k,closeButton:D,style:O,cancelButtonStyle:P,actionButtonStyle:A,className:R="",descriptionClassName:F="",duration:L,position:W,gap:V,loadingIcon:H,expandByDefault:G,classNames:I,icons:U,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:z}=e,[Z,J]=ce.useState(null),[Q,de]=ce.useState(null),[fe,pe]=ce.useState(!1),[K,ee]=ce.useState(!1),[se,B]=ce.useState(!1),[ie,ae]=ce.useState(!1),[Ne,Ee]=ce.useState(!1),[ue,qe]=ce.useState(0),[Je,le]=ce.useState(0),we=ce.useRef(p.duration||L||o9),Oe=ce.useRef(null),Ge=ce.useRef(null),Ze=j===0,Se=j+1<=w,te=p.type,_e=p.dismissible!==!1,he=p.className||"",Re=p.descriptionClassName||"",De=ce.useMemo(()=>b.findIndex(Ot=>Ot.toastId===p.id)||0,[b,p.id]),Fe=ce.useMemo(()=>{var Ot;return(Ot=p.closeButton)!=null?Ot:D},[p.closeButton,D]),xe=ce.useMemo(()=>p.duration||L||o9,[p.duration,L]),He=ce.useRef(0),ot=ce.useRef(0),_t=ce.useRef(0),at=ce.useRef(null),[Xt,Mt]=W.split("-"),jt=ce.useMemo(()=>b.reduce((Ot,Jt,Mr)=>Mr>=De?Ot:Ot+Jt.height,0),[b,De]),Pr=xxe(),tr=p.invert||m,Sr=te==="loading";ot.current=ce.useMemo(()=>De*V+jt,[De,jt]),ce.useEffect(()=>{we.current=xe},[xe]),ce.useEffect(()=>{pe(!0)},[]),ce.useEffect(()=>{let Ot=Ge.current;if(Ot){let Jt=Ot.getBoundingClientRect().height;return le(Jt),v(Mr=>[{toastId:p.id,height:Jt,position:p.position},...Mr]),()=>v(Mr=>Mr.filter(zt=>zt.toastId!==p.id))}},[v,p.id]),ce.useLayoutEffect(()=>{if(!fe)return;let Ot=Ge.current,Jt=Ot.style.height;Ot.style.height="auto";let Mr=Ot.getBoundingClientRect().height;Ot.style.height=Jt,le(Mr),v(zt=>zt.find(Rt=>Rt.toastId===p.id)?zt.map(Rt=>Rt.toastId===p.id?{...Rt,height:Mr}:Rt):[{toastId:p.id,height:Mr,position:p.position},...zt])},[fe,p.title,p.description,v,p.id]);let Ir=ce.useCallback(()=>{ee(!0),qe(ot.current),v(Ot=>Ot.filter(Jt=>Jt.toastId!==p.id)),setTimeout(()=>{C(p)},Pxe)},[p,C,v,ot]);ce.useEffect(()=>{if(p.promise&&te==="loading"||p.duration===1/0||p.type==="loading")return;let Ot;return S||g||z&&Pr?(()=>{if(_t.current<He.current){let Jt=new Date().getTime()-He.current;we.current=we.current-Jt}_t.current=new Date().getTime()})():we.current!==1/0&&(He.current=new Date().getTime(),Ot=setTimeout(()=>{var Jt;(Jt=p.onAutoClose)==null||Jt.call(p,p),Ir()},we.current)),()=>clearTimeout(Ot)},[S,g,p,te,z,Pr,Ir]),ce.useEffect(()=>{p.delete&&Ir()},[Ir,p.delete]);function Ca(){var Ot,Jt,Mr;return U!=null&&U.loading?ce.createElement("div",{className:Zl(I?.loader,(Ot=p?.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":te==="loading"},U.loading):H?ce.createElement("div",{className:Zl(I?.loader,(Jt=p?.classNames)==null?void 0:Jt.loader,"sonner-loader"),"data-visible":te==="loading"},H):ce.createElement(dxe,{className:Zl(I?.loader,(Mr=p?.classNames)==null?void 0:Mr.loader),visible:te==="loading"})}return ce.createElement("li",{tabIndex:0,ref:Ge,className:Zl(R,he,I?.toast,(t=p?.classNames)==null?void 0:t.toast,I?.default,I?.[te],(r=p?.classNames)==null?void 0:r[te]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":fe,"data-promise":!!p.promise,"data-swiped":Ne,"data-removed":K,"data-visible":Se,"data-y-position":Xt,"data-x-position":Mt,"data-index":j,"data-front":Ze,"data-swiping":se,"data-dismissible":_e,"data-type":te,"data-invert":tr,"data-swipe-out":ie,"data-swipe-direction":Q,"data-expanded":!!(S||G&&fe),style:{"--index":j,"--toasts-before":j,"--z-index":E.length-j,"--offset":`${K?ue:ot.current}px`,"--initial-height":G?"auto":`${Je}px`,...O,...p.style},onDragEnd:()=>{B(!1),J(null),at.current=null},onPointerDown:Ot=>{Sr||!_e||(Oe.current=new Date,qe(ot.current),Ot.target.setPointerCapture(Ot.pointerId),Ot.target.tagName!=="BUTTON"&&(B(!0),at.current={x:Ot.clientX,y:Ot.clientY}))},onPointerUp:()=>{var Ot,Jt,Mr,zt;if(ie||!_e)return;at.current=null;let Rt=Number(((Ot=Ge.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),or=Number(((Jt=Ge.current)==null?void 0:Jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((Mr=Oe.current)==null?void 0:Mr.getTime()),Ft=Z==="x"?Rt:or,Lt=Math.abs(Ft)/vt;if(Math.abs(Ft)>=Axe||Lt>.11){qe(ot.current),(zt=p.onDismiss)==null||zt.call(p,p),de(Z==="x"?Rt>0?"right":"left":or>0?"down":"up"),Ir(),ae(!0),Ee(!1);return}B(!1),J(null)},onPointerMove:Ot=>{var Jt,Mr,zt,Rt;if(!at.current||!_e||((Jt=window.getSelection())==null?void 0:Jt.toString().length)>0)return;let or=Ot.clientY-at.current.y,vt=Ot.clientX-at.current.x,Ft=(Mr=e.swipeDirections)!=null?Mr:Oxe(W);!Z&&(Math.abs(vt)>1||Math.abs(or)>1)&&J(Math.abs(vt)>Math.abs(or)?"x":"y");let Lt={x:0,y:0};Z==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&or<0||Ft.includes("bottom")&&or>0)&&(Lt.y=or):Z==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&vt<0||Ft.includes("right")&&vt>0)&&(Lt.x=vt),(Math.abs(Lt.x)>0||Math.abs(Lt.y)>0)&&Ee(!0),(zt=Ge.current)==null||zt.style.setProperty("--swipe-amount-x",`${Lt.x}px`),(Rt=Ge.current)==null||Rt.style.setProperty("--swipe-amount-y",`${Lt.y}px`)}},Fe&&!p.jsx?ce.createElement("button",{"aria-label":X,"data-disabled":Sr,"data-close-button":!0,onClick:Sr||!_e?()=>{}:()=>{var Ot;Ir(),(Ot=p.onDismiss)==null||Ot.call(p,p)},className:Zl(I?.closeButton,(a=p?.classNames)==null?void 0:a.closeButton)},(i=U?.close)!=null?i:gxe):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ce.createElement(ce.Fragment,null,te||p.icon||p.promise?ce.createElement("div",{"data-icon":"",className:Zl(I?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ca():null,p.type!=="loading"?p.icon||U?.[te]||cxe(te):null):null,ce.createElement("div",{"data-content":"",className:Zl(I?.content,(l=p?.classNames)==null?void 0:l.content)},ce.createElement("div",{"data-title":"",className:Zl(I?.title,(c=p?.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ce.createElement("div",{"data-description":"",className:Zl(F,Re,I?.description,(u=p?.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&S_(p.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:Ot=>{var Jt,Mr;S_(p.cancel)&&_e&&((Mr=(Jt=p.cancel).onClick)==null||Mr.call(Jt,Ot),Ir())},className:Zl(I?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&S_(p.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:Ot=>{var Jt,Mr;S_(p.action)&&((Mr=(Jt=p.action).onClick)==null||Mr.call(Jt,Ot),!Ot.defaultPrevented&&Ir())},className:Zl(I?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function l9(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Dxe(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Cxe:kxe;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var Ixe=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:y=Sxe,toastOptions:g,dir:v=l9(),gap:w=Txe,loadingIcon:b,icons:j,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:S}=e,[C,k]=ce.useState([]),D=ce.useMemo(()=>Array.from(new Set([n].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,n]),[O,P]=ce.useState([]),[A,R]=ce.useState(!1),[F,L]=ce.useState(!1),[W,V]=ce.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ce.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ce.useRef(null),U=ce.useRef(!1),X=ce.useCallback(z=>{k(Z=>{var J;return(J=Z.find(Q=>Q.id===z.id))!=null&&J.delete||oo.dismiss(z.id),Z.filter(({id:Q})=>Q!==z.id)})},[]);return ce.useEffect(()=>oo.subscribe(z=>{if(z.dismiss){k(Z=>Z.map(J=>J.id===z.id?{...J,delete:!0}:J));return}setTimeout(()=>{AJ.flushSync(()=>{k(Z=>{let J=Z.findIndex(Q=>Q.id===z.id);return J!==-1?[...Z.slice(0,J),{...Z[J],...z},...Z.slice(J+1)]:[z,...Z]})})})}),[]),ce.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Z})=>{V(Z?"dark":"light")})}catch{z.addListener(({matches:J})=>{try{V(J?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),ce.useEffect(()=>{C.length<=1&&R(!1)},[C]),ce.useEffect(()=>{let z=Z=>{var J,Q;a.every(de=>Z[de]||Z.code===de)&&(R(!0),(J=H.current)==null||J.focus()),Z.code==="Escape"&&(document.activeElement===H.current||(Q=H.current)!=null&&Q.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),ce.useEffect(()=>{if(H.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,U.current=!1)}},[H.current]),ce.createElement("section",{ref:t,"aria-label":`${E} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((z,Z)=>{var J;let[Q,de]=z.split("-");return C.length?ce.createElement("ol",{key:z,dir:v==="auto"?l9():v,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Q,"data-lifted":A&&C.length>1&&!i,"data-x-position":de,style:{"--front-toast-height":`${((J=O[0])==null?void 0:J.height)||0}px`,"--width":`${Exe}px`,"--gap":`${w}px`,...p,...Dxe(c,u)},onBlur:fe=>{U.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(U.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||U.current||(U.current=!0,I.current=fe.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{F||R(!1)},onDragEnd:()=>R(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},C.filter(fe=>!fe.position&&Z===0||fe.position===z).map((fe,pe)=>{var K,ee;return ce.createElement(Rxe,{key:fe.id,icons:j,index:pe,toast:fe,defaultRichColors:f,duration:(K=g?.duration)!=null?K:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ee=g?.closeButton)!=null?ee:o,interacting:F,position:z,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:X,toasts:C.filter(se=>se.position==fe.position),heights:O.filter(se=>se.position==fe.position),setHeights:P,expandByDefault:i,gap:w,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Mxe=({...e})=>{const{theme:t="system"}=SZ();return s.jsx(Ixe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Fxe=hM[" useId ".trim().toString()]||(()=>{}),Lxe=0;function go(e){const[t,r]=_.useState(Fxe());return As(()=>{r(n=>n??String(Lxe++))},[e]),t?`radix-${t}`:""}const $xe=["top","right","bottom","left"],Ef=Math.min,Fo=Math.max,sN=Math.round,k_=Math.floor,Yc=e=>({x:e,y:e}),Bxe={left:"right",right:"left",bottom:"top",top:"bottom"},Uxe={start:"end",end:"start"};function qR(e,t,r){return Fo(e,Ef(t,r))}function Ju(e,t){return typeof e=="function"?e(t):e}function Zu(e){return e.split("-")[0]}function lx(e){return e.split("-")[1]}function SM(e){return e==="x"?"y":"x"}function kM(e){return e==="y"?"height":"width"}const Vxe=new Set(["top","bottom"]);function Vc(e){return Vxe.has(Zu(e))?"y":"x"}function CM(e){return SM(Vc(e))}function zxe(e,t,r){r===void 0&&(r=!1);const n=lx(e),a=CM(e),i=kM(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=aN(o)),[o,aN(o)]}function qxe(e){const t=aN(e);return[WR(e),t,WR(t)]}function WR(e){return e.replace(/start|end/g,t=>Uxe[t])}const c9=["left","right"],u9=["right","left"],Wxe=["top","bottom"],Hxe=["bottom","top"];function Gxe(e,t,r){switch(e){case"top":case"bottom":return r?t?u9:c9:t?c9:u9;case"left":case"right":return t?Wxe:Hxe;default:return[]}}function Kxe(e,t,r,n){const a=lx(e);let i=Gxe(Zu(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(WR)))),i}function aN(e){return e.replace(/left|right|bottom|top/g,t=>Bxe[t])}function Yxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function kZ(e){return typeof e!="number"?Yxe(e):{top:e,right:e,bottom:e,left:e}}function iN(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function d9(e,t,r){let{reference:n,floating:a}=e;const i=Vc(t),o=CM(t),l=kM(o),c=Zu(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(lx(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const Xxe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=d9(u,n,c),m=n,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:w}=l[g],{x:b,y:j,data:E,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=j??f,p={...p,[v]:{...p[v],...E}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=d9(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:p}};async function Hy(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Ju(t,e),y=kZ(p),v=l[m?f==="floating"?"reference":"floating":f],w=iN(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=iN(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(w.top-S.top+y.top)/E.y,bottom:(S.bottom-w.bottom+y.bottom)/E.y,left:(w.left-S.left+y.left)/E.x,right:(S.right-w.right+y.right)/E.x}}const Jxe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ju(e,t)||{};if(u==null)return{};const f=kZ(d),m={x:r,y:n},p=CM(a),y=kM(p),g=await o.getDimensions(u),v=p==="y",w=v?"top":"left",b=v?"bottom":"right",j=v?"clientHeight":"clientWidth",E=i.reference[y]+i.reference[p]-m[p]-i.floating[y],S=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=C?C[j]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[j]||i.floating[y]);const D=E/2-S/2,O=k/2-g[y]/2-1,P=Ef(f[w],O),A=Ef(f[b],O),R=P,F=k-g[y]-A,L=k/2-g[y]/2+D,W=qR(R,L,F),V=!c.arrow&&lx(a)!=null&&L!==W&&i.reference[y]/2-(L<R?P:A)-g[y]/2<0,H=V?L<R?L-R:L-F:0;return{[p]:m[p]+H,data:{[p]:W,centerOffset:L-W-H,...V&&{alignmentOffset:H}},reset:V}}}),Zxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Ju(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Zu(a),b=Vc(l),j=Zu(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(j||!g?[aN(l)]:qxe(l)),C=y!=="none";!m&&C&&S.push(...Kxe(l,g,y,E));const k=[l,...S],D=await Hy(t,v),O=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(D[w]),f){const L=zxe(a,o,E);O.push(D[L[0]],D[L[1]])}if(P=[...P,{placement:a,overflows:O}],!O.every(L=>L<=0)){var A,R;const L=(((A=i.flip)==null?void 0:A.index)||0)+1,W=k[L];if(W&&(!(f==="alignment"?b!==Vc(W):!1)||P.every(G=>G.overflows[0]>0&&Vc(G.placement)===b)))return{data:{index:L,overflows:P},reset:{placement:W}};let V=(R=P.filter(H=>H.overflows[0]<=0).sort((H,G)=>H.overflows[1]-G.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(p){case"bestFit":{var F;const H=(F=P.filter(G=>{if(C){const I=Vc(G.placement);return I===b||I==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(I=>I>0).reduce((I,U)=>I+U,0)]).sort((G,I)=>G[1]-I[1])[0])==null?void 0:F[0];H&&(V=H);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function f9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function h9(e){return $xe.some(t=>e[t]>=0)}const Qxe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ju(e,t);switch(n){case"referenceHidden":{const i=await Hy(t,{...a,elementContext:"reference"}),o=f9(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:h9(o)}}}case"escaped":{const i=await Hy(t,{...a,altBoundary:!0}),o=f9(i,r.floating);return{data:{escapedOffsets:o,escaped:h9(o)}}}default:return{}}}}},CZ=new Set(["left","top"]);async function eve(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Zu(r),l=lx(r),c=Vc(r)==="y",u=CZ.has(o)?-1:1,d=i&&c?-1:1,f=Ju(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const tve=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await eve(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},rve=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y:b}=v;return{x:w,y:b}}},...c}=Ju(e,t),u={x:r,y:n},d=await Hy(t,c),f=Vc(Zu(a)),m=SM(f);let p=u[m],y=u[f];if(i){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=p+d[v],j=p-d[w];p=qR(b,p,j)}if(o){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=y+d[v],j=y-d[w];y=qR(b,y,j)}const g=l.fn({...t,[m]:p,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},nve=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ju(e,t),d={x:r,y:n},f=Vc(a),m=SM(f);let p=d[m],y=d[f];const g=Ju(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=m==="y"?"height":"width",E=i.reference[m]-i.floating[j]+v.mainAxis,S=i.reference[m]+i.reference[j]-v.mainAxis;p<E?p=E:p>S&&(p=S)}if(u){var w,b;const j=m==="y"?"width":"height",E=CZ.has(Zu(a)),S=i.reference[f]-i.floating[j]+(E&&((w=o.offset)==null?void 0:w[f])||0)+(E?0:v.crossAxis),C=i.reference[f]+i.reference[j]+(E?0:((b=o.offset)==null?void 0:b[f])||0)-(E?v.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[m]:p,[f]:y}}}},sve=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ju(e,t),d=await Hy(t,u),f=Zu(a),m=lx(a),p=Vc(a)==="y",{width:y,height:g}=i.floating;let v,w;f==="top"||f==="bottom"?(v=f,w=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,v=m==="end"?"top":"bottom");const b=g-d.top-d.bottom,j=y-d.left-d.right,E=Ef(g-d[v],b),S=Ef(y-d[w],j),C=!t.middlewareData.shift;let k=E,D=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),C&&!m){const P=Fo(d.left,0),A=Fo(d.right,0),R=Fo(d.top,0),F=Fo(d.bottom,0);p?D=y-2*(P!==0||A!==0?P+A:Fo(d.left,d.right)):k=g-2*(R!==0||F!==0?R+F:Fo(d.top,d.bottom))}await c({...t,availableWidth:D,availableHeight:k});const O=await o.getDimensions(l.floating);return y!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function v2(){return typeof window<"u"}function cx(e){return EZ(e)?(e.nodeName||"").toLowerCase():"#document"}function Yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function uu(e){var t;return(t=(EZ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function EZ(e){return v2()?e instanceof Node||e instanceof Yo(e).Node:!1}function jc(e){return v2()?e instanceof Element||e instanceof Yo(e).Element:!1}function nu(e){return v2()?e instanceof HTMLElement||e instanceof Yo(e).HTMLElement:!1}function m9(e){return!v2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yo(e).ShadowRoot}const ave=new Set(["inline","contents"]);function Nw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Nc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ave.has(a)}const ive=new Set(["table","td","th"]);function ove(e){return ive.has(cx(e))}const lve=[":popover-open",":modal"];function y2(e){return lve.some(t=>{try{return e.matches(t)}catch{return!1}})}const cve=["transform","translate","scale","rotate","perspective"],uve=["transform","translate","scale","rotate","perspective","filter"],dve=["paint","layout","strict","content"];function EM(e){const t=TM(),r=jc(e)?Nc(e):e;return cve.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||uve.some(n=>(r.willChange||"").includes(n))||dve.some(n=>(r.contain||"").includes(n))}function fve(e){let t=Tf(e);for(;nu(t)&&!l0(t);){if(EM(t))return t;if(y2(t))return null;t=Tf(t)}return null}function TM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hve=new Set(["html","body","#document"]);function l0(e){return hve.has(cx(e))}function Nc(e){return Yo(e).getComputedStyle(e)}function b2(e){return jc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tf(e){if(cx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m9(e)&&e.host||uu(e);return m9(t)?t.host:t}function TZ(e){const t=Tf(e);return l0(t)?e.ownerDocument?e.ownerDocument.body:e.body:nu(t)&&Nw(t)?t:TZ(t)}function Gy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=TZ(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Yo(a);if(i){const l=HR(o);return t.concat(o,o.visualViewport||[],Nw(a)?a:[],l&&r?Gy(l):[])}return t.concat(a,Gy(a,[],r))}function HR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AZ(e){const t=Nc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=nu(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=sN(r)!==i||sN(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function AM(e){return jc(e)?e:e.contextElement}function Bg(e){const t=AM(e);if(!nu(t))return Yc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=AZ(t);let o=(i?sN(r.width):r.width)/n,l=(i?sN(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mve=Yc(0);function PZ(e){const t=Yo(e);return!TM()||!t.visualViewport?mve:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pve(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yo(e)?!1:t}function vm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=AM(e);let o=Yc(1);t&&(n?jc(n)&&(o=Bg(n)):o=Bg(e));const l=pve(i,r,n)?PZ(i):Yc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=Yo(i),p=n&&jc(n)?Yo(n):n;let y=m,g=HR(y);for(;g&&n&&p!==y;){const v=Bg(g),w=g.getBoundingClientRect(),b=Nc(g),j=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,E=w.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=j,u+=E,y=Yo(g),g=HR(y)}}return iN({width:d,height:f,x:c,y:u})}function PM(e,t){const r=b2(e).scrollLeft;return t?t.left+r:vm(uu(e)).left+r}function OZ(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:PM(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function gve(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=uu(n),l=t?y2(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Yc(1);const d=Yc(0),f=nu(n);if((f||!f&&!i)&&((cx(n)!=="body"||Nw(o))&&(c=b2(n)),nu(n))){const p=vm(n);u=Bg(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=o&&!f&&!i?OZ(o,c,!0):Yc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function xve(e){return Array.from(e.getClientRects())}function vve(e){const t=uu(e),r=b2(e),n=e.ownerDocument.body,a=Fo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Fo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+PM(e);const l=-r.scrollTop;return Nc(n).direction==="rtl"&&(o+=Fo(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function yve(e,t){const r=Yo(e),n=uu(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=TM();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const bve=new Set(["absolute","fixed"]);function wve(e,t){const r=vm(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=nu(e)?Bg(e):Yc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function p9(e,t,r){let n;if(t==="viewport")n=yve(e,r);else if(t==="document")n=vve(uu(e));else if(jc(t))n=wve(t,r);else{const a=PZ(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return iN(n)}function RZ(e,t){const r=Tf(e);return r===t||!jc(r)||l0(r)?!1:Nc(r).position==="fixed"||RZ(r,t)}function _ve(e,t){const r=t.get(e);if(r)return r;let n=Gy(e,[],!1).filter(l=>jc(l)&&cx(l)!=="body"),a=null;const i=Nc(e).position==="fixed";let o=i?Tf(e):e;for(;jc(o)&&!l0(o);){const l=Nc(o),c=EM(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&bve.has(a.position)||Nw(o)&&!c&&RZ(e,o))?n=n.filter(d=>d!==o):a=l,o=Tf(o)}return t.set(e,n),n}function jve(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?y2(t)?[]:_ve(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=p9(t,d,a);return u.top=Fo(f.top,u.top),u.right=Ef(f.right,u.right),u.bottom=Ef(f.bottom,u.bottom),u.left=Fo(f.left,u.left),u},p9(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nve(e){const{width:t,height:r}=AZ(e);return{width:t,height:r}}function Sve(e,t,r){const n=nu(t),a=uu(t),i=r==="fixed",o=vm(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Yc(0);function u(){c.x=PM(a)}if(n||!n&&!i)if((cx(t)!=="body"||Nw(a))&&(l=b2(t)),n){const p=vm(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?OZ(a,l):Yc(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function tT(e){return Nc(e).position==="static"}function g9(e,t){if(!nu(e)||Nc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return uu(e)===r&&(r=r.ownerDocument.body),r}function DZ(e,t){const r=Yo(e);if(y2(e))return r;if(!nu(e)){let a=Tf(e);for(;a&&!l0(a);){if(jc(a)&&!tT(a))return a;a=Tf(a)}return r}let n=g9(e,t);for(;n&&ove(n)&&tT(n);)n=g9(n,t);return n&&l0(n)&&tT(n)&&!EM(n)?r:n||fve(e)||r}const kve=async function(e){const t=this.getOffsetParent||DZ,r=this.getDimensions,n=await r(e.floating);return{reference:Sve(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Cve(e){return Nc(e).direction==="rtl"}const Eve={convertOffsetParentRelativeRectToViewportRelativeRect:gve,getDocumentElement:uu,getClippingRect:jve,getOffsetParent:DZ,getElementRects:kve,getClientRects:xve,getDimensions:Nve,getScale:Bg,isElement:jc,isRTL:Cve};function IZ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Tve(e,t){let r=null,n;const a=uu(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const y=k_(f),g=k_(a.clientWidth-(d+m)),v=k_(a.clientHeight-(f+p)),w=k_(d),j={rootMargin:-y+"px "+-g+"px "+-v+"px "+-w+"px",threshold:Fo(0,Ef(1,c))||1};let E=!0;function S(C){const k=C[0].intersectionRatio;if(k!==c){if(!E)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!IZ(u,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(e)}return o(!0),i}function Ave(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=AM(e),d=a||i?[...u?Gy(u):[],...Gy(t)]:[];d.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=u&&l?Tve(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?vm(e):null;c&&v();function v(){const w=vm(e);g&&!IZ(g,w)&&r(),g=w,y=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f?.(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Pve=tve,Ove=rve,Rve=Zxe,Dve=sve,Ive=Qxe,x9=Jxe,Mve=nve,Fve=(e,t,r)=>{const n=new Map,a={platform:Eve,...r},i={...a.platform,_c:n};return Xxe(e,t,{...a,platform:i})};var Lve=typeof document<"u",$ve=function(){},Pj=Lve?_.useLayoutEffect:$ve;function oN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!oN(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!oN(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function MZ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function v9(e,t){const r=MZ(e);return Math.round(t*r)/r}function rT(e){const t=_.useRef(e);return Pj(()=>{t.current=e}),t}function Bve(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=_.useState(n);oN(m,n)||p(n);const[y,g]=_.useState(null),[v,w]=_.useState(null),b=_.useCallback(G=>{G!==C.current&&(C.current=G,g(G))},[]),j=_.useCallback(G=>{G!==k.current&&(k.current=G,w(G))},[]),E=i||y,S=o||v,C=_.useRef(null),k=_.useRef(null),D=_.useRef(d),O=c!=null,P=rT(c),A=rT(a),R=rT(u),F=_.useCallback(()=>{if(!C.current||!k.current)return;const G={placement:t,strategy:r,middleware:m};A.current&&(G.platform=A.current),Fve(C.current,k.current,G).then(I=>{const U={...I,isPositioned:R.current!==!1};L.current&&!oN(D.current,U)&&(D.current=U,nx.flushSync(()=>{f(U)}))})},[m,t,r,A,R]);Pj(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const L=_.useRef(!1);Pj(()=>(L.current=!0,()=>{L.current=!1}),[]),Pj(()=>{if(E&&(C.current=E),S&&(k.current=S),E&&S){if(P.current)return P.current(E,S,F);F()}},[E,S,F,P,O]);const W=_.useMemo(()=>({reference:C,floating:k,setReference:b,setFloating:j}),[b,j]),V=_.useMemo(()=>({reference:E,floating:S}),[E,S]),H=_.useMemo(()=>{const G={position:r,left:0,top:0};if(!V.floating)return G;const I=v9(V.floating,d.x),U=v9(V.floating,d.y);return l?{...G,transform:"translate("+I+"px, "+U+"px)",...MZ(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:U}},[r,l,V.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:F,refs:W,elements:V,floatingStyles:H}),[d,F,W,V,H])}const Uve=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?x9({element:n.current,padding:a}).fn(r):{}:n?x9({element:n,padding:a}).fn(r):{}}}},Vve=(e,t)=>({...Pve(e),options:[e,t]}),zve=(e,t)=>({...Ove(e),options:[e,t]}),qve=(e,t)=>({...Mve(e),options:[e,t]}),Wve=(e,t)=>({...Rve(e),options:[e,t]}),Hve=(e,t)=>({...Dve(e),options:[e,t]}),Gve=(e,t)=>({...Ive(e),options:[e,t]}),Kve=(e,t)=>({...Uve(e),options:[e,t]});var Yve="Arrow",FZ=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(At.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});FZ.displayName=Yve;var Xve=FZ;function Sw(e){const[t,r]=_.useState(void 0);return As(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var OM="Popper",[LZ,Wf]=zs(OM),[Jve,$Z]=LZ(OM),BZ=e=>{const{__scopePopper:t,children:r}=e,[n,a]=_.useState(null);return s.jsx(Jve,{scope:t,anchor:n,onAnchorChange:a,children:r})};BZ.displayName=OM;var UZ="PopperAnchor",VZ=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=$Z(UZ,r),o=_.useRef(null),l=Qt(t,o);return _.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(At.div,{...a,ref:l})});VZ.displayName=UZ;var RM="PopperContent",[Zve,Qve]=LZ(RM),zZ=_.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,v=$Z(RM,r),[w,b]=_.useState(null),j=Qt(t,fe=>b(fe)),[E,S]=_.useState(null),C=Sw(E),k=C?.width??0,D=C?.height??0,O=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,F={padding:P,boundary:A.filter(tye),altBoundary:R},{refs:L,floatingStyles:W,placement:V,isPositioned:H,middlewareData:G}=Bve({strategy:"fixed",placement:O,whileElementsMounted:(...fe)=>Ave(...fe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Vve({mainAxis:a+D,alignmentAxis:o}),c&&zve({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qve():void 0,...F}),c&&Wve({...F}),Hve({...F,apply:({elements:fe,rects:pe,availableWidth:K,availableHeight:ee})=>{const{width:se,height:B}=pe.reference,ie=fe.floating.style;ie.setProperty("--radix-popper-available-width",`${K}px`),ie.setProperty("--radix-popper-available-height",`${ee}px`),ie.setProperty("--radix-popper-anchor-width",`${se}px`),ie.setProperty("--radix-popper-anchor-height",`${B}px`)}}),E&&Kve({element:E,padding:l}),rye({arrowWidth:k,arrowHeight:D}),m&&Gve({strategy:"referenceHidden",...F})]}),[I,U]=HZ(V),X=Ss(y);As(()=>{H&&X?.()},[H,X]);const z=G.arrow?.x,Z=G.arrow?.y,J=G.arrow?.centerOffset!==0,[Q,de]=_.useState();return As(()=>{w&&de(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:H?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Zve,{scope:r,placedSide:I,onArrowChange:S,arrowX:z,arrowY:Z,shouldHideArrow:J,children:s.jsx(At.div,{"data-side":I,"data-align":U,...g,ref:j,style:{...g.style,animation:H?void 0:"none"}})})})});zZ.displayName=RM;var qZ="PopperArrow",eye={top:"bottom",right:"left",bottom:"top",left:"right"},WZ=_.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Qve(qZ,n),o=eye[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Xve,{...a,ref:r,style:{...a.style,display:"block"}})})});WZ.displayName=qZ;function tye(e){return e!==null}var rye=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=HZ(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(a.arrow?.x??0)+l/2,p=(a.arrow?.y??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${m}px`,g=`${-c}px`):u==="top"?(y=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function HZ(e){const[t,r="center"]=e.split("-");return[t,r]}var w2=BZ,kw=VZ,_2=zZ,j2=WZ,[N2]=zs("Tooltip",[Wf]),S2=Wf(),GZ="TooltipProvider",nye=700,GR="tooltip.open",[sye,DM]=N2(GZ),KZ=e=>{const{__scopeTooltip:t,delayDuration:r=nye,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(sye,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};KZ.displayName=GZ;var Ky="Tooltip",[aye,k2]=N2(Ky),YZ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=DM(Ky,e.__scopeTooltip),u=S2(t),[d,f]=_.useState(null),m=go(),p=_.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,v=_.useRef(!1),[w,b]=Ci({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(GR))):c.onClose(),i?.(k)},caller:Ky}),j=_.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),E=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,b(!0)},[b]),S=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),C=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,b(!0),p.current=0},g)},[g,b]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(w2,{...u,children:s.jsx(aye,{scope:t,contentId:m,open:w,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?C():E()},[c.isOpenDelayedRef,C,E]),onTriggerLeave:_.useCallback(()=>{y?S():(window.clearTimeout(p.current),p.current=0)},[S,y]),onOpen:E,onClose:S,disableHoverableContent:y,children:r})})};YZ.displayName=Ky;var KR="TooltipTrigger",XZ=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=k2(KR,r),i=DM(KR,r),o=S2(r),l=_.useRef(null),c=Qt(t,l,a.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(kw,{asChild:!0,...o,children:s.jsx(At.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ht(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ht(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ht(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ht(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ht(e.onBlur,a.onClose),onClick:ht(e.onClick,a.onClose)})})});XZ.displayName=KR;var iye="TooltipPortal",[elt,oye]=N2(iye,{forceMount:void 0}),c0="TooltipContent",JZ=_.forwardRef((e,t)=>{const r=oye(c0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=k2(c0,e.__scopeTooltip);return s.jsx(ca,{present:n||o.open,children:o.disableHoverableContent?s.jsx(ZZ,{side:a,...i,ref:t}):s.jsx(lye,{side:a,...i,ref:t})})}),lye=_.forwardRef((e,t)=>{const r=k2(c0,e.__scopeTooltip),n=DM(c0,e.__scopeTooltip),a=_.useRef(null),i=Qt(t,a),[o,l]=_.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,m=_.useCallback(()=>{l(null),f(!1)},[f]),p=_.useCallback((y,g)=>{const v=y.currentTarget,w={x:y.clientX,y:y.clientY},b=hye(w,v.getBoundingClientRect()),j=mye(w,b),E=pye(g.getBoundingClientRect()),S=xye([...j,...E]);l(S),f(!0)},[f]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),_.useEffect(()=>{if(o){const y=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},b=c?.contains(v)||d?.contains(v),j=!gye(w,o);b?m():j&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),s.jsx(ZZ,{...e,ref:i})}),[cye,uye]=N2(Ky,{isInside:!1}),dye=RJ("TooltipContent"),ZZ=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=k2(c0,r),u=S2(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(GR,d),()=>document.removeEventListener(GR,d)),[d]),_.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(_2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(dye,{children:n}),s.jsx(cye,{scope:r,isInside:!0,children:s.jsx(Mge,{id:c.contentId,role:"tooltip",children:a||n})})]})})});JZ.displayName=c0;var QZ="TooltipArrow",fye=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=S2(r);return uye(QZ,r).isInside?null:s.jsx(j2,{...a,...n,ref:t})});fye.displayName=QZ;function hye(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mye(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function pye(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function gye(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function xye(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),vye(t)}function vye(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var yye=KZ,bye=YZ,wye=XZ,eQ=JZ;const Uh=yye,wg=bye,_g=wye,Vh=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(eQ,{ref:n,sideOffset:t,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Vh.displayName=eQ.displayName;var Cw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ym=typeof window>"u"||"Deno"in globalThis;function uo(){}function _ye(e,t){return typeof e=="function"?e(t):e}function YR(e){return typeof e=="number"&&e>=0&&e!==1/0}function tQ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ff(e,t){return typeof e=="function"?e(t):e}function Nl(e,t){return typeof e=="function"?e(t):e}function y9(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==IM(o,t.options))return!1}else if(!Xy(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function b9(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Yy(t.options.mutationKey)!==Yy(i))return!1}else if(!Xy(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function IM(e,t){return(t?.queryKeyHashFn||Yy)(e)}function Yy(e){return JSON.stringify(e,(t,r)=>JR(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Xy(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Xy(e[r],t[r])):!1}function rQ(e,t){if(e===t)return e;const r=w9(e)&&w9(t);if(r||JR(e)&&JR(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=rQ(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function XR(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function w9(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JR(e){if(!_9(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_9(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _9(e){return Object.prototype.toString.call(e)==="[object Object]"}function jye(e){return new Promise(t=>{setTimeout(t,e)})}function ZR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?rQ(e,t):t}function Nye(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Sye(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var MM=Symbol();function nQ(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===MM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kye(e,t){return typeof e=="function"?e(...t):!!e}var Cye=class extends Cw{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!ym&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},FM=new Cye,Eye=class extends Cw{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!ym&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},lN=new Eye;function QR(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Tye(e){return Math.min(1e3*2**e,3e4)}function sQ(e){return(e??"online")==="online"?lN.isOnline():!0}var aQ=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nT(e){return e instanceof aQ}function iQ(e){let t=!1,r=0,n=!1,a;const i=QR(),o=g=>{n||(m(new aQ(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>FM.isFocused()&&(e.networkMode==="always"||lN.isOnline())&&e.canRun(),d=()=>sQ(e.networkMode)&&e.canRun(),f=g=>{n||(n=!0,e.onSuccess?.(g),a?.(),i.resolve(g))},m=g=>{n||(n=!0,e.onError?.(g),a?.(),i.reject(g))},p=()=>new Promise(g=>{a=v=>{(n||u())&&g(v)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{if(n)return;const b=e.retry??(ym?0:3),j=e.retryDelay??Tye,E=typeof j=="function"?j(r,w):j,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!S){m(w);return}r++,e.onFail?.(r,w),jye(E).then(()=>u()?void 0:p()).then(()=>{t?m(w):y()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var Aye=e=>setTimeout(e,0);function Pye(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Aye;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Za=Pye(),oQ=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YR(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ym?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Oye=class extends oQ{#t;#e;#r;#n;#s;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Rye(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ZR(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(uo).catch(uo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Nl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ff(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!tQ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const c=nQ(this.options,t),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{nT(c)&&c.silent||this.#a({type:"error",error:c}),nT(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=iQ({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lQ(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return nT(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Za.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function lQ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sQ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Rye(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Dye=class extends Cw{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??IM(n,t);let i=this.get(a);return i||(i=new Oye({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Za.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>y9(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>y9(e,r)):t}notify(e){Za.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Za.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Za.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Iye=class extends oQ{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Mye(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=iQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Za.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Mye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fye=class extends Cw{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Iye({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=C_(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=C_(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=C_(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=C_(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Za.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>b9(t,r))}findAll(e={}){return this.getAll().filter(t=>b9(e,t))}notify(e){Za.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Za.batch(()=>Promise.all(e.map(t=>t.continue().catch(uo))))}};function C_(e){return e.options.scope?.id}function j9(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=nQ(t.options,t.fetchOptions),p=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return f(C),C})(),j=await m(b),{maxPages:E}=t.options,S=v?Sye:Nye;return{pages:S(y.pages,j,E),pageParams:S(y.pageParams,g,E)}};if(a&&i.length){const y=a==="backward",g=y?Lye:N9,v={pages:i,pageParams:o},w=g(n,v);l=await p(v,w,y)}else{const y=e??i.length;do{const g=c===0?o[0]??n.initialPageParam:N9(n,l);if(c>0&&g==null)break;l=await p(l,g),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function N9(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Lye(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var $ye=class{#t;#e;#r;#n;#s;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new Dye,this.#e=e.mutationCache||new Fye,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=FM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=lN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ff(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=_ye(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Za.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Za.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Za.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Za.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(uo).catch(uo)}invalidateQueries(e,t={}){return Za.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Za.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(uo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(uo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(ff(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(uo).catch(uo)}fetchInfiniteQuery(e){return e.behavior=j9(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(uo).catch(uo)}ensureInfiniteQueryData(e){return e.behavior=j9(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lN.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Yy(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Xy(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(Yy(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{Xy(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=IM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===MM&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Bye=class extends Cw{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=QR(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),S9(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eD(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eD(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nl(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!XR(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&k9(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Nl(this.options.enabled,this.#e)!==Nl(t.enabled,this.#e)||ff(this.options.staleTime,this.#e)!==ff(t.staleTime,this.#e))&&this.#g();const a=this.#x();n&&(this.#e!==r||Nl(this.options.enabled,this.#e)!==Nl(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Vye(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(uo)),t}#g(){this.#b();const e=ff(this.options.staleTime,this.#e);if(ym||this.#n.isStale||!YR(e))return;const r=tQ(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(ym||Nl(this.options.enabled,this.#e)===!1||!YR(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||FM.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#s,o=this.#o,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},f=!1,m;if(t._optimisticResults){const D=this.hasListeners(),O=!D&&S9(e,t),P=D&&k9(e,r,t,n);(O||P)&&(d={...d,...lQ(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:g}=d;m=d.data;let v=!1;if(t.placeholderData!==void 0&&m===void 0&&g==="pending"){let D;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(D=a.data,v=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,D!==void 0&&(g="success",m=ZR(a?.data,D,t),f=!0)}if(t.select&&m!==void 0&&!v)if(a&&m===i?.data&&t.select===this.#p)m=this.#f;else try{this.#p=t.select,m=t.select(m),m=ZR(a?.data,m,t),this.#f=m,this.#a=null}catch(D){this.#a=D}this.#a&&(p=this.#a,m=this.#f,y=Date.now(),g="error");const w=d.fetchStatus==="fetching",b=g==="pending",j=g==="error",E=b&&w,S=m!==void 0,k={status:g,fetchStatus:d.fetchStatus,isPending:b,isSuccess:g==="success",isError:j,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:LM(e,t),refetch:this.refetch,promise:this.#i,isEnabled:Nl(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=A=>{k.status==="error"?A.reject(k.error):k.data!==void 0&&A.resolve(k.data)},O=()=>{const A=this.#i=k.promise=QR();D(A)},P=this.#i;switch(P.status){case"pending":e.queryHash===r.queryHash&&D(P);break;case"fulfilled":(k.status==="error"||k.data!==P.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==P.reason)&&O();break}}return k}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),XR(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){Za.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Uye(e,t){return Nl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function S9(e,t){return Uye(e,t)||e.state.data!==void 0&&eD(e,t,t.refetchOnMount)}function eD(e,t,r){if(Nl(t.enabled,e)!==!1&&ff(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&LM(e,t)}return!1}function k9(e,t,r,n){return(e!==t||Nl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&LM(e,r)}function LM(e,t){return Nl(t.enabled,e)!==!1&&e.isStaleByTime(ff(t.staleTime,e))}function Vye(e,t){return!XR(e.getCurrentResult(),t)}var cQ=_.createContext(void 0),zye=e=>{const t=_.useContext(cQ);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qye=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(cQ.Provider,{value:e,children:t})),uQ=_.createContext(!1),Wye=()=>_.useContext(uQ);uQ.Provider;function Hye(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gye=_.createContext(Hye()),Kye=()=>_.useContext(Gye),Yye=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Xye=e=>{_.useEffect(()=>{e.clearReset()},[e])},Jye=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||kye(r,[e.error,n])),Zye=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Qye=(e,t)=>e.isLoading&&e.isFetching&&!t,ebe=(e,t)=>e?.suspense&&t.isPending,C9=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tbe(e,t,r){const n=Wye(),a=Kye(),i=zye(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Zye(o),Yye(o,a),Xye(a);const l=!i.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(f=>{const m=d?c.subscribe(Za.batchCalls(f)):uo;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o)},[o,c]),ebe(o,u))throw C9(o,c,a);if(Jye({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!ym&&Qye(u,n)&&(l?C9(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(uo).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function rbe(e,t){return tbe(e,Bye)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}var ef;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ef||(ef={}));const E9="popstate";function nbe(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return tD("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:cN(a)}return abe(t,r,null,e)}function Us(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dQ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sbe(){return Math.random().toString(36).substr(2,8)}function T9(e,t){return{usr:e.state,key:e.key,idx:t}}function tD(e,t,r,n){return r===void 0&&(r=null),Jy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ux(t):t,{state:r,key:t&&t.key||n||sbe()})}function cN(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ux(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function abe(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ef.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Jy({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ef.Pop;let v=d(),w=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:w})}function m(v,w){l=ef.Push;let b=tD(g.location,v,w);u=d()+1;let j=T9(b,u),E=g.createHref(b);try{o.pushState(j,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(E)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,w){l=ef.Replace;let b=tD(g.location,v,w);u=d();let j=T9(b,u),E=g.createHref(b);o.replaceState(j,"",E),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let w=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:cN(v);return b=b.replace(/ $/,"%20"),Us(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(E9,f),c=v,()=>{a.removeEventListener(E9,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(v){return o.go(v)}};return g}var A9;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A9||(A9={}));function ibe(e,t,r){return r===void 0&&(r="/"),obe(e,t,r)}function obe(e,t,r,n){let a=typeof t=="string"?ux(t):t,i=$M(a.pathname||"/",r);if(i==null)return null;let o=fQ(e);lbe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=bbe(i);l=xbe(o[c],u)}return l}function fQ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Us(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=hf([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Us(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fQ(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:pbe(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of hQ(i.path))a(i,o,c)}),t}function hQ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=hQ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function lbe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gbe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cbe=/^:[\w-]+$/,ube=3,dbe=2,fbe=1,hbe=10,mbe=-2,P9=e=>e==="*";function pbe(e,t){let r=e.split("/"),n=r.length;return r.some(P9)&&(n+=mbe),t&&(n+=dbe),r.filter(a=>!P9(a)).reduce((a,i)=>a+(cbe.test(i)?ube:i===""?fbe:hbe),n)}function gbe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function xbe(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=vbe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:hf([i,f.pathname]),pathnameBase:Nbe(hf([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=hf([i,f.pathnameBase]))}return o}function vbe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ybe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function ybe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),dQ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bbe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dQ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $M(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wbe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ux(e):e;return{pathname:r?r.startsWith("/")?r:_be(r,t):t,search:Sbe(n),hash:kbe(a)}}function _be(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function sT(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jbe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function BM(e,t){let r=jbe(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function UM(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ux(e):(a=Jy({},e),Us(!a.pathname||!a.pathname.includes("?"),sT("?","pathname","search",a)),Us(!a.pathname||!a.pathname.includes("#"),sT("#","pathname","hash",a)),Us(!a.search||!a.search.includes("#"),sT("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=wbe(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hf=e=>e.join("/").replace(/\/\/+/g,"/"),Nbe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sbe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kbe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cbe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mQ=["post","put","patch","delete"];new Set(mQ);const Ebe=["get",...mQ];new Set(Ebe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}const VM=_.createContext(null),Tbe=_.createContext(null),Hf=_.createContext(null),C2=_.createContext(null),du=_.createContext({outlet:null,matches:[],isDataRoute:!1}),pQ=_.createContext(null);function Abe(e,t){let{relative:r}=t===void 0?{}:t;dx()||Us(!1);let{basename:n,navigator:a}=_.useContext(Hf),{hash:i,pathname:o,search:l}=xQ(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:hf([n,o])),a.createHref({pathname:c,search:l,hash:i})}function dx(){return _.useContext(C2)!=null}function fu(){return dx()||Us(!1),_.useContext(C2).location}function gQ(e){_.useContext(Hf).static||_.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=_.useContext(du);return e?Wbe():Pbe()}function Pbe(){dx()||Us(!1);let e=_.useContext(VM),{basename:t,future:r,navigator:n}=_.useContext(Hf),{matches:a}=_.useContext(du),{pathname:i}=fu(),o=JSON.stringify(BM(a,r.v7_relativeSplatPath)),l=_.useRef(!1);return gQ(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=UM(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hf([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Obe=_.createContext(null);function Rbe(e){let t=_.useContext(du).outlet;return t&&_.createElement(Obe.Provider,{value:e},t)}function ld(){let{matches:e}=_.useContext(du),t=e[e.length-1];return t?t.params:{}}function xQ(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Hf),{matches:a}=_.useContext(du),{pathname:i}=fu(),o=JSON.stringify(BM(a,n.v7_relativeSplatPath));return _.useMemo(()=>UM(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Dbe(e,t){return Ibe(e,t)}function Ibe(e,t,r,n){dx()||Us(!1);let{navigator:a}=_.useContext(Hf),{matches:i}=_.useContext(du),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fu(),d;if(t){var f;let v=typeof t=="string"?ux(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Us(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=ibe(e,{pathname:p}),g=Bbe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:hf([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:hf([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?_.createElement(C2.Provider,{value:{location:Zy({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ef.Pop}},g):g}function Mbe(){let e=qbe(),t=Cbe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const Fbe=_.createElement(Mbe,null);class Lbe extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(du.Provider,{value:this.props.routeContext},_.createElement(pQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $be(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(VM);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(du.Provider,{value:t},n)}function Bbe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Us(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,y=!1,g=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Fbe,c&&(u<0&&m===0?(Hbe("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),b=()=>{let j;return p?j=g:y?j=v:f.route.Component?j=_.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,_.createElement($be,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?_.createElement(Lbe,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var vQ=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(vQ||{}),yQ=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(yQ||{});function Ube(e){let t=_.useContext(VM);return t||Us(!1),t}function Vbe(e){let t=_.useContext(Tbe);return t||Us(!1),t}function zbe(e){let t=_.useContext(du);return t||Us(!1),t}function bQ(e){let t=zbe(),r=t.matches[t.matches.length-1];return r.route.id||Us(!1),r.route.id}function qbe(){var e;let t=_.useContext(pQ),r=Vbe(),n=bQ();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Wbe(){let{router:e}=Ube(vQ.UseNavigateStable),t=bQ(yQ.UseNavigateStable),r=_.useRef(!1);return gQ(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Zy({fromRouteId:t},i)))},[e,t])}const O9={};function Hbe(e,t,r){O9[e]||(O9[e]=!0)}function Gbe(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Kbe(e){let{to:t,replace:r,state:n,relative:a}=e;dx()||Us(!1);let{future:i,static:o}=_.useContext(Hf),{matches:l}=_.useContext(du),{pathname:c}=fu(),u=ur(),d=UM(t,BM(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Ybe(e){return Rbe(e.context)}function Pt(e){Us(!1)}function Xbe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ef.Pop,navigator:i,static:o=!1,future:l}=e;dx()&&Us(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:Zy({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ux(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,g=_.useMemo(()=>{let v=$M(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:a}},[c,d,f,m,p,y,a]);return g==null?null:_.createElement(Hf.Provider,{value:u},_.createElement(C2.Provider,{children:r,value:g}))}function R9(e){let{children:t,location:r}=e;return Dbe(rD(t),r)}new Promise(()=>{});function rD(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let i=[...t,a];if(n.type===_.Fragment){r.push.apply(r,rD(n.props.children,i));return}n.type!==Pt&&Us(!1),!n.props.index||!n.props.children||Us(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=rD(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nD(){return nD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nD.apply(this,arguments)}function Jbe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Zbe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qbe(e,t){return e.button===0&&(!t||t==="_self")&&!Zbe(e)}function sD(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function ewe(e,t){let r=sD(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const twe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rwe="6";try{window.__reactRouterVersion=rwe}catch{}const nwe="startTransition",D9=hM[nwe];function swe(e){let{basename:t,children:r,future:n,window:a}=e,i=_.useRef();i.current==null&&(i.current=nbe({window:a,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&D9?D9(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>Gbe(n),[n]),_.createElement(Xbe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const awe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Jbe(t,twe),{basename:p}=_.useContext(Hf),y,g=!1;if(typeof u=="string"&&iwe.test(u)&&(y=u,awe))try{let j=new URL(window.location.href),E=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=$M(E.pathname,p);E.origin===j.origin&&S!=null?u=S+E.search+E.hash:g=!0}catch{}let v=Abe(u,{relative:a}),w=owe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(j){n&&n(j),j.defaultPrevented||w(j)}return _.createElement("a",nD({},m,{href:y||v,onClick:g||i?n:b,ref:r,target:c}))});var I9;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I9||(I9={}));var M9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M9||(M9={}));function owe(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ur(),u=fu(),d=xQ(e,{relative:o});return _.useCallback(f=>{if(Qbe(f,r)){f.preventDefault();let m=n!==void 0?n:cN(u)===cN(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Ew(e){let t=_.useRef(sD(e)),r=_.useRef(!1),n=fu(),a=_.useMemo(()=>ewe(n.search,r.current?null:t.current),[n.search]),i=ur(),o=_.useCallback((l,c)=>{const u=sD(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const zM="shopping_cart",E2=()=>{const e=localStorage.getItem(zM);return e?JSON.parse(e):[]},qM=e=>{localStorage.setItem(zM,JSON.stringify(e))},lwe=e=>{const t=E2(),r=t.findIndex(n=>n.productId===e.productId&&n.variant===e.variant);return r>-1?t[r].quantity+=e.quantity:t.push(e),qM(t),t},cwe=(e,t,r)=>{const n=E2(),a=n.findIndex(i=>i.productId===e&&i.variant===t);return a>-1&&(r<=0?n.splice(a,1):n[a].quantity=r),qM(n),n},uwe=(e,t)=>{const r=E2().filter(n=>!(n.productId===e&&n.variant===t));return qM(r),r},dwe=()=>{localStorage.removeItem(zM)},fwe=e=>e.reduce((t,r)=>t+r.price*r.quantity,0),hwe=e=>e.reduce((t,r)=>t+r.quantity,0),mwe=({animationState:e,onComplete:t})=>{const[r,n]=_.useState(!1),{imageSrc:a,startRect:i,endRect:o}=e;_.useEffect(()=>{const u=setTimeout(()=>{n(!0)},10),d=setTimeout(()=>{t()},1500);return()=>{clearTimeout(u),clearTimeout(d)}},[t]);const l={position:"fixed",top:i.top,left:i.left,width:i.width,height:i.height,zIndex:9999,pointerEvents:"none",transition:"all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)",borderRadius:"8px",objectFit:"cover"},c={...l,top:o.top+o.height/2,left:o.left+o.width/2,width:0,height:0,transform:"rotate(360deg) scale(0.1)",opacity:.5};return s.jsx("img",{src:a,alt:"Flying product",style:r?c:l})},wQ=_.createContext(void 0),pwe=({children:e})=>{const[t,r]=_.useState([]),[n,a]=_.useState(null);_.useEffect(()=>{r(E2())},[]);const i=p=>{const y=lwe(p);r(y)},o=(p,y)=>{const g=y.getBoundingClientRect(),v=document.querySelector("[data-cart-icon]");if(!v){console.warn("Cart icon not found for animation");return}const w=v.getBoundingClientRect();a({imageSrc:p,startRect:g,endRect:w})},l=()=>{a(null)},c=(p,y,g)=>{const v=cwe(p,y,g);r(v)},u=(p,y)=>{const g=uwe(p,y);r(g)},d=()=>{dwe(),r([])},f=hwe(t),m=fwe(t);return s.jsxs(wQ.Provider,{value:{cart:t,cartCount:f,cartTotal:m,addToCart:i,updateQuantity:c,removeItem:u,clearCart:d,triggerFlyAnimation:o},children:[e,n&&s.jsx(mwe,{animationState:n,onComplete:l})]})},T2=()=>{const e=_.useContext(wQ);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};var aT,F9;function gwe(){if(F9)return aT;F9=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(i[c],o[c]))return!1;return!0}var d;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=i.entries();!(c=d.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(e&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!a(i[u[c]],o[u[c]]))return!1;return!0}return i!==i&&o!==o}return aT=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},aT}var xwe=gwe();const vwe=tn(xwe);var iT,L9;function ywe(){if(L9)return iT;L9=1;var e=function(t,r,n,a,i,o,l,c){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,i,o,l,c],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return iT=e,iT}var bwe=ywe();const $9=tn(bwe);var oT,B9;function wwe(){return B9||(B9=1,oT=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],m=r[d];if(i=n?n.call(a,f,m,d):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),oT}var _we=wwe();const jwe=tn(_we);var _Q=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(_Q||{}),lT={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},U9=Object.values(_Q),WM={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Nwe=Object.entries(WM).reduce((e,[t,r])=>(e[r]=t,e),{}),hc="data-rh",Ug={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Vg=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},Swe=e=>{let t=Vg(e,"title");const r=Vg(e,Ug.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Vg(e,Ug.DEFAULT_TITLE);return t||n||void 0},kwe=e=>Vg(e,Ug.ON_CHANGE_CLIENT_STATE)||(()=>{}),cT=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),Cwe=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),Ewe=e=>console&&typeof console.warn=="function"&&console.warn(e),hv=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&Ewe(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const p=d[m],y=p.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},Twe=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},Awe=e=>({baseTag:Cwe(["href"],e),bodyAttributes:cT("bodyAttributes",e),defer:Vg(e,Ug.DEFER),encode:Vg(e,Ug.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cT("htmlAttributes",e),linkTags:hv("link",["rel","href"],e),metaTags:hv("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:hv("noscript",["innerHTML"],e),onChangeClientState:kwe(e),scriptTags:hv("script",["src","innerHTML"],e),styleTags:hv("style",["cssText"],e),title:Swe(e),titleAttributes:cT("titleAttributes",e),prioritizeSeoTags:Twe(e,Ug.PRIORITIZE_SEO_TAGS)}),jQ=e=>Array.isArray(e)?e.join(""):e,Pwe=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},uT=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(Pwe(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},V9=(e,t)=>({...e,[t]:void 0}),Owe=["noscript","script","style"],aD=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),NQ=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),Rwe=(e,t,r,n)=>{const a=NQ(r),i=jQ(t);return a?`<${e} ${hc}="true" ${a}>${aD(i,n)}</${e}>`:`<${e} ${hc}="true">${aD(i,n)}</${e}>`},Dwe=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof i[d]>"u"?d:`${d}="${aD(i[d],r)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=Owe.indexOf(e)===-1;return`${n}<${e} ${hc}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),SQ=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=WM[n];return r[a||n]=e[n],r},t),Iwe=(e,t,r)=>{const n={key:t,[hc]:!0},a=SQ(r,n);return[ce.createElement("title",a,t)]},Oj=(e,t)=>t.map((r,n)=>{const a={key:n,[hc]:!0};return Object.keys(r).forEach(i=>{const l=WM[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),ce.createElement(e,a)}),wl=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>Iwe(e,t.title,t.titleAttributes),toString:()=>Rwe(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>SQ(t),toString:()=>NQ(t)};default:return{toComponent:()=>Oj(e,t),toString:()=>Dwe(e,t,r)}}},Mwe=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=uT(e,lT.meta),i=uT(t,lT.link),o=uT(r,lT.script);return{priorityMethods:{toComponent:()=>[...Oj("meta",a.priority),...Oj("link",i.priority),...Oj("script",o.priority)],toString:()=>`${wl("meta",a.priority,n)} ${wl("link",i.priority,n)} ${wl("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},Fwe=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:m}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:m}=Mwe(e)),{priority:p,base:wl("base",t,n),bodyAttributes:wl("bodyAttributes",r,n),htmlAttributes:wl("htmlAttributes",a,n),link:wl("link",d,n),meta:wl("meta",f,n),noscript:wl("noscript",i,n),script:wl("script",m,n),style:wl("style",o,n),title:wl("title",{title:l,titleAttributes:c},n)}},iD=Fwe,E_=[],kQ=!!(typeof window<"u"&&window.document&&window.document.createElement),oD=class{instances=[];canUseDOM=kQ;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?E_:this.instances,add:e=>{(this.canUseDOM?E_:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?E_:this.instances).indexOf(e);(this.canUseDOM?E_:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=iD({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Lwe={},CQ=ce.createContext(Lwe),EQ=class TQ extends _.Component{static canUseDOM=kQ;helmetData;constructor(t){super(t),this.helmetData=new oD(this.props.context||{},TQ.canUseDOM)}render(){return ce.createElement(CQ.Provider,{value:this.helmetData.value},this.props.children)}},Up=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${hc}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(hc,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):i.push(c)}),a.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},lD=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(hc),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(hc):r.getAttribute(hc)!==o.join(",")&&r.setAttribute(hc,o.join(","))},$we=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=jQ(e)),lD("title",t)},z9=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=e;lD("body",n),lD("html",a),$we(f,m);const p={baseTag:Up("base",r),linkTags:Up("link",i),metaTags:Up("meta",o),noscriptTags:Up("noscript",l),scriptTags:Up("script",u),styleTags:Up("style",d)},y={},g={};Object.keys(p).forEach(v=>{const{newTags:w,oldTags:b}=p[v];w.length&&(y[v]=w),b.length&&(g[v]=p[v].oldTags)}),t&&t(),c(e,y,g)},mv=null,Bwe=e=>{mv&&cancelAnimationFrame(mv),e.defer?mv=requestAnimationFrame(()=>{z9(e,()=>{mv=null})}):(z9(e),mv=null)},Uwe=Bwe,q9=class extends _.Component{rendered=!1;shouldComponentUpdate(e){return!jwe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=Awe(e.get().map(a=>{const i={...a.props};return delete i.context,i}));EQ.canUseDOM?Uwe(n):iD&&(r=iD(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},HM=class extends _.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!vwe(V9(this.props,"helmetData"),V9(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return $9(U9.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${U9.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),$9(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return ce.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[Nwe[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof oD)){const a=n;n=new oD(a.context,!0),delete r.helmetData}return n?ce.createElement(q9,{...r,context:n.value}):ce.createElement(CQ.Consumer,null,a=>ce.createElement(q9,{...r,context:a}))}};function Vwe(){const{pathname:e}=fu();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Rj="digitaldukandar.in",W9=window.location.protocol;function A2(){const e=window.location.hostname;if(e.endsWith(".lovable.app")||e.endsWith(".lovableproject.com"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(".localhost")){const t=e.replace(".localhost","");return["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}if(e==="localhost"||e.startsWith("127.0.0.1"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(`.${Rj}`)){const t=e.replace(`.${Rj}`,"");return t===""||t==="www"?{type:"main",isStoreSpecific:!1}:["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}return e===Rj?{type:"main",isStoreSpecific:!1}:{type:"custom",customDomain:e,isStoreSpecific:!0}}function AQ(){const e=A2();return e.isStoreSpecific&&(e.subdomain||e.customDomain)||null}function zwe(e,t){return t?`${W9}//${t}`:`${W9}//${e}.${Rj}`}function su(){return A2().isStoreSpecific}const P2=ix("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?PJ:"button";return s.jsx(o,{className:ft(P2({variant:t,size:r,className:e})),ref:i,...a})});oe.displayName="Button";const ke=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ke.displayName="Card";const Qe=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("flex flex-col space-y-1.5 p-6",e),...t}));Qe.displayName="CardHeader";const et=_.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ft("text-2xl font-semibold leading-none tracking-tight",e),...t}));et.displayName="CardTitle";const Er=_.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));Er.displayName="CardDescription";const Te=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("p-6 pt-0",e),...t}));Te.displayName="CardContent";const PQ=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("flex items-center p-6 pt-0",e),...t}));PQ.displayName="CardFooter";function Au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Xo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},u0={duration:.5,overwrite:!1,delay:0},GM,ri,os,El=1e8,Mn=1/El,cD=Math.PI*2,qwe=cD/4,Wwe=0,RQ=Math.sqrt,Hwe=Math.cos,Gwe=Math.sin,Va=function(t){return typeof t=="string"},Cs=function(t){return typeof t=="function"},Qu=function(t){return typeof t=="number"},KM=function(t){return typeof t>"u"},au=function(t){return typeof t=="object"},xo=function(t){return t!==!1},YM=function(){return typeof window<"u"},T_=function(t){return Cs(t)||Va(t)},DQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ni=Array.isArray,Kwe=/random\([^)]+\)/g,Ywe=/,\s*/g,H9=/(?:-?\.?\d|\.)+/gi,IQ=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,jg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,dT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,MQ=/[+-]=-?[.\d]+/,Xwe=/[^,'"\[\]\s]+/gi,Jwe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ps,Lc,uD,XM,el={},uN={},FQ,LQ=function(t){return(uN=d0(t,el))&&_o},JM=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},Qy=function(t,r){return!r&&console.warn(t)},$Q=function(t,r){return t&&(el[t]=r)&&uN&&(uN[t]=r)||el},eb=function(){return 0},Zwe={suppressEvents:!0,isStart:!0,kill:!1},Dj={suppressEvents:!0,kill:!1},Qwe={suppressEvents:!0},ZM={},mf=[],dD={},BQ,Io={},fT={},G9=30,Ij=[],QM="",e5=function(t){var r=t[0],n,a;if(au(r)||Cs(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(a=Ij.length;a--&&!Ij[a].targetTest(r););n=Ij[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new uee(t[a],n)))||t.splice(a,1);return t},tm=function(t){return t._gsap||e5(Tl(t))[0]._gsap},UQ=function(t,r,n){return(n=t[r])&&Cs(n)?t[r]():KM(n)&&t.getAttribute&&t.getAttribute(r)||n},vo=function(t,r){return(t=t.split(",")).forEach(r)||t},Ms=function(t){return Math.round(t*1e5)/1e5||0},ms=function(t){return Math.round(t*1e7)/1e7||0},zg=function(t,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},e1e=function(t,r){for(var n=r.length,a=0;t.indexOf(r[a])<0&&++a<n;);return a<n},dN=function(){var t=mf.length,r=mf.slice(0),n,a;for(dD={},mf.length=0,n=0;n<t;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},t5=function(t){return!!(t._initted||t._startAt||t.add)},VQ=function(t,r,n,a){mf.length&&!ri&&dN(),t.render(r,n,!!(ri&&r<0&&t5(t))),mf.length&&!ri&&dN()},zQ=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(Xwe).length<2?r:Va(t)?t.trim():t},qQ=function(t){return t},tl=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},t1e=function(t){return function(r,n){for(var a in n)a in r||a==="duration"&&t||a==="ease"||(r[a]=n[a])}},d0=function(t,r){for(var n in r)t[n]=r[n];return t},K9=function e(t,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=au(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},fN=function(t,r){var n={},a;for(a in t)a in r||(n[a]=t[a]);return n},ay=function(t){var r=t.parent||ps,n=t.keyframes?t1e(Ni(t.keyframes)):tl;if(xo(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},r1e=function(t,r){for(var n=t.length,a=n===r.length;a&&n--&&t[n]===r[n];);return n<0},WQ=function(t,r,n,a,i){var o=t[a],l;if(i)for(l=r[i];o&&o[i]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=t[n],t[n]=r),r._next?r._next._prev=r:t[a]=r,r._prev=o,r.parent=r._dp=t,r},O2=function(t,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=r._prev,o=r._next;i?i._next=o:t[n]===r&&(t[n]=o),o?o._prev=i:t[a]===r&&(t[a]=i),r._next=r._prev=r.parent=null},Af=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},rm=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},n1e=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},fD=function(t,r,n,a){return t._startAt&&(ri?t._startAt.revert(Dj):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,a))},s1e=function e(t){return!t||t._ts&&e(t.parent)},Y9=function(t){return t._repeat?f0(t._tTime,t=t.duration()+t._rDelay)*t:0},f0=function(t,r){var n=Math.floor(t=ms(t/r));return t&&n===t?n-1:n},hN=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},R2=function(t){return t._end=ms(t._start+(t._tDur/Math.abs(t._ts||t._rts||Mn)||0))},D2=function(t,r){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=ms(n._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),R2(t),n._dirty||rm(n,t)),t},HQ=function(t,r){var n;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(n=hN(t.rawTime(),r),(!r._dur||Tw(0,r.totalDuration(),n)-r._tTime>Mn)&&r.render(n,!0)),rm(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Mn}},Bc=function(t,r,n,a){return r.parent&&Af(r),r._start=ms((Qu(n)?n:n||t!==ps?yl(t,n,r):t._time)+r._delay),r._end=ms(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),WQ(t,r,"_first","_last",t._sort?"_start":0),hD(r)||(t._recent=r),a||HQ(t,r),t._ts<0&&D2(t,t._tTime),t},GQ=function(t,r){return(el.ScrollTrigger||JM("scrollTrigger",r))&&el.ScrollTrigger.create(r,t)},KQ=function(t,r,n,a,i){if(n5(t,r,i),!t._initted)return 1;if(!n&&t._pt&&!ri&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&BQ!==Vo.frame)return mf.push(t),t._lazy=[i,a],1},a1e=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},hD=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},i1e=function(t,r,n,a){var i=t.ratio,o=r<0||!r&&(!t._start&&a1e(t)&&!(!t._initted&&hD(t))||(t._ts<0||t._dp._ts<0)&&!hD(t))?0:1,l=t._rDelay,c=0,u,d,f;if(l&&t._repeat&&(c=Tw(0,t._tDur,r),d=f0(c,l),t._yoyo&&d&1&&(o=1-o),d!==f0(t._tTime,l)&&(i=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==i||ri||a||t._zTime===Mn||!r&&t._zTime){if(!t._initted&&KQ(t,r,a,n,c))return;for(f=t._zTime,t._zTime=r||(n?Mn:0),n||(n=r&&!f),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,u=t._pt;u;)u.r(o,u.d),u=u._next;r<0&&fD(t,r,n,!0),t._onUpdate&&!n&&Go(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&Go(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===o&&(o&&Af(t,1),!n&&!ri&&(Go(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},o1e=function(t,r,n){var a;if(n>r)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},h0=function(t,r,n,a){var i=t._repeat,o=ms(r)||0,l=t._tTime/t._tDur;return l&&!a&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:ms(o*(i+1)+t._rDelay*i):o,l>0&&!a&&D2(t,t._tTime=t._tDur*l),t.parent&&R2(t),n||rm(t.parent,t),t},X9=function(t){return t instanceof Bi?rm(t):h0(t,t._dur)},l1e={_start:0,endTime:eb,totalDuration:eb},yl=function e(t,r,n){var a=t.labels,i=t._recent||l1e,o=t.duration()>=El?i.endTime(!1):t._dur,l,c,u;return Va(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),u=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(l<0?i:n).totalDuration()/100:1)):l<0?(r in a||(a[r]=o),a[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),u&&n&&(c=c/100*(Ni(n)?n[0]:n).totalDuration()),l>1?e(t,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},iy=function(t,r,n){var a=Qu(r[1]),i=(a?2:1)+(t<2?0:1),o=r[i],l,c;if(a&&(o.duration=r[1]),o.parent=n,t){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=xo(c.vars.inherit)&&c.parent;o.immediateRender=xo(l.immediateRender),t<2?o.runBackwards=1:o.startAt=r[i-1]}return new ra(r[0],o,r[i+1])},Gf=function(t,r){return t||t===0?r(t):r},Tw=function(t,r,n){return n<t?t:n>r?r:n},yi=function(t,r){return!Va(t)||!(r=Jwe.exec(t))?"":r[1]},c1e=function(t,r,n){return Gf(n,function(a){return Tw(t,r,a)})},mD=[].slice,YQ=function(t,r){return t&&au(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&au(t[0]))&&!t.nodeType&&t!==Lc},u1e=function(t,r,n){return n===void 0&&(n=[]),t.forEach(function(a){var i;return Va(a)&&!r||YQ(a,1)?(i=n).push.apply(i,Tl(a)):n.push(a)})||n},Tl=function(t,r,n){return os&&!r&&os.selector?os.selector(t):Va(t)&&!n&&(uD||!m0())?mD.call((r||XM).querySelectorAll(t),0):Ni(t)?u1e(t,n):YQ(t)?mD.call(t,0):t?[t]:[]},pD=function(t){return t=Tl(t)[0]||Qy("Invalid scope")||{},function(r){var n=t.current||t.nativeElement||t;return Tl(r,n.querySelectorAll?n:n===t?Qy("Invalid scope")||XM.createElement("div"):t)}},XQ=function(t){return t.sort(function(){return .5-Math.random()})},JQ=function(t){if(Cs(t))return t;var r=au(t)?t:{each:t},n=nm(r.ease),a=r.from||0,i=parseFloat(r.base)||0,o={},l=a>0&&a<1,c=isNaN(a)||l,u=r.axis,d=a,f=a;return Va(a)?d=f={center:.5,edges:.5,end:1}[a]||0:!l&&c&&(d=a[0],f=a[1]),function(m,p,y){var g=(y||r).length,v=o[g],w,b,j,E,S,C,k,D,O;if(!v){if(O=r.grid==="auto"?0:(r.grid||[1,El])[1],!O){for(k=-El;k<(k=y[O++].getBoundingClientRect().left)&&O<g;);O<g&&O--}for(v=o[g]=[],w=c?Math.min(O,g)*d-.5:a%O,b=O===El?0:c?g*f/O-.5:a/O|0,k=0,D=El,C=0;C<g;C++)j=C%O-w,E=b-(C/O|0),v[C]=S=u?Math.abs(u==="y"?E:j):RQ(j*j+E*E),S>k&&(k=S),S<D&&(D=S);a==="random"&&XQ(v),v.max=k-D,v.min=D,v.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(O>g?g-1:u?u==="y"?g/O:O:Math.max(O,g/O))||0)*(a==="edges"?-1:1),v.b=g<0?i-g:i,v.u=yi(r.amount||r.each)||0,n=n&&g<0?oee(n):n}return g=(v[m]-v.min)/v.max||0,ms(v.b+(n?n(g):g)*v.v)+v.u}},gD=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=ms(Math.round(parseFloat(n)/t)*t*r);return(a-a%1)/r+(Qu(n)?0:yi(n))}},ZQ=function(t,r){var n=Ni(t),a,i;return!n&&au(t)&&(a=n=t.radius||El,t.values?(t=Tl(t.values),(i=!Qu(t[0]))&&(a*=a)):t=gD(t.increment)),Gf(r,n?Cs(t)?function(o){return i=t(o),Math.abs(i-o)<=a?i:o}:function(o){for(var l=parseFloat(i?o.x:o),c=parseFloat(i?o.y:0),u=El,d=0,f=t.length,m,p;f--;)i?(m=t[f].x-l,p=t[f].y-c,m=m*m+p*p):m=Math.abs(t[f]-l),m<u&&(u=m,d=f);return d=!a||u<=a?t[d]:o,i||d===o||Qu(o)?d:d+yi(o)}:gD(t))},QQ=function(t,r,n,a){return Gf(Ni(t)?!r:n===!0?!!(n=0):!a,function(){return Ni(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(r-t+n*.99))/n)*n*a)/a})},d1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduce(function(i,o){return o(i)},a)}},f1e=function(t,r){return function(n){return t(parseFloat(n))+(r||yi(n))}},h1e=function(t,r,n){return tee(t,r,0,1,n)},eee=function(t,r,n){return Gf(n,function(a){return t[~~r(a)]})},m1e=function e(t,r,n){var a=r-t;return Ni(t)?eee(t,e(0,t.length),r):Gf(n,function(i){return(a+(i-t)%a)%a+t})},p1e=function e(t,r,n){var a=r-t,i=a*2;return Ni(t)?eee(t,e(0,t.length-1),r):Gf(n,function(o){return o=(i+(o-t)%i)%i||0,t+(o>a?i-o:o)})},tb=function(t){return t.replace(Kwe,function(r){var n=r.indexOf("[")+1,a=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(Ywe);return QQ(n?a:+a[0],n?0:+a[1],+a[2]||1e-5)})},tee=function(t,r,n,a,i){var o=r-t,l=a-n;return Gf(i,function(c){return n+((c-t)/o*l||0)})},g1e=function e(t,r,n,a){var i=isNaN(t+r)?0:function(p){return(1-p)*t+p*r};if(!i){var o=Va(t),l={},c,u,d,f,m;if(n===!0&&(a=1)&&(n=null),o)t={p:t},r={p:r};else if(Ni(t)&&!Ni(r)){for(d=[],f=t.length,m=f-2,u=1;u<f;u++)d.push(e(t[u-1],t[u]));f--,i=function(y){y*=f;var g=Math.min(m,~~y);return d[g](y-g)},n=r}else a||(t=d0(Ni(t)?[]:{},t));if(!d){for(c in r)r5.call(l,t,c,"get",r[c]);i=function(y){return i5(y,l)||(o?t.p:t)}}}return Gf(n,i)},J9=function(t,r,n){var a=t.labels,i=El,o,l,c;for(o in a)l=a[o]-r,l<0==!!n&&l&&i>(l=Math.abs(l))&&(c=o,i=l);return c},Go=function(t,r,n){var a=t.vars,i=a[r],o=os,l=t._ctx,c,u,d;if(i)return c=a[r+"Params"],u=a.callbackScope||t,n&&mf.length&&dN(),l&&(os=l),d=c?i.apply(u,c):i.call(u),os=o,d},Lv=function(t){return Af(t),t.scrollTrigger&&t.scrollTrigger.kill(!!ri),t.progress()<1&&Go(t,"onInterrupt"),t},Ng,ree=[],nee=function(t){if(t)if(t=!t.name&&t.default||t,YM()||t.headless){var r=t.name,n=Cs(t),a=r&&!n&&t.init?function(){this._props=[]}:t,i={init:eb,render:i5,add:r5,kill:O1e,modifier:P1e,rawVars:0},o={targetTest:0,get:0,getSetter:a5,aliases:{},register:0};if(m0(),t!==a){if(Io[r])return;tl(a,tl(fN(t,i),o)),d0(a.prototype,d0(i,fN(t,o))),Io[a.prop=r]=a,t.targetTest&&(Ij.push(a),ZM[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}$Q(r,a),t.register&&t.register(_o,a,yo)}else ree.push(t)},Dn=255,$v={aqua:[0,Dn,Dn],lime:[0,Dn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Dn],navy:[0,0,128],white:[Dn,Dn,Dn],olive:[128,128,0],yellow:[Dn,Dn,0],orange:[Dn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Dn,0,0],pink:[Dn,192,203],cyan:[0,Dn,Dn],transparent:[Dn,Dn,Dn,0]},hT=function(t,r,n){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(n-r)*t*6:t<.5?n:t*3<2?r+(n-r)*(2/3-t)*6:r)*Dn+.5|0},see=function(t,r,n){var a=t?Qu(t)?[t>>16,t>>8&Dn,t&Dn]:0:$v.black,i,o,l,c,u,d,f,m,p,y;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),$v[t])a=$v[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),o=t.charAt(2),l=t.charAt(3),t="#"+i+i+o+o+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&Dn,a&Dn,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&Dn,t&Dn]}else if(t.substr(0,3)==="hsl"){if(a=y=t.match(H9),!r)c=+a[0]%360/360,u=+a[1]/100,d=+a[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,a.length>3&&(a[3]*=1),a[0]=hT(c+1/3,i,o),a[1]=hT(c,i,o),a[2]=hT(c-1/3,i,o);else if(~t.indexOf("="))return a=t.match(IQ),n&&a.length<4&&(a[3]=1),a}else a=t.match(H9)||$v.transparent;a=a.map(Number)}return r&&!y&&(i=a[0]/Dn,o=a[1]/Dn,l=a[2]/Dn,f=Math.max(i,o,l),m=Math.min(i,o,l),d=(f+m)/2,f===m?c=u=0:(p=f-m,u=d>.5?p/(2-f-m):p/(f+m),c=f===i?(o-l)/p+(o<l?6:0):f===o?(l-i)/p+2:(i-o)/p+4,c*=60),a[0]=~~(c+.5),a[1]=~~(u*100+.5),a[2]=~~(d*100+.5)),n&&a.length<4&&(a[3]=1),a},aee=function(t){var r=[],n=[],a=-1;return t.split(pf).forEach(function(i){var o=i.match(jg)||[];r.push.apply(r,o),n.push(a+=o.length+1)}),r.c=n,r},Z9=function(t,r,n){var a="",i=(t+a).match(pf),o=r?"hsla(":"rgba(",l=0,c,u,d,f;if(!i)return t;if(i=i.map(function(m){return(m=see(m,r,1))&&o+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(d=aee(t),c=n.c,c.join(a)!==d.c.join(a)))for(u=t.replace(pf,"1").split(jg),f=u.length-1;l<f;l++)a+=u[l]+(~c.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:n).shift());if(!u)for(u=t.split(pf),f=u.length-1;l<f;l++)a+=u[l]+i[l];return a+u[f]},pf=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in $v)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),x1e=/hsl[a]?\(/,iee=function(t){var r=t.join(" "),n;if(pf.lastIndex=0,pf.test(r))return n=x1e.test(r),t[1]=Z9(t[1],n),t[0]=Z9(t[0],n,aee(t[1])),!0},rb,Vo=(function(){var e=Date.now,t=500,r=33,n=e(),a=n,i=1e3/240,o=i,l=[],c,u,d,f,m,p,y=function g(v){var w=e()-a,b=v===!0,j,E,S,C;if((w>t||w<0)&&(n+=w-r),a+=w,S=a-n,j=S-o,(j>0||b)&&(C=++f.frame,m=S-f.time*1e3,f.time=S=S/1e3,o+=j+(j>=i?4:i-j),E=1),b||(c=u(g)),E)for(p=0;p<l.length;p++)l[p](S,m,C,v)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(v){return m/(1e3/(v||60))},wake:function(){FQ&&(!uD&&YM()&&(Lc=uD=window,XM=Lc.document||{},el.gsap=_o,(Lc.gsapVersions||(Lc.gsapVersions=[])).push(_o.version),LQ(uN||Lc.GreenSockGlobals||!Lc.gsap&&Lc||{}),ree.forEach(nee)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(v){return setTimeout(v,o-f.time*1e3+1|0)},rb=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),rb=0,u=eb},lagSmoothing:function(v,w){t=v||1/0,r=Math.min(w||33,t)},fps:function(v){i=1e3/(v||240),o=f.time*1e3+i},add:function(v,w,b){var j=w?function(E,S,C,k){v(E,S,C,k),f.remove(j)}:v;return f.remove(v),l[b?"unshift":"push"](j),m0(),j},remove:function(v,w){~(w=l.indexOf(v))&&l.splice(w,1)&&p>=w&&p--},_listeners:l},f})(),m0=function(){return!rb&&Vo.wake()},Zr={},v1e=/^[\d.\-M][\d.\-,\s]/,y1e=/["']/g,b1e=function(t){for(var r={},n=t.substr(1,t.length-3).split(":"),a=n[0],i=1,o=n.length,l,c,u;i<o;i++)c=n[i],l=i!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),r[a]=isNaN(u)?u.replace(y1e,"").trim():+u,a=c.substr(l+1).trim();return r},w1e=function(t){var r=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",r);return t.substring(r,~a&&a<n?t.indexOf(")",n+1):n)},_1e=function(t){var r=(t+"").split("("),n=Zr[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[b1e(r[1])]:w1e(t).split(",").map(zQ)):Zr._CE&&v1e.test(t)?Zr._CE("",t):n},oee=function(t){return function(r){return 1-t(1-r)}},lee=function e(t,r){for(var n=t._first,a;n;)n instanceof Bi?e(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?e(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},nm=function(t,r){return t&&(Cs(t)?t:Zr[t]||_1e(t))||r},ep=function(t,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:a},o;return vo(t,function(l){Zr[l]=el[l]=i,Zr[o=l.toLowerCase()]=n;for(var c in i)Zr[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Zr[l+"."+c]=i[c]}),i},cee=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},mT=function e(t,r,n){var a=r>=1?r:1,i=(n||(t?.3:.45))/(r<1?r:1),o=i/cD*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*Gwe((d-o)*i)+1},c=t==="out"?l:t==="in"?function(u){return 1-l(1-u)}:cee(l);return i=cD/i,c.config=function(u,d){return e(t,u,d)},c},pT=function e(t,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},a=t==="out"?n:t==="in"?function(i){return 1-n(1-i)}:cee(n);return a.config=function(i){return e(t,i)},a};vo("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;ep(e+",Power"+(r-1),t?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Zr.Linear.easeNone=Zr.none=Zr.Linear.easeIn;ep("Elastic",mT("in"),mT("out"),mT());(function(e,t){var r=1/t,n=2*r,a=2.5*r,i=function(l){return l<r?e*l*l:l<n?e*Math.pow(l-1.5/t,2)+.75:l<a?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};ep("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);ep("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});ep("Circ",function(e){return-(RQ(1-e*e)-1)});ep("Sine",function(e){return e===1?1:-Hwe(e*qwe)+1});ep("Back",pT("in"),pT("out"),pT());Zr.SteppedEase=Zr.steps=el.SteppedEase={config:function(t,r){t===void 0&&(t=1);var n=1/t,a=t+(r?0:1),i=r?1:0,o=1-Mn;return function(l){return((a*Tw(0,o,l)|0)+i)*n}}};u0.ease=Zr["quad.out"];vo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return QM+=e+","+e+"Params,"});var uee=function(t,r){this.id=Wwe++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:UQ,this.set=r?r.getSetter:a5},nb=(function(){function e(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,h0(this,+r.duration,1,1),this.data=r.data,os&&(this._ctx=os,os.data.push(this)),rb||Vo.wake()}var t=e.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,h0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(m0(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(D2(this,n),!i._dp||i.parent||HQ(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Bc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Mn||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),VQ(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Y9(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Y9(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?f0(this._tTime,i)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-Mn?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?hN(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Mn?0:this._rts,this.totalTime(Tw(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),R2(this),n1e(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(m0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Mn&&(this._tTime-=Mn)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=ms(n);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Bc(a,this,this._start-this._delay),this}return this._start},t.endTime=function(n){return this._start+(xo(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?hN(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=Qwe);var a=ri;return ri=n,t5(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ri=a,this},t.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,X9(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,X9(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(yl(this,n),xo(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,xo(a)),this._dur||(this._zTime=-Mn),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Mn:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Mn,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-Mn)},t.eventCallback=function(n,a,i){var o=this.vars;return arguments.length>1?(a?(o[n]=a,i&&(o[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete o[n],this):o[n]},t.then=function(n){var a=this,i=a._prom;return new Promise(function(o){var l=Cs(n)?n:qQ,c=function(){var d=a.then;a.then=null,i&&i(),Cs(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),o(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?c():a._prom=c})},t.kill=function(){Lv(this)},e})();tl(nb.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Mn,_prom:0,_ps:!1,_rts:1});var Bi=(function(e){OQ(t,e);function t(n,a){var i;return n===void 0&&(n={}),i=e.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=xo(n.sortChildren),ps&&Bc(n.parent||ps,Au(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&GQ(Au(i),n.scrollTrigger),i}var r=t.prototype;return r.to=function(a,i,o){return iy(0,arguments,this),this},r.from=function(a,i,o){return iy(1,arguments,this),this},r.fromTo=function(a,i,o,l){return iy(2,arguments,this),this},r.set=function(a,i,o){return i.duration=0,i.parent=this,ay(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new ra(a,i,yl(this,o),1),this},r.call=function(a,i,o){return Bc(this,ra.delayedCall(0,a,i),o)},r.staggerTo=function(a,i,o,l,c,u,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new ra(a,o,yl(this,c)),this},r.staggerFrom=function(a,i,o,l,c,u,d){return o.runBackwards=1,ay(o).immediateRender=xo(o.immediateRender),this.staggerTo(a,i,o,l,c,u,d)},r.staggerFromTo=function(a,i,o,l,c,u,d,f){return l.startAt=o,ay(l).immediateRender=xo(l.immediateRender),this.staggerTo(a,i,l,c,u,d,f)},r.render=function(a,i,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=a<=0?0:ms(a),f=this._zTime<0!=a<0&&(this._initted||!u),m,p,y,g,v,w,b,j,E,S,C,k;if(this!==ps&&d>c&&a>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,a+=this._time-l),m=d,E=this._start,j=this._ts,w=!j,f&&(u||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(C=this._yoyo,v=u+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(v*100+a,i,o);if(m=ms(d%v),d===c?(g=this._repeat,m=u):(S=ms(d/v),g=~~S,g&&g===S&&(m=u,g--),m>u&&(m=u)),S=f0(this._tTime,v),!l&&this._tTime&&S!==g&&this._tTime-S*v-this._dur<=0&&(S=g),C&&g&1&&(m=u-m,k=1),g!==S&&!this._lock){var D=C&&S&1,O=D===(C&&g&1);if(g<S&&(D=!D),l=D?0:d%u?u:d,this._lock=1,this.render(l||(k?0:ms(g*v)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Go(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1,S=g),l&&l!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,O&&(this._lock=2,l=D?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;lee(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=o1e(this,ms(l),ms(m)),b&&(d-=m-(m=b._start))),this._tTime=d,this._time=m,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&u&&!i&&!S&&(Go(this,"onStart"),this._tTime!==d))return this;if(m>=l&&a>=0)for(p=this._first;p;){if(y=p._next,(p._act||m>=p._start)&&p._ts&&b!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(m-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(m-p._start)*p._ts,i,o),m!==this._time||!this._ts&&!w){b=0,y&&(d+=this._zTime=-Mn);break}}p=y}else{p=this._last;for(var P=a<0?a:m;p;){if(y=p._prev,(p._act||P<=p._end)&&p._ts&&b!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(P-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(P-p._start)*p._ts,i,o||ri&&t5(p)),m!==this._time||!this._ts&&!w){b=0,y&&(d+=this._zTime=P?-Mn:Mn);break}}p=y}}if(b&&!i&&(this.pause(),b.render(m>=l?0:-Mn)._zTime=m>=l?1:-1,this._ts))return this._start=E,R2(this),this.render(a,i,o);this._onUpdate&&!i&&Go(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(E===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((a||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Af(this,1),!i&&!(a<0&&!l)&&(d||l||!c)&&(Go(this,d===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,i){var o=this;if(Qu(i)||(i=yl(this,i,a)),!(a instanceof nb)){if(Ni(a))return a.forEach(function(l){return o.add(l,i)}),this;if(Va(a))return this.addLabel(a,i);if(Cs(a))a=ra.delayedCall(0,a);else return this}return this!==a?Bc(this,a,i):this},r.getChildren=function(a,i,o,l){a===void 0&&(a=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-El);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof ra?i&&c.push(u):(o&&c.push(u),a&&c.push.apply(c,u.getChildren(!0,i,o)))),u=u._next;return c},r.getById=function(a){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===a)return i[o]},r.remove=function(a){return Va(a)?this.removeLabel(a):Cs(a)?this.killTweensOf(a):(a.parent===this&&O2(this,a),a===this._recent&&(this._recent=this._last),rm(this))},r.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ms(Vo.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),e.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},r.addLabel=function(a,i){return this.labels[a]=yl(this,i),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,i,o){var l=ra.delayedCall(0,i||eb,o);return l.data="isPause",this._hasPause=1,Bc(this,l,yl(this,a))},r.removePause=function(a){var i=this._first;for(a=yl(this,a);i;)i._start===a&&i.data==="isPause"&&Af(i),i=i._next},r.killTweensOf=function(a,i,o){for(var l=this.getTweensOf(a,o),c=l.length;c--;)tf!==l[c]&&l[c].kill(a,i);return this},r.getTweensOf=function(a,i){for(var o=[],l=Tl(a),c=this._first,u=Qu(i),d;c;)c instanceof ra?e1e(c._targets,l)&&(u?(!tf||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&o.push(c):(d=c.getTweensOf(l,i)).length&&o.push.apply(o,d),c=c._next;return o},r.tweenTo=function(a,i){i=i||{};var o=this,l=yl(o,a),c=i,u=c.startAt,d=c.onStart,f=c.onStartParams,m=c.immediateRender,p,y=ra.to(o,tl({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||Mn,onStart:function(){if(o.pause(),!p){var v=i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==v&&h0(y,v,0,1).render(y._time,!0,!0),p=1}d&&d.apply(y,f||[])}},i));return m?y.render(0):y},r.tweenFromTo=function(a,i,o){return this.tweenTo(i,tl({startAt:{time:yl(this,a)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),J9(this,yl(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),J9(this,yl(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Mn)},r.shiftChildren=function(a,i,o){o===void 0&&(o=0);var l=this._first,c=this.labels,u;for(a=ms(a);l;)l._start>=o&&(l._start+=a,l._end+=a),l=l._next;if(i)for(u in c)c[u]>=o&&(c[u]+=a);return rm(this)},r.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return e.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),rm(this)},r.totalDuration=function(a){var i=0,o=this,l=o._last,c=El,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,Bc(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(i-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=ms(d/o._ts),o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=u;h0(o,o===ps&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(a){if(ps._ts&&(VQ(ps,hN(a,ps)),BQ=Vo.frame),Vo.frame>=G9){G9+=Xo.autoSleep||120;var i=ps._first;if((!i||!i._ts)&&Xo.autoSleep&&Vo._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Vo.sleep()}}},t})(nb);tl(Bi.prototype,{_lock:0,_hasPause:0,_forcing:0});var j1e=function(t,r,n,a,i,o,l){var c=new yo(this._pt,t,r,0,1,gee,null,i),u=0,d=0,f,m,p,y,g,v,w,b;for(c.b=n,c.e=a,n+="",a+="",(w=~a.indexOf("random("))&&(a=tb(a)),o&&(b=[n,a],o(b,t,r),n=b[0],a=b[1]),m=n.match(dT)||[];f=dT.exec(a);)y=f[0],g=a.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),y!==m[d++]&&(v=parseFloat(m[d-1])||0,c._pt={_next:c._pt,p:g||d===1?g:",",s:v,c:y.charAt(1)==="="?zg(v,y)-v:parseFloat(y)-v,m:p&&p<4?Math.round:0},u=dT.lastIndex);return c.c=u<a.length?a.substring(u,a.length):"",c.fp=l,(MQ.test(a)||w)&&(c.e=0),this._pt=c,c},r5=function(t,r,n,a,i,o,l,c,u,d){Cs(a)&&(a=a(i||0,t,o));var f=t[r],m=n!=="get"?n:Cs(f)?u?t[r.indexOf("set")||!Cs(t["get"+r.substr(3)])?r:"get"+r.substr(3)](u):t[r]():f,p=Cs(f)?u?E1e:mee:s5,y;if(Va(a)&&(~a.indexOf("random(")&&(a=tb(a)),a.charAt(1)==="="&&(y=zg(m,a)+(yi(m)||0),(y||y===0)&&(a=y))),!d||m!==a||xD)return!isNaN(m*a)&&a!==""?(y=new yo(this._pt,t,r,+m||0,a-(m||0),typeof f=="boolean"?A1e:pee,0,p),u&&(y.fp=u),l&&y.modifier(l,this,t),this._pt=y):(!f&&!(r in t)&&JM(r,a),j1e.call(this,t,r,m,a,p,c||Xo.stringFilter,u))},N1e=function(t,r,n,a,i){if(Cs(t)&&(t=oy(t,i,r,n,a)),!au(t)||t.style&&t.nodeType||Ni(t)||DQ(t))return Va(t)?oy(t,i,r,n,a):t;var o={},l;for(l in t)o[l]=oy(t[l],i,r,n,a);return o},dee=function(t,r,n,a,i,o){var l,c,u,d;if(Io[t]&&(l=new Io[t]).init(i,l.rawVars?r[t]:N1e(r[t],a,i,o,n),n,a,o)!==!1&&(n._pt=c=new yo(n._pt,i,t,0,1,l.render,l,0,l.priority),n!==Ng))for(u=n._ptLookup[n._targets.indexOf(i)],d=l._props.length;d--;)u[l._props[d]]=c;return l},tf,xD,n5=function e(t,r,n){var a=t.vars,i=a.ease,o=a.startAt,l=a.immediateRender,c=a.lazy,u=a.onUpdate,d=a.runBackwards,f=a.yoyoEase,m=a.keyframes,p=a.autoRevert,y=t._dur,g=t._startAt,v=t._targets,w=t.parent,b=w&&w.data==="nested"?w.vars.targets:v,j=t._overwrite==="auto"&&!GM,E=t.timeline,S,C,k,D,O,P,A,R,F,L,W,V,H;if(E&&(!m||!i)&&(i="none"),t._ease=nm(i,u0.ease),t._yEase=f?oee(nm(f===!0?i:f,u0.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!E&&!!a.runBackwards,!E||m&&!a.stagger){if(R=v[0]?tm(v[0]).harness:0,V=R&&a[R.prop],S=fN(a,ZM),g&&(g._zTime<0&&g.progress(1),r<0&&d&&l&&!p?g.render(-1,!0):g.revert(d&&y?Dj:Zwe),g._lazy=0),o){if(Af(t._startAt=ra.set(v,tl({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!g&&xo(c),startAt:null,delay:0,onUpdate:u&&function(){return Go(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(ri||!l&&!p)&&t._startAt.revert(Dj),l&&y&&r<=0&&n<=0){r&&(t._zTime=r);return}}else if(d&&y&&!g){if(r&&(l=!1),k=tl({overwrite:!1,data:"isFromStart",lazy:l&&!g&&xo(c),immediateRender:l,stagger:0,parent:w},S),V&&(k[R.prop]=V),Af(t._startAt=ra.set(v,k)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(ri?t._startAt.revert(Dj):t._startAt.render(-1,!0)),t._zTime=r,!l)e(t._startAt,Mn,Mn);else if(!r)return}for(t._pt=t._ptCache=0,c=y&&xo(c)||c&&!y,C=0;C<v.length;C++){if(O=v[C],A=O._gsap||e5(v)[C]._gsap,t._ptLookup[C]=L={},dD[A.id]&&mf.length&&dN(),W=b===v?C:b.indexOf(O),R&&(F=new R).init(O,V||S,t,W,b)!==!1&&(t._pt=D=new yo(t._pt,O,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(G){L[G]=D}),F.priority&&(P=1)),!R||V)for(k in S)Io[k]&&(F=dee(k,S,t,W,O,b))?F.priority&&(P=1):L[k]=D=r5.call(t,O,k,"get",S[k],W,b,0,a.stringFilter);t._op&&t._op[C]&&t.kill(O,t._op[C]),j&&t._pt&&(tf=t,ps.killTweensOf(O,L,t.globalTime(r)),H=!t.parent,tf=0),t._pt&&c&&(dD[A.id]=1)}P&&xee(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!H,m&&r<=0&&E.render(El,!0,!0)},S1e=function(t,r,n,a,i,o,l,c){var u=(t._pt&&t._ptCache||(t._ptCache={}))[r],d,f,m,p;if(!u)for(u=t._ptCache[r]=[],m=t._ptLookup,p=t._targets.length;p--;){if(d=m[p][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return xD=1,t.vars[r]="+=0",n5(t,l),xD=0,c?Qy(r+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)f=u[p],d=f._pt||f,d.s=(a||a===0)&&!i?a:d.s+(a||0)+o*d.c,d.c=n-d.s,f.e&&(f.e=Ms(n)+yi(f.e)),f.b&&(f.b=d.s+yi(f.b))},k1e=function(t,r){var n=t[0]?tm(t[0]).harness:0,a=n&&n.aliases,i,o,l,c;if(!a)return r;i=d0({},r);for(o in a)if(o in i)for(c=a[o].split(","),l=c.length;l--;)i[c[l]]=i[o];return i},C1e=function(t,r,n,a){var i=r.ease||a||"power1.inOut",o,l;if(Ni(r))l=n[t]||(n[t]=[]),r.forEach(function(c,u){return l.push({t:u/(r.length-1)*100,v:c,e:i})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(t),v:r[o],e:i})},oy=function(t,r,n,a,i){return Cs(t)?t.call(r,n,a,i):Va(t)&&~t.indexOf("random(")?tb(t):t},fee=QM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hee={};vo(fee+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return hee[e]=1});var ra=(function(e){OQ(t,e);function t(n,a,i,o){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=e.call(this,o?a:ay(a))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,m=c.stagger,p=c.overwrite,y=c.keyframes,g=c.defaults,v=c.scrollTrigger,w=c.yoyoEase,b=a.parent||ps,j=(Ni(n)||DQ(n)?Qu(n[0]):"length"in a)?[n]:Tl(n),E,S,C,k,D,O,P,A;if(l._targets=j.length?e5(j):Qy("GSAP target "+n+" not found. https://gsap.com",!Xo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=p,y||m||T_(u)||T_(d)){if(a=l.vars,E=l.timeline=new Bi({data:"nested",defaults:g||{},targets:b&&b.data==="nested"?b.vars.targets:j}),E.kill(),E.parent=E._dp=Au(l),E._start=0,m||T_(u)||T_(d)){if(k=j.length,P=m&&JQ(m),au(m))for(D in m)~fee.indexOf(D)&&(A||(A={}),A[D]=m[D]);for(S=0;S<k;S++)C=fN(a,hee),C.stagger=0,w&&(C.yoyoEase=w),A&&d0(C,A),O=j[S],C.duration=+oy(u,Au(l),S,O,j),C.delay=(+oy(d,Au(l),S,O,j)||0)-l._delay,!m&&k===1&&C.delay&&(l._delay=d=C.delay,l._start+=d,C.delay=0),E.to(O,C,P?P(S,O,j):0),E._ease=Zr.none;E.duration()?u=d=0:l.timeline=0}else if(y){ay(tl(E.vars.defaults,{ease:"none"})),E._ease=nm(y.ease||a.ease||"none");var R=0,F,L,W;if(Ni(y))y.forEach(function(V){return E.to(j,V,">")}),E.duration();else{C={};for(D in y)D==="ease"||D==="easeEach"||C1e(D,y[D],C,y.easeEach);for(D in C)for(F=C[D].sort(function(V,H){return V.t-H.t}),R=0,S=0;S<F.length;S++)L=F[S],W={ease:L.e,duration:(L.t-(S?F[S-1].t:0))/100*u},W[D]=L.v,E.to(j,W,R),R+=W.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||l.duration(u=E.duration())}else l.timeline=0;return p===!0&&!GM&&(tf=Au(l),ps.killTweensOf(j),tf=0),Bc(b,Au(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(f||!u&&!y&&l._start===ms(b._time)&&xo(f)&&s1e(Au(l))&&b.data!=="nested")&&(l._tTime=-Mn,l.render(Math.max(0,-d)||0)),v&&GQ(Au(l),v),l}var r=t.prototype;return r.render=function(a,i,o){var l=this._time,c=this._tDur,u=this._dur,d=a<0,f=a>c-Mn&&!d?c:a<Mn?0:a,m,p,y,g,v,w,b,j,E;if(!u)i1e(this,a,i,o);else if(f!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=f,j=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+a,i,o);if(m=ms(f%g),f===c?(y=this._repeat,m=u):(v=ms(f/g),y=~~v,y&&y===v?(m=u,y--):m>u&&(m=u)),w=this._yoyo&&y&1,w&&(E=this._yEase,m=u-m),v=f0(this._tTime,g),m===l&&!o&&this._initted&&y===v)return this._tTime=f,this;y!==v&&(j&&this._yEase&&lee(j,w),this.vars.repeatRefresh&&!w&&!this._lock&&m!==g&&this._initted&&(this._lock=o=1,this.render(ms(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(KQ(this,d?a:m,o,i,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&y!==v))return this;if(u!==this._dur)return this.render(a,i,o)}if(this._tTime=f,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(E||this._ease)(m/u),this._from&&(this.ratio=b=1-b),!l&&f&&!i&&!v&&(Go(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(b,p.d),p=p._next;j&&j.render(a<0?a:j._dur*j._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&fD(this,a,i,o),Go(this,"onUpdate")),this._repeat&&y!==v&&this.vars.onRepeat&&!i&&this.parent&&Go(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&fD(this,a,!0,!0),(a||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Af(this,1),!i&&!(d&&!l)&&(f||l||w)&&(Go(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),e.prototype.invalidate.call(this,a)},r.resetTo=function(a,i,o,l,c){rb||Vo.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||n5(this,u),d=this._ease(u/this._dur),S1e(this,a,i,o,l,d,u,c)?this.resetTo(a,i,o,l,1):(D2(this,0),this.parent||WQ(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Lv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ri),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,tf&&tf.vars.overwrite!==!0)._first||Lv(this),this.parent&&o!==this.timeline.totalDuration()&&h0(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=a?Tl(a):l,u=this._ptLookup,d=this._pt,f,m,p,y,g,v,w;if((!i||i==="all")&&r1e(l,c))return i==="all"&&(this._pt=0),Lv(this);for(f=this._op=this._op||[],i!=="all"&&(Va(i)&&(g={},vo(i,function(b){return g[b]=1}),i=g),i=k1e(l,i)),w=l.length;w--;)if(~c.indexOf(l[w])){m=u[w],i==="all"?(f[w]=i,y=m,p={}):(p=f[w]=f[w]||{},y=i);for(g in y)v=m&&m[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&O2(this,v,"_pt"),delete m[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&Lv(this),this},t.to=function(a,i){return new t(a,i,arguments[2])},t.from=function(a,i){return iy(1,arguments)},t.delayedCall=function(a,i,o,l){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},t.fromTo=function(a,i,o){return iy(2,arguments)},t.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(a,i)},t.killTweensOf=function(a,i,o){return ps.killTweensOf(a,i,o)},t})(nb);tl(ra.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});vo("staggerTo,staggerFrom,staggerFromTo",function(e){ra[e]=function(){var t=new Bi,r=mD.call(arguments,0);return r.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,r)}});var s5=function(t,r,n){return t[r]=n},mee=function(t,r,n){return t[r](n)},E1e=function(t,r,n,a){return t[r](a.fp,n)},T1e=function(t,r,n){return t.setAttribute(r,n)},a5=function(t,r){return Cs(t[r])?mee:KM(t[r])&&t.setAttribute?T1e:s5},pee=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},A1e=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},gee=function(t,r){var n=r._pt,a="";if(!t&&r.b)a=r.b;else if(t===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},i5=function(t,r){for(var n=r._pt;n;)n.r(t,n.d),n=n._next},P1e=function(t,r,n,a){for(var i=this._pt,o;i;)o=i._next,i.p===a&&i.modifier(t,r,n),i=o},O1e=function(t){for(var r=this._pt,n,a;r;)a=r._next,r.p===t&&!r.op||r.op===t?O2(this,r,"_pt"):r.dep||(n=1),r=a;return!n},R1e=function(t,r,n,a){a.mSet(t,r,a.m.call(a.tween,n,a.mt),a)},xee=function(t){for(var r=t._pt,n,a,i,o;r;){for(n=r._next,a=i;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:o)?r._prev._next=r:i=r,(r._next=a)?a._prev=r:o=r,r=n}t._pt=i},yo=(function(){function e(r,n,a,i,o,l,c,u,d){this.t=n,this.s=i,this.c=o,this.p=a,this.r=l||pee,this.d=c||this,this.set=u||s5,this.pr=d||0,this._next=r,r&&(r._prev=this)}var t=e.prototype;return t.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=R1e,this.m=n,this.mt=i,this.tween=a},e})();vo(QM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return ZM[e]=1});el.TweenMax=el.TweenLite=ra;el.TimelineLite=el.TimelineMax=Bi;ps=new Bi({sortChildren:!1,defaults:u0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Xo.stringFilter=iee;var sm=[],Mj={},D1e=[],Q9=0,I1e=0,gT=function(t){return(Mj[t]||D1e).map(function(r){return r()})},vD=function(){var t=Date.now(),r=[];t-Q9>2&&(gT("matchMediaInit"),sm.forEach(function(n){var a=n.queries,i=n.conditions,o,l,c,u;for(l in a)o=Lc.matchMedia(a[l]).matches,o&&(c=1),o!==i[l]&&(i[l]=o,u=1);u&&(n.revert(),c&&r.push(n))}),gT("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),Q9=t,gT("matchMedia"))},vee=(function(){function e(r,n){this.selector=n&&pD(n),this.data=[],this._r=[],this.isReverted=!1,this.id=I1e++,r&&this.add(r)}var t=e.prototype;return t.add=function(n,a,i){Cs(n)&&(i=a,a=n,n=Cs);var o=this,l=function(){var u=os,d=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=pD(i)),os=o,f=a.apply(o,arguments),Cs(f)&&o._r.push(f),os=u,o.selector=d,o.isReverted=!1,f};return o.last=l,n===Cs?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},t.ignore=function(n){var a=os;os=null,n(this),os=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof e?n.push.apply(n,a.getTweens()):a instanceof ra&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var i=this;if(n?(function(){for(var l=i.getTweens(),c=i.data.length,u;c--;)u=i.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=i.data.length;c--;)u=i.data[c],u instanceof Bi?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ra)&&u.revert&&u.revert(n);i._r.forEach(function(d){return d(n,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var o=sm.length;o--;)sm[o].id===this.id&&sm.splice(o,1)},t.revert=function(n){this.kill(n||{})},e})(),M1e=(function(){function e(r){this.contexts=[],this.scope=r,os&&os.data.push(this)}var t=e.prototype;return t.add=function(n,a,i){au(n)||(n={matches:n});var o=new vee(0,i||this.scope),l=o.conditions={},c,u,d;os&&!o.selector&&(o.selector=os.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=n;for(u in n)u==="all"?d=1:(c=Lc.matchMedia(n[u]),c&&(sm.indexOf(o)<0&&sm.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(vD):c.addEventListener("change",vD)));return d&&a(o,function(f){return o.add(null,f)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},e})(),mN={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(a){return nee(a)})},timeline:function(t){return new Bi(t)},getTweensOf:function(t,r){return ps.getTweensOf(t,r)},getProperty:function(t,r,n,a){Va(t)&&(t=Tl(t)[0]);var i=tm(t||{}).get,o=n?qQ:zQ;return n==="native"&&(n=""),t&&(r?o((Io[r]&&Io[r].get||i)(t,r,n,a)):function(l,c,u){return o((Io[l]&&Io[l].get||i)(t,l,c,u))})},quickSetter:function(t,r,n){if(t=Tl(t),t.length>1){var a=t.map(function(d){return _o.quickSetter(d,r,n)}),i=a.length;return function(d){for(var f=i;f--;)a[f](d)}}t=t[0]||{};var o=Io[r],l=tm(t),c=l.harness&&(l.harness.aliases||{})[r]||r,u=o?function(d){var f=new o;Ng._pt=0,f.init(t,n?d+n:d,Ng,0,[t]),f.render(1,f),Ng._pt&&i5(1,Ng)}:l.set(t,c);return o?u:function(d){return u(t,c,n?d+n:d,l,1)}},quickTo:function(t,r,n){var a,i=_o.to(t,tl((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),o=function(c,u,d){return i.resetTo(r,c,u,d)};return o.tween=i,o},isTweening:function(t){return ps.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=nm(t.ease,u0.ease)),K9(u0,t||{})},config:function(t){return K9(Xo,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,a=t.plugins,i=t.defaults,o=t.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!Io[l]&&!el[l]&&Qy(r+" effect requires "+l+" plugin.")}),fT[r]=function(l,c,u){return n(Tl(l),tl(c||{},i),u)},o&&(Bi.prototype[r]=function(l,c,u){return this.add(fT[r](l,au(c)?c:(u=c)&&{},this),u)})},registerEase:function(t,r){Zr[t]=nm(r)},parseEase:function(t,r){return arguments.length?nm(t,r):Zr},getById:function(t){return ps.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var n=new Bi(t),a,i;for(n.smoothChildTiming=xo(t.smoothChildTiming),ps.remove(n),n._dp=0,n._time=n._tTime=ps._time,a=ps._first;a;)i=a._next,(r||!(!a._dur&&a instanceof ra&&a.vars.onComplete===a._targets[0]))&&Bc(n,a,a._start-a._delay),a=i;return Bc(ps,n,0),n},context:function(t,r){return t?new vee(t,r):os},matchMedia:function(t){return new M1e(t)},matchMediaRefresh:function(){return sm.forEach(function(t){var r=t.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&t.revert()})||vD()},addEventListener:function(t,r){var n=Mj[t]||(Mj[t]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(t,r){var n=Mj[t],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:m1e,wrapYoyo:p1e,distribute:JQ,random:QQ,snap:ZQ,normalize:h1e,getUnit:yi,clamp:c1e,splitColor:see,toArray:Tl,selector:pD,mapRange:tee,pipe:d1e,unitize:f1e,interpolate:g1e,shuffle:XQ},install:LQ,effects:fT,ticker:Vo,updateRoot:Bi.updateRoot,plugins:Io,globalTimeline:ps,core:{PropTween:yo,globals:$Q,Tween:ra,Timeline:Bi,Animation:nb,getCache:tm,_removeLinkedListItem:O2,reverting:function(){return ri},context:function(t){return t&&os&&(os.data.push(t),t._ctx=os),os},suppressOverwrites:function(t){return GM=t}}};vo("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return mN[e]=ra[e]});Vo.add(Bi.updateRoot);Ng=mN.to({},{duration:0});var F1e=function(t,r){for(var n=t._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},L1e=function(t,r){var n=t._targets,a,i,o;for(a in r)for(i=n.length;i--;)o=t._ptLookup[i][a],o&&(o=o.d)&&(o._pt&&(o=F1e(o,a)),o&&o.modifier&&o.modifier(r[a],t,n[i],a))},xT=function(t,r){return{name:t,headless:1,rawVars:1,init:function(a,i,o){o._onInit=function(l){var c,u;if(Va(i)&&(c={},vo(i,function(d){return c[d]=1}),i=c),r){c={};for(u in i)c[u]=r(i[u]);i=c}L1e(l,i)}}}},_o=mN.registerPlugin({name:"attr",init:function(t,r,n,a,i){var o,l,c;this.tween=n;for(o in r)c=t.getAttribute(o)||"",l=this.add(t,"setAttribute",(c||0)+"",r[o],a,i,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(t,r){for(var n=r._pt;n;)ri?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,r){for(var n=r.length;n--;)this.add(t,n,t[n]||0,r[n],0,0,0,0,0,1)}},xT("roundProps",gD),xT("modifiers"),xT("snap",ZQ))||mN;ra.version=Bi.version=_o.version="3.14.2";FQ=1;YM()&&m0();Zr.Power0;Zr.Power1;Zr.Power2;Zr.Power3;Zr.Power4;Zr.Linear;Zr.Quad;Zr.Cubic;Zr.Quart;Zr.Quint;Zr.Strong;Zr.Elastic;Zr.Back;Zr.SteppedEase;Zr.Bounce;Zr.Sine;Zr.Expo;Zr.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var eU,rf,qg,o5,zh,tU,l5,$1e=function(){return typeof window<"u"},ed={},Eh=180/Math.PI,Wg=Math.PI/180,Vp=Math.atan2,rU=1e8,c5=/([A-Z])/g,B1e=/(left|right|width|margin|padding|x)/i,U1e=/[\s,\(]\S/,zc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},yD=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},V1e=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},z1e=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},q1e=function(t,r){return r.set(r.t,r.p,t===1?r.e:t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},W1e=function(t,r){var n=r.s+r.c*t;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},yee=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},bee=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},H1e=function(t,r,n){return t.style[r]=n},G1e=function(t,r,n){return t.style.setProperty(r,n)},K1e=function(t,r,n){return t._gsap[r]=n},Y1e=function(t,r,n){return t._gsap.scaleX=t._gsap.scaleY=n},X1e=function(t,r,n,a,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},J1e=function(t,r,n,a,i){var o=t._gsap;o[r]=n,o.renderTransform(i,o)},gs="transform",bo=gs+"Origin",Z1e=function e(t,r){var n=this,a=this.target,i=a.style,o=a._gsap;if(t in ed&&i){if(this.tfm=this.tfm||{},t!=="transform")t=zc[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return n.tfm[l]=Ru(a,l)}):this.tfm[t]=o.x?o[t]:Ru(a,t),t===bo&&(this.tfm.zOrigin=o.zOrigin);else return zc.transform.split(",").forEach(function(l){return e.call(n,l,r)});if(this.props.indexOf(gs)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(bo,r,"")),t=gs}(i||r)&&this.props.push(t,r,i[t])},wee=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Q1e=function(){var t=this.props,r=this.target,n=r.style,a=r._gsap,i,o;for(i=0;i<t.length;i+=3)t[i+1]?t[i+1]===2?r[t[i]](t[i+2]):r[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].substr(0,2)==="--"?t[i]:t[i].replace(c5,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=l5(),(!i||!i.isStart)&&!n[gs]&&(wee(n),a.zOrigin&&n[bo]&&(n[bo]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},_ee=function(t,r){var n={target:t,props:[],revert:Q1e,save:Z1e};return t._gsap||_o.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},jee,bD=function(t,r){var n=rf.createElementNS?rf.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):rf.createElement(t);return n&&n.style?n:rf.createElement(t)},Ko=function e(t,r,n){var a=getComputedStyle(t);return a[r]||a.getPropertyValue(r.replace(c5,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&e(t,p0(r)||r,1)||""},nU="O,Moz,ms,Ms,Webkit".split(","),p0=function(t,r,n){var a=r||zh,i=a.style,o=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(nU[o]+t in i););return o<0?null:(o===3?"ms":o>=0?nU[o]:"")+t},wD=function(){$1e()&&window.document&&(eU=window,rf=eU.document,qg=rf.documentElement,zh=bD("div")||{style:{}},bD("div"),gs=p0(gs),bo=gs+"Origin",zh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",jee=!!p0("perspective"),l5=_o.core.reverting,o5=1)},sU=function(t){var r=t.ownerSVGElement,n=bD("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),i;a.style.display="block",n.appendChild(a),qg.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),qg.removeChild(n),i},aU=function(t,r){for(var n=r.length;n--;)if(t.hasAttribute(r[n]))return t.getAttribute(r[n])},Nee=function(t){var r,n;try{r=t.getBBox()}catch{r=sU(t),n=1}return r&&(r.width||r.height)||n||(r=sU(t)),r&&!r.width&&!r.x&&!r.y?{x:+aU(t,["x","cx","x1"])||0,y:+aU(t,["y","cy","y1"])||0,width:0,height:0}:r},See=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Nee(t))},Pf=function(t,r){if(r){var n=t.style,a;r in ed&&r!==bo&&(r=gs),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(c5,"-$1").toLowerCase())):n.removeAttribute(r)}},nf=function(t,r,n,a,i,o){var l=new yo(t._pt,r,n,0,1,o?bee:yee);return t._pt=l,l.b=a,l.e=i,t._props.push(n),l},iU={deg:1,rad:1,turn:1},e_e={grid:1,flex:1},Of=function e(t,r,n,a){var i=parseFloat(n)||0,o=(n+"").trim().substr((i+"").length)||"px",l=zh.style,c=B1e.test(r),u=t.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,m=a==="px",p=a==="%",y,g,v,w;if(a===o||!i||iU[a]||iU[o])return i;if(o!=="px"&&!m&&(i=e(t,r,n,"px")),w=t.getCTM&&See(t),(p||o==="%")&&(ed[r]||~r.indexOf("adius")))return y=w?t.getBBox()[c?"width":"height"]:t[d],Ms(p?i/y*f:i/100*y);if(l[c?"width":"height"]=f+(m?o:a),g=a!=="rem"&&~r.indexOf("adius")||a==="em"&&t.appendChild&&!u?t:t.parentNode,w&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===rf||!g.appendChild)&&(g=rf.body),v=g._gsap,v&&p&&v.width&&c&&v.time===Vo.time&&!v.uncache)return Ms(i/v.width*f);if(p&&(r==="height"||r==="width")){var b=t.style[r];t.style[r]=f+a,y=t[d],b?t.style[r]=b:Pf(t,r)}else(p||o==="%")&&!e_e[Ko(g,"display")]&&(l.position=Ko(t,"position")),g===t&&(l.position="static"),g.appendChild(zh),y=zh[d],g.removeChild(zh),l.position="absolute";return c&&p&&(v=tm(g),v.time=Vo.time,v.width=g[d]),Ms(m?y*i/f:y&&i?f/y*i:0)},Ru=function(t,r,n,a){var i;return o5||wD(),r in zc&&r!=="transform"&&(r=zc[r],~r.indexOf(",")&&(r=r.split(",")[0])),ed[r]&&r!=="transform"?(i=ab(t,a),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:gN(Ko(t,bo))+" "+i.zOrigin+"px"):(i=t.style[r],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=pN[r]&&pN[r](t,r,n)||Ko(t,r)||UQ(t,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?Of(t,r,i,n)+n:i},t_e=function(t,r,n,a){if(!n||n==="none"){var i=p0(r,t,1),o=i&&Ko(t,i,1);o&&o!==n?(r=i,n=o):r==="borderColor"&&(n=Ko(t,"borderTopColor"))}var l=new yo(this._pt,t.style,r,0,1,gee),c=0,u=0,d,f,m,p,y,g,v,w,b,j,E,S;if(l.b=n,l.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=Ko(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(g=t.style[r],t.style[r]=a,a=Ko(t,r)||a,g?t.style[r]=g:Pf(t,r)),d=[n,a],iee(d),n=d[0],a=d[1],m=n.match(jg)||[],S=a.match(jg)||[],S.length){for(;f=jg.exec(a);)v=f[0],b=a.substring(c,f.index),y?y=(y+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(y=1),v!==(g=m[u++]||"")&&(p=parseFloat(g)||0,E=g.substr((p+"").length),v.charAt(1)==="="&&(v=zg(p,v)+E),w=parseFloat(v),j=v.substr((w+"").length),c=jg.lastIndex-j.length,j||(j=j||Xo.units[r]||E,c===a.length&&(a+=j,l.e+=j)),E!==j&&(p=Of(t,r,g,j)||0),l._pt={_next:l._pt,p:b||u===1?b:",",s:p,c:w-p,m:y&&y<4||r==="zIndex"?Math.round:0});l.c=c<a.length?a.substring(c,a.length):""}else l.r=r==="display"&&a==="none"?bee:yee;return MQ.test(a)&&(l.e=0),this._pt=l,l},oU={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},r_e=function(t){var r=t.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),r[0]=oU[n]||n,r[1]=oU[a]||a,r.join(" ")},n_e=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,i=r.u,o=n._gsap,l,c,u;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),u=i.length;--u>-1;)l=i[u],ed[l]&&(c=1,l=l==="transformOrigin"?bo:gs),Pf(n,l);c&&(Pf(n,gs),o&&(o.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",ab(n,1),o.uncache=1,wee(a)))}},pN={clearProps:function(t,r,n,a,i){if(i.data!=="isFromStart"){var o=t._pt=new yo(t._pt,r,n,0,0,n_e);return o.u=a,o.pr=-10,o.tween=i,t._props.push(n),1}}},sb=[1,0,0,1,0,0],kee={},Cee=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},lU=function(t){var r=Ko(t,gs);return Cee(r)?sb:r.substr(7).match(IQ).map(Ms)},u5=function(t,r){var n=t._gsap||tm(t),a=t.style,i=lU(t),o,l,c,u;return n.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?sb:i):(i===sb&&!t.offsetParent&&t!==qg&&!n.svg&&(c=a.display,a.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,l=t.nextElementSibling,qg.appendChild(t)),i=lU(t),c?a.display=c:Pf(t,"display"),u&&(l?o.insertBefore(t,l):o?o.appendChild(t):qg.removeChild(t))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},_D=function(t,r,n,a,i,o){var l=t._gsap,c=i||u5(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,m=l.yOffset||0,p=c[0],y=c[1],g=c[2],v=c[3],w=c[4],b=c[5],j=r.split(" "),E=parseFloat(j[0])||0,S=parseFloat(j[1])||0,C,k,D,O;n?c!==sb&&(k=p*v-y*g)&&(D=E*(v/k)+S*(-g/k)+(g*b-v*w)/k,O=E*(-y/k)+S*(p/k)-(p*b-y*w)/k,E=D,S=O):(C=Nee(t),E=C.x+(~j[0].indexOf("%")?E/100*C.width:E),S=C.y+(~(j[1]||j[0]).indexOf("%")?S/100*C.height:S)),a||a!==!1&&l.smooth?(w=E-u,b=S-d,l.xOffset=f+(w*p+b*g)-w,l.yOffset=m+(w*y+b*v)-b):l.xOffset=l.yOffset=0,l.xOrigin=E,l.yOrigin=S,l.smooth=!!a,l.origin=r,l.originIsAbsolute=!!n,t.style[bo]="0px 0px",o&&(nf(o,l,"xOrigin",u,E),nf(o,l,"yOrigin",d,S),nf(o,l,"xOffset",f,l.xOffset),nf(o,l,"yOffset",m,l.yOffset)),t.setAttribute("data-svg-origin",E+" "+S)},ab=function(t,r){var n=t._gsap||new uee(t);if("x"in n&&!r&&!n.uncache)return n;var a=t.style,i=n.scaleX<0,o="px",l="deg",c=getComputedStyle(t),u=Ko(t,bo)||"0",d,f,m,p,y,g,v,w,b,j,E,S,C,k,D,O,P,A,R,F,L,W,V,H,G,I,U,X,z,Z,J,Q;return d=f=m=g=v=w=b=j=E=0,p=y=1,n.svg=!!(t.getCTM&&See(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[gs]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[gs]!=="none"?c[gs]:"")),a.scale=a.rotate=a.translate="none"),k=u5(t,n.svg),n.svg&&(n.uncache?(G=t.getBBox(),u=n.xOrigin-G.x+"px "+(n.yOrigin-G.y)+"px",H=""):H=!r&&t.getAttribute("data-svg-origin"),_D(t,H||u,!!H||n.originIsAbsolute,n.smooth!==!1,k)),S=n.xOrigin||0,C=n.yOrigin||0,k!==sb&&(A=k[0],R=k[1],F=k[2],L=k[3],d=W=k[4],f=V=k[5],k.length===6?(p=Math.sqrt(A*A+R*R),y=Math.sqrt(L*L+F*F),g=A||R?Vp(R,A)*Eh:0,b=F||L?Vp(F,L)*Eh+g:0,b&&(y*=Math.abs(Math.cos(b*Wg))),n.svg&&(d-=S-(S*A+C*F),f-=C-(S*R+C*L))):(Q=k[6],Z=k[7],U=k[8],X=k[9],z=k[10],J=k[11],d=k[12],f=k[13],m=k[14],D=Vp(Q,z),v=D*Eh,D&&(O=Math.cos(-D),P=Math.sin(-D),H=W*O+U*P,G=V*O+X*P,I=Q*O+z*P,U=W*-P+U*O,X=V*-P+X*O,z=Q*-P+z*O,J=Z*-P+J*O,W=H,V=G,Q=I),D=Vp(-F,z),w=D*Eh,D&&(O=Math.cos(-D),P=Math.sin(-D),H=A*O-U*P,G=R*O-X*P,I=F*O-z*P,J=L*P+J*O,A=H,R=G,F=I),D=Vp(R,A),g=D*Eh,D&&(O=Math.cos(D),P=Math.sin(D),H=A*O+R*P,G=W*O+V*P,R=R*O-A*P,V=V*O-W*P,A=H,W=G),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,w=180-w),p=Ms(Math.sqrt(A*A+R*R+F*F)),y=Ms(Math.sqrt(V*V+Q*Q)),D=Vp(W,V),b=Math.abs(D)>2e-4?D*Eh:0,E=J?1/(J<0?-J:J):0),n.svg&&(H=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Cee(Ko(t,gs)),H&&t.setAttribute("transform",H))),Math.abs(b)>90&&Math.abs(b)<270&&(i?(p*=-1,b+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,b+=b<=0?180:-180)),r=r||n.uncache,n.x=d-((n.xPercent=d&&(!r&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+o,n.z=m+o,n.scaleX=Ms(p),n.scaleY=Ms(y),n.rotation=Ms(g)+l,n.rotationX=Ms(v)+l,n.rotationY=Ms(w)+l,n.skewX=b+l,n.skewY=j+l,n.transformPerspective=E+o,(n.zOrigin=parseFloat(u.split(" ")[2])||!r&&n.zOrigin||0)&&(a[bo]=gN(u)),n.xOffset=n.yOffset=0,n.force3D=Xo.force3D,n.renderTransform=n.svg?a_e:jee?Eee:s_e,n.uncache=0,n},gN=function(t){return(t=t.split(" "))[0]+" "+t[1]},vT=function(t,r,n){var a=yi(r);return Ms(parseFloat(r)+parseFloat(Of(t,"x",n+"px",a)))+a},s_e=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,Eee(t,r)},yh="0deg",pv="0px",bh=") ",Eee=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.z,u=n.rotation,d=n.rotationY,f=n.rotationX,m=n.skewX,p=n.skewY,y=n.scaleX,g=n.scaleY,v=n.transformPerspective,w=n.force3D,b=n.target,j=n.zOrigin,E="",S=w==="auto"&&t&&t!==1||w===!0;if(j&&(f!==yh||d!==yh)){var C=parseFloat(d)*Wg,k=Math.sin(C),D=Math.cos(C),O;C=parseFloat(f)*Wg,O=Math.cos(C),o=vT(b,o,k*O*-j),l=vT(b,l,-Math.sin(C)*-j),c=vT(b,c,D*O*-j+j)}v!==pv&&(E+="perspective("+v+bh),(a||i)&&(E+="translate("+a+"%, "+i+"%) "),(S||o!==pv||l!==pv||c!==pv)&&(E+=c!==pv||S?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+bh),u!==yh&&(E+="rotate("+u+bh),d!==yh&&(E+="rotateY("+d+bh),f!==yh&&(E+="rotateX("+f+bh),(m!==yh||p!==yh)&&(E+="skew("+m+", "+p+bh),(y!==1||g!==1)&&(E+="scale("+y+", "+g+bh),b.style[gs]=E||"translate(0, 0)"},a_e=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.rotation,u=n.skewX,d=n.skewY,f=n.scaleX,m=n.scaleY,p=n.target,y=n.xOrigin,g=n.yOrigin,v=n.xOffset,w=n.yOffset,b=n.forceCSS,j=parseFloat(o),E=parseFloat(l),S,C,k,D,O;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=Wg,u*=Wg,S=Math.cos(c)*f,C=Math.sin(c)*f,k=Math.sin(c-u)*-m,D=Math.cos(c-u)*m,u&&(d*=Wg,O=Math.tan(u-d),O=Math.sqrt(1+O*O),k*=O,D*=O,d&&(O=Math.tan(d),O=Math.sqrt(1+O*O),S*=O,C*=O)),S=Ms(S),C=Ms(C),k=Ms(k),D=Ms(D)):(S=f,D=m,C=k=0),(j&&!~(o+"").indexOf("px")||E&&!~(l+"").indexOf("px"))&&(j=Of(p,"x",o,"px"),E=Of(p,"y",l,"px")),(y||g||v||w)&&(j=Ms(j+y-(y*S+g*k)+v),E=Ms(E+g-(y*C+g*D)+w)),(a||i)&&(O=p.getBBox(),j=Ms(j+a/100*O.width),E=Ms(E+i/100*O.height)),O="matrix("+S+","+C+","+k+","+D+","+j+","+E+")",p.setAttribute("transform",O),b&&(p.style[gs]=O)},i_e=function(t,r,n,a,i){var o=360,l=Va(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Eh:1),u=c-a,d=a+u+"deg",f,m;return l&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*rU)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*rU)%o-~~(u/o)*o)),t._pt=m=new yo(t._pt,r,n,a,u,V1e),m.e=d,m.u="deg",t._props.push(n),m},cU=function(t,r){for(var n in r)t[n]=r[n];return t},o_e=function(t,r,n){var a=cU({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,u,d,f,m,p,y;a.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[gs]=r,l=ab(n,1),Pf(n,gs),n.setAttribute("transform",u)):(u=getComputedStyle(n)[gs],o[gs]=r,l=ab(n,1),o[gs]=u);for(c in ed)u=a[c],d=l[c],u!==d&&i.indexOf(c)<0&&(p=yi(u),y=yi(d),f=p!==y?Of(n,c,u,y):parseFloat(u),m=parseFloat(d),t._pt=new yo(t._pt,l,c,f,m-f,yD),t._pt.u=y||0,t._props.push(c));cU(l,a)};vo("padding,margin,Width,Radius",function(e,t){var r="Top",n="Right",a="Bottom",i="Left",o=(t<3?[r,n,a,i]:[r+i,r+n,a+n,a+i]).map(function(l){return t<2?e+l:"border"+l+e});pN[t>1?"border"+e:e]=function(l,c,u,d,f){var m,p;if(arguments.length<4)return m=o.map(function(y){return Ru(l,y,u)}),p=m.join(" "),p.split(m[0]).length===5?m[0]:p;m=(d+"").split(" "),p={},o.forEach(function(y,g){return p[y]=m[g]=m[g]||m[(g-1)/2|0]}),l.init(c,p,f)}});var Tee={name:"css",register:wD,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,n,a,i){var o=this._props,l=t.style,c=n.vars.startAt,u,d,f,m,p,y,g,v,w,b,j,E,S,C,k,D,O;o5||wD(),this.styles=this.styles||_ee(t),D=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(d=r[g],!(Io[g]&&dee(g,r,n,a,t,i)))){if(p=typeof d,y=pN[g],p==="function"&&(d=d.call(n,a,t,i),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=tb(d)),y)y(this,t,g,d,n)&&(k=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(g)+"").trim(),d+="",pf.lastIndex=0,pf.test(u)||(v=yi(u),w=yi(d),w?v!==w&&(u=Of(t,g,u,w)+w):v&&(d+=v)),this.add(l,"setProperty",u,d,a,i,0,0,g),o.push(g),D.push(g,0,l[g]);else if(p!=="undefined"){if(c&&g in c?(u=typeof c[g]=="function"?c[g].call(n,a,t,i):c[g],Va(u)&&~u.indexOf("random(")&&(u=tb(u)),yi(u+"")||u==="auto"||(u+=Xo.units[g]||yi(Ru(t,g))||""),(u+"").charAt(1)==="="&&(u=Ru(t,g))):u=Ru(t,g),m=parseFloat(u),b=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),b&&(d=d.substr(2)),f=parseFloat(d),g in zc&&(g==="autoAlpha"&&(m===1&&Ru(t,"visibility")==="hidden"&&f&&(m=0),D.push("visibility",0,l.visibility),nf(this,l,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=zc[g],~g.indexOf(",")&&(g=g.split(",")[0]))),j=g in ed,j){if(this.styles.save(g),O=d,p==="string"&&d.substring(0,6)==="var(--"){if(d=Ko(t,d.substring(4,d.indexOf(")"))),d.substring(0,5)==="calc("){var P=t.style.perspective;t.style.perspective=d,d=Ko(t,"perspective"),P?t.style.perspective=P:Pf(t,"perspective")}f=parseFloat(d)}if(E||(S=t._gsap,S.renderTransform&&!r.parseTransform||ab(t,r.parseTransform),C=r.smoothOrigin!==!1&&S.smooth,E=this._pt=new yo(this._pt,l,gs,0,1,S.renderTransform,S,0,-1),E.dep=1),g==="scale")this._pt=new yo(this._pt,S,"scaleY",S.scaleY,(b?zg(S.scaleY,b+f):f)-S.scaleY||0,yD),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){D.push(bo,0,l[bo]),d=r_e(d),S.svg?_D(t,d,0,C,0,this):(w=parseFloat(d.split(" ")[2])||0,w!==S.zOrigin&&nf(this,S,"zOrigin",S.zOrigin,w),nf(this,l,g,gN(u),gN(d)));continue}else if(g==="svgOrigin"){_D(t,d,1,C,0,this);continue}else if(g in kee){i_e(this,S,g,m,b?zg(m,b+d):d);continue}else if(g==="smoothOrigin"){nf(this,S,"smooth",S.smooth,d);continue}else if(g==="force3D"){S[g]=d;continue}else if(g==="transform"){o_e(this,d,t);continue}}else g in l||(g=p0(g)||g);if(j||(f||f===0)&&(m||m===0)&&!U1e.test(d)&&g in l)v=(u+"").substr((m+"").length),f||(f=0),w=yi(d)||(g in Xo.units?Xo.units[g]:v),v!==w&&(m=Of(t,g,u,w)),this._pt=new yo(this._pt,j?S:l,g,m,(b?zg(m,b+f):f)-m,!j&&(w==="px"||g==="zIndex")&&r.autoRound!==!1?W1e:yD),this._pt.u=w||0,j&&O!==d?(this._pt.b=u,this._pt.e=O,this._pt.r=q1e):v!==w&&w!=="%"&&(this._pt.b=u,this._pt.r=z1e);else if(g in l)t_e.call(this,t,g,u,b?b+d:d);else if(g in t)this.add(t,g,u||t[g],b?b+d:d,a,i);else if(g!=="parseTransform"){JM(g,d);continue}j||(g in l?D.push(g,0,l[g]):typeof t[g]=="function"?D.push(g,2,t[g]()):D.push(g,1,u||t[g])),o.push(g)}}k&&xee(this)},render:function(t,r){if(r.tween._time||!l5())for(var n=r._pt;n;)n.r(t,n.d),n=n._next;else r.styles.revert()},get:Ru,aliases:zc,getSetter:function(t,r,n){var a=zc[r];return a&&a.indexOf(",")<0&&(r=a),r in ed&&r!==bo&&(t._gsap.x||Ru(t,"x"))?n&&tU===n?r==="scale"?Y1e:K1e:(tU=n||{})&&(r==="scale"?X1e:J1e):t.style&&!KM(t.style[r])?H1e:~r.indexOf("-")?G1e:a5(t,r)},core:{_removeProperty:Pf,_getMatrix:u5}};_o.utils.checkPrefix=p0;_o.core.getStyleSaver=_ee;(function(e,t,r,n){var a=vo(e+","+t+","+r,function(i){ed[i]=1});vo(t,function(i){Xo.units[i]="deg",kee[i]=1}),zc[a[13]]=e+","+t,vo(n,function(i){var o=i.split(":");zc[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");vo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Xo.units[e]="px"});_o.registerPlugin(Tee);var Ln=_o.registerPlugin(Tee)||_o;Ln.core.Tween;function l_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c_e(e,t,r){return t&&l_e(e.prototype,t),e}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ti,Fj,zo,sf,af,Hg,Aee,Th,ly,Pee,Mu,tc,Oee,Ree=function(){return ti||typeof window<"u"&&(ti=window.gsap)&&ti.registerPlugin&&ti},Dee=1,Sg=[],Wr=[],Xc=[],cy=Date.now,jD=function(t,r){return r},u_e=function(){var t=ly.core,r=t.bridge||{},n=t._scrollers,a=t._proxies;n.push.apply(n,Wr),a.push.apply(a,Xc),Wr=n,Xc=a,jD=function(o,l){return r[o](l)}},gf=function(t,r){return~Xc.indexOf(t)&&Xc[Xc.indexOf(t)+1][r]},uy=function(t){return!!~Pee.indexOf(t)},Ri=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:a!==!1,capture:!!i})},Oi=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},A_="scrollLeft",P_="scrollTop",ND=function(){return Mu&&Mu.isPressed||Wr.cache++},xN=function(t,r){var n=function a(i){if(i||i===0){Dee&&(zo.history.scrollRestoration="manual");var o=Mu&&Mu.isPressed;i=a.v=Math.round(i)||(Mu&&Mu.iOS?1:0),t(i),a.cacheID=Wr.cache,o&&jD("ss",i)}else(r||Wr.cache!==a.cacheID||jD("ref"))&&(a.cacheID=Wr.cache,a.v=t());return a.v+a.offset};return n.offset=0,t&&n},Ui={s:A_,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:xN(function(e){return arguments.length?zo.scrollTo(e,va.sc()):zo.pageXOffset||sf[A_]||af[A_]||Hg[A_]||0})},va={s:P_,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ui,sc:xN(function(e){return arguments.length?zo.scrollTo(Ui.sc(),e):zo.pageYOffset||sf[P_]||af[P_]||Hg[P_]||0})},lo=function(t,r){return(r&&r._ctx&&r._ctx.selector||ti.utils.toArray)(t)[0]||(typeof t=="string"&&ti.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},d_e=function(t,r){for(var n=r.length;n--;)if(r[n]===t||r[n].contains(t))return!0;return!1},Rf=function(t,r){var n=r.s,a=r.sc;uy(t)&&(t=sf.scrollingElement||af);var i=Wr.indexOf(t),o=a===va.sc?1:2;!~i&&(i=Wr.push(t)-1),Wr[i+o]||Ri(t,"scroll",ND);var l=Wr[i+o],c=l||(Wr[i+o]=xN(gf(t,n),!0)||(uy(t)?a:xN(function(u){return arguments.length?t[n]=u:t[n]})));return c.target=t,l||(c.smooth=ti.getProperty(t,"scrollBehavior")==="smooth"),c},SD=function(t,r,n){var a=t,i=t,o=cy(),l=o,c=r||50,u=Math.max(500,c*3),d=function(y,g){var v=cy();g||v-o>c?(i=a,a=y,l=o,o=v):n?a+=y:a=i+(y-i)/(v-l)*(o-l)},f=function(){i=a=n?0:a,l=o=0},m=function(y){var g=l,v=i,w=cy();return(y||y===0)&&y!==a&&d(y),o===l||w-l>u?0:(a+(n?v:-v))/((n?w:o)-g)*1e3};return{update:d,reset:f,getVelocity:m}},gv=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},uU=function(t){var r=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(n)?r:n},Iee=function(){ly=ti.core.globals().ScrollTrigger,ly&&ly.core&&u_e()},Mee=function(t){return ti=t||Ree(),!Fj&&ti&&typeof document<"u"&&document.body&&(zo=window,sf=document,af=sf.documentElement,Hg=sf.body,Pee=[zo,sf,af,Hg],ti.utils.clamp,Oee=ti.core.context||function(){},Th="onpointerenter"in Hg?"pointer":"mouse",Aee=Bs.isTouch=zo.matchMedia&&zo.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in zo||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,tc=Bs.eventTypes=("ontouchstart"in af?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in af?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Dee=0},500),Iee(),Fj=1),Fj};Ui.op=va;Wr.cache=0;var Bs=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(n){Fj||Mee(ti)||console.warn("Please gsap.registerPlugin(Observer)"),ly||Iee();var a=n.tolerance,i=n.dragMinimum,o=n.type,l=n.target,c=n.lineHeight,u=n.debounce,d=n.preventDefault,f=n.onStop,m=n.onStopDelay,p=n.ignore,y=n.wheelSpeed,g=n.event,v=n.onDragStart,w=n.onDragEnd,b=n.onDrag,j=n.onPress,E=n.onRelease,S=n.onRight,C=n.onLeft,k=n.onUp,D=n.onDown,O=n.onChangeX,P=n.onChangeY,A=n.onChange,R=n.onToggleX,F=n.onToggleY,L=n.onHover,W=n.onHoverEnd,V=n.onMove,H=n.ignoreCheck,G=n.isNormalizer,I=n.onGestureStart,U=n.onGestureEnd,X=n.onWheel,z=n.onEnable,Z=n.onDisable,J=n.onClick,Q=n.scrollSpeed,de=n.capture,fe=n.allowClicks,pe=n.lockAxis,K=n.onLockAxis;this.target=l=lo(l)||af,this.vars=n,p&&(p=ti.utils.toArray(p)),a=a||1e-9,i=i||0,y=y||1,Q=Q||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(zo.getComputedStyle(Hg).lineHeight)||22);var ee,se,B,ie,ae,Ne,Ee,ue=this,qe=0,Je=0,le=n.passive||!d&&n.passive!==!1,we=Rf(l,Ui),Oe=Rf(l,va),Ge=we(),Ze=Oe(),Se=~o.indexOf("touch")&&!~o.indexOf("pointer")&&tc[0]==="pointerdown",te=uy(l),_e=l.ownerDocument||sf,he=[0,0,0],Re=[0,0,0],De=0,Fe=function(){return De=cy()},xe=function(Rt,or){return(ue.event=Rt)&&p&&d_e(Rt.target,p)||or&&Se&&Rt.pointerType!=="touch"||H&&H(Rt,or)},He=function(){ue._vx.reset(),ue._vy.reset(),se.pause(),f&&f(ue)},ot=function(){var Rt=ue.deltaX=uU(he),or=ue.deltaY=uU(Re),vt=Math.abs(Rt)>=a,Ft=Math.abs(or)>=a;A&&(vt||Ft)&&A(ue,Rt,or,he,Re),vt&&(S&&ue.deltaX>0&&S(ue),C&&ue.deltaX<0&&C(ue),O&&O(ue),R&&ue.deltaX<0!=qe<0&&R(ue),qe=ue.deltaX,he[0]=he[1]=he[2]=0),Ft&&(D&&ue.deltaY>0&&D(ue),k&&ue.deltaY<0&&k(ue),P&&P(ue),F&&ue.deltaY<0!=Je<0&&F(ue),Je=ue.deltaY,Re[0]=Re[1]=Re[2]=0),(ie||B)&&(V&&V(ue),B&&(v&&B===1&&v(ue),b&&b(ue),B=0),ie=!1),Ne&&!(Ne=!1)&&K&&K(ue),ae&&(X(ue),ae=!1),ee=0},_t=function(Rt,or,vt){he[vt]+=Rt,Re[vt]+=or,ue._vx.update(Rt),ue._vy.update(or),u?ee||(ee=requestAnimationFrame(ot)):ot()},at=function(Rt,or){pe&&!Ee&&(ue.axis=Ee=Math.abs(Rt)>Math.abs(or)?"x":"y",Ne=!0),Ee!=="y"&&(he[2]+=Rt,ue._vx.update(Rt,!0)),Ee!=="x"&&(Re[2]+=or,ue._vy.update(or,!0)),u?ee||(ee=requestAnimationFrame(ot)):ot()},Xt=function(Rt){if(!xe(Rt,1)){Rt=gv(Rt,d);var or=Rt.clientX,vt=Rt.clientY,Ft=or-ue.x,Lt=vt-ue.y,er=ue.isDragging;ue.x=or,ue.y=vt,(er||(Ft||Lt)&&(Math.abs(ue.startX-or)>=i||Math.abs(ue.startY-vt)>=i))&&(B||(B=er?2:1),er||(ue.isDragging=!0),at(Ft,Lt))}},Mt=ue.onPress=function(zt){xe(zt,1)||zt&&zt.button||(ue.axis=Ee=null,se.pause(),ue.isPressed=!0,zt=gv(zt),qe=Je=0,ue.startX=ue.x=zt.clientX,ue.startY=ue.y=zt.clientY,ue._vx.reset(),ue._vy.reset(),Ri(G?l:_e,tc[1],Xt,le,!0),ue.deltaX=ue.deltaY=0,j&&j(ue))},jt=ue.onRelease=function(zt){if(!xe(zt,1)){Oi(G?l:_e,tc[1],Xt,!0);var Rt=!isNaN(ue.y-ue.startY),or=ue.isDragging,vt=or&&(Math.abs(ue.x-ue.startX)>3||Math.abs(ue.y-ue.startY)>3),Ft=gv(zt);!vt&&Rt&&(ue._vx.reset(),ue._vy.reset(),d&&fe&&ti.delayedCall(.08,function(){if(cy()-De>300&&!zt.defaultPrevented){if(zt.target.click)zt.target.click();else if(_e.createEvent){var Lt=_e.createEvent("MouseEvents");Lt.initMouseEvent("click",!0,!0,zo,1,Ft.screenX,Ft.screenY,Ft.clientX,Ft.clientY,!1,!1,!1,!1,0,null),zt.target.dispatchEvent(Lt)}}})),ue.isDragging=ue.isGesturing=ue.isPressed=!1,f&&or&&!G&&se.restart(!0),B&&ot(),w&&or&&w(ue),E&&E(ue,vt)}},Pr=function(Rt){return Rt.touches&&Rt.touches.length>1&&(ue.isGesturing=!0)&&I(Rt,ue.isDragging)},tr=function(){return(ue.isGesturing=!1)||U(ue)},Sr=function(Rt){if(!xe(Rt)){var or=we(),vt=Oe();_t((or-Ge)*Q,(vt-Ze)*Q,1),Ge=or,Ze=vt,f&&se.restart(!0)}},Ir=function(Rt){if(!xe(Rt)){Rt=gv(Rt,d),X&&(ae=!0);var or=(Rt.deltaMode===1?c:Rt.deltaMode===2?zo.innerHeight:1)*y;_t(Rt.deltaX*or,Rt.deltaY*or,0),f&&!G&&se.restart(!0)}},Ca=function(Rt){if(!xe(Rt)){var or=Rt.clientX,vt=Rt.clientY,Ft=or-ue.x,Lt=vt-ue.y;ue.x=or,ue.y=vt,ie=!0,f&&se.restart(!0),(Ft||Lt)&&at(Ft,Lt)}},Ot=function(Rt){ue.event=Rt,L(ue)},Jt=function(Rt){ue.event=Rt,W(ue)},Mr=function(Rt){return xe(Rt)||gv(Rt,d)&&J(ue)};se=ue._dc=ti.delayedCall(m||.25,He).pause(),ue.deltaX=ue.deltaY=0,ue._vx=SD(0,50,!0),ue._vy=SD(0,50,!0),ue.scrollX=we,ue.scrollY=Oe,ue.isDragging=ue.isGesturing=ue.isPressed=!1,Oee(this),ue.enable=function(zt){return ue.isEnabled||(Ri(te?_e:l,"scroll",ND),o.indexOf("scroll")>=0&&Ri(te?_e:l,"scroll",Sr,le,de),o.indexOf("wheel")>=0&&Ri(l,"wheel",Ir,le,de),(o.indexOf("touch")>=0&&Aee||o.indexOf("pointer")>=0)&&(Ri(l,tc[0],Mt,le,de),Ri(_e,tc[2],jt),Ri(_e,tc[3],jt),fe&&Ri(l,"click",Fe,!0,!0),J&&Ri(l,"click",Mr),I&&Ri(_e,"gesturestart",Pr),U&&Ri(_e,"gestureend",tr),L&&Ri(l,Th+"enter",Ot),W&&Ri(l,Th+"leave",Jt),V&&Ri(l,Th+"move",Ca)),ue.isEnabled=!0,ue.isDragging=ue.isGesturing=ue.isPressed=ie=B=!1,ue._vx.reset(),ue._vy.reset(),Ge=we(),Ze=Oe(),zt&&zt.type&&Mt(zt),z&&z(ue)),ue},ue.disable=function(){ue.isEnabled&&(Sg.filter(function(zt){return zt!==ue&&uy(zt.target)}).length||Oi(te?_e:l,"scroll",ND),ue.isPressed&&(ue._vx.reset(),ue._vy.reset(),Oi(G?l:_e,tc[1],Xt,!0)),Oi(te?_e:l,"scroll",Sr,de),Oi(l,"wheel",Ir,de),Oi(l,tc[0],Mt,de),Oi(_e,tc[2],jt),Oi(_e,tc[3],jt),Oi(l,"click",Fe,!0),Oi(l,"click",Mr),Oi(_e,"gesturestart",Pr),Oi(_e,"gestureend",tr),Oi(l,Th+"enter",Ot),Oi(l,Th+"leave",Jt),Oi(l,Th+"move",Ca),ue.isEnabled=ue.isPressed=ue.isDragging=!1,Z&&Z(ue))},ue.kill=ue.revert=function(){ue.disable();var zt=Sg.indexOf(ue);zt>=0&&Sg.splice(zt,1),Mu===ue&&(Mu=0)},Sg.push(ue),G&&uy(l)&&(Mu=ue),ue.enable(g)},c_e(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();Bs.version="3.14.2";Bs.create=function(e){return new Bs(e)};Bs.register=Mee;Bs.getAll=function(){return Sg.slice()};Bs.getById=function(e){return Sg.filter(function(t){return t.vars.id===e})[0]};Ree()&&ti.registerPlugin(Bs);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vt,mg,qr,Wn,Lo,bn,d5,vN,ib,dy,Bv,O_,di,I2,kD,Ii,dU,fU,pg,Fee,yT,Lee,Di,CD,$ee,Bee,qd,ED,f5,Gg,h5,fy,TD,bT,R_=1,hi=Date.now,wT=hi(),Il=0,Uv=0,hU=function(t,r,n){var a=Ro(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?t.substr(6,t.length-7):t},mU=function(t,r){return r&&(!Ro(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},f_e=function e(){return Uv&&requestAnimationFrame(e)},pU=function(){return I2=1},gU=function(){return I2=0},$c=function(t){return t},Vv=function(t){return Math.round(t*1e5)/1e5||0},Uee=function(){return typeof window<"u"},Vee=function(){return Vt||Uee()&&(Vt=window.gsap)&&Vt.registerPlugin&&Vt},bm=function(t){return!!~d5.indexOf(t)},zee=function(t){return(t==="Height"?h5:qr["inner"+t])||Lo["client"+t]||bn["client"+t]},qee=function(t){return gf(t,"getBoundingClientRect")||(bm(t)?function(){return Vj.width=qr.innerWidth,Vj.height=h5,Vj}:function(){return Du(t)})},h_e=function(t,r,n){var a=n.d,i=n.d2,o=n.a;return(o=gf(t,"getBoundingClientRect"))?function(){return o()[a]}:function(){return(r?zee(i):t["client"+i])||0}},m_e=function(t,r){return!r||~Xc.indexOf(t)?qee(t):function(){return Vj}},qc=function(t,r){var n=r.s,a=r.d2,i=r.d,o=r.a;return Math.max(0,(n="scroll"+a)&&(o=gf(t,n))?o()-qee(t)()[i]:bm(t)?(Lo[n]||bn[n])-zee(a):t[n]-t["offset"+a])},D_=function(t,r){for(var n=0;n<pg.length;n+=3)(!r||~r.indexOf(pg[n+1]))&&t(pg[n],pg[n+1],pg[n+2])},Ro=function(t){return typeof t=="string"},bi=function(t){return typeof t=="function"},zv=function(t){return typeof t=="number"},Ah=function(t){return typeof t=="object"},xv=function(t,r,n){return t&&t.progress(r?0:1)&&n&&t.pause()},_T=function(t,r){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return r(t)}):r(t);n&&n.totalTime&&(t.callbackAnimation=n)}},zp=Math.abs,Wee="left",Hee="top",m5="right",p5="bottom",am="width",im="height",hy="Right",my="Left",py="Top",gy="Bottom",Zs="padding",Sl="margin",g0="Width",g5="Height",xa="px",kl=function(t){return qr.getComputedStyle(t)},p_e=function(t){var r=kl(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},xU=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},Du=function(t,r){var n=r&&kl(t)[kD]!=="matrix(1, 0, 0, 1, 0, 0)"&&Vt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=t.getBoundingClientRect();return n&&n.progress(0).kill(),a},yN=function(t,r){var n=r.d2;return t["offset"+n]||t["client"+n]||0},Gee=function(t){var r=[],n=t.labels,a=t.duration(),i;for(i in n)r.push(n[i]/a);return r},g_e=function(t){return function(r){return Vt.utils.snap(Gee(t),r)}},x5=function(t){var r=Vt.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(a,i){return a-i});return n?function(a,i,o){o===void 0&&(o=.001);var l;if(!i)return r(a);if(i>0){for(a-=o,l=0;l<n.length;l++)if(n[l]>=a)return n[l];return n[l-1]}else for(l=n.length,a+=o;l--;)if(n[l]<=a)return n[l];return n[0]}:function(a,i,o){o===void 0&&(o=.001);var l=r(a);return!i||Math.abs(l-a)<o||l-a<0==i<0?l:r(i<0?a-t:a+t)}},x_e=function(t){return function(r,n){return x5(Gee(t))(r,n.direction)}},I_=function(t,r,n,a){return n.split(",").forEach(function(i){return t(r,i,a)})},Ra=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:!a,capture:!!i})},Oa=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},M_=function(t,r,n){n=n&&n.wheelHandler,n&&(t(r,"wheel",n),t(r,"touchmove",n))},vU={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},F_={toggleActions:"play",anticipatePin:0},bN={top:0,left:0,center:.5,bottom:1,right:1},Lj=function(t,r){if(Ro(t)){var n=t.indexOf("="),a=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(a*=r/100),t=t.substr(0,n-1)),t=a+(t in bN?bN[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},L_=function(t,r,n,a,i,o,l,c){var u=i.startColor,d=i.endColor,f=i.fontSize,m=i.indent,p=i.fontWeight,y=Wn.createElement("div"),g=bm(n)||gf(n,"pinType")==="fixed",v=t.indexOf("scroller")!==-1,w=g?bn:n,b=t.indexOf("start")!==-1,j=b?u:d,E="border-color:"+j+";font-size:"+f+";color:"+j+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(E+=(a===va?m5:p5)+":"+(o+parseFloat(m))+"px;"),l&&(E+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),y._isStart=b,y.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),y.style.cssText=E,y.innerText=r||r===0?t+"-"+r:t,w.children[0]?w.insertBefore(y,w.children[0]):w.appendChild(y),y._offset=y["offset"+a.op.d2],$j(y,0,a,b),y},$j=function(t,r,n,a){var i={display:"block"},o=n[a?"os2":"p2"],l=n[a?"p2":"os2"];t._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+o+g0]=1,i["border"+l+g0]=0,i[n.p]=r+"px",Vt.set(t,i)},$r=[],AD={},ob,yU=function(){return hi()-Il>34&&(ob||(ob=requestAnimationFrame(qu)))},qp=function(){(!Di||!Di.isPressed||Di.startX>bn.clientWidth)&&(Wr.cache++,Di?ob||(ob=requestAnimationFrame(qu)):qu(),Il||_m("scrollStart"),Il=hi())},jT=function(){Bee=qr.innerWidth,$ee=qr.innerHeight},qv=function(t){Wr.cache++,(t===!0||!di&&!Lee&&!Wn.fullscreenElement&&!Wn.webkitFullscreenElement&&(!CD||Bee!==qr.innerWidth||Math.abs(qr.innerHeight-$ee)>qr.innerHeight*.25))&&vN.restart(!0)},wm={},v_e=[],Kee=function e(){return Oa(Rr,"scrollEnd",e)||qh(!0)},_m=function(t){return wm[t]&&wm[t].map(function(r){return r()})||v_e},Oo=[],Yee=function(t){for(var r=0;r<Oo.length;r+=5)(!t||Oo[r+4]&&Oo[r+4].query===t)&&(Oo[r].style.cssText=Oo[r+1],Oo[r].getBBox&&Oo[r].setAttribute("transform",Oo[r+2]||""),Oo[r+3].uncache=1)},Xee=function(){return Wr.forEach(function(t){return bi(t)&&++t.cacheID&&(t.rec=t())})},v5=function(t,r){var n;for(Ii=0;Ii<$r.length;Ii++)n=$r[Ii],n&&(!r||n._ctx===r)&&(t?n.kill(1):n.revert(!0,!0));fy=!0,r&&Yee(r),r||_m("revert")},Jee=function(t,r){Wr.cache++,(r||!Mi)&&Wr.forEach(function(n){return bi(n)&&n.cacheID++&&(n.rec=0)}),Ro(t)&&(qr.history.scrollRestoration=f5=t)},Mi,om=0,bU,y_e=function(){if(bU!==om){var t=bU=om;requestAnimationFrame(function(){return t===om&&qh(!0)})}},Zee=function(){bn.appendChild(Gg),h5=!Di&&Gg.offsetHeight||qr.innerHeight,bn.removeChild(Gg)},wU=function(t){return ib(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},qh=function(t,r){if(Lo=Wn.documentElement,bn=Wn.body,d5=[qr,Wn,Lo,bn],Il&&!t&&!fy){Ra(Rr,"scrollEnd",Kee);return}Zee(),Mi=Rr.isRefreshing=!0,fy||Xee();var n=_m("refreshInit");Fee&&Rr.sort(),r||v5(),Wr.forEach(function(a){bi(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),$r.slice(0).forEach(function(a){return a.refresh()}),fy=!1,$r.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",o=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-o),a.refresh()}}),TD=1,wU(!0),$r.forEach(function(a){var i=qc(a.scroller,a._dir),o=a.vars.end==="max"||a._endClamp&&a.end>i,l=a._startClamp&&a.start>=i;(o||l)&&a.setPositions(l?i-1:a.start,o?Math.max(l?i:a.start+1,i):a.end,!0)}),wU(!1),TD=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),Wr.forEach(function(a){bi(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),Jee(f5,1),vN.pause(),om++,Mi=2,qu(2),$r.forEach(function(a){return bi(a.vars.onRefresh)&&a.vars.onRefresh(a)}),Mi=Rr.isRefreshing=!1,_m("refresh")},PD=0,Bj=1,xy,qu=function(t){if(t===2||!Mi&&!fy){Rr.isUpdating=!0,xy&&xy.update(0);var r=$r.length,n=hi(),a=n-wT>=50,i=r&&$r[0].scroll();if(Bj=PD>i?-1:1,Mi||(PD=i),a&&(Il&&!I2&&n-Il>200&&(Il=0,_m("scrollEnd")),Bv=wT,wT=n),Bj<0){for(Ii=r;Ii-- >0;)$r[Ii]&&$r[Ii].update(0,a);Bj=1}else for(Ii=0;Ii<r;Ii++)$r[Ii]&&$r[Ii].update(0,a);Rr.isUpdating=!1}ob=0},OD=[Wee,Hee,p5,m5,Sl+gy,Sl+hy,Sl+py,Sl+my,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Uj=OD.concat([am,im,"boxSizing","max"+g0,"max"+g5,"position",Sl,Zs,Zs+py,Zs+hy,Zs+gy,Zs+my]),b_e=function(t,r,n){Kg(n);var a=t._gsap;if(a.spacerIsNative)Kg(a.spacerState);else if(t._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(t,r),i.removeChild(r))}t._gsap.swappedIn=!1},NT=function(t,r,n,a){if(!t._gsap.swappedIn){for(var i=OD.length,o=r.style,l=t.style,c;i--;)c=OD[i],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),l[p5]=l[m5]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[am]=yN(t,Ui)+xa,o[im]=yN(t,va)+xa,o[Zs]=l[Sl]=l[Hee]=l[Wee]="0",Kg(a),l[am]=l["max"+g0]=n[am],l[im]=l["max"+g5]=n[im],l[Zs]=n[Zs],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},w_e=/([A-Z])/g,Kg=function(t){if(t){var r=t.t.style,n=t.length,a=0,i,o;for((t.t._gsap||Vt.core.getCache(t.t)).uncache=1;a<n;a+=2)o=t[a+1],i=t[a],o?r[i]=o:r[i]&&r.removeProperty(i.replace(w_e,"-$1").toLowerCase())}},$_=function(t){for(var r=Uj.length,n=t.style,a=[],i=0;i<r;i++)a.push(Uj[i],n[Uj[i]]);return a.t=t,a},__e=function(t,r,n){for(var a=[],i=t.length,o=n?8:0,l;o<i;o+=2)l=t[o],a.push(l,l in r?r[l]:t[o+1]);return a.t=t.t,a},Vj={left:0,top:0},_U=function(t,r,n,a,i,o,l,c,u,d,f,m,p,y){bi(t)&&(t=t(c)),Ro(t)&&t.substr(0,3)==="max"&&(t=m+(t.charAt(4)==="="?Lj("0"+t.substr(3),n):0));var g=p?p.time():0,v,w,b;if(p&&p.seek(0),isNaN(t)||(t=+t),zv(t))p&&(t=Vt.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,m,t)),l&&$j(l,n,a,!0);else{bi(r)&&(r=r(c));var j=(t||"0").split(" "),E,S,C,k;b=lo(r,c)||bn,E=Du(b)||{},(!E||!E.left&&!E.top)&&kl(b).display==="none"&&(k=b.style.display,b.style.display="block",E=Du(b),k?b.style.display=k:b.style.removeProperty("display")),S=Lj(j[0],E[a.d]),C=Lj(j[1]||"0",n),t=E[a.p]-u[a.p]-d+S+i-C,l&&$j(l,C,a,n-C<20||l._isStart&&C>20),n-=n-C}if(y&&(c[y]=t||-.001,t<0&&(t=0)),o){var D=t+n,O=o._isStart;v="scroll"+a.d2,$j(o,D,a,O&&D>20||!O&&(f?Math.max(bn[v],Lo[v]):o.parentNode[v])<=D+1),f&&(u=Du(l),f&&(o.style[a.op.p]=u[a.op.p]-a.op.m-o._offset+xa))}return p&&b&&(v=Du(b),p.seek(m),w=Du(b),p._caScrollDist=v[a.p]-w[a.p],t=t/p._caScrollDist*m),p&&p.seek(g),p?t:Math.round(t)},j_e=/(webkit|moz|length|cssText|inset)/i,jU=function(t,r,n,a){if(t.parentNode!==r){var i=t.style,o,l;if(r===bn){t._stOrig=i.cssText,l=kl(t);for(o in l)!+o&&!j_e.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=n,i.left=a}else i.cssText=t._stOrig;Vt.core.getCache(t).uncache=1,r.appendChild(t)}},Qee=function(t,r,n){var a=r,i=a;return function(o){var l=Math.round(t());return l!==a&&l!==i&&Math.abs(l-a)>3&&Math.abs(l-i)>3&&(o=l,n&&n()),i=a,a=Math.round(o),a}},B_=function(t,r,n){var a={};a[r.p]="+="+n,Vt.set(t,a)},NU=function(t,r){var n=Rf(t,r),a="_scroll"+r.p2,i=function o(l,c,u,d,f){var m=o.tween,p=c.onComplete,y={};u=u||n();var g=Qee(n,u,function(){m.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,m&&m.kill(),c[a]=l,c.inherit=!1,c.modifiers=y,y[a]=function(){return g(u+d*m.ratio+f*m.ratio*m.ratio)},c.onUpdate=function(){Wr.cache++,o.tween&&qu()},c.onComplete=function(){o.tween=0,p&&p.call(m)},m=o.tween=Vt.to(t,c),m};return t[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Ra(t,"wheel",n.wheelHandler),Rr.isTouch&&Ra(t,"touchmove",n.wheelHandler),i},Rr=(function(){function e(r,n){mg||e.register(Vt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ED(this),this.init(r,n)}var t=e.prototype;return t.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Uv){this.update=this.refresh=this.kill=$c;return}n=xU(Ro(n)||zv(n)||n.nodeType?{trigger:n}:n,F_);var i=n,o=i.onUpdate,l=i.toggleClass,c=i.id,u=i.onToggle,d=i.onRefresh,f=i.scrub,m=i.trigger,p=i.pin,y=i.pinSpacing,g=i.invalidateOnRefresh,v=i.anticipatePin,w=i.onScrubComplete,b=i.onSnapComplete,j=i.once,E=i.snap,S=i.pinReparent,C=i.pinSpacer,k=i.containerAnimation,D=i.fastScrollEnd,O=i.preventOverlaps,P=n.horizontal||n.containerAnimation&&n.horizontal!==!1?Ui:va,A=!f&&f!==0,R=lo(n.scroller||qr),F=Vt.core.getCache(R),L=bm(R),W=("pinType"in n?n.pinType:gf(R,"pinType")||L&&"fixed")==="fixed",V=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],H=A&&n.toggleActions.split(" "),G="markers"in n?n.markers:F_.markers,I=L?0:parseFloat(kl(R)["border"+P.p2+g0])||0,U=this,X=n.onRefreshInit&&function(){return n.onRefreshInit(U)},z=h_e(R,L,P),Z=m_e(R,L),J=0,Q=0,de=0,fe=Rf(R,P),pe,K,ee,se,B,ie,ae,Ne,Ee,ue,qe,Je,le,we,Oe,Ge,Ze,Se,te,_e,he,Re,De,Fe,xe,He,ot,_t,at,Xt,Mt,jt,Pr,tr,Sr,Ir,Ca,Ot,Jt;if(U._startClamp=U._endClamp=!1,U._dir=P,v*=45,U.scroller=R,U.scroll=k?k.time.bind(k):fe,se=fe(),U.vars=n,a=a||n.animation,"refreshPriority"in n&&(Fee=1,n.refreshPriority===-9999&&(xy=U)),F.tweenScroll=F.tweenScroll||{top:NU(R,va),left:NU(R,Ui)},U.tweenTo=pe=F.tweenScroll[P.p],U.scrubDuration=function(vt){Pr=zv(vt)&&vt,Pr?jt?jt.duration(vt):jt=Vt.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Pr,paused:!0,onComplete:function(){return w&&w(U)}}):(jt&&jt.progress(1).kill(),jt=0)},a&&(a.vars.lazy=!1,a._initted&&!U.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),U.animation=a.pause(),a.scrollTrigger=U,U.scrubDuration(f),Xt=0,c||(c=a.vars.id)),E&&((!Ah(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in bn.style&&Vt.set(L?[bn,Lo]:R,{scrollBehavior:"auto"}),Wr.forEach(function(vt){return bi(vt)&&vt.target===(L?Wn.scrollingElement||Lo:R)&&(vt.smooth=!1)}),ee=bi(E.snapTo)?E.snapTo:E.snapTo==="labels"?g_e(a):E.snapTo==="labelsDirectional"?x_e(a):E.directional!==!1?function(vt,Ft){return x5(E.snapTo)(vt,hi()-Q<500?0:Ft.direction)}:Vt.utils.snap(E.snapTo),tr=E.duration||{min:.1,max:2},tr=Ah(tr)?dy(tr.min,tr.max):dy(tr,tr),Sr=Vt.delayedCall(E.delay||Pr/2||.1,function(){var vt=fe(),Ft=hi()-Q<500,Lt=pe.tween;if((Ft||Math.abs(U.getVelocity())<10)&&!Lt&&!I2&&J!==vt){var er=(vt-ie)/we,Rn=a&&!A?a.totalProgress():er,re=Ft?0:(Rn-Mt)/(hi()-Bv)*1e3||0,ve=Vt.utils.clamp(-er,1-er,zp(re/2)*re/.185),me=er+(E.inertia===!1?0:ve),ge,be,ye=E,Le=ye.onStart,We=ye.onInterrupt,Ie=ye.onComplete;if(ge=ee(me,U),zv(ge)||(ge=me),be=Math.max(0,Math.round(ie+ge*we)),vt<=ae&&vt>=ie&&be!==vt){if(Lt&&!Lt._initted&&Lt.data<=zp(be-vt))return;E.inertia===!1&&(ve=ge-er),pe(be,{duration:tr(zp(Math.max(zp(me-Rn),zp(ge-Rn))*.185/re/.05||0)),ease:E.ease||"power3",data:zp(be-vt),onInterrupt:function(){return Sr.restart(!0)&&We&&We(U)},onComplete:function(){U.update(),J=fe(),a&&!A&&(jt?jt.resetTo("totalProgress",ge,a._tTime/a._tDur):a.progress(ge)),Xt=Mt=a&&!A?a.totalProgress():U.progress,b&&b(U),Ie&&Ie(U)}},vt,ve*we,be-vt-ve*we),Le&&Le(U,pe.tween)}}else U.isActive&&J!==vt&&Sr.restart(!0)}).pause()),c&&(AD[c]=U),m=U.trigger=lo(m||p!==!0&&p),Jt=m&&m._gsap&&m._gsap.stRevert,Jt&&(Jt=Jt(U)),p=p===!0?m:lo(p),Ro(l)&&(l={targets:m,className:l}),p&&(y===!1||y===Sl||(y=!y&&p.parentNode&&p.parentNode.style&&kl(p.parentNode).display==="flex"?!1:Zs),U.pin=p,K=Vt.core.getCache(p),K.spacer?Oe=K.pinState:(C&&(C=lo(C),C&&!C.nodeType&&(C=C.current||C.nativeElement),K.spacerIsNative=!!C,C&&(K.spacerState=$_(C))),K.spacer=Se=C||Wn.createElement("div"),Se.classList.add("pin-spacer"),c&&Se.classList.add("pin-spacer-"+c),K.pinState=Oe=$_(p)),n.force3D!==!1&&Vt.set(p,{force3D:!0}),U.spacer=Se=K.spacer,at=kl(p),Fe=at[y+P.os2],_e=Vt.getProperty(p),he=Vt.quickSetter(p,P.a,xa),NT(p,Se,at),Ze=$_(p)),G){Je=Ah(G)?xU(G,vU):vU,ue=L_("scroller-start",c,R,P,Je,0),qe=L_("scroller-end",c,R,P,Je,0,ue),te=ue["offset"+P.op.d2];var Mr=lo(gf(R,"content")||R);Ne=this.markerStart=L_("start",c,Mr,P,Je,te,0,k),Ee=this.markerEnd=L_("end",c,Mr,P,Je,te,0,k),k&&(Ot=Vt.quickSetter([Ne,Ee],P.a,xa)),!W&&!(Xc.length&&gf(R,"fixedMarkers")===!0)&&(p_e(L?bn:R),Vt.set([ue,qe],{force3D:!0}),He=Vt.quickSetter(ue,P.a,xa),_t=Vt.quickSetter(qe,P.a,xa))}if(k){var zt=k.vars.onUpdate,Rt=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){U.update(0,0,1),zt&&zt.apply(k,Rt||[])})}if(U.previous=function(){return $r[$r.indexOf(U)-1]},U.next=function(){return $r[$r.indexOf(U)+1]},U.revert=function(vt,Ft){if(!Ft)return U.kill(!0);var Lt=vt!==!1||!U.enabled,er=di;Lt!==U.isReverted&&(Lt&&(Ir=Math.max(fe(),U.scroll.rec||0),de=U.progress,Ca=a&&a.progress()),Ne&&[Ne,Ee,ue,qe].forEach(function(Rn){return Rn.style.display=Lt?"none":"block"}),Lt&&(di=U,U.update(Lt)),p&&(!S||!U.isActive)&&(Lt?b_e(p,Se,Oe):NT(p,Se,kl(p),xe)),Lt||U.update(Lt),di=er,U.isReverted=Lt)},U.refresh=function(vt,Ft,Lt,er){if(!((di||!U.enabled)&&!Ft)){if(p&&vt&&Il){Ra(e,"scrollEnd",Kee);return}!Mi&&X&&X(U),di=U,pe.tween&&!Lt&&(pe.tween.kill(),pe.tween=0),jt&&jt.pause(),g&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren?a.getChildren(!0,!0,!1).forEach(function(Zi){return Zi.vars.immediateRender&&Zi.render(0,!0,!0)}):a.vars.immediateRender&&a.render(0,!0,!0)),U.isReverted||U.revert(!0,!0),U._subPinOffset=!1;var Rn=z(),re=Z(),ve=k?k.duration():qc(R,P),me=we<=.01||!we,ge=0,be=er||0,ye=Ah(Lt)?Lt.end:n.end,Le=n.endTrigger||m,We=Ah(Lt)?Lt.start:n.start||(n.start===0||!m?0:p?"0 0":"0 100%"),Ie=U.pinnedContainer=n.pinnedContainer&&lo(n.pinnedContainer,U),Ue=m&&Math.max(0,$r.indexOf(U))||0,$e=Ue,st,pt,Et,xt,it,Ut,Vr,xn,as,No,ua,ai,ds;for(G&&Ah(Lt)&&(ai=Vt.getProperty(ue,P.p),ds=Vt.getProperty(qe,P.p));$e-- >0;)Ut=$r[$e],Ut.end||Ut.refresh(0,1)||(di=U),Vr=Ut.pin,Vr&&(Vr===m||Vr===p||Vr===Ie)&&!Ut.isReverted&&(No||(No=[]),No.unshift(Ut),Ut.revert(!0,!0)),Ut!==$r[$e]&&(Ue--,$e--);for(bi(We)&&(We=We(U)),We=hU(We,"start",U),ie=_U(We,m,Rn,P,fe(),Ne,ue,U,re,I,W,ve,k,U._startClamp&&"_startClamp")||(p?-.001:0),bi(ye)&&(ye=ye(U)),Ro(ye)&&!ye.indexOf("+=")&&(~ye.indexOf(" ")?ye=(Ro(We)?We.split(" ")[0]:"")+ye:(ge=Lj(ye.substr(2),Rn),ye=Ro(We)?We:(k?Vt.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,ie):ie)+ge,Le=m)),ye=hU(ye,"end",U),ae=Math.max(ie,_U(ye||(Le?"100% 0":ve),Le,Rn,P,fe()+ge,Ee,qe,U,re,I,W,ve,k,U._endClamp&&"_endClamp"))||-.001,ge=0,$e=Ue;$e--;)Ut=$r[$e]||{},Vr=Ut.pin,Vr&&Ut.start-Ut._pinPush<=ie&&!k&&Ut.end>0&&(st=Ut.end-(U._startClamp?Math.max(0,Ut.start):Ut.start),(Vr===m&&Ut.start-Ut._pinPush<ie||Vr===Ie)&&isNaN(We)&&(ge+=st*(1-Ut.progress)),Vr===p&&(be+=st));if(ie+=ge,ae+=ge,U._startClamp&&(U._startClamp+=ge),U._endClamp&&!Mi&&(U._endClamp=ae||-.001,ae=Math.min(ae,qc(R,P))),we=ae-ie||(ie-=.01)&&.001,me&&(de=Vt.utils.clamp(0,1,Vt.utils.normalize(ie,ae,Ir))),U._pinPush=be,Ne&&ge&&(st={},st[P.a]="+="+ge,Ie&&(st[P.p]="-="+fe()),Vt.set([Ne,Ee],st)),p&&!(TD&&U.end>=qc(R,P)))st=kl(p),xt=P===va,Et=fe(),Re=parseFloat(_e(P.a))+be,!ve&&ae>1&&(ua=(L?Wn.scrollingElement||Lo:R).style,ua={style:ua,value:ua["overflow"+P.a.toUpperCase()]},L&&kl(bn)["overflow"+P.a.toUpperCase()]!=="scroll"&&(ua.style["overflow"+P.a.toUpperCase()]="scroll")),NT(p,Se,st),Ze=$_(p),pt=Du(p,!0),xn=W&&Rf(R,xt?Ui:va)(),y?(xe=[y+P.os2,we+be+xa],xe.t=Se,$e=y===Zs?yN(p,P)+we+be:0,$e&&(xe.push(P.d,$e+xa),Se.style.flexBasis!=="auto"&&(Se.style.flexBasis=$e+xa)),Kg(xe),Ie&&$r.forEach(function(Zi){Zi.pin===Ie&&Zi.vars.pinSpacing!==!1&&(Zi._subPinOffset=!0)}),W&&fe(Ir)):($e=yN(p,P),$e&&Se.style.flexBasis!=="auto"&&(Se.style.flexBasis=$e+xa)),W&&(it={top:pt.top+(xt?Et-ie:xn)+xa,left:pt.left+(xt?xn:Et-ie)+xa,boxSizing:"border-box",position:"fixed"},it[am]=it["max"+g0]=Math.ceil(pt.width)+xa,it[im]=it["max"+g5]=Math.ceil(pt.height)+xa,it[Sl]=it[Sl+py]=it[Sl+hy]=it[Sl+gy]=it[Sl+my]="0",it[Zs]=st[Zs],it[Zs+py]=st[Zs+py],it[Zs+hy]=st[Zs+hy],it[Zs+gy]=st[Zs+gy],it[Zs+my]=st[Zs+my],Ge=__e(Oe,it,S),Mi&&fe(0)),a?(as=a._initted,yT(1),a.render(a.duration(),!0,!0),De=_e(P.a)-Re+we+be,ot=Math.abs(we-De)>1,W&&ot&&Ge.splice(Ge.length-2,2),a.render(0,!0,!0),as||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),yT(0)):De=we,ua&&(ua.value?ua.style["overflow"+P.a.toUpperCase()]=ua.value:ua.style.removeProperty("overflow-"+P.a));else if(m&&fe()&&!k)for(pt=m.parentNode;pt&&pt!==bn;)pt._pinOffset&&(ie-=pt._pinOffset,ae-=pt._pinOffset),pt=pt.parentNode;No&&No.forEach(function(Zi){return Zi.revert(!1,!0)}),U.start=ie,U.end=ae,se=B=Mi?Ir:fe(),!k&&!Mi&&(se<Ir&&fe(Ir),U.scroll.rec=0),U.revert(!1,!0),Q=hi(),Sr&&(J=-1,Sr.restart(!0)),di=0,a&&A&&(a._initted||Ca)&&a.progress()!==Ca&&a.progress(Ca||0,!0).render(a.time(),!0,!0),(me||de!==U.progress||k||g||a&&!a._initted)&&(a&&!A&&(a._initted||de||a.vars.immediateRender!==!1)&&a.totalProgress(k&&ie<-.001&&!de?Vt.utils.normalize(ie,ae,0):de,!0),U.progress=me||(se-ie)/we===de?0:de),p&&y&&(Se._pinOffset=Math.round(U.progress*De)),jt&&jt.invalidate(),isNaN(ai)||(ai-=Vt.getProperty(ue,P.p),ds-=Vt.getProperty(qe,P.p),B_(ue,P,ai),B_(Ne,P,ai-(er||0)),B_(qe,P,ds),B_(Ee,P,ds-(er||0))),me&&!Mi&&U.update(),d&&!Mi&&!le&&(le=!0,d(U),le=!1)}},U.getVelocity=function(){return(fe()-B)/(hi()-Bv)*1e3||0},U.endAnimation=function(){xv(U.callbackAnimation),a&&(jt?jt.progress(1):a.paused()?A||xv(a,U.direction<0,1):xv(a,a.reversed()))},U.labelToScroll=function(vt){return a&&a.labels&&(ie||U.refresh()||ie)+a.labels[vt]/a.duration()*we||0},U.getTrailing=function(vt){var Ft=$r.indexOf(U),Lt=U.direction>0?$r.slice(0,Ft).reverse():$r.slice(Ft+1);return(Ro(vt)?Lt.filter(function(er){return er.vars.preventOverlaps===vt}):Lt).filter(function(er){return U.direction>0?er.end<=ie:er.start>=ae})},U.update=function(vt,Ft,Lt){if(!(k&&!Lt&&!vt)){var er=Mi===!0?Ir:U.scroll(),Rn=vt?0:(er-ie)/we,re=Rn<0?0:Rn>1?1:Rn||0,ve=U.progress,me,ge,be,ye,Le,We,Ie,Ue;if(Ft&&(B=se,se=k?fe():er,E&&(Mt=Xt,Xt=a&&!A?a.totalProgress():re)),v&&p&&!di&&!R_&&Il&&(!re&&ie<er+(er-B)/(hi()-Bv)*v?re=1e-4:re===1&&ae>er+(er-B)/(hi()-Bv)*v&&(re=.9999)),re!==ve&&U.enabled){if(me=U.isActive=!!re&&re<1,ge=!!ve&&ve<1,We=me!==ge,Le=We||!!re!=!!ve,U.direction=re>ve?1:-1,U.progress=re,Le&&!di&&(be=re&&!ve?0:re===1?1:ve===1?2:3,A&&(ye=!We&&H[be+1]!=="none"&&H[be+1]||H[be],Ue=a&&(ye==="complete"||ye==="reset"||ye in a))),O&&(We||Ue)&&(Ue||f||!a)&&(bi(O)?O(U):U.getTrailing(O).forEach(function(Et){return Et.endAnimation()})),A||(jt&&!di&&!R_?(jt._dp._time-jt._start!==jt._time&&jt.render(jt._dp._time-jt._start),jt.resetTo?jt.resetTo("totalProgress",re,a._tTime/a._tDur):(jt.vars.totalProgress=re,jt.invalidate().restart())):a&&a.totalProgress(re,!!(di&&(Q||vt)))),p){if(vt&&y&&(Se.style[y+P.os2]=Fe),!W)he(Vv(Re+De*re));else if(Le){if(Ie=!vt&&re>ve&&ae+1>er&&er+1>=qc(R,P),S)if(!vt&&(me||Ie)){var $e=Du(p,!0),st=er-ie;jU(p,bn,$e.top+(P===va?st:0)+xa,$e.left+(P===va?0:st)+xa)}else jU(p,Se);Kg(me||Ie?Ge:Ze),ot&&re<1&&me||he(Re+(re===1&&!Ie?De:0))}}E&&!pe.tween&&!di&&!R_&&Sr.restart(!0),l&&(We||j&&re&&(re<1||!bT))&&ib(l.targets).forEach(function(Et){return Et.classList[me||j?"add":"remove"](l.className)}),o&&!A&&!vt&&o(U),Le&&!di?(A&&(Ue&&(ye==="complete"?a.pause().totalProgress(1):ye==="reset"?a.restart(!0).pause():ye==="restart"?a.restart(!0):a[ye]()),o&&o(U)),(We||!bT)&&(u&&We&&_T(U,u),V[be]&&_T(U,V[be]),j&&(re===1?U.kill(!1,1):V[be]=0),We||(be=re===1?1:3,V[be]&&_T(U,V[be]))),D&&!me&&Math.abs(U.getVelocity())>(zv(D)?D:2500)&&(xv(U.callbackAnimation),jt?jt.progress(1):xv(a,ye==="reverse"?1:!re,1))):A&&o&&!di&&o(U)}if(_t){var pt=k?er/k.duration()*(k._caScrollDist||0):er;He(pt+(ue._isFlipped?1:0)),_t(pt)}Ot&&Ot(-er/k.duration()*(k._caScrollDist||0))}},U.enable=function(vt,Ft){U.enabled||(U.enabled=!0,Ra(R,"resize",qv),L||Ra(R,"scroll",qp),X&&Ra(e,"refreshInit",X),vt!==!1&&(U.progress=de=0,se=B=J=fe()),Ft!==!1&&U.refresh())},U.getTween=function(vt){return vt&&pe?pe.tween:jt},U.setPositions=function(vt,Ft,Lt,er){if(k){var Rn=k.scrollTrigger,re=k.duration(),ve=Rn.end-Rn.start;vt=Rn.start+ve*vt/re,Ft=Rn.start+ve*Ft/re}U.refresh(!1,!1,{start:mU(vt,Lt&&!!U._startClamp),end:mU(Ft,Lt&&!!U._endClamp)},er),U.update()},U.adjustPinSpacing=function(vt){if(xe&&vt){var Ft=xe.indexOf(P.d)+1;xe[Ft]=parseFloat(xe[Ft])+vt+xa,xe[1]=parseFloat(xe[1])+vt+xa,Kg(xe)}},U.disable=function(vt,Ft){if(vt!==!1&&U.revert(!0,!0),U.enabled&&(U.enabled=U.isActive=!1,Ft||jt&&jt.pause(),Ir=0,K&&(K.uncache=1),X&&Oa(e,"refreshInit",X),Sr&&(Sr.pause(),pe.tween&&pe.tween.kill()&&(pe.tween=0)),!L)){for(var Lt=$r.length;Lt--;)if($r[Lt].scroller===R&&$r[Lt]!==U)return;Oa(R,"resize",qv),L||Oa(R,"scroll",qp)}},U.kill=function(vt,Ft){U.disable(vt,Ft),jt&&!Ft&&jt.kill(),c&&delete AD[c];var Lt=$r.indexOf(U);Lt>=0&&$r.splice(Lt,1),Lt===Ii&&Bj>0&&Ii--,Lt=0,$r.forEach(function(er){return er.scroller===U.scroller&&(Lt=1)}),Lt||Mi||(U.scroll.rec=0),a&&(a.scrollTrigger=null,vt&&a.revert({kill:!1}),Ft||a.kill()),Ne&&[Ne,Ee,ue,qe].forEach(function(er){return er.parentNode&&er.parentNode.removeChild(er)}),xy===U&&(xy=0),p&&(K&&(K.uncache=1),Lt=0,$r.forEach(function(er){return er.pin===p&&Lt++}),Lt||(K.spacer=0)),n.onKill&&n.onKill(U)},$r.push(U),U.enable(!1,!1),Jt&&Jt(U),a&&a.add&&!we){var or=U.update;U.update=function(){U.update=or,Wr.cache++,ie||ae||U.refresh()},Vt.delayedCall(.01,U.update),we=.01,ie=ae=0}else U.refresh();p&&y_e()},e.register=function(n){return mg||(Vt=n||Vee(),Uee()&&window.document&&e.enable(),mg=Uv),mg},e.defaults=function(n){if(n)for(var a in n)F_[a]=n[a];return F_},e.disable=function(n,a){Uv=0,$r.forEach(function(o){return o[a?"kill":"disable"](n)}),Oa(qr,"wheel",qp),Oa(Wn,"scroll",qp),clearInterval(O_),Oa(Wn,"touchcancel",$c),Oa(bn,"touchstart",$c),I_(Oa,Wn,"pointerdown,touchstart,mousedown",pU),I_(Oa,Wn,"pointerup,touchend,mouseup",gU),vN.kill(),D_(Oa);for(var i=0;i<Wr.length;i+=3)M_(Oa,Wr[i],Wr[i+1]),M_(Oa,Wr[i],Wr[i+2])},e.enable=function(){if(qr=window,Wn=document,Lo=Wn.documentElement,bn=Wn.body,Vt&&(ib=Vt.utils.toArray,dy=Vt.utils.clamp,ED=Vt.core.context||$c,yT=Vt.core.suppressOverwrites||$c,f5=qr.history.scrollRestoration||"auto",PD=qr.pageYOffset||0,Vt.core.globals("ScrollTrigger",e),bn)){Uv=1,Gg=document.createElement("div"),Gg.style.height="100vh",Gg.style.position="absolute",Zee(),f_e(),Bs.register(Vt),e.isTouch=Bs.isTouch,qd=Bs.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),CD=Bs.isTouch===1,Ra(qr,"wheel",qp),d5=[qr,Wn,Lo,bn],Vt.matchMedia?(e.matchMedia=function(u){var d=Vt.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Vt.addEventListener("matchMediaInit",function(){Xee(),v5()}),Vt.addEventListener("matchMediaRevert",function(){return Yee()}),Vt.addEventListener("matchMedia",function(){qh(0,1),_m("matchMedia")}),Vt.matchMedia().add("(orientation: portrait)",function(){return jT(),jT})):console.warn("Requires GSAP 3.11.0 or later"),jT(),Ra(Wn,"scroll",qp);var n=bn.hasAttribute("style"),a=bn.style,i=a.borderTopStyle,o=Vt.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",l=Du(bn),va.m=Math.round(l.top+va.sc())||0,Ui.m=Math.round(l.left+Ui.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(bn.setAttribute("style",""),bn.removeAttribute("style")),O_=setInterval(yU,250),Vt.delayedCall(.5,function(){return R_=0}),Ra(Wn,"touchcancel",$c),Ra(bn,"touchstart",$c),I_(Ra,Wn,"pointerdown,touchstart,mousedown",pU),I_(Ra,Wn,"pointerup,touchend,mouseup",gU),kD=Vt.utils.checkPrefix("transform"),Uj.push(kD),mg=hi(),vN=Vt.delayedCall(.2,qh).pause(),pg=[Wn,"visibilitychange",function(){var u=qr.innerWidth,d=qr.innerHeight;Wn.hidden?(dU=u,fU=d):(dU!==u||fU!==d)&&qv()},Wn,"DOMContentLoaded",qh,qr,"load",qh,qr,"resize",qv],D_(Ra),$r.forEach(function(u){return u.enable(0,1)}),c=0;c<Wr.length;c+=3)M_(Oa,Wr[c],Wr[c+1]),M_(Oa,Wr[c],Wr[c+2])}},e.config=function(n){"limitCallbacks"in n&&(bT=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(O_)||(O_=a)&&setInterval(yU,a),"ignoreMobileResize"in n&&(CD=e.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(D_(Oa)||D_(Ra,n.autoRefreshEvents||"none"),Lee=(n.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(n,a){var i=lo(n),o=Wr.indexOf(i),l=bm(i);~o&&Wr.splice(o,l?6:2),a&&(l?Xc.unshift(qr,a,bn,a,Lo,a):Xc.unshift(i,a))},e.clearMatchMedia=function(n){$r.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},e.isInViewport=function(n,a,i){var o=(Ro(n)?lo(n):n).getBoundingClientRect(),l=o[i?am:im]*a||0;return i?o.right-l>0&&o.left+l<qr.innerWidth:o.bottom-l>0&&o.top+l<qr.innerHeight},e.positionInViewport=function(n,a,i){Ro(n)&&(n=lo(n));var o=n.getBoundingClientRect(),l=o[i?am:im],c=a==null?l/2:a in bN?bN[a]*l:~a.indexOf("%")?parseFloat(a)*l/100:parseFloat(a)||0;return i?(o.left+c)/qr.innerWidth:(o.top+c)/qr.innerHeight},e.killAll=function(n){if($r.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=wm.killAll||[];wm={},a.forEach(function(i){return i()})}},e})();Rr.version="3.14.2";Rr.saveStyles=function(e){return e?ib(e).forEach(function(t){if(t&&t.style){var r=Oo.indexOf(t);r>=0&&Oo.splice(r,5),Oo.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Vt.core.getCache(t),ED())}}):Oo};Rr.revert=function(e,t){return v5(!e,t)};Rr.create=function(e,t){return new Rr(e,t)};Rr.refresh=function(e){return e?qv(!0):(mg||Rr.register())&&qh(!0)};Rr.update=function(e){return++Wr.cache&&qu(e===!0?2:0)};Rr.clearScrollMemory=Jee;Rr.maxScroll=function(e,t){return qc(e,t?Ui:va)};Rr.getScrollFunc=function(e,t){return Rf(lo(e),t?Ui:va)};Rr.getById=function(e){return AD[e]};Rr.getAll=function(){return $r.filter(function(e){return e.vars.id!=="ScrollSmoother"})};Rr.isScrolling=function(){return!!Il};Rr.snapDirectional=x5;Rr.addEventListener=function(e,t){var r=wm[e]||(wm[e]=[]);~r.indexOf(t)||r.push(t)};Rr.removeEventListener=function(e,t){var r=wm[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};Rr.batch=function(e,t){var r=[],n={},a=t.interval||.016,i=t.batchMax||1e9,o=function(u,d){var f=[],m=[],p=Vt.delayedCall(a,function(){d(f,m),f=[],m=[]}).pause();return function(y){f.length||p.restart(!0),f.push(y.trigger),m.push(y),i<=f.length&&p.progress(1)}},l;for(l in t)n[l]=l.substr(0,2)==="on"&&bi(t[l])&&l!=="onRefreshInit"?o(l,t[l]):t[l];return bi(i)&&(i=i(),Ra(Rr,"refresh",function(){return i=t.batchMax()})),ib(e).forEach(function(c){var u={};for(l in n)u[l]=n[l];u.trigger=c,r.push(Rr.create(u))}),r};var SU=function(t,r,n,a){return r>a?t(a):r<0&&t(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},ST=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(Bs.isTouch?" pinch-zoom":""):"none",t===Lo&&e(bn,r)},U_={auto:1,scroll:1},N_e=function(t){var r=t.event,n=t.target,a=t.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,o=i._gsap||Vt.core.getCache(i),l=hi(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==bn&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(U_[(c=kl(i)).overflowY]||U_[c.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==n&&!bm(i)&&(U_[(c=kl(i)).overflowY]||U_[c.overflowX]),o._isScrollT=l}(o._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},ete=function(t,r,n,a){return Bs.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&N_e,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&Ra(Wn,Bs.eventTypes[0],CU,!1,!0)},onDisable:function(){return Oa(Wn,Bs.eventTypes[0],CU,!0)}})},S_e=/(input|label|select|textarea)/i,kU,CU=function(t){var r=S_e.test(t.target.tagName);(r||kU)&&(t._gsapAllow=!0,kU=r)},k_e=function(t){Ah(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,n=r.normalizeScrollX,a=r.momentum,i=r.allowNestedScroll,o=r.onRelease,l,c,u=lo(t.target)||Lo,d=Vt.core.globals().ScrollSmoother,f=d&&d.get(),m=qd&&(t.content&&lo(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),p=Rf(u,va),y=Rf(u,Ui),g=1,v=(Bs.isTouch&&qr.visualViewport?qr.visualViewport.scale*qr.visualViewport.width:qr.outerWidth)/qr.innerWidth,w=0,b=bi(a)?function(){return a(l)}:function(){return a||2.8},j,E,S=ete(u,t.type,!0,i),C=function(){return E=!1},k=$c,D=$c,O=function(){c=qc(u,va),D=dy(qd?1:0,c),n&&(k=dy(0,qc(u,Ui))),j=om},P=function(){m._gsap.y=Vv(parseFloat(m._gsap.y)+p.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},A=function(){if(E){requestAnimationFrame(C);var G=Vv(l.deltaY/2),I=D(p.v-G);if(m&&I!==p.v+p.offset){p.offset=I-p.v;var U=Vv((parseFloat(m&&m._gsap.y)||0)-p.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+U+", 0, 1)",m._gsap.y=U+"px",p.cacheID=Wr.cache,qu()}return!0}p.offset&&P(),E=!0},R,F,L,W,V=function(){O(),R.isActive()&&R.vars.scrollY>c&&(p()>c?R.progress(1)&&p(c):R.resetTo("scrollY",c))};return m&&Vt.set(m,{y:"+=0"}),t.ignoreCheck=function(H){return qd&&H.type==="touchmove"&&A()||g>1.05&&H.type!=="touchstart"||l.isGesturing||H.touches&&H.touches.length>1},t.onPress=function(){E=!1;var H=g;g=Vv((qr.visualViewport&&qr.visualViewport.scale||1)/v),R.pause(),H!==g&&ST(u,g>1.01?!0:n?!1:"x"),F=y(),L=p(),O(),j=om},t.onRelease=t.onGestureStart=function(H,G){if(p.offset&&P(),!G)W.restart(!0);else{Wr.cache++;var I=b(),U,X;n&&(U=y(),X=U+I*.05*-H.velocityX/.227,I*=SU(y,U,X,qc(u,Ui)),R.vars.scrollX=k(X)),U=p(),X=U+I*.05*-H.velocityY/.227,I*=SU(p,U,X,qc(u,va)),R.vars.scrollY=D(X),R.invalidate().duration(I).play(.01),(qd&&R.vars.scrollY>=c||U>=c-1)&&Vt.to({},{onUpdate:V,duration:I})}o&&o(H)},t.onWheel=function(){R._ts&&R.pause(),hi()-w>1e3&&(j=0,w=hi())},t.onChange=function(H,G,I,U,X){if(om!==j&&O(),G&&n&&y(k(U[2]===G?F+(H.startX-H.x):y()+G-U[1])),I){p.offset&&P();var z=X[2]===I,Z=z?L+H.startY-H.y:p()+I-X[1],J=D(Z);z&&Z!==J&&(L+=J-Z),p(J)}(I||G)&&qu()},t.onEnable=function(){ST(u,n?!1:"x"),Rr.addEventListener("refresh",V),Ra(qr,"resize",V),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),S.enable()},t.onDisable=function(){ST(u,!0),Oa(qr,"resize",V),Rr.removeEventListener("refresh",V),S.kill()},t.lockAxis=t.lockAxis!==!1,l=new Bs(t),l.iOS=qd,qd&&!p()&&p(1),qd&&Vt.ticker.add($c),W=l._dc,R=Vt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Qee(p,p(),function(){return R.pause()})},onUpdate:qu,onComplete:W.vars.onComplete}),l};Rr.sort=function(e){if(bi(e))return $r.sort(e);var t=qr.pageYOffset||0;return Rr.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+qr.innerHeight}),$r.sort(e||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Rr.observe=function(e){return new Bs(e)};Rr.normalizeScroll=function(e){if(typeof e>"u")return Di;if(e===!0&&Di)return Di.enable();if(e===!1){Di&&Di.kill(),Di=e;return}var t=e instanceof Bs?e:k_e(e);return Di&&Di.target===t.target&&Di.kill(),bm(t.target)&&(Di=t),t};Rr.core={_getVelocityProp:SD,_inputObserver:ete,_scrollers:Wr,_proxies:Xc,bridge:{ss:function(){Il||_m("scrollStart"),Il=hi()},ref:function(){return di}}};Vee()&&Vt.registerPlugin(Rr);Ln.registerPlugin(Rr);const C_e=()=>{const e=_.useRef(null),t=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{const n=i=>{i.preventDefault();const l=i.currentTarget.getAttribute("href");if(l&&l.startsWith("#")){const c=document.querySelector(l);if(c){const u=c.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}}},a=document.querySelectorAll('a[href^="#"]');if(a.forEach(i=>{i.addEventListener("click",n)}),e.current){const i=e.current.querySelector(".hero-badge"),o=e.current.querySelector(".hero-heading"),l=e.current.querySelector(".hero-subheading"),c=e.current.querySelector(".hero-cta"),u=e.current.querySelector(".hero-trust");e.current.querySelectorAll(".hero-decorative").forEach((m,p)=>{Ln.to(m,{yPercent:p%2===0?30:-30,scrollTrigger:{trigger:e.current,start:"top top",end:"bottom top",scrub:1}})}),Ln.timeline({defaults:{ease:"power3.out"}}).fromTo(i,{opacity:0,y:-20},{opacity:1,y:0,duration:.8}).fromTo(o,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:1,stagger:.1},"-=0.4").fromTo(l,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.6").fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.4").fromTo(u,{opacity:0},{opacity:1,duration:.8},"-=0.4")}if(t.current&&t.current.querySelectorAll(".feature-card").forEach((o,l)=>{Ln.fromTo(o,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.3,ease:"power3.out",scrollTrigger:{trigger:o,start:"top bottom",end:"bottom 20%",toggleActions:"play none none reverse"},delay:0}),o.addEventListener("mouseenter",()=>{Ln.to(o,{y:-10,duration:.3,ease:"power2.out"})}),o.addEventListener("mouseleave",()=>{Ln.to(o,{y:0,duration:.3,ease:"power2.out"})})}),r.current){const i=r.current.querySelectorAll(".step-card");Ln.fromTo(i,{opacity:0,x:-50,scale:.95},{opacity:1,x:0,scale:1,duration:.8,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:r.current,start:"top 70%",end:"bottom 20%",toggleActions:"play none none reverse"}})}return()=>{a.forEach(i=>{i.removeEventListener("click",n)}),Rr.getAll().forEach(i=>i.kill())}},[]),{heroRef:e,featuresRef:t,stepsRef:r}},E_e=()=>{const e=_.useRef(null);return _.useEffect(()=>{if(!e.current)return;e.current.querySelectorAll(".particle").forEach((r,n)=>{Ln.set(r,{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:Math.random()*.5+.5,opacity:Math.random()*.3+.1}),Ln.to(r,{y:`+=${Math.random()*200-100}`,x:`+=${Math.random()*200-100}`,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut",delay:Math.random()*2}),Ln.to(r,{rotation:Math.random()*360,duration:Math.random()*20+10,repeat:-1,ease:"none"}),Ln.to(r,{scale:`+=${Math.random()*.3}`,duration:Math.random()*3+2,repeat:-1,yoyo:!0,ease:"sine.inOut"})})},[]),s.jsx("div",{ref:e,className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((t,r)=>s.jsx("div",{className:"particle absolute w-2 h-2 rounded-full",style:{background:`radial-gradient(circle, ${r%3===0?"rgba(59, 130, 246, 0.4)":r%3===1?"rgba(139, 92, 246, 0.4)":"rgba(236, 72, 153, 0.4)"}, transparent)`,filter:"blur(1px)"}},r))})},EU=({text:e,className:t="",delay:r=0,as:n="span",gradient:a=!1})=>{const i=_.useRef(null);return _.useEffect(()=>{if(!i.current)return;const o=e.split(" ");i.current.innerHTML=o.map(c=>`<span class="word inline-block mr-2">${c.split("").map(d=>`<span class="char inline-block ${a?"gradient-char":""}">${d===" "?"&nbsp;":d}</span>`).join("")}</span>`).join(" ");const l=i.current.querySelectorAll(".char");Ln.fromTo(l,{opacity:0,y:50,rotationX:-90},{opacity:1,y:0,rotationX:0,duration:.8,stagger:.02,ease:"back.out(1.7)",delay:r}),a&&Ln.to(l,{backgroundPosition:"200% center",duration:3,repeat:-1,ease:"none",stagger:{each:.1,repeat:-1}})},[e,r,a]),s.jsx(n,{ref:i,className:t})},kT=({color:e,size:t="md",position:r})=>{const n=_.useRef(null),a={blue:"from-blue-500/20 to-blue-600/10",purple:"from-purple-500/20 to-purple-600/10",pink:"from-pink-500/20 to-pink-600/10",green:"from-green-500/20 to-green-600/10"},i={sm:"w-64 h-64",md:"w-96 h-96",lg:"w-[600px] h-[600px]"};return _.useEffect(()=>{n.current&&(Ln.to(n.current,{scale:1.2,duration:8,repeat:-1,yoyo:!0,ease:"sine.inOut"}),Ln.to(n.current,{rotation:360,duration:20,repeat:-1,ease:"none"}),Ln.to(n.current,{x:"+=50",y:"+=30",duration:10,repeat:-1,yoyo:!0,ease:"sine.inOut"}))},[]),s.jsx("div",{ref:n,className:`absolute ${i[t]} bg-gradient-to-br ${a[e]} rounded-full blur-3xl opacity-30`,style:r})};var T_e=_.createContext(void 0);function Kf(e){const t=_.useContext(T_e);return e||t||"ltr"}var CT=0;function M2(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??TU()),document.body.insertAdjacentElement("beforeend",e[1]??TU()),CT++,()=>{CT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),CT--}},[])}function TU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ET="focusScope.autoFocusOnMount",TT="focusScope.autoFocusOnUnmount",AU={bubbles:!1,cancelable:!0},A_e="FocusScope",Aw=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),u=Ss(a),d=Ss(i),f=_.useRef(null),m=Qt(t,g=>c(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let g=function(j){if(p.paused||!l)return;const E=j.target;l.contains(E)?f.current=E:Wd(f.current,{select:!0})},v=function(j){if(p.paused||!l)return;const E=j.relatedTarget;E!==null&&(l.contains(E)||Wd(f.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Wd(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,p.paused]),_.useEffect(()=>{if(l){OU.add(p);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(ET,AU);l.addEventListener(ET,u),l.dispatchEvent(w),w.defaultPrevented||(P_e(M_e(tte(l)),{select:!0}),document.activeElement===g&&Wd(l))}return()=>{l.removeEventListener(ET,u),setTimeout(()=>{const w=new CustomEvent(TT,AU);l.addEventListener(TT,d),l.dispatchEvent(w),w.defaultPrevented||Wd(g??document.body,{select:!0}),l.removeEventListener(TT,d),OU.remove(p)},0)}}},[l,u,d,p]);const y=_.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const b=g.currentTarget,[j,E]=O_e(b);j&&E?!g.shiftKey&&w===E?(g.preventDefault(),r&&Wd(j,{select:!0})):g.shiftKey&&w===j&&(g.preventDefault(),r&&Wd(E,{select:!0})):w===b&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(At.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});Aw.displayName=A_e;function P_e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wd(n,{select:t}),document.activeElement!==r)return}function O_e(e){const t=tte(e),r=PU(t,e),n=PU(t.reverse(),e);return[r,n]}function tte(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PU(e,t){for(const r of e)if(!R_e(r,{upTo:t}))return r}function R_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function D_e(e){return e instanceof HTMLInputElement&&"select"in e}function Wd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&D_e(e)&&t&&e.select()}}var OU=I_e();function I_e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=RU(e,t),e.unshift(t)},remove(t){e=RU(e,t),e[0]?.resume()}}}function RU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function M_e(e){return e.filter(t=>t.tagName!=="A")}var AT="rovingFocusGroup.onEntryFocus",F_e={bubbles:!1,cancelable:!0},Pw="RovingFocusGroup",[RD,rte,L_e]=sx(Pw),[$_e,fx]=zs(Pw,[L_e]),[B_e,U_e]=$_e(Pw),nte=_.forwardRef((e,t)=>s.jsx(RD.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(RD.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(V_e,{...e,ref:t})})}));nte.displayName=Pw;var V_e=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=_.useRef(null),p=Qt(t,m),y=Kf(i),[g,v]=Ci({prop:o,defaultProp:l??null,onChange:c,caller:Pw}),[w,b]=_.useState(!1),j=Ss(u),E=rte(r),S=_.useRef(!1),[C,k]=_.useState(0);return _.useEffect(()=>{const D=m.current;if(D)return D.addEventListener(AT,j),()=>D.removeEventListener(AT,j)},[j]),s.jsx(B_e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:_.useCallback(D=>v(D),[v]),onItemShiftTab:_.useCallback(()=>b(!0),[]),onFocusableItemAdd:_.useCallback(()=>k(D=>D+1),[]),onFocusableItemRemove:_.useCallback(()=>k(D=>D-1),[]),children:s.jsx(At.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ht(e.onMouseDown,()=>{S.current=!0}),onFocus:ht(e.onFocus,D=>{const O=!S.current;if(D.target===D.currentTarget&&O&&!w){const P=new CustomEvent(AT,F_e);if(D.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=E().filter(V=>V.focusable),R=A.find(V=>V.active),F=A.find(V=>V.id===g),W=[R,F,...A].filter(Boolean).map(V=>V.ref.current);ite(W,d)}}S.current=!1}),onBlur:ht(e.onBlur,()=>b(!1))})})}),ste="RovingFocusGroupItem",ate=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=go(),u=i||c,d=U_e(ste,r),f=d.currentTabStopId===u,m=rte(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=d;return _.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(RD.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(At.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ht(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ht(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ht(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=W_e(v,d.orientation,d.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=m().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")j.reverse();else if(w==="prev"||w==="next"){w==="prev"&&j.reverse();const E=j.indexOf(v.currentTarget);j=d.loop?H_e(j,E+1):j.slice(E+1)}setTimeout(()=>ite(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});ate.displayName=ste;var z_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function W_e(e,t,r){const n=q_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return z_e[n]}function ite(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function H_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var y5=nte,b5=ate,G_e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wp=new WeakMap,V_=new WeakMap,z_={},PT=0,ote=function(e){return e&&(e.host||ote(e.parentNode))},K_e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ote(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Y_e=function(e,t,r,n){var a=K_e(t,Array.isArray(e)?e:[e]);z_[r]||(z_[r]=new WeakMap);var i=z_[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",g=(Wp.get(m)||0)+1,v=(i.get(m)||0)+1;Wp.set(m,g),i.set(m,v),o.push(m),g===1&&y&&V_.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),PT++,function(){o.forEach(function(f){var m=Wp.get(f)-1,p=i.get(f)-1;Wp.set(f,m),i.set(f,p),m||(V_.has(f)||f.removeAttribute(n),V_.delete(f)),p||f.removeAttribute(r)}),PT--,PT||(Wp=new WeakMap,Wp=new WeakMap,V_=new WeakMap,z_={})}},F2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=G_e(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Y_e(n,a,r,"aria-hidden")):function(){return null}},Uc=function(){return Uc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Uc.apply(this,arguments)};function lte(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function X_e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var zj="right-scroll-bar-position",qj="width-before-scroll-bar",J_e="with-scroll-bars-hidden",Z_e="--removed-body-scroll-bar-size";function OT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Q_e(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var eje=typeof window<"u"?_.useLayoutEffect:_.useEffect,DU=new WeakMap;function tje(e,t){var r=Q_e(null,function(n){return e.forEach(function(a){return OT(a,n)})});return eje(function(){var n=DU.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||OT(l,null)}),i.forEach(function(l){a.has(l)||OT(l,o)})}DU.set(r,e)},[e]),r}function rje(e){return e}function nje(e,t){t===void 0&&(t=rje);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function sje(e){e===void 0&&(e={});var t=nje(null);return t.options=Uc({async:!0,ssr:!1},e),t}var cte=function(e){var t=e.sideCar,r=lte(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Uc({},r))};cte.isSideCarExport=!0;function aje(e,t){return e.useMedium(t),cte}var ute=sje(),RT=function(){},L2=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:RT,onWheelCapture:RT,onTouchMoveCapture:RT}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,j=e.gapMode,E=lte(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=tje([r,t]),k=Uc(Uc({},E),a);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:ute,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:j}),o?_.cloneElement(_.Children.only(l),Uc(Uc({},k),{ref:C})):_.createElement(b,Uc({},k,{className:c,ref:C}),l))});L2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L2.classNames={fullWidth:qj,zeroRight:zj};var ije=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oje(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ije();return t&&e.setAttribute("nonce",t),e}function lje(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cje(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uje=function(){var e=0,t=null;return{add:function(r){e==0&&(t=oje())&&(lje(t,r),cje(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dje=function(){var e=uje();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dte=function(){var e=dje(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},fje={left:0,top:0,right:0,gap:0},DT=function(e){return parseInt(e||"",10)||0},hje=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[DT(r),DT(n),DT(a)]},mje=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fje;var t=hje(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},pje=dte(),Yg="data-scroll-locked",gje=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(J_e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Yg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zj,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(qj,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zj," .").concat(zj,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qj," .").concat(qj,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yg,`] {
    `).concat(Z_e,": ").concat(l,`px;
  }
`)},IU=function(){var e=parseInt(document.body.getAttribute(Yg)||"0",10);return isFinite(e)?e:0},xje=function(){_.useEffect(function(){return document.body.setAttribute(Yg,(IU()+1).toString()),function(){var e=IU()-1;e<=0?document.body.removeAttribute(Yg):document.body.setAttribute(Yg,e.toString())}},[])},vje=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;xje();var i=_.useMemo(function(){return mje(a)},[a]);return _.createElement(pje,{styles:gje(i,!t,a,r?"":"!important")})},DD=!1;if(typeof window<"u")try{var q_=Object.defineProperty({},"passive",{get:function(){return DD=!0,!0}});window.addEventListener("test",q_,q_),window.removeEventListener("test",q_,q_)}catch{DD=!1}var Hp=DD?{passive:!1}:!1,yje=function(e){return e.tagName==="TEXTAREA"},fte=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!yje(e)&&r[t]==="visible")},bje=function(e){return fte(e,"overflowY")},wje=function(e){return fte(e,"overflowX")},MU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=hte(e,n);if(a){var i=mte(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_je=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},jje=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},hte=function(e,t){return e==="v"?bje(t):wje(t)},mte=function(e,t){return e==="v"?_je(t):jje(t)},Nje=function(e,t){return e==="h"&&t==="rtl"?-1:1},Sje=function(e,t,r,n,a){var i=Nje(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var p=mte(e,l),y=p[0],g=p[1],v=p[2],w=g-v-i*y;(y||w)&&hte(e,l)&&(f+=w,m+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},W_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FU=function(e){return[e.deltaX,e.deltaY]},LU=function(e){return e&&"current"in e?e.current:e},kje=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Cje=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Eje=0,Gp=[];function Tje(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(Eje++)[0],i=_.useState(dte)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=X_e([e.lockRef.current],(e.shards||[]).map(LU),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=W_(g),b=r.current,j="deltaX"in g?g.deltaX:b[0]-w[0],E="deltaY"in g?g.deltaY:b[1]-w[1],S,C=g.target,k=Math.abs(j)>Math.abs(E)?"h":"v";if("touches"in g&&k==="h"&&C.type==="range")return!1;var D=MU(k,C);if(!D)return!0;if(D?S=k:(S=k==="v"?"h":"v",D=MU(k,C)),!D)return!1;if(!n.current&&"changedTouches"in g&&(j||E)&&(n.current=S),!S)return!0;var O=n.current||S;return Sje(O,v,g,O==="h"?j:E)},[]),c=_.useCallback(function(g){var v=g;if(!(!Gp.length||Gp[Gp.length-1]!==i)){var w="deltaY"in v?FU(v):W_(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&kje(S.delta,w)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(LU).filter(Boolean).filter(function(S){return S.contains(v.target)}),E=j.length>0?l(v,j[0]):!o.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(g,v,w,b){var j={name:g,delta:v,target:w,should:b,shadowParent:Aje(w)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(E){return E!==j})},1)},[]),d=_.useCallback(function(g){r.current=W_(g),n.current=void 0},[]),f=_.useCallback(function(g){u(g.type,FU(g),g.target,l(g,e.lockRef.current))},[]),m=_.useCallback(function(g){u(g.type,W_(g),g.target,l(g,e.lockRef.current))},[]);_.useEffect(function(){return Gp.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Hp),document.addEventListener("touchmove",c,Hp),document.addEventListener("touchstart",d,Hp),function(){Gp=Gp.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Hp),document.removeEventListener("touchmove",c,Hp),document.removeEventListener("touchstart",d,Hp)}},[]);var p=e.removeScrollBar,y=e.inert;return _.createElement(_.Fragment,null,y?_.createElement(i,{styles:Cje(a)}):null,p?_.createElement(vje,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Aje(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pje=aje(ute,Tje);var Ow=_.forwardRef(function(e,t){return _.createElement(L2,Uc({},e,{ref:t,sideCar:Pje}))});Ow.classNames=L2.classNames;var ID=["Enter"," "],Oje=["ArrowDown","PageUp","Home"],pte=["ArrowUp","PageDown","End"],Rje=[...Oje,...pte],Dje={ltr:[...ID,"ArrowRight"],rtl:[...ID,"ArrowLeft"]},Ije={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rw="Menu",[lb,Mje,Fje]=sx(Rw),[tp,gte]=zs(Rw,[Fje,Wf,fx]),$2=Wf(),xte=fx(),[Lje,rp]=tp(Rw),[$je,Dw]=tp(Rw),vte=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=$2(t),[c,u]=_.useState(null),d=_.useRef(!1),f=Ss(i),m=Kf(a);return _.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(w2,{...l,children:s.jsx(Lje,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx($je,{scope:t,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};vte.displayName=Rw;var Bje="MenuAnchor",w5=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=$2(r);return s.jsx(kw,{...a,...n,ref:t})});w5.displayName=Bje;var _5="MenuPortal",[Uje,yte]=tp(_5,{forceMount:void 0}),bte=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=rp(_5,t);return s.jsx(Uje,{scope:t,forceMount:r,children:s.jsx(ca,{present:r||i.open,children:s.jsx(ax,{asChild:!0,container:a,children:n})})})};bte.displayName=_5;var Ml="MenuContent",[Vje,j5]=tp(Ml),wte=_.forwardRef((e,t)=>{const r=yte(Ml,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=rp(Ml,e.__scopeMenu),o=Dw(Ml,e.__scopeMenu);return s.jsx(lb.Provider,{scope:e.__scopeMenu,children:s.jsx(ca,{present:n||i.open,children:s.jsx(lb.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(zje,{...a,ref:t}):s.jsx(qje,{...a,ref:t})})})})}),zje=_.forwardRef((e,t)=>{const r=rp(Ml,e.__scopeMenu),n=_.useRef(null),a=Qt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return F2(i)},[]),s.jsx(N5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ht(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),qje=_.forwardRef((e,t)=>{const r=rp(Ml,e.__scopeMenu);return s.jsx(N5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Wje=jf("MenuContent.ScrollLock"),N5=_.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,v=rp(Ml,r),w=Dw(Ml,r),b=$2(r),j=xte(r),E=Mje(r),[S,C]=_.useState(null),k=_.useRef(null),D=Qt(t,k,v.onContentChange),O=_.useRef(0),P=_.useRef(""),A=_.useRef(0),R=_.useRef(null),F=_.useRef("right"),L=_.useRef(0),W=y?Ow:_.Fragment,V=y?{as:Wje,allowPinchZoom:!0}:void 0,H=I=>{const U=P.current+I,X=E().filter(fe=>!fe.disabled),z=document.activeElement,Z=X.find(fe=>fe.ref.current===z)?.textValue,J=X.map(fe=>fe.textValue),Q=nNe(J,U,Z),de=X.find(fe=>fe.textValue===Q)?.ref.current;(function fe(pe){P.current=pe,window.clearTimeout(O.current),pe!==""&&(O.current=window.setTimeout(()=>fe(""),1e3))})(U),de&&setTimeout(()=>de.focus())};_.useEffect(()=>()=>window.clearTimeout(O.current),[]),M2();const G=_.useCallback(I=>F.current===R.current?.side&&aNe(I,R.current?.area),[]);return s.jsx(Vje,{scope:r,searchRef:P,onItemEnter:_.useCallback(I=>{G(I)&&I.preventDefault()},[G]),onItemLeave:_.useCallback(I=>{G(I)||(k.current?.focus(),C(null))},[G]),onTriggerLeave:_.useCallback(I=>{G(I)&&I.preventDefault()},[G]),pointerGraceTimerRef:A,onPointerGraceIntentChange:_.useCallback(I=>{R.current=I},[]),children:s.jsx(W,{...V,children:s.jsx(Aw,{asChild:!0,trapped:a,onMountAutoFocus:ht(i,I=>{I.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(y5,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:ht(c,I=>{w.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(_2,{role:"menu","aria-orientation":"vertical","data-state":Fte(v.open),"data-radix-menu-content":"",dir:w.dir,...b,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:ht(g.onKeyDown,I=>{const X=I.target.closest("[data-radix-menu-content]")===I.currentTarget,z=I.ctrlKey||I.altKey||I.metaKey,Z=I.key.length===1;X&&(I.key==="Tab"&&I.preventDefault(),!z&&Z&&H(I.key));const J=k.current;if(I.target!==J||!Rje.includes(I.key))return;I.preventDefault();const de=E().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);pte.includes(I.key)&&de.reverse(),tNe(de)}),onBlur:ht(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(O.current),P.current="")}),onPointerMove:ht(e.onPointerMove,cb(I=>{const U=I.target,X=L.current!==I.clientX;if(I.currentTarget.contains(U)&&X){const z=I.clientX>L.current?"right":"left";F.current=z,L.current=I.clientX}}))})})})})})})});wte.displayName=Ml;var Hje="MenuGroup",S5=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(At.div,{role:"group",...n,ref:t})});S5.displayName=Hje;var Gje="MenuLabel",_te=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(At.div,{...n,ref:t})});_te.displayName=Gje;var wN="MenuItem",$U="menu.itemSelect",B2=_.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=_.useRef(null),o=Dw(wN,e.__scopeMenu),l=j5(wN,e.__scopeMenu),c=Qt(t,i),u=_.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent($U,{bubbles:!0,cancelable:!0});f.addEventListener($U,p=>n?.(p),{once:!0}),mM(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(jte,{...a,ref:c,disabled:r,onClick:ht(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:ht(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:ht(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||ID.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});B2.displayName=wN;var jte=_.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=j5(wN,r),l=xte(r),c=_.useRef(null),u=Qt(t,c),[d,f]=_.useState(!1),[m,p]=_.useState("");return _.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(lb.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(b5,{asChild:!0,...l,focusable:!n,children:s.jsx(At.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ht(e.onPointerMove,cb(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ht(e.onPointerLeave,cb(y=>o.onItemLeave(y))),onFocus:ht(e.onFocus,()=>f(!0)),onBlur:ht(e.onBlur,()=>f(!1))})})})}),Kje="MenuCheckboxItem",Nte=_.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(Tte,{scope:e.__scopeMenu,checked:r,children:s.jsx(B2,{role:"menuitemcheckbox","aria-checked":_N(r)?"mixed":r,...a,ref:t,"data-state":C5(r),onSelect:ht(a.onSelect,()=>n?.(_N(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Nte.displayName=Kje;var Ste="MenuRadioGroup",[Yje,Xje]=tp(Ste,{value:void 0,onValueChange:()=>{}}),kte=_.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ss(n);return s.jsx(Yje,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(S5,{...a,ref:t})})});kte.displayName=Ste;var Cte="MenuRadioItem",Ete=_.forwardRef((e,t)=>{const{value:r,...n}=e,a=Xje(Cte,e.__scopeMenu),i=r===a.value;return s.jsx(Tte,{scope:e.__scopeMenu,checked:i,children:s.jsx(B2,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":C5(i),onSelect:ht(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Ete.displayName=Cte;var k5="MenuItemIndicator",[Tte,Jje]=tp(k5,{checked:!1}),Ate=_.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Jje(k5,r);return s.jsx(ca,{present:n||_N(i.checked)||i.checked===!0,children:s.jsx(At.span,{...a,ref:t,"data-state":C5(i.checked)})})});Ate.displayName=k5;var Zje="MenuSeparator",Pte=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(At.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Pte.displayName=Zje;var Qje="MenuArrow",Ote=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=$2(r);return s.jsx(j2,{...a,...n,ref:t})});Ote.displayName=Qje;var eNe="MenuSub",[tlt,Rte]=tp(eNe),Wv="MenuSubTrigger",Dte=_.forwardRef((e,t)=>{const r=rp(Wv,e.__scopeMenu),n=Dw(Wv,e.__scopeMenu),a=Rte(Wv,e.__scopeMenu),i=j5(Wv,e.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(w5,{asChild:!0,...u,children:s.jsx(jte,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Fte(r.open),...e,ref:h2(t,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ht(e.onPointerMove,cb(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ht(e.onPointerLeave,cb(f=>{d();const m=r.content?.getBoundingClientRect();if(m){const p=r.content?.dataset.side,y=p==="right",g=y?-5:5,v=m[y?"left":"right"],w=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ht(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Dje[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});Dte.displayName=Wv;var Ite="MenuSubContent",Mte=_.forwardRef((e,t)=>{const r=yte(Ml,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=rp(Ml,e.__scopeMenu),o=Dw(Ml,e.__scopeMenu),l=Rte(Ite,e.__scopeMenu),c=_.useRef(null),u=Qt(t,c);return s.jsx(lb.Provider,{scope:e.__scopeMenu,children:s.jsx(ca,{present:n||i.open,children:s.jsx(lb.Slot,{scope:e.__scopeMenu,children:s.jsx(N5,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ht(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ht(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ht(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=Ije[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});Mte.displayName=Ite;function Fte(e){return e?"open":"closed"}function _N(e){return e==="indeterminate"}function C5(e){return _N(e)?"indeterminate":e?"checked":"unchecked"}function tNe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function rNe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function nNe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=rNe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function sNe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function aNe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return sNe(r,t)}function cb(e){return t=>t.pointerType==="mouse"?e(t):void 0}var iNe=vte,oNe=w5,lNe=bte,cNe=wte,uNe=S5,dNe=_te,fNe=B2,hNe=Nte,mNe=kte,pNe=Ete,gNe=Ate,xNe=Pte,vNe=Ote,yNe=Dte,bNe=Mte,U2="DropdownMenu",[wNe]=zs(U2,[gte]),Ji=gte(),[_Ne,Lte]=wNe(U2),$te=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ji(t),u=_.useRef(null),[d,f]=Ci({prop:a,defaultProp:i??!1,onChange:o,caller:U2});return s.jsx(_Ne,{scope:t,triggerId:go(),triggerRef:u,contentId:go(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(iNe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};$te.displayName=U2;var Bte="DropdownMenuTrigger",Ute=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=Lte(Bte,r),o=Ji(r);return s.jsx(oNe,{asChild:!0,...o,children:s.jsx(At.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:h2(t,i.triggerRef),onPointerDown:ht(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ht(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ute.displayName=Bte;var jNe="DropdownMenuPortal",Vte=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ji(t);return s.jsx(lNe,{...n,...r})};Vte.displayName=jNe;var zte="DropdownMenuContent",qte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Lte(zte,r),i=Ji(r),o=_.useRef(!1);return s.jsx(cNe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:ht(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ht(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qte.displayName=zte;var NNe="DropdownMenuGroup",SNe=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(uNe,{...a,...n,ref:t})});SNe.displayName=NNe;var kNe="DropdownMenuLabel",Wte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(dNe,{...a,...n,ref:t})});Wte.displayName=kNe;var CNe="DropdownMenuItem",Hte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(fNe,{...a,...n,ref:t})});Hte.displayName=CNe;var ENe="DropdownMenuCheckboxItem",Gte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(hNe,{...a,...n,ref:t})});Gte.displayName=ENe;var TNe="DropdownMenuRadioGroup",ANe=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(mNe,{...a,...n,ref:t})});ANe.displayName=TNe;var PNe="DropdownMenuRadioItem",Kte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(pNe,{...a,...n,ref:t})});Kte.displayName=PNe;var ONe="DropdownMenuItemIndicator",Yte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(gNe,{...a,...n,ref:t})});Yte.displayName=ONe;var RNe="DropdownMenuSeparator",Xte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(xNe,{...a,...n,ref:t})});Xte.displayName=RNe;var DNe="DropdownMenuArrow",INe=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(vNe,{...a,...n,ref:t})});INe.displayName=DNe;var MNe="DropdownMenuSubTrigger",Jte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(yNe,{...a,...n,ref:t})});Jte.displayName=MNe;var FNe="DropdownMenuSubContent",Zte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ji(r);return s.jsx(bNe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zte.displayName=FNe;var LNe=$te,$Ne=Ute,BNe=Vte,Qte=qte,ere=Wte,tre=Hte,rre=Gte,nre=Kte,sre=Yte,are=Xte,ire=Jte,ore=Zte;const cd=LNe,ud=$Ne,UNe=_.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(ire,{ref:a,className:ft("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Nf,{className:"ml-auto h-4 w-4"})]}));UNe.displayName=ire.displayName;const VNe=_.forwardRef(({className:e,...t},r)=>s.jsx(ore,{ref:r,className:ft("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));VNe.displayName=ore.displayName;const hu=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(BNe,{children:s.jsx(Qte,{ref:n,sideOffset:t,className:ft("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));hu.displayName=Qte.displayName;const $n=_.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(tre,{ref:n,className:ft("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));$n.displayName=tre.displayName;const zNe=_.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(rre,{ref:a,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sre,{children:s.jsx(nn,{className:"h-4 w-4"})})}),t]}));zNe.displayName=rre.displayName;const qNe=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nre,{ref:n,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sre,{children:s.jsx(iZ,{className:"h-2 w-2 fill-current"})})}),t]}));qNe.displayName=nre.displayName;const WNe=_.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(ere,{ref:n,className:ft("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));WNe.displayName=ere.displayName;const np=_.forwardRef(({className:e,...t},r)=>s.jsx(are,{ref:r,className:ft("-mx-1 my-1 h-px bg-muted",e),...t}));np.displayName=are.displayName;function si(){const{setTheme:e}=SZ();return s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"icon",className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:[s.jsx(t9,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(JB,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(hu,{align:"end",children:[s.jsxs($n,{onClick:()=>e("light"),children:[s.jsx(t9,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"})]}),s.jsxs($n,{onClick:()=>e("dark"),children:[s.jsx(JB,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"})]}),s.jsxs($n,{onClick:()=>e("system"),children:[s.jsx("span",{className:"mr-2 h-4 w-4",children:""}),s.jsx("span",{children:"System"})]})]})]})}const jm=({size:e=40,showBackground:t=!0,className:r=""})=>s.jsx("div",{className:`${t?"bg-blue-600 rounded-lg p-2":""} inline-flex items-center justify-center ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.50",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:[s.jsx("path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"}),s.jsx("path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"}),s.jsx("path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"})]})});var V2="Dialog",[lre,cre]=zs(V2),[HNe,kc]=lre(V2),ure=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=Ci({prop:n,defaultProp:a??!1,onChange:i,caller:V2});return s.jsx(HNe,{scope:t,triggerRef:l,contentRef:c,contentId:go(),titleId:go(),descriptionId:go(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};ure.displayName=V2;var dre="DialogTrigger",fre=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kc(dre,r),i=Qt(t,a.triggerRef);return s.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":A5(a.open),...n,ref:i,onClick:ht(e.onClick,a.onOpenToggle)})});fre.displayName=dre;var E5="DialogPortal",[GNe,hre]=lre(E5,{forceMount:void 0}),mre=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=kc(E5,t);return s.jsx(GNe,{scope:t,forceMount:r,children:_.Children.map(n,o=>s.jsx(ca,{present:r||i.open,children:s.jsx(ax,{asChild:!0,container:a,children:o})}))})};mre.displayName=E5;var jN="DialogOverlay",pre=_.forwardRef((e,t)=>{const r=hre(jN,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kc(jN,e.__scopeDialog);return i.modal?s.jsx(ca,{present:n||i.open,children:s.jsx(YNe,{...a,ref:t})}):null});pre.displayName=jN;var KNe=jf("DialogOverlay.RemoveScroll"),YNe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kc(jN,r);return s.jsx(Ow,{as:KNe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(At.div,{"data-state":A5(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Nm="DialogContent",gre=_.forwardRef((e,t)=>{const r=hre(Nm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=kc(Nm,e.__scopeDialog);return s.jsx(ca,{present:n||i.open,children:i.modal?s.jsx(XNe,{...a,ref:t}):s.jsx(JNe,{...a,ref:t})})});gre.displayName=Nm;var XNe=_.forwardRef((e,t)=>{const r=kc(Nm,e.__scopeDialog),n=_.useRef(null),a=Qt(t,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return F2(i)},[]),s.jsx(xre,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ht(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ht(e.onFocusOutside,i=>i.preventDefault())})}),JNe=_.forwardRef((e,t)=>{const r=kc(Nm,e.__scopeDialog),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(xre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),xre=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=kc(Nm,r),c=_.useRef(null),u=Qt(t,c);return M2(),s.jsxs(s.Fragment,{children:[s.jsx(Aw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Zm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":A5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(QNe,{titleId:l.titleId}),s.jsx(tSe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),T5="DialogTitle",vre=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kc(T5,r);return s.jsx(At.h2,{id:a.titleId,...n,ref:t})});vre.displayName=T5;var yre="DialogDescription",bre=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kc(yre,r);return s.jsx(At.p,{id:a.descriptionId,...n,ref:t})});bre.displayName=yre;var wre="DialogClose",_re=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=kc(wre,r);return s.jsx(At.button,{type:"button",...n,ref:t,onClick:ht(e.onClick,()=>a.onOpenChange(!1))})});_re.displayName=wre;function A5(e){return e?"open":"closed"}var jre="DialogTitleWarning",[ZNe,Nre]=fge(jre,{contentName:Nm,titleName:T5,docsSlug:"dialog"}),QNe=({titleId:e})=>{const t=Nre(jre),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eSe="DialogDescriptionWarning",tSe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Nre(eSe).contentName}}.`;return _.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},P5=ure,Sre=fre,O5=mre,Iw=pre,Mw=gre,Fw=vre,Lw=bre,z2=_re;const rSe=P5,nSe=Sre,sSe=O5,kre=_.forwardRef(({className:e,...t},r)=>s.jsx(Iw,{className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));kre.displayName=Iw.displayName;const aSe=ix("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Cre=_.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(sSe,{children:[s.jsx(kre,{}),s.jsxs(Mw,{ref:a,className:ft(aSe({side:e}),t),...n,children:[r,s.jsxs(z2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ua,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cre.displayName=Mw.displayName;const Ere=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ere.displayName="SheetHeader";const Tre=_.forwardRef(({className:e,...t},r)=>s.jsx(Fw,{ref:r,className:ft("text-lg font-semibold text-foreground",e),...t}));Tre.displayName=Fw.displayName;const iSe=_.forwardRef(({className:e,...t},r)=>s.jsx(Lw,{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));iSe.displayName=Lw.displayName;const oSe=()=>{const[e,t]=_.useState(!1),{heroRef:r,featuresRef:n,stepsRef:a}=C_e(),i=[{icon:lZ,title:"Free Subdomain",description:"Get your own professional subdomain instantly. Launch your store without any domain costs.",gradient:"from-blue-500 to-cyan-500",size:"normal"},{icon:Fv,title:"Banner & Carousel",description:"Showcase offers with stunning banners and auto-rotating carousels that grab attention.",gradient:"from-purple-500 to-pink-500",size:"normal"},{icon:y0e,title:"Product Videos",description:"Engage customers with high-quality product videos that boost conversions.",gradient:"from-rose-500 to-orange-500",size:"normal"},{icon:Qh,title:"WhatsApp Orders",description:"Receive orders directly on WhatsApp. Chat with customers in real-time instantly.",gradient:"from-green-500 to-emerald-500",size:"normal"},{icon:In,title:"Online Payments",description:"Accept direct payments online with secure, trusted payment gateways.",gradient:"from-indigo-500 to-blue-500",size:"normal"},{icon:Bl,title:"SEO & Indexing",description:"Get found on Google with built-in SEO optimization and automatic indexing.",gradient:"from-yellow-500 to-orange-500",size:"normal"},{icon:g2,title:"Instagram Auto-Reply",description:"Never miss a customer inquiry with intelligent Instagram auto-reply features.",gradient:"from-pink-500 to-rose-500",size:"normal"},{icon:Ki,title:"Google Reviews",description:"Display authentic Google Reviews on your site to build trust and credibility.",gradient:"from-amber-500 to-yellow-500",size:"normal"},{icon:_i,title:"Advanced CRM",description:"Manage customer relationships with powerful CRM tools for growth.",gradient:"from-teal-500 to-cyan-500",size:"normal"},{icon:o0e,title:"Stock Management",description:"Track inventory in real-time. Never oversell with smart stock alerts.",gradient:"from-violet-500 to-purple-500",size:"normal"},{icon:Rl,title:"Instagram Videos",description:"Embed Instagram videos directly on your website for better engagement.",gradient:"from-fuchsia-500 to-pink-500",size:"normal"},{icon:c0e,title:"Business Analytics",description:"Advanced insights into sales, customers, and trends. Make data-driven decisions.",gradient:"from-emerald-500 to-teal-500",size:"normal"},{icon:f0e,title:"Order Management",description:"Streamline order processing from checkout to delivery with ease.",gradient:"from-sky-500 to-blue-500",size:"normal"}],o=[{number:"01",title:"Sign Up",description:"Create your account in seconds with Google"},{number:"02",title:"Add Products",description:"Build your product catalog easily"},{number:"03",title:"Customize",description:"Brand your store with colors and logo"},{number:"04",title:"Go Live",description:"Share your store link and start selling"}],l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"DigitalDukandar",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR",description:"Free 14-day trial, no credit card required"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"10000",bestRating:"5",worstRating:"1"},description:"Create your online store in minutes. Launch a professional e-commerce website with custom subdomain, WhatsApp integration, and powerful analytics. No coding required.",url:"https://digitaldukandar.in",image:"https://digitaldukandar.in/logo.png",provider:{"@type":"Organization",name:"DigitalDukandar",url:"https://digitaldukandar.in"}};return s.jsxs("div",{className:"min-h-screen bg-background font-inter",children:[s.jsxs(HM,{children:[s.jsx("title",{children:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"title",content:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"description",content:"Launch your professional online store in 5 minutes. Get free subdomain, WhatsApp integration, inventory management & analytics. No coding needed. Trusted by 10,000+ Indian entrepreneurs. Start free trial!"}),s.jsx("meta",{name:"keywords",content:"online store builder India, create online store, e-commerce platform India, free online store, sell online India, WhatsApp store, digital store maker, small business e-commerce, Indian online shopping platform, store builder no coding"}),s.jsx("link",{rel:"canonical",href:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{property:"og:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{property:"og:site_name",content:"DigitalDukandar"}),s.jsx("meta",{property:"og:locale",content:"en_IN"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{name:"twitter:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{name:"twitter:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),s.jsx("meta",{name:"googlebot",content:"index, follow"}),s.jsx("meta",{name:"language",content:"English"}),s.jsx("meta",{name:"geo.region",content:"IN"}),s.jsx("meta",{name:"geo.placename",content:"India"}),s.jsx("link",{rel:"sitemap",type:"application/xml",href:"/sitemap.xml"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8 h-16 sm:h-20 flex items-center justify-between gap-2",children:[s.jsxs(Ct,{to:"/",className:"flex items-center gap-3 sm:gap-4 group flex-shrink-0","aria-label":"DigitalDukandar Home",children:[s.jsx(jm,{size:40,className:"transition-transform group-hover:scale-105"}),s.jsx("span",{className:"font-playfair font-bold text-2xl sm:text-3xl md:text-4xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),s.jsx(Ct,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(Ct,{to:"/demo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Demo Store"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[s.jsx(si,{}),s.jsxs(rSe,{open:e,onOpenChange:t,children:[s.jsx(nSe,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"icon",className:"md:hidden h-11 w-11 min-h-[44px]","aria-label":"Open menu","aria-expanded":e,children:s.jsx(yM,{className:"h-5 w-5"})})}),s.jsxs(Cre,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(Ere,{children:s.jsxs(Tre,{className:"flex items-center gap-2",children:[s.jsx(Mv,{className:"w-5 h-5 text-primary"}),"Menu"]})}),s.jsxs("nav",{className:"flex flex-col gap-4 mt-8","aria-label":"Mobile navigation",children:[s.jsx("a",{href:"#features",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"How It Works"}),s.jsx(Ct,{to:"/pricing",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"For Helpers"}),s.jsx(Ct,{to:"/demo",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Demo Store"}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx(Ct,{to:"/auth",className:"w-full",children:s.jsx(oe,{variant:"outline",size:"lg",className:"w-full h-12 min-h-[48px]",children:"Login"})}),s.jsx(Ct,{to:"/auth",className:"w-full",children:s.jsxs(oe,{size:"lg",className:"w-full h-12 min-h-[48px]",children:["Get Started Free",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),s.jsx(Ct,{to:"/auth",className:"hidden md:inline-block",children:s.jsx(oe,{variant:"ghost",size:"sm",className:"font-medium h-11 px-4 text-sm min-h-[44px]",children:"Login"})}),s.jsx(Ct,{to:"/auth",className:"hidden md:inline-block",children:s.jsxs(oe,{size:"sm",className:"shadow-lg hover:shadow-xl transition-all font-medium h-11 px-4 text-sm min-h-[44px]",children:["Get Started Free",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsxs("section",{ref:r,className:"relative overflow-hidden bg-gradient-to-b from-background via-primary/[0.02] to-background",children:[s.jsx(E_e,{}),s.jsx(kT,{color:"blue",size:"lg",position:{top:"-20%",right:"-10%"}}),s.jsx(kT,{color:"purple",size:"md",position:{bottom:"-15%",left:"-5%"}}),s.jsx(kT,{color:"pink",size:"md",position:{top:"30%",left:"50%"}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"hero-decorative absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"hero-decorative absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8 py-24 lg:py-36",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"hero-badge inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 text-primary px-5 py-2.5 rounded-full text-sm font-semibold mb-8 shadow-lg backdrop-blur-sm",children:[s.jsx(Ki,{className:"w-4 h-4 fill-primary"}),"Trusted by 10,000+ Entrepreneurs Worldwide",s.jsx(fZ,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"hero-heading mb-6",children:[s.jsx(EU,{text:"Free Online Store India",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-foreground leading-[1.1]",delay:.3}),s.jsx(EU,{text:"Launch in 5 Minutes",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold leading-[1.1] mt-2 bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent bg-[length:200%_100%] animate-gradient",delay:.6,gradient:!0})]}),s.jsx("p",{className:"hero-subheading text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:"Create your professional online store builder for small business India. Sell online with WhatsApp integration, custom domain, and powerful inventory management. No coding required - start your free e-commerce platform today!"}),s.jsxs("div",{className:"hero-cta flex flex-col sm:flex-row gap-5 justify-center items-center mb-12",children:[s.jsx(Ct,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(oe,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl hover:shadow-primary/25 transition-all group font-semibold",children:[s.jsx(Mv,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Start Building Free"]})}),s.jsx(Ct,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(oe,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(xm,{className:"w-5 h-5 mr-2"}),"Explore Demo Store",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"hero-trust flex flex-wrap justify-center items-center gap-8 text-sm font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(nn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"No credit card required"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(nn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Setup in 5 minutes"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(nn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Cancel anytime"})]})]}),s.jsxs("div",{className:"mt-16 flex justify-center items-center gap-3 text-sm text-muted-foreground animate-in fade-in duration-700 delay-700",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(c=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-background flex items-center justify-center",children:s.jsx(p0e,{className:"w-4 h-4 text-primary"})},c))}),s.jsx("span",{className:"font-medium",children:"Join thousands of successful store owners"})]})]})})]}),s.jsx("section",{ref:n,id:"features",className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Premium Features"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Unique & Powerful Features"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed to help you launch, manage, and grow your online business with elegance and ease."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:i.map((c,u)=>s.jsxs(ke,{className:"feature-card relative p-6 lg:p-8 hover:shadow-2xl transition-all duration-700 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden hover:-translate-y-2 hover:scale-[1.02]",style:{animationDelay:`${u*50}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-5 transition-all duration-700`}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-15 blur-xl transition-all duration-700`}),s.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 bg-gradient-to-br ${c.gradient} opacity-5 rounded-bl-[100px] group-hover:opacity-10 transition-opacity duration-500`}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsx("div",{className:"mb-4 lg:mb-6",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} rounded-2xl blur-sm opacity-20 group-hover:blur-md group-hover:opacity-30 transition-all duration-500`}),s.jsx("div",{className:`relative w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br ${c.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500`,children:s.jsx(c.icon,{className:"w-7 h-7 lg:w-8 lg:h-8 text-white"})})]})}),s.jsx("h3",{className:"font-bold mb-2 lg:mb-3 text-foreground transition-all duration-300 text-lg lg:text-xl",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed flex-grow text-sm lg:text-base",children:c.description}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0",children:[s.jsx("span",{className:`bg-gradient-to-br ${c.gradient} bg-clip-text text-transparent`,children:"Learn more"}),s.jsx(sa,{className:`w-4 h-4 bg-gradient-to-br ${c.gradient} text-transparent group-hover:translate-x-1 transition-transform duration-300`,style:{background:"linear-gradient(to bottom right, currentColor, currentColor)",WebkitBackgroundClip:"text"}})]})]})]},u))})]})}),s.jsx("section",{ref:a,id:"how-it-works",className:"relative bg-gradient-to-b from-muted/30 via-muted/20 to-background py-24 lg:py-32",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Simple Process"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"How It Works"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Launch your luxury online store in four elegant steps"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6",children:o.map((c,u)=>s.jsxs("div",{className:"step-card relative",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary via-primary to-primary/80 border-2 border-primary/30 rounded-3xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300",children:s.jsx("span",{className:"font-playfair font-bold text-3xl text-primary-foreground",children:c.number})})]}),s.jsx("h3",{className:"font-playfair font-bold text-2xl mb-3 text-foreground",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description})]}),u<o.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-10 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-primary/40 via-primary/20 to-transparent"})]},u))})]})})}),s.jsxs("section",{id:"helper-program",className:"relative bg-gradient-to-b from-background via-green-500/5 to-background py-24 lg:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-green-500/10 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Helper Program"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Earn While Helping Others Succeed"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Join our helper program and earn generous commissions by helping store owners build their online businesses"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[s.jsxs(ke,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-emerald-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(Qa,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Earn Commission"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Get 10% direct commission + 5% network commission on every successful store signup"})]})]}),s.jsxs(ke,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(_i,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Build Your Network"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Recruit other helpers and earn from their referrals too. Create passive income streams"})]})]}),s.jsxs(ke,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(x2,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Flexible Work"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Work on your own schedule. Help businesses online from anywhere in the world"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[s.jsx(Ct,{to:"/become-helper",className:"w-full sm:w-auto",children:s.jsxs(oe,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 transition-all group font-semibold",children:[s.jsx(hZ,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Apply to Become a Helper"]})}),s.jsx(Ct,{to:"/application-status",className:"w-full sm:w-auto",children:s.jsxs(oe,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(qf,{className:"w-5 h-5 mr-2"}),"Check Application Status"]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already a helper? ",s.jsx(Ct,{to:"/helper/login",className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]})})]}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32 bg-muted/20",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Why DigitalDukandar is the Best Free Online Store Builder in India"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Trusted by over 10,000+ small businesses across India to sell online and grow their digital presence"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Built for Indian Entrepreneurs"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"e-commerce platform India"})," is designed specifically for local businesses. Accept payments in INR, integrate WhatsApp for customer communication, and reach customers across India with our ",s.jsx("strong",{children:"online store builder"})," made for the Indian market."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Completely Free to Start"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Start your ",s.jsx("strong",{children:"free online store"})," with our 14-day trial - no credit card required. Our ",s.jsx("strong",{children:"affordable pricing plans"})," start from just 299/month, making it the most cost-effective way to ",s.jsx("strong",{children:"sell online India"})," for small businesses."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" WhatsApp Store Integration"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Convert your business into a ",s.jsx("strong",{children:"WhatsApp store"})," instantly. Accept orders directly through WhatsApp - India's most popular messaging app. Perfect for ",s.jsx("strong",{children:"small business e-commerce"})," owners who want to meet customers where they are."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" No Coding Required"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"digital store maker"})," requires zero technical knowledge. Create a professional ",s.jsx("strong",{children:"online shopping website"})," in minutes with our easy drag-and-drop interface. Perfect for ",s.jsx("strong",{children:"store builder no coding"})," solutions in India."]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-10 rounded-2xl border border-primary/20 text-center",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold mb-4 text-foreground",children:"Start Your Free Online Store in India Today"}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:["Join 10,000+ successful Indian entrepreneurs using DigitalDukandar as their ",s.jsx("strong",{children:"e-commerce platform India"}),". Create your ",s.jsx("strong",{children:"online store builder for small business India"})," in just 5 minutes."]}),s.jsx(Ct,{to:"/auth",children:s.jsxs(oe,{size:"lg",className:"h-14 px-10 text-base font-semibold shadow-xl",children:[s.jsx(Mv,{className:"w-5 h-5 mr-2"}),"Create Free Online Store Now",s.jsx(sa,{className:"w-5 h-5 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ke,{className:"relative overflow-hidden border-0 shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/90"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),s.jsxs("div",{className:"relative p-10 lg:p-20 text-center text-primary-foreground",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Dl,{className:"w-16 h-16 mx-auto text-primary-foreground/90"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Ready to Launch Your Store?"}),s.jsx("p",{className:"text-xl md:text-2xl mb-10 opacity-95 max-w-3xl mx-auto leading-relaxed font-light",children:"Join thousands of successful entrepreneurs. Create your professional online store today and start selling in minutes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center mb-8",children:[s.jsx(Ct,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(oe,{size:"lg",variant:"secondary",className:"w-full sm:w-auto h-14 shadow-2xl hover:shadow-primary-foreground/20 text-base px-10 font-semibold",children:[s.jsx(Mv,{className:"w-5 h-5 mr-2"}),"Start Building Free",s.jsx(sa,{className:"w-5 h-5 ml-2"})]})}),s.jsx(Ct,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(oe,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 bg-white/10 hover:bg-white/20 border-2 border-white/30 text-white text-base px-10 font-semibold backdrop-blur-sm",children:[s.jsx(xm,{className:"w-5 h-5 mr-2"}),"View Demo Store"]})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm font-medium opacity-90",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),s.jsx("span",{children:"No credit card required"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),s.jsx("span",{children:"Free 14-day trial"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}),s.jsx("footer",{className:"border-t border-border/50 bg-gradient-to-b from-background to-muted/20",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jm,{size:32}),s.jsx("span",{className:"font-playfair font-bold text-xl sm:text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm font-medium text-muted-foreground",children:[s.jsx(Ct,{to:"/home",className:"hover:text-foreground transition-colors",children:"Demo Store"}),s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"}),s.jsx(Ct,{to:"/pricing",className:"hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-foreground transition-colors",children:"How It Works"}),s.jsx("a",{href:"#helper-program",className:"hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(Ct,{to:"/become-helper",className:"hover:text-foreground transition-colors",children:"Apply as Helper"}),s.jsx(Ct,{to:"/application-status",className:"hover:text-foreground transition-colors",children:"Check Status"}),s.jsx(Ct,{to:"/privacy-policy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),s.jsx(Ct,{to:"/terms-of-service",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"/sitemap.xml",className:"hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Sitemap"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 StoreBuilder. All rights reserved."})]})})})]})},BU=()=>{const e=fu();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},lSe=ix("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yr=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ft(lSe({variant:t}),e),...r}));Yr.displayName="Alert";const R5=_.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ft("mb-1 font-medium leading-none tracking-tight",e),...t}));R5.displayName="AlertTitle";const Xr=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ft("text-sm [&_p]:leading-relaxed",e),...t}));Xr.displayName="AlertDescription";const cSe="modulepreload",uSe=function(e){return"/"+e},UU={},sp=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(r.map(d=>{if(d=uSe(d),d in UU)return;UU[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":cSe,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},dSe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sp(async()=>{const{default:n}=await Promise.resolve().then(()=>hx);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class D5 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class VU extends D5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zU extends D5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qU extends D5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var MD;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(MD||(MD={}));var fSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class hSe{constructor(t,{headers:r={},customFetch:n,region:a=MD.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=dSe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fSe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new VU(w)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new zU(p);if(!p.ok)throw new qU(p);let g=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new VU(i)}:{data:null,error:i,response:i instanceof qU||i instanceof zU?i.context:void 0}}})}}var Pa={},Kp={},Yp={},Xp={},Jp={},Zp={},mSe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},x0=mSe();const pSe=x0.fetch,Are=x0.fetch.bind(x0),Pre=x0.Headers,gSe=x0.Request,xSe=x0.Response,hx=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pre,Request:gSe,Response:xSe,default:Are,fetch:pSe},Symbol.toStringTag,{value:"Module"})),vSe=Qpe(hx);var H_={},WU;function Ore(){if(WU)return H_;WU=1,Object.defineProperty(H_,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return H_.default=e,H_}var HU;function Rre(){if(HU)return Zp;HU=1;var e=Zp&&Zp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zp,"__esModule",{value:!0});const t=e(vSe),r=e(Ore());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,p;let y=null,g=null,v=null,w=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const E=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(y={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,w=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const E=await u.text();try{y=JSON.parse(E),Array.isArray(y)&&u.status===404&&(g=[],y=null,w=200,b="OK")}catch{u.status===404&&E===""?(w=204,b="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((p=y?.details)===null||p===void 0)&&p.includes("0 rows"))&&(y=null,w=200,b="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:g,count:v,status:w,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Zp.default=n,Zp}var GU;function Dre(){if(GU)return Jp;GU=1;var e=Jp&&Jp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jp,"__esModule",{value:!0});const t=e(Rre());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Jp.default=r,Jp}var KU;function I5(){if(KU)return Xp;KU=1;var e=Xp&&Xp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xp,"__esModule",{value:!0});const t=e(Dre());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Xp.default=r,Xp}var YU;function Ire(){if(YU)return Yp;YU=1;var e=Yp&&Yp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yp,"__esModule",{value:!0});const t=e(I5());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Yp.default=r,Yp}var XU;function ySe(){if(XU)return Kp;XU=1;var e=Kp&&Kp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Kp,"__esModule",{value:!0});const t=e(Ire()),r=e(I5());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Kp.default=n,Kp}var JU;function bSe(){if(JU)return Pa;JU=1;var e=Pa&&Pa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.PostgrestError=Pa.PostgrestBuilder=Pa.PostgrestTransformBuilder=Pa.PostgrestFilterBuilder=Pa.PostgrestQueryBuilder=Pa.PostgrestClient=void 0;const t=e(ySe());Pa.PostgrestClient=t.default;const r=e(Ire());Pa.PostgrestQueryBuilder=r.default;const n=e(I5());Pa.PostgrestFilterBuilder=n.default;const a=e(Dre());Pa.PostgrestTransformBuilder=a.default;const i=e(Rre());Pa.PostgrestBuilder=i.default;const o=e(Ore());return Pa.PostgrestError=o.default,Pa.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Pa}var wSe=bSe();const _Se=tn(wSe),{PostgrestClient:jSe,PostgrestQueryBuilder:rlt,PostgrestFilterBuilder:nlt,PostgrestTransformBuilder:slt,PostgrestBuilder:alt,PostgrestError:ilt}=_Se;class NSe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SSe="2.75.0",kSe=`realtime-js/${SSe}`,CSe="1.0.0",FD=1e4,ESe=1e3,TSe=100;var vy;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vy||(vy={}));var pa;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pa||(pa={}));var ac;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ac||(ac={}));var LD;(function(e){e.websocket="websocket"})(LD||(LD={}));var Mh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mh||(Mh={}));class ASe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Mre{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qn||(qn={}));const ZU=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=PSe(o,e,t,a),i),{}):{}},PSe=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?Fre(i,o):$D(o)},Fre=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ISe(t,r)}switch(e){case qn.bool:return OSe(t);case qn.float4:case qn.float8:case qn.int2:case qn.int4:case qn.int8:case qn.numeric:case qn.oid:return RSe(t);case qn.json:case qn.jsonb:return DSe(t);case qn.timestamp:return MSe(t);case qn.abstime:case qn.date:case qn.daterange:case qn.int4range:case qn.int8range:case qn.money:case qn.reltime:case qn.text:case qn.time:case qn.timestamptz:case qn.timetz:case qn.tsrange:case qn.tstzrange:return $D(t);default:return $D(t)}},$D=e=>e,OSe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RSe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DSe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ISe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Fre(t,l))}return e},MSe=e=>typeof e=="string"?e.replace(" ","T"):e,Lre=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class IT{constructor(t,r,n={},a=FD){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var QU;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(QU||(QU={}));class yy{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yy.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=yy.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=yy.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e7;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(e7||(e7={}));var by;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(by||(by={}));var Pu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pu||(Pu={}));class M5{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new IT(this,ac.join,this.params,this.timeout),this.rejoinTimer=new Mre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pa.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ac.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new yy(this),this.broadcastEndpointURL=Lre(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pa.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[by.PRESENCE]&&this.bindings[by.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(Pu.CHANNEL_ERROR,p)),this._onClose(()=>t?.(Pu.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t?.(Pu.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,w=[];for(let b=0;b<v;b++){const j=g[b],{filter:{event:E,schema:S,table:C,filter:k}}=j,D=p&&p[b];if(D&&D.event===E&&D.schema===S&&D.table===C&&D.filter===k)w.push(Object.assign(Object.assign({},j),{id:D.id}));else{this.unsubscribe(),this.state=pa.errored,t?.(Pu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Pu.SUBSCRIBED);return}}).receive("error",p=>{this.state=pa.errored,t?.(Pu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pa.joined&&t===by.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ac.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new IT(this,ac.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pa.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new IT(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>TSe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ac;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,g,v,w,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return E&&((g=r.ids)===null||g===void 0?void 0:g.includes(E))&&(S==="*"||S?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(b=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:v,commit_timestamp:w,type:b,errors:j}=y;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===pa.closed}_isJoined(){return this.state===pa.joined}_isJoining(){return this.state===pa.joining}_isLeaving(){return this.state===pa.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&M5.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ac.close,{},t)}_onError(t){this._on(ac.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pa.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ZU(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ZU(t.columns,t.old_record)),r}}const MT=()=>{},G_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FSe=[1e3,2e3,5e3,1e4],LSe=1e4,$Se=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BSe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=FD,this.transport=null,this.heartbeatIntervalMs=G_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=MT,this.ref=0,this.reconnectTimer=null,this.logger=MT,this.conn=null,this.sendBuffer=[],this.serializer=new ASe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>sp(async()=>{const{default:l}=await Promise.resolve().then(()=>hx);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${LD.websocket}`,this.httpEndpoint=Lre(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NSe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:CSe}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vy.connecting:return Mh.Connecting;case vy.open:return Mh.Open;case vy.closing:return Mh.Closing;default:return Mh.Closed}}isConnected(){return this.connectionState()===Mh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new M5(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ESe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},G_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ac.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$Se],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:kSe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ac.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mre(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},G_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:FD,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:G_.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:MT,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(f=>FSe[f-1]||LSe),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((f,m)=>m(JSON.stringify(f))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class F5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class USe extends F5{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class BD extends F5{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var VSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $re=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sp(async()=>{const{default:n}=await Promise.resolve().then(()=>hx);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zSe=()=>VSe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sp(()=>Promise.resolve().then(()=>hx),void 0)).Response:Response}),UD=e=>{if(Array.isArray(e))return e.map(r=>UD(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=UD(n)}),t},qSe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ap=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const FT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WSe=(e,t,r)=>ap(void 0,void 0,void 0,function*(){const n=yield zSe();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new USe(FT(a),i,o))}).catch(a=>{t(new BD(FT(a),a))}):t(new BD(FT(e),e))}),HSe=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(qSe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function $w(e,t,r,n,a,i){return ap(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,HSe(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>WSe(c,l,n))})})}function NN(e,t,r,n){return ap(this,void 0,void 0,function*(){return $w(e,"GET",t,r,n)})}function Fc(e,t,r,n,a){return ap(this,void 0,void 0,function*(){return $w(e,"POST",t,n,a,r)})}function VD(e,t,r,n,a){return ap(this,void 0,void 0,function*(){return $w(e,"PUT",t,n,a,r)})}function GSe(e,t,r,n){return ap(this,void 0,void 0,function*(){return $w(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Bre(e,t,r,n,a){return ap(this,void 0,void 0,function*(){return $w(e,"DELETE",t,n,a,r)})}var KSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class YSe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return KSe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}}var XSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class JSe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new YSe(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return XSe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}}var ao=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ZSe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t7={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QSe{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$re(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ao(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},t7),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?VD:Fc)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qs(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ao(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ao(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:t7.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield VD(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ao(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Fc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new F5("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n))return{data:null,error:n};throw n}})}update(t,r,n){return ao(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ao(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qs(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ao(this,void 0,void 0,function*(){try{return{data:{path:(yield Fc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qs(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ao(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Fc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qs(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ao(this,void 0,void 0,function*(){try{const a=yield Fc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qs(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>NN(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new JSe(c,this.shouldThrowOnError)}info(t){return ao(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield NN(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:UD(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n))return{data:null,error:n};throw n}})}exists(t){return ao(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield GSe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n)&&n instanceof BD){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ao(this,void 0,void 0,function*(){try{return{data:yield Bre(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qs(r))return{data:null,error:r};throw r}})}list(t,r,n){return ao(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ZSe),r),{prefix:t||""});return{data:yield Fc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qs(a))return{data:null,error:a};throw a}})}listV2(t,r){return ao(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Fc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const e2e="2.75.0",t2e={"X-Client-Info":`storage-js/${e2e}`};var Qp=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class r2e{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t2e),r),this.fetch=$re(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Qp(this,void 0,void 0,function*(){try{return{data:yield NN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qs(t))return{data:null,error:t};throw t}})}getBucket(t){return Qp(this,void 0,void 0,function*(){try{return{data:yield NN(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qs(r))return{data:null,error:r};throw r}})}createBucket(t){return Qp(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Fc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qs(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Qp(this,void 0,void 0,function*(){try{return{data:yield VD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qs(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qp(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qp(this,void 0,void 0,function*(){try{return{data:yield Bre(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qs(r))return{data:null,error:r};throw r}})}}class n2e extends r2e{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new QSe(this.url,this.headers,t,this.fetch)}}const s2e="2.75.0";let Hv="";typeof Deno<"u"?Hv="deno":typeof document<"u"?Hv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hv="react-native":Hv="node";const a2e={"X-Client-Info":`supabase-js-${Hv}/${s2e}`},i2e={headers:a2e},o2e={schema:"public"},l2e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c2e={};var u2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const d2e=e=>{let t;return e?t=e:typeof fetch>"u"?t=Are:t=fetch,(...r)=>t(...r)},f2e=()=>typeof Headers>"u"?Pre:Headers,h2e=(e,t,r)=>{const n=d2e(r),a=f2e();return(i,o)=>u2e(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var m2e=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function p2e(e){return e.endsWith("/")?e:e+"/"}function g2e(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>m2e(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function x2e(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p2e(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ure="2.75.0",gg=30*1e3,zD=3,LT=zD*gg,v2e="http://localhost:9999",y2e="supabase.auth.token",b2e={"X-Client-Info":`gotrue-js/${Ure}`},qD="X-Supabase-Api-Version",Vre={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w2e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_2e=600*1e3;class ub extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function sr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class j2e extends ub{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function N2e(e){return sr(e)&&e.name==="AuthApiError"}class Fh extends ub{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yf extends ub{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Hd extends Yf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S2e(e){return sr(e)&&e.name==="AuthSessionMissingError"}class eg extends Yf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class K_ extends Yf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Y_ extends Yf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k2e(e){return sr(e)&&e.name==="AuthImplicitGrantRedirectError"}class r7 extends Yf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class WD extends Yf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $T(e){return sr(e)&&e.name==="AuthRetryableFetchError"}class n7 extends Yf{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class HD extends Yf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const SN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s7=` 	
\r=`.split(""),C2e=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<s7.length;t+=1)e[s7[t].charCodeAt(0)]=-2;for(let t=0;t<SN.length;t+=1)e[SN[t].charCodeAt(0)]=t;return e})();function a7(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(SN[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(SN[n]),t.queuedBits-=6}}function zre(e,t,r){const n=C2e[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function i7(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{A2e(o,n,r)};for(let o=0;o<e.length;o+=1)zre(e.charCodeAt(o),a,i);return t.join("")}function E2e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function T2e(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}E2e(n,t)}}function A2e(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xg(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)zre(e.charCodeAt(a),r,n);return new Uint8Array(t)}function P2e(e){const t=[];return T2e(e,r=>t.push(r)),new Uint8Array(t)}function Wh(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>a7(a,r,n)),a7(null,r,n),t.join("")}function O2e(e){return Math.round(Date.now()/1e3)+e}function R2e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ao=()=>typeof window<"u"&&typeof document<"u",wh={tested:!1,writable:!1},qre=()=>{if(!Ao())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wh.tested)return wh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wh.tested=!0,wh.writable=!0}catch{wh.tested=!0,wh.writable=!1}return wh.writable};function D2e(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Wre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sp(async()=>{const{default:n}=await Promise.resolve().then(()=>hx);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},I2e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_h=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bd=async(e,t)=>{await e.removeItem(t)};class q2{constructor(){this.promise=new q2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}q2.promiseConstructor=Promise;function BT(e){const t=e.split(".");if(t.length!==3)throw new HD("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!w2e.test(t[n]))throw new HD("JWT not in base64url format");return{header:JSON.parse(i7(t[0])),payload:JSON.parse(i7(t[1])),signature:Xg(t[2]),raw:{header:t[0],payload:t[1]}}}async function M2e(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function F2e(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function L2e(e){return("0"+e.toString(16)).substr(-2)}function $2e(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,L2e).join("")}async function B2e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function U2e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await B2e(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tg(e,t,r=!1){const n=$2e();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await xg(e,`${t}-code-verifier`,a);const i=await U2e(n);return[i,n===i?"plain":"s256"]}const V2e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z2e(e){const t=e.headers.get(qD);if(!t||!t.match(V2e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function q2e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function W2e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H2e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rg(e){if(!H2e.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function UT(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o7(e){return JSON.parse(JSON.stringify(e))}var G2e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ph=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K2e=[502,503,504];async function l7(e){var t;if(!I2e(e))throw new WD(Ph(e),0);if(K2e.includes(e.status))throw new WD(Ph(e),e.status);let r;try{r=await e.json()}catch(i){throw new Fh(Ph(i),i)}let n;const a=z2e(e);if(a&&a.getTime()>=Vre["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new n7(Ph(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Hd}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new n7(Ph(r),e.status,r.weak_password.reasons);throw new j2e(Ph(r),e.status||500,n)}const Y2e=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function kr(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[qD]||(i[qD]=Vre["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await X2e(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function X2e(e,t,r,n,a,i){const o=Y2e(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new WD(Ph(c),0)}if(l.ok||await l7(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await l7(c)}}function rc(e){var t;let r=null;Q2e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=O2e(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function c7(e){const t=rc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function J2e(e){return{data:e,error:null}}function Z2e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=G2e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function u7(e){return e}function Q2e(e){return e.access_token&&e.refresh_token&&e.expires_in}const VT=["global","local","others"];var eke=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class tke{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Wre(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=VT[0]){if(VT.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${VT.join(", ")}`);try{return await kr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await kr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xd})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=eke(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await kr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Z2e,redirectTo:r?.redirectTo})}catch(r){if(sr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await kr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xd})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await kr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:u7});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(sr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){rg(t);try{return await kr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xd})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){rg(t);try{return await kr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xd})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){rg(t);try{return await kr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xd})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){rg(t.userId);try{const{data:r,error:n}=await kr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){rg(t.userId),rg(t.id);try{return{data:await kr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await kr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:u7});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(sr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await kr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await kr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await kr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await kr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}}function d7(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ng={debug:!!(globalThis&&qre()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hre extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rke extends Hre{}async function nke(e,t,r){ng.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ng.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ng.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ng.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ng.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rke(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ng.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ske(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gre(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ake(e){return parseInt(e,16)}function ike(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function oke(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Gre(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const j of u){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);b+=`
- ${j}`}w+=b}return`${v}
${w}`}class Js extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class kN extends Js{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function lke({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Js({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Js({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Js({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Js({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Js({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Js({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Js({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Js({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Yre(o)){if(i.rp.id!==o)return new Js({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Js({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Js({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Js({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Js({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function cke({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Js({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Js({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Yre(n)){if(r.rpId!==n)return new Js({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Js({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Js({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Js({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Kre=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class uke{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const dke=new uke;function fke(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Kre(e,["challenge","user","excludeCredentials"]),i=Xg(t).buffer,o=Object.assign(Object.assign({},r),{id:Xg(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Xg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function hke(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Kre(e,["challenge","allowCredentials"]),a=Xg(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Xg(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function mke(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Wh(new Uint8Array(e.response.attestationObject)),clientDataJSON:Wh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pke(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Wh(new Uint8Array(a.authenticatorData)),clientDataJSON:Wh(new Uint8Array(a.clientDataJSON)),signature:Wh(new Uint8Array(a.signature)),userHandle:a.userHandle?Wh(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Yre(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function f7(){var e,t;return!!(Ao()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function gke(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new kN("Browser returned unexpected credential type",t)}:{data:null,error:new kN("Empty credential response",t)}}catch(t){return{data:null,error:lke({error:t,options:e})}}}async function xke(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new kN("Browser returned unexpected credential type",t)}:{data:null,error:new kN("Empty credential response",t)}}catch(t){return{data:null,error:cke({error:t,options:e})}}}const vke={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yke={userVerification:"preferred",hints:["security-key"]};function CN(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=CN(l,o):n[i]=CN(o)}else n[i]=o}return n}function bke(e,t){return CN(vke,e,t||{})}function wke(e,t){return CN(yke,e,t||{})}class _ke{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??dke.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=bke(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await gke({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=wke(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await xke(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new Fh("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new ub("rpId is required for WebAuthn authentication")};try{if(!f7())return{data:null,error:new Fh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new Fh("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new ub("rpId is required for WebAuthn registration")};try{if(!f7())return{data:null,error:new Fh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return sr(o)?{data:null,error:o}:{data:null,error:new Fh("Unexpected error in register",o)}}}}ske();const jke={url:v2e,storageKey:y2e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b2e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function h7(e,t,r){return await r()}const sg={};class db{get jwks(){var t,r;return(r=(t=sg[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sg[this.storageKey]=Object.assign(Object.assign({},sg[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sg[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sg[this.storageKey]=Object.assign(Object.assign({},sg[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=db.nextInstanceID,db.nextInstanceID+=1,this.instanceID>0&&Ao()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},jke),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tke({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Wre(a.fetch),this.lock=a.lock||h7,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ao()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=nke:this.lock=h7,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _ke(this)},this.persistSession?(a.storage?this.storage=a.storage:qre()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d7(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=d7(this.memoryStorage)),Ao()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ure}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=D2e(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ao()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),k2e(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return sr(r)?{error:r}:{error:new Fh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await kr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rc}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(sr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await tg(this.storage,this.storageKey)),i=await kr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},xform:rc})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await kr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:rc})}else throw new K_("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(sr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await kr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:c7})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await kr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:c7})}else throw new K_("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new eg}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:w,options:b}=t;let j;if(Ao())if(typeof v=="object")j=v;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")j=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const E=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),S=await j.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Gre(S[0]);let k=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const O=await j.request({method:"eth_chainId"});k=ake(O)}const D={domain:E.host,address:C,statement:w,uri:E.href,version:"1",chainId:k,nonce:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=oke(D),y=await j.request({method:"personal_sign",params:[ike(p),C]})}try{const{data:g,error:v}=await kr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:rc});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new eg}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(sr(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,m,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:w,statement:b,options:j}=t;let E;if(Ao())if(typeof w=="object")E=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const S=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:v,error:w}=await kr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Wh(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rc});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new eg}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(sr(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await _h(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await kr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rc});if(await Bd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new eg}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(sr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await kr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:rc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new eg}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await tg(this.storage,this.storageKey));const{error:f}=await kr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await kr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new K_("You must provide either an email or phone number.")}catch(l){if(sr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await kr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:rc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(sr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await tg(this.storage,this.storageKey)),await kr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:J2e})}catch(i){if(sr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Hd;const{error:a}=await kr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(sr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await kr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await kr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new K_("You must provide either an email or phone number and a type")}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _h(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<LT:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await _h(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=UT()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await kr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xd}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hd}:await kr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xd})})}catch(r){if(sr(r))return S2e(r)&&(await this._removeSession(),await Bd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Hd;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await tg(this.storage,this.storageKey));const{data:u,error:d}=await kr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xd});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hd;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=BT(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(sr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Hd;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ao())throw new Y_("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Y_(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new r7("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Y_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new r7("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Y_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=gg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(sr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _h(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(N2e(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=R2e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await tg(this.storage,this.storageKey,!0));try{return await kr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(sr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await kr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ao()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(sr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await kr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:rc}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new eg}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(a){if(sr(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await kr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await F2e(async a=>(a>0&&await M2e(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await kr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rc})),(a,i)=>{const o=200*Math.pow(2,a);return i&&$T(i)&&Date.now()+o-n<gg})}catch(n){if(this._debug(r,"error",n),sr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ao()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await _h(this.storage,this.storageKey);if(a&&this.userStorage){let o=await _h(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await xg(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:UT()}else if(a&&!a.user&&!a.user){const o=await _h(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Bd(this.storage,this.storageKey+"-user"),await xg(this.storage,this.storageKey,a)):a.user=UT()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<LT;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${LT}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),$T(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Hd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new q2;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Hd;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),sr(i)){const o={data:null,error:i};return $T(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xg(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=o7(a);await xg(this.storage,this.storageKey,i)}else{const a=o7(r);await xg(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Bd(this.storage,this.storageKey),await Bd(this.storage,this.storageKey+"-code-verifier"),await Bd(this.storage,this.storageKey+"-user"),this.userStorage&&await Bd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ao()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gg);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/gg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${gg}ms, refresh threshold is ${zD} ticks`),a<=zD&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hre)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ao()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await tg(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await kr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await kr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?mke(t.webauthn.credential_response):pke(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await kr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(sr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await kr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:fke(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hke(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(sr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=BT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+_2e>a)return n;const{data:i,error:o}=await kr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=BT(n);r?.allowExpired||q2e(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=W2e(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,P2e(`${l}.${c}`)))throw new HD("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}}db.nextInstanceID=0;const Nke=db;class Ske extends Nke{constructor(t){super(t)}}var kke=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Cke{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=x2e(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:o2e,realtime:c2e,auth:Object.assign(Object.assign({},l2e),{storageKey:c}),global:i2e},d=g2e(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=h2e(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jSe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new n2e(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hSe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return kke(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ske({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new BSe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Eke=(e,t,r)=>new Cke(e,t,r);function Tke(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Tke()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ake="https://vexeuxsvckpfvuxqchqu.supabase.co",Pke="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c",Y=Eke(Ake,Pke,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});Y.auth.onAuthStateChange((e,t)=>{e==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):(e==="SIGNED_OUT"||!t&&e==="INITIAL_SESSION")&&localStorage.removeItem("supabase.auth.token")});Y.auth.getSession().catch(e=>{e?.message?.includes("Refresh Token")&&(console.warn("Clearing invalid refresh token"),Y.auth.signOut({scope:"local"}))});const Oke=5,Rke=48;function Dke(){const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(0),o=()=>{const f=new Date;return f.setHours(f.getHours()-Rke),f.toISOString()},l=f=>{const p=Math.floor((new Date().getTime()-f.getTime())/1e3);if(p<60)return"Just now";if(p<3600){const g=Math.floor(p/60);return`${g} ${g===1?"minute":"minutes"} ago`}if(p<86400){const g=Math.floor(p/3600);return`${g} ${g===1?"hour":"hours"} ago`}const y=Math.floor(p/86400);return`${y} ${y===1?"day":"days"} ago`},c=async()=>{try{const{data:{session:f}}=await Y.auth.getSession();if(!f){t([]),n(!1);return}const{data:m}=await Y.from("stores").select("id").eq("user_id",f.user.id).maybeSingle();if(!m){t([]),n(!1);return}const p=o(),y=[],{data:g}=await Y.from("orders").select("id, order_number, customer_name, created_at, status").eq("store_id",m.id).gte("created_at",p).order("created_at",{ascending:!1}).limit(10);g&&g.forEach(w=>{const b=new Date(w.created_at);y.push({id:`order-${w.id}`,title:"New Order Received",description:`Order #${w.order_number} from ${w.customer_name}`,time:l(b),unread:!0,type:"order",createdAt:b})});const{data:v}=await Y.from("products").select("id, name, stock, updated_at").eq("store_id",m.id).eq("status","published").lte("stock",Oke).gt("stock",0).order("stock",{ascending:!0}).limit(5);v&&v.forEach(w=>{const b=new Date(w.updated_at||new Date);y.push({id:`stock-${w.id}`,title:"Product Stock Low",description:`${w.name} is running low (${w.stock} left)`,time:l(b),unread:!0,type:"stock",createdAt:b})}),y.sort((w,b)=>b.createdAt.getTime()-w.createdAt.getTime()),t(y),i(y.filter(w=>w.unread).length),n(!1)}catch(f){console.error("[useNotifications] Error fetching notifications:",f),n(!1)}};return _.useEffect(()=>{c();const f=Y.channel("notifications-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},()=>{c()}).subscribe(),m=Y.channel("notifications-products").on("postgres_changes",{event:"UPDATE",schema:"public",table:"products"},()=>{c()}).subscribe();return()=>{Y.removeChannel(f),Y.removeChannel(m)}},[]),{notifications:e,unreadCount:a,isLoading:r,markAsRead:f=>{t(m=>m.map(p=>p.id===f?{...p,unread:!1}:p)),i(m=>Math.max(0,m-1))},markAllAsRead:()=>{t(f=>f.map(m=>({...m,unread:!1}))),i(0)},refresh:c}}const Xn=({children:e})=>{const t=ur(),r=fu(),[n,a]=_.useState(!1),[i,o]=_.useState("Your Store"),[l,c]=_.useState(""),[u,d]=_.useState(""),[f,m]=_.useState(!1),p=_.useRef(null),[y,g]=_.useState([]),[v,w]=_.useState(null),[b,j]=_.useState(!0),[E,S]=_.useState(null),[C,k]=_.useState(!0),[D,O]=_.useState([]),{notifications:P,unreadCount:A}=Dke();_.useEffect(()=>{(async()=>{try{const{data:{session:H}}=await Y.auth.getSession();if(!H){t("/auth",{replace:!0});return}H.user.email&&c(H.user.email);let{data:G}=await Y.from("profiles").select("full_name, email").eq("user_id",H.user.id).maybeSingle();if(!G){const{data:U}=await Y.from("profiles").insert({user_id:H.user.id,email:H.user.email||"",full_name:H.user.user_metadata?.full_name||H.user.user_metadata?.name||""}).select("full_name, email").single();G=U}G?.full_name&&d(G.full_name);const{data:I}=await Y.from("stores").select("*").eq("user_id",H.user.id).maybeSingle();if(I){I.name&&o(I.name),I.enabled_features&&O(I.enabled_features);const{data:U}=await Y.from("subscriptions").select(`
              *,
              subscription_plans (
                whatsapp_orders_limit,
                website_orders_limit
              )
            `).eq("user_id",H.user.id).single();if(U){const X=new Date,z=U.current_period_end?new Date(U.current_period_end):null;if(z&&z<X&&S({expired:!0,expiresAt:z.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),U?.subscription_plans){const Z=U.subscription_plans.whatsapp_orders_limit,J=U.subscription_plans.website_orders_limit,Q=U.whatsapp_orders_used||0,de=U.website_orders_used||0,fe=Z&&Z>0&&Q>=Z,pe=J&&J>0&&de>=J;(fe||pe)&&w({whatsapp:fe,website:pe,whatsappUsed:Q,whatsappLimit:Z||0,websiteUsed:de,websiteLimit:J||0})}}}}catch(H){console.error("[AdminLayout] Error loading user data:",H)}})();const{data:{subscription:V}}=Y.auth.onAuthStateChange(H=>{H==="SIGNED_OUT"&&t("/auth")});return()=>V.unsubscribe()},[t]),_.useEffect(()=>{const W=V=>{p.current&&!p.current.contains(V.target)&&m(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]);const R=async()=>{console.log("[AdminLayout] Logging out..."),await Y.auth.signOut(),console.log("[AdminLayout] User signed out"),Me({title:"Logged Out",description:"You have been successfully logged out"}),t("/")},F=W=>{g(V=>V.includes(W)?V.filter(H=>H!==W):[...V,W])},L=[{name:"Dashboard",href:"/admin/dashboard",icon:YB,current:r.pathname==="/admin/dashboard"},{name:"Categories",href:"/admin/categories",icon:Un,current:r.pathname==="/admin/categories"},{name:"Products",href:"/admin/products",icon:Un,current:r.pathname.startsWith("/admin/products")},{name:"Orders",href:"/admin/orders",icon:Cf,current:r.pathname==="/admin/orders"},{name:"Analytics",href:"/admin/analytics",icon:YB,current:r.pathname==="/admin/analytics"},{name:"Growth",icon:v0e,isDropdown:!0,current:r.pathname.startsWith("/admin/growth"),subItems:[{name:"SEO",href:"/admin/growth/seo",icon:Bl,current:r.pathname==="/admin/growth/seo"},{name:"Social Media",href:"/admin/growth/social-media",icon:Lg,current:r.pathname==="/admin/growth/social-media"},{name:"Instagram",href:"/admin/growth/instagram",icon:Rl,current:r.pathname==="/admin/growth/instagram"}]},{name:"Subscription",href:"/admin/subscription",icon:In,current:r.pathname==="/admin/subscription"},...D.includes("shipping")?[{name:"Shipping",href:"/admin/shipping",icon:gc,current:r.pathname==="/admin/shipping"}]:[],...D.includes("google-reviews")?[{name:"Google Reviews",href:"/admin/google-reviews",icon:Ki,current:r.pathname==="/admin/google-reviews"}]:[],{name:"Marketplace",href:"/admin/marketplace",icon:em,current:r.pathname==="/admin/marketplace"},{name:"Settings",href:"/admin/settings",icon:ba,current:r.pathname==="/admin/settings"}];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col
          transform transition-transform duration-300 ease-out shadow-xl lg:shadow-none
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jm,{size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-semibold text-foreground text-sm truncate",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:()=>a(!1),className:"lg:hidden p-1.5 hover:bg-muted rounded-md transition-colors touch-target",children:s.jsx(Ua,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-hide",children:L.map(W=>s.jsx("div",{children:W.isDropdown?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>F(W.name),className:`w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                      ${W.current?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(W.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:W.name})]}),s.jsx(zu,{className:`w-4 h-4 transition-transform duration-200 ${y.includes(W.name)?"rotate-180":""}`})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-200 ${y.includes(W.name)?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"pl-4 mt-1 space-y-1",children:W.subItems?.map(V=>s.jsxs(Ct,{to:V.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 touch-target
                            ${V.current?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                          `,children:[s.jsx(V.icon,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:V.name})]},V.name))})})]}):s.jsxs(Ct,{to:W.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                    ${W.current?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-muted"}
                  `,children:[s.jsx(W.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:W.name})]})},W.name))}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsxs("button",{onClick:R,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 transition-all duration-200 touch-target",children:[s.jsx(Qm,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-14 lg:h-16",children:[s.jsx("button",{onClick:()=>a(!n),className:"lg:hidden p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Toggle menu",children:s.jsx(yM,{className:"w-6 h-6 text-foreground"})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(jm,{size:20}),s.jsx("span",{className:"font-semibold text-foreground text-sm truncate max-w-[120px]",children:i})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 ml-auto",children:[s.jsx(si,{}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("button",{onClick:()=>m(!f),className:"relative p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Notifications",children:[s.jsx(GB,{className:"w-5 h-5 text-foreground"}),A>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full ring-2 ring-card"})]}),f&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Notifications"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["You have ",A," unread notification",A!==1?"s":""]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-hide",children:P.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(GB,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications yet"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You'll see new orders and stock alerts here"})]}):P.map(W=>s.jsxs("div",{className:`p-4 hover:bg-muted transition-colors cursor-pointer border-b border-border last:border-0 ${W.unread?"bg-primary/5":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground flex-1",children:W.title}),W.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-1 ml-2 flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W.description}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:W.time})]},W.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-2 lg:pl-3 border-l border-border",children:[s.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-primary rounded-full flex items-center justify-center",children:s.jsx(o0,{className:"w-4 h-4 lg:w-5 lg:h-5 text-primary-foreground"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[180px]",children:u||l||"Admin User"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[180px]",children:u&&l?l:"Store Manager"})]})]})]})]})}),E&&C&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Yr,{className:"border-destructive bg-destructive/10",children:[s.jsx(Ls,{className:"h-5 w-5 text-destructive"}),s.jsxs(Xr,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Subscription Expired"}),s.jsxs("p",{className:"text-sm text-foreground",children:["Your subscription expired on ",E.expiresAt,". You cannot accept new orders until you renew your subscription."," ",s.jsx(oe,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Renew your subscription"})," ","to continue accepting orders."]})]}),s.jsx(oe,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>k(!1),children:s.jsx(Kn,{className:"h-4 w-4"})})]})]})})}),v&&b&&!E&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Yr,{className:"border-destructive bg-destructive/10",children:[s.jsx(Ls,{className:"h-5 w-5 text-destructive"}),s.jsxs(Xr,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Order Limit Reached"}),s.jsxs("p",{className:"text-sm text-foreground",children:[v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp (",v.whatsappUsed,"/",v.whatsappLimit,") and Website (",v.websiteUsed,"/",v.websiteLimit,") order limits. "]}),v.whatsapp&&!v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp order limit (",v.whatsappUsed,"/",v.whatsappLimit,"). "]}),!v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your Website order limit (",v.websiteUsed,"/",v.websiteLimit,"). "]}),s.jsx(oe,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Upgrade your plan"})," ","to continue receiving orders."]})]}),s.jsx(oe,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>j(!1),children:s.jsx(Kn,{className:"h-4 w-4"})})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto smooth-scroll",children:s.jsx("div",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})]})})},L5=async()=>{const{data:{session:e}}=await Y.auth.getSession();if(!e?.user)return null;const{data:t}=await Y.from("stores").select("id").eq("user_id",e.user.id).maybeSingle();return t?.id||null},Ike=()=>{console.log("Products are now stored in Supabase database")},GD=async()=>{const e=await L5();if(!e)return[];const{data:t,error:r}=await Y.from("products").select("*").eq("store_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching products:",r),[]):t||[]},fb=async e=>{if(!e){const n=await L5();if(!n)return[];e=n}const{data:t,error:r}=await Y.from("products").select("*").eq("store_id",e).eq("status","published").order("created_at",{ascending:!1});return r?(console.error("Error fetching published products:",r),[]):t||[]},Wj=async e=>{const{data:t,error:r}=await Y.from("products").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching product:",r),null):t},Mke=async(e,t)=>{let r=Y.from("products").select("*").eq("slug",e);const{data:n,error:a}=await r.maybeSingle();return a?(console.error("Error fetching product by slug:",a),null):n},Fke=async e=>{const t=await L5();if(!t)throw console.error("[PRODUCT] No store ID found for current user"),new Error("No store found for current user");console.log("[PRODUCT] Creating product for store:",t,"Name:",e.name,"Status:",e.status||"published");const{data:r,error:n}=await Y.from("products").insert([{store_id:t,name:e.name,slug:e.slug,description:e.description,category:e.category,base_price:e.basePrice||e.base_price,price_range:e.priceRange||e.price_range,stock:e.stock||0,sku:e.sku,status:e.status||"published",images:e.images||[],video_url:e.videoUrl||e.video_url,variants:e.variants||[]}]).select().single();if(n)throw console.error("[PRODUCT] Error adding product:",n),n;return console.log("[PRODUCT]  Product created successfully:",r.id,"Name:",r.name,"Status:",r.status),r},Lke=async(e,t)=>{const r={};t.name!==void 0&&(r.name=t.name),t.description!==void 0&&(r.description=t.description),t.category!==void 0&&(r.category=t.category),(t.basePrice!==void 0||t.base_price!==void 0)&&(r.base_price=t.basePrice||t.base_price),(t.priceRange!==void 0||t.price_range!==void 0)&&(r.price_range=t.priceRange||t.price_range),t.stock!==void 0&&(r.stock=t.stock),t.sku!==void 0&&(r.sku=t.sku),t.status!==void 0&&(r.status=t.status),t.images!==void 0&&(r.images=t.images),(t.videoUrl!==void 0||t.video_url!==void 0)&&(r.video_url=t.videoUrl||t.video_url),t.variants!==void 0&&(r.variants=t.variants);const{data:n,error:a}=await Y.from("products").update(r).eq("id",e).select().single();if(a)throw console.error("Error updating product:",a),a;return n},$ke=async e=>{if(!(!e||!e.includes("digitaldukandar.in/uploads/")))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e})}),await Y.from("media_library").delete().eq("file_url",e)}catch(t){console.error("Failed to delete image:",e,t)}},Bke=async e=>{const{data:t}=await Y.from("products").select("images").eq("id",e).single();t?.images&&Array.isArray(t.images)&&await Promise.all(t.images.map(n=>$ke(n)));const{error:r}=await Y.from("products").delete().eq("id",e);if(r)throw console.error("Error deleting product:",r),r},Uke=()=>{const e=ur(),[t,r]=_.useState({totalProducts:0,activeProducts:0,totalOrders:0,totalCustomers:0}),[n,a]=_.useState("Your Store"),[i,o]=_.useState(""),[l,c]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),[p,y]=_.useState(null),[g,v]=_.useState([]);_.useEffect(()=>{Ike(),(async()=>{const{data:{user:E}}=await Y.auth.getUser();if(!E)return;const{data:S}=await Y.from("stores").select("id, name, slug, subdomain, custom_domain").eq("user_id",E.id).maybeSingle();if(!S)return;const C=zwe(S.subdomain||S.slug,S.custom_domain);o(C);const[k,D,O,P]=await Promise.all([GD(),Y.from("subscriptions").select(`
            trial_ends_at,
            current_period_end,
            created_at,
            status,
            subscription_plans (trial_days)
          `).eq("user_id",E.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Y.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",S.id),Y.from("orders").select("customer_email, customer_phone").eq("store_id",S.id),Y.from("stores").update({last_admin_visit:new Date().toISOString()}).eq("id",S.id)]);S.name&&a(S.name);const A=D.data,R=A&&A.length>0?A[0]:null;if(R){let H=null;if(R.status==="trial"?R.trial_ends_at?H=new Date(R.trial_ends_at):R.subscription_plans?.trial_days&&(H=new Date(R.created_at),H.setDate(H.getDate()+R.subscription_plans.trial_days)):R.status==="active"&&R.current_period_end&&(H=new Date(R.current_period_end)),H){const G=new Date,I=H.getTime()-G.getTime(),U=Math.ceil(I/(1e3*60*60*24));U>0&&(c(U),d(H),m(R.status))}}const F=k.filter(H=>H.status==="published").length,L=O.count||0;let W=0;P.data&&(W=new Set(P.data.map(G=>G.customer_email||G.customer_phone)).size),r({totalProducts:k.length,activeProducts:F,totalOrders:L,totalCustomers:W});const V=[{id:"1",action:"Product published",product:k[0]?.name||"Sample Product",time:"2 hours ago"},{id:"2",action:"New order received",product:k[1]?.name||"Sample Product",time:"5 hours ago"},{id:"3",action:"Product updated",product:k[2]?.name||"Sample Product",time:"1 day ago"}];v(V)})()},[]),_.useEffect(()=>{if(!u)return;const j=()=>{const S=new Date,C=u.getTime()-S.getTime();if(C<=0){y({days:0,hours:0,minutes:0,seconds:0});return}const k=Math.floor(C/(1e3*60*60*24)),D=Math.floor(C%(1e3*60*60*24)/(1e3*60*60)),O=Math.floor(C%(1e3*60*60)/(1e3*60)),P=Math.floor(C%(1e3*60)/1e3);y({days:k,hours:D,minutes:O,seconds:P})};j();const E=setInterval(j,1e3);return()=>clearInterval(E)},[u]);const w=[{title:"Add New Product",description:"Create a new product listing",icon:Yi,action:()=>e("/admin/products/add"),primary:!0},{title:"View All Products",description:"Manage your product catalog",icon:$s,action:()=>e("/admin/products"),primary:!1}],b=[{title:"Total Products",value:t.totalProducts,icon:Un,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Products",value:t.activeProducts,icon:Dl,color:"text-success",bgColor:"bg-success/10"},{title:"Total Orders",value:t.totalOrders,icon:Cf,color:"text-warning",bgColor:"bg-warning/10"},{title:"Customers",value:t.totalCustomers,icon:_i,color:"text-primary",bgColor:"bg-primary/10"}];return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Welcome back! "}),s.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:["Here's what's happening with ",s.jsx("span",{className:"font-medium text-primary",children:n})," today."]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map((j,E)=>s.jsx(ke,{className:"admin-stat-card group",children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:j.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:j.value})]}),s.jsx("div",{className:`p-2 lg:p-3 rounded-xl ${j.bgColor} group-hover:scale-110 transition-transform duration-200 flex-shrink-0 ml-2`,children:s.jsx(j.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${j.color}`})})]})})},E))}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-lg flex items-center gap-2",children:[s.jsx(Cf,{className:"w-5 h-5"}),"Your Store URL"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:i||"Loading..."})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(oe,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{i&&(navigator.clipboard.writeText(i),Me({title:"Link copied!",description:"Store URL copied to clipboard"}))},children:[s.jsx(Un,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(oe,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{if(i){const j=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(i)}`;window.open(j,"_blank")}},children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"Generate QR"]})]})]})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Qe,{children:[s.jsx(et,{className:"text-xl font-semibold",children:"Quick Actions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get started with these common tasks"})]}),s.jsx(Te,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:w.map((j,E)=>s.jsx(ke,{className:"admin-card cursor-pointer hover:shadow-lg transition-all duration-200 border-2 hover:border-primary/20",onClick:j.action,children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start gap-3 lg:gap-4",children:[s.jsx("div",{className:`p-2 lg:p-3 rounded-lg flex-shrink-0 ${j.primary?"bg-primary/10":"bg-muted"}`,children:s.jsx(j.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${j.primary?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm lg:text-base",children:j.title}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground mb-3",children:j.description}),s.jsx(oe,{variant:j.primary?"default":"outline",size:"sm",className:`w-full sm:w-auto ${j.primary?"admin-button-primary":"admin-button-secondary"}`,onClick:S=>{S.stopPropagation(),j.action()},children:"Get Started"})]})]})})},E))})]}),s.jsxs(ke,{className:"border-l-4 border-l-primary",children:[s.jsxs(Qe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(et,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Ki,{className:"w-5 h-5 text-primary"}),"Getting Started"]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"2/4 complete"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"50%"}})})]}),s.jsxs(Te,{className:"space-y-3",children:[[{done:!0,text:"Create account"},{done:!0,text:"Set up store"},{done:!1,text:"Add first product"},{done:!1,text:"Customize store appearance"}].map((j,E)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${j.done?"bg-success text-success-foreground":"bg-muted border-2 border-border"}`,children:j.done&&s.jsx("span",{className:"text-xs",children:""})}),s.jsx("span",{className:`text-sm ${j.done?"text-muted-foreground line-through":"text-foreground"}`,children:j.text})]},E)),s.jsx(oe,{className:"w-full mt-4",size:"sm",children:"Complete Setup"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs(ke,{className:"lg:col-span-2",children:[s.jsxs(Qe,{children:[s.jsx(et,{className:"text-xl font-semibold",children:"Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates from your store"})]}),s.jsx(Te,{className:"space-y-3",children:g.length>0?g.map(j=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:s.jsx(ks,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:j.action}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.product}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j.time})]})]},j.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Un,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent activity to display"}),s.jsx("p",{className:"text-xs",children:"Start by adding your first product!"})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-lg font-semibold",children:"Tips & Resources"})}),s.jsx(Te,{className:"space-y-3",children:[{icon:"",text:"Video Tutorials",color:"text-red-500"},{icon:"",text:"Help Documentation",color:"text-blue-500"},{icon:"",text:"Contact Support",color:"text-green-500"},{icon:"",text:"Best Practices Guide",color:"text-purple-500"}].map((j,E)=>s.jsxs(oe,{variant:"ghost",className:"w-full justify-start hover:bg-muted",size:"sm",children:[s.jsx("span",{className:"text-lg mr-3",children:j.icon}),s.jsx("span",{className:"text-sm",children:j.text})]},E))})]})]})]})})},Ve=_.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ve.displayName="Input";var Vke="Label",Xre=_.forwardRef((e,t)=>s.jsx(At.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Xre.displayName=Vke;var Jre=Xre;const zke=ix("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=_.forwardRef(({className:e,...t},r)=>s.jsx(Jre,{ref:r,className:ft(zke(),e),...t}));Ce.displayName=Jre.displayName;const Na=_.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ft("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Na.displayName="Textarea";function Bw(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W2="Switch",[qke]=zs(W2),[Wke,Hke]=qke(W2),Zre=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=_.useState(null),y=Qt(t,j=>p(j)),g=_.useRef(!1),v=m?d||!!m.closest("form"):!0,[w,b]=Ci({prop:a,defaultProp:i??!1,onChange:u,caller:W2});return s.jsxs(Wke,{scope:r,checked:w,disabled:l,children:[s.jsx(At.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":rne(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ht(e.onClick,j=>{b(E=>!E),v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),v&&s.jsx(tne,{control:m,bubbles:!g.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Zre.displayName=W2;var Qre="SwitchThumb",ene=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Hke(Qre,r);return s.jsx(At.span,{"data-state":rne(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});ene.displayName=Qre;var Gke="SwitchBubbleInput",tne=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=_.useRef(null),l=Qt(o,i),c=Bw(r),u=Sw(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tne.displayName=Gke;function rne(e){return e?"checked":"unchecked"}var nne=Zre,Kke=ene;const Gr=_.forwardRef(({className:e,...t},r)=>s.jsx(nne,{className:ft("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-border transition-colors data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(Kke,{className:ft("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gr.displayName=nne.displayName;var H2="Collapsible",[Yke,sne]=zs(H2),[Xke,$5]=Yke(H2),ane=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Ci({prop:n,defaultProp:a??!1,onChange:o,caller:H2});return s.jsx(Xke,{scope:r,disabled:i,contentId:go(),open:c,onOpenToggle:_.useCallback(()=>u(d=>!d),[u]),children:s.jsx(At.div,{"data-state":z5(c),"data-disabled":i?"":void 0,...l,ref:t})})});ane.displayName=H2;var ine="CollapsibleTrigger",B5=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=$5(ine,r);return s.jsx(At.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":z5(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:ht(e.onClick,a.onOpenToggle)})});B5.displayName=ine;var U5="CollapsibleContent",V5=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$5(U5,e.__scopeCollapsible);return s.jsx(ca,{present:r||a.open,children:({present:i})=>s.jsx(Jke,{...n,ref:t,present:i})})});V5.displayName=U5;var Jke=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=$5(U5,r),[l,c]=_.useState(n),u=_.useRef(null),d=Qt(t,u),f=_.useRef(0),m=f.current,p=_.useRef(0),y=p.current,g=o.open||l,v=_.useRef(g),w=_.useRef(void 0);return _.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),As(()=>{const b=u.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();f.current=j.height,p.current=j.width,v.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),c(n)}},[o.open,n]),s.jsx(At.div,{"data-state":z5(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&a})});function z5(e){return e?"open":"closed"}var one=ane,Zke=B5,Qke=V5;const Hj=one,Gj=B5,Kj=V5,wn=P5,eCe=O5,lne=_.forwardRef(({className:e,...t},r)=>s.jsx(Iw,{ref:r,className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lne.displayName=Iw.displayName;const gn=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(eCe,{children:[s.jsx(lne,{}),s.jsxs(Mw,{ref:n,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(z2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ua,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gn.displayName=Mw.displayName;const _n=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_n.displayName="DialogHeader";const Ma=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ma.displayName="DialogFooter";const jn=_.forwardRef(({className:e,...t},r)=>s.jsx(Fw,{ref:r,className:ft("text-lg font-semibold leading-none tracking-tight",e),...t}));jn.displayName=Fw.displayName;const ls=_.forwardRef(({className:e,...t},r)=>s.jsx(Lw,{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));ls.displayName=Lw.displayName;function G2(){const[e,t]=_.useState({maxProducts:null,currentProducts:0,whatsappOrdersLimit:null,whatsappOrdersUsed:0,websiteOrdersLimit:null,websiteOrdersUsed:0,enableAnalytics:!1,enableLocationSharing:!1,enableCustomDomain:!1,enableAiVoice:!1,isLoading:!0,hasActiveSubscription:!1});_.useEffect(()=>{r();const c=Y.channel("subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{console.log("Subscription changed, reloading limits..."),r()}).subscribe(),u=Y.channel("plans-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscription_plans"},()=>{console.log("Subscription plan changed, reloading limits..."),r()}).subscribe();return()=>{c.unsubscribe(),u.unsubscribe()}},[]);const r=async()=>{try{const{data:{user:c}}=await Y.auth.getUser();if(!c){t(y=>({...y,isLoading:!1}));return}const{data:u}=await Y.from("subscriptions").select(`
          *,
          subscription_plans(
            max_products,
            whatsapp_orders_limit,
            website_orders_limit,
            enable_analytics,
            enable_location_sharing,
            enable_custom_domain,
            enable_ai_voice
          )
        `).eq("user_id",c.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),d=u&&u.length>0?u[0]:null;if(!d||!d.subscription_plans){t(y=>({...y,isLoading:!1,hasActiveSubscription:!1}));return}const{data:f}=await Y.from("stores").select("id").eq("user_id",c.id).single();let m=0;if(f){const{count:y}=await Y.from("products").select("*",{count:"exact",head:!0}).eq("store_id",f.id).eq("status","published");m=y||0}const p=d.subscription_plans;t({maxProducts:p.max_products,currentProducts:m,whatsappOrdersLimit:p.whatsapp_orders_limit,whatsappOrdersUsed:d.whatsapp_orders_used||0,websiteOrdersLimit:p.website_orders_limit,websiteOrdersUsed:d.website_orders_used||0,enableAnalytics:p.enable_analytics||!1,enableLocationSharing:p.enable_location_sharing||!1,enableCustomDomain:p.enable_custom_domain||!1,enableAiVoice:p.enable_ai_voice||!1,isLoading:!1,hasActiveSubscription:["active","trial"].includes(d.status)})}catch(c){console.error("Error loading subscription limits:",c),t(u=>({...u,isLoading:!1}))}};return{...e,canPublishProduct:()=>e.hasActiveSubscription?e.maxProducts===null?!0:e.currentProducts<e.maxProducts:!1,canPlaceWhatsAppOrder:()=>!e.hasActiveSubscription||e.whatsappOrdersLimit===null?!1:e.whatsappOrdersLimit===0?!0:e.whatsappOrdersUsed<e.whatsappOrdersLimit,canPlaceWebsiteOrder:()=>!e.hasActiveSubscription||e.websiteOrdersLimit===null?!1:e.websiteOrdersLimit===0?!0:e.websiteOrdersUsed<e.websiteOrdersLimit,getProductLimitMessage:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to publish products.";if(e.maxProducts===null)return null;const c=e.maxProducts-e.currentProducts;return c<=0?`Product limit reached (${e.currentProducts}/${e.maxProducts}). Upgrade your plan to publish more products.`:c<=3?`Warning: Only ${c} product slots remaining (${e.currentProducts}/${e.maxProducts}).`:null},getOrderLimitWarning:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to place orders.";const c=e.whatsappOrdersLimit,u=e.whatsappOrdersUsed,d=e.websiteOrdersLimit,f=e.websiteOrdersUsed;if(c===null&&d===null)return"Ordering features are not available in your current plan.";if(c!==null&&c>0){const m=c-u;if(m<=0)return`WhatsApp order limit reached (${u}/${c}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} WhatsApp order slots remaining (${u}/${c}).`}if(d!==null&&d>0){const m=d-f;if(m<=0)return`Website order limit reached (${f}/${d}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} website order slots remaining (${f}/${d}).`}return null},refresh:r}}const tCe=async e=>{try{const{data:t,error:r}=await Y.from("stores").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Store not found");const n=t,{data:a}=await Y.from("profiles").select("phone, email").eq("user_id",t.user_id).maybeSingle(),i=a,{data:o,error:l}=await Y.from("products").select("id, name, category, price_range, description, status").eq("store_id",e).eq("status","published").order("category",{ascending:!0}).order("name",{ascending:!0});if(l)throw l;const c=o||[],u=c.map(g=>g.id);let d=[];if(u.length>0){const{data:g,error:v}=await Y.from("product_variants").select("id, product_id, size, color, price, stock_quantity").in("product_id",u).order("price",{ascending:!0});!v&&g&&(d=g)}let f="";if(f+="=".repeat(80)+`
`,f+=`${n.name.toUpperCase()}
`,f+=`STORE INFORMATION FOR AI VOICE AGENT
`,f+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,f+="=".repeat(80)+`

`,f+="-".repeat(80)+`
`,f+=`STORE INFORMATION
`,f+="-".repeat(80)+`

`,f+=`Store Name: ${n.name}
`,n.description&&(f+=`
Description:
${n.description}
`),n.address&&(f+=`
Address:
${n.address}
`),n.whatsapp_number&&(f+=`
WhatsApp: ${n.whatsapp_number}
`),i?.phone&&(f+=`Phone: ${i.phone}
`),i?.email&&(f+=`Email: ${i.email}
`),n.social_links&&(f+=`
Social Media:
`,n.social_links.facebook&&(f+=`  Facebook: ${n.social_links.facebook}
`),n.social_links.instagram&&(f+=`  Instagram: ${n.social_links.instagram}
`),n.social_links.twitter&&(f+=`  Twitter: ${n.social_links.twitter}
`)),f+=`
`,f+="-".repeat(80)+`
`,f+=`STORE POLICIES
`,f+="-".repeat(80)+`

`,n.policies?.deliveryAreas&&(f+=`Delivery Areas:
${n.policies.deliveryAreas}

`),n.policies?.returnPolicy&&(f+=`Return Policy:
${n.policies.returnPolicy}

`),n.policies?.shippingPolicy&&(f+=`Shipping Policy:
${n.policies.shippingPolicy}

`),n.policies?.termsConditions&&(f+=`Terms & Conditions:
${n.policies.termsConditions}

`),f+="-".repeat(80)+`
`,f+=`PRODUCT CATALOG (${c.length} Products)
`,f+="-".repeat(80)+`

`,c.length>0){const g=c.reduce((v,w)=>{const b=w.category||"Uncategorized";return v[b]||(v[b]=[]),v[b].push(w),v},{});Object.entries(g).forEach(([v,w],b)=>{b>0&&(f+=`
`),f+=`
${"=".repeat(80)}
`,f+=`CATEGORY: ${v.toUpperCase()}
`,f+=`${"=".repeat(80)}

`,w.forEach((j,E)=>{f+=`${E+1}. ${j.name}
`,j.price_range&&(f+=`   Price: ${j.price_range}
`),j.description&&(f+=`   Description: ${j.description}
`);const S=d.filter(C=>C.product_id===j.id);S.length>0&&(f+=`   Available Variants:
`,S.forEach((C,k)=>{let D=`     ${k+1}) `;const O=[];C.size&&O.push(`Size: ${C.size}`),C.color&&O.push(`Color: ${C.color}`),O.push(`Price: Rs ${C.price}`),O.push(`Stock: ${C.stock_quantity}`),D+=O.join(", "),f+=D+`
`})),f+=`
`})})}else f+=`No products available.

`;f+=`
`+"=".repeat(80)+`
`,f+=`END OF STORE INFORMATION
`,f+="=".repeat(80)+`
`;const m=new Blob([f],{type:"text/plain;charset=utf-8"}),p=URL.createObjectURL(m),y=document.createElement("a");return y.href=p,y.download=`${n.slug}-store-info-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(p),{success:!0,filename:y.download}}catch(t){throw console.error("Error generating TXT:",t),t}};function rCe({open:e,onClose:t,userEmail:r,storeName:n}){const[a,i]=_.useState(""),[o,l]=_.useState(!1);ur();const c=async()=>{if(a!=="DELETE"){Me({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:{user:u}}=await Y.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:f}=await Y.functions.invoke("delete-user-account",{body:{userId:u.id}});if(f)throw f;if(!d.success)throw new Error(d.error||"Failed to delete account");Me({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted"}),await Y.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}catch(u){Me({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"}),l(!1)}};return s.jsx(wn,{open:e,onOpenChange:t,children:s.jsxs(gn,{className:"max-w-lg",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Ls,{className:"w-5 h-5"}),"Delete My Account Permanently"]}),s.jsx(ls,{children:"This action is permanent and cannot be undone. All your data will be permanently deleted."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(Ls,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:" Warning: This Cannot Be Undone!"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["This action is ",s.jsx("strong",{children:"permanent and irreversible"}),". All your data will be completely deleted from our servers."]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"The following will be permanently deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your account"})," - You will not be able to log in anymore"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your store"})," - ",n||"Your store"," will be permanently removed"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All products"})," - Every product you've created"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All orders"})," - Complete order history"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Subscription data"})," - Billing history and subscription info"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analytics data"})," - All performance metrics"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Uploaded files"})," - Images, documents, and assets"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Account: ",s.jsx("span",{className:"font-bold text-foreground",children:r})]}),n&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store: ",s.jsx("span",{className:"font-semibold",children:n})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs(Ce,{htmlFor:"confirmation",className:"text-base",children:["Type ",s.jsx("span",{className:"font-bold text-destructive text-lg",children:"DELETE"})," to confirm permanent deletion"]}),s.jsx(Ve,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here",className:"text-center font-semibold text-lg",autoComplete:"off"})]})]}),s.jsxs(Ma,{className:"gap-2",children:[s.jsx(oe,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:"Cancel"}),s.jsx(oe,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,className:"flex-1",children:o?"Deleting Forever...":"Delete My Account Forever"})]})]})})}const xf=e=>{if(!e)return null;if(e.includes("drive.google.com/thumbnail?")||e.includes("drive.google.com/uc?"))return e;const t=e.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);return t?`https://drive.google.com/thumbnail?id=${t[1]||t[2]}&sz=w1000`:e};async function q5(e,t=5){const r={maxSizeMB:t,maxWidthOrHeight:2048,initialQuality:.9,minQuality:.6,step:.05},n=e.size/1024/1024;if(n<=t)return console.log(`Image already under ${t}MB:`,n.toFixed(2)+"MB"),e;console.log(`Compressing image from ${n.toFixed(2)}MB to max ${t}MB`);try{const a=await nCe(e),i=await sCe(a),{width:o,height:l}=aCe(i.width,i.height,r.maxWidthOrHeight),c=await iCe(i,o,l,e.name,e.type,r),u=c.size/1024/1024;return console.log(`Compression complete: ${n.toFixed(2)}MB  ${u.toFixed(2)}MB`),c}catch(a){return console.error("Image compression failed:",a),e}}function nCe(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=a=>t(a.target?.result),n.onerror=r,n.readAsDataURL(e)})}function sCe(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}function aCe(e,t,r){if(e<=r&&t<=r)return{width:e,height:t};const n=e/t;return e>t?{width:r,height:Math.round(r/n)}:{width:Math.round(r*n),height:r}}async function iCe(e,t,r,n,a,i){const o=document.createElement("canvas");o.width=t,o.height=r;const l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");l.drawImage(e,0,0,t,r);let c=a;["image/jpeg","image/png","image/webp"].includes(a)||(c="image/jpeg");let u=i.initialQuality;const d=i.maxSizeMB*1024*1024;let f=null;for(;u>=i.minQuality;){if(f=await new Promise(p=>{o.toBlob(y=>p(y),c,u)}),!f)throw new Error("Failed to create blob from canvas");if(f.size<=d){console.log(`Compression successful at quality ${u.toFixed(2)}`);break}u-=i.step}if(!f)throw new Error("Failed to compress image");return new File([f],n,{type:c,lastModified:Date.now()})}const oCe=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(""),[y,g]=_.useState(!1),[v,w]=_.useState(!1),[b,j]=_.useState(!1),[E,S]=_.useState([]),[C,k]=_.useState("vps"),[D,O]=_.useState({razorpay_key_secret:!1,phonepe_salt_key:!1,cashfree_secret_key:!1,payu_merchant_salt:!1,paytm_merchant_key:!1,stripe_secret_key:!1}),[P,A]=_.useState(null),[R,F]=_.useState("idle"),[L,W]=_.useState(null),[V,H]=_.useState(!0),G=G2(),[I,U]=_.useState({storeName:"",logoUrl:"",heroBannerUrls:[],phone:"",email:"",address:"",whatsappNumber:"",currency:"INR",currencySymbol:"",customDomain:"",aiVoiceEmbedCode:"",forceLocationSharing:!1,deliveryAreas:"",returnPolicy:"",shippingPolicy:"",termsConditions:"",privacyPolicy:"",razorpay_enabled:!1,razorpay_key_id:"",razorpay_key_secret:"",phonepe_enabled:!1,phonepe_merchant_id:"",phonepe_salt_key:"",phonepe_salt_index:"",cashfree_enabled:!1,cashfree_app_id:"",cashfree_secret_key:"",payu_enabled:!1,payu_merchant_key:"",payu_merchant_salt:"",paytm_enabled:!1,paytm_merchant_id:"",paytm_merchant_key:"",stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",payment_mode:"online_and_cod"}),[X,z]=_.useState(""),[Z,J]=_.useState(0),[Q,de]=_.useState(100),[fe,pe]=_.useState([]),[K,ee]=_.useState("all"),[se,B]=_.useState(!1),[ie,ae]=_.useState([]),[Ne,Ee]=_.useState([]),ue=_.useCallback(async()=>{try{const{data:{user:xe}}=await Y.auth.getUser();if(!xe)return;p(xe.email||"");const{data:{session:He}}=await Y.auth.getSession(),ot=He?.provider_token,_t=He?.provider_refresh_token,{data:at,error:Xt}=await Y.from("stores").select("*").eq("user_id",xe.id).single();if(Xt&&console.error("Error loading store:",Xt),at?.id&&i(at.id),J(at?.storage_used_mb||0),de(at?.storage_limit_mb||100),at&&ot){const Pr={google_access_token:ot};if(_t){const tr=new Date(Date.now()+36e5).toISOString();Pr.google_refresh_token=_t,Pr.google_token_expiry=tr}await Y.from("stores").update(Pr).eq("id",at.id)}await Je();const{data:Mt}=await Y.from("profiles").select("phone, email").eq("user_id",xe.id).single(),jt=at?.payment_gateway_credentials||{};U({storeName:at?.name||"",logoUrl:at?.logo_url||"",heroBannerUrls:at?.hero_banner_urls||[],phone:Mt?.phone||"",email:Mt?.email||"",address:at?.address||"",whatsappNumber:at?.whatsapp_number||"",currency:"INR",currencySymbol:"",customDomain:at?.custom_domain||"",aiVoiceEmbedCode:at?.ai_voice_embed_code||"",forceLocationSharing:at?.force_location_sharing||!1,deliveryAreas:at?.policies?.deliveryAreas||"",returnPolicy:at?.policies?.returnPolicy||"",shippingPolicy:at?.policies?.shippingPolicy||"",termsConditions:at?.policies?.termsConditions||"",privacyPolicy:at?.policies?.privacyPolicy||"",razorpay_enabled:jt?.razorpay?.enabled||!1,razorpay_key_id:jt?.razorpay?.key_id||"",razorpay_key_secret:jt?.razorpay?.key_secret||"",phonepe_enabled:jt?.phonepe?.enabled||!1,phonepe_merchant_id:jt?.phonepe?.merchant_id||"",phonepe_salt_key:jt?.phonepe?.salt_key||"",phonepe_salt_index:jt?.phonepe?.salt_index||"",cashfree_enabled:jt?.cashfree?.enabled||!1,cashfree_app_id:jt?.cashfree?.app_id||"",cashfree_secret_key:jt?.cashfree?.secret_key||"",payu_enabled:jt?.payu?.enabled||!1,payu_merchant_key:jt?.payu?.merchant_key||"",payu_merchant_salt:jt?.payu?.merchant_salt||"",paytm_enabled:jt?.paytm?.enabled||!1,paytm_merchant_id:jt?.paytm?.merchant_id||"",paytm_merchant_key:jt?.paytm?.merchant_key||"",stripe_enabled:jt?.stripe?.enabled||!1,stripe_publishable_key:jt?.stripe?.publishable_key||"",stripe_secret_key:jt?.stripe?.secret_key||"",payment_mode:at?.payment_mode||"online_and_cod"})}catch(xe){console.error("Error loading settings:",xe)}finally{H(!1)}},[]);_.useEffect(()=>{ue(),qe()},[ue]);const qe=async()=>{try{B(!0);const{data:{user:xe}}=await Y.auth.getUser();if(!xe)return;const{data:He}=await Y.from("stores").select("id").eq("user_id",xe.id).single();if(!He)return;const{data:ot,error:_t}=await Y.from("media_library").select("*").eq("store_id",He.id).order("uploaded_at",{ascending:!1});if(_t)throw _t;pe(ot||[])}catch(xe){console.error("Error loading media library:",xe)}finally{B(!1)}},Je=async()=>{try{const{data:{session:xe}}=await Y.auth.getSession();if(!xe)return;const{data:He,error:ot}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${xe.access_token}`}});if(ot){console.error("Drive verification error:",ot),g(!1);return}if(He?.connected){g(!0);const{data:{session:_t}}=await Y.auth.getSession();_t?.provider_token&&Me({title:"Google Drive Connected",description:"You can now upload images to Google Drive."})}else g(!1),console.log("Drive not connected:",He?.reason)}catch(xe){console.error("Error verifying Drive connection:",xe),g(!1)}},le=(xe,He)=>{U(ot=>({...ot,[xe]:He}))},we=xe=>{navigator.clipboard.writeText(xe),Me({title:"URL Copied",description:"Image URL copied to clipboard"})},Oe=async xe=>{try{const ot=await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:xe})})).json();console.log("VPS delete response:",ot);const{error:_t}=await Y.from("media_library").delete().eq("file_url",xe);_t&&console.error("Failed to delete from database:",_t);const{data:{user:at}}=await Y.auth.getUser();if(at){const{data:Xt}=await Y.from("stores").select("id, storage_used_mb").eq("user_id",at.id).single();if(Xt){const Mt=fe.find(jt=>jt.file_url===xe);if(Mt?.file_size_mb){const jt=Math.max(0,(Xt.storage_used_mb||0)-Mt.file_size_mb);await Y.from("stores").update({storage_used_mb:jt}).eq("id",Xt.id)}}}Me({title:"Image Deleted",description:"Image removed from media library"}),qe()}catch(He){Me({title:"Delete Failed",description:He.message||"Failed to delete image",variant:"destructive"})}};_.useEffect(()=>{if(V)return;const xe=setTimeout(()=>{Ge()},2e3);return()=>clearTimeout(xe)},[I,V]);const Ge=async()=>{try{F("saving");const{data:{user:xe}}=await Y.auth.getUser();if(!xe)return;const He={name:I.storeName,logo_url:I.logoUrl||null,hero_banner_urls:I.heroBannerUrls.length>0?I.heroBannerUrls:null,whatsapp_number:I.whatsappNumber,address:I.address||null,policies:{deliveryAreas:I.deliveryAreas||null,returnPolicy:I.returnPolicy||null,shippingPolicy:I.shippingPolicy||null,termsConditions:I.termsConditions||null,privacyPolicy:I.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:I.razorpay_enabled,key_id:I.razorpay_key_id||null,key_secret:I.razorpay_key_secret||null},phonepe:{enabled:I.phonepe_enabled,merchant_id:I.phonepe_merchant_id||null,salt_key:I.phonepe_salt_key||null,salt_index:I.phonepe_salt_index||null},cashfree:{enabled:I.cashfree_enabled,app_id:I.cashfree_app_id||null,secret_key:I.cashfree_secret_key||null},payu:{enabled:I.payu_enabled,merchant_key:I.payu_merchant_key||null,merchant_salt:I.payu_merchant_salt||null},paytm:{enabled:I.paytm_enabled,merchant_id:I.paytm_merchant_id||null,merchant_key:I.paytm_merchant_key||null},stripe:{enabled:I.stripe_enabled,publishable_key:I.stripe_publishable_key||null,secret_key:I.stripe_secret_key||null}},payment_mode:I.payment_mode};G.enableCustomDomain&&(He.custom_domain=I.customDomain.trim().toLowerCase()||null),G.enableAiVoice&&(He.ai_voice_embed_code=I.aiVoiceEmbedCode.trim()||null),G.enableLocationSharing&&(He.force_location_sharing=I.forceLocationSharing);const{error:ot}=await Y.from("stores").update(He).eq("user_id",xe.id);if(ot)throw ot;(I.phone||I.email)&&await Y.from("profiles").update({phone:I.phone||null,email:I.email||null}).eq("user_id",xe.id),F("saved"),W(new Date),setTimeout(()=>{F("idle")},3e3)}catch(xe){console.error("Auto-save error:",xe),F("error"),setTimeout(()=>{F("idle")},3e3)}},Ze=()=>{if(!X.trim()){Me({variant:"destructive",title:"Invalid URL",description:"Please enter a valid image URL"});return}let xe=X.trim();if(xe.includes("drive.google.com")){const He=xf(xe);He&&(xe=He,Me({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}U(He=>({...He,heroBannerUrls:[...He.heroBannerUrls,xe]})),z("")},Se=async xe=>{const He=I.heroBannerUrls[xe];if(He.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:He})}),await Y.from("media_library").delete().eq("file_url",He),console.log("Banner image deleted from VPS and media library:",He)}catch(_t){console.error("Failed to delete banner:",_t)}const ot=I.heroBannerUrls.filter((_t,at)=>at!==xe);U(_t=>({..._t,heroBannerUrls:ot}));try{const{data:{user:_t}}=await Y.auth.getUser();_t&&await Y.from("stores").update({hero_banner_urls:ot.length>0?ot:null}).eq("user_id",_t.id)}catch(_t){console.error("Failed to save banner changes:",_t)}setTimeout(()=>{qe()},500)},te=async xe=>{const He=Array.from(xe.target.files||[]);if(He.length===0)return;const ot=He.filter(_t=>_t.type.startsWith("image/")?!0:(Me({title:"Invalid file type",description:`${_t.name} is not a valid image file`,variant:"destructive"}),!1));if(ot.length!==0){if(C==="drive"&&!y){Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below to upload images directly.",variant:"destructive",duration:5e3});return}try{if(C==="vps"){const at=[];for(const Mt of ot)try{const jt=(Mt.size/1024/1024).toFixed(2),Pr=await q5(Mt,5),tr=(Pr.size/1024/1024).toFixed(2);console.log(`Banner compressed: ${jt}MB  ${tr}MB`),at.push(Pr)}catch(jt){console.error("Compression failed:",jt),Me({title:"Compression failed",description:`Failed to compress ${Mt.name}, using original`,variant:"destructive"}),at.push(Mt)}ae(Mt=>[...Mt,...at]);const Xt=at.map(Mt=>URL.createObjectURL(Mt));Ee(Mt=>[...Mt,...Xt]),U(Mt=>({...Mt,heroBannerUrls:[...Mt.heroBannerUrls,...Xt]})),Me({title:"Banners ready",description:`${at.length} banner(s) will be uploaded when you save settings`});return}j(!0),S(ot.map(at=>({name:at.name,progress:0})));const{data:{session:_t}}=await Y.auth.getSession();if(!_t)throw new Error("Not authenticated");for(let at=0;at<ot.length;at++){const Xt=ot[at];S(Pr=>Pr.map((tr,Sr)=>Sr===at?{...tr,progress:10}:tr));const Mt=new FormData;Mt.append("file",Xt),Mt.append("type","banners");const jt=setInterval(()=>{S(Pr=>Pr.map((tr,Sr)=>Sr===at&&tr.progress<90?{...tr,progress:tr.progress+10}:tr))},200);try{const Pr=await Y.functions.invoke("upload-to-drive",{body:Mt,headers:{Authorization:`Bearer ${_t.access_token}`}});if(clearInterval(jt),Pr.error)throw S(tr=>tr.filter((Sr,Ir)=>Ir!==at)),new Error(Pr.error.message||"Failed to upload image");Pr.data?.imageUrl&&(S(tr=>tr.map((Sr,Ir)=>Ir===at?{...Sr,progress:100}:Sr)),await new Promise(tr=>setTimeout(tr,300)),S(tr=>tr.filter((Sr,Ir)=>Ir!==at)),U(tr=>({...tr,heroBannerUrls:[...tr.heroBannerUrls,Pr.data.imageUrl]})),Me({title:"Banner Uploaded",description:`${Xt.name} uploaded successfully`}))}catch(Pr){throw clearInterval(jt),Pr}}qe(),ue()}catch(_t){let at=_t.message||"";if(_t.context?.body)try{const Xt=JSON.parse(_t.context.body);at=Xt.error||Xt.message||at}catch{}at.toLowerCase().includes("storage limit")?Me({title:"Storage Limit Reached",description:at,variant:"destructive",duration:6e3}):at.toLowerCase().includes("drive")&&at.toLowerCase().includes("not connected")?Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below first.",variant:"destructive",duration:6e3}):at.toLowerCase().includes("token")||at.toLowerCase().includes("expired")?Me({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect below.",variant:"destructive",duration:6e3}):Me({title:"Upload Failed",description:at||"Failed to upload to Google Drive. Try using the URL option instead.",variant:"destructive",duration:5e3})}finally{j(!1),S([]),xe.target.value=""}}},_e=async()=>{if(!a){Me({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}n(!0);try{await tCe(a),Me({title:"File Generated Successfully",description:"Your store information TXT file has been downloaded."})}catch(xe){console.error("Error generating file:",xe),Me({variant:"destructive",title:"File Generation Failed",description:"There was an error generating your file. Please try again."})}finally{n(!1)}},he=async()=>{try{w(!0);const{error:xe}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin/settings`,scopes:"https://www.googleapis.com/auth/drive.file",queryParams:{access_type:"offline",prompt:"consent"}}});xe&&(console.error("Google Drive connection error:",xe),Me({variant:"destructive",title:"Connection Failed",description:xe.message}))}catch(xe){console.error("Error connecting Google Drive:",xe),Me({variant:"destructive",title:"Connection Failed",description:"Failed to initiate Google Drive connection"})}finally{w(!1)}},Re=async xe=>{xe.preventDefault(),t(!0);try{if(!I.storeName.trim()){Me({variant:"destructive",title:"Validation Error",description:"Store name is required"}),t(!1);return}if(I.customDomain.trim()){if(!G.enableCustomDomain){Me({variant:"destructive",title:"Feature Not Available",description:"Custom domain is only available for Pro, Premium, and Enterprise plans. Please upgrade your subscription."}),t(!1);return}const Xt=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*\.[a-zA-Z]{2,}$/,Mt=I.customDomain.trim().toLowerCase();if(Mt.includes("http://")||Mt.includes("https://")){Me({variant:"destructive",title:"Invalid Domain Format",description:"Please enter domain without http:// or https:// (e.g., shop.yourdomain.com)"}),t(!1);return}if(!Xt.test(Mt)){Me({variant:"destructive",title:"Invalid Domain Format",description:"Please enter a valid domain name (e.g., shop.yourdomain.com)"}),t(!1);return}}const He=I.whatsappNumber.replace(/[^0-9]/g,"");if(He==="9876543210"||He==="919876543210"){Me({variant:"destructive",title:"Invalid WhatsApp Number",description:"The default number 9876543210 is not allowed. Please enter your actual WhatsApp business number."}),t(!1);return}if(I.whatsappNumber.trim()&&He.length<10){Me({variant:"destructive",title:"Invalid WhatsApp Number",description:"Please enter a valid WhatsApp number with at least 10 digits."}),t(!1);return}const{data:{user:ot}}=await Y.auth.getUser();if(!ot)throw new Error("User not authenticated");if(ie.length>0&&C==="vps")try{const{data:Xt,error:Mt}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",ot.id).single();if(Mt)throw Mt;if(!Xt)throw new Error("Store not found");const jt=Xt.storage_used_mb||0,Pr=Xt.storage_limit_mb||100,tr=ie.reduce((Ot,Jt)=>Ot+Jt.size/1024/1024,0);if(jt+tr>Pr){Me({variant:"destructive",title:"Storage Limit Exceeded",description:`Cannot upload banners. You need ${tr.toFixed(2)}MB but only have ${(Pr-jt).toFixed(2)}MB available. Delete some images from Media Library to free up space.`}),t(!1);return}const Sr=[];let Ir=0;for(let Ot=0;Ot<ie.length;Ot++){const Jt=ie[Ot],Mr=new FormData;Mr.append("file",Jt),Mr.append("type","banners");const zt=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Mr});if(!zt.ok){const Rn=await zt.text();throw new Error(`Upload failed: ${Rn}`)}const Rt=await zt.json();if(!Rt.success)throw new Error(Rt.error||"Upload failed");const or=Rt.imageUrl,vt=Jt.size/1024/1024,{error:Ft}=await Y.from("media_library").insert({store_id:Xt.id,file_url:or,file_name:Jt.name,file_size_mb:vt,file_type:"banners"});Ft&&console.error("Error tracking banner in media library:",Ft);const Lt=jt+Ir+vt,{error:er}=await Y.from("stores").update({storage_used_mb:Lt}).eq("id",Xt.id);er&&console.error("Error updating storage usage:",er),Sr.push(or),Ir+=vt}const Ca=I.heroBannerUrls.map(Ot=>{const Jt=Ne.indexOf(Ot);return Jt!==-1&&Jt<Sr.length?Sr[Jt]:Ot});I.heroBannerUrls=Ca,Ne.forEach(Ot=>{Ot.startsWith("blob:")&&URL.revokeObjectURL(Ot)}),ae([]),Ee([]),Me({title:"Banners Uploaded",description:`Successfully uploaded ${Sr.length} banner(s) (${Ir.toFixed(2)}MB)`})}catch(Xt){console.error("Error uploading pending banners:",Xt),Me({variant:"destructive",title:"Upload Failed",description:Xt instanceof Error?Xt.message:"Failed to upload banner images"}),t(!1);return}const _t={name:I.storeName,logo_url:I.logoUrl||null,hero_banner_urls:I.heroBannerUrls.length>0?I.heroBannerUrls:null,whatsapp_number:I.whatsappNumber,address:I.address||null,policies:{deliveryAreas:I.deliveryAreas||null,returnPolicy:I.returnPolicy||null,shippingPolicy:I.shippingPolicy||null,termsConditions:I.termsConditions||null,privacyPolicy:I.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:I.razorpay_enabled,key_id:I.razorpay_key_id||null,key_secret:I.razorpay_key_secret||null},phonepe:{enabled:I.phonepe_enabled,merchant_id:I.phonepe_merchant_id||null,salt_key:I.phonepe_salt_key||null,salt_index:I.phonepe_salt_index||null},cashfree:{enabled:I.cashfree_enabled,app_id:I.cashfree_app_id||null,secret_key:I.cashfree_secret_key||null},payu:{enabled:I.payu_enabled,merchant_key:I.payu_merchant_key||null,merchant_salt:I.payu_merchant_salt||null},paytm:{enabled:I.paytm_enabled,merchant_id:I.paytm_merchant_id||null,merchant_key:I.paytm_merchant_key||null},stripe:{enabled:I.stripe_enabled,publishable_key:I.stripe_publishable_key||null,secret_key:I.stripe_secret_key||null}},payment_mode:I.payment_mode};G.enableCustomDomain&&(_t.custom_domain=I.customDomain.trim().toLowerCase()||null),G.enableAiVoice&&(_t.ai_voice_embed_code=I.aiVoiceEmbedCode.trim()||null),G.enableLocationSharing&&(_t.force_location_sharing=I.forceLocationSharing);const{error:at}=await Y.from("stores").update(_t).eq("user_id",ot.id).select();if(at)throw at;if(I.phone||I.email){const{error:Xt}=await Y.from("profiles").update({phone:I.phone||null,email:I.email||null}).eq("user_id",ot.id);Xt&&console.error("Error updating profile:",Xt)}F("saved"),W(new Date),Me({title:"Settings Saved",description:"Your store settings have been updated successfully"})}catch{Me({variant:"destructive",title:"Save Failed",description:"There was an error saving your settings"})}finally{t(!1)}},De=[{title:"Store Information",icon:em,fields:[{key:"storeName",label:"Store Name",placeholder:"My Awesome Store",required:!0},{key:"logoUrl",label:"Logo URL (Google Drive Link)",placeholder:"https://drive.google.com/..."}]},{title:"Contact Information",icon:pc,fields:[{key:"phone",label:"Phone Number",placeholder:"+1 (555) 123-4567"},{key:"email",label:"Email Address",placeholder:"contact@yourstore.com"},{key:"whatsappNumber",label:"WhatsApp Business Number",placeholder:"919876543210 (with country code, no spaces)"},{key:"address",label:"Store Address",placeholder:"123 Main St, City, State 12345",multiline:!0}]},{title:"Currency Settings",icon:em,fields:[{key:"currencySymbol",label:"Currency Symbol",placeholder:", $, , , etc."},{key:"currency",label:"Currency Code",placeholder:"INR, USD, EUR, GBP, etc."}]}],Fe=[{key:"deliveryAreas",label:"Delivery Areas",placeholder:"List areas where you deliver..."},{key:"returnPolicy",label:"Return Policy",placeholder:"Describe your return policy..."},{key:"shippingPolicy",label:"Shipping Policy",placeholder:"Describe your shipping terms..."},{key:"termsConditions",label:"Terms & Conditions",placeholder:"Your terms and conditions..."},{key:"privacyPolicy",label:"Privacy Policy",placeholder:"Describe how you collect, use, and protect customer data..."}];return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Store Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your store information and policies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[R==="saving"&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Wt,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}),R==="saved"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(en,{className:"w-4 h-4"}),s.jsxs("span",{children:["Saved",L&&` at ${L.toLocaleTimeString()}`]})]}),R==="error"&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[s.jsx(Ls,{className:"w-4 h-4"}),s.jsx("span",{children:"Save failed"})]})]})]}),s.jsxs("form",{onSubmit:Re,className:"space-y-8",children:[De.map((xe,He)=>s.jsxs(ke,{className:"admin-card",children:[s.jsx(Qe,{children:s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(xe.icon,{className:"w-5 h-5 text-primary"})}),xe.title]})}),s.jsx(Te,{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:xe.fields.map((ot,_t)=>s.jsxs("div",{className:ot.multiline?"md:col-span-2":"",children:[s.jsxs(Ce,{htmlFor:ot.key,className:"flex items-center gap-2",children:[ot.label,ot.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),ot.multiline?s.jsx(Na,{id:ot.key,placeholder:ot.placeholder,value:String(I[ot.key]||""),onChange:at=>le(ot.key,at.target.value),className:"admin-input min-h-[100px] mt-2",required:ot.required}):s.jsx(Ve,{id:ot.key,type:"text",placeholder:ot.placeholder,value:String(I[ot.key]||""),onChange:at=>le(ot.key,at.target.value),className:"admin-input mt-2",required:ot.required})]},_t))})})]},He)),s.jsx(ke,{className:"admin-card",children:s.jsxs(Hj,{children:[s.jsxs(Qe,{children:[s.jsx(Gj,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(In,{className:"w-5 h-5 text-primary"})}),"Payment Gateway Configuration"]}),s.jsx(zu,{className:"h-5 w-5 transition-transform duration-200 data-[state=open]:rotate-180"})]})}),s.jsx("p",{className:"text-muted-foreground mt-2 text-left",children:"Configure payment gateways for your store - click any card to set up"})]}),s.jsx(Kj,{children:s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(Yr,{children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx(Xr,{children:"Click on any payment gateway card below to configure credentials. Payments go directly to your account."})]}),(I.razorpay_enabled||I.phonepe_enabled||I.cashfree_enabled||I.payu_enabled||I.paytm_enabled||I.stripe_enabled)&&s.jsx("div",{className:"p-6 rounded-xl border-2 border-primary/20 bg-primary/5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-1",children:"Payment Methods at Checkout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which payment options customers will see during checkout"})]}),s.jsxs("div",{className:"inline-flex rounded-lg border-2 border-primary/20 p-1 bg-background",children:[s.jsx("button",{type:"button",onClick:()=>U(xe=>({...xe,payment_mode:"online_only"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${I.payment_mode==="online_only"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online Payment Only"}),s.jsx("button",{type:"button",onClick:()=>U(xe=>({...xe,payment_mode:"online_and_cod"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${I.payment_mode==="online_and_cod"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online + COD"})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"mt-0.5",children:I.payment_mode==="online_only"?s.jsx(Ls,{className:"w-4 h-4 text-blue-600"}):s.jsx(en,{className:"w-4 h-4 text-green-600"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I.payment_mode==="online_only"?s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online Payment Only:"})," Customers can only pay using configured payment gateways. Cash on Delivery will not be available."]}):s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online + COD:"})," Customers can choose to pay online or via Cash on Delivery. This gives maximum flexibility to your customers."]})})]})]})}),!(I.razorpay_enabled||I.phonepe_enabled||I.cashfree_enabled||I.payu_enabled||I.paytm_enabled||I.stripe_enabled)&&s.jsxs(Yr,{className:"bg-amber-500/10 border-amber-500/20",children:[s.jsx(Ls,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Xr,{className:"text-amber-900 dark:text-amber-100",children:[s.jsx("strong",{children:"Cash on Delivery Only:"})," Configure at least one payment gateway below to enable online payments."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{onClick:()=>A("razorpay"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-blue-500/50 hover:-translate-y-1",style:{borderColor:I.razorpay_enabled?"#3b82f6":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.razorpay_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors",children:s.jsx(In,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Razorpay"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Popular in India"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("phonepe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-purple-500/50 hover:-translate-y-1",style:{borderColor:I.phonepe_enabled?"#a855f7":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.phonepe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 group-hover:bg-purple-500/20 transition-colors",children:s.jsx(In,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PhonePe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"UPI & Digital"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600 dark:text-purple-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("cashfree"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-green-500/50 hover:-translate-y-1",style:{borderColor:I.cashfree_enabled?"#22c55e":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.cashfree_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 group-hover:bg-green-500/20 transition-colors",children:s.jsx(In,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Cashfree"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Payments & Payouts"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("payu"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-orange-500/50 hover:-translate-y-1",style:{borderColor:I.payu_enabled?"#f97316":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.payu_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-orange-500/10 group-hover:bg-orange-500/20 transition-colors",children:s.jsx(In,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PayU"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Leading Solution"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("paytm"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-sky-500/50 hover:-translate-y-1",style:{borderColor:I.paytm_enabled?"#0ea5e9":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.paytm_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-sky-500/10 group-hover:bg-sky-500/20 transition-colors",children:s.jsx(In,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Paytm"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Wallet & Gateway"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-sky-600 dark:text-sky-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>A("stripe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-indigo-500/50 hover:-translate-y-1",style:{borderColor:I.stripe_enabled?"#6366f1":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.stripe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/10 group-hover:bg-indigo-500/20 transition-colors",children:s.jsx(In,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Stripe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Global Platform"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]})]}),s.jsxs(Yr,{className:"bg-amber-500/5 border-amber-500/20",children:[s.jsx(Ls,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Xr,{className:"text-amber-600 dark:text-amber-400",children:[s.jsx("strong",{children:"Important:"})," Keep your API credentials secure. Payments go directly to your accounts. We recommend using test/sandbox credentials first before going live."]})]})]})})]})}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(xm,{className:"w-5 h-5 text-primary"})}),"Custom Domain"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your own domain to your store"})]}),s.jsx(Te,{className:"space-y-4",children:G.enableCustomDomain?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(Ve,{id:"customDomain",type:"text",placeholder:"yourdomain.com or www.yourdomain.com or shop.yourdomain.com",value:I.customDomain,onChange:xe=>le("customDomain",xe.target.value),className:"admin-input mt-2",disabled:!G.enableCustomDomain}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Enter your domain: ",s.jsx("strong",{children:"yourdomain.com"})," (root), ",s.jsx("strong",{children:"www.yourdomain.com"}),", or ",s.jsx("strong",{children:"shop.yourdomain.com"})]})]}),I.customDomain&&(()=>{const He=I.customDomain.trim().split("."),ot=He.length===2,_t=ot?"@":He[0];return s.jsxs(Yr,{children:[s.jsx(xm,{className:"h-4 w-4"}),s.jsx(Xr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"DNS Configuration Required:"}),s.jsx("p",{className:"text-sm",children:ot?"For root domain, add an A record pointing to your server IP:":"For subdomain, add a CNAME record in your domain's DNS settings:"}),s.jsx("div",{className:"bg-muted p-2 rounded mt-2 font-mono text-xs",children:ot?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: A"}),s.jsx("div",{children:"Name: @ (or leave blank)"}),s.jsx("div",{children:"Value: Your Server IP"}),s.jsx("div",{className:"mt-2 text-muted-foreground",children:"Alternative: Use CNAME for www, then redirect @ to www"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: CNAME"}),s.jsxs("div",{children:["Name: ",_t]}),s.jsx("div",{children:"Value: yesgive.shop"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"DNS changes may take up to 48 hours to propagate."})]})})]})})()]}):s.jsxs(Yr,{children:[s.jsx(bg,{className:"h-4 w-4"}),s.jsxs(Xr,{children:["Custom domain is only available for Pro, Premium, and Enterprise plans.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(kf,{className:"w-5 h-5 text-primary"})}),"Location Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Control how location sharing works for your customers"})]}),s.jsx(Te,{className:"space-y-4",children:G.enableLocationSharing?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{htmlFor:"forceLocationSharing",className:"text-base font-medium cursor-pointer",children:"Force Location Sharing"}),I.forceLocationSharing&&s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:"Mandatory"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.forceLocationSharing?"Customers must share their location to place orders (mandatory)":"Location sharing is optional for customers (recommended)"})]}),s.jsx(Gr,{id:"forceLocationSharing",checked:I.forceLocationSharing,onCheckedChange:xe=>U(He=>({...He,forceLocationSharing:xe})),className:`ml-4 ${I.forceLocationSharing?"data-[state=checked]:bg-green-500":""}`})]}),s.jsxs(Yr,{children:[s.jsx(Ls,{className:"h-4 w-4"}),s.jsxs(Xr,{children:[s.jsx("strong",{children:"Important:"})," Forcing location sharing may reduce conversions. We recommend keeping it optional unless you have specific delivery area requirements."]})]})]}):s.jsxs(Yr,{children:[s.jsx(bg,{className:"h-4 w-4"}),s.jsxs(Xr,{children:["Location sharing is not available in your current plan.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Fv,{className:"w-5 h-5 text-primary"})}),"Hero Banner Carousel (Multiple Images)"]}),s.jsx("p",{className:"text-muted-foreground",children:"Add multiple banner images for auto-sliding carousel (Recommended size: 1920x450px)"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"vps",checked:C==="vps",onChange:xe=>k(xe.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Fast & Reliable)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"drive",checked:C==="drive",onChange:xe=>k(xe.target.value),className:"w-4 h-4 text-primary",disabled:!y}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!y&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C==="vps"?"Banners will be compressed to max 5MB and stored on your server":"Banners will be uploaded to your connected Google Drive"})]}),C==="vps"&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"VPS Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[Z.toFixed(2)," MB / ",Q," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${Z>=Q?"bg-destructive":Z>=Q*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Z/Q*100,100)}%`}})}),Z>=Q&&s.jsxs("p",{className:"text-sm text-destructive font-medium flex items-center gap-1",children:[s.jsx(Vi,{className:"w-4 h-4"}),"Storage limit reached. Delete images to free space."]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Limit: 20 images  5 MB = 100 MB total"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${b?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"bannerUpload",accept:"image/*",multiple:!0,onChange:te,className:"hidden",disabled:b}),s.jsx("label",{htmlFor:"bannerUpload",className:`block p-6 text-center ${b?"cursor-not-allowed":"cursor-pointer"}`,children:b&&E.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",E.length," image",E.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:E.map((xe,He)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[xe.progress<100?s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(en,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:xe.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:xe.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[xe.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${xe.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${xe.progress}%`}})})]},`uploading-${He}`))})]}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Qd,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Click to upload banner images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?"Images will be uploaded to your Google Drive":"Connect Google Drive below to enable uploads"})]})]})})]}),!y&&!b&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Connect your Google Drive account in the section below to upload images directly."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{id:"newBannerUrl",type:"text",placeholder:"https://drive.google.com/file/d/...",value:X,onChange:xe=>z(xe.target.value),onKeyPress:xe=>xe.key==="Enter"&&(xe.preventDefault(),Ze()),className:"admin-input flex-1"}),s.jsx(oe,{type:"button",onClick:Ze,className:"admin-button-primary",children:s.jsx(Yi,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a Google Drive share link. Make sure the file is set to "Anyone with the link can view".'})]}),I.heroBannerUrls.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ce,{className:"text-base font-medium",children:["Current Banner Images (",I.heroBannerUrls.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:I.heroBannerUrls.map((xe,He)=>s.jsx("div",{className:"relative group rounded-lg overflow-hidden border bg-muted",children:s.jsxs("div",{className:"aspect-[16/9] relative",children:[s.jsx("img",{src:xe,alt:`Banner ${He+1}`,className:"w-full h-full object-cover",onError:ot=>{ot.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23999" font-size="12">Image Error</text></svg>'}}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:He+1}),s.jsx(oe,{type:"button",variant:"destructive",size:"sm",onClick:()=>Se(He),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ua,{className:"w-4 h-4"})})]})},He))})]}),I.heroBannerUrls.length===0&&E.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Fv,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No banner images added yet."}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images or paste URLs above to create a carousel."})]})]})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Fv,{className:"w-5 h-5 text-primary"})}),"Media Library"]}),s.jsx("p",{className:"text-muted-foreground",children:"All VPS uploaded images"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[fe.length," images  ",Z.toFixed(2)," MB / ",Q," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${Z>=Q?"bg-destructive":Z>=Q*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(Z/Q*100,100)}%`}})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:K==="all"?"default":"outline",size:"sm",onClick:()=>ee("all"),children:["All (",fe.length,")"]}),s.jsxs(oe,{variant:K==="products"?"default":"outline",size:"sm",onClick:()=>ee("products"),children:["Products (",fe.filter(xe=>xe.file_type==="products").length,")"]}),s.jsxs(oe,{variant:K==="categories"?"default":"outline",size:"sm",onClick:()=>ee("categories"),children:["Categories (",fe.filter(xe=>xe.file_type==="categories").length,")"]}),s.jsxs(oe,{variant:K==="banners"?"default":"outline",size:"sm",onClick:()=>ee("banners"),children:["Banners (",fe.filter(xe=>xe.file_type==="banners").length,")"]})]}),se?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:fe.filter(xe=>K==="all"||xe.file_type===K).map(xe=>s.jsxs("div",{className:"group relative border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx("img",{src:xe.file_url,alt:xe.file_name,className:"w-full h-full object-cover",onError:He=>{He.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400"}})}),s.jsxs("div",{className:"p-2 bg-background border-t",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:xe.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[xe.file_size_mb.toFixed(2)," MB"]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:xe.file_type})]}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx(oe,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>we(xe.file_url),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),s.jsx(oe,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>Oe(xe.file_url),children:s.jsx(Fn,{className:"w-4 h-4"})})]})]},xe.id))}),fe.filter(xe=>K==="all"||xe.file_type===K).length===0&&!se&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Fv,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No images in media library"}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images to see them here"})]})]})]}),s.jsxs(ke,{className:`admin-card ${y?"":"border-red-500 border-2"}`,children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Zd,{className:"w-5 h-5 text-primary"})}),"Google Drive Connection"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your Google Drive to upload product images directly"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Status"}),y?s.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full font-medium",children:"Not Connected"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?"You can upload images to Google Drive from product pages":"Connect your Google Drive account to enable image uploads"})]}),s.jsx(oe,{type:"button",onClick:he,disabled:v,className:y?"admin-button":"admin-button-primary",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Qd,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):y?s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]}),!y&&s.jsxs(Yr,{style:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(Ls,{className:"h-4 w-4"}),s.jsxs(Xr,{children:[s.jsx("strong",{children:"Note:"}),` You'll be redirected to Google to grant Drive permissions. Make sure to allow "See and download files from your Google Drive" permission.`]})]}),y&&s.jsxs(Yr,{className:"border-green-500/20 bg-green-500/5",children:[s.jsx(Zd,{className:"h-4 w-4 text-green-600"}),s.jsx(Xr,{className:"text-green-600 dark:text-green-400",children:"Your Google Drive is connected. You can now upload images directly when adding or editing products."})]})]})]}),s.jsx(ke,{className:"admin-card border-2 border-primary/20",children:s.jsxs(Hj,{open:c,onOpenChange:u,children:[s.jsx(Gj,{asChild:!0,children:s.jsxs(Qe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Qh,{className:"w-5 h-5 text-primary"})}),"AI Assistant",!G.enableAiVoice&&s.jsx(bg,{className:"w-4 h-4 text-muted-foreground ml-2"}),s.jsx(zu,{className:`ml-auto h-5 w-5 transition-transform duration-200 ${c?"transform rotate-180":""}`})]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure AI voice assistant and training data for your store"})]})}),s.jsx(Kj,{children:s.jsxs(Te,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Qh,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"AI Voice Assistant"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:G.enableAiVoice?"Add ElevenLabs conversational AI to your store":"Upgrade to premium to enable"})]})]}),G.enableAiVoice?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{htmlFor:"aiVoiceEmbedCode",className:"text-base",children:"ElevenLabs Embed Code"}),s.jsx(Na,{id:"aiVoiceEmbedCode",placeholder:'<elevenlabs-convai agent-id="your_agent_id"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"><\/script>',value:I.aiVoiceEmbedCode,onChange:xe=>le("aiVoiceEmbedCode",xe.target.value),className:"admin-input min-h-[100px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your ElevenLabs embed code to enable AI voice on your store"})]}):s.jsxs(Yr,{children:[s.jsx(bg,{className:"h-4 w-4"}),s.jsx(Xr,{children:"Premium feature - Upgrade your subscription to enable voice interactions"})]})]}),s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Kc,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Training Data Export"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download store data to train your AI agent"})]})]}),s.jsx("div",{className:"bg-background/50 p-4 rounded-lg border space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Kc,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export includes store info, policies, products, and variants - ready for AI training"})]})}),s.jsx(oe,{type:"button",onClick:_e,disabled:r||!a,className:"w-full admin-button-primary",size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Qd,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating File..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Download Training Data (TXT)"]})})]})]})})]})}),s.jsx(Hj,{open:o,onOpenChange:l,children:s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Qe,{children:[s.jsx(Gj,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Qh,{className:"w-5 h-5 text-primary"})}),"Store Policies"]}),s.jsx(zu,{className:`w-5 h-5 text-muted-foreground transition-transform duration-200 ${o?"transform rotate-180":""}`})]})}),s.jsx("p",{className:"text-muted-foreground text-left mt-2",children:"Define your store policies and terms"})]}),s.jsx(Kj,{children:s.jsx(Te,{className:"space-y-6",children:Fe.map((xe,He)=>s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:xe.key,children:xe.label}),s.jsx(Na,{id:xe.key,placeholder:xe.placeholder,value:String(I[xe.key]||""),onChange:ot=>le(xe.key,ot.target.value),className:"admin-input min-h-[120px] mt-2"})]},He))})})]})}),s.jsx(ke,{className:"admin-card bg-muted/50",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Qd,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Image Upload Tips"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Upload images to Google Drive and use the sharing link"}),s.jsx("li",{children:' Make sure images are set to "Anyone with the link can view"'}),s.jsx("li",{children:" Recommended logo size: 200x80px (PNG/JPG)"}),s.jsx("li",{children:" Recommended hero banner: 1920x450px (JPG/PNG)"})]})]})]})})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(oe,{type:"submit",className:"admin-button-primary min-w-[150px]",disabled:e,children:e?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]}),s.jsx(wn,{open:P==="razorpay",onOpenChange:xe=>!xe&&A(null),children:s.jsxs(gn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(In,{className:"w-5 h-5 text-blue-600"})}),"Configure Razorpay"]}),s.jsx(ls,{children:"Enter your Razorpay API credentials to enable payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Razorpay"}),s.jsx(Gr,{checked:I.razorpay_enabled,onCheckedChange:xe=>U(He=>({...He,razorpay_enabled:xe}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"razorpay_key_id",children:"Key ID"}),s.jsx(Ve,{id:"razorpay_key_id",type:"text",placeholder:"Enter your Razorpay Key ID",value:I.razorpay_key_id,onChange:xe=>le("razorpay_key_id",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Razorpay Dashboard  Settings  API Keys"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"razorpay_key_secret",children:"Key Secret"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"razorpay_key_secret",type:D.razorpay_key_secret?"text":"password",placeholder:"",value:I.razorpay_key_secret,onChange:xe=>le("razorpay_key_secret",xe.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(xe=>({...xe,razorpay_key_secret:!xe.razorpay_key_secret})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.razorpay_key_secret?s.jsx(Ch,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://razorpay.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://razorpay.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com/docs"})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(oe,{type:"button",onClick:()=>{A(null),Me({title:"Razorpay Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(wn,{open:P==="phonepe",onOpenChange:xe=>!xe&&A(null),children:s.jsxs(gn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsx(In,{className:"w-5 h-5 text-purple-600"})}),"Configure PhonePe"]}),s.jsx(ls,{children:"Enter your PhonePe credentials to enable UPI payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable PhonePe"}),s.jsx(Gr,{checked:I.phonepe_enabled,onCheckedChange:xe=>U(He=>({...He,phonepe_enabled:xe}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),s.jsx(Ve,{id:"phonepe_merchant_id",type:"text",placeholder:"M123456789012345",value:I.phonepe_merchant_id,onChange:xe=>le("phonepe_merchant_id",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PhonePe Business Dashboard"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"phonepe_salt_key",type:D.phonepe_salt_key?"text":"password",placeholder:"",value:I.phonepe_salt_key,onChange:xe=>le("phonepe_salt_key",xe.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(xe=>({...xe,phonepe_salt_key:!xe.phonepe_salt_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.phonepe_salt_key?s.jsx(Ch,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),s.jsx(Ve,{id:"phonepe_salt_index",type:"text",placeholder:"1",value:I.phonepe_salt_index,onChange:xe=>le("phonepe_salt_index",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usually 1 or 2, check your PhonePe dashboard"})]}),s.jsxs(Yr,{className:"bg-purple-500/5 border-purple-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.phonepe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"business.phonepe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.phonepe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"developer.phonepe.com/docs"})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(oe,{type:"button",onClick:()=>{A(null),Me({title:"PhonePe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(wn,{open:P==="cashfree",onOpenChange:xe=>!xe&&A(null),children:s.jsxs(gn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(In,{className:"w-5 h-5 text-green-600"})}),"Configure Cashfree"]}),s.jsx(ls,{children:"Enter your Cashfree credentials for payments & payouts"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Cashfree"}),s.jsx(Gr,{checked:I.cashfree_enabled,onCheckedChange:xe=>U(He=>({...He,cashfree_enabled:xe}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"cashfree_app_id",children:"App ID"}),s.jsx(Ve,{id:"cashfree_app_id",type:"text",placeholder:"12345abcdef67890ghij",value:I.cashfree_app_id,onChange:xe=>le("cashfree_app_id",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Cashfree Dashboard  Credentials"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"cashfree_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"cashfree_secret_key",type:D.cashfree_secret_key?"text":"password",placeholder:"",value:I.cashfree_secret_key,onChange:xe=>le("cashfree_secret_key",xe.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(xe=>({...xe,cashfree_secret_key:!xe.cashfree_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.cashfree_secret_key?s.jsx(Ch,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-green-500/5 border-green-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"cashfree.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://docs.cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"docs.cashfree.com"})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(oe,{type:"button",onClick:()=>{A(null),Me({title:"Cashfree Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(wn,{open:P==="payu",onOpenChange:xe=>!xe&&A(null),children:s.jsxs(gn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsx(In,{className:"w-5 h-5 text-orange-600"})}),"Configure PayU"]}),s.jsx(ls,{children:"Enter your PayU merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable PayU"}),s.jsx(Gr,{checked:I.payu_enabled,onCheckedChange:xe=>U(He=>({...He,payu_enabled:xe}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"payu_merchant_key",children:"Merchant Key"}),s.jsx(Ve,{id:"payu_merchant_key",type:"text",placeholder:"gtKFFx",value:I.payu_merchant_key,onChange:xe=>le("payu_merchant_key",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PayU Dashboard  Settings  API Credentials"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"payu_merchant_salt",children:"Merchant Salt"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"payu_merchant_salt",type:D.payu_merchant_salt?"text":"password",placeholder:"",value:I.payu_merchant_salt,onChange:xe=>le("payu_merchant_salt",xe.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(xe=>({...xe,payu_merchant_salt:!xe.payu_merchant_salt})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.payu_merchant_salt?s.jsx(Ch,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-orange-500/5 border-orange-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"payu.in"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://devguide.payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"devguide.payu.in"})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(oe,{type:"button",onClick:()=>{A(null),Me({title:"PayU Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(wn,{open:P==="paytm",onOpenChange:xe=>!xe&&A(null),children:s.jsxs(gn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:s.jsx(In,{className:"w-5 h-5 text-sky-600"})}),"Configure Paytm"]}),s.jsx(ls,{children:"Enter your Paytm merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Paytm"}),s.jsx(Gr,{checked:I.paytm_enabled,onCheckedChange:xe=>U(He=>({...He,paytm_enabled:xe}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"paytm_merchant_id",children:"Merchant ID"}),s.jsx(Ve,{id:"paytm_merchant_id",type:"text",placeholder:"YOUR_MID_HERE",value:I.paytm_merchant_id,onChange:xe=>le("paytm_merchant_id",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Paytm Dashboard  Developer Settings"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"paytm_merchant_key",children:"Merchant Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"paytm_merchant_key",type:D.paytm_merchant_key?"text":"password",placeholder:"",value:I.paytm_merchant_key,onChange:xe=>le("paytm_merchant_key",xe.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(xe=>({...xe,paytm_merchant_key:!xe.paytm_merchant_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.paytm_merchant_key?s.jsx(Ch,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Yr,{className:"bg-sky-500/5 border-sky-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.paytm.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"business.paytm.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.paytm.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"developer.paytm.com/docs"})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(oe,{type:"button",onClick:()=>{A(null),Me({title:"Paytm Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(wn,{open:P==="stripe",onOpenChange:xe=>!xe&&A(null),children:s.jsxs(gn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:s.jsx(In,{className:"w-5 h-5 text-indigo-600"})}),"Configure Stripe"]}),s.jsx(ls,{children:"Enter your Stripe API keys for global payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Stripe"}),s.jsx(Gr,{checked:I.stripe_enabled,onCheckedChange:xe=>U(He=>({...He,stripe_enabled:xe}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"stripe_publishable_key",children:"Publishable Key"}),s.jsx(Ve,{id:"stripe_publishable_key",type:"text",placeholder:"Enter your Stripe publishable key",value:I.stripe_publishable_key,onChange:xe=>le("stripe_publishable_key",xe.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Stripe Dashboard  Developers  API Keys (starts with pk_)"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"stripe_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"stripe_secret_key",type:D.stripe_secret_key?"text":"password",placeholder:"Enter your Stripe secret key",value:I.stripe_secret_key,onChange:xe=>le("stripe_secret_key",xe.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(xe=>({...xe,stripe_secret_key:!xe.stripe_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:D.stripe_secret_key?s.jsx(Ch,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly. (starts with sk_)"})]}),s.jsxs(Yr,{className:"bg-indigo-500/5 border-indigo-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Xr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://stripe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com/docs"})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>A(null),children:"Close"}),s.jsx(oe,{type:"button",onClick:()=>{A(null),Me({title:"Stripe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsxs(ke,{className:"admin-card border-2 border-destructive/50 bg-destructive/5",children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-3 text-destructive",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/20",children:s.jsx(Ls,{className:"w-5 h-5 text-destructive"})}),"Danger Zone"]}),s.jsx("p",{className:"text-muted-foreground",children:"Irreversible and destructive actions"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-background rounded-lg border border-destructive/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Delete My Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account, store, and all associated data"})]}),s.jsxs(oe,{type:"button",variant:"destructive",onClick:()=>f(!0),className:"sm:ml-auto whitespace-nowrap",children:[s.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]}),s.jsx(rCe,{open:d,onClose:()=>f(!1),userEmail:m,storeName:I.storeName})]})})},lCe=ix("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wt({className:e,variant:t,...r}){return s.jsx("div",{className:ft(lCe({variant:t}),e),...r})}function hb(e,[t,r]){return Math.min(r,Math.max(t,e))}var cCe=[" ","Enter","ArrowUp","ArrowDown"],uCe=[" ","Enter"],Sm="Select",[K2,Y2,dCe]=sx(Sm),[mx]=zs(Sm,[dCe,Wf]),X2=Wf(),[fCe,Xf]=mx(Sm),[hCe,mCe]=mx(Sm),cne=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=e,g=X2(t),[v,w]=_.useState(null),[b,j]=_.useState(null),[E,S]=_.useState(!1),C=Kf(u),[k,D]=Ci({prop:n,defaultProp:a??!1,onChange:i,caller:Sm}),[O,P]=Ci({prop:o,defaultProp:l,onChange:c,caller:Sm}),A=_.useRef(null),R=v?y||!!v.closest("form"):!0,[F,L]=_.useState(new Set),W=Array.from(F).map(V=>V.props.value).join(";");return s.jsx(w2,{...g,children:s.jsxs(fCe,{required:p,scope:t,trigger:v,onTriggerChange:w,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:go(),value:O,onValueChange:P,open:k,onOpenChange:D,dir:C,triggerPointerDownPosRef:A,disabled:m,children:[s.jsx(K2.Provider,{scope:t,children:s.jsx(hCe,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(V=>{L(H=>new Set(H).add(V))},[]),onNativeOptionRemove:_.useCallback(V=>{L(H=>{const G=new Set(H);return G.delete(V),G})},[]),children:r})}),R?s.jsxs(Rne,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:V=>P(V.target.value),disabled:m,form:y,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},W):null]})})};cne.displayName=Sm;var une="SelectTrigger",dne=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=X2(r),o=Xf(une,r),l=o.disabled||n,c=Qt(t,o.onTriggerChange),u=Y2(r),d=_.useRef("touch"),[f,m,p]=Ine(g=>{const v=u().filter(j=>!j.disabled),w=v.find(j=>j.value===o.value),b=Mne(v,g,w);b!==void 0&&o.onValueChange(b.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(kw,{asChild:!0,...i,children:s.jsx(At.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Dne(o.value)?"":void 0,...a,ref:c,onClick:ht(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:ht(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ht(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&cCe.includes(g.key)&&(y(),g.preventDefault())})})})});dne.displayName=une;var fne="SelectValue",hne=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Xf(fne,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Qt(t,c.onValueNodeChange);return As(()=>{u(d)},[u,d]),s.jsx(At.span,{...l,ref:f,style:{pointerEvents:"none"},children:Dne(c.value)?s.jsx(s.Fragment,{children:o}):i})});hne.displayName=fne;var pCe="SelectIcon",mne=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(At.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});mne.displayName=pCe;var gCe="SelectPortal",pne=e=>s.jsx(ax,{asChild:!0,...e});pne.displayName=gCe;var km="SelectContent",gne=_.forwardRef((e,t)=>{const r=Xf(km,e.__scopeSelect),[n,a]=_.useState();if(As(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?nx.createPortal(s.jsx(xne,{scope:e.__scopeSelect,children:s.jsx(K2.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(vne,{...e,ref:t})});gne.displayName=km;var nc=10,[xne,Jf]=mx(km),xCe="SelectContentImpl",vCe=jf("SelectContent.RemoveScroll"),vne=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...w}=e,b=Xf(km,r),[j,E]=_.useState(null),[S,C]=_.useState(null),k=Qt(t,fe=>E(fe)),[D,O]=_.useState(null),[P,A]=_.useState(null),R=Y2(r),[F,L]=_.useState(!1),W=_.useRef(!1);_.useEffect(()=>{if(j)return F2(j)},[j]),M2();const V=_.useCallback(fe=>{const[pe,...K]=R().map(B=>B.ref.current),[ee]=K.slice(-1),se=document.activeElement;for(const B of fe)if(B===se||(B?.scrollIntoView({block:"nearest"}),B===pe&&S&&(S.scrollTop=0),B===ee&&S&&(S.scrollTop=S.scrollHeight),B?.focus(),document.activeElement!==se))return},[R,S]),H=_.useCallback(()=>V([D,j]),[V,D,j]);_.useEffect(()=>{F&&H()},[F,H]);const{onOpenChange:G,triggerPointerDownPosRef:I}=b;_.useEffect(()=>{if(j){let fe={x:0,y:0};const pe=ee=>{fe={x:Math.abs(Math.round(ee.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(I.current?.y??0))}},K=ee=>{fe.x<=10&&fe.y<=10?ee.preventDefault():j.contains(ee.target)||G(!1),document.removeEventListener("pointermove",pe),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",K,{capture:!0})}}},[j,G,I]),_.useEffect(()=>{const fe=()=>G(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[G]);const[U,X]=Ine(fe=>{const pe=R().filter(se=>!se.disabled),K=pe.find(se=>se.ref.current===document.activeElement),ee=Mne(pe,fe,K);ee&&setTimeout(()=>ee.ref.current.focus())}),z=_.useCallback((fe,pe,K)=>{const ee=!W.current&&!K;(b.value!==void 0&&b.value===pe||ee)&&(O(fe),ee&&(W.current=!0))},[b.value]),Z=_.useCallback(()=>j?.focus(),[j]),J=_.useCallback((fe,pe,K)=>{const ee=!W.current&&!K;(b.value!==void 0&&b.value===pe||ee)&&A(fe)},[b.value]),Q=n==="popper"?KD:yne,de=Q===KD?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(xne,{scope:r,content:j,viewport:S,onViewportChange:C,itemRefCallback:z,selectedItem:D,onItemLeave:Z,itemTextRefCallback:J,focusSelectedItem:H,selectedItemText:P,position:n,isPositioned:F,searchRef:U,children:s.jsx(Ow,{as:vCe,allowPinchZoom:!0,children:s.jsx(Aw,{asChild:!0,trapped:b.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:ht(a,fe=>{b.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:s.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:fe=>fe.preventDefault(),...w,...de,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ht(w.onKeyDown,fe=>{const pe=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!pe&&fe.key.length===1&&X(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let ee=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const se=fe.target,B=ee.indexOf(se);ee=ee.slice(B+1)}setTimeout(()=>V(ee)),fe.preventDefault()}})})})})})})});vne.displayName=xCe;var yCe="SelectItemAlignedPosition",yne=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Xf(km,r),o=Jf(km,r),[l,c]=_.useState(null),[u,d]=_.useState(null),f=Qt(t,k=>d(k)),m=Y2(r),p=_.useRef(!1),y=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:w,focusSelectedItem:b}=o,j=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&w){const k=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const se=P.left-D.left,B=O.left-se,ie=k.left-B,ae=k.width+ie,Ne=Math.max(ae,D.width),Ee=window.innerWidth-nc,ue=hb(B,[nc,Math.max(nc,Ee-Ne)]);l.style.minWidth=ae+"px",l.style.left=ue+"px"}else{const se=D.right-P.right,B=window.innerWidth-O.right-se,ie=window.innerWidth-k.right-B,ae=k.width+ie,Ne=Math.max(ae,D.width),Ee=window.innerWidth-nc,ue=hb(B,[nc,Math.max(nc,Ee-Ne)]);l.style.minWidth=ae+"px",l.style.right=ue+"px"}const A=m(),R=window.innerHeight-nc*2,F=g.scrollHeight,L=window.getComputedStyle(u),W=parseInt(L.borderTopWidth,10),V=parseInt(L.paddingTop,10),H=parseInt(L.borderBottomWidth,10),G=parseInt(L.paddingBottom,10),I=W+V+F+G+H,U=Math.min(v.offsetHeight*5,I),X=window.getComputedStyle(g),z=parseInt(X.paddingTop,10),Z=parseInt(X.paddingBottom,10),J=k.top+k.height/2-nc,Q=R-J,de=v.offsetHeight/2,fe=v.offsetTop+de,pe=W+V+fe,K=I-pe;if(pe<=J){const se=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const B=u.clientHeight-g.offsetTop-g.offsetHeight,ie=Math.max(Q,de+(se?Z:0)+B+H),ae=pe+ie;l.style.height=ae+"px"}else{const se=A.length>0&&v===A[0].ref.current;l.style.top="0px";const ie=Math.max(J,W+g.offsetTop+(se?z:0)+de)+K;l.style.height=ie+"px",g.scrollTop=pe-J+g.offsetTop}l.style.margin=`${nc}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=R+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,v,w,i.dir,n]);As(()=>j(),[j]);const[E,S]=_.useState();As(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=_.useCallback(k=>{k&&y.current===!0&&(j(),b?.(),y.current=!1)},[j,b]);return s.jsx(wCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(At.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});yne.displayName=yCe;var bCe="SelectPopperPosition",KD=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=nc,...i}=e,o=X2(r);return s.jsx(_2,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KD.displayName=bCe;var[wCe,W5]=mx(km,{}),YD="SelectViewport",bne=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Jf(YD,r),o=W5(YD,r),l=Qt(t,i.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(K2.Slot,{scope:r,children:s.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ht(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-nc*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),w=Math.max(g,v);if(w<y){const b=w+p,j=Math.min(y,b),E=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});bne.displayName=YD;var wne="SelectGroup",[_Ce,jCe]=mx(wne),NCe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=go();return s.jsx(_Ce,{scope:r,id:a,children:s.jsx(At.div,{role:"group","aria-labelledby":a,...n,ref:t})})});NCe.displayName=wne;var _ne="SelectLabel",jne=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jCe(_ne,r);return s.jsx(At.div,{id:a.id,...n,ref:t})});jne.displayName=_ne;var EN="SelectItem",[SCe,Nne]=mx(EN),Sne=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Xf(EN,r),c=Jf(EN,r),u=l.value===n,[d,f]=_.useState(i??""),[m,p]=_.useState(!1),y=Qt(t,b=>c.itemRefCallback?.(b,n,a)),g=go(),v=_.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(SCe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:_.useCallback(b=>{f(j=>j||(b?.textContent??"").trim())},[]),children:s.jsx(K2.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(At.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:ht(o.onFocus,()=>p(!0)),onBlur:ht(o.onBlur,()=>p(!1)),onClick:ht(o.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:ht(o.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:ht(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:ht(o.onPointerMove,b=>{v.current=b.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ht(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ht(o.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(uCe.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});Sne.displayName=EN;var Gv="SelectItemText",kne=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Xf(Gv,r),l=Jf(Gv,r),c=Nne(Gv,r),u=mCe(Gv,r),[d,f]=_.useState(null),m=Qt(t,w=>f(w),c.onItemTextChange,w=>l.itemTextRefCallback?.(w,c.value,c.disabled)),p=d?.textContent,y=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return As(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(At.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?nx.createPortal(i.children,o.valueNode):null]})});kne.displayName=Gv;var Cne="SelectItemIndicator",Ene=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Nne(Cne,r).isSelected?s.jsx(At.span,{"aria-hidden":!0,...n,ref:t}):null});Ene.displayName=Cne;var XD="SelectScrollUpButton",Tne=_.forwardRef((e,t)=>{const r=Jf(XD,e.__scopeSelect),n=W5(XD,e.__scopeSelect),[a,i]=_.useState(!1),o=Qt(t,n.onScrollButtonChange);return As(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Pne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Tne.displayName=XD;var JD="SelectScrollDownButton",Ane=_.forwardRef((e,t)=>{const r=Jf(JD,e.__scopeSelect),n=W5(JD,e.__scopeSelect),[a,i]=_.useState(!1),o=Qt(t,n.onScrollButtonChange);return As(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Pne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ane.displayName=JD;var Pne=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Jf("SelectScrollButton",r),o=_.useRef(null),l=Y2(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),As(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(At.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ht(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ht(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ht(a.onPointerLeave,()=>{c()})})}),kCe="SelectSeparator",One=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(At.div,{"aria-hidden":!0,...n,ref:t})});One.displayName=kCe;var ZD="SelectArrow",CCe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=X2(r),i=Xf(ZD,r),o=Jf(ZD,r);return i.open&&o.position==="popper"?s.jsx(j2,{...a,...n,ref:t}):null});CCe.displayName=ZD;var ECe="SelectBubbleInput",Rne=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=_.useRef(null),i=Qt(n,a),o=Bw(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(At.select,{...r,style:{...FJ,...r.style},ref:i,defaultValue:t})});Rne.displayName=ECe;function Dne(e){return e===""||e===void 0}function Ine(e){const t=Ss(e),r=_.useRef(""),n=_.useRef(0),a=_.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Mne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=TCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function TCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ACe=cne,Fne=dne,PCe=hne,OCe=mne,RCe=pne,Lne=gne,DCe=bne,$ne=jne,Bne=Sne,ICe=kne,MCe=Ene,Une=Tne,Vne=Ane,zne=One;const br=ACe,wr=PCe,mr=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Fne,{ref:n,className:ft("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(OCe,{asChild:!0,children:s.jsx(zu,{className:"h-4 w-4 opacity-50"})})]}));mr.displayName=Fne.displayName;const qne=_.forwardRef(({className:e,...t},r)=>s.jsx(Une,{ref:r,className:ft("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(aZ,{className:"h-4 w-4"})}));qne.displayName=Une.displayName;const Wne=_.forwardRef(({className:e,...t},r)=>s.jsx(Vne,{ref:r,className:ft("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(zu,{className:"h-4 w-4"})}));Wne.displayName=Vne.displayName;const pr=_.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(RCe,{children:s.jsxs(Lne,{ref:a,className:ft("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(qne,{}),s.jsx(DCe,{className:ft("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Wne,{})]})}));pr.displayName=Lne.displayName;const FCe=_.forwardRef(({className:e,...t},r)=>s.jsx($ne,{ref:r,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));FCe.displayName=$ne.displayName;const Ye=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Bne,{ref:n,className:ft("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(MCe,{children:s.jsx(nn,{className:"h-4 w-4"})})}),s.jsx(ICe,{children:t})]}));Ye.displayName=Bne.displayName;const LCe=_.forwardRef(({className:e,...t},r)=>s.jsx(zne,{ref:r,className:ft("-mx-1 my-1 h-px bg-muted",e),...t}));LCe.displayName=zne.displayName;const H5=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:ft("mx-auto flex w-full justify-center",e),...t});H5.displayName="Pagination";const G5=_.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:ft("flex flex-row items-center gap-1",e),...t}));G5.displayName="PaginationContent";const lm=_.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ft("",e),...t}));lm.displayName="PaginationItem";const Uw=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:ft(P2({variant:t?"outline":"ghost",size:r}),e),...n});Uw.displayName="PaginationLink";const K5=({className:e,...t})=>s.jsxs(Uw,{"aria-label":"Go to previous page",size:"default",className:ft("gap-1 pl-2.5",e),...t,children:[s.jsx(u0e,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});K5.displayName="PaginationPrevious";const Y5=({className:e,...t})=>s.jsxs(Uw,{"aria-label":"Go to next page",size:"default",className:ft("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(Nf,{className:"h-4 w-4"})]});Y5.displayName="PaginationNext";const aa=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ft("w-full caption-bottom text-sm",e),...t})}));aa.displayName="Table";const ia=_.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ft("[&_tr]:border-b",e),...t}));ia.displayName="TableHeader";const oa=_.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ft("[&_tr:last-child]:border-0",e),...t}));oa.displayName="TableBody";const $Ce=_.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ft("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$Ce.displayName="TableFooter";const Nr=_.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ft("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Nr.displayName="TableRow";const tt=_.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ft("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tt.displayName="TableHead";const Xe=_.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ft("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xe.displayName="TableCell";const BCe=_.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ft("mt-4 text-sm text-muted-foreground",e),...t}));BCe.displayName="TableCaption";const UCe=()=>{const e=ur(),t=G2(),[r,n]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState([]),[c,u]=_.useState("all"),[d,f]=_.useState("all"),[m,p]=_.useState(1),y=10,g=async()=>{const k=(await GD()).map(D=>({...D,variantCount:D.variants?.length||0}));n(k),l(k)};_.useEffect(()=>{g();const k=O=>{O.key==="products"&&g()},D=()=>{g()};return window.addEventListener("storage",k),window.addEventListener("focus",D),()=>{window.removeEventListener("storage",k),window.removeEventListener("focus",D)}},[]),_.useEffect(()=>{let k=r.filter(D=>{const O=D.name.toLowerCase().includes(a.toLowerCase())||(D.sku||"").toLowerCase().includes(a.toLowerCase())||D.category.toLowerCase().includes(a.toLowerCase()),P=c==="all"||D.category===c,A=d==="all"||D.status===d;return O&&P&&A});l(k),p(1)},[r,a,c,d]);const v=k=>{switch(k){case"published":return"bg-success/10 text-success";case"draft":return"bg-warning/10 text-warning";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},w=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(k),b=async k=>{await Bke(k);const D=(await GD()).map(O=>({...O,variantCount:O.variants?.length||0}));n(D),Me({title:"Product deleted",description:"Product removed from catalog"})},j=()=>[...new Set(r.map(D=>D.category))].sort(),E=Math.ceil(o.length/y),S=o.slice((m-1)*y,m*y),C=()=>{const k=[];let O=Math.max(1,m-Math.floor(2.5)),P=Math.min(E,O+5-1);P-O+1<5&&(O=Math.max(1,P-5+1));for(let A=O;A<=P;A++)k.push(A);return k};return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Products"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Manage your product catalog"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs(oe,{onClick:()=>e("/admin/products/add"),className:"touch-target flex-1 sm:flex-initial",children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Products Used"}),s.jsxs("span",{className:"font-semibold text-foreground",children:[r.length," / ",t.maxProducts||""]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-success h-2 rounded-full transition-all",style:{width:`${Math.min(r.length/(t.maxProducts||r.length||1)*100,100)}%`}})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Total Products"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.length})]}),s.jsx(Un,{className:"w-6 h-6 lg:w-8 lg:h-8 text-primary flex-shrink-0 ml-2"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Published"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(k=>k.status==="published").length})]}),s.jsx($s,{className:"w-6 h-6 lg:w-8 lg:h-8 text-success flex-shrink-0 ml-2"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Drafts"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(k=>k.status==="draft").length})]}),s.jsx(Xu,{className:"w-6 h-6 lg:w-8 lg:h-8 text-warning flex-shrink-0 ml-2"})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Ve,{placeholder:"Search products by name, SKU, or category...",value:a,onChange:k=>i(k.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(br,{value:c,onValueChange:u,children:[s.jsxs(mr,{className:"w-full sm:w-[180px]",children:[s.jsx(LR,{className:"w-4 h-4 mr-2"}),s.jsx(wr,{placeholder:"Category"})]}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Categories"}),j().map(k=>s.jsx(Ye,{value:k,children:k},k))]})]}),s.jsxs(br,{value:d,onValueChange:f,children:[s.jsx(mr,{className:"w-full sm:w-[150px]",children:s.jsx(wr,{placeholder:"Status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Status"}),s.jsx(Ye,{value:"published",children:"Published"}),s.jsx(Ye,{value:"draft",children:"Draft"}),s.jsx(Ye,{value:"inactive",children:"Inactive"})]})]})]})]})})}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(et,{children:["Product List (",o.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",m," of ",E]})]})}),s.jsxs(Te,{children:[o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Un,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Start by adding your first product to your catalog":"Try adjusting your search criteria"}),r.length===0&&s.jsxs(oe,{onClick:()=>e("/admin/products/add"),children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{className:"hover:bg-transparent",children:[s.jsx(tt,{className:"min-w-[200px]",children:"Product"}),s.jsx(tt,{className:"hidden sm:table-cell",children:"Category"}),s.jsx(tt,{className:"hidden md:table-cell",children:"Variants"}),s.jsx(tt,{children:"Price"}),s.jsx(tt,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:S.map(k=>s.jsxs(Nr,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>e(`/admin/products/edit/${k.id}`),children:[s.jsx(Xe,{className:"min-w-[200px]",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Un,{className:"w-4 h-4 lg:w-5 lg:h-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-foreground text-sm lg:text-base truncate",children:k.name}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground font-mono truncate",children:k.sku})]})]})}),s.jsx(Xe,{className:"hidden sm:table-cell",children:s.jsx(wt,{variant:"outline",className:"text-xs",children:k.category})}),s.jsx(Xe,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(g0e,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:k.variantCount||0})]})}),s.jsx(Xe,{className:"font-semibold text-sm whitespace-nowrap",children:k.priceRange||(k.basePrice?w(k.basePrice):"")}),s.jsx(Xe,{className:"hidden lg:table-cell",children:s.jsx(wt,{className:v(k.status),variant:"outline",children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[s.jsx(oe,{variant:"ghost",size:"sm",title:"View Details",onClick:D=>{D.stopPropagation(),window.open(`/products/${k.id}`,"_blank")},className:"h-8 w-8 p-0",children:s.jsx($s,{className:"w-4 h-4"})}),s.jsx(oe,{variant:"ghost",size:"sm",title:"Edit Product",onClick:D=>{D.stopPropagation(),e(`/admin/products/edit/${k.id}`)},className:"h-8 w-8 p-0",children:s.jsx(Xu,{className:"w-4 h-4"})}),s.jsx(oe,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8 p-0",onClick:D=>{D.stopPropagation(),b(k.id)},title:"Delete Product",children:s.jsx(Fn,{className:"w-4 h-4"})})]})})]},k.id))})]})}),o.length>y&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(H5,{children:s.jsxs(G5,{children:[s.jsx(lm,{children:s.jsx(K5,{onClick:()=>p(k=>Math.max(1,k-1)),className:m===1?"pointer-events-none opacity-50":"cursor-pointer"})}),C().map(k=>s.jsx(lm,{children:s.jsx(Uw,{onClick:()=>p(k),isActive:m===k,className:"cursor-pointer",children:k})},k)),s.jsx(lm,{children:s.jsx(Y5,{onClick:()=>p(k=>Math.min(E,k+1)),className:m===E?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})]})})};var Vw=e=>e.type==="checkbox",Hh=e=>e instanceof Date,Fi=e=>e==null;const Hne=e=>typeof e=="object";var Vs=e=>!Fi(e)&&!Array.isArray(e)&&Hne(e)&&!Hh(e),Gne=e=>Vs(e)&&e.target?Vw(e.target)?e.target.checked:e.target.value:e,VCe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Kne=(e,t)=>e.has(VCe(t)),zCe=e=>{const t=e.constructor&&e.constructor.prototype;return Vs(t)&&t.hasOwnProperty("isPrototypeOf")},X5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ga(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(X5&&(e instanceof Blob||n))&&(r||Vs(e)))if(t=r?[]:{},!r&&!zCe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ga(e[a]));else return e;return t}var J2=e=>/^\w*$/.test(e),Fs=e=>e===void 0,J5=e=>Array.isArray(e)?e.filter(Boolean):[],Z5=e=>J5(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Tt=(e,t,r)=>{if(!t||!Vs(e))return r;const n=(J2(t)?[t]:Z5(t)).reduce((a,i)=>Fi(a)?a:a[i],e);return Fs(n)||n===e?Fs(e[t])?r:e[t]:n},Mo=e=>typeof e=="boolean",Sn=(e,t,r)=>{let n=-1;const a=J2(t)?[t]:Z5(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Vs(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const TN={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Eu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Q5=ce.createContext(null);Q5.displayName="HookFormContext";const Z2=()=>ce.useContext(Q5),qCe=e=>{const{children:t,...r}=e;return ce.createElement(Q5.Provider,{value:r},t)};var Yne=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==cc.all&&(t._proxyFormState[o]=!n||cc.all),r&&(r[o]=!0),e[o]}});return a};const eF=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function WCe(e){const t=Z2(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=ce.useState(r._formState),c=ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return eF(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),ce.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ce.useMemo(()=>Yne(o,r,c.current,!1),[o,r])}var Wc=e=>typeof e=="string",Xne=(e,t,r,n,a)=>Wc(e)?(n&&t.watch.add(e),Tt(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Tt(r,i))):(n&&(t.watchAll=!0),r),QD=e=>Fi(e)||!Hne(e);function Iu(e,t,r=new WeakSet){if(QD(e)||QD(t))return e===t;if(Hh(e)&&Hh(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Hh(o)&&Hh(l)||Vs(o)&&Vs(l)||Array.isArray(o)&&Array.isArray(l)?!Iu(o,l,r):o!==l)return!1}}return!0}function HCe(e){const t=Z2(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=ce.useRef(a),u=ce.useRef(l),d=ce.useRef(void 0);u.current=l;const f=ce.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=ce.useState(u.current?u.current(f):f);return eF(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=Xne(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Iu(v,d.current)||(p(v),d.current=v)}else p(g)}}}),[r,i,n,o]),ce.useEffect(()=>r._removeUnmounted()),m}function GCe(e){const t=Z2(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=Kne(a._names.array,r),c=ce.useMemo(()=>Tt(a._formValues,r,Tt(a._defaultValues,r,o)),[a,r,o]),u=HCe({control:a,name:r,defaultValue:c,exact:!0}),d=WCe({control:a,name:r,exact:!0}),f=ce.useRef(e),m=ce.useRef(a.register(r,{...e.rules,value:u,...Mo(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Tt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Tt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Tt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Tt(d.validatingFields,r)},error:{enumerable:!0,get:()=>Tt(d.errors,r)}}),[d,r]),y=ce.useCallback(b=>m.current.onChange({target:{value:Gne(b),name:r},type:TN.CHANGE}),[r]),g=ce.useCallback(()=>m.current.onBlur({target:{value:Tt(a._formValues,r),name:r},type:TN.BLUR}),[r,a._formValues]),v=ce.useCallback(b=>{const j=Tt(a._fields,r);j&&b&&(j._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:E=>b.setCustomValidity(E),reportValidity:()=>b.reportValidity()})},[a._fields,r]),w=ce.useMemo(()=>({name:r,value:u,...Mo(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:v}),[r,n,d.disabled,y,g,v,u]);return ce.useEffect(()=>{const b=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Mo(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(E,S)=>{const C=Tt(a._fields,E);C&&C._f&&(C._f.mount=S)};if(j(r,!0),b){const E=ga(Tt(a._options.defaultValues,r));Sn(a._defaultValues,r,E),Fs(Tt(a._formValues,r))&&Sn(a._formValues,r,E)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):j(r,!1)}},[r,a,l,i]),ce.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ce.useMemo(()=>({field:w,formState:d,fieldState:p}),[w,d,p])}const KCe=e=>e.render(GCe(e));var Jne=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},wy=e=>Array.isArray(e)?e:[e],m7=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},io=e=>Vs(e)&&!Object.keys(e).length,tF=e=>e.type==="file",uc=e=>typeof e=="function",AN=e=>{if(!X5)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Zne=e=>e.type==="select-multiple",rF=e=>e.type==="radio",YCe=e=>rF(e)||Vw(e),zT=e=>AN(e)&&e.isConnected;function XCe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Fs(e)?n++:e[t[n++]];return e}function JCe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fs(e[t]))return!1;return!0}function Gs(e,t){const r=Array.isArray(t)?t:J2(t)?[t]:Z5(t),n=r.length===1?e:XCe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Vs(n)&&io(n)||Array.isArray(n)&&JCe(n))&&Gs(e,r.slice(0,-1)),e}var Qne=e=>{for(const t in e)if(uc(e[t]))return!0;return!1};function PN(e,t={}){const r=Array.isArray(e);if(Vs(e)||r)for(const n in e)Array.isArray(e[n])||Vs(e[n])&&!Qne(e[n])?(t[n]=Array.isArray(e[n])?[]:{},PN(e[n],t[n])):Fi(e[n])||(t[n]=!0);return t}function ese(e,t,r){const n=Array.isArray(e);if(Vs(e)||n)for(const a in e)Array.isArray(e[a])||Vs(e[a])&&!Qne(e[a])?Fs(t)||QD(r[a])?r[a]=Array.isArray(e[a])?PN(e[a],[]):{...PN(e[a])}:ese(e[a],Fi(t)?{}:t[a],r[a]):r[a]=!Iu(e[a],t[a]);return r}var vv=(e,t)=>ese(e,t,PN(t));const p7={value:!1,isValid:!1},g7={value:!0,isValid:!0};var tse=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fs(e[0].attributes.value)?Fs(e[0].value)||e[0].value===""?g7:{value:e[0].value,isValid:!0}:g7:p7}return p7},rse=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Fs(e)?e:t?e===""?NaN:e&&+e:r&&Wc(e)?new Date(e):n?n(e):e;const x7={isValid:!1,value:null};var nse=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,x7):x7;function v7(e){const t=e.ref;return tF(t)?t.files:rF(t)?nse(e.refs).value:Zne(t)?[...t.selectedOptions].map(({value:r})=>r):Vw(t)?tse(e.refs).value:rse(Fs(t.value)?e.ref.value:t.value,e)}var ZCe=(e,t,r,n)=>{const a={};for(const i of e){const o=Tt(t,i);o&&Sn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},ON=e=>e instanceof RegExp,yv=e=>Fs(e)?e:ON(e)?e.source:Vs(e)?ON(e.value)?e.value.source:e.value:e,y7=e=>({isOnSubmit:!e||e===cc.onSubmit,isOnBlur:e===cc.onBlur,isOnChange:e===cc.onChange,isOnAll:e===cc.all,isOnTouch:e===cc.onTouched});const b7="AsyncFunction";var QCe=e=>!!e&&!!e.validate&&!!(uc(e.validate)&&e.validate.constructor.name===b7||Vs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===b7)),eEe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),w7=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const _y=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Tt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(_y(l,t))break}else if(Vs(l)&&_y(l,t))break}}};function _7(e,t,r){const n=Tt(e,r);if(n||J2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Tt(t,i),l=Tt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var tEe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return io(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||cc.all))},rEe=(e,t,r)=>!e||!t||e===t||wy(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),nEe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,sEe=(e,t)=>!J5(Tt(e,t)).length&&Gs(e,t),aEe=(e,t,r)=>{const n=wy(Tt(e,r));return Sn(n,"root",t[r]),Sn(e,r,n),e},Yj=e=>Wc(e);function j7(e,t,r="validate"){if(Yj(e)||Array.isArray(e)&&e.every(Yj)||Mo(e)&&!e)return{type:r,message:Yj(e)?e:"",ref:t}}var ag=e=>Vs(e)&&!ON(e)?e:{value:e,message:""},N7=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:y,name:g,valueAsNumber:v,mount:w}=e._f,b=Tt(r,g);if(!w||t.has(g))return{};const j=l?l[0]:o,E=R=>{a&&j.reportValidity&&(j.setCustomValidity(Mo(R)?"":R||""),j.reportValidity())},S={},C=rF(o),k=Vw(o),D=C||k,O=(v||tF(o))&&Fs(o.value)&&Fs(b)||AN(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,P=Jne.bind(null,g,n,S),A=(R,F,L,W=Eu.maxLength,V=Eu.minLength)=>{const H=R?F:L;S[g]={type:R?W:V,message:H,ref:o,...P(R?W:V,H)}};if(i?!Array.isArray(b)||!b.length:c&&(!D&&(O||Fi(b))||Mo(b)&&!b||k&&!tse(l).isValid||C&&!nse(l).isValid)){const{value:R,message:F}=Yj(c)?{value:!!c,message:c}:ag(c);if(R&&(S[g]={type:Eu.required,message:F,ref:j,...P(Eu.required,F)},!n))return E(F),S}if(!O&&(!Fi(f)||!Fi(m))){let R,F;const L=ag(m),W=ag(f);if(!Fi(b)&&!isNaN(b)){const V=o.valueAsNumber||b&&+b;Fi(L.value)||(R=V>L.value),Fi(W.value)||(F=V<W.value)}else{const V=o.valueAsDate||new Date(b),H=U=>new Date(new Date().toDateString()+" "+U),G=o.type=="time",I=o.type=="week";Wc(L.value)&&b&&(R=G?H(b)>H(L.value):I?b>L.value:V>new Date(L.value)),Wc(W.value)&&b&&(F=G?H(b)<H(W.value):I?b<W.value:V<new Date(W.value))}if((R||F)&&(A(!!R,L.message,W.message,Eu.max,Eu.min),!n))return E(S[g].message),S}if((u||d)&&!O&&(Wc(b)||i&&Array.isArray(b))){const R=ag(u),F=ag(d),L=!Fi(R.value)&&b.length>+R.value,W=!Fi(F.value)&&b.length<+F.value;if((L||W)&&(A(L,R.message,F.message),!n))return E(S[g].message),S}if(p&&!O&&Wc(b)){const{value:R,message:F}=ag(p);if(ON(R)&&!b.match(R)&&(S[g]={type:Eu.pattern,message:F,ref:o,...P(Eu.pattern,F)},!n))return E(F),S}if(y){if(uc(y)){const R=await y(b,r),F=j7(R,j);if(F&&(S[g]={...F,...P(Eu.validate,F.message)},!n))return E(F.message),S}else if(Vs(y)){let R={};for(const F in y){if(!io(R)&&!n)break;const L=j7(await y[F](b,r),j,F);L&&(R={...L,...P(F,L.message)},E(L.message),n&&(S[g]=R))}if(!io(R)&&(S[g]={ref:j,...R},!n))return S}}return E(!0),S};const iEe={mode:cc.onSubmit,reValidateMode:cc.onChange,shouldFocusError:!0};function oEe(e={}){let t={...iEe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:uc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Vs(t.defaultValues)||Vs(t.values)?ga(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ga(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:m7(),state:m7()},p=t.criteriaMode===cc.all,y=le=>we=>{clearTimeout(u),u=setTimeout(le,we)},g=async le=>{if(!t.disabled&&(d.isValid||f.isValid||le)){const we=t.resolver?io((await k()).errors):await O(n,!0);we!==r.isValid&&m.state.next({isValid:we})}},v=(le,we)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((le||Array.from(l.mount)).forEach(Oe=>{Oe&&(we?Sn(r.validatingFields,Oe,we):Gs(r.validatingFields,Oe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!io(r.validatingFields)}))},w=(le,we=[],Oe,Ge,Ze=!0,Se=!0)=>{if(Ge&&Oe&&!t.disabled){if(o.action=!0,Se&&Array.isArray(Tt(n,le))){const te=Oe(Tt(n,le),Ge.argA,Ge.argB);Ze&&Sn(n,le,te)}if(Se&&Array.isArray(Tt(r.errors,le))){const te=Oe(Tt(r.errors,le),Ge.argA,Ge.argB);Ze&&Sn(r.errors,le,te),sEe(r.errors,le)}if((d.touchedFields||f.touchedFields)&&Se&&Array.isArray(Tt(r.touchedFields,le))){const te=Oe(Tt(r.touchedFields,le),Ge.argA,Ge.argB);Ze&&Sn(r.touchedFields,le,te)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=vv(a,i)),m.state.next({name:le,isDirty:A(le,we),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Sn(i,le,we)},b=(le,we)=>{Sn(r.errors,le,we),m.state.next({errors:r.errors})},j=le=>{r.errors=le,m.state.next({errors:r.errors,isValid:!1})},E=(le,we,Oe,Ge)=>{const Ze=Tt(n,le);if(Ze){const Se=Tt(i,le,Fs(Oe)?Tt(a,le):Oe);Fs(Se)||Ge&&Ge.defaultChecked||we?Sn(i,le,we?Se:v7(Ze._f)):L(le,Se),o.mount&&g()}},S=(le,we,Oe,Ge,Ze)=>{let Se=!1,te=!1;const _e={name:le};if(!t.disabled){if(!Oe||Ge){(d.isDirty||f.isDirty)&&(te=r.isDirty,r.isDirty=_e.isDirty=A(),Se=te!==_e.isDirty);const he=Iu(Tt(a,le),we);te=!!Tt(r.dirtyFields,le),he?Gs(r.dirtyFields,le):Sn(r.dirtyFields,le,!0),_e.dirtyFields=r.dirtyFields,Se=Se||(d.dirtyFields||f.dirtyFields)&&te!==!he}if(Oe){const he=Tt(r.touchedFields,le);he||(Sn(r.touchedFields,le,Oe),_e.touchedFields=r.touchedFields,Se=Se||(d.touchedFields||f.touchedFields)&&he!==Oe)}Se&&Ze&&m.state.next(_e)}return Se?_e:{}},C=(le,we,Oe,Ge)=>{const Ze=Tt(r.errors,le),Se=(d.isValid||f.isValid)&&Mo(we)&&r.isValid!==we;if(t.delayError&&Oe?(c=y(()=>b(le,Oe)),c(t.delayError)):(clearTimeout(u),c=null,Oe?Sn(r.errors,le,Oe):Gs(r.errors,le)),(Oe?!Iu(Ze,Oe):Ze)||!io(Ge)||Se){const te={...Ge,...Se&&Mo(we)?{isValid:we}:{},errors:r.errors,name:le};r={...r,...te},m.state.next(te)}},k=async le=>{v(le,!0);const we=await t.resolver(i,t.context,ZCe(le||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(le),we},D=async le=>{const{errors:we}=await k(le);if(le)for(const Oe of le){const Ge=Tt(we,Oe);Ge?Sn(r.errors,Oe,Ge):Gs(r.errors,Oe)}else r.errors=we;return we},O=async(le,we,Oe={valid:!0})=>{for(const Ge in le){const Ze=le[Ge];if(Ze){const{_f:Se,...te}=Ze;if(Se){const _e=l.array.has(Se.name),he=Ze._f&&QCe(Ze._f);he&&d.validatingFields&&v([Ge],!0);const Re=await N7(Ze,l.disabled,i,p,t.shouldUseNativeValidation&&!we,_e);if(he&&d.validatingFields&&v([Ge]),Re[Se.name]&&(Oe.valid=!1,we))break;!we&&(Tt(Re,Se.name)?_e?aEe(r.errors,Re,Se.name):Sn(r.errors,Se.name,Re[Se.name]):Gs(r.errors,Se.name))}!io(te)&&await O(te,we,Oe)}}return Oe.valid},P=()=>{for(const le of l.unMount){const we=Tt(n,le);we&&(we._f.refs?we._f.refs.every(Oe=>!zT(Oe)):!zT(we._f.ref))&&fe(le)}l.unMount=new Set},A=(le,we)=>!t.disabled&&(le&&we&&Sn(i,le,we),!Iu(U(),a)),R=(le,we,Oe)=>Xne(le,l,{...o.mount?i:Fs(we)?a:Wc(le)?{[le]:we}:we},Oe,we),F=le=>J5(Tt(o.mount?i:a,le,t.shouldUnregister?Tt(a,le,[]):[])),L=(le,we,Oe={})=>{const Ge=Tt(n,le);let Ze=we;if(Ge){const Se=Ge._f;Se&&(!Se.disabled&&Sn(i,le,rse(we,Se)),Ze=AN(Se.ref)&&Fi(we)?"":we,Zne(Se.ref)?[...Se.ref.options].forEach(te=>te.selected=Ze.includes(te.value)):Se.refs?Vw(Se.ref)?Se.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(Ze)?te.checked=!!Ze.find(_e=>_e===te.value):te.checked=Ze===te.value||!!Ze)}):Se.refs.forEach(te=>te.checked=te.value===Ze):tF(Se.ref)?Se.ref.value="":(Se.ref.value=Ze,Se.ref.type||m.state.next({name:le,values:ga(i)})))}(Oe.shouldDirty||Oe.shouldTouch)&&S(le,Ze,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&I(le)},W=(le,we,Oe)=>{for(const Ge in we){if(!we.hasOwnProperty(Ge))return;const Ze=we[Ge],Se=le+"."+Ge,te=Tt(n,Se);(l.array.has(le)||Vs(Ze)||te&&!te._f)&&!Hh(Ze)?W(Se,Ze,Oe):L(Se,Ze,Oe)}},V=(le,we,Oe={})=>{const Ge=Tt(n,le),Ze=l.array.has(le),Se=ga(we);Sn(i,le,Se),Ze?(m.array.next({name:le,values:ga(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&m.state.next({name:le,dirtyFields:vv(a,i),isDirty:A(le,Se)})):Ge&&!Ge._f&&!Fi(Se)?W(le,Se,Oe):L(le,Se,Oe),w7(le,l)&&m.state.next({...r,name:le}),m.state.next({name:o.mount?le:void 0,values:ga(i)})},H=async le=>{o.mount=!0;const we=le.target;let Oe=we.name,Ge=!0;const Ze=Tt(n,Oe),Se=he=>{Ge=Number.isNaN(he)||Hh(he)&&isNaN(he.getTime())||Iu(he,Tt(i,Oe,he))},te=y7(t.mode),_e=y7(t.reValidateMode);if(Ze){let he,Re;const De=we.type?v7(Ze._f):Gne(le),Fe=le.type===TN.BLUR||le.type===TN.FOCUS_OUT,xe=!eEe(Ze._f)&&!t.resolver&&!Tt(r.errors,Oe)&&!Ze._f.deps||nEe(Fe,Tt(r.touchedFields,Oe),r.isSubmitted,_e,te),He=w7(Oe,l,Fe);Sn(i,Oe,De),Fe?(Ze._f.onBlur&&Ze._f.onBlur(le),c&&c(0)):Ze._f.onChange&&Ze._f.onChange(le);const ot=S(Oe,De,Fe),_t=!io(ot)||He;if(!Fe&&m.state.next({name:Oe,type:le.type,values:ga(i)}),xe)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Fe&&g():Fe||g()),_t&&m.state.next({name:Oe,...He?{}:ot});if(!Fe&&He&&m.state.next({...r}),t.resolver){const{errors:at}=await k([Oe]);if(Se(De),Ge){const Xt=_7(r.errors,n,Oe),Mt=_7(at,n,Xt.name||Oe);he=Mt.error,Oe=Mt.name,Re=io(at)}}else v([Oe],!0),he=(await N7(Ze,l.disabled,i,p,t.shouldUseNativeValidation))[Oe],v([Oe]),Se(De),Ge&&(he?Re=!1:(d.isValid||f.isValid)&&(Re=await O(n,!0)));Ge&&(Ze._f.deps&&I(Ze._f.deps),C(Oe,Re,he,ot))}},G=(le,we)=>{if(Tt(r.errors,we)&&le.focus)return le.focus(),1},I=async(le,we={})=>{let Oe,Ge;const Ze=wy(le);if(t.resolver){const Se=await D(Fs(le)?le:Ze);Oe=io(Se),Ge=le?!Ze.some(te=>Tt(Se,te)):Oe}else le?(Ge=(await Promise.all(Ze.map(async Se=>{const te=Tt(n,Se);return await O(te&&te._f?{[Se]:te}:te)}))).every(Boolean),!(!Ge&&!r.isValid)&&g()):Ge=Oe=await O(n);return m.state.next({...!Wc(le)||(d.isValid||f.isValid)&&Oe!==r.isValid?{}:{name:le},...t.resolver||!le?{isValid:Oe}:{},errors:r.errors}),we.shouldFocus&&!Ge&&_y(n,G,le?Ze:l.mount),Ge},U=le=>{const we={...o.mount?i:a};return Fs(le)?we:Wc(le)?Tt(we,le):le.map(Oe=>Tt(we,Oe))},X=(le,we)=>({invalid:!!Tt((we||r).errors,le),isDirty:!!Tt((we||r).dirtyFields,le),error:Tt((we||r).errors,le),isValidating:!!Tt(r.validatingFields,le),isTouched:!!Tt((we||r).touchedFields,le)}),z=le=>{le&&wy(le).forEach(we=>Gs(r.errors,we)),m.state.next({errors:le?r.errors:{}})},Z=(le,we,Oe)=>{const Ge=(Tt(n,le,{_f:{}})._f||{}).ref,Ze=Tt(r.errors,le)||{},{ref:Se,message:te,type:_e,...he}=Ze;Sn(r.errors,le,{...he,...we,ref:Ge}),m.state.next({name:le,errors:r.errors,isValid:!1}),Oe&&Oe.shouldFocus&&Ge&&Ge.focus&&Ge.focus()},J=(le,we)=>uc(le)?m.state.subscribe({next:Oe=>"values"in Oe&&le(R(void 0,we),Oe)}):R(le,we,!0),Q=le=>m.state.subscribe({next:we=>{rEe(le.name,we.name,le.exact)&&tEe(we,le.formState||d,ue,le.reRenderRoot)&&le.callback({values:{...i},...r,...we,defaultValues:a})}}).unsubscribe,de=le=>(o.mount=!0,f={...f,...le.formState},Q({...le,formState:f})),fe=(le,we={})=>{for(const Oe of le?wy(le):l.mount)l.mount.delete(Oe),l.array.delete(Oe),we.keepValue||(Gs(n,Oe),Gs(i,Oe)),!we.keepError&&Gs(r.errors,Oe),!we.keepDirty&&Gs(r.dirtyFields,Oe),!we.keepTouched&&Gs(r.touchedFields,Oe),!we.keepIsValidating&&Gs(r.validatingFields,Oe),!t.shouldUnregister&&!we.keepDefaultValue&&Gs(a,Oe);m.state.next({values:ga(i)}),m.state.next({...r,...we.keepDirty?{isDirty:A()}:{}}),!we.keepIsValid&&g()},pe=({disabled:le,name:we})=>{(Mo(le)&&o.mount||le||l.disabled.has(we))&&(le?l.disabled.add(we):l.disabled.delete(we))},K=(le,we={})=>{let Oe=Tt(n,le);const Ge=Mo(we.disabled)||Mo(t.disabled);return Sn(n,le,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:le}},name:le,mount:!0,...we}}),l.mount.add(le),Oe?pe({disabled:Mo(we.disabled)?we.disabled:t.disabled,name:le}):E(le,!0,we.value),{...Ge?{disabled:we.disabled||t.disabled}:{},...t.progressive?{required:!!we.required,min:yv(we.min),max:yv(we.max),minLength:yv(we.minLength),maxLength:yv(we.maxLength),pattern:yv(we.pattern)}:{},name:le,onChange:H,onBlur:H,ref:Ze=>{if(Ze){K(le,we),Oe=Tt(n,le);const Se=Fs(Ze.value)&&Ze.querySelectorAll&&Ze.querySelectorAll("input,select,textarea")[0]||Ze,te=YCe(Se),_e=Oe._f.refs||[];if(te?_e.find(he=>he===Se):Se===Oe._f.ref)return;Sn(n,le,{_f:{...Oe._f,...te?{refs:[..._e.filter(zT),Se,...Array.isArray(Tt(a,le))?[{}]:[]],ref:{type:Se.type,name:le}}:{ref:Se}}}),E(le,!1,void 0,Se)}else Oe=Tt(n,le,{}),Oe._f&&(Oe._f.mount=!1),(t.shouldUnregister||we.shouldUnregister)&&!(Kne(l.array,le)&&o.action)&&l.unMount.add(le)}}},ee=()=>t.shouldFocusError&&_y(n,G,l.mount),se=le=>{Mo(le)&&(m.state.next({disabled:le}),_y(n,(we,Oe)=>{const Ge=Tt(n,Oe);Ge&&(we.disabled=Ge._f.disabled||le,Array.isArray(Ge._f.refs)&&Ge._f.refs.forEach(Ze=>{Ze.disabled=Ge._f.disabled||le}))},0,!1))},B=(le,we)=>async Oe=>{let Ge;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let Ze=ga(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Se,values:te}=await k();r.errors=Se,Ze=ga(te)}else await O(n);if(l.disabled.size)for(const Se of l.disabled)Gs(Ze,Se);if(Gs(r.errors,"root"),io(r.errors)){m.state.next({errors:{}});try{await le(Ze,Oe)}catch(Se){Ge=Se}}else we&&await we({...r.errors},Oe),ee(),setTimeout(ee);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:io(r.errors)&&!Ge,submitCount:r.submitCount+1,errors:r.errors}),Ge)throw Ge},ie=(le,we={})=>{Tt(n,le)&&(Fs(we.defaultValue)?V(le,ga(Tt(a,le))):(V(le,we.defaultValue),Sn(a,le,ga(we.defaultValue))),we.keepTouched||Gs(r.touchedFields,le),we.keepDirty||(Gs(r.dirtyFields,le),r.isDirty=we.defaultValue?A(le,ga(Tt(a,le))):A()),we.keepError||(Gs(r.errors,le),d.isValid&&g()),m.state.next({...r}))},ae=(le,we={})=>{const Oe=le?ga(le):a,Ge=ga(Oe),Ze=io(le),Se=Ze?a:Ge;if(we.keepDefaultValues||(a=Oe),!we.keepValues){if(we.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(vv(a,i))]);for(const _e of Array.from(te))Tt(r.dirtyFields,_e)?Sn(Se,_e,Tt(i,_e)):V(_e,Tt(Se,_e))}else{if(X5&&Fs(le))for(const te of l.mount){const _e=Tt(n,te);if(_e&&_e._f){const he=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(AN(he)){const Re=he.closest("form");if(Re){Re.reset();break}}}}if(we.keepFieldsRef)for(const te of l.mount)V(te,Tt(Se,te));else n={}}i=t.shouldUnregister?we.keepDefaultValues?ga(a):{}:ga(Se),m.array.next({values:{...Se}}),m.state.next({values:{...Se}})}l={mount:we.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!we.keepIsValid||!!we.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:we.keepSubmitCount?r.submitCount:0,isDirty:Ze?!1:we.keepDirty?r.isDirty:!!(we.keepDefaultValues&&!Iu(le,a)),isSubmitted:we.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ze?{}:we.keepDirtyValues?we.keepDefaultValues&&i?vv(a,i):r.dirtyFields:we.keepDefaultValues&&le?vv(a,le):we.keepDirty?r.dirtyFields:{},touchedFields:we.keepTouched?r.touchedFields:{},errors:we.keepErrors?r.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ne=(le,we)=>ae(uc(le)?le(i):le,we),Ee=(le,we={})=>{const Oe=Tt(n,le),Ge=Oe&&Oe._f;if(Ge){const Ze=Ge.refs?Ge.refs[0]:Ge.ref;Ze.focus&&(Ze.focus(),we.shouldSelect&&uc(Ze.select)&&Ze.select())}},ue=le=>{r={...r,...le}},Je={control:{register:K,unregister:fe,getFieldState:X,handleSubmit:B,setError:Z,_subscribe:Q,_runSchema:k,_focusError:ee,_getWatch:R,_getDirty:A,_setValid:g,_setFieldArray:w,_setDisabledField:pe,_setErrors:j,_getFieldArray:F,_reset:ae,_resetDefaultValues:()=>uc(t.defaultValues)&&t.defaultValues().then(le=>{Ne(le,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:se,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(le){o=le},get _defaultValues(){return a},get _names(){return l},set _names(le){l=le},get _formState(){return r},get _options(){return t},set _options(le){t={...t,...le}}},subscribe:de,trigger:I,register:K,handleSubmit:B,watch:J,setValue:V,getValues:U,reset:Ne,resetField:ie,clearErrors:z,unregister:fe,setError:Z,setFocus:Ee,getFieldState:X};return{...Je,formControl:Je}}function zw(e={}){const t=ce.useRef(void 0),r=ce.useRef(void 0),[n,a]=ce.useState({isDirty:!1,isValidating:!1,isLoading:uc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:uc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!uc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=oEe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,eF(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ce.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ce.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ce.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ce.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ce.useEffect(()=>{e.values&&!Iu(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ce.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Yne(n,i),t.current}const S7=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Tt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},sse=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?S7(n.ref,r,e):n.refs&&n.refs.forEach(a=>S7(a,r,e))}},lEe=(e,t)=>{t.shouldUseNativeValidation&&sse(e,t);const r={};for(const n in e){const a=Tt(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(cEe(t.names||Object.keys(e),n)){const o=Object.assign({},Tt(r,n));Sn(o,"root",i),Sn(r,n,o)}else Sn(r,n,i)}return r},cEe=(e,t)=>e.some(r=>r.startsWith(t+"."));var uEe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Jne(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},qw=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&sse({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:lEe(uEe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},un;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(un||(un={}));var k7;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(k7||(k7={}));const Gt=un.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kd=e=>{switch(typeof e){case"undefined":return Gt.undefined;case"string":return Gt.string;case"number":return Number.isNaN(e)?Gt.nan:Gt.number;case"boolean":return Gt.boolean;case"function":return Gt.function;case"bigint":return Gt.bigint;case"symbol":return Gt.symbol;case"object":return Array.isArray(e)?Gt.array:e===null?Gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Gt.promise:typeof Map<"u"&&e instanceof Map?Gt.map:typeof Set<"u"&&e instanceof Set?Gt.set:typeof Date<"u"&&e instanceof Date?Gt.date:Gt.object;default:return Gt.unknown}},bt=un.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class td extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof td))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,un.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}td.create=e=>new td(e);const e3=(e,t)=>{let r;switch(e.code){case bt.invalid_type:e.received===Gt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,un.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${un.joinValues(e.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${un.joinValues(e.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${un.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:un.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case bt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case bt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=t.defaultError,un.assertNever(e)}return{message:r}};let dEe=e3;function fEe(){return dEe}const hEe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function It(e,t){const r=fEe(),n=hEe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===e3?void 0:e3].filter(a=>!!a)});e.common.issues.push(n)}class rl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Cr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return rl.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Cr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Cr=Object.freeze({status:"aborted"}),Kv=e=>({status:"dirty",value:e}),Vl=e=>({status:"valid",value:e}),C7=e=>e.status==="aborted",E7=e=>e.status==="dirty",v0=e=>e.status==="valid",RN=e=>typeof Promise<"u"&&e instanceof Promise;var Yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Yt||(Yt={}));class Df{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const T7=(e,t)=>{if(v0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new td(e.common.issues);return this._error=r,this._error}}};function Kr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class on{get description(){return this._def.description}_getType(t){return Kd(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Kd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new rl,ctx:{common:t.parent.common,data:t.data,parsedType:Kd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(RN(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kd(t)},a=this._parseSync({data:t,path:n.path,parent:n});return T7(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kd(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return v0(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>v0(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kd(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(RN(a)?a:Promise.resolve(a));return T7(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:bt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new w0({schema:this,typeName:Tr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return vf.create(this,this._def)}nullable(){return _0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jc.create(this)}promise(){return FN.create(this,this._def)}or(t){return IN.create([this,t],this._def)}and(t){return MN.create(this,t,this._def)}transform(t){return new w0({...Kr(this._def),schema:this,typeName:Tr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new n3({...Kr(this._def),innerType:this,defaultValue:r,typeName:Tr.ZodDefault})}brand(){return new MEe({typeName:Tr.ZodBranded,type:this,...Kr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new s3({...Kr(this._def),innerType:this,catchValue:r,typeName:Tr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return nF.create(this,t)}readonly(){return a3.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mEe=/^c[^\s-]{8,}$/i,pEe=/^[0-9a-z]+$/,gEe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xEe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vEe=/^[a-z0-9_-]{21}$/i,yEe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bEe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wEe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_Ee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qT;const jEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CEe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EEe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ase="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TEe=new RegExp(`^${ase}$`);function ise(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function AEe(e){return new RegExp(`^${ise(e)}$`)}function PEe(e){let t=`${ase}T${ise(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function OEe(e,t){return!!((t==="v4"||!t)&&jEe.test(e)||(t==="v6"||!t)&&SEe.test(e))}function REe(e,t){if(!yEe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function DEe(e,t){return!!((t==="v4"||!t)&&NEe.test(e)||(t==="v6"||!t)&&kEe.test(e))}class Fu extends on{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Gt.string){const i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_type,expected:Gt.string,received:i.parsedType}),Cr}const n=new rl;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),It(a,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),It(a,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?It(a,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&It(a,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")wEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"email",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")qT||(qT=new RegExp(_Ee,"u")),qT.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"emoji",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")xEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"uuid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")vEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"nanoid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")mEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"cuid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")pEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"cuid2",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")gEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"ulid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),It(a,{validation:"url",code:bt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"regex",code:bt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),It(a,{code:bt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),It(a,{code:bt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),It(a,{code:bt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?PEe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{code:bt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?TEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{code:bt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?AEe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{code:bt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?bEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"duration",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?OEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"ip",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?REe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"jwt",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?DEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"cidr",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?CEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"base64",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?EEe.test(t.data)||(a=this._getOrReturnCtx(t,a),It(a,{validation:"base64url",code:bt.invalid_string,message:i.message}),n.dirty()):un.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:bt.invalid_string,...Yt.errToObj(n)})}_addCheck(t){return new Fu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Yt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Yt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Yt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Yt.errToObj(r)})}nonempty(t){return this.min(1,Yt.errToObj(t))}trim(){return new Fu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fu.create=e=>new Fu({checks:[],typeName:Tr.ZodString,coerce:e?.coerce??!1,...Kr(e)});function IEe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Cm extends on{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Gt.number){const i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_type,expected:Gt.number,received:i.parsedType}),Cr}let n;const a=new rl;for(const i of this._def.checks)i.kind==="int"?un.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?IEe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),It(n,{code:bt.not_finite,message:i.message}),a.dirty()):un.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Yt.toString(r))}setLimit(t,r,n,a){return new Cm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Yt.toString(a)}]})}_addCheck(t){return new Cm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&un.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Cm.create=e=>new Cm({checks:[],typeName:Tr.ZodNumber,coerce:e?.coerce||!1,...Kr(e)});class Em extends on{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Gt.bigint)return this._getInvalidInput(t);let n;const a=new rl;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),It(n,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):un.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Gt.bigint,received:r.parsedType}),Cr}gte(t,r){return this.setLimit("min",t,!0,Yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Yt.toString(r))}setLimit(t,r,n,a){return new Em({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Yt.toString(a)}]})}_addCheck(t){return new Em({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Em.create=e=>new Em({checks:[],typeName:Tr.ZodBigInt,coerce:e?.coerce??!1,...Kr(e)});class DN extends on{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Gt.boolean){const n=this._getOrReturnCtx(t);return It(n,{code:bt.invalid_type,expected:Gt.boolean,received:n.parsedType}),Cr}return Vl(t.data)}}DN.create=e=>new DN({typeName:Tr.ZodBoolean,coerce:e?.coerce||!1,...Kr(e)});class y0 extends on{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Gt.date){const i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_type,expected:Gt.date,received:i.parsedType}),Cr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return It(i,{code:bt.invalid_date}),Cr}const n=new rl;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),It(a,{code:bt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),It(a,{code:bt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):un.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new y0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}y0.create=e=>new y0({checks:[],coerce:e?.coerce||!1,typeName:Tr.ZodDate,...Kr(e)});class A7 extends on{_parse(t){if(this._getType(t)!==Gt.symbol){const n=this._getOrReturnCtx(t);return It(n,{code:bt.invalid_type,expected:Gt.symbol,received:n.parsedType}),Cr}return Vl(t.data)}}A7.create=e=>new A7({typeName:Tr.ZodSymbol,...Kr(e)});class P7 extends on{_parse(t){if(this._getType(t)!==Gt.undefined){const n=this._getOrReturnCtx(t);return It(n,{code:bt.invalid_type,expected:Gt.undefined,received:n.parsedType}),Cr}return Vl(t.data)}}P7.create=e=>new P7({typeName:Tr.ZodUndefined,...Kr(e)});class O7 extends on{_parse(t){if(this._getType(t)!==Gt.null){const n=this._getOrReturnCtx(t);return It(n,{code:bt.invalid_type,expected:Gt.null,received:n.parsedType}),Cr}return Vl(t.data)}}O7.create=e=>new O7({typeName:Tr.ZodNull,...Kr(e)});class R7 extends on{constructor(){super(...arguments),this._any=!0}_parse(t){return Vl(t.data)}}R7.create=e=>new R7({typeName:Tr.ZodAny,...Kr(e)});class D7 extends on{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vl(t.data)}}D7.create=e=>new D7({typeName:Tr.ZodUnknown,...Kr(e)});class If extends on{_parse(t){const r=this._getOrReturnCtx(t);return It(r,{code:bt.invalid_type,expected:Gt.never,received:r.parsedType}),Cr}}If.create=e=>new If({typeName:Tr.ZodNever,...Kr(e)});class I7 extends on{_parse(t){if(this._getType(t)!==Gt.undefined){const n=this._getOrReturnCtx(t);return It(n,{code:bt.invalid_type,expected:Gt.void,received:n.parsedType}),Cr}return Vl(t.data)}}I7.create=e=>new I7({typeName:Tr.ZodVoid,...Kr(e)});class Jc extends on{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Gt.array)return It(r,{code:bt.invalid_type,expected:Gt.array,received:r.parsedType}),Cr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(It(r,{code:o?bt.too_big:bt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(It(r,{code:bt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(It(r,{code:bt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Df(r,o,r.path,l)))).then(o=>rl.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Df(r,o,r.path,l)));return rl.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Jc({...this._def,minLength:{value:t,message:Yt.toString(r)}})}max(t,r){return new Jc({...this._def,maxLength:{value:t,message:Yt.toString(r)}})}length(t,r){return new Jc({...this._def,exactLength:{value:t,message:Yt.toString(r)}})}nonempty(t){return this.min(1,t)}}Jc.create=(e,t)=>new Jc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Tr.ZodArray,...Kr(t)});function vg(e){if(e instanceof ea){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=vf.create(vg(n))}return new ea({...e._def,shape:()=>t})}else return e instanceof Jc?new Jc({...e._def,type:vg(e.element)}):e instanceof vf?vf.create(vg(e.unwrap())):e instanceof _0?_0.create(vg(e.unwrap())):e instanceof Tm?Tm.create(e.items.map(t=>vg(t))):e}class ea extends on{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=un.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Gt.object){const u=this._getOrReturnCtx(t);return It(u,{code:bt.invalid_type,expected:Gt.object,received:u.parsedType}),Cr}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof If&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Df(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof If){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(It(a,{code:bt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Df(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>rl.mergeObjectSync(n,u)):rl.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Yt.errToObj,new ea({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Yt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ea({...this._def,unknownKeys:"strip"})}passthrough(){return new ea({...this._def,unknownKeys:"passthrough"})}extend(t){return new ea({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ea({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Tr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ea({...this._def,catchall:t})}pick(t){const r={};for(const n of un.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ea({...this._def,shape:()=>r})}omit(t){const r={};for(const n of un.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ea({...this._def,shape:()=>r})}deepPartial(){return vg(this)}partial(t){const r={};for(const n of un.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new ea({...this._def,shape:()=>r})}required(t){const r={};for(const n of un.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof vf;)i=i._def.innerType;r[n]=i}return new ea({...this._def,shape:()=>r})}keyof(){return ose(un.objectKeys(this.shape))}}ea.create=(e,t)=>new ea({shape:()=>e,unknownKeys:"strip",catchall:If.create(),typeName:Tr.ZodObject,...Kr(t)});ea.strictCreate=(e,t)=>new ea({shape:()=>e,unknownKeys:"strict",catchall:If.create(),typeName:Tr.ZodObject,...Kr(t)});ea.lazycreate=(e,t)=>new ea({shape:e,unknownKeys:"strip",catchall:If.create(),typeName:Tr.ZodObject,...Kr(t)});class IN extends on{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new td(l.ctx.common.issues));return It(r,{code:bt.invalid_union,unionErrors:o}),Cr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new td(c));return It(r,{code:bt.invalid_union,unionErrors:l}),Cr}}get options(){return this._def.options}}IN.create=(e,t)=>new IN({options:e,typeName:Tr.ZodUnion,...Kr(t)});function t3(e,t){const r=Kd(e),n=Kd(t);if(e===t)return{valid:!0,data:e};if(r===Gt.object&&n===Gt.object){const a=un.objectKeys(t),i=un.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=t3(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Gt.array&&n===Gt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=t3(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Gt.date&&n===Gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class MN extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(C7(i)||C7(o))return Cr;const l=t3(i.value,o.value);return l.valid?((E7(i)||E7(o))&&r.dirty(),{status:r.value,value:l.data}):(It(n,{code:bt.invalid_intersection_types}),Cr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}MN.create=(e,t,r)=>new MN({left:e,right:t,typeName:Tr.ZodIntersection,...Kr(r)});class Tm extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Gt.array)return It(n,{code:bt.invalid_type,expected:Gt.array,received:n.parsedType}),Cr;if(n.data.length<this._def.items.length)return It(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Cr;!this._def.rest&&n.data.length>this._def.items.length&&(It(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Df(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>rl.mergeArray(r,o)):rl.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Tm({...this._def,rest:t})}}Tm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tm({items:e,typeName:Tr.ZodTuple,rest:null,...Kr(t)})};class M7 extends on{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Gt.map)return It(n,{code:bt.invalid_type,expected:Gt.map,received:n.parsedType}),Cr;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Df(n,l,n.path,[u,"key"])),value:i._parse(new Df(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Cr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Cr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}M7.create=(e,t,r)=>new M7({valueType:t,keyType:e,typeName:Tr.ZodMap,...Kr(r)});class mb extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Gt.set)return It(n,{code:bt.invalid_type,expected:Gt.set,received:n.parsedType}),Cr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(It(n,{code:bt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(It(n,{code:bt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Cr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Df(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new mb({...this._def,minSize:{value:t,message:Yt.toString(r)}})}max(t,r){return new mb({...this._def,maxSize:{value:t,message:Yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}mb.create=(e,t)=>new mb({valueType:e,minSize:null,maxSize:null,typeName:Tr.ZodSet,...Kr(t)});class F7 extends on{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}F7.create=(e,t)=>new F7({getter:e,typeName:Tr.ZodLazy,...Kr(t)});class r3 extends on{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return It(r,{received:r.data,code:bt.invalid_literal,expected:this._def.value}),Cr}return{status:"valid",value:t.data}}get value(){return this._def.value}}r3.create=(e,t)=>new r3({value:e,typeName:Tr.ZodLiteral,...Kr(t)});function ose(e,t){return new b0({values:e,typeName:Tr.ZodEnum,...Kr(t)})}class b0 extends on{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return It(r,{expected:un.joinValues(n),received:r.parsedType,code:bt.invalid_type}),Cr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return It(r,{received:r.data,code:bt.invalid_enum_value,options:n}),Cr}return Vl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return b0.create(t,{...this._def,...r})}exclude(t,r=this._def){return b0.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}b0.create=ose;class L7 extends on{_parse(t){const r=un.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Gt.string&&n.parsedType!==Gt.number){const a=un.objectValues(r);return It(n,{expected:un.joinValues(a),received:n.parsedType,code:bt.invalid_type}),Cr}if(this._cache||(this._cache=new Set(un.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=un.objectValues(r);return It(n,{received:n.data,code:bt.invalid_enum_value,options:a}),Cr}return Vl(t.data)}get enum(){return this._def.values}}L7.create=(e,t)=>new L7({values:e,typeName:Tr.ZodNativeEnum,...Kr(t)});class FN extends on{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Gt.promise&&r.common.async===!1)return It(r,{code:bt.invalid_type,expected:Gt.promise,received:r.parsedType}),Cr;const n=r.parsedType===Gt.promise?r.data:Promise.resolve(r.data);return Vl(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}FN.create=(e,t)=>new FN({type:e,typeName:Tr.ZodPromise,...Kr(t)});class w0 extends on{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{It(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Cr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Cr:c.status==="dirty"||r.value==="dirty"?Kv(c.value):c});{if(r.value==="aborted")return Cr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Cr:l.status==="dirty"||r.value==="dirty"?Kv(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Cr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Cr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!v0(o))return Cr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>v0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Cr);un.assertNever(a)}}w0.create=(e,t,r)=>new w0({schema:e,typeName:Tr.ZodEffects,effect:t,...Kr(r)});w0.createWithPreprocess=(e,t,r)=>new w0({schema:t,effect:{type:"preprocess",transform:e},typeName:Tr.ZodEffects,...Kr(r)});class vf extends on{_parse(t){return this._getType(t)===Gt.undefined?Vl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vf.create=(e,t)=>new vf({innerType:e,typeName:Tr.ZodOptional,...Kr(t)});class _0 extends on{_parse(t){return this._getType(t)===Gt.null?Vl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_0.create=(e,t)=>new _0({innerType:e,typeName:Tr.ZodNullable,...Kr(t)});class n3 extends on{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Gt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}n3.create=(e,t)=>new n3({innerType:e,typeName:Tr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Kr(t)});class s3 extends on{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return RN(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new td(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new td(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}s3.create=(e,t)=>new s3({innerType:e,typeName:Tr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Kr(t)});class $7 extends on{_parse(t){if(this._getType(t)!==Gt.nan){const n=this._getOrReturnCtx(t);return It(n,{code:bt.invalid_type,expected:Gt.nan,received:n.parsedType}),Cr}return{status:"valid",value:t.data}}}$7.create=e=>new $7({typeName:Tr.ZodNaN,...Kr(e)});class MEe extends on{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class nF extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Cr:i.status==="dirty"?(r.dirty(),Kv(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Cr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new nF({in:t,out:r,typeName:Tr.ZodPipeline})}}class a3 extends on{_parse(t){const r=this._def.innerType._parse(t),n=a=>(v0(a)&&(a.value=Object.freeze(a.value)),a);return RN(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}a3.create=(e,t)=>new a3({innerType:e,typeName:Tr.ZodReadonly,...Kr(t)});var Tr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Tr||(Tr={}));const sn=Fu.create;Cm.create;Em.create;const Dc=DN.create;y0.create;If.create;const lse=Jc.create,ip=ea.create;IN.create;MN.create;Tm.create;const FEe=r3.create,Q2=b0.create;FN.create;vf.create;_0.create;const Ud={string:(e=>Fu.create({...e,coerce:!0})),number:(e=>Cm.create({...e,coerce:!0})),boolean:(e=>DN.create({...e,coerce:!0})),bigint:(e=>Em.create({...e,coerce:!0})),date:(e=>y0.create({...e,coerce:!0}))},Ww=qCe,cse=_.createContext({}),vr=({...e})=>s.jsx(cse.Provider,{value:{name:e.name},children:s.jsx(KCe,{...e})}),ek=()=>{const e=_.useContext(cse),t=_.useContext(use),{getFieldState:r,formState:n}=Z2(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},use=_.createContext({}),fr=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return s.jsx(use.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ft("space-y-2",e),...t})})});fr.displayName="FormItem";const yr=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=ek();return s.jsx(Ce,{ref:r,className:ft(n&&"text-destructive",e),htmlFor:a,...t})});yr.displayName="FormLabel";const hr=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=ek();return s.jsx(PJ,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});hr.displayName="FormControl";const Ga=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=ek();return s.jsx("p",{ref:r,id:n,className:ft("text-sm text-muted-foreground",e),...t})});Ga.displayName="FormDescription";const Br=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=ek(),o=a?String(a?.message):t;return o?s.jsx("p",{ref:n,id:i,className:ft("text-sm font-medium text-destructive",e),...r,children:o}):null});Br.displayName="FormMessage";const LEe=()=>{const e=Date.now(),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${t}`};var dse="AlertDialog",[$Ee]=zs(dse,[cre]),dd=cre(),fse=e=>{const{__scopeAlertDialog:t,...r}=e,n=dd(t);return s.jsx(P5,{...n,...r,modal:!0})};fse.displayName=dse;var BEe="AlertDialogTrigger",UEe=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=dd(r);return s.jsx(Sre,{...a,...n,ref:t})});UEe.displayName=BEe;var VEe="AlertDialogPortal",hse=e=>{const{__scopeAlertDialog:t,...r}=e,n=dd(t);return s.jsx(O5,{...n,...r})};hse.displayName=VEe;var zEe="AlertDialogOverlay",mse=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=dd(r);return s.jsx(Iw,{...a,...n,ref:t})});mse.displayName=zEe;var Jg="AlertDialogContent",[qEe,WEe]=$Ee(Jg),HEe=RJ("AlertDialogContent"),pse=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=dd(r),o=_.useRef(null),l=Qt(t,o),c=_.useRef(null);return s.jsx(ZNe,{contentName:Jg,titleName:gse,docsSlug:"alert-dialog",children:s.jsx(qEe,{scope:r,cancelRef:c,children:s.jsxs(Mw,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ht(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(HEe,{children:n}),s.jsx(KEe,{contentRef:o})]})})})});pse.displayName=Jg;var gse="AlertDialogTitle",xse=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=dd(r);return s.jsx(Fw,{...a,...n,ref:t})});xse.displayName=gse;var vse="AlertDialogDescription",yse=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=dd(r);return s.jsx(Lw,{...a,...n,ref:t})});yse.displayName=vse;var GEe="AlertDialogAction",bse=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=dd(r);return s.jsx(z2,{...a,...n,ref:t})});bse.displayName=GEe;var wse="AlertDialogCancel",_se=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=WEe(wse,r),i=dd(r),o=Qt(t,a);return s.jsx(z2,{...i,...n,ref:o})});_se.displayName=wse;var KEe=({contentRef:e})=>{const t=`\`${Jg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jg}\` by passing a \`${vse}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},YEe=fse,XEe=hse,jse=mse,Nse=pse,Sse=bse,kse=_se,Cse=xse,Ese=yse;const j0=YEe,JEe=XEe,Tse=_.forwardRef(({className:e,...t},r)=>s.jsx(jse,{className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Tse.displayName=jse.displayName;const Am=_.forwardRef(({className:e,...t},r)=>s.jsxs(JEe,{children:[s.jsx(Tse,{}),s.jsx(Nse,{ref:r,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Am.displayName=Nse.displayName;const Pm=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",e),...t});Pm.displayName="AlertDialogHeader";const Om=({className:e,...t})=>s.jsx("div",{className:ft("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Om.displayName="AlertDialogFooter";const Rm=_.forwardRef(({className:e,...t},r)=>s.jsx(Cse,{ref:r,className:ft("text-lg font-semibold",e),...t}));Rm.displayName=Cse.displayName;const Dm=_.forwardRef(({className:e,...t},r)=>s.jsx(Ese,{ref:r,className:ft("text-sm text-muted-foreground",e),...t}));Dm.displayName=Ese.displayName;const Im=_.forwardRef(({className:e,...t},r)=>s.jsx(Sse,{ref:r,className:ft(P2(),e),...t}));Im.displayName=Sse.displayName;const Mm=_.forwardRef(({className:e,...t},r)=>s.jsx(kse,{ref:r,className:ft(P2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Mm.displayName=kse.displayName;function Ase({value:e,onChange:t,storeId:r}){const[n,a]=_.useState([]),[i,o]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState(!1),[f,m]=_.useState(null),[p,y]=_.useState(!1);_.useEffect(()=>{g()},[r]);const g=async()=>{if(r)try{const{data:j,error:E}=await Y.from("categories").select("id, name").eq("store_id",r).order("name");if(E)throw E;a(j||[])}catch(j){Me({title:"Error loading categories",description:j.message,variant:"destructive"})}},v=async()=>{if(!l.trim()){Me({title:"Invalid category",description:"Please enter a category name",variant:"destructive"});return}if(n.some(j=>j.name.toLowerCase()===l.trim().toLowerCase())){Me({title:"Category exists",description:"This category already exists",variant:"destructive"});return}try{const{data:j,error:E}=await Y.from("categories").insert({name:l.trim(),store_id:r}).select().single();if(E)throw E;a(S=>[...S,j].sort((C,k)=>C.name.localeCompare(k.name))),t(j.name),c(""),o(!1),Me({title:"Category added",description:`${j.name} has been added`})}catch(j){Me({title:"Error adding category",description:j.message,variant:"destructive"})}},w=(j,E)=>{j.stopPropagation(),m(E),d(!0)},b=async()=>{if(f){y(!0);try{const{error:j}=await Y.from("categories").delete().eq("id",f.id);if(j)throw j;a(E=>E.filter(S=>S.id!==f.id)),e===f.name&&t(""),Me({title:"Category deleted",description:`${f.name} has been removed`})}catch(j){Me({title:"Error deleting category",description:j.message,variant:"destructive"})}finally{y(!1),d(!1),m(null)}}};return s.jsxs(s.Fragment,{children:[i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"Enter custom category",value:l,onChange:j=>c(j.target.value),onKeyPress:j=>{j.key==="Enter"&&(j.preventDefault(),v())}}),s.jsx(oe,{type:"button",size:"sm",onClick:v,children:"Add"}),s.jsx(oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(!1),c("")},children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(br,{value:e,onValueChange:t,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Select category"})}),s.jsx(pr,{className:"z-50 bg-popover",children:n.map(j=>s.jsx(Ye,{value:j.name,className:"flex items-center justify-between pr-2",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:j.name}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-destructive/10 hover:text-destructive",onClick:E=>w(E,j),children:s.jsx(Fn,{className:"h-3 w-3"})})]})},j.id))})]}),s.jsx(oe,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>o(!0),children:"+ Add custom category"})]}),s.jsx(j0,{open:u,onOpenChange:d,children:s.jsxs(Am,{children:[s.jsxs(Pm,{children:[s.jsx(Rm,{children:"Delete Category"}),s.jsxs(Dm,{children:['Are you sure you want to delete "',f?.name,'"? This action cannot be undone.']})]}),s.jsxs(Om,{children:[s.jsx(Mm,{disabled:p,children:"Cancel"}),s.jsx(Im,{onClick:b,disabled:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p?"Deleting...":"Delete"})]})]})})]})}const LN=["https://images.unsplash.com/photo-1763359161311-1a62681fb3c0?w=800&q=80","https://images.unsplash.com/photo-1763359161278-0cabc4924746?w=800&q=80","https://images.unsplash.com/photo-1763359161530-6631e16431fd?w=800&q=80","https://images.unsplash.com/photo-1763359161346-dbb620ef8fe9?w=800&q=80","https://images.unsplash.com/photo-1763359161317-5e4e5ea3075f?w=800&q=80","https://images.unsplash.com/photo-1763359161302-ccacb7b785da?w=800&q=80","https://images.unsplash.com/photo-1763358991454-2d0059bf6796?w=800&q=80","https://images.unsplash.com/photo-1763358958563-b9efe06f989f?w=800&q=80","https://images.unsplash.com/photo-1763358927011-ab7d82821124?w=800&q=80","https://images.unsplash.com/photo-1763358896930-3982ec4e3293?w=800&q=80"],ZEe=()=>{const e=Math.floor(Math.random()*LN.length);return LN[e]},QEe=(e=1)=>{const t=[...LN];for(let n=t.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[t[n],t[a]]=[t[a],t[n]]}const r=Math.min(e,LN.length);return t.slice(0,r)},eTe=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),tTe=ip({id:sn(),name:sn().trim().min(1,"Variant name is required"),price:sn().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:sn().trim().optional()}),rTe=ip({name:sn().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:sn().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:sn().min(1,"Category is required"),status:Q2(["published","draft","inactive"]),variants:lse(tTe).optional()}),nTe=()=>{const e=ur(),[t]=_.useState(LEe()),[r,n]=_.useState(!1),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState([]),[m,p]=_.useState({name:"",price:"",sku:""}),[y,g]=_.useState(null),[v,w]=_.useState(!1),[b,j]=_.useState(!1),[E,S]=_.useState(!1),[C,k]=_.useState([]),[D,O]=_.useState("vps"),[P,A]=_.useState([]),[R,F]=_.useState([]),[L,W]=_.useState(null),[V,H]=_.useState({name:"",price:"",sku:""}),G=G2(),I=zw({resolver:qw(rTe),defaultValues:{name:"",description:"",category:"",status:"published",variants:[]}});_.useEffect(()=>{U()},[]);const U=async()=>{try{const{data:{user:B}}=await Y.auth.getUser();if(!B)return;const{data:{session:ie}}=await Y.auth.getSession(),ae=ie?.provider_token,Ne=ie?.provider_refresh_token,{data:Ee,error:ue}=await Y.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",B.id).single();if(ue)throw ue;if(Ee){if(g(Ee.id),ae&&!Ee.google_access_token){const qe={google_access_token:ae};if(Ne){const Je=new Date(Date.now()+36e5).toISOString();qe.google_refresh_token=Ne,qe.google_token_expiry=Je}await Y.from("stores").update(qe).eq("id",Ee.id)}await X()}}catch(B){Me({title:"Error loading store",description:B.message,variant:"destructive"})}},X=async()=>{try{const{data:{session:B}}=await Y.auth.getSession();if(!B)return;const{data:ie,error:ae}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${B.access_token}`}});if(ae){console.error("Drive verification error:",ae),j(!1);return}if(ie?.connected){j(!0);const{data:{session:Ne}}=await Y.auth.getSession();Ne?.provider_token&&Me({title:"Google Drive Connected",description:"You can now upload images from your device."})}else j(!1),console.log("Drive not connected:",ie?.reason)}catch(B){console.error("Error verifying Drive connection:",B),j(!1)}},z=async B=>{const ie=Array.from(B.target.files||[]);if(ie.length===0)return;const ae=ie.filter(Ne=>Ne.type.startsWith("image/")?!0:(Me({title:"Invalid file type",description:`${Ne.name} is not a valid image file`,variant:"destructive"}),!1));if(ae.length!==0)try{const Ne=[];for(const ue of ae)if(D==="vps")try{const qe=(ue.size/1024/1024).toFixed(2),Je=await q5(ue,5),le=(Je.size/1024/1024).toFixed(2);console.log(`Image compressed: ${qe}MB  ${le}MB`),Ne.push(Je)}catch(qe){console.error("Compression failed:",qe),Me({title:"Compression failed",description:`Failed to compress ${ue.name}, using original`,variant:"destructive"}),Ne.push(ue)}else Ne.push(ue);A(ue=>[...ue,...Ne]);const Ee=Ne.map(ue=>URL.createObjectURL(ue));F(ue=>[...ue,...Ee]),Me({title:"Images ready",description:`${Ne.length} image(s) will be uploaded when you save the product`})}catch(Ne){console.error("Error processing images:",Ne),Me({title:"Error",description:"Failed to process images",variant:"destructive"})}finally{B.target.value=""}},Z=()=>{if(!o.trim()){Me({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let B=o.trim();if(B.includes("drive.google.com")){const ie=B.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);ie&&(B=`https://drive.google.com/thumbnail?id=${ie[1]||ie[2]}&sz=w1000`,Me({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(ie=>[...ie,B]),l("")},J=async B=>{const ie=a.length;if(B<ie){const ae=a[B];if(ae.includes("digitaldukandar.in/uploads/"))try{(await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ae})})).json()).success&&console.log("Image deleted from VPS:",ae)}catch(Ne){console.error("Failed to delete image from VPS:",Ne)}i(Ne=>Ne.filter((Ee,ue)=>ue!==B))}else{const ae=B-ie;URL.revokeObjectURL(R[ae]),A(Ne=>Ne.filter((Ee,ue)=>ue!==ae)),F(Ne=>Ne.filter((Ee,ue)=>ue!==ae))}},Q=()=>{if(!m.name.trim()||!m.price.trim()){Me({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const B={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(ie=>[...ie,B]),p({name:"",price:"",sku:""})},de=B=>{f(ie=>ie.filter(ae=>ae.id!==B))},fe=B=>{W(B.id),H({name:B.name,price:B.price,sku:B.sku||""})},pe=()=>{if(!L||!V.name.trim()||!V.price.trim()){Me({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(B=>B.map(ie=>ie.id===L?{...ie,name:V.name.trim(),price:V.price,sku:V.sku.trim()||void 0}:ie)),W(null),H({name:"",price:"",sku:""})},K=()=>{W(null),H({name:"",price:"",sku:""})},ee=()=>{if(d.length===0)return null;const B=d.map(Ne=>parseFloat(Ne.price)),ie=Math.min(...B),ae=Math.max(...B);return ie===ae?`${ie.toFixed(2)}`:`${ie.toFixed(2)} - ${ae.toFixed(2)}`},se=async B=>{if(B.status==="published"&&!G.canPublishProduct()){Me({title:"Product Limit Reached",description:G.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{let ie=[...a];if(P.length>0){k(P.map(Ge=>({name:Ge.name,progress:0})));const{data:{session:Ee}}=await Y.auth.getSession();if(!Ee)throw new Error("Not authenticated");const{data:{user:ue}}=await Y.auth.getUser();if(!ue)throw new Error("User not found");const{data:qe,error:Je}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",ue.id).single();if(Je||!qe)throw new Error("Store not found");const le=P.reduce((Ge,Ze)=>Ge+Ze.size/1024/1024,0);let we=qe.storage_used_mb||0;const Oe=qe.storage_limit_mb||100;if(we+le>Oe)throw new Error(`Storage limit reached. You have ${(Oe-we).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);for(let Ge=0;Ge<P.length;Ge++){const Ze=P[Ge],Se=Ze.size/1024/1024;k(he=>he.map((Re,De)=>De===Ge?{...Re,progress:10}:Re));const te=new FormData;te.append("file",Ze),te.append("type","products");const _e=setInterval(()=>{k(he=>he.map((Re,De)=>De===Ge&&Re.progress<90?{...Re,progress:Re.progress+10}:Re))},200);try{let he,Re="",De="";if(D==="vps"){const Fe=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:te}),xe=await Fe.json();if(!Fe.ok||!xe.success)throw new Error(xe.error||"Failed to upload image");he={data:xe,error:null},De=xe.imageUrl,Re=xe.fileId||Ze.name;const{error:He}=await Y.from("media_library").insert({store_id:qe.id,file_url:De,file_name:Re,file_size_mb:Se,file_type:"products"});He&&console.error("Failed to add to media library:",He),we+=Se;const{error:ot}=await Y.from("stores").update({storage_used_mb:we}).eq("id",qe.id);ot&&console.error("Failed to update storage usage:",ot)}else he=await Y.functions.invoke("upload-to-drive",{body:te,headers:{Authorization:`Bearer ${Ee.access_token}`}});if(clearInterval(_e),he.error)throw new Error(he.error.message||"Failed to upload image");he.data?.imageUrl&&(k(Fe=>Fe.map((xe,He)=>He===Ge?{...xe,progress:100}:xe)),ie.push(he.data.imageUrl))}catch(he){throw clearInterval(_e),he}}k([])}const ae=ie.length>0?ie:QEe(3),Ne={id:t,name:B.name,slug:eTe(B.name),description:B.description,category:B.category,status:B.status,images:ae,videoUrl:c.trim()||void 0,variants:d.map(Ee=>({name:Ee.name,price:parseFloat(Ee.price),sku:Ee.sku})),priceRange:ee()||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};Fke(Ne),R.forEach(Ee=>URL.revokeObjectURL(Ee)),Me({title:"Product created successfully",description:`${B.name} has been added to your catalog`}),e("/admin/products")}catch(ie){console.error("Error saving product:",ie),Me({title:"Error creating product",description:ie.message||"Please try again later",variant:"destructive"})}finally{n(!1),k([])}};return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Add New Product"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Create a new product listing for your store"})]}),G.getProductLimitMessage()&&s.jsxs(Yr,{variant:G.canPublishProduct()?"default":"destructive",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx(Xr,{children:G.getProductLimitMessage()})]}),s.jsx(Ww,{...I,children:s.jsx("form",{onSubmit:I.handleSubmit(se),className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Product Information"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(yr,{className:"text-muted-foreground",children:"Product ID (Auto-generated)"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md font-mono text-sm text-foreground",children:t})]}),s.jsx(vr,{control:I.control,name:"name",render:({field:B})=>s.jsxs(fr,{children:[s.jsx(hr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{...B,id:"product-name",className:"peer h-14 pt-4 px-3",placeholder:" "}),s.jsx("label",{htmlFor:"product-name",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Product Name"})]})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:I.control,name:"description",render:({field:B})=>s.jsxs(fr,{children:[s.jsx(hr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Na,{...B,id:"product-description",placeholder:" ",className:"peer min-h-[120px] pt-6 px-3"}),s.jsx("label",{htmlFor:"product-description",className:"absolute left-3 top-4 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Description"})]})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:I.control,name:"category",render:({field:B})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Category"}),s.jsx(hr,{children:s.jsx(Ase,{value:B.value,onChange:B.onChange,storeId:y})}),s.jsx(Br,{})]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(Ve,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:B=>p(ie=>({...ie,name:B.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(Ve,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:B=>p(ie=>({...ie,price:B.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(Ve,{placeholder:"0 = Unlimited",value:m.sku,onChange:B=>p(ie=>({...ie,sku:B.target.value}))})]})]}),s.jsxs(oe,{type:"button",onClick:Q,size:"sm",children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:ee()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Variant Name"}),s.jsx(tt,{children:"Price"}),s.jsx(tt,{children:"Stock"}),s.jsx(tt,{className:"w-[50px]"})]})}),s.jsx(oa,{children:d.map(B=>s.jsx(Nr,{children:L===B.id?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{children:s.jsx(Ve,{value:V.name,onChange:ie=>H(ae=>({...ae,name:ie.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsx(Ve,{type:"number",step:"0.01",value:V.price,onChange:ie=>H(ae=>({...ae,price:ie.target.value})),className:"h-8 no-spinner"})}),s.jsx(Xe,{children:s.jsx(Ve,{placeholder:"0 = Unlimited",value:V.sku,onChange:ie=>H(ae=>({...ae,sku:ie.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:pe,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:K,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"font-medium",children:B.name}),s.jsxs(Xe,{children:["$",parseFloat(B.price).toFixed(2)]}),s.jsx(Xe,{className:"text-muted-foreground",children:B.sku==="0"||B.sku===""?"Unlimited":B.sku||""}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>fe(B),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>de(B.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Fn,{className:"w-4 h-4"})})]})})]})},B.id))})]})})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive or upload from your device"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(Yr,{style:b?{}:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx(Xr,{className:"flex items-center justify-between gap-4",children:b?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-red-600 dark:text-red-500",children:"Connect Google Drive to upload images from your device"}),s.jsx(oe,{type:"button",size:"sm",variant:"outline",onClick:async()=>{S(!0);try{const{error:B}=await Y.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(B)throw B}catch(B){Me({title:"Connection Failed",description:B.message,variant:"destructive"}),S(!1)}},disabled:E,children:E?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ve,{id:"google-drive-url",placeholder:" ",value:o,onChange:B=>l(B.target.value),onKeyPress:B=>{B.key==="Enter"&&(B.preventDefault(),Z())},className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"google-drive-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Google Drive Image URL"})]}),s.jsx(oe,{type:"button",onClick:Z,size:"sm",className:"h-14",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"vps",checked:D==="vps",onChange:B=>O(B.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"drive",checked:D==="drive",onChange:B=>O(B.target.value),className:"w-4 h-4 text-primary",disabled:!b}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Safe & Reliable)"})," ",!b&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:D==="vps"?"Images will be compressed to max 5MB and stored on your server":"Images will be uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${v?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:z,className:"hidden",id:"image-upload",disabled:v}),s.jsx("label",{htmlFor:"image-upload",className:`block p-6 text-center ${v?"cursor-not-allowed":"cursor-pointer"}`,children:v&&C.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",C.length," image",C.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:C.map((B,ie)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[B.progress<100?s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(en,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:B.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:B.progress<100?`Uploading to ${D==="vps"?"VPS Server":"Google Drive"}...`:"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[B.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${B.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${B.progress}%`}})})]},`uploading-${ie}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Qd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:D==="vps"?"PNG, JPG images. Auto-compressed to max 5MB and stored on VPS.":"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),(a.length>0||R.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.map((B,ie)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:B,alt:`Product Image ${ie+1}`,className:"w-full h-full object-cover",onError:ae=>{ae.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(oe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>J(ie),children:s.jsx(Ua,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Image ",ie+1]})]},`url-${ie}`)),R.map((B,ie)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-primary/50",children:s.jsx("img",{src:B,alt:`Pending Image ${ie+1}`,className:"w-full h-full object-cover"})}),s.jsx(oe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>J(a.length+ie),children:s.jsx(Ua,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Pending ",ie+1," (will upload on save)"]})]},`preview-${ie}`))]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{id:"youtube-video-url",placeholder:" ",value:c,onChange:B=>u(B.target.value),className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"youtube-video-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"YouTube Video URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const ie=(ae=>{const Ne=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Ee=ae.match(Ne);return Ee&&Ee[2].length===11?Ee[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),ie?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${ie}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Product Status"})}),s.jsx(Te,{children:s.jsx(vr,{control:I.control,name:"status",render:({field:B})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Status"}),s.jsxs(br,{onValueChange:B.onChange,defaultValue:B.value,children:[s.jsx(hr,{children:s.jsx(mr,{children:s.jsx(wr,{})})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"draft",children:"Draft"}),s.jsx(Ye,{value:"published",children:"Published"}),s.jsx(Ye,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Br,{})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(oe,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),r?"Creating...":"Create Product"]}),s.jsx(oe,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})},sTe=ip({id:sn(),name:sn().trim().min(1,"Variant name is required"),price:sn().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:sn().trim().optional()}),aTe=ip({name:sn().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:sn().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:sn().min(1,"Category is required"),status:Q2(["published","draft","inactive"]),variants:lse(sTe).optional()}),iTe=()=>{const e=ur(),{id:t}=ld(),[r,n]=_.useState(!1),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState([]),[m,p]=_.useState({name:"",price:"",sku:""}),[y,g]=_.useState(!0),[v,w]=_.useState(null),[b,j]=_.useState(""),[E,S]=_.useState(!1),[C,k]=_.useState(!1),[D,O]=_.useState(!1),[P,A]=_.useState([]),[R,F]=_.useState(null),[L,W]=_.useState({name:"",price:"",sku:""}),V=G2(),H=zw({resolver:qw(aTe),defaultValues:{name:"",description:"",category:"",status:"draft",variants:[]}});_.useEffect(()=>{G()},[t,e,H]);const G=async()=>{if(!t){Me({title:"Error",description:"Product ID is missing",variant:"destructive"}),e("/admin/products");return}const ee=await Wj(t);if(!ee){Me({title:"Product not found",description:"The product you're trying to edit doesn't exist",variant:"destructive"}),e("/admin/products");return}try{const{data:{user:se}}=await Y.auth.getUser();if(!se)return;const{data:{session:B}}=await Y.auth.getSession(),ie=B?.provider_token,ae=B?.provider_refresh_token,{data:Ne,error:Ee}=await Y.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",se.id).single();if(Ee)throw Ee;if(Ne){if(w(Ne.id),ie&&!Ne.google_access_token){const ue={google_access_token:ie};if(ae){const qe=new Date(Date.now()+36e5).toISOString();ue.google_refresh_token=ae,ue.google_token_expiry=qe}await Y.from("stores").update(ue).eq("id",Ne.id)}await I()}}catch(se){Me({title:"Error loading store",description:se.message,variant:"destructive"})}H.reset({name:ee.name,description:ee.description,category:ee.category,status:ee.status}),j(ee.status),i(ee.images||[]),u(ee.videoUrl||ee.video_url||""),ee.variants&&f(ee.variants.map((se,B)=>({id:`${B}`,name:se.name,price:se.price.toString(),sku:se.sku}))),g(!1)},I=async()=>{try{const{data:{session:ee}}=await Y.auth.getSession();if(!ee)return;const{data:se,error:B}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${ee.access_token}`}});if(B){console.error("Drive verification error:",B),k(!1);return}if(se?.connected){k(!0);const{data:{session:ie}}=await Y.auth.getSession();ie?.provider_token&&Me({title:"Google Drive Connected",description:"You can now upload images from your device."})}else k(!1),console.log("Drive not connected:",se?.reason)}catch(ee){console.error("Error verifying Drive connection:",ee),k(!1)}},U=()=>{if(!o.trim()){Me({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let ee=o.trim();if(ee.includes("drive.google.com")){const se=ee.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);se&&(ee=`https://drive.google.com/thumbnail?id=${se[1]||se[2]}&sz=w1000`,Me({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(se=>[...se,ee]),l("")},X=async ee=>{const se=Array.from(ee.target.files||[]);if(se.length===0)return;const B=se.filter(ie=>ie.type.startsWith("image/")?!0:(Me({title:"Invalid file type",description:`${ie.name} is not a valid image file`,variant:"destructive"}),!1));if(B.length!==0){S(!0),A(B.map(ie=>({name:ie.name,progress:0})));try{const{data:{session:ie}}=await Y.auth.getSession();if(!ie)throw new Error("Not authenticated");for(let ae=0;ae<B.length;ae++){const Ne=B[ae];A(qe=>qe.map((Je,le)=>le===ae?{...Je,progress:10}:Je));const Ee=new FormData;Ee.append("file",Ne);const ue=setInterval(()=>{A(qe=>qe.map((Je,le)=>le===ae&&Je.progress<90?{...Je,progress:Je.progress+10}:Je))},200);try{const qe=await Y.functions.invoke("upload-to-drive",{body:Ee,headers:{Authorization:`Bearer ${ie.access_token}`}});if(clearInterval(ue),qe.error)throw A(Je=>Je.filter((le,we)=>we!==ae)),new Error(qe.error.message||"Failed to upload image");qe.data?.imageUrl&&(A(Je=>Je.map((le,we)=>we===ae?{...le,progress:100}:le)),await new Promise(Je=>setTimeout(Je,300)),A(Je=>Je.filter((le,we)=>we!==ae)),i(Je=>[...Je,qe.data.imageUrl]),Me({title:"Image uploaded",description:`${Ne.name} uploaded successfully`}))}catch(qe){throw clearInterval(ue),qe}}}catch(ie){console.error("Upload error:",ie),console.error("Error details:",JSON.stringify(ie,null,2));let ae=ie.message||"";if(ie.context?.body)try{const Ne=JSON.parse(ie.context.body);ae=Ne.error||Ne.message||ae}catch(Ne){console.error("Could not parse error body:",Ne)}console.log("Extracted error message:",ae),ae.toLowerCase().includes("drive")&&ae.toLowerCase().includes("not connected")?Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):ae.includes("Unauthorized")||ae.includes("authenticated")?Me({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):ae.toLowerCase().includes("token")||ae.toLowerCase().includes("expired")?Me({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Me({title:"Upload Failed",description:ae||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),A([]),ee.target.value=""}}},z=ee=>{i(se=>se.filter((B,ie)=>ie!==ee))},Z=()=>{if(!m.name.trim()||!m.price.trim()){Me({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const ee={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(se=>[...se,ee]),p({name:"",price:"",sku:""})},J=ee=>{f(se=>se.filter(B=>B.id!==ee))},Q=ee=>{F(ee.id),W({name:ee.name,price:ee.price,sku:ee.sku||""})},de=()=>{if(!R||!L.name.trim()||!L.price.trim()){Me({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(ee=>ee.map(se=>se.id===R?{...se,name:L.name.trim(),price:L.price,sku:L.sku.trim()||void 0}:se)),F(null),W({name:"",price:"",sku:""})},fe=()=>{F(null),W({name:"",price:"",sku:""})},pe=()=>{if(d.length===0)return null;const ee=d.map(ie=>parseFloat(ie.price)),se=Math.min(...ee),B=Math.max(...ee);return se===B?`${se.toFixed(2)}`:`${se.toFixed(2)} - ${B.toFixed(2)}`},K=async ee=>{if(!t)return;const se=b!=="published",B=ee.status==="published";if(se&&B&&!V.canPublishProduct()){Me({title:"Product Limit Reached",description:V.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(ae=>setTimeout(ae,1e3));const ie={id:t,name:ee.name,description:ee.description,category:ee.category,status:ee.status,images:a.length>0?a:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"],videoUrl:c.trim()||void 0,variants:d.map(ae=>({name:ae.name,price:parseFloat(ae.price),sku:ae.sku})),priceRange:pe()||void 0,createdAt:(await Wj(t))?.createdAt||(await Wj(t))?.created_at||new Date().toISOString(),updatedAt:new Date().toISOString()};await Lke(t,ie),Me({title:"Product updated successfully",description:`${ee.name} has been updated`}),e("/admin/products")}catch{Me({title:"Error updating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return y?s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})})}):s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Product"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]}),V.getProductLimitMessage()&&s.jsxs(Yr,{variant:V.canPublishProduct()?"default":"destructive",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx(Xr,{children:V.getProductLimitMessage()})]}),s.jsx(Ww,{...H,children:s.jsx("form",{onSubmit:H.handleSubmit(K),className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Product Information"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx(vr,{control:H.control,name:"name",render:({field:ee})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Product Name"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Enter product name",...ee})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:H.control,name:"description",render:({field:ee})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Description"}),s.jsx(hr,{children:s.jsx(Na,{placeholder:"Describe your product...",className:"min-h-[120px]",...ee})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:H.control,name:"category",render:({field:ee})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Category"}),s.jsx(hr,{children:s.jsx(Ase,{value:ee.value,onChange:ee.onChange,storeId:v})}),s.jsx(Br,{})]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(Ve,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:ee=>p(se=>({...se,name:ee.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(Ve,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:ee=>p(se=>({...se,price:ee.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(Ve,{placeholder:"0 = Unlimited",value:m.sku,onChange:ee=>p(se=>({...se,sku:ee.target.value}))})]})]}),s.jsxs(oe,{type:"button",onClick:Z,size:"sm",children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:pe()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Variant Name"}),s.jsx(tt,{children:"Price"}),s.jsx(tt,{children:"Stock"}),s.jsx(tt,{className:"w-[50px]"})]})}),s.jsx(oa,{children:d.map(ee=>s.jsx(Nr,{children:R===ee.id?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{children:s.jsx(Ve,{value:L.name,onChange:se=>W(B=>({...B,name:se.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsx(Ve,{type:"number",step:"0.01",value:L.price,onChange:se=>W(B=>({...B,price:se.target.value})),className:"h-8 no-spinner"})}),s.jsx(Xe,{children:s.jsx(Ve,{placeholder:"0 = Unlimited",value:L.sku,onChange:se=>W(B=>({...B,sku:se.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:de,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:fe,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"font-medium",children:ee.name}),s.jsxs(Xe,{children:["$",parseFloat(ee.price).toFixed(2)]}),s.jsx(Xe,{className:"text-muted-foreground",children:ee.sku==="0"||ee.sku===""?"Unlimited":ee.sku||""}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(ee),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>J(ee.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Fn,{className:"w-4 h-4"})})]})})]})},ee.id))})]})})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(Yr,{style:C?{}:{animation:"popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx(Xr,{className:"flex items-center justify-between gap-4",children:C?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-bold text-red-600 dark:text-red-500",children:"Connect Google Drive to upload images from your device"}),s.jsx(oe,{type:"button",size:"sm",variant:"outline",onClick:async()=>{O(!0);try{const{error:ee}=await Y.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(ee)throw ee}catch(ee){Me({title:"Connection Failed",description:ee.message,variant:"destructive"}),O(!1)}},disabled:D,children:D?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"Paste Google Drive shareable link",value:o,onChange:ee=>l(ee.target.value),onKeyPress:ee=>{ee.key==="Enter"&&(ee.preventDefault(),U())}}),s.jsx(oe,{type:"button",onClick:U,size:"sm",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${E?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:X,className:"hidden",id:"image-upload-edit",disabled:E}),s.jsx("label",{htmlFor:"image-upload-edit",className:`block p-6 text-center ${E?"cursor-not-allowed":"cursor-pointer"}`,children:E&&P.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",P.length," image",P.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:P.map((ee,se)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[ee.progress<100?s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(en,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:ee.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ee.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[ee.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${ee.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${ee.progress}%`}})})]},`uploading-${se}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Qd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((ee,se)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:ee,alt:`Preview ${se+1}`,className:"w-full h-full object-cover",onError:B=>{B.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(oe,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>z(se),children:s.jsx(Ua,{className:"w-3 h-3"})})]},se))})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),s.jsx(Ve,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:ee=>u(ee.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const se=(B=>{const ie=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ae=B.match(ie);return ae&&ae[2].length===11?ae[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),se?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${se}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Product Status"})}),s.jsx(Te,{children:s.jsx(vr,{control:H.control,name:"status",render:({field:ee})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Status"}),s.jsxs(br,{onValueChange:ee.onChange,value:ee.value,children:[s.jsx(hr,{children:s.jsx(mr,{children:s.jsx(wr,{})})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"draft",children:"Draft"}),s.jsx(Ye,{value:"published",children:"Published"}),s.jsx(Ye,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Br,{})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(oe,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Product"]}),s.jsx(oe,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var pb={};pb.version="0.18.5";var Jo=1200,Fm=1252,oTe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],sF={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},tk=function(e){oTe.indexOf(e)!=-1&&(Fm=sF[0]=e)};function lTe(){tk(1252)}var Al=function(e){Jo=e,tk(e)};function rk(){Al(1200),lTe()}function $N(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function cTe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Pse(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var kg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?cTe(e.slice(2)):t==254&&r==255?Pse(e.slice(2)):t==65279?e.slice(1):e},Yv=function(t){return String.fromCharCode(t)},i3=function(t){return String.fromCharCode(t)},Qr;function uTe(e){Qr=e,Al=function(t){Jo=t,tk(t)},kg=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?Qr.utils.decode(1200,$N(t.slice(2))):t},Yv=function(r){return Jo===1200?String.fromCharCode(r):Qr.utils.decode(Jo,[r&255,r>>8])[0]},i3=function(r){return Qr.utils.decode(Fm,[r])[0]},iae()}var of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gb(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=of.charAt(i)+of.charAt(o)+of.charAt(l)+of.charAt(c);return t}function nl(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=of.indexOf(e.charAt(u++)),o=of.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=of.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=of.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Ur=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),fd=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Mf(e){return Ur?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function B7(e){return Ur?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var qo=function(t){return Ur?fd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Hw(e){if(typeof ArrayBuffer>"u")return qo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Zf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function dTe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function aF(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return aF(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var $a=Ur?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:fd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function fTe(e){for(var t=[],r=0,n=e.length+250,a=Mf(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Mf(65535),n=65530)}return t.push(a.slice(0,r)),$a(t)}var Si=/\u0000/g,Xv=/[\u0001-\u0006]/g;function Zg(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function mc(e,t){var r=""+e;return r.length>=t?r:_s("0",t-r.length)+r}function iF(e,t){var r=""+e;return r.length>=t?r:_s(" ",t-r.length)+r}function BN(e,t){var r=""+e;return r.length>=t?r:r+_s(" ",t-r.length)}function hTe(e,t){var r=""+Math.round(e);return r.length>=t?r:_s("0",t-r.length)+r}function mTe(e,t){var r=""+e;return r.length>=t?r:_s("0",t-r.length)+r}var U7=Math.pow(2,32);function ig(e,t){if(e>U7||e<-U7)return hTe(e,t);var r=Math.round(e);return mTe(r,t)}function UN(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var V7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],WT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pTe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ar={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},z7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gTe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function VN(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function lf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=_Te(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var Ose=new Date(1899,11,31,0,0,0),xTe=Ose.getTime(),vTe=new Date(1900,2,1,0,0,0);function Rse(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=vTe&&(r+=1440*60*1e3),(r-(xTe+(e.getTimezoneOffset()-Ose.getTimezoneOffset())*6e4))/(1440*60*1e3)}function oF(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yTe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bTe(e){var t=e<0?12:11,r=oF(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function wTe(e){var t=oF(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function xb(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=bTe(e):t===10?r=e.toFixed(10).substr(0,12):r=wTe(e),oF(yTe(r.toUpperCase()))}function Lm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):xb(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return sl(14,Rse(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function _Te(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function jTe(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return WT[r.m-1][1];case 5:return WT[r.m-1][0];default:return WT[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return V7[r.q][0];default:return V7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?mc(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=mc(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?mc(c,u):"";return d}function cf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Dse=/%/g;function NTe(e,t,r){var n=t.replace(Dse,""),a=t.length-n.length;return Wu(e,n,r*Math.pow(10,2*a))+_s("%",a)}function STe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Wu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Ise(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ise(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Mse=/# (\?+)( ?)\/( ?)(\d+)/;function kTe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?_s(" ",e[1].length+1+e[4].length):iF(o,e[1].length)+e[2]+"/"+e[3]+mc(l,e[4].length))}function CTe(e,t,r){return r+(t===0?"":""+t)+_s(" ",e[1].length+2+e[4].length)}var Fse=/^#*0*\.([0#]+)/,Lse=/\).*[0#]/,$se=/\(###\) ###\\?-####/;function Li(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function q7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function W7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ETe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function TTe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function gl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Lse)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?gl("n",n,r):"("+gl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return STe(e,t,r);if(t.indexOf("%")!==-1)return NTe(e,t,r);if(t.indexOf("E")!==-1)return Ise(t,r);if(t.charCodeAt(0)===36)return"$"+gl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ig(c,t.length);if(t.match(/^[#?]+$/))return a=ig(r,0),a==="0"&&(a=""),a.length>t.length?a:Li(t.substr(0,t.length-a.length))+a;if(i=t.match(Mse))return kTe(i,c,u);if(t.match(/^#+0+$/))return u+ig(c,t.length-t.indexOf("0"));if(i=t.match(Fse))return a=q7(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Li(i[1])).replace(/\.$/,"."+Li(i[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+_s("0",Li(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+q7(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+cf(ig(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+gl(e,t,-r):cf(""+(Math.floor(r)+ETe(r,i[1].length)))+"."+mc(W7(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return gl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zg(gl(e,t.replace(/[\\-]/g,""),r)),o=0,Zg(Zg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match($se))return a=gl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=VN(c,Math.pow(10,o)-1,!1),a=""+u,d=Wu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=BN(l[2],o),d.length<i[4].length&&(d=Li(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=VN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?iF(l[1],o)+i[2]+"/"+i[3]+BN(l[2],o):_s(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=ig(r,0),t.length<=a.length?a:Li(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Li(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=W7(r,i[1].length),r<0?"-"+gl(e,t,-r):cf(TTe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?mc(0,3-y.length):"")+y})+"."+mc(o,i[1].length);switch(t){case"###,##0.00":return gl(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=cf(ig(c,0));return p!=="0"?u+p:"";case"###,###.00":return gl(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return gl(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ATe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Wu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function PTe(e,t,r){var n=t.replace(Dse,""),a=t.length-n.length;return Wu(e,n,r*Math.pow(10,2*a))+_s("%",a)}function Bse(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Bse(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ic(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Lse)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ic("n",n,r):"("+Ic("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ATe(e,t,r);if(t.indexOf("%")!==-1)return PTe(e,t,r);if(t.indexOf("E")!==-1)return Bse(t,r);if(t.charCodeAt(0)===36)return"$"+Ic(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+mc(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Li(t.substr(0,t.length-a.length))+a;if(i=t.match(Mse))return CTe(i,c,u);if(t.match(/^#+0+$/))return u+mc(c,t.length-t.indexOf("0"));if(i=t.match(Fse))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Li(i[1])).replace(/\.$/,"."+Li(i[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+_s("0",Li(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+cf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ic(e,t,-r):cf(""+r)+"."+_s("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ic(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zg(Ic(e,t.replace(/[\\-]/g,""),r)),o=0,Zg(Zg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match($se))return a=Ic(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=VN(c,Math.pow(10,o)-1,!1),a=""+u,d=Wu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=BN(l[2],o),d.length<i[4].length&&(d=Li(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=VN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?iF(l[1],o)+i[2]+"/"+i[3]+BN(l[2],o):_s(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Li(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Li(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ic(e,t,-r):cf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?mc(0,3-y.length):"")+y})+"."+mc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=cf(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Ic(e,t.slice(0,t.lastIndexOf(".")),r)+Li(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Wu(e,t,r){return(r|0)===r?Ic(e,t,r):gl(e,t,r)}function OTe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Use=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function op(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":UN(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Use))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function RTe(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!UN(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";a[a.length]={t:y,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=lf(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=lf(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=lf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Use)){if(u==null&&(u=lf(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",op(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,w=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(w=Math.max(w,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var j="",E;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=jTe(a[o].t.charCodeAt(0),a[o].v,u,w),a[o].t="t";break;case"n":case"?":for(E=o+1;a[E]!=null&&((l=a[E].t)==="?"||l==="D"||(l===" "||l==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[o].v+=a[E].v,a[E]={v:"",t:";"},++E;j+=a[o].v,o=E-1;break;case"G":a[o].t="t",a[o].v=Lm(t,r);break}var S="",C,k;if(j.length>0){j.charCodeAt(0)==40?(C=t<0&&j.charCodeAt(0)===45?-t:t,k=Wu("n",j,C)):(C=t<0&&n>1?-t:t,k=Wu("n",j,C),C<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),E=k.length-1;var D=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){D=o;break}var O=a.length;if(D===a.length&&k.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(E>=a[o].v.length-1?(E-=a[o].v.length,a[o].v=k.substr(E+1,a[o].v.length)):E<0?a[o].v="":(a[o].v=k.substr(0,E+1),E=-1),a[o].t="t",O=o);E>=0&&O<a.length&&(a[O].v=k.substr(0,E+1)+a[O].v)}else if(D!==a.length&&k.indexOf("E")===-1){for(E=k.indexOf(".")-1,o=D;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===D?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)E>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=k.charAt(E--)+S);a[o].v=S,a[o].t="t",O=o}for(E>=0&&O<a.length&&(a[O].v=k.substr(0,E+1)+a[O].v),E=k.indexOf(".")+1,o=D;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==D)){for(d=a[o].v.indexOf(".")>-1&&o===D?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)E<k.length&&(S+=k.charAt(E++));a[o].v=S,a[o].t="t",O=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Wu(a[o].t,a[o].v,C),a[o].t="t");var P="";for(o=0;o!==a.length;++o)a[o]!=null&&(P+=a[o].v);return P}var H7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function G7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function DTe(e,t){var r=OTe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(H7),l=r[1].match(H7);return G7(t,o)?[n,r[0]]:G7(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function sl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ar)[e],n==null&&(n=r.table&&r.table[z7[e]]||ar[z7[e]]),n==null&&(n=gTe[e]||"General");break}if(UN(n,0))return Lm(t,r);t instanceof Date&&(t=Rse(t,r.date1904));var a=DTe(n,t);if(UN(a[1]))return Lm(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return RTe(a[1],t,r,a[0])}function Zc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ar[r]==null){t<0&&(t=r);continue}if(ar[r]==e){t=r;break}}t<0&&(t=391)}return ar[t]=e,t}function Gw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Zc(e[t],t)}function px(){ar=pTe()}var Vse={format:sl,load:Zc,_table:ar,load_table:Gw,parse_date_code:lf,is_date:op,get_table:function(){return Vse._table=ar}},ITe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},zse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function MTe(e){var t=typeof e=="number"?ar[e]:e;return t=t.replace(zse,"(\\d+)"),new RegExp("^"+t+"$")}function FTe(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(zse)||[]).forEach(function(f,m){var p=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var LTe=(function(){var e={};e.version="1.2.0";function t(){for(var k=0,D=new Array(256),O=0;O!=256;++O)k=O,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,D[O]=k;return typeof Int32Array<"u"?new Int32Array(D):D}var r=t();function n(k){var D=0,O=0,P=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)A[P]=k[P];for(P=0;P!=256;++P)for(O=k[P],D=256+P;D<4096;D+=256)O=A[D]=O>>>8^k[O&255];var R=[];for(P=1;P!=16;++P)R[P-1]=typeof Int32Array<"u"?A.subarray(P*256,P*256+256):A.slice(P*256,P*256+256);return R}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],p=a[8],y=a[9],g=a[10],v=a[11],w=a[12],b=a[13],j=a[14];function E(k,D){for(var O=D^-1,P=0,A=k.length;P<A;)O=O>>>8^r[(O^k.charCodeAt(P++))&255];return~O}function S(k,D){for(var O=D^-1,P=k.length-15,A=0;A<P;)O=j[k[A++]^O&255]^b[k[A++]^O>>8&255]^w[k[A++]^O>>16&255]^v[k[A++]^O>>>24]^g[k[A++]]^y[k[A++]]^p[k[A++]]^m[k[A++]]^f[k[A++]]^d[k[A++]]^u[k[A++]]^c[k[A++]]^l[k[A++]]^o[k[A++]]^i[k[A++]]^r[k[A++]];for(P+=15;A<P;)O=O>>>8^r[(O^k[A++])&255];return~O}function C(k,D){for(var O=D^-1,P=0,A=k.length,R=0,F=0;P<A;)R=k.charCodeAt(P++),R<128?O=O>>>8^r[(O^R)&255]:R<2048?(O=O>>>8^r[(O^(192|R>>6&31))&255],O=O>>>8^r[(O^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,F=k.charCodeAt(P++)&1023,O=O>>>8^r[(O^(240|R>>8&7))&255],O=O>>>8^r[(O^(128|R>>2&63))&255],O=O>>>8^r[(O^(128|F>>6&15|(R&3)<<4))&255],O=O>>>8^r[(O^(128|F&63))&255]):(O=O>>>8^r[(O^(224|R>>12&15))&255],O=O>>>8^r[(O^(128|R>>6&63))&255],O=O>>>8^r[(O^(128|R&63))&255]);return~O}return e.table=r,e.bstr=E,e.buf=S,e.str=C,e})(),Zt=(function(){var t={};t.version="1.2.1";function r(re,ve){for(var me=re.split("/"),ge=ve.split("/"),be=0,ye=0,Le=Math.min(me.length,ge.length);be<Le;++be){if(ye=me[be].length-ge[be].length)return ye;if(me[be]!=ge[be])return me[be]<ge[be]?-1:1}return me.length-ge.length}function n(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:n(re.slice(0,-1));var ve=re.lastIndexOf("/");return ve===-1?re:re.slice(0,ve+1)}function a(re){if(re.charAt(re.length-1)=="/")return a(re.slice(0,-1));var ve=re.lastIndexOf("/");return ve===-1?re:re.slice(ve+1)}function i(re,ve){typeof ve=="string"&&(ve=new Date(ve));var me=ve.getHours();me=me<<6|ve.getMinutes(),me=me<<5|ve.getSeconds()>>>1,re.write_shift(2,me);var ge=ve.getFullYear()-1980;ge=ge<<4|ve.getMonth()+1,ge=ge<<5|ve.getDate(),re.write_shift(2,ge)}function o(re){var ve=re.read_shift(2)&65535,me=re.read_shift(2)&65535,ge=new Date,be=me&31;me>>>=5;var ye=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(ye-1),ge.setDate(be);var Le=ve&31;ve>>>=5;var We=ve&63;return ve>>>=6,ge.setHours(ve),ge.setMinutes(We),ge.setSeconds(Le<<1),ge}function l(re){Ja(re,0);for(var ve={},me=0;re.l<=re.length-4;){var ge=re.read_shift(2),be=re.read_shift(2),ye=re.l+be,Le={};switch(ge){case 21589:me=re.read_shift(1),me&1&&(Le.mtime=re.read_shift(4)),be>5&&(me&2&&(Le.atime=re.read_shift(4)),me&4&&(Le.ctime=re.read_shift(4))),Le.mtime&&(Le.mt=new Date(Le.mtime*1e3));break}re.l=ye,ve[ge]=Le}return ve}var c;function u(){return c||(c={})}function d(re,ve){if(re[0]==80&&re[1]==75)return Pr(re,ve);if((re[0]|32)==109&&(re[1]|32)==105)return Rt(re,ve);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var me=3,ge=512,be=0,ye=0,Le=0,We=0,Ie=0,Ue=[],$e=re.slice(0,512);Ja($e,0);var st=f($e);switch(me=st[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(st[1]==0)return Pr(re,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&($e=re.slice(0,ge),Ja($e,28));var pt=re.slice(0,ge);m($e,me);var Et=$e.read_shift(4,"i");if(me===3&&Et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Et);$e.l+=4,Le=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),We=$e.read_shift(4,"i"),be=$e.read_shift(4,"i"),Ie=$e.read_shift(4,"i"),ye=$e.read_shift(4,"i");for(var xt=-1,it=0;it<109&&(xt=$e.read_shift(4,"i"),!(xt<0));++it)Ue[it]=xt;var Ut=p(re,ge);v(Ie,ye,Ut,ge,Ue);var Vr=b(Ut,Le,Ue,ge);Vr[Le].name="!Directory",be>0&&We!==F&&(Vr[We].name="!MiniFAT"),Vr[Ue[0]].name="!FAT",Vr.fat_addrs=Ue,Vr.ssz=ge;var xn={},as=[],No=[],ua=[];j(Le,Vr,Ut,as,be,xn,No,We),y(No,ua,as),as.shift();var ai={FileIndex:No,FullPaths:ua};return ve&&ve.raw&&(ai.raw={header:pt,sectors:Ut}),ai}function f(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(L,"Header Signature: "),re.l+=16;var ve=re.read_shift(2,"u");return[re.read_shift(2,"u"),ve]}function m(re,ve){var me=9;switch(re.l+=2,me=re.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function p(re,ve){for(var me=Math.ceil(re.length/ve)-1,ge=[],be=1;be<me;++be)ge[be-1]=re.slice(be*ve,(be+1)*ve);return ge[me-1]=re.slice(me*ve),ge}function y(re,ve,me){for(var ge=0,be=0,ye=0,Le=0,We=0,Ie=me.length,Ue=[],$e=[];ge<Ie;++ge)Ue[ge]=$e[ge]=ge,ve[ge]=me[ge];for(;We<$e.length;++We)ge=$e[We],be=re[ge].L,ye=re[ge].R,Le=re[ge].C,Ue[ge]===ge&&(be!==-1&&Ue[be]!==be&&(Ue[ge]=Ue[be]),ye!==-1&&Ue[ye]!==ye&&(Ue[ge]=Ue[ye])),Le!==-1&&(Ue[Le]=ge),be!==-1&&ge!=Ue[ge]&&(Ue[be]=Ue[ge],$e.lastIndexOf(be)<We&&$e.push(be)),ye!==-1&&ge!=Ue[ge]&&(Ue[ye]=Ue[ge],$e.lastIndexOf(ye)<We&&$e.push(ye));for(ge=1;ge<Ie;++ge)Ue[ge]===ge&&(ye!==-1&&Ue[ye]!==ye?Ue[ge]=Ue[ye]:be!==-1&&Ue[be]!==be&&(Ue[ge]=Ue[be]));for(ge=1;ge<Ie;++ge)if(re[ge].type!==0){if(We=ge,We!=Ue[We])do We=Ue[We],ve[ge]=ve[We]+"/"+ve[ge];while(We!==0&&Ue[We]!==-1&&We!=Ue[We]);Ue[ge]=-1}for(ve[0]+="/",ge=1;ge<Ie;++ge)re[ge].type!==2&&(ve[ge]+="/")}function g(re,ve,me){for(var ge=re.start,be=re.size,ye=[],Le=ge;me&&be>0&&Le>=0;)ye.push(ve.slice(Le*R,Le*R+R)),be-=R,Le=Lh(me,Le*4);return ye.length===0?rt(0):$a(ye).slice(0,re.size)}function v(re,ve,me,ge,be){var ye=F;if(re===F){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var Le=me[re],We=(ge>>>2)-1;if(!Le)return;for(var Ie=0;Ie<We&&(ye=Lh(Le,Ie*4))!==F;++Ie)be.push(ye);v(Lh(Le,ge-4),ve-1,me,ge,be)}}function w(re,ve,me,ge,be){var ye=[],Le=[];be||(be=[]);var We=ge-1,Ie=0,Ue=0;for(Ie=ve;Ie>=0;){be[Ie]=!0,ye[ye.length]=Ie,Le.push(re[Ie]);var $e=me[Math.floor(Ie*4/ge)];if(Ue=Ie*4&We,ge<4+Ue)throw new Error("FAT boundary crossed: "+Ie+" 4 "+ge);if(!re[$e])break;Ie=Lh(re[$e],Ue)}return{nodes:ye,data:aV([Le])}}function b(re,ve,me,ge){var be=re.length,ye=[],Le=[],We=[],Ie=[],Ue=ge-1,$e=0,st=0,pt=0,Et=0;for($e=0;$e<be;++$e)if(We=[],pt=$e+ve,pt>=be&&(pt-=be),!Le[pt]){Ie=[];var xt=[];for(st=pt;st>=0;){xt[st]=!0,Le[st]=!0,We[We.length]=st,Ie.push(re[st]);var it=me[Math.floor(st*4/ge)];if(Et=st*4&Ue,ge<4+Et)throw new Error("FAT boundary crossed: "+st+" 4 "+ge);if(!re[it]||(st=Lh(re[it],Et),xt[st]))break}ye[pt]={nodes:We,data:aV([Ie])}}return ye}function j(re,ve,me,ge,be,ye,Le,We){for(var Ie=0,Ue=ge.length?2:0,$e=ve[re].data,st=0,pt=0,Et;st<$e.length;st+=128){var xt=$e.slice(st,st+128);Ja(xt,64),pt=xt.read_shift(2),Et=ik(xt,0,pt-Ue),ge.push(Et);var it={name:Et,type:xt.read_shift(1),color:xt.read_shift(1),L:xt.read_shift(4,"i"),R:xt.read_shift(4,"i"),C:xt.read_shift(4,"i"),clsid:xt.read_shift(16),state:xt.read_shift(4,"i"),start:0,size:0},Ut=xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2);Ut!==0&&(it.ct=E(xt,xt.l-8));var Vr=xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2);Vr!==0&&(it.mt=E(xt,xt.l-8)),it.start=xt.read_shift(4,"i"),it.size=xt.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=F,it.name=""),it.type===5?(Ie=it.start,be>0&&Ie!==F&&(ve[Ie].name="!StreamData")):it.size>=4096?(it.storage="fat",ve[it.start]===void 0&&(ve[it.start]=w(me,it.start,ve.fat_addrs,ve.ssz)),ve[it.start].name=it.name,it.content=ve[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:Ie!==F&&it.start!==F&&ve[Ie]&&(it.content=g(it,ve[Ie].data,(ve[We]||{}).data))),it.content&&Ja(it.content,0),ye[Et]=it,Le.push(it)}}function E(re,ve){return new Date((Fa(re,ve+4)/1e7*Math.pow(2,32)+Fa(re,ve)/1e7-11644473600)*1e3)}function S(re,ve){return u(),d(c.readFileSync(re),ve)}function C(re,ve){var me=ve&&ve.type;switch(me||Ur&&Buffer.isBuffer(re)&&(me="buffer"),me||"base64"){case"file":return S(re,ve);case"base64":return d(qo(nl(re)),ve);case"binary":return d(qo(re),ve)}return d(re,ve)}function k(re,ve){var me=ve||{},ge=me.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=ge+"/",re.FileIndex[0]={name:ge,type:5}),me.CLSID&&(re.FileIndex[0].clsid=me.CLSID),D(re)}function D(re){var ve="Sh33tJ5";if(!Zt.find(re,"/"+ve)){var me=rt(4);me[0]=55,me[1]=me[3]=50,me[2]=54,re.FileIndex.push({name:ve,type:2,content:me,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+ve),O(re)}}function O(re,ve){k(re);for(var me=!1,ge=!1,be=re.FullPaths.length-1;be>=0;--be){var ye=re.FileIndex[be];switch(ye.type){case 0:ge?me=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(ye.R*ye.L*ye.C)&&(me=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!ve)){var Le=new Date(1987,1,19),We=0,Ie=Object.create?Object.create(null):{},Ue=[];for(be=0;be<re.FullPaths.length;++be)Ie[re.FullPaths[be]]=!0,re.FileIndex[be].type!==0&&Ue.push([re.FullPaths[be],re.FileIndex[be]]);for(be=0;be<Ue.length;++be){var $e=n(Ue[be][0]);ge=Ie[$e],ge||(Ue.push([$e,{name:a($e).replace("/",""),type:1,clsid:V,ct:Le,mt:Le,content:null}]),Ie[$e]=!0)}for(Ue.sort(function(Et,xt){return r(Et[0],xt[0])}),re.FullPaths=[],re.FileIndex=[],be=0;be<Ue.length;++be)re.FullPaths[be]=Ue[be][0],re.FileIndex[be]=Ue[be][1];for(be=0;be<Ue.length;++be){var st=re.FileIndex[be],pt=re.FullPaths[be];if(st.name=a(pt).replace("/",""),st.L=st.R=st.C=-(st.color=1),st.size=st.content?st.content.length:0,st.start=0,st.clsid=st.clsid||V,be===0)st.C=Ue.length>1?1:-1,st.size=0,st.type=5;else if(pt.slice(-1)=="/"){for(We=be+1;We<Ue.length&&n(re.FullPaths[We])!=pt;++We);for(st.C=We>=Ue.length?-1:We,We=be+1;We<Ue.length&&n(re.FullPaths[We])!=n(pt);++We);st.R=We>=Ue.length?-1:We,st.type=1}else n(re.FullPaths[be+1]||"")==n(pt)&&(st.R=be+1),st.type=2}}}function P(re,ve){var me=ve||{};if(me.fileType=="mad")return or(re,me);switch(O(re),me.fileType){case"zip":return Sr(re,me)}var ge=(function(Et){for(var xt=0,it=0,Ut=0;Ut<Et.FileIndex.length;++Ut){var Vr=Et.FileIndex[Ut];if(Vr.content){var xn=Vr.content.length;xn>0&&(xn<4096?xt+=xn+63>>6:it+=xn+511>>9)}}for(var as=Et.FullPaths.length+3>>2,No=xt+7>>3,ua=xt+127>>7,ai=No+it+as+ua,ds=ai+127>>7,Zi=ds<=109?0:Math.ceil((ds-109)/127);ai+ds+Zi+127>>7>ds;)Zi=++ds<=109?0:Math.ceil((ds-109)/127);var Os=[1,Zi,ds,ua,as,it,xt,0];return Et.FileIndex[0].size=xt<<6,Os[7]=(Et.FileIndex[0].start=Os[0]+Os[1]+Os[2]+Os[3]+Os[4]+Os[5])+(Os[6]+7>>3),Os})(re),be=rt(ge[7]<<9),ye=0,Le=0;{for(ye=0;ye<8;++ye)be.write_shift(1,W[ye]);for(ye=0;ye<8;++ye)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),ye=0;ye<3;++ye)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,ge[2]),be.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:F),be.write_shift(4,ge[3]),be.write_shift(-4,ge[1]?ge[0]-1:F),be.write_shift(4,ge[1]),ye=0;ye<109;++ye)be.write_shift(-4,ye<ge[2]?ge[1]+ye:-1)}if(ge[1])for(Le=0;Le<ge[1];++Le){for(;ye<236+Le*127;++ye)be.write_shift(-4,ye<ge[2]?ge[1]+ye:-1);be.write_shift(-4,Le===ge[1]-1?F:Le+1)}var We=function(Et){for(Le+=Et;ye<Le-1;++ye)be.write_shift(-4,ye+1);Et&&(++ye,be.write_shift(-4,F))};for(Le=ye=0,Le+=ge[1];ye<Le;++ye)be.write_shift(-4,H.DIFSECT);for(Le+=ge[2];ye<Le;++ye)be.write_shift(-4,H.FATSECT);We(ge[3]),We(ge[4]);for(var Ie=0,Ue=0,$e=re.FileIndex[0];Ie<re.FileIndex.length;++Ie)$e=re.FileIndex[Ie],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Le,We(Ue+511>>9)));for(We(ge[6]+7>>3);be.l&511;)be.write_shift(-4,H.ENDOFCHAIN);for(Le=ye=0,Ie=0;Ie<re.FileIndex.length;++Ie)$e=re.FileIndex[Ie],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Le,We(Ue+63>>6)));for(;be.l&511;)be.write_shift(-4,H.ENDOFCHAIN);for(ye=0;ye<ge[4]<<2;++ye){var st=re.FullPaths[ye];if(!st||st.length===0){for(Ie=0;Ie<17;++Ie)be.write_shift(4,0);for(Ie=0;Ie<3;++Ie)be.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)be.write_shift(4,0);continue}$e=re.FileIndex[ye],ye===0&&($e.start=$e.size?$e.start-1:F);var pt=ye===0&&me.root||$e.name;if(Ue=2*(pt.length+1),be.write_shift(64,pt,"utf16le"),be.write_shift(2,Ue),be.write_shift(1,$e.type),be.write_shift(1,$e.color),be.write_shift(-4,$e.L),be.write_shift(-4,$e.R),be.write_shift(-4,$e.C),$e.clsid)be.write_shift(16,$e.clsid,"hex");else for(Ie=0;Ie<4;++Ie)be.write_shift(4,0);be.write_shift(4,$e.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,$e.start),be.write_shift(4,$e.size),be.write_shift(4,0)}for(ye=1;ye<re.FileIndex.length;++ye)if($e=re.FileIndex[ye],$e.size>=4096)if(be.l=$e.start+1<<9,Ur&&Buffer.isBuffer($e.content))$e.content.copy(be,be.l,0,$e.size),be.l+=$e.size+511&-512;else{for(Ie=0;Ie<$e.size;++Ie)be.write_shift(1,$e.content[Ie]);for(;Ie&511;++Ie)be.write_shift(1,0)}for(ye=1;ye<re.FileIndex.length;++ye)if($e=re.FileIndex[ye],$e.size>0&&$e.size<4096)if(Ur&&Buffer.isBuffer($e.content))$e.content.copy(be,be.l,0,$e.size),be.l+=$e.size+63&-64;else{for(Ie=0;Ie<$e.size;++Ie)be.write_shift(1,$e.content[Ie]);for(;Ie&63;++Ie)be.write_shift(1,0)}if(Ur)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function A(re,ve){var me=re.FullPaths.map(function(Ie){return Ie.toUpperCase()}),ge=me.map(function(Ie){var Ue=Ie.split("/");return Ue[Ue.length-(Ie.slice(-1)=="/"?2:1)]}),be=!1;ve.charCodeAt(0)===47?(be=!0,ve=me[0].slice(0,-1)+ve):be=ve.indexOf("/")!==-1;var ye=ve.toUpperCase(),Le=be===!0?me.indexOf(ye):ge.indexOf(ye);if(Le!==-1)return re.FileIndex[Le];var We=!ye.match(Xv);for(ye=ye.replace(Si,""),We&&(ye=ye.replace(Xv,"!")),Le=0;Le<me.length;++Le)if((We?me[Le].replace(Xv,"!"):me[Le]).replace(Si,"")==ye||(We?ge[Le].replace(Xv,"!"):ge[Le]).replace(Si,"")==ye)return re.FileIndex[Le];return null}var R=64,F=-2,L="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(re,ve,me){u();var ge=P(re,me);c.writeFileSync(ve,ge)}function I(re){for(var ve=new Array(re.length),me=0;me<re.length;++me)ve[me]=String.fromCharCode(re[me]);return ve.join("")}function U(re,ve){var me=P(re,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),c.writeFileSync(ve.filename,me),me;case"binary":return typeof me=="string"?me:I(me);case"base64":return gb(typeof me=="string"?me:I(me));case"buffer":if(Ur)return Buffer.isBuffer(me)?me:fd(me);case"array":return typeof me=="string"?qo(me):me}return me}var X;function z(re){try{var ve=re.InflateRaw,me=new ve;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)X=re;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function Z(re,ve){if(!X)return Mt(re,ve);var me=X.InflateRaw,ge=new me,be=ge._processChunk(re.slice(re.l),ge._finishFlushFlag);return re.l+=ge.bytesRead,be}function J(re){return X?X.deflateRawSync(re):De(re)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(re){var ve=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var K=typeof Uint8Array<"u",ee=K?new Uint8Array(256):[],se=0;se<256;++se)ee[se]=pe(se);function B(re,ve){var me=ee[re&255];return ve<=8?me>>>8-ve:(me=me<<8|ee[re>>8&255],ve<=16?me>>>16-ve:(me=me<<8|ee[re>>16&255],me>>>24-ve))}function ie(re,ve){var me=ve&7,ge=ve>>>3;return(re[ge]|(me<=6?0:re[ge+1]<<8))>>>me&3}function ae(re,ve){var me=ve&7,ge=ve>>>3;return(re[ge]|(me<=5?0:re[ge+1]<<8))>>>me&7}function Ne(re,ve){var me=ve&7,ge=ve>>>3;return(re[ge]|(me<=4?0:re[ge+1]<<8))>>>me&15}function Ee(re,ve){var me=ve&7,ge=ve>>>3;return(re[ge]|(me<=3?0:re[ge+1]<<8))>>>me&31}function ue(re,ve){var me=ve&7,ge=ve>>>3;return(re[ge]|(me<=1?0:re[ge+1]<<8))>>>me&127}function qe(re,ve,me){var ge=ve&7,be=ve>>>3,ye=(1<<me)-1,Le=re[be]>>>ge;return me<8-ge||(Le|=re[be+1]<<8-ge,me<16-ge)||(Le|=re[be+2]<<16-ge,me<24-ge)||(Le|=re[be+3]<<24-ge),Le&ye}function Je(re,ve,me){var ge=ve&7,be=ve>>>3;return ge<=5?re[be]|=(me&7)<<ge:(re[be]|=me<<ge&255,re[be+1]=(me&7)>>8-ge),ve+3}function le(re,ve,me){var ge=ve&7,be=ve>>>3;return me=(me&1)<<ge,re[be]|=me,ve+1}function we(re,ve,me){var ge=ve&7,be=ve>>>3;return me<<=ge,re[be]|=me&255,me>>>=8,re[be+1]=me,ve+8}function Oe(re,ve,me){var ge=ve&7,be=ve>>>3;return me<<=ge,re[be]|=me&255,me>>>=8,re[be+1]=me&255,re[be+2]=me>>>8,ve+16}function Ge(re,ve){var me=re.length,ge=2*me>ve?2*me:ve+5,be=0;if(me>=ve)return re;if(Ur){var ye=B7(ge);if(re.copy)re.copy(ye);else for(;be<re.length;++be)ye[be]=re[be];return ye}else if(K){var Le=new Uint8Array(ge);if(Le.set)Le.set(re);else for(;be<me;++be)Le[be]=re[be];return Le}return re.length=ge,re}function Ze(re){for(var ve=new Array(re),me=0;me<re;++me)ve[me]=0;return ve}function Se(re,ve,me){var ge=1,be=0,ye=0,Le=0,We=0,Ie=re.length,Ue=K?new Uint16Array(32):Ze(32);for(ye=0;ye<32;++ye)Ue[ye]=0;for(ye=Ie;ye<me;++ye)re[ye]=0;Ie=re.length;var $e=K?new Uint16Array(Ie):Ze(Ie);for(ye=0;ye<Ie;++ye)Ue[be=re[ye]]++,ge<be&&(ge=be),$e[ye]=0;for(Ue[0]=0,ye=1;ye<=ge;++ye)Ue[ye+16]=We=We+Ue[ye-1]<<1;for(ye=0;ye<Ie;++ye)We=re[ye],We!=0&&($e[ye]=Ue[We+16]++);var st=0;for(ye=0;ye<Ie;++ye)if(st=re[ye],st!=0)for(We=B($e[ye],ge)>>ge-st,Le=(1<<ge+4-st)-1;Le>=0;--Le)ve[We|Le<<st]=st&15|ye<<4;return ge}var te=K?new Uint16Array(512):Ze(512),_e=K?new Uint16Array(32):Ze(32);if(!K){for(var he=0;he<512;++he)te[he]=0;for(he=0;he<32;++he)_e[he]=0}(function(){for(var re=[],ve=0;ve<32;ve++)re.push(5);Se(re,_e,32);var me=[];for(ve=0;ve<=143;ve++)me.push(8);for(;ve<=255;ve++)me.push(9);for(;ve<=279;ve++)me.push(7);for(;ve<=287;ve++)me.push(8);Se(me,te,288)})();var Re=(function(){for(var ve=K?new Uint8Array(32768):[],me=0,ge=0;me<fe.length-1;++me)for(;ge<fe[me+1];++ge)ve[ge]=me;for(;ge<32768;++ge)ve[ge]=29;var be=K?new Uint8Array(259):[];for(me=0,ge=0;me<de.length-1;++me)for(;ge<de[me+1];++ge)be[ge]=me;function ye(We,Ie){for(var Ue=0;Ue<We.length;){var $e=Math.min(65535,We.length-Ue),st=Ue+$e==We.length;for(Ie.write_shift(1,+st),Ie.write_shift(2,$e),Ie.write_shift(2,~$e&65535);$e-- >0;)Ie[Ie.l++]=We[Ue++]}return Ie.l}function Le(We,Ie){for(var Ue=0,$e=0,st=K?new Uint16Array(32768):[];$e<We.length;){var pt=Math.min(65535,We.length-$e);if(pt<10){for(Ue=Je(Ie,Ue,+($e+pt==We.length)),Ue&7&&(Ue+=8-(Ue&7)),Ie.l=Ue/8|0,Ie.write_shift(2,pt),Ie.write_shift(2,~pt&65535);pt-- >0;)Ie[Ie.l++]=We[$e++];Ue=Ie.l*8;continue}Ue=Je(Ie,Ue,+($e+pt==We.length)+2);for(var Et=0;pt-- >0;){var xt=We[$e];Et=(Et<<5^xt)&32767;var it=-1,Ut=0;if((it=st[Et])&&(it|=$e&-32768,it>$e&&(it-=32768),it<$e))for(;We[it+Ut]==We[$e+Ut]&&Ut<250;)++Ut;if(Ut>2){xt=be[Ut],xt<=22?Ue=we(Ie,Ue,ee[xt+1]>>1)-1:(we(Ie,Ue,3),Ue+=5,we(Ie,Ue,ee[xt-23]>>5),Ue+=3);var Vr=xt<8?0:xt-4>>2;Vr>0&&(Oe(Ie,Ue,Ut-de[xt]),Ue+=Vr),xt=ve[$e-it],Ue=we(Ie,Ue,ee[xt]>>3),Ue-=3;var xn=xt<4?0:xt-2>>1;xn>0&&(Oe(Ie,Ue,$e-it-fe[xt]),Ue+=xn);for(var as=0;as<Ut;++as)st[Et]=$e&32767,Et=(Et<<5^We[$e])&32767,++$e;pt-=Ut-1}else xt<=143?xt=xt+48:Ue=le(Ie,Ue,1),Ue=we(Ie,Ue,ee[xt]),st[Et]=$e&32767,++$e}Ue=we(Ie,Ue,0)-1}return Ie.l=(Ue+7)/8|0,Ie.l}return function(Ie,Ue){return Ie.length<8?ye(Ie,Ue):Le(Ie,Ue)}})();function De(re){var ve=rt(50+Math.floor(re.length*1.1)),me=Re(re,ve);return ve.slice(0,me)}var Fe=K?new Uint16Array(32768):Ze(32768),xe=K?new Uint16Array(32768):Ze(32768),He=K?new Uint16Array(128):Ze(128),ot=1,_t=1;function at(re,ve){var me=Ee(re,ve)+257;ve+=5;var ge=Ee(re,ve)+1;ve+=5;var be=Ne(re,ve)+4;ve+=4;for(var ye=0,Le=K?new Uint8Array(19):Ze(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,Ue=K?new Uint8Array(8):Ze(8),$e=K?new Uint8Array(8):Ze(8),st=Le.length,pt=0;pt<be;++pt)Le[Q[pt]]=ye=ae(re,ve),Ie<ye&&(Ie=ye),Ue[ye]++,ve+=3;var Et=0;for(Ue[0]=0,pt=1;pt<=Ie;++pt)$e[pt]=Et=Et+Ue[pt-1]<<1;for(pt=0;pt<st;++pt)(Et=Le[pt])!=0&&(We[pt]=$e[Et]++);var xt=0;for(pt=0;pt<st;++pt)if(xt=Le[pt],xt!=0){Et=ee[We[pt]]>>8-xt;for(var it=(1<<7-xt)-1;it>=0;--it)He[Et|it<<xt]=xt&7|pt<<3}var Ut=[];for(Ie=1;Ut.length<me+ge;)switch(Et=He[ue(re,ve)],ve+=Et&7,Et>>>=3){case 16:for(ye=3+ie(re,ve),ve+=2,Et=Ut[Ut.length-1];ye-- >0;)Ut.push(Et);break;case 17:for(ye=3+ae(re,ve),ve+=3;ye-- >0;)Ut.push(0);break;case 18:for(ye=11+ue(re,ve),ve+=7;ye-- >0;)Ut.push(0);break;default:Ut.push(Et),Ie<Et&&(Ie=Et);break}var Vr=Ut.slice(0,me),xn=Ut.slice(me);for(pt=me;pt<286;++pt)Vr[pt]=0;for(pt=ge;pt<30;++pt)xn[pt]=0;return ot=Se(Vr,Fe,286),_t=Se(xn,xe,30),ve}function Xt(re,ve){if(re[0]==3&&!(re[1]&3))return[Mf(ve),2];for(var me=0,ge=0,be=B7(ve||1<<18),ye=0,Le=be.length>>>0,We=0,Ie=0;(ge&1)==0;){if(ge=ae(re,me),me+=3,ge>>>1)ge>>1==1?(We=9,Ie=5):(me=at(re,me),We=ot,Ie=_t);else{me&7&&(me+=8-(me&7));var Ue=re[me>>>3]|re[(me>>>3)+1]<<8;if(me+=32,Ue>0)for(!ve&&Le<ye+Ue&&(be=Ge(be,ye+Ue),Le=be.length);Ue-- >0;)be[ye++]=re[me>>>3],me+=8;continue}for(;;){!ve&&Le<ye+32767&&(be=Ge(be,ye+32767),Le=be.length);var $e=qe(re,me,We),st=ge>>>1==1?te[$e]:Fe[$e];if(me+=st&15,st>>>=4,(st>>>8&255)===0)be[ye++]=st;else{if(st==256)break;st-=257;var pt=st<8?0:st-4>>2;pt>5&&(pt=0);var Et=ye+de[st];pt>0&&(Et+=qe(re,me,pt),me+=pt),$e=qe(re,me,Ie),st=ge>>>1==1?_e[$e]:xe[$e],me+=st&15,st>>>=4;var xt=st<4?0:st-2>>1,it=fe[st];for(xt>0&&(it+=qe(re,me,xt),me+=xt),!ve&&Le<Et&&(be=Ge(be,Et+100),Le=be.length);ye<Et;)be[ye]=be[ye-it],++ye}}}return ve?[be,me+7>>>3]:[be.slice(0,ye),me+7>>>3]}function Mt(re,ve){var me=re.slice(re.l||0),ge=Xt(me,ve);return re.l+=ge[1],ge[0]}function jt(re,ve){if(re)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function Pr(re,ve){var me=re;Ja(me,0);var ge=[],be=[],ye={FileIndex:ge,FullPaths:be};k(ye,{root:ve.root});for(var Le=me.length-4;(me[Le]!=80||me[Le+1]!=75||me[Le+2]!=5||me[Le+3]!=6)&&Le>=0;)--Le;me.l=Le+4,me.l+=4;var We=me.read_shift(2);me.l+=6;var Ie=me.read_shift(4);for(me.l=Ie,Le=0;Le<We;++Le){me.l+=20;var Ue=me.read_shift(4),$e=me.read_shift(4),st=me.read_shift(2),pt=me.read_shift(2),Et=me.read_shift(2);me.l+=8;var xt=me.read_shift(4),it=l(me.slice(me.l+st,me.l+st+pt));me.l+=st+pt+Et;var Ut=me.l;me.l=xt+4,tr(me,Ue,$e,ye,it),me.l=Ut}return ye}function tr(re,ve,me,ge,be){re.l+=2;var ye=re.read_shift(2),Le=re.read_shift(2),We=o(re);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=re.read_shift(4),Ue=re.read_shift(4),$e=re.read_shift(4),st=re.read_shift(2),pt=re.read_shift(2),Et="",xt=0;xt<st;++xt)Et+=String.fromCharCode(re[re.l++]);if(pt){var it=l(re.slice(re.l,re.l+pt));(it[21589]||{}).mt&&(We=it[21589].mt),((be||{})[21589]||{}).mt&&(We=be[21589].mt)}re.l+=pt;var Ut=re.slice(re.l,re.l+Ue);switch(Le){case 8:Ut=Z(re,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var Vr=!1;ye&8&&(Ie=re.read_shift(4),Ie==134695760&&(Ie=re.read_shift(4),Vr=!0),Ue=re.read_shift(4),$e=re.read_shift(4)),Ue!=ve&&jt(Vr,"Bad compressed size: "+ve+" != "+Ue),$e!=me&&jt(Vr,"Bad uncompressed size: "+me+" != "+$e),Ft(ge,Et,Ut,{unsafe:!0,mt:We})}function Sr(re,ve){var me=ve||{},ge=[],be=[],ye=rt(1),Le=me.compression?8:0,We=0,Ie=0,Ue=0,$e=0,st=0,pt=re.FullPaths[0],Et=pt,xt=re.FileIndex[0],it=[],Ut=0;for(Ie=1;Ie<re.FullPaths.length;++Ie)if(Et=re.FullPaths[Ie].slice(pt.length),xt=re.FileIndex[Ie],!(!xt.size||!xt.content||Et=="Sh33tJ5")){var Vr=$e,xn=rt(Et.length);for(Ue=0;Ue<Et.length;++Ue)xn.write_shift(1,Et.charCodeAt(Ue)&127);xn=xn.slice(0,xn.l),it[st]=LTe.buf(xt.content,0);var as=xt.content;Le==8&&(as=J(as)),ye=rt(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,We),ye.write_shift(2,Le),xt.mt?i(ye,xt.mt):ye.write_shift(4,0),ye.write_shift(-4,it[st]),ye.write_shift(4,as.length),ye.write_shift(4,xt.content.length),ye.write_shift(2,xn.length),ye.write_shift(2,0),$e+=ye.length,ge.push(ye),$e+=xn.length,ge.push(xn),$e+=as.length,ge.push(as),ye=rt(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,We),ye.write_shift(2,Le),ye.write_shift(4,0),ye.write_shift(-4,it[st]),ye.write_shift(4,as.length),ye.write_shift(4,xt.content.length),ye.write_shift(2,xn.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Vr),Ut+=ye.l,be.push(ye),Ut+=xn.length,be.push(xn),++st}return ye=rt(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,st),ye.write_shift(2,st),ye.write_shift(4,Ut),ye.write_shift(4,$e),ye.write_shift(2,0),$a([$a(ge),$a(be),ye])}var Ir={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ca(re,ve){if(re.ctype)return re.ctype;var me=re.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Ir[ge[1]]||ve&&(ge=(me=ve).match(/[\.\\]([^\.\\])+$/),ge&&Ir[ge[1]])?Ir[ge[1]]:"application/octet-stream"}function Ot(re){for(var ve=gb(re),me=[],ge=0;ge<ve.length;ge+=76)me.push(ve.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function Jt(re){var ve=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=ve.split(`\r
`),be=0;be<ge.length;++be){var ye=ge[be];if(ye.length==0){me.push("");continue}for(var Le=0;Le<ye.length;){var We=76,Ie=ye.slice(Le,Le+We);Ie.charAt(We-1)=="="?We--:Ie.charAt(We-2)=="="?We-=2:Ie.charAt(We-3)=="="&&(We-=3),Ie=ye.slice(Le,Le+We),Le+=We,Le<ye.length&&(Ie+="="),me.push(Ie)}}return me.join(`\r
`)}function Mr(re){for(var ve=[],me=0;me<re.length;++me){for(var ge=re[me];me<=re.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+re[++me];ve.push(ge)}for(var be=0;be<ve.length;++be)ve[be]=ve[be].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return qo(ve.join(`\r
`))}function zt(re,ve,me){for(var ge="",be="",ye="",Le,We=0;We<10;++We){var Ie=ve[We];if(!Ie||Ie.match(/^\s*$/))break;var Ue=Ie.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":ge=Ue[2].trim();break;case"content-type":ye=Ue[2].trim();break;case"content-transfer-encoding":be=Ue[2].trim();break}}switch(++We,be.toLowerCase()){case"base64":Le=qo(nl(ve.slice(We).join("")));break;case"quoted-printable":Le=Mr(ve.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var $e=Ft(re,ge.slice(me.length),Le,{unsafe:!0});ye&&($e.ctype=ye)}function Rt(re,ve){if(I(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=ve&&ve.root||"",ge=(Ur&&Buffer.isBuffer(re)?re.toString("binary"):I(re)).split(`\r
`),be=0,ye="";for(be=0;be<ge.length;++be)if(ye=ge[be],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),me||(me=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),ye.slice(0,me.length)!=me););var Le=(ge[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var We="--"+(Le[1]||""),Ie=[],Ue=[],$e={FileIndex:Ie,FullPaths:Ue};k($e);var st,pt=0;for(be=0;be<ge.length;++be){var Et=ge[be];Et!==We&&Et!==We+"--"||(pt++&&zt($e,ge.slice(st,be),me),st=be)}return $e}function or(re,ve){var me=ve||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],ye=re.FullPaths[0],Le=ye,We=re.FileIndex[0],Ie=1;Ie<re.FullPaths.length;++Ie)if(Le=re.FullPaths[Ie].slice(ye.length),We=re.FileIndex[Ie],!(!We.size||!We.content||Le=="Sh33tJ5")){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var Ue=We.content,$e=Ur&&Buffer.isBuffer(Ue)?Ue.toString("binary"):I(Ue),st=0,pt=Math.min(1024,$e.length),Et=0,xt=0;xt<=pt;++xt)(Et=$e.charCodeAt(xt))>=32&&Et<128&&++st;var it=st>=pt*4/5;be.push(ge),be.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Le),be.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),be.push("Content-Type: "+Ca(We,Le)),be.push(""),be.push(it?Jt($e):Ot($e))}return be.push(ge+`--\r
`),be.join(`\r
`)}function vt(re){var ve={};return k(ve,re),ve}function Ft(re,ve,me,ge){var be=ge&&ge.unsafe;be||k(re);var ye=!be&&Zt.find(re,ve);if(!ye){var Le=re.FullPaths[0];ve.slice(0,Le.length)==Le?Le=ve:(Le.slice(-1)!="/"&&(Le+="/"),Le=(Le+ve).replace("//","/")),ye={name:a(ve),type:2},re.FileIndex.push(ye),re.FullPaths.push(Le),be||Zt.utils.cfb_gc(re)}return ye.content=me,ye.size=me?me.length:0,ge&&(ge.CLSID&&(ye.clsid=ge.CLSID),ge.mt&&(ye.mt=ge.mt),ge.ct&&(ye.ct=ge.ct)),ye}function Lt(re,ve){k(re);var me=Zt.find(re,ve);if(me){for(var ge=0;ge<re.FileIndex.length;++ge)if(re.FileIndex[ge]==me)return re.FileIndex.splice(ge,1),re.FullPaths.splice(ge,1),!0}return!1}function er(re,ve,me){k(re);var ge=Zt.find(re,ve);if(ge){for(var be=0;be<re.FileIndex.length;++be)if(re.FileIndex[be]==ge)return re.FileIndex[be].name=a(me),re.FullPaths[be]=me,!0}return!1}function Rn(re){O(re,!0)}return t.find=A,t.read=C,t.parse=d,t.write=U,t.writeFile=G,t.utils={cfb_new:vt,cfb_add:Ft,cfb_del:Lt,cfb_mov:er,cfb_gc:Rn,ReadShift:jy,CheckField:oae,prep_blob:Ja,bconcat:$a,use_zlib:z,_deflateRaw:De,_inflateRaw:Mt,consts:H},t})();let uf;function $Te(e){uf=e}function BTe(e){return typeof e=="string"?Hw(e):Array.isArray(e)?dTe(e):e}function Kw(e,t,r){if(typeof uf<"u"&&uf.writeFileSync)return r?uf.writeFileSync(e,t,r):uf.writeFileSync(e,t);if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Hw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Hc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([BTe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Zf(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function UTe(e){if(typeof uf<"u")return uf.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ps(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function K7(e,t){for(var r=[],n=Ps(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function nk(e){for(var t=[],r=Ps(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function sk(e){for(var t=[],r=Ps(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function VTe(e){for(var t=[],r=Ps(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var zN=new Date(1899,11,30,0,0,0);function Sa(e,t){var r=e.getTime(),n=zN.getTime()+(e.getTimezoneOffset()-zN.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var qse=new Date,zTe=zN.getTime()+(qse.getTimezoneOffset()-zN.getTimezoneOffset())*6e4,Y7=qse.getTimezoneOffset();function ak(e){var t=new Date;return t.setTime(e*24*60*60*1e3+zTe),t.getTimezoneOffset()!==Y7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Y7)*6e4),t}function qTe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var X7=new Date("2017-02-19T19:06:09.000Z"),Wse=isNaN(X7.getFullYear())?new Date("2/19/17"):X7,WTe=Wse.getFullYear()==2017;function ns(e,t){var r=new Date(e);if(WTe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Wse.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function $m(e,t){if(Ur&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Hc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Hc(Pse(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Hc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Hc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Vn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Vn(e[r]));return t}function _s(e,t){for(var r="";r.length<t;)r+=e;return r}function xc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var HTe=["january","february","march","april","may","june","july","august","september","october","november","december"];function N0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&HTe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var GTe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function Hse(e){return e?e.content&&e.type?$m(e.content,!0):e.data?kg(e.data):e.asNodeBuffer&&Ur?kg(e.asNodeBuffer().toString("binary")):e.asBinary?kg(e.asBinary()):e._data&&e._data.getContent?kg($m(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Gse(e){if(!e)return null;if(e.data)return $N(e.data);if(e.asNodeBuffer&&Ur)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?$N(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function KTe(e){return e&&e.name.slice(-4)===".bin"?Gse(e):Hse(e)}function _l(e,t){for(var r=e.FullPaths||Ps(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function lF(e,t){var r=_l(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Ks(e,t,r){if(!r)return KTe(lF(e,t));if(!t)return null;try{return Ks(e,t)}catch{return null}}function Wo(e,t,r){if(!r)return Hse(lF(e,t));if(!t)return null;try{return Wo(e,t)}catch{return null}}function YTe(e,t,r){return Gse(lF(e,t))}function J7(e){for(var t=e.FullPaths||Ps(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Lr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ur?n=fd(r):n=fTe(r),Zt.utils.cfb_add(e,t,n)}Zt.utils.cfb_add(e,t,r)}else e.file(t,r)}function cF(){return Zt.utils.cfb_new()}function Kse(e,t){switch(t.type){case"base64":return Zt.read(e,{type:"base64"});case"binary":return Zt.read(e,{type:"binary"});case"buffer":case"array":return Zt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Jv(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var qs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,XTe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Z7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,JTe=/<[^>]*>/g,Ti=qs.match(Z7)?Z7:JTe,ZTe=/<\w*:/,QTe=/<(\/?)\w+:/;function gr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(XTe),l=0,c="",u=0,d="",f="",m=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function mu(e){return e.replace(QTe,"<$1")}var Yse={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},uF=nk(Yse),an=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return Yse[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),dF=/[&<>'"]/g,eAe=/[\u0000-\u0008\u000b-\u001f]/g;function Tn(e){var t=e+"";return t.replace(dF,function(r){return uF[r]}).replace(eAe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Q7(e){return Tn(e).replace(/ /g,"_x0020_")}var Xse=/[\u0000-\u001f]/g;function fF(e){var t=e+"";return t.replace(dF,function(r){return uF[r]}).replace(/\n/g,"<br/>").replace(Xse,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function tAe(e){var t=e+"";return t.replace(dF,function(r){return uF[r]}).replace(Xse,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var eV=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function rAe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ts(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function HT(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function tV(e){var t=Mf(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function rV(e){return fd(e,"binary").toString("utf8")}var X_="foo bar baz",On=Ur&&(rV(X_)==HT(X_)&&rV||tV(X_)==HT(X_)&&tV)||HT,Hc=Ur?function(e){return fd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},vb=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),Jse=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),nAe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),sAe=/<\/?(?:vt:)?variant>/g,aAe=/<(?:vt:)([^>]*)>([\s\S]*)</;function nV(e,t){var r=gr(e),n=e.match(nAe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(sAe,"").match(aAe);o&&a.push({v:On(o[2]),t:o[1]})}),a}var Zse=/(^\s|\s$|\n)/;function ei(e,t){return"<"+e+(t.match(Zse)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function yb(e){return Ps(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function St(e,t,r){return"<"+e+(r!=null?yb(r):"")+(t!=null?(t.match(Zse)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function o3(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function iAe(e,t){switch(typeof e){case"string":var r=St("vt:lpwstr",Tn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return St((e|0)==e?"vt:i4":"vt:r8",Tn(String(e)));case"boolean":return St("vt:bool",e?"true":"false")}if(e instanceof Date)return St("vt:filetime",o3(e));throw new Error("Unable to serialize "+e)}function hF(e){if(Ur&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return On(Zf(aF(e)));throw new Error("Bad input format: expected Buffer or string")}var bb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},lp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$o={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function oAe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function lAe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var sV=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},aV=Ur?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:fd(t)})):sV(e)}:sV,iV=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Lu(e,a)));return n.join("").replace(Si,"")},ik=Ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Si,""):iV(e,t,r)}:iV,oV=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Qse=Ur?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):oV(e,t,r)}:oV,lV=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(yg(e,a)));return n.join("")},gx=Ur?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):lV(t,r,n)}:lV,eae=function(e,t){var r=Fa(e,t);return r>0?gx(e,t+4,t+4+r-1):""},mF=eae,tae=function(e,t){var r=Fa(e,t);return r>0?gx(e,t+4,t+4+r-1):""},pF=tae,rae=function(e,t){var r=2*Fa(e,t);return r>0?gx(e,t+4,t+4+r-1):""},gF=rae,nae=function(t,r){var n=Fa(t,r);return n>0?ik(t,r+4,r+4+n):""},xF=nae,sae=function(e,t){var r=Fa(e,t);return r>0?gx(e,t+4,t+4+r):""},vF=sae,aae=function(e,t){return oAe(e,t)},qN=aae,yF=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ur&&(mF=function(t,r){if(!Buffer.isBuffer(t))return eae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},pF=function(t,r){if(!Buffer.isBuffer(t))return tae(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},gF=function(t,r){if(!Buffer.isBuffer(t))return rae(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},xF=function(t,r){if(!Buffer.isBuffer(t))return nae(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},vF=function(t,r){if(!Buffer.isBuffer(t))return sae(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},qN=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):aae(t,r)},yF=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function iae(){ik=function(e,t,r){return Qr.utils.decode(1200,e.slice(t,r)).replace(Si,"")},gx=function(e,t,r){return Qr.utils.decode(65001,e.slice(t,r))},mF=function(e,t){var r=Fa(e,t);return r>0?Qr.utils.decode(Fm,e.slice(t+4,t+4+r-1)):""},pF=function(e,t){var r=Fa(e,t);return r>0?Qr.utils.decode(Jo,e.slice(t+4,t+4+r-1)):""},gF=function(e,t){var r=2*Fa(e,t);return r>0?Qr.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},xF=function(e,t){var r=Fa(e,t);return r>0?Qr.utils.decode(1200,e.slice(t+4,t+4+r)):""},vF=function(e,t){var r=Fa(e,t);return r>0?Qr.utils.decode(65001,e.slice(t+4,t+4+r)):""}}typeof Qr<"u"&&iae();var yg=function(e,t){return e[t]},Lu=function(e,t){return e[t+1]*256+e[t]},cAe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Fa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Lh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},uAe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function jy(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Lu(this,u)),u+=2;e*=2;break;case"utf8":r=gx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=ik(this,this.l,this.l+e);break;case"wstr":if(typeof Qr<"u")r=Qr.utils.decode(Jo,this.slice(this.l,this.l+2*e));else return jy.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=mF(this,this.l),e=4+Fa(this,this.l);break;case"lpstr-cp":r=pF(this,this.l),e=4+Fa(this,this.l);break;case"lpwstr":r=gF(this,this.l),e=4+2*Fa(this,this.l);break;case"lpp4":e=4+Fa(this,this.l),r=xF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Fa(this,this.l),r=vF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=yg(this,this.l+e++))!==0;)i.push(Yv(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Lu(this,this.l+e))!==0;)i.push(Yv(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=yg(this,u),this.l=u+1,l=jy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Yv(Lu(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":if(typeof Qr<"u"){r=Qr.utils.decode(Jo,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=yg(this,u),this.l=u+1,l=jy.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Yv(yg(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=yg(this,this.l),this.l++,n;case 2:return n=(t==="i"?cAe:Lu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Lh:uAe)(this,this.l),this.l+=4,n):(a=Fa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=qN(this,this.l):a=qN([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Qse(this,this.l,e);break}}return this.l+=e,r}var dAe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},fAe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hAe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function mAe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)hAe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){if(typeof Qr<"u"&&Fm==874)for(a=0;a!=t.length;++a){var i=Qr.utils.encode(Fm,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dAe(this,t,this.l);break;case 8:if(n=8,r==="f"){lAe(this,t,this.l);break}case 16:break;case-4:n=4,fAe(this,t,this.l);break}return this.l+=n,this}function oae(e,t){var r=Qse(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ja(e,t){e.l=t,e.read_shift=jy,e.chk=oae,e.write_shift=mAe}function Ei(e,t){e.l+=t}function rt(e){var t=Mf(e);return Ja(t,0),t}function hd(e,t,r){if(e){var n,a,i;Ja(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=kb[l]||kb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function wo(){var e=[],t=Ur?256:2048,r=function(u){var d=rt(u);return Ja(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),$a(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function ct(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=kb[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&yF(r)&&e.push(r)}}function Ny(e,t,r){var n=Vn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function cV(e,t,r){var n=Vn(e);return n.s=Ny(n.s,t.s,r),n.e=Ny(n.e,t.s,r),n}function Sy(e,t){if(e.cRel&&e.c<0)for(e=Vn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Vn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=cr(e);return!e.cRel&&e.cRel!=null&&(r=xAe(r)),!e.rRel&&e.rRel!=null&&(r=pAe(r)),r}function GT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+rs(e.s.c)+":"+(e.e.cRel?"":"$")+rs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Es(e.s.r)+":"+(e.e.rRel?"":"$")+Es(e.e.r):Sy(e.s,t.biff)+":"+Sy(e.e,t.biff)}function bF(e){return parseInt(gAe(e),10)-1}function Es(e){return""+(e+1)}function pAe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gAe(e){return e.replace(/\$(\d+)$/,"$1")}function wF(e){for(var t=vAe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function rs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function xAe(e){return e.replace(/^([A-Z])/,"$$$1")}function vAe(e){return e.replace(/^\$([A-Z])/,"$1")}function yAe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ys(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function cr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Xi(e){var t=e.indexOf(":");return t==-1?{s:ys(e),e:ys(e)}:{s:ys(e.slice(0,t)),e:ys(e.slice(t+1))}}function Dr(e,t){return typeof t>"u"||typeof t=="number"?Dr(e.s,e.e):(typeof e!="string"&&(e=cr(e)),typeof t!="string"&&(t=cr(t)),e==t?e:e+":"+t)}function Jr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function uV(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=sl(e.z,r?Sa(t):t)}catch{}try{return e.w=sl((e.XF||{}).numFmtId||(r?14:0),r?Sa(t):t)}catch{return""+t}}function iu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?md[e.v]||e.v:t==null?uV(e,e.v):uV(e,t))}function Qf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function lae(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?ys(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Jr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var p={v:t[f][m]},y=o+f,g=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))p=t[f][m];else if(Array.isArray(p.v)&&(p.f=t[f][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||ar[14],n.cellDates?(p.t="d",p.w=sl(p.z,Sa(p.v))):(p.t="n",p.v=Sa(p.v),p.w=sl(p.z,p.v))):p.t="s";if(a)i[y]||(i[y]=[]),i[y][g]&&i[y][g].z&&(p.z=i[y][g].z),i[y][g]=p;else{var v=cr({c:g,r:y});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=Dr(u)),i}function xx(e,t){return lae(null,e,t)}function bAe(e){return e.read_shift(4,"i")}function vc(e,t){return t||(t=rt(4)),t.write_shift(4,e),t}function ki(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ba(e,t){var r=!1;return t==null&&(r=!0,t=rt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function wAe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function _Ae(e,t){return t||(t=rt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function _F(e,t){var r=e.l,n=e.read_shift(1),a=ki(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(wAe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function jAe(e,t){var r=!1;return t==null&&(r=!0,t=rt(15+4*e.t.length)),t.write_shift(1,0),Ba(e.t,t),r?t.slice(0,t.l):t}var NAe=_F;function SAe(e,t){var r=!1;return t==null&&(r=!0,t=rt(23+4*e.t.length)),t.write_shift(1,1),Ba(e.t,t),t.write_shift(4,1),_Ae({},t),r?t.slice(0,t.l):t}function zl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function cp(e,t){return t==null&&(t=rt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function up(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function dp(e,t){return t==null&&(t=rt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var kAe=ki,cae=Ba;function jF(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function WN(e,t){var r=!1;return t==null&&(r=!0,t=rt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var CAe=ki,l3=jF,NF=WN;function SF(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?qN([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Lh(t,0)>>2;return r?a/100:a}function uae(e,t){t==null&&(t=rt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function dae(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function EAe(e,t){return t||(t=rt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var fp=dae,vx=EAe;function wi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Bm(e,t){return(t||rt(8)).write_shift(8,e,"f")}function TAe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=cm[a];u&&(t.rgb=_b(u));break;case 2:t.rgb=_b([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function HN(e,t){if(t||(t=rt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function AAe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function PAe(e,t){t||(t=rt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function fae(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function OAe(e){return fae(e,1)}function RAe(e){return fae(e,2)}var kF=2,co=3,J_=11,dV=12,GN=19,Z_=64,DAe=65,IAe=71,MAe=4108,FAe=4126,Da=80,hae=81,LAe=[Da,hae],c3={1:{n:"CodePage",t:kF},2:{n:"Category",t:Da},3:{n:"PresentationFormat",t:Da},4:{n:"ByteCount",t:co},5:{n:"LineCount",t:co},6:{n:"ParagraphCount",t:co},7:{n:"SlideCount",t:co},8:{n:"NoteCount",t:co},9:{n:"HiddenCount",t:co},10:{n:"MultimediaClipCount",t:co},11:{n:"ScaleCrop",t:J_},12:{n:"HeadingPairs",t:MAe},13:{n:"TitlesOfParts",t:FAe},14:{n:"Manager",t:Da},15:{n:"Company",t:Da},16:{n:"LinksUpToDate",t:J_},17:{n:"CharacterCount",t:co},19:{n:"SharedDoc",t:J_},22:{n:"HyperlinksChanged",t:J_},23:{n:"AppVersion",t:co,p:"version"},24:{n:"DigSig",t:DAe},26:{n:"ContentType",t:Da},27:{n:"ContentStatus",t:Da},28:{n:"Language",t:Da},29:{n:"Version",t:Da},255:{},2147483648:{n:"Locale",t:GN},2147483651:{n:"Behavior",t:GN},1919054434:{}},u3={1:{n:"CodePage",t:kF},2:{n:"Title",t:Da},3:{n:"Subject",t:Da},4:{n:"Author",t:Da},5:{n:"Keywords",t:Da},6:{n:"Comments",t:Da},7:{n:"Template",t:Da},8:{n:"LastAuthor",t:Da},9:{n:"RevNumber",t:Da},10:{n:"EditTime",t:Z_},11:{n:"LastPrinted",t:Z_},12:{n:"CreatedDate",t:Z_},13:{n:"ModifiedDate",t:Z_},14:{n:"PageCount",t:co},15:{n:"WordCount",t:co},16:{n:"CharCount",t:co},17:{n:"Thumbnail",t:IAe},18:{n:"Application",t:Da},19:{n:"DocSecurity",t:co},255:{},2147483648:{n:"Locale",t:GN},2147483651:{n:"Behavior",t:GN},1919054434:{}},fV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},$Ae=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function BAe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var UAe=BAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cm=Vn(UAe),md={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},mae={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},d3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Q_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function CF(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function VAe(e){var t=CF();if(!e||!e.match)return t;var r={};if((e.match(Ti)||[]).forEach(function(n){var a=gr(n);switch(a[0].replace(ZTe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[d3[a.ContentType]]!==void 0&&t[d3[a.ContentType]].push(a.PartName);break}}),t.xmlns!==wa.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function pae(e,t){var r=VTe(d3),n=[],a;n[n.length]=qs,n[n.length]=St("Types",null,{xmlns:wa.CT,"xmlns:xsd":wa.xsd,"xmlns:xsi":wa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return St("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=St("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Q_[c][t.bookType]||Q_[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=St("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Q_[c][t.bookType]||Q_[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=St("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Hr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wb(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ky(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ti)||[]).forEach(function(a){var i=gr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Jv(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function Qg(e){var t=[qs,St("Relationships",null,{xmlns:wa.RELS})];return Ps(e["!id"]).forEach(function(r){t[t.length]=St("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function En(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Hr.HLINK,Hr.XPATH,Hr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var zAe="application/vnd.oasis.opendocument.spreadsheet";function qAe(e,t){for(var r=hF(e),n,a;n=bb.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=gr(n[0],!1),a.path=="/"&&a.type!==zAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function WAe(e){var t=[qs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function hV(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function HAe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function GAe(e){var t=[qs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(hV(e[r][0],e[r][1])),t.push(HAe("",e[r][0]));return t.push(hV("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function gae(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+pb.version+"</meta:generator></office:meta></office:document-meta>"}var Fl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],KAe=(function(){for(var e=new Array(Fl.length),t=0;t<Fl.length;++t){var r=Fl[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function xae(e){var t={};e=On(e);for(var r=0;r<Fl.length;++r){var n=Fl[r],a=e.match(KAe[r]);a!=null&&a.length>0&&(t[n[1]]=an(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ns(t[n[1]]))}return t}function KT(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Tn(t),n[n.length]=r?St(e,t,r):ei(e,t))}function vae(e,t){var r=t||{},n=[qs,St("cp:coreProperties",null,{"xmlns:cp":wa.CORE_PROPS,"xmlns:dc":wa.dc,"xmlns:dcterms":wa.dcterms,"xmlns:dcmitype":wa.dcmitype,"xmlns:xsi":wa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&KT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:o3(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&KT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:o3(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Fl.length;++i){var o=Fl[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&KT(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var um=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],yae=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function bae(e,t,r,n){var a=[];if(typeof e=="string")a=nV(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?nV(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function YAe(e,t,r){var n={};return t||(t={}),e=On(e),um.forEach(function(a){var i=(e.match(vb(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=an(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&bae(n.HeadingPairs,n.TitlesOfParts,t,r),t}function wae(e){var t=[],r=St;return e||(e={}),e.Application="SheetJS",t[t.length]=qs,t[t.length]=St("Properties",null,{xmlns:wa.EXT_PROPS,"xmlns:vt":wa.vt}),um.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Tn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Tn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var XAe=/<[^>]+>[^<]*/g;function JAe(e,t){var r={},n="",a=e.match(XAe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=gr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=an(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=an(d);break;case"bool":r[n]=ts(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ns(d);break;case"cy":case"error":r[n]=an(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function _ae(e){var t=[qs,St("Properties",null,{xmlns:wa.CUST_PROPS,"xmlns:vt":wa.vt})];if(!e)return t.join("");var r=1;return Ps(e).forEach(function(a){++r,t[t.length]=St("property",iAe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Tn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var f3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},YT;function ZAe(e,t,r){YT||(YT=nk(f3)),t=YT[t]||t,e[t]=r}function QAe(e,t){var r=[];return Ps(f3).map(function(n){for(var a=0;a<Fl.length;++a)if(Fl[a][1]==n)return Fl[a];for(a=0;a<um.length;++a)if(um[a][1]==n)return um[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ei(f3[n[1]]||n[1],a))}}),St("DocumentProperties",r.join(""),{xmlns:$o.o})}function ePe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ps(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Fl.length;++o)if(i==Fl[o][1])return;for(o=0;o<um.length;++o)if(i==um[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(St(Q7(i),l,{"dt:dt":c}))}}),t&&Ps(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(St(Q7(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+$o.o+'">'+a.join("")+"</"+n+">"}function EF(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function tPe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=rt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function jae(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Nae(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Sae(e,t,r){return t===31?Nae(e):jae(e,t,r)}function h3(e,t,r){return Sae(e,t,r===!1?0:4)}function rPe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Sae(e,t,0)}function nPe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Si,""),e.l-a&2&&(e.l+=2)}return r}function sPe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Si,"");return r}function aPe(e){var t=e.l,r=KN(e,hae);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=KN(e,co);return[r,n]}function iPe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(aPe(e));return r}function mV(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Si,"").replace(Xv,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function kae(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function oPe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function KN(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==dV&&n!==t&&LAe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===dV?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return jae(e,n,4).replace(Si,"");case 31:return Nae(e);case 64:return EF(e);case 65:return kae(e);case 71:return oPe(e);case 80:return h3(e,n,!i.raw).replace(Si,"");case 81:return rPe(e,n).replace(Si,"");case 4108:return iPe(e);case 4126:case 4127:return n==4127?nPe(e):sPe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function pV(e,t){var r=rt(4),n=rt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=rt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=tPe(t);break;case 31:case 80:for(n=rt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return $a([r,n])}function gV(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(b,j){return b[1]-j[1]});var m={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(m[y.n]=KN(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Al(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(i[o][0]===1){if(l=m.CodePage=KN(e,kF),Al(l),c!==-1){var g=e.l;e.l=i[c][1],u=mV(e,l),e.l=g}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=mV(e,l)}else{var v=u[i[o][0]],w;switch(e[e.l]){case 65:e.l+=4,w=kae(e);break;case 30:e.l+=4,w=h3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=h3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=Ds(e,4);break;case 64:e.l+=4,w=ns(EF(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[v]=w}}return e.l=r+n,m}var Cae=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lPe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function xV(e,t,r){var n=rt(8),a=[],i=[],o=8,l=0,c=rt(8),u=rt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=rt(8),u.write_shift(4,0),a.unshift(u);var d=[rt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=rt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=$a(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Cae.indexOf(e[l][0])>-1||yae.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=pV(y.t,m)}else{var v=lPe(m);v==-1&&(v=31,m=String(m)),c=pV(v,m)}i.push(c),u=rt(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var w=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,w),w+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),$a([n].concat(a).concat(i))}function vV(e,t,r){var n=e.content;if(!n)return{};Ja(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Zt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=gV(n,t),m={SystemIdentifier:u};for(var p in f)m[p]=f[p];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=gV(n,null)}catch{}for(p in y)m[p]=y[p];return m.FMTID=[i,o],m}function yV(e,t,r,n,a,i){var o=rt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Zt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=xV(e,r,n);if(l.push(c),a){var u=xV(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return $a(l)}function Vd(e,t){return e.read_shift(t),null}function cPe(e,t){t||(t=rt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function uPe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ds(e,t){return e.read_shift(t)===1}function $i(e,t){return t||(t=rt(2)),t.write_shift(2,+!!e),t}function Ys(e){return e.read_shift(2,"u")}function jl(e,t){return t||(t=rt(2)),t.write_shift(2,e),t}function Eae(e,t){return uPe(e,t,Ys)}function dPe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Tae(e,t,r){return r||(r=rt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Yw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=Jo;if(r&&r.biff>=8&&(Jo=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return Jo=i,l}function fPe(e){var t=Jo;Jo=1200;var r=e.read_shift(2),n=e.read_shift(1),a=n&4,i=n&8,o=1+(n&1),l=0,c,u={};i&&(l=e.read_shift(2)),a&&(c=e.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),a&&(e.l+=c),u.t=f,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),Jo=t,u}function hPe(e){var t=e.t||"",r=rt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=rt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return $a(a)}function Um(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Xw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Um(e,n,r)}function hp(e,t,r){if(r.biff>5)return Xw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Aae(e,t,r){return r||(r=rt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function mPe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function pPe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Si,"");return n&&(e.l+=24),a}function gPe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Si,"");return r+o}function xPe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return pPe(e);case"0303000000000000c000000000000046":return gPe(e);default:throw new Error("Unsupported Moniker "+r)}}function ej(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Si,""):"";return r}function bV(e,t){t||(t=rt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function vPe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=ej(e,r-e.l)),a&128&&(o=ej(e,r-e.l)),(a&257)===257&&(l=ej(e,r-e.l)),(a&257)===1&&(c=xPe(e,r-e.l)),a&8&&(u=ej(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=EF(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function yPe(e){var t=rt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),bV(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&bV(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Pae(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Oae(e,t){var r=Pae(e);return r[3]=0,r}function pu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Vm(e,t,r,n){return n||(n=rt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function bPe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function wPe(e,t,r){return t===0?"":hp(e,t,r)}function _Pe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Rae(e){var t=e.read_shift(2),r=SF(e);return[t,r]}function jPe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Yw(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function ok(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Dae(e,t){return t||(t=rt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Iae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var NPe=Iae;function Mae(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function SPe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function kPe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ui(e){e.l+=2,e.l+=e.read_shift(2)}var CPe={0:ui,4:ui,5:ui,6:ui,7:kPe,8:ui,9:ui,10:ui,11:ui,12:ui,13:SPe,14:ui,15:ui,16:ui,17:ui,18:ui,19:ui,20:ui,21:Mae};function EPe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(CPe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function tj(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function TF(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=rt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function TPe(e,t){return t===0||e.read_shift(2),1200}function APe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=hp(e,0,r);return e.read_shift(t+n-e.l),a}function PPe(e,t){var r=!t||t.biff==8,n=rt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function OPe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function RPe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Yw(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function DPe(e,t){var r=!t||t.biff>=8?2:1,n=rt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function IPe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(fPe(e));return i.Count=n,i.Unique=a,i}function MPe(e,t){var r=rt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=hPe(e[a]);var i=$a([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function FPe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function LPe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function $Pe(e){var t=bPe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function BPe(e){return e.read_shift(2),e.read_shift(4)}function wV(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function UPe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function VPe(){var e=rt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function zPe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function qPe(e){var t=rt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function WPe(){}function HPe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Yw(e,0,r),n}function GPe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=rt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function KPe(e){var t=pu(e);return t.isst=e.read_shift(4),t}function YPe(e,t,r,n){var a=rt(10);return Vm(e,t,n,a),a.write_shift(4,r),a}function XPe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=pu(e);r.biff==2&&e.l++;var i=Xw(e,n-e.l,r);return a.val=i,a}function JPe(e,t,r,n,a){var i=!a||a.biff==8,o=rt(8+ +i+(1+i)*r.length);return Vm(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function ZPe(e,t,r){var n=e.read_shift(2),a=hp(e,0,r);return[n,a]}function QPe(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var e4e=hp;function _V(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function t4e(e,t){var r=t.biff==8||!t.biff?4:2,n=rt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function r4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=Rae(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function n4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Rae(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function s4e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function a4e(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=$Ae[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function i4e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=a4e(e,t,n.fStyle,r),n}function jV(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function o4e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function l4e(e){var t=rt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function NV(e,t,r){var n=pu(e);(r.biff==2||t==9)&&++e.l;var a=dPe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function c4e(e,t,r,n,a,i){var o=rt(8);return Vm(e,t,n,o),Tae(r,i,o),o}function u4e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=pu(e),a=wi(e);return n.val=a,n}function d4e(e,t,r,n){var a=rt(14);return Vm(e,t,n,a),Bm(r,a),a}var SV=wPe;function f4e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Um(e,i),l=[];n>e.l;)l.push(Xw(e));return[i,a,o,l]}function kV(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=jPe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var h4e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function CV(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Um(e,o,r);a&32&&(u=h4e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:E3e(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function Fae(e,t,r){if(r.biff<8)return m4e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(_Pe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function m4e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Yw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function p4e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Um(e,n,r),o=Um(e,a,r);return[i,o]}function g4e(e,t,r){var n=Iae(e);e.l++;var a=e.read_shift(1);return t-=8,[T3e(e,t,r),a,n]}function EV(e,t,r){var n=NPe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,k3e(e,t,r)]}function x4e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function v4e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=hp(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function y4e(e,t,r){return v4e(e,t,r)}function b4e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(ok(e));return r}function w4e(e){var t=rt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Dae(e[r],t);return t}function _4e(e,t,r){if(r&&r.biff<8)return N4e(e,t,r);var n=Mae(e),a=EPe(e,t-22,n[1]);return{cmo:n,ft:a}}var j4e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function N4e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((j4e[n]||Ei)(e,t,r)),{cmo:[a,n,i],ft:o}}function S4e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=mPe(e,6,r);var l=e.read_shift(2);e.read_shift(2),Ys(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Um(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function k4e(e,t){var r=ok(e);e.l+=16;var n=vPe(e,t-24);return[r,n]}function C4e(e){var t=rt(24),r=ys(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return $a([t,yPe(e[1])])}function E4e(e,t){e.read_shift(2);var r=ok(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Si,""),[r,n]}function T4e(e){var t=e[1].Tooltip,r=rt(10+2*(t.length+1));r.write_shift(2,2048);var n=ys(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function A4e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=fV[r]||r,r=e.read_shift(2),t[1]=fV[r]||r,t}function P4e(e){return e||(e=rt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function O4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Oae(e));return r}function R4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Oae(e));return r}function D4e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Lae(e,t,r){if(!r.cellStyles)return Ei(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function I4e(e,t){var r=rt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function M4e(e,t){var r={};return t<32||(e.l+=16,r.header=wi(e),r.footer=wi(e),e.l+=2),r}function F4e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function L4e(e){for(var t=rt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var $4e=pu,B4e=Eae,U4e=Xw;function V4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function z4e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=pu(e);++e.l;var a=hp(e,t-7,r);return n.t="str",n.val=a,n}function q4e(e){var t=pu(e);++e.l;var r=wi(e);return t.t="n",t.val=r,t}function W4e(e,t,r){var n=rt(15);return e1(n,e,t),n.write_shift(8,r,"f"),n}function H4e(e){var t=pu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function G4e(e,t,r){var n=rt(9);return e1(n,e,t),n.write_shift(2,r),n}function K4e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Y4e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function X4e(e,t,r){var n=e.l+t,a=pu(e),i=e.read_shift(2),o=Um(e,i,r);return e.l=n,a.t="str",a.val=o,a}var J4e=[2,3,48,49,131,139,140,245],m3=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=nk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Mf(1);switch(c.type){case"base64":d=qo(nl(l));break;case"binary":d=qo(l);break;case"buffer":case"array":d=l;break}Ja(d,0);var f=d.read_shift(1),m=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var w=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var j=[],E={},S=Math.min(d.length,f==2?521:v-10-(p?264:0)),C=y?32:11;d.l<S&&d[d.l]!=13;)switch(E={},E.name=Qr.utils.decode(b,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,E.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),f==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&j.push(E),f!=2&&(d.l+=y?13:14),E.type){case"B":(!p||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var k=0,D=0;for(u[0]=[],D=0;D!=j.length;++D)u[0][D]=j[D].name;for(;g-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,u[++k]=[],D=0,D=0;D!=j.length;++D){var O=d.slice(d.l,d.l+j[D].len);d.l+=j[D].len,Ja(O,0);var P=Qr.utils.decode(b,O);switch(j[D].type){case"C":P.trim().length&&(u[k][D]=P.replace(/\s+$/,""));break;case"D":P.length===8?u[k][D]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):u[k][D]=P;break;case"F":u[k][D]=parseFloat(P.trim());break;case"+":case"I":u[k][D]=y?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":u[k][D]=!0;break;case"N":case"F":u[k][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][D]="##MEMO##"+(y?parseInt(P.trim(),10):O.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(u[k][D]=+P||0);break;case"@":u[k][D]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[k][D]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[k][D]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][D]=-O.read_shift(-8,"f");break;case"B":if(p&&j[D].len==8){u[k][D]=O.read_shift(8,"f");break}case"G":case"P":O.l+=j[D].len;break;case"0":if(j[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[D].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=j,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=xx(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Qf(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Al(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=wo(),f=ZN(l,{header:1,raw:!0,cellDates:!0}),m=f[0],p=f.slice(1),y=l["!cols"]||[],g=0,v=0,w=0,b=1;for(g=0;g<m.length;++g){if(((y[g]||{}).DBF||{}).name){m[g]=y[g].DBF.name,++w;continue}if(m[g]!=null){if(++w,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(v=0;v<1024;++v)if(m.indexOf(m[g]+"_"+v)==-1){m[g]+="_"+v;break}}}}var j=Jr(l["!ref"]),E=[],S=[],C=[];for(g=0;g<=j.e.c-j.s.c;++g){var k="",D="",O=0,P=[];for(v=0;v<p.length;++v)p[v][g]!=null&&P.push(p[v][g]);if(P.length==0||m[g]==null){E[g]="?";continue}for(v=0;v<P.length;++v){switch(typeof P[v]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=P[v]instanceof Date?"D":"C";break;default:D="C"}O=Math.max(O,String(P[v]).length),k=k&&k!=D?"C":D}O>250&&(O=250),D=((y[g]||{}).DBF||{}).type,D=="C"&&y[g].DBF.len>O&&(O=y[g].DBF.len),k=="B"&&D=="N"&&(k="N",C[g]=y[g].DBF.dec,O=y[g].DBF.len),S[g]=k=="C"||D=="N"?O:i[k]||0,b+=S[g],E[g]=k}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,p.length),A.write_shift(2,296+32*w),A.write_shift(2,b),g=0;g<4;++g)A.write_shift(4,0);for(A.write_shift(4,0|(+t[Fm]||3)<<8),g=0,v=0;g<m.length;++g)if(m[g]!=null){var R=d.next(32),F=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,F,"sbcs"),R.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),R.write_shift(4,v),R.write_shift(1,S[g]||i[E[g]]||0),R.write_shift(1,C[g]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),v+=S[g]||i[E[g]]||0}var L=d.next(264);for(L.write_shift(4,13),g=0;g<65;++g)L.write_shift(4,0);for(g=0;g<p.length;++g){var W=d.next(b);for(W.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(E[v]){case"L":W.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":W.write_shift(8,p[g][v]||0,"f");break;case"N":var V="0";for(typeof p[g][v]=="number"&&(V=p[g][v].toFixed(C[v]||0)),w=0;w<S[v]-V.length;++w)W.write_shift(1,32);W.write_shift(1,V,"sbcs");break;case"D":p[g][v]?(W.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var H=String(p[g][v]!=null?p[g][v]:"").slice(0,S[v]);for(W.write_shift(1,H,"sbcs"),w=0;w<S[v]-H.length;++w)W.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),$ae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ps(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var y=e[p];return typeof y=="number"?i3(y):y},n=function(m,p,y){var g=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?m:i3(g)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return i(nl(m),p);case"binary":return i(m,p);case"buffer":return i(Ur&&Buffer.isBuffer(m)?m.toString("binary"):Zf(m),p);case"array":return i($m(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var y=m.split(/[\n\r]+/),g=-1,v=-1,w=0,b=0,j=[],E=[],S=null,C={},k=[],D=[],O=[],P=0,A;for(+p.codepage>=0&&Al(+p.codepage);w!==y.length;++w){P=0;var R=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=R.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),L=F[0],W;if(R.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&E.push(R.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,H=!1,G=!1,I=!1,U=-1,X=-1;for(b=1;b<F.length;++b)switch(F[b].charAt(0)){case"A":break;case"X":v=parseInt(F[b].slice(1))-1,H=!0;break;case"Y":for(g=parseInt(F[b].slice(1))-1,H||(v=0),A=j.length;A<=g;++A)j[A]=[];break;case"K":W=F[b].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN(xc(W))?isNaN(N0(W).getDate())||(W=ns(W)):(W=xc(W),S!==null&&op(S)&&(W=ak(W))),typeof Qr<"u"&&typeof W=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(W=Qr.utils.decode(p.codepage,W)),V=!0;break;case"E":I=!0;var z=e0(F[b].slice(1),{r:g,c:v});j[g][v]=[j[g][v],z];break;case"S":G=!0,j[g][v]=[j[g][v],"S5S"];break;case"G":break;case"R":U=parseInt(F[b].slice(1))-1;break;case"C":X=parseInt(F[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}if(V&&(j[g][v]&&j[g][v].length==2?j[g][v][0]=W:j[g][v]=W,S=null),G){if(I)throw new Error("SYLK shared formula cannot have own formula");var Z=U>-1&&j[U][X];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");j[g][v][1]=nie(Z[1],{r:g-U,c:v-X})}break;case"F":var J=0;for(b=1;b<F.length;++b)switch(F[b].charAt(0)){case"X":v=parseInt(F[b].slice(1))-1,++J;break;case"Y":for(g=parseInt(F[b].slice(1))-1,A=j.length;A<=g;++A)j[A]=[];break;case"M":P=parseInt(F[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=E[parseInt(F[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=F[b].slice(1).split(" "),A=parseInt(O[0],10);A<=parseInt(O[1],10);++A)P=parseInt(O[2],10),D[A-1]=P===0?{hidden:!0}:{wch:P},Ff(D[A-1]);break;case"C":v=parseInt(F[b].slice(1))-1,D[v]||(D[v]={});break;case"R":g=parseInt(F[b].slice(1))-1,k[g]||(k[g]={}),P>0?(k[g].hpt=P,k[g].hpx=k0(P)):P===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}J<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}}return k.length>0&&(C["!rows"]=k),D.length>0&&(C["!cols"]=D),p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),[j,C]}function o(m,p){var y=a(m,p),g=y[0],v=y[1],w=xx(g,p);return Ps(v).forEach(function(b){w[b]=v[b]}),w}function l(m,p){return Qf(o(m,p),p)}function c(m,p,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+IF(m.f,{r:y,c:g}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,p){p.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=jb(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Nb(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,p){p.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*Sb(y.hpx)+";"),v.length>2&&m.push(v+"R"+(g+1))})}function f(m,p){var y=["ID;PWXL;N;E"],g=[],v=Jr(m["!ref"]),w,b=Array.isArray(m),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var S=v.s.c;S<=v.e.c;++S){var C=cr({r:E,c:S});w=b?(m[E]||[])[S]:m[C],!(!w||w.v==null&&(!w.f||w.F))&&g.push(c(w,m,E,S))}return y.join(j)+j+g.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),Bae=(function(){function e(i,o){switch(o.type){case"base64":return t(nl(i),o);case"binary":return t(i,o);case"buffer":return t(Ur&&Buffer.isBuffer(i)?i.toString("binary"):Zf(i),o);case"array":return t($m(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],y=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(xc(y))?isNaN(N0(y).getDate())?f[c][u]=y:f[c][u]=ns(y):f[c][u]=xc(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return xx(e(i,o),o)}function n(i,o){return Qf(r(i,o),o)}var a=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Jr(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var g=cr({r:p,c:y});if(f=m?(c[p]||[])[y]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=sl(f.z||ar[14],Sa(ns(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var w=`\r
`,b=u.join(w);return b}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),Uae=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var p=f.split(`
`),y=-1,g=-1,v=0,w=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var j=ys(b[1]);if(w.length<=j.r)for(y=w.length;y<=j.r;++y)w[y]||(w[y]=[]);switch(y=j.r,g=j.c,b[2]){case"t":w[y][g]=e(b[3]);break;case"v":w[y][g]=+b[3];break;case"vtf":var E=b[b.length-1];case"vtc":switch(b[3]){case"nl":w[y][g]=!!+b[4];break;default:w[y][g]=+b[4];break}b[2]=="vtf"&&(w[y][g]=[w[y][g],E])}}}return m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),w}function n(f,m){return xx(r(f,m),m)}function a(f,m){return Qf(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],p=[],y,g="",v=Xi(f["!ref"]),w=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var j=v.s.c;j<=v.e.c;++j)if(g=cr({r:b,c:j}),y=w?(f[b]||[])[j]:f[g],!(!y||y.v==null||y.t==="z")){switch(p=["cell",g,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var E=Sa(ns(y.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=y.w||sl(y.z||ar[14],E);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),S0=(function(){function e(d,f,m,p,y){y.raw?f[m][p]=d:d===""||(d==="TRUE"?f[m][p]=!0:d==="FALSE"?f[m][p]=!1:isNaN(xc(d))?isNaN(N0(d).getDate())?f[m][p]=d:f[m][p]=ns(d):f[m][p]=xc(d))}function t(d,f){var m=f||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,w=0,b=0;b<=g;++b)w=y[b].indexOf(" "),w==-1?w=y[b].length:w++,v=Math.max(v,w);for(b=0;b<=g;++b){p[b]=[];var j=0;for(e(y[b].slice(0,v).trim(),p,b,j,m),j=1;j<=(y[b].length-v)/10+1;++j)e(y[b].slice(v+(j-1)*10,v+j*10).trim(),p,b,j,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?m=!m:!m&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[y.pop()[1]]||44}function i(d,f){var m=f||{},p="",y=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var v=0,w=0,b=0,j=0,E=0,S=p.charCodeAt(0),C=!1,k=0,D=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=m.dateNF!=null?MTe(m.dateNF):null;function P(){var A=d.slice(j,E),R={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)R.t="z";else if(m.raw)R.t="s",R.v=A;else if(A.trim().length===0)R.t="s",R.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(R.t="s",R.v=A.slice(2,-1).replace(/""/g,'"')):fDe(A)?(R.t="n",R.f=A.slice(1)):(R.t="s",R.v=A);else if(A=="TRUE")R.t="b",R.v=!0;else if(A=="FALSE")R.t="b",R.v=!1;else if(!isNaN(b=xc(A)))R.t="n",m.cellText!==!1&&(R.w=A),R.v=b;else if(!isNaN(N0(A).getDate())||O&&A.match(O)){R.z=m.dateNF||ar[14];var F=0;O&&A.match(O)&&(A=FTe(A,m.dateNF,A.match(O)||[]),F=1),m.cellDates?(R.t="d",R.v=ns(A,F)):(R.t="n",R.v=Sa(ns(A,F))),m.cellText!==!1&&(R.w=sl(R.z,R.v instanceof Date?Sa(R.v):R.v)),m.cellNF||delete R.z}else R.t="s",R.v=A;if(R.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][w]=R):y[cr({c:w,r:v})]=R),j=E+1,D=d.charCodeAt(j),g.e.c<w&&(g.e.c=w),g.e.r<v&&(g.e.r=v),k==S)++w;else if(w=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;E<d.length;++E)switch(k=d.charCodeAt(E)){case 34:D===34&&(C=!C);break;case S:case 10:case 13:if(!C&&P())break e;break}return E-j>0&&P(),y["!ref"]=Dr(g),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):xx(t(d,f),f)}function l(d,f){var m="",p=f.type=="string"?[0,0,0,0]:qF(d,f);switch(f.type){case"base64":m=nl(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof Qr<"u"?m=Qr.utils.decode(f.codepage,d):m=Ur&&Buffer.isBuffer(d)?d.toString("binary"):Zf(d);break;case"array":m=$m(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=On(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=On(m):f.type=="binary"&&typeof Qr<"u"&&f.codepage&&(m=Qr.utils.decode(f.codepage,Qr.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?Uae.to_sheet(f.type=="string"?m:On(m),f):o(m,f)}function c(d,f){return Qf(l(d,f),f)}function u(d){for(var f=[],m=Jr(d["!ref"]),p,y=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var v=[],w=m.s.c;w<=m.e.c;++w){var b=cr({r:g,c:w});if(p=y?(d[g]||[])[w]:d[b],!p||p.v==null){v.push("          ");continue}for(var j=(p.w||(iu(p),p.w)||"").slice(0,10);j.length<10;)j+=" ";v.push(j+(w===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function Z4e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=$ae.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return S0.to_workbook(e,t)}}var dm=(function(){function e(z,Z,J){if(z){Ja(z,z.l||0);for(var Q=J.Enum||U;z.l<z.length;){var de=z.read_shift(2),fe=Q[de]||Q[65535],pe=z.read_shift(2),K=z.l+pe,ee=fe.f&&fe.f(z,pe,J);if(z.l=K,Z(ee,fe,de))return}}}function t(z,Z){switch(Z.type){case"base64":return r(qo(nl(z)),Z);case"binary":return r(qo(z),Z);case"buffer":case"array":return r(z,Z)}throw"Unsupported type "+Z.type}function r(z,Z){if(!z)return z;var J=Z||{},Q=J.dense?[]:{},de="Sheet1",fe="",pe=0,K={},ee=[],se=[],B={s:{r:0,c:0},e:{r:0,c:0}},ie=J.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)J.Enum=U,e(z,function(ue,qe,Je){switch(Je){case 0:J.vers=ue,ue>=4096&&(J.qpro=!0);break;case 6:B=ue;break;case 204:ue&&(fe=ue);break;case 222:fe=ue;break;case 15:case 51:J.qpro||(ue[1].v=ue[1].v.slice(1));case 13:case 14:case 16:Je==14&&(ue[2]&112)==112&&(ue[2]&15)>1&&(ue[2]&15)<15&&(ue[1].z=J.dateNF||ar[14],J.cellDates&&(ue[1].t="d",ue[1].v=ak(ue[1].v))),J.qpro&&ue[3]>pe&&(Q["!ref"]=Dr(B),K[de]=Q,ee.push(de),Q=J.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},pe=ue[3],de=fe||"Sheet"+(pe+1),fe="");var le=J.dense?(Q[ue[0].r]||[])[ue[0].c]:Q[cr(ue[0])];if(le){le.t=ue[1].t,le.v=ue[1].v,ue[1].z!=null&&(le.z=ue[1].z),ue[1].f!=null&&(le.f=ue[1].f);break}J.dense?(Q[ue[0].r]||(Q[ue[0].r]=[]),Q[ue[0].r][ue[0].c]=ue[1]):Q[cr(ue[0])]=ue[1];break}},J);else if(z[2]==26||z[2]==14)J.Enum=X,z[2]==14&&(J.qpro=!0,z.l=0),e(z,function(ue,qe,Je){switch(Je){case 204:de=ue;break;case 22:ue[1].v=ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ue[3]>pe&&(Q["!ref"]=Dr(B),K[de]=Q,ee.push(de),Q=J.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},pe=ue[3],de="Sheet"+(pe+1)),ie>0&&ue[0].r>=ie)break;J.dense?(Q[ue[0].r]||(Q[ue[0].r]=[]),Q[ue[0].r][ue[0].c]=ue[1]):Q[cr(ue[0])]=ue[1],B.e.c<ue[0].c&&(B.e.c=ue[0].c),B.e.r<ue[0].r&&(B.e.r=ue[0].r);break;case 27:ue[14e3]&&(se[ue[14e3][0]]=ue[14e3][1]);break;case 1537:se[ue[0]]=ue[1],ue[0]==pe&&(de=ue[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(Q["!ref"]=Dr(B),K[fe||de]=Q,ee.push(fe||de),!se.length)return{SheetNames:ee,Sheets:K};for(var ae={},Ne=[],Ee=0;Ee<se.length;++Ee)K[ee[Ee]]?(Ne.push(se[Ee]||ee[Ee]),ae[se[Ee]]=K[se[Ee]]||K[ee[Ee]]):(Ne.push(se[Ee]),ae[se[Ee]]={"!ref":"A1"});return{SheetNames:Ne,Sheets:ae}}function n(z,Z){var J=Z||{};if(+J.codepage>=0&&Al(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=wo(),de=Jr(z["!ref"]),fe=Array.isArray(z),pe=[];kt(Q,0,i(1030)),kt(Q,6,c(de));for(var K=Math.min(de.e.r,8191),ee=de.s.r;ee<=K;++ee)for(var se=Es(ee),B=de.s.c;B<=de.e.c;++B){ee===de.s.r&&(pe[B]=rs(B));var ie=pe[B]+se,ae=fe?(z[ee]||[])[B]:z[ie];if(!(!ae||ae.t=="z"))if(ae.t=="n")(ae.v|0)==ae.v&&ae.v>=-32768&&ae.v<=32767?kt(Q,13,p(ee,B,ae.v)):kt(Q,14,g(ee,B,ae.v));else{var Ne=iu(ae);kt(Q,15,f(ee,B,Ne.slice(0,239)))}}return kt(Q,1),Q.end()}function a(z,Z){var J=Z||{};if(+J.codepage>=0&&Al(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=wo();kt(Q,0,o(z));for(var de=0,fe=0;de<z.SheetNames.length;++de)(z.Sheets[z.SheetNames[de]]||{})["!ref"]&&kt(Q,27,I(z.SheetNames[de],fe++));var pe=0;for(de=0;de<z.SheetNames.length;++de){var K=z.Sheets[z.SheetNames[de]];if(!(!K||!K["!ref"])){for(var ee=Jr(K["!ref"]),se=Array.isArray(K),B=[],ie=Math.min(ee.e.r,8191),ae=ee.s.r;ae<=ie;++ae)for(var Ne=Es(ae),Ee=ee.s.c;Ee<=ee.e.c;++Ee){ae===ee.s.r&&(B[Ee]=rs(Ee));var ue=B[Ee]+Ne,qe=se?(K[ae]||[])[Ee]:K[ue];if(!(!qe||qe.t=="z"))if(qe.t=="n")kt(Q,23,P(ae,Ee,pe,qe.v));else{var Je=iu(qe);kt(Q,22,k(ae,Ee,pe,Je.slice(0,239)))}}++pe}}return kt(Q,1),Q.end()}function i(z){var Z=rt(2);return Z.write_shift(2,z),Z}function o(z){var Z=rt(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var J=0,Q=0,de=0,fe=0;fe<z.SheetNames.length;++fe){var pe=z.SheetNames[fe],K=z.Sheets[pe];if(!(!K||!K["!ref"])){++de;var ee=Xi(K["!ref"]);J<ee.e.r&&(J=ee.e.r),Q<ee.e.c&&(Q=ee.e.c)}}return J>8191&&(J=8191),Z.write_shift(2,J),Z.write_shift(1,de),Z.write_shift(1,Q),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function l(z,Z,J){var Q={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&J.qpro?(Q.s.c=z.read_shift(1),z.l++,Q.s.r=z.read_shift(2),Q.e.c=z.read_shift(1),z.l++,Q.e.r=z.read_shift(2),Q):(Q.s.c=z.read_shift(2),Q.s.r=z.read_shift(2),Z==12&&J.qpro&&(z.l+=2),Q.e.c=z.read_shift(2),Q.e.r=z.read_shift(2),Z==12&&J.qpro&&(z.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(z){var Z=rt(8);return Z.write_shift(2,z.s.c),Z.write_shift(2,z.s.r),Z.write_shift(2,z.e.c),Z.write_shift(2,z.e.r),Z}function u(z,Z,J){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(Q[0].c=z.read_shift(1),Q[3]=z.read_shift(1),Q[0].r=z.read_shift(2),z.l+=2):(Q[2]=z.read_shift(1),Q[0].c=z.read_shift(2),Q[0].r=z.read_shift(2)),Q}function d(z,Z,J){var Q=z.l+Z,de=u(z,Z,J);if(de[1].t="s",J.vers==20768){z.l++;var fe=z.read_shift(1);return de[1].v=z.read_shift(fe,"utf8"),de}return J.qpro&&z.l++,de[1].v=z.read_shift(Q-z.l,"cstr"),de}function f(z,Z,J){var Q=rt(7+J.length);Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,z),Q.write_shift(1,39);for(var de=0;de<Q.length;++de){var fe=J.charCodeAt(de);Q.write_shift(1,fe>=128?95:fe)}return Q.write_shift(1,0),Q}function m(z,Z,J){var Q=u(z,Z,J);return Q[1].v=z.read_shift(2,"i"),Q}function p(z,Z,J){var Q=rt(7);return Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,z),Q.write_shift(2,J,"i"),Q}function y(z,Z,J){var Q=u(z,Z,J);return Q[1].v=z.read_shift(8,"f"),Q}function g(z,Z,J){var Q=rt(13);return Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,z),Q.write_shift(8,J,"f"),Q}function v(z,Z,J){var Q=z.l+Z,de=u(z,Z,J);if(de[1].v=z.read_shift(8,"f"),J.qpro)z.l=Q;else{var fe=z.read_shift(2);E(z.slice(z.l,z.l+fe),de),z.l+=fe}return de}function w(z,Z,J){var Q=Z&32768;return Z&=-32769,Z=(Q?z:0)+(Z>=8192?Z-16384:Z),(Q?"":"$")+(J?rs(Z):Es(Z))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(z,Z){Ja(z,0);for(var J=[],Q=0,de="",fe="",pe="",K="";z.l<z.length;){var ee=z[z.l++];switch(ee){case 0:J.push(z.read_shift(8,"f"));break;case 1:fe=w(Z[0].c,z.read_shift(2),!0),de=w(Z[0].r,z.read_shift(2),!1),J.push(fe+de);break;case 2:{var se=w(Z[0].c,z.read_shift(2),!0),B=w(Z[0].r,z.read_shift(2),!1);fe=w(Z[0].c,z.read_shift(2),!0),de=w(Z[0].r,z.read_shift(2),!1),J.push(se+B+":"+fe+de)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(z.read_shift(2));break;case 6:{for(var ie="";ee=z[z.l++];)ie+=String.fromCharCode(ee);J.push('"'+ie.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:K=J.pop(),pe=J.pop(),J.push(["AND","OR"][ee-20]+"("+pe+","+K+")");break;default:if(ee<32&&j[ee])K=J.pop(),pe=J.pop(),J.push(pe+j[ee]+K);else if(b[ee]){if(Q=b[ee][1],Q==69&&(Q=z[z.l++]),Q>J.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+J.join("|")+"|");return}var ae=J.slice(-Q);J.length-=Q,J.push(b[ee][0]+"("+ae.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}J.length==1?Z[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function S(z){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=z.read_shift(2),Z[3]=z[z.l++],Z[0].c=z[z.l++],Z}function C(z,Z){var J=S(z);return J[1].t="s",J[1].v=z.read_shift(Z-4,"cstr"),J}function k(z,Z,J,Q){var de=rt(6+Q.length);de.write_shift(2,z),de.write_shift(1,J),de.write_shift(1,Z),de.write_shift(1,39);for(var fe=0;fe<Q.length;++fe){var pe=Q.charCodeAt(fe);de.write_shift(1,pe>=128?95:pe)}return de.write_shift(1,0),de}function D(z,Z){var J=S(z);J[1].v=z.read_shift(2);var Q=J[1].v>>1;if(J[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return J[1].v=Q,J}function O(z,Z){var J=S(z),Q=z.read_shift(4),de=z.read_shift(4),fe=z.read_shift(2);if(fe==65535)return Q===0&&de===3221225472?(J[1].t="e",J[1].v=15):Q===0&&de===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var pe=fe&32768;return fe=(fe&32767)-16446,J[1].v=(1-pe*2)*(de*Math.pow(2,fe+32)+Q*Math.pow(2,fe)),J}function P(z,Z,J,Q){var de=rt(14);if(de.write_shift(2,z),de.write_shift(1,J),de.write_shift(1,Z),Q==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var fe=0,pe=0,K=0,ee=0;return Q<0&&(fe=1,Q=-Q),pe=Math.log2(Q)|0,Q/=Math.pow(2,pe-31),ee=Q>>>0,(ee&2147483648)==0&&(Q/=2,++pe,ee=Q>>>0),Q-=ee,ee|=2147483648,ee>>>=0,Q*=Math.pow(2,32),K=Q>>>0,de.write_shift(4,K),de.write_shift(4,ee),pe+=16383+(fe?32768:0),de.write_shift(2,pe),de}function A(z,Z){var J=O(z);return z.l+=Z-14,J}function R(z,Z){var J=S(z),Q=z.read_shift(4);return J[1].v=Q>>6,J}function F(z,Z){var J=S(z),Q=z.read_shift(8,"f");return J[1].v=Q,J}function L(z,Z){var J=F(z);return z.l+=Z-10,J}function W(z,Z){return z[z.l+Z-1]==0?z.read_shift(Z,"cstr"):""}function V(z,Z){var J=z[z.l++];J>Z-1&&(J=Z-1);for(var Q="";Q.length<J;)Q+=String.fromCharCode(z[z.l++]);return Q}function H(z,Z,J){if(!(!J.qpro||Z<21)){var Q=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var de=z.read_shift(Z-21,"cstr");return[Q,de]}}function G(z,Z){for(var J={},Q=z.l+Z;z.l<Q;){var de=z.read_shift(2);if(de==14e3){for(J[de]=[0,""],J[de][0]=z.read_shift(2);z[z.l];)J[de][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return J}function I(z,Z){var J=rt(5+z.length);J.write_shift(2,14e3),J.write_shift(2,Z);for(var Q=0;Q<z.length;++Q){var de=z.charCodeAt(Q);J[J.l++]=de>127?95:de}return J[J.l++]=0,J}var U={0:{n:"BOF",f:Ys},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function Q4e(e){var t={},r=e.match(Ti),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=gr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=sF[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var eOe=(function(){var e=vb("t"),t=vb("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:an(o[1])},c=i.match(t);return c&&(l.s=Q4e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),tOe=(function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),rOe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,nOe=/<(?:\w+:)?r>/,sOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function AF(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=an(On(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=On(e),r&&(n.h=fF(n.t))):e.match(nOe)&&(n.r=On(e),n.t=an(On((e.replace(sOe,"").match(rOe)||[]).join("").replace(Ti,""))),r&&(n.h=tOe(eOe(n.r)))),n):{t:""}}var aOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,iOe=/<(?:\w+:)?(?:si|sstItem)>/g,oOe=/<\/(?:\w+:)?(?:si|sstItem)>/;function lOe(e,t){var r=[],n="";if(!e)return r;var a=e.match(aOe);if(a){n=a[2].replace(iOe,"").split(oOe);for(var i=0;i!=n.length;++i){var o=AF(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=gr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var cOe=/^\s|\s$|[\t\n\r]/;function Vae(e,t){if(!t.bookSST)return"";var r=[qs];r[r.length]=St("sst",null,{xmlns:lp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(cOe)&&(i+=' xml:space="preserve"'),i+=">"+Tn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function uOe(e){return[e.read_shift(4),e.read_shift(4)]}function dOe(e,t){var r=[],n=!1;return hd(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function fOe(e,t){return t||(t=rt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var hOe=jAe;function mOe(e){var t=wo();ct(t,159,fOe(e));for(var r=0;r<e.length;++r)ct(t,19,hOe(e[r]));return ct(t,160),t.end()}function zae(e){if(typeof Qr<"u")return Qr.utils.encode(Fm,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Hu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function pOe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Hu(e,4),t.U=Hu(e,4),t.W=Hu(e,4),t}function gOe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function xOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(gOe(e));return t}function vOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function yOe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Hu(e,4),t.U=Hu(e,4),t.W=Hu(e,4),t}function bOe(e){var t=yOe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function qae(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Wae(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function wOe(e){var t=Hu(e);switch(t.Minor){case 2:return[t.Minor,_Oe(e)];case 3:return[t.Minor,jOe()];case 4:return[t.Minor,NOe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function _Oe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=qae(e,r),a=Wae(e,e.length-e.l);return{t:"Std",h:n,v:a}}function jOe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function NOe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ti,function(i){var o=gr(i);switch(mu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function SOe(e,t){var r={},n=r.EncryptionVersionInfo=Hu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=qae(e,a),t-=a,r.EncryptionVerifier=Wae(e,t),r}function kOe(e){var t={},r=t.EncryptionVersionInfo=Hu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function PF(e){var t=0,r,n=zae(e),a=n.length+1,i,o,l,c,u;for(r=Mf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Hae=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=zae(o),c=i(l),u=l.length,d=Mf(16),f=0;f!=16;++f)d[f]=0;var m,p,y;for((u&1)===1&&(m=c>>8,d[u]=a(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=a(p,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=a(e[y],m),--u,--y,m=c&255,d[u]=a(l[u],m),--u,--y;return d}})(),COe=function(e,t,r,n,a){a||(a=t),n||(n=Hae(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},EOe=function(e){var t=0,r=Hae(e);return function(n){var a=COe("",n,t,r);return t=a[1],a[0]}};function TOe(e,t,r,n){var a={key:Ys(e),verificationBytes:Ys(e)};return r.password&&(a.verifier=PF(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=EOe(r.password)),a}function AOe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=kOe(e):n.Data=SOe(e,t),n}function POe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?AOe(e,t-2,n):TOe(e,r.biff>=8?t:t-2,r,n),n}var Gae=(function(){function e(a,i){switch(i.type){case"base64":return t(nl(a),i);case"binary":return t(a,i);case"buffer":return t(Ur&&Buffer.isBuffer(a)?a.toString("binary"):Zf(a),i);case"array":return t($m(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,p=0,y,g=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(p,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var w={v,t:"s"};Array.isArray(l)?l[f][g]=w:l[cr({r:f,c:g})]=w}break}p=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Dr(u),l}function r(a,i){return Qf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Jr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=cr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(iu(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function OOe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function _b(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ROe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function DOe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function YN(e,t){if(t===0)return e;var r=ROe(OOe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),_b(DOe(r))}var Kae=6,IOe=15,MOe=1,gi=Kae;function jb(e){return Math.floor((e+Math.round(128/gi)/256)*gi)}function Nb(e){return Math.floor((e-5)/gi*100+.5)/100}function XN(e){return Math.round((e*gi+5)/gi*256)/256}function XT(e){return XN(Nb(jb(e)))}function OF(e){var t=Math.abs(e-XT(e)),r=gi;if(t>.005)for(gi=MOe;gi<IOe;++gi)Math.abs(e-XT(e))<=t&&(t=Math.abs(e-XT(e)),r=gi);gi=r}function Ff(e){e.width?(e.wpx=jb(e.width),e.wch=Nb(e.wpx),e.MDW=gi):e.wpx?(e.wch=Nb(e.wpx),e.width=XN(e.wch),e.MDW=gi):typeof e.wch=="number"&&(e.width=XN(e.wch),e.wpx=jb(e.width),e.MDW=gi),e.customWidth&&delete e.customWidth}var FOe=96,Yae=FOe;function Sb(e){return e*96/Yae}function k0(e){return e*Yae/96}var LOe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $Oe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ti)||[]).forEach(function(o){var l=gr(o);switch(mu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=ts(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=ts(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function BOe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ti)||[]).forEach(function(o){var l=gr(o);switch(mu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function UOe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ti)||[]).forEach(function(o){var l=gr(o);switch(mu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=On(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?ts(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?ts(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?ts(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?ts(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?ts(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?ts(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?ts(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=sF[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=ts(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=cm[a.color.index];a.color.index==81&&(c=cm[1]),c||(c=cm[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=YN(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function VOe(e,t,r){t.NumberFmt=[];for(var n=Ps(ar),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ar[n[a]];var i=e[0].match(Ti);if(i)for(a=0;a<i.length;++a){var o=gr(i[a]);switch(mu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=an(On(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Zc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function zOe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=St("numFmt",null,{numFmtId:n,formatCode:Tn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=St("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var rj=["numFmtId","fillId","fontId","borderId","xfId"],nj=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function qOe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ti)||[]).forEach(function(i){var o=gr(i),l=0;switch(mu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<rj.length;++l)n[rj[l]]&&(n[rj[l]]=parseInt(n[rj[l]],10));for(l=0;l<nj.length;++l)n[nj[l]]&&(n[nj[l]]=ts(n[nj[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=ts(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function WOe(e){var t=[];return t[t.length]=St("cellXfs",null),e.forEach(function(r){t[t.length]=St("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=St("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var HOe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&VOe(f,d,u),(f=l.match(a))&&UOe(f,d,c,u),(f=l.match(n))&&BOe(f,d,c,u),(f=l.match(i))&&$Oe(f,d,c,u),(f=l.match(r))&&qOe(f,d,u),d}})();function Xae(e,t){var r=[qs,St("styleSheet",null,{xmlns:lp[0],"xmlns:vt":wa.vt})],n;return e.SSF&&(n=zOe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=WOe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function GOe(e,t){var r=e.read_shift(2),n=ki(e);return[r,n]}function KOe(e,t,r){r||(r=rt(6+4*t.length)),r.write_shift(2,e),Ba(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function YOe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=AAe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=TAe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ki(e),n}function XOe(e,t){t||(t=rt(153)),t.write_shift(2,e.sz*20),PAe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),HN(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ba(e.name,t),t.length>t.l?t.slice(0,t.l):t}var JOe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],JT,ZOe=Ei;function TV(e,t){t||(t=rt(84)),JT||(JT=nk(JOe));var r=JT[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(HN({auto:1},t),HN({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function QOe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Jae(e,t,r){r||(r=rt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function bv(e,t){return t||(t=rt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var eRe=Ei;function tRe(e,t){return t||(t=rt(51)),t.write_shift(1,0),bv(null,t),bv(null,t),bv(null,t),bv(null,t),bv(null,t),t.length>t.l?t.slice(0,t.l):t}function rRe(e,t){return t||(t=rt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),WN(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function nRe(e,t,r){var n=rt(2052);return n.write_shift(4,e),WN(t,n),WN(r,n),n.length>n.l?n.slice(0,n.l):n}function sRe(e,t,r){var n={};n.NumberFmt=[];for(var a in ar)n.NumberFmt[a]=ar[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return hd(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Zc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=YN(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function aRe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ct(e,615,vc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ct(e,44,KOe(a,t[a]))}),ct(e,616))}}function iRe(e){var t=1;ct(e,611,vc(t)),ct(e,43,XOe({sz:12,color:{theme:1},name:"Calibri",family:2})),ct(e,612)}function oRe(e){var t=2;ct(e,603,vc(t)),ct(e,45,TV({patternType:"none"})),ct(e,45,TV({patternType:"gray125"})),ct(e,604)}function lRe(e){var t=1;ct(e,613,vc(t)),ct(e,46,tRe()),ct(e,614)}function cRe(e){var t=1;ct(e,626,vc(t)),ct(e,47,Jae({numFmtId:0},65535)),ct(e,627)}function uRe(e,t){ct(e,617,vc(t.length)),t.forEach(function(r){ct(e,47,Jae(r,0))}),ct(e,618)}function dRe(e){var t=1;ct(e,619,vc(t)),ct(e,48,rRe({xfId:0,name:"Normal"})),ct(e,620)}function fRe(e){var t=0;ct(e,505,vc(t)),ct(e,506)}function hRe(e){var t=0;ct(e,508,nRe(t,"TableStyleMedium9","PivotStyleMedium4")),ct(e,509)}function mRe(e,t){var r=wo();return ct(r,278),aRe(r,e.SSF),iRe(r),oRe(r),lRe(r),cRe(r),uRe(r,t.cellXfs),dRe(r),fRe(r),hRe(r),ct(r,279),r.end()}var pRe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function gRe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ti)||[]).forEach(function(a){var i=gr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[pRe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function xRe(){}function vRe(){}var yRe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,bRe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,wRe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function _Re(e,t,r){t.themeElements={};var n;[["clrScheme",yRe,gRe],["fontScheme",bRe,xRe],["fmtScheme",wRe,vRe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var jRe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Zae(e,t){(!e||e.length===0)&&(e=RF());var r,n={};if(!(r=e.match(jRe)))throw new Error("themeElements not found in theme");return _Re(r[0],n,t),n.raw=e,n}function RF(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[qs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function NRe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=Kse(i,{type:"array"})}catch{return}var l=Wo(o,"theme/theme/theme1.xml",!0);if(l)return Zae(l,r)}}function SRe(e){return e.read_shift(4)}function kRe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=CRe(e,4);break;case 2:t.xclrValue=Pae(e);break;case 3:t.xclrValue=SRe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function CRe(e,t){return Ei(e,t)}function ERe(e,t){return Ei(e,t)}function TRe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=kRe(e);break;case 6:n[1]=ERe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ARe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(TRe(e,r-e.l));return{ixfe:n,ext:i}}function PRe(e,t){t.forEach(function(r){r[0]})}function ORe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ki(e)}}function RRe(e){var t=rt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ba(e.name,t),t.slice(0,t.l)}function DRe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function IRe(e){var t=rt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function MRe(e,t){var r=rt(8+2*t.length);return r.write_shift(4,e),Ba(t,r),r.slice(0,r.l)}function FRe(e){return e.l+=4,e.read_shift(4)!=0}function LRe(e,t){var r=rt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function $Re(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return hd(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function BRe(){var e=wo();return ct(e,332),ct(e,334,vc(1)),ct(e,335,RRe({name:"XLDAPR",version:12e4,flags:3496657072})),ct(e,336),ct(e,339,MRe(1,"XLDAPR")),ct(e,52),ct(e,35,vc(514)),ct(e,4096,vc(0)),ct(e,4097,jl(1)),ct(e,36),ct(e,53),ct(e,340),ct(e,337,LRe(1)),ct(e,51,IRe([[1,0]])),ct(e,338),ct(e,333),e.end()}function URe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Ti,function(l){var c=gr(l);switch(mu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Qae(){var e=[qs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function VRe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ti)||[]).forEach(function(n){var a=gr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function zRe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=cr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function qRe(e,t,r){var n=[];return hd(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function WRe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;hd(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function HRe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Cg=1024;function eie(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[St("xml",null,{"xmlns:v":$o.v,"xmlns:o":$o.o,"xmlns:x":$o.x,"xmlns:mv":$o.mv}).replace(/\/>/,">"),St("o:shapelayout",St("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),St("v:shapetype",[St("v:stroke",null,{joinstyle:"miter"}),St("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Cg<e*1e3;)Cg+=1e3;return t.forEach(function(i){var o=ys(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?St("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=St("v:fill",c,l),d={on:"t",obscured:"t"};++Cg,a=a.concat(["<v:shape"+yb({id:"_x0000_s"+Cg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,St("v:shadow",null,d),St("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ei("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ei("x:AutoFill","False"),ei("x:Row",String(o.r)),ei("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function AV(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=ys(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Jr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Dr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function GRe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=gr(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ys(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&AF(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function tie(e){var t=[qs,St("comments",null,{xmlns:lp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Tn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Tn(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ei("t",Tn(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ei("t",Tn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function KRe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ti,function(l,c){var u=gr(l);switch(mu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function YRe(e,t,r){var n=[qs,St("ThreadedComments",null,{xmlns:wa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(St("threadedComment",ei("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function XRe(e,t){var r=[],n=!1;return e.replace(Ti,function(i){var o=gr(i);switch(mu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function JRe(e){var t=[qs,St("personList",null,{xmlns:wa.TCMNT,"xmlns:x":lp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(St("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ZRe(e){var t={};t.iauthor=e.read_shift(4);var r=fp(e);return t.rfx=r.s,t.ref=cr(r.s),e.l+=16,t}function QRe(e,t){return t==null&&(t=rt(36)),t.write_shift(4,e[1].iauthor),vx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var eDe=ki;function tDe(e){return Ba(e.slice(0,54))}function rDe(e,t){var r=[],n=[],a={},i=!1;return hd(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function nDe(e){var t=wo(),r=[];return ct(t,628),ct(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ct(t,632,tDe(a.a)))})}),ct(t,631),ct(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ys(n[0]),e:ys(n[0])};ct(t,635,QRe([i,a])),a.t&&a.t.length>0&&ct(t,637,SAe(a)),ct(t,636),delete a.iauthor})}),ct(t,634),ct(t,629),t.end()}var sDe="application/vnd.ms-office.vbaProject";function aDe(e){var t=Zt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Zt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Zt.write(t)}function iDe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Zt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var rie=["xlsb","xlsm","xlam","biff8","xla"];function oDe(){return{"!type":"dialog"}}function lDe(){return{"!type":"dialog"}}function cDe(){return{"!type":"macro"}}function uDe(){return{"!type":"macro"}}var e0=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+rs(d)+(c?"":"$")+Es(u)}return function(a,i){return t=i,a.replace(e,r)}})(),DF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,IF=(function(){return function(t,r){return t.replace(DF,function(n,a,i,o,l,c){var u=wF(o)-(i?0:r.c),d=bF(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function nie(e,t){return e.replace(DF,function(r,n,a,i,o,l){return n+(a=="$"?a+i:rs(wF(i)+t.c))+(o=="$"?o+l:Es(bF(l)+t.r))})}function dDe(e,t,r){var n=Xi(t),a=n.s,i=ys(r),o={r:i.r-a.r,c:i.c-a.c};return nie(e,o)}function fDe(e){return e.length!=1}function PV(e){return e.replace(/_xlfn\./g,"")}function Hs(e){e.l+=1}function Lf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function sie(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return aie(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Lf(e),l=Lf(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function aie(e){var t=Lf(e),r=Lf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function hDe(e,t,r){if(r.biff<8)return aie(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Lf(e),o=Lf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function iie(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return mDe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Lf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function mDe(e){var t=Lf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function pDe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function gDe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return xDe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function xDe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function vDe(e,t,r){var n=(e[e.l++]&96)>>5,a=sie(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function yDe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=sie(e,i,r);return[n,a,o]}function bDe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function wDe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function _De(e,t,r){var n=(e[e.l++]&96)>>5,a=hDe(e,t-1,r);return[n,a]}function jDe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function OV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function NDe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function SDe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function kDe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function CDe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function EDe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function oie(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function TDe(e){return e.read_shift(2),oie(e)}function ADe(e){return e.read_shift(2),oie(e)}function PDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=iie(e,0,r);return[n,a]}function ODe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=gDe(e,0,r);return[n,a]}function RDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=iie(e,0,r);return[n,a,i]}function DDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[F3e[a],uie[a],n]}function IDe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:MDe(e);return[a,(i[0]===0?uie:M3e)[i[1]]]}function MDe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function FDe(e,t,r){e.l+=r&&r.biff==2?3:4}function LDe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $De(e){return e.l++,md[e.read_shift(1)]}function BDe(e){return e.l++,e.read_shift(2)}function UDe(e){return e.l++,e.read_shift(1)!==0}function VDe(e){return e.l++,wi(e)}function zDe(e,t,r){return e.l++,Yw(e,t-1,r)}function qDe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ds(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=md[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=wi(e);break;case 2:r[1]=hp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function WDe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?fp:ok)(e));return a}function HDe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=qDe(e,r.biff);return o}function GDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function KDe(e,t,r){if(r.biff==5)return YDe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function YDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function XDe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function JDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function ZDe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function QDe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var e3e=Ei,t3e=Ei,r3e=Ei;function Jw(e,t,r){return e.l+=2,[pDe(e)]}function MF(e){return e.l+=6,[]}var n3e=Jw,s3e=MF,a3e=MF,i3e=Jw;function lie(e){return e.l+=2,[Ys(e),e.read_shift(2)&1]}var o3e=Jw,l3e=lie,c3e=MF,u3e=Jw,d3e=Jw,f3e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function h3e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=f3e[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function m3e(e){return e.l+=2,[e.read_shift(4)]}function p3e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function g3e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function x3e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function v3e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function y3e(e){return e.l+=4,[0,0]}var RV={1:{n:"PtgExp",f:LDe},2:{n:"PtgTbl",f:r3e},3:{n:"PtgAdd",f:Hs},4:{n:"PtgSub",f:Hs},5:{n:"PtgMul",f:Hs},6:{n:"PtgDiv",f:Hs},7:{n:"PtgPower",f:Hs},8:{n:"PtgConcat",f:Hs},9:{n:"PtgLt",f:Hs},10:{n:"PtgLe",f:Hs},11:{n:"PtgEq",f:Hs},12:{n:"PtgGe",f:Hs},13:{n:"PtgGt",f:Hs},14:{n:"PtgNe",f:Hs},15:{n:"PtgIsect",f:Hs},16:{n:"PtgUnion",f:Hs},17:{n:"PtgRange",f:Hs},18:{n:"PtgUplus",f:Hs},19:{n:"PtgUminus",f:Hs},20:{n:"PtgPercent",f:Hs},21:{n:"PtgParen",f:Hs},22:{n:"PtgMissArg",f:Hs},23:{n:"PtgStr",f:zDe},26:{n:"PtgSheet",f:p3e},27:{n:"PtgEndSheet",f:g3e},28:{n:"PtgErr",f:$De},29:{n:"PtgBool",f:UDe},30:{n:"PtgInt",f:BDe},31:{n:"PtgNum",f:VDe},32:{n:"PtgArray",f:jDe},33:{n:"PtgFunc",f:DDe},34:{n:"PtgFuncVar",f:IDe},35:{n:"PtgName",f:GDe},36:{n:"PtgRef",f:PDe},37:{n:"PtgArea",f:vDe},38:{n:"PtgMemArea",f:XDe},39:{n:"PtgMemErr",f:e3e},40:{n:"PtgMemNoMem",f:t3e},41:{n:"PtgMemFunc",f:JDe},42:{n:"PtgRefErr",f:ZDe},43:{n:"PtgAreaErr",f:bDe},44:{n:"PtgRefN",f:ODe},45:{n:"PtgAreaN",f:_De},46:{n:"PtgMemAreaN",f:x3e},47:{n:"PtgMemNoMemN",f:v3e},57:{n:"PtgNameX",f:KDe},58:{n:"PtgRef3d",f:RDe},59:{n:"PtgArea3d",f:yDe},60:{n:"PtgRefErr3d",f:QDe},61:{n:"PtgAreaErr3d",f:wDe},255:{}},b3e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},w3e={1:{n:"PtgElfLel",f:lie},2:{n:"PtgElfRw",f:u3e},3:{n:"PtgElfCol",f:n3e},6:{n:"PtgElfRwV",f:d3e},7:{n:"PtgElfColV",f:i3e},10:{n:"PtgElfRadical",f:o3e},11:{n:"PtgElfRadicalS",f:c3e},13:{n:"PtgElfColS",f:s3e},15:{n:"PtgElfColSV",f:a3e},16:{n:"PtgElfRadicalLel",f:l3e},25:{n:"PtgList",f:h3e},29:{n:"PtgSxName",f:m3e},255:{}},_3e={0:{n:"PtgAttrNoop",f:y3e},1:{n:"PtgAttrSemi",f:EDe},2:{n:"PtgAttrIf",f:kDe},4:{n:"PtgAttrChoose",f:NDe},8:{n:"PtgAttrGoto",f:SDe},16:{n:"PtgAttrSum",f:FDe},32:{n:"PtgAttrBaxcel",f:OV},33:{n:"PtgAttrBaxcel",f:OV},64:{n:"PtgAttrSpace",f:TDe},65:{n:"PtgAttrSpaceSemi",f:ADe},128:{n:"PtgAttrIfError",f:CDe},255:{}};function Zw(e,t,r,n){if(n.biff<8)return Ei(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=HDe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=WDe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Ei(e,t)),i}function Qw(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=RV[i]||RV[b3e[i]],(i===24||i===25)&&(a=(i===24?w3e:_3e)[e[e.l+1]]),!a||!a.f?Ei(e,t):o.push([a.n,a.f(e,t,r)]);return o}function j3e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var N3e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function S3e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cie(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function DV(e,t,r){var n=cie(e,t,r);return n=="#REF"?n:S3e(n,r)}function pi(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,p,y="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",w=0,b=e[0].length;w<b;++w){var j=e[0][w];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=_s(" ",e[0][g][1][1]);break;case 1:v=_s("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+N3e[j[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Ny(j[1][1],o,a),l.push(Sy(d,i));break;case"PtgRefN":d=r?Ny(j[1][1],r,a):j[1][1],l.push(Sy(d,i));break;case"PtgRef3d":f=j[1][1],d=Ny(j[1][2],o,a),y=DV(n,f,a),l.push(y+"!"+Sy(d,i));break;case"PtgFunc":case"PtgFuncVar":var E=j[1][0],S=j[1][1];E||(E=0),E&=127;var C=E==0?[]:l.slice(-E);l.length-=E,S==="User"&&(S=C.shift()),l.push(S+"("+C.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":p=cV(j[1][1],r?{s:r}:o,a),l.push(GT(p,a));break;case"PtgArea":p=cV(j[1][1],o,a),l.push(GT(p,a));break;case"PtgArea3d":f=j[1][1],p=j[1][2],y=DV(n,f,a),l.push(y+"!"+GT(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=j[1][2];var k=(n.names||[])[m-1]||(n[0]||[])[m],D=k?k.Name:"SH33TJSNAME"+String(m);D&&D.slice(0,6)=="_xlfn."&&!a.xlfn&&(D=D.slice(6)),l.push(D);break;case"PtgNameX":var O=j[1][1];m=j[1][2];var P;if(a.biff<=5)O<0&&(O=-O),n[O]&&(P=n[O][m]);else{var A="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][m]&&n[O][m].itab>0&&(A=n.SheetNames[n[O][m].itab-1]+"!"):A=n.SheetNames[m-1]+"!"),n[O]&&n[O][m])A+=n[O][m].Name;else if(n[0]&&n[0][m])A+=n[0][m].Name;else{var R=(cie(n,O,a)||"").split(";;");R[m-1]?A=R[m-1]:A+="SH33TJSERRX"}l.push(A);break}P||(P={Name:"SH33TJSERRY"}),l.push(P.Name);break;case"PtgParen":var F="(",L=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:F=_s(" ",e[0][g][1][1])+F;break;case 3:F=_s("\r",e[0][g][1][1])+F;break;case 4:L=_s(" ",e[0][g][1][1])+L;break;case 5:L=_s("\r",e[0][g][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(F+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:j[1][1],r:j[1][0]};var W={c:r.c,r:r.r};if(n.sharedf[cr(d)]){var V=n.sharedf[cr(d)];l.push(pi(V,o,W,n,a))}else{var H=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(pi(u[1],o,W,n,a)),H=!0;break}H||l.push(j[1])}break;case"PtgArray":l.push("{"+j3e(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(e[0][w][0])==-1){j=e[0][g];var I=!0;switch(j[1][0]){case 4:I=!1;case 0:v=_s(" ",j[1][1]);break;case 5:I=!1;case 1:v=_s("\r",j[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((I?v:"")+l.pop()+(I?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function k3e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ei(e,t-2)];var l=Qw(e,o,r);return t!==o+a&&(i=Zw(e,t-o-a,l,r)),e.l=n,[l,i]}function C3e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ei(e,t-2)];var l=Qw(e,o,r);return t!==o+a&&(i=Zw(e,t-o-a,l,r)),e.l=n,[l,i]}function E3e(e,t,r,n){var a=e.l+t,i=Qw(e,n,r),o;return a!==e.l&&(o=Zw(e,a-e.l,i,r)),[i,o]}function T3e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=Qw(e,i,r);return i==65535?[[],Ei(e,t-2)]:(t!==i+2&&(a=Zw(e,n-i-2,o,r)),[o,a])}function A3e(e){var t;if(Lu(e,e.l+6)!==65535)return[wi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function P3e(e){if(e==null){var t=rt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Bm(e);return Bm(0)}function ZT(e,t,r){var n=e.l+t,a=pu(e);r.biff==2&&++e.l;var i=A3e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=C3e(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function O3e(e,t,r,n,a){var i=Vm(t,r,a),o=P3e(e.v),l=rt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=rt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=$a([i,o,l,u]);return f}function lk(e,t,r){var n=e.read_shift(4),a=Qw(e,n,r),i=e.read_shift(4),o=i>0?Zw(e,i,a,r):null;return[a,o]}var R3e=lk,ck=lk,D3e=lk,I3e=lk,M3e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},uie={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},F3e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function IV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function L3e(e){var t="of:="+e.replace(DF,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function QT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function $3e(e){return e.replace(/\./,"!")}var Cy={},t0={},Ey=typeof Map<"u";function FF(e,t,r){var n=0,a=e.length;if(r){if(Ey?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ey?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Ey?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function uk(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(gi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Nb(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=XN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function fm(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function eh(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Zc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function die(e,t,r,n,a,i){try{n.cellNF&&(e.z=ar[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ns(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ar[t]==null&&Zc(ITe[t]||"General",t),e.t==="e")e.w=e.w||md[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=xb(e.v);else if(e.t==="d"){var o=Sa(e.v);(o|0)===o?e.w=o.toString(10):e.w=xb(o)}else{if(e.v===void 0)return"";e.w=Lm(e.v,t0)}else e.t==="d"?e.w=sl(t,Sa(e.v),t0):e.w=sl(t,e.v,t0)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=YN(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=YN(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function B3e(e,t,r){if(e&&e["!ref"]){var n=Jr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function U3e(e,t){var r=Jr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Dr(r))}var V3e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,z3e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,q3e=/<(?:\w:)?hyperlink [^>]*>/mg,W3e=/"(\w*:\w*)"/,H3e=/<(?:\w:)?col\b[^>]*[\/]?>/g,G3e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,K3e=/<(?:\w:)?pageMargins[^>]*\/>/g,fie=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Y3e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,X3e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function J3e(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(z3e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(fie);m?LF(m[0],l,a,r):(m=u.match(Y3e))&&Q3e(m[0],m[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(W3e);y&&U3e(l,y[1])}var g=u.match(X3e);g&&g[1]&&fIe(g[1],a);var v=[];if(t.cellStyles){var w=u.match(H3e);w&&oIe(v,w)}f&&pIe(f[1],l,t,c,i,o);var b=d.match(G3e);b&&(l["!autofilter"]=cIe(b[0]));var j=[],E=d.match(V3e);if(E)for(p=0;p!=E.length;++p)j[p]=Jr(E[p].slice(E[p].indexOf('"')+1));var S=d.match(q3e);S&&sIe(l,S,n);var C=d.match(K3e);if(C&&(l["!margins"]=aIe(gr(C[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Dr(c)),t.sheetRows>0&&l["!ref"]){var k=Jr(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Dr(k))}return v.length>0&&(l["!cols"]=v),j.length>0&&(l["!merges"]=j),l}function Z3e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Dr(e[r])+'"/>';return t+"</mergeCells>"}function LF(e,t,r,n){var a=gr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=an(On(a.codeName)))}function Q3e(e,t,r,n,a){LF(e.slice(0,e.indexOf(">")),r,n,a)}function eIe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Hc(Tn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+St("outlinePr",null,u)}!i&&!l||(a[a.length]=St("sheetPr",l,o))}var tIe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],rIe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function nIe(e){var t={sheet:1};return tIe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),rIe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=PF(e.password).toString(16).toUpperCase()),St("sheetProtection",null,t)}function sIe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=gr(On(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+an(i.location))):(i.Target="#"+an(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Jr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=cr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function aIe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function iIe(e){return fm(e),St("pageMargins",null,e)}function oIe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=gr(t[n],!0);a.hidden&&(a.hidden=ts(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,OF(a.width)),Ff(a);i<=o;)e[i++]=Vn(a)}}function lIe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=St("col",null,uk(a,n)));return r[r.length]="</cols>",r.join("")}function cIe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function uIe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Dr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Xi(a);o.s.r==o.e.r&&(o.e.r=Xi(t["!ref"]).e.r,a=Dr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),St("autoFilter",null,{ref:a})}var dIe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function fIe(e,t){t.Views||(t.Views=[{}]),(e.match(dIe)||[]).forEach(function(r,n){var a=gr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ts(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function hIe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),St("sheetViews",St("sheetView",null,a),{})}function mIe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=md[e.v];break;case"d":n&&n.cellDates?a=ns(e.v,-1).toISOString():(e=Vn(e),e.t="n",a=""+(e.v=Sa(ns(e.v)))),typeof e.z>"u"&&(e.z=ar[14]);break;default:a=e.v;break}var l=ei("v",Tn(a)),c={r:t},u=eh(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ei("v",""+FF(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=St("f",Tn(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),St("c",l,c)}var pIe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=vb("v"),o=vb("f");return function(c,u,d,f,m,p){for(var y=0,g="",v=[],w=[],b=0,j=0,E=0,S="",C,k,D=0,O=0,P,A,R=0,F=0,L=Array.isArray(p.CellXf),W,V=[],H=[],G=Array.isArray(u),I=[],U={},X=!1,z=!!d.sheetStubs,Z=c.split(t),J=0,Q=Z.length;J!=Q;++J){g=Z[J].trim();var de=g.length;if(de!==0){var fe=0;e:for(y=0;y<de;++y)switch(g[y]){case">":if(g[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(k=gr(g.slice(fe,y),!0),D=k.r!=null?parseInt(k.r,10):D+1,O=-1,d.sheetRows&&d.sheetRows<D)continue;U={},X=!1,k.ht&&(X=!0,U.hpt=parseFloat(k.ht),U.hpx=k0(U.hpt)),k.hidden=="1"&&(X=!0,U.hidden=!0),k.outlineLevel!=null&&(X=!0,U.level=+k.outlineLevel),X&&(I[D-1]=U)}break;case"<":fe=y;break}if(fe>=y)break;if(k=gr(g.slice(fe,y),!0),D=k.r!=null?parseInt(k.r,10):D+1,O=-1,!(d.sheetRows&&d.sheetRows<D)){f.s.r>D-1&&(f.s.r=D-1),f.e.r<D-1&&(f.e.r=D-1),d&&d.cellStyles&&(U={},X=!1,k.ht&&(X=!0,U.hpt=parseFloat(k.ht),U.hpx=k0(U.hpt)),k.hidden=="1"&&(X=!0,U.hidden=!0),k.outlineLevel!=null&&(X=!0,U.level=+k.outlineLevel),X&&(I[D-1]=U)),v=g.slice(y).split(e);for(var pe=0;pe!=v.length&&v[pe].trim().charAt(0)=="<";++pe);for(v=v.slice(pe),y=0;y!=v.length;++y)if(g=v[y].trim(),g.length!==0){if(w=g.match(r),b=y,j=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,w!=null&&w.length===2){for(b=0,S=w[1],j=0;j!=S.length&&!((E=S.charCodeAt(j)-64)<1||E>26);++j)b=26*b+E;--b,O=b}else++O;for(j=0;j!=g.length&&g.charCodeAt(j)!==62;++j);if(++j,k=gr(g.slice(0,j),!0),k.r||(k.r=cr({r:D-1,c:O})),S=g.slice(j),C={t:""},(w=S.match(i))!=null&&w[1]!==""&&(C.v=an(w[1])),d.cellFormula){if((w=S.match(o))!=null&&w[1]!==""){if(C.f=an(On(w[1])).replace(/\r\n/g,`
`),d.xlfn||(C.f=PV(C.f)),w[0].indexOf('t="array"')>-1)C.F=(S.match(a)||[])[1],C.F.indexOf(":")>-1&&V.push([Jr(C.F),C.F]);else if(w[0].indexOf('t="shared"')>-1){A=gr(w[0]);var K=an(On(w[1]));d.xlfn||(K=PV(K)),H[parseInt(A.si,10)]=[A,K,k.r]}}else(w=S.match(/<f[^>]*\/>/))&&(A=gr(w[0]),H[A.si]&&(C.f=dDe(H[A.si][1],H[A.si][2],k.r)));var ee=ys(k.r);for(j=0;j<V.length;++j)ee.r>=V[j][0].s.r&&ee.r<=V[j][0].e.r&&ee.c>=V[j][0].s.c&&ee.c<=V[j][0].e.c&&(C.F=V[j][1])}if(k.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(z)C.t="z";else continue;else C.t=k.t||"n";switch(f.s.c>O&&(f.s.c=O),f.e.c<O&&(f.e.c=O),C.t){case"n":if(C.v==""||C.v==null){if(!z)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!z)continue;C.t="z"}else P=Cy[parseInt(C.v,10)],C.v=P.t,C.r=P.r,d.cellHTML&&(C.h=P.h);break;case"str":C.t="s",C.v=C.v!=null?On(C.v):"",d.cellHTML&&(C.h=fF(C.v));break;case"inlineStr":w=S.match(n),C.t="s",w!=null&&(P=AF(w[1]))?(C.v=P.t,d.cellHTML&&(C.h=P.h)):C.v="";break;case"b":C.v=ts(C.v);break;case"d":d.cellDates?C.v=ns(C.v,1):(C.v=Sa(ns(C.v,1)),C.t="n");break;case"e":(!d||d.cellText!==!1)&&(C.w=C.v),C.v=mae[C.v];break}if(R=F=0,W=null,L&&k.s!==void 0&&(W=p.CellXf[k.s],W!=null&&(W.numFmtId!=null&&(R=W.numFmtId),d.cellStyles&&W.fillId!=null&&(F=W.fillId))),die(C,R,F,d,m,p),d.cellDates&&L&&C.t=="n"&&op(ar[R])&&(C.t="d",C.v=ak(C.v)),k.cm&&d.xlmeta){var se=(d.xlmeta.Cell||[])[+k.cm-1];se&&se.type=="XLDAPR"&&(C.D=!0)}if(G){var B=ys(k.r);u[B.r]||(u[B.r]=[]),u[B.r][B.c]=C}else u[k.r]=C}}}}I.length>0&&(u["!rows"]=I)}})();function gIe(e,t,r,n){var a=[],i=[],o=Jr(e["!ref"]),l="",c,u="",d=[],f=0,m=0,p=e["!rows"],y=Array.isArray(e),g={r:u},v,w=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=rs(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Es(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var b=y?(e[f]||[])[m]:e[c];b!==void 0&&(l=mIe(b,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(v=p[f],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=Sb(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=St("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},v=p[f],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=Sb(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=St("row","",g));return a.join("")}function hie(e,t,r,n){var a=[qs,St("worksheet",null,{xmlns:lp[0],"xmlns:r":wa.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Jr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Dr(d)}n||(n={}),c["!comments"]=[];var f=[];eIe(c,r,e,t,a),a[a.length]=St("dimension",null,{ref:u}),a[a.length]=hIe(c,t,e,r),t.sheetFormat&&(a[a.length]=St("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=lIe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=gIe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=nIe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=uIe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Z3e(c["!merges"]));var m=-1,p,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=En(n,-1,Tn(g[1].Target).replace(/#.*$/,""),Hr.HLINK),p["r:id"]="rId"+y),(m=g[1].Target.indexOf("#"))>-1&&(p.location=Tn(g[1].Target.slice(m+1))),g[1].Tooltip&&(p.tooltip=Tn(g[1].Tooltip)),a[a.length]=St("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=iIe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ei("ignoredErrors",St("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=En(n,-1,"../drawings/drawing"+(e+1)+".xml",Hr.DRAW),a[a.length]=St("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=En(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Hr.VML),a[a.length]=St("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function xIe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function vIe(e,t,r){var n=rt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Sb(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[cr(u)];y&&(f<0&&(f=p),m=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function yIe(e,t,r,n){var a=vIe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ct(e,0,a)}var bIe=fp,wIe=vx;function _Ie(){}function jIe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=kAe(e),r}function NIe(e,t,r){r==null&&(r=rt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return HN({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),cae(e,r),r.slice(0,r.l)}function SIe(e){var t=zl(e);return[t]}function kIe(e,t,r){return r==null&&(r=rt(8)),cp(t,r)}function CIe(e){var t=up(e);return[t]}function EIe(e,t,r){return r==null&&(r=rt(4)),dp(t,r)}function TIe(e){var t=zl(e),r=e.read_shift(1);return[t,r,"b"]}function AIe(e,t,r){return r==null&&(r=rt(9)),cp(t,r),r.write_shift(1,e.v?1:0),r}function PIe(e){var t=up(e),r=e.read_shift(1);return[t,r,"b"]}function OIe(e,t,r){return r==null&&(r=rt(5)),dp(t,r),r.write_shift(1,e.v?1:0),r}function RIe(e){var t=zl(e),r=e.read_shift(1);return[t,r,"e"]}function DIe(e,t,r){return r==null&&(r=rt(9)),cp(t,r),r.write_shift(1,e.v),r}function IIe(e){var t=up(e),r=e.read_shift(1);return[t,r,"e"]}function MIe(e,t,r){return r==null&&(r=rt(8)),dp(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function FIe(e){var t=zl(e),r=e.read_shift(4);return[t,r,"s"]}function LIe(e,t,r){return r==null&&(r=rt(12)),cp(t,r),r.write_shift(4,t.v),r}function $Ie(e){var t=up(e),r=e.read_shift(4);return[t,r,"s"]}function BIe(e,t,r){return r==null&&(r=rt(8)),dp(t,r),r.write_shift(4,t.v),r}function UIe(e){var t=zl(e),r=wi(e);return[t,r,"n"]}function VIe(e,t,r){return r==null&&(r=rt(16)),cp(t,r),Bm(e.v,r),r}function mie(e){var t=up(e),r=wi(e);return[t,r,"n"]}function zIe(e,t,r){return r==null&&(r=rt(12)),dp(t,r),Bm(e.v,r),r}function qIe(e){var t=zl(e),r=SF(e);return[t,r,"n"]}function WIe(e,t,r){return r==null&&(r=rt(12)),cp(t,r),uae(e.v,r),r}function HIe(e){var t=up(e),r=SF(e);return[t,r,"n"]}function GIe(e,t,r){return r==null&&(r=rt(8)),dp(t,r),uae(e.v,r),r}function KIe(e){var t=zl(e),r=_F(e);return[t,r,"is"]}function YIe(e){var t=zl(e),r=ki(e);return[t,r,"str"]}function XIe(e,t,r){return r==null&&(r=rt(12+4*e.v.length)),cp(t,r),Ba(e.v,r),r.length>r.l?r.slice(0,r.l):r}function JIe(e){var t=up(e),r=ki(e);return[t,r,"str"]}function ZIe(e,t,r){return r==null&&(r=rt(8+4*e.v.length)),dp(t,r),Ba(e.v,r),r.length>r.l?r.slice(0,r.l):r}function QIe(e,t,r){var n=e.l+t,a=zl(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=ck(e,n-e.l,r);o[3]=pi(l,null,a,r.supbooks,r)}else e.l=n;return o}function eMe(e,t,r){var n=e.l+t,a=zl(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=ck(e,n-e.l,r);o[3]=pi(l,null,a,r.supbooks,r)}else e.l=n;return o}function tMe(e,t,r){var n=e.l+t,a=zl(e);a.r=r["!row"];var i=wi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=ck(e,n-e.l,r);o[3]=pi(l,null,a,r.supbooks,r)}else e.l=n;return o}function rMe(e,t,r){var n=e.l+t,a=zl(e);a.r=r["!row"];var i=ki(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=ck(e,n-e.l,r);o[3]=pi(l,null,a,r.supbooks,r)}else e.l=n;return o}var nMe=fp,sMe=vx;function aMe(e,t){return t==null&&(t=rt(4)),t.write_shift(4,e),t}function iMe(e,t){var r=e.l+t,n=fp(e),a=jF(e),i=ki(e),o=ki(e),l=ki(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function oMe(e,t){var r=rt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));vx({s:ys(e[0]),e:ys(e[0])},r),NF("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ba(a||"",r),Ba(e[1].Tooltip||"",r),Ba("",r),r.slice(0,r.l)}function lMe(){}function cMe(e,t,r){var n=e.l+t,a=dae(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=R3e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function uMe(e,t,r){var n=e.l+t,a=fp(e),i=[a];if(r.cellFormula){var o=I3e(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function dMe(e,t,r){r==null&&(r=rt(18));var n=uk(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var pie=["left","right","top","bottom","header","footer"];function fMe(e){var t={};return pie.forEach(function(r){t[r]=wi(e)}),t}function hMe(e,t){return t==null&&(t=rt(48)),fm(e),pie.forEach(function(r){Bm(e[r],t)}),t}function mMe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function pMe(e,t,r){r==null&&(r=rt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function gMe(e){var t=rt(24);return t.write_shift(4,4),t.write_shift(4,1),vx(e,t),t}function xMe(e,t){return t==null&&(t=rt(66)),t.write_shift(2,e.password?PF(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function vMe(){}function yMe(){}function bMe(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,p,y,g,v,w,b,j,E,S,C=[];l.biff=12,l["!row"]=0;var k=0,D=!1,O=[],P={},A=l.supbooks||a.supbooks||[[]];if(A.sharedf=P,A.arrayf=O,A.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!l.supbooks&&(l.supbooks=A,a.Names))for(var R=0;R<a.Names.length;++R)A[0][R+1]=a.Names[R];var F=[],L=[],W=!1;kb[16]={n:"BrtShortReal",f:mie};var V;if(hd(e,function(I,U,X){if(!m)switch(X){case 148:u=I;break;case 0:p=I,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),E=Es(v=p.r),l["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=k0(I.hpt)),L[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:I[2]},I[2]){case"n":y.v=I[1];break;case"s":j=Cy[I[1]],y.v=j.t,y.r=j.r;break;case"b":y.v=!!I[1];break;case"e":y.v=I[1],l.cellText!==!1&&(y.w=md[y.v]);break;case"str":y.t="s",y.v=I[1];break;case"is":y.t="s",y.v=I[1].t;break}if((g=o.CellXf[I[0].iStyleRef])&&die(y,g.numFmtId,null,l,i,o),w=I[0].c==-1?w+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][w]=y):c[rs(w)+E]=y,l.cellFormula){for(D=!1,k=0;k<O.length;++k){var z=O[k];p.r>=z[0].s.r&&p.r<=z[0].e.r&&w>=z[0].s.c&&w<=z[0].e.c&&(y.F=Dr(z[0]),D=!0)}!D&&I.length>3&&(y.f=I[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>w&&(d.s.c=w),d.e.r<p.r&&(d.e.r=p.r),d.e.c<w&&(d.e.c=w),l.cellDates&&g&&y.t=="n"&&op(ar[g.numFmtId])){var Z=lf(y.v);Z&&(y.t="d",y.v=new Date(Z.y,Z.m-1,Z.d,Z.H,Z.M,Z.S,Z.u))}V&&(V.type=="XLDAPR"&&(y.D=!0),V=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;y={t:"z",v:void 0},w=I[0].c==-1?w+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][w]=y):c[rs(w)+E]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>w&&(d.s.c=w),d.e.r<p.r&&(d.e.r=p.r),d.e.c<w&&(d.e.c=w),V&&(V.type=="XLDAPR"&&(y.D=!0),V=void 0);break;case 176:C.push(I);break;case 49:V=((l.xlmeta||{}).Cell||[])[I-1];break;case 494:var J=n["!id"][I.relId];for(J?(I.Target=J.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=J):I.relId==""&&(I.Target="#"+I.loc),v=I.rfx.s.r;v<=I.rfx.e.r;++v)for(w=I.rfx.s.c;w<=I.rfx.e.c;++w)l.dense?(c[v]||(c[v]=[]),c[v][w]||(c[v][w]={t:"z",v:void 0}),c[v][w].l=I):(b=cr({c:w,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=I);break;case 426:if(!l.cellFormula)break;O.push(I),S=l.dense?c[v][w]:c[rs(w)+E],S.f=pi(I[1],d,{r:p.r,c:w},A,l),S.F=Dr(I[0]);break;case 427:if(!l.cellFormula)break;P[cr(I[0].s)]=I[1],S=l.dense?c[v][w]:c[rs(w)+E],S.f=pi(I[1],d,{r:p.r,c:w},A,l);break;case 60:if(!l.cellStyles)break;for(;I.e>=I.s;)F[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},W||(W=!0,OF(I.w/256)),Ff(F[I.e+1]);break;case 161:c["!autofilter"]={ref:Dr(I)};break;case 476:c["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(c["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!U.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Dr(u||d)),l.sheetRows&&c["!ref"]){var H=Jr(c["!ref"]);l.sheetRows<=+H.e.r&&(H.e.r=l.sheetRows-1,H.e.r>d.e.r&&(H.e.r=d.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>d.e.c&&(H.e.c=d.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Dr(H))}return C.length>0&&(c["!merges"]=C),F.length>0&&(c["!cols"]=F),L.length>0&&(c["!rows"]=L),c}function wMe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Vn(t),t.z=t.z||ar[14],t.v=Sa(ns(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=eh(a.cellXfs,t,a),t.l&&i["!links"].push([cr(c),t.l]),t.c&&i["!comments"].push([cr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=FF(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?ct(e,18,BIe(t,c)):ct(e,7,LIe(t,c))):(c.t="str",o?ct(e,17,ZIe(t,c)):ct(e,6,XIe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ct(e,13,GIe(t,c)):ct(e,2,WIe(t,c)):o?ct(e,16,zIe(t,c)):ct(e,5,VIe(t,c)),!0;case"b":return c.t="b",o?ct(e,15,OIe(t,c)):ct(e,4,AIe(t,c)),!0;case"e":return c.t="e",o?ct(e,14,MIe(t,c)):ct(e,3,DIe(t,c)),!0}return o?ct(e,12,EIe(t,c)):ct(e,1,kIe(t,c)),!0}function _Me(e,t,r,n){var a=Jr(t["!ref"]||"A1"),i,o="",l=[];ct(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Es(d),yIe(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=rs(m)),i=l[m]+o;var p=c?(t[d]||[])[m]:t[i];if(!p){f=!1;continue}f=wMe(e,p,d,m,n,t,f)}}ct(e,146)}function jMe(e,t){!t||!t["!merges"]||(ct(e,177,aMe(t["!merges"].length)),t["!merges"].forEach(function(r){ct(e,176,sMe(r))}),ct(e,178))}function NMe(e,t){!t||!t["!cols"]||(ct(e,390),t["!cols"].forEach(function(r,n){r&&ct(e,60,dMe(n,r))}),ct(e,391))}function SMe(e,t){!t||!t["!ref"]||(ct(e,648),ct(e,649,gMe(Jr(t["!ref"]))),ct(e,650))}function kMe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=En(r,-1,n[1].Target.replace(/#.*$/,""),Hr.HLINK);ct(e,494,oMe(n,a))}}),delete t["!links"]}function CMe(e,t,r,n){if(t["!comments"].length>0){var a=En(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Hr.VML);ct(e,551,NF("rId"+a)),t["!legacy"]=a}}function EMe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Dr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Xi(i);l.s.r==l.e.r&&(l.e.r=Xi(t["!ref"]).e.r,i=Dr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ct(e,161,vx(Jr(i))),ct(e,162)}}function TMe(e,t,r){ct(e,133),ct(e,137,pMe(t,r)),ct(e,138),ct(e,134)}function AMe(e,t){t["!protect"]&&ct(e,535,xMe(t["!protect"]))}function PMe(e,t,r,n){var a=wo(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Jr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ct(a,129),(r.vbaraw||o["!outline"])&&ct(a,147,NIe(l,o["!outline"])),ct(a,148,wIe(c)),TMe(a,o,r.Workbook),NMe(a,o),_Me(a,o,e,t),AMe(a,o),EMe(a,o,r,e),jMe(a,o),kMe(a,o,n),o["!margins"]&&ct(a,476,hMe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&SMe(a,o),CMe(a,o,e,n),ct(a,130),a.end()}function OMe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=an((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function RMe(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=OMe(f);d.s.r=d.s.c=0,d.e.c=l,u=rs(l),m[0].forEach(function(p,y){o[u+Es(y)]={t:"n",v:p,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Dr(d)),o}function DMe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(fie);return l&&LF(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function IMe(e,t){e.l+=10;var r=ki(e);return{name:r}}function MMe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return hd(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var $F=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],FMe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],LMe=[],$Me=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function MV(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ts(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function FV(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ts(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function gie(e){FV(e.WBProps,$F),FV(e.CalcPr,$Me),MV(e.WBView,FMe),MV(e.Sheets,LMe),t0.date1904=ts(e.WBProps.date1904)}function BMe(e){return!e.Workbook||!e.Workbook.WBProps?"false":ts(e.Workbook.WBProps.date1904)?"true":"false"}var UMe="][*?/\\".split("");function xie(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return UMe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function VMe(e,t,r){e.forEach(function(n,a){xie(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function vie(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];VMe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)B3e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var zMe=/<\w+:workbook/;function qMe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Ti,function(c,u){var d=gr(c);switch(mu(d[0])){case"<?xml":break;case"<workbook":c.match(zMe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":$F.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=ts(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=On(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=an(On(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=On(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),ts(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=an(On(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),lp.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gie(r),r}function yie(e){var t=[qs];t[t.length]=St("workbook",null,{xmlns:lp[0],"xmlns:r":wa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&($F.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=St("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Tn(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=St("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=St("definedName",Tn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function WMe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=l3(e),r.name=ki(e),r}function HMe(e,t){return t||(t=rt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),NF(e.strRelID,t),Ba(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function GMe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ki(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function KMe(e,t){t||(t=rt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),cae(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function YMe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function XMe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=CAe(e),o=D3e(e,0,r),l=jF(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function JMe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],kb[16]={n:"BrtFRTArchID$",f:YMe},hd(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=pi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),gie(r),r.Names=i,r.supbooks=o,r}function ZMe(e,t){ct(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ct(e,156,HMe(a))}ct(e,144)}function QMe(e,t){t||(t=rt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ba("SheetJS",t),Ba(pb.version,t),Ba(pb.version,t),Ba("7262",t),t.length>t.l?t.slice(0,t.l):t}function e5e(e,t){t||(t=rt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function t5e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ct(e,135),ct(e,158,e5e(a)),ct(e,136))}}function r5e(e,t){var r=wo();return ct(r,131),ct(r,128,QMe()),ct(r,153,KMe(e.Workbook&&e.Workbook.WBProps||null)),t5e(r,e),ZMe(r,e),ct(r,132),r.end()}function n5e(e,t,r){return t.slice(-4)===".bin"?JMe(e,r):qMe(e,r)}function s5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?bMe(e,n,r,a,i,o,l):J3e(e,n,r,a,i,o,l)}function a5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?MMe(e,n,r,a,i):DMe(e,n,r,a,i)}function i5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?cDe():uDe()}function o5e(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?oDe():lDe()}function l5e(e,t,r,n){return t.slice(-4)===".bin"?sRe(e,r,n):HOe(e,r,n)}function c5e(e,t,r){return Zae(e,r)}function u5e(e,t,r){return t.slice(-4)===".bin"?dOe(e,r):lOe(e,r)}function d5e(e,t,r){return t.slice(-4)===".bin"?rDe(e,r):GRe(e,r)}function f5e(e,t,r){return t.slice(-4)===".bin"?qRe(e):VRe(e)}function h5e(e,t,r,n){return r.slice(-4)===".bin"?WRe(e,t,r,n):void 0}function m5e(e,t,r){return t.slice(-4)===".bin"?$Re(e,t,r):URe(e,t,r)}function p5e(e,t,r){return(t.slice(-4)===".bin"?r5e:yie)(e)}function g5e(e,t,r,n,a){return(t.slice(-4)===".bin"?PMe:hie)(e,r,n,a)}function x5e(e,t,r){return(t.slice(-4)===".bin"?mRe:Xae)(e,r)}function v5e(e,t,r){return(t.slice(-4)===".bin"?mOe:Vae)(e,r)}function y5e(e,t,r){return(t.slice(-4)===".bin"?nDe:tie)(e)}function b5e(e){return(e.slice(-4)===".bin"?BRe:Qae)()}var bie=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,wie=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ql(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(bie),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(wie),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function w5e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(bie),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(wie),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Ty;function _5e(e,t){var r=Ty[e]||an(e);return r==="General"?Lm(t):sl(r,t)}function j5e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ts(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ns(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[an(t)]=a}function N5e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||md[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=xb(e.v):e.w=Lm(e.v):e.w=_5e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Ty[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&op(n)){var a=lf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function S5e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=LOe[n.Pattern]||n.Pattern)}e[t.ID]=t}function k5e(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var p=[],y=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ts(e);break;case"String":n.t="s",n.r=eV(an(e)),n.v=e.indexOf("<")>-1?an(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ns(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=an(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=mae[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=eV(t||e));break}if(N5e(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=an(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=e0(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=e0("RC:RC",a):n.ArrayRange&&(n.F=e0(n.ArrayRange,a),c.push([Jr(n.F),n.F]))}else for(y=0;y<c.length;++y)a.r>=c[y][0].s.r&&a.r<=c[y][0].e.r&&a.c>=c[y][0].s.c&&a.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(p.forEach(function(v){!m.patternType&&v.patternType&&(m.patternType=v.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function C5e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function eA(e,t){var r=t||{};px();var n=kg(hF(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof Qr<"u"?n=Qr.utils.decode(65001,$N(n)):n=On(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Vn(r);return o.type="string",S0.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(qe){a.indexOf("<"+qe)>=0&&(i=!0)}),i)return cFe(n,r);Ty={"General Number":"General","General Date":ar[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ar[15],"Short Date":ar[14],"Long Time":ar[19],"Medium Time":ar[18],"Short Time":ar[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ar[2],Standard:ar[4],Percent:ar[10],Scientific:ar[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},p="",y={},g={},v=Ql('<Data ss:Type="String">'),w=0,b=0,j=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},C={},k="",D=0,O=[],P={},A={},R=0,F=[],L=[],W={},V=[],H,G=!1,I=[],U=[],X={},z=0,Z=0,J={Sheets:[],WBProps:{date1904:!1}},Q={};bb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";l=bb.exec(n);)switch(l[3]=(de=l[3]).toLowerCase()){case"data":if(de=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?k5e(n.slice(w,l.index),k,v,c[c.length-1][0]=="comment"?W:y,{c:b,r:j},S,V[b],g,I,r):(k="",v=Ql(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(L.length>0&&(y.c=L),(!r.sheetRows||r.sheetRows>j)&&y.v!==void 0&&(r.dense?(m[j]||(m[j]=[]),m[j][b]=y):m[rs(b)+Es(j)]=y),y.HRef&&(y.l={Target:an(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(z=b+(parseInt(y.MergeAcross,10)|0),Z=j+(parseInt(y.MergeDown,10)|0),O.push({s:{c:b,r:j},e:{c:z,r:Z}})),!r.sheetStubs)y.MergeAcross?b=z+1:++b;else if(y.MergeAcross||y.MergeDown){for(var fe=b;fe<=z;++fe)for(var pe=j;pe<=Z;++pe)(fe>b||pe>j)&&(r.dense?(m[pe]||(m[pe]=[]),m[pe][fe]={t:"z"}):m[rs(fe)+Es(pe)]={t:"z"});b=z+1}else++b;else y=w5e(l[0]),y.Index&&(b=+y.Index-1),b<E.s.c&&(E.s.c=b),b>E.e.c&&(E.e.c=b),l[0].slice(-2)==="/>"&&++b,L=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(j<E.s.r&&(E.s.r=j),j>E.e.r&&(E.e.r=j),l[0].slice(-2)==="/>"&&(g=Ql(l[0]),g.Index&&(j=+g.Index-1)),b=0,++j):(g=Ql(l[0]),g.Index&&(j=+g.Index-1),X={},(g.AutoFitHeight=="0"||g.Height)&&(X.hpx=parseInt(g.Height,10),X.hpt=Sb(X.hpx),U[j]=X),g.Hidden=="1"&&(X.hidden=!0,U[j]=X));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(m["!ref"]=Dr(E),r.sheetRows&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=Dr(E))),O.length&&(m["!merges"]=O),V.length>0&&(m["!cols"]=V),U.length>0&&(m["!rows"]=U),d[p]=m}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=b=0,c.push([l[3],!1]),u=Ql(l[0]),p=an(u.Name),m=r.dense?[]:{},O=[],I=[],U=[],Q={name:p,Hidden:0},J.Sheets.push(Q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),V=[],G=!1}break;case"style":l[1]==="/"?S5e(S,C,r):C=Ql(l[0]);break;case"numberformat":C.nf=an(Ql(l[0]).Format||"General"),Ty[C.nf]&&(C.nf=Ty[C.nf]);for(var K=0;K!=392&&ar[K]!=C.nf;++K);if(K==392){for(K=57;K!=392;++K)if(ar[K]==null){Zc(C.nf,K);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(H=Ql(l[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!G&&H.wpx>10){G=!0,gi=Kae;for(var ee=0;ee<V.length;++ee)V[ee]&&Ff(V[ee])}G&&Ff(H),V[H.Index-1||V.length]=H;for(var se=0;se<+H.Span;++se)V[V.length]=Vn(H);break;case"namedrange":if(l[1]==="/")break;J.Names||(J.Names=[]);var B=gr(l[0]),ie={Name:B.Name,Ref:e0(B.RefersTo.slice(1),{r:0,c:0})};J.Sheets.length>0&&(ie.Sheet=J.Sheets.length-1),J.Names.push(ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?k+=n.slice(D,l.index):D=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=Ql(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?ZAe(P,de,n.slice(R,l.index)):R=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));C5e(W),L.push(W)}else c.push([l[3],!1]),u=Ql(l[0]),W={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ae=Ql(l[0]);m["!autofilter"]={ref:e0(ae.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return VV(n,r);var Ne=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ne=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ne=!1}break;case"excelworkbook":switch(l[3]){case"date1904":J.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ne=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ne=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(R,l.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else R=l.index+l[0].length;break;case"header":m["!margins"]||fm(m["!margins"]={},"xlml"),isNaN(+gr(l[0]).Margin)||(m["!margins"].header=+gr(l[0]).Margin);break;case"footer":m["!margins"]||fm(m["!margins"]={},"xlml"),isNaN(+gr(l[0]).Margin)||(m["!margins"].footer=+gr(l[0]).Margin);break;case"pagemargins":var Ee=gr(l[0]);m["!margins"]||fm(m["!margins"]={},"xlml"),isNaN(+Ee.Top)||(m["!margins"].top=+Ee.Top),isNaN(+Ee.Left)||(m["!margins"].left=+Ee.Left),isNaN(+Ee.Right)||(m["!margins"].right=+Ee.Right),isNaN(+Ee.Bottom)||(m["!margins"].bottom=+Ee.Bottom);break;case"displayrighttoleft":J.Views||(J.Views=[]),J.Views[0]||(J.Views[0]={}),J.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ne=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ne=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ne=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ne=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ne=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ne=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ne=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ne=!1}break;case"smarttags":break;default:Ne=!1;break}if(Ne||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?j5e(A,de,F,n.slice(R,l.index)):(F=l,R=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ue={};return!r.bookSheets&&!r.bookProps&&(ue.Sheets=d),ue.SheetNames=f,ue.Workbook=J,ue.SSF=Vn(ar),ue.Props=P,ue.Custprops=A,ue}function p3(e,t){switch(VF(t=t||{}),t.type||"base64"){case"base64":return eA(nl(e),t);case"binary":case"buffer":case"file":return eA(e,t);case"array":return eA(Zf(e),t)}}function E5e(e,t){var r=[];return e.Props&&r.push(QAe(e.Props,t)),e.Custprops&&r.push(ePe(e.Props,e.Custprops)),r.join("")}function T5e(){return""}function A5e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(St("NumberFormat",null,{"ss:Format":Tn(ar[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(St("Style",i.join(""),o))}),St("Styles",r.join(""))}function _ie(e){return St("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+IF(e.Ref,{r:0,c:0})})}function P5e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(_ie(a)))}return St("Names",r.join(""))}function O5e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(_ie(l)))}return i.join("")}function R5e(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(St("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(St("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(St("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(St("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ei("ProtectContents","True")),e["!protect"].objects&&a.push(ei("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ei("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ei("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ei("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":St("WorksheetOptions",a.join(""),{xmlns:$o.x})}function D5e(e){return e.map(function(t){var r=rAe(t.t||""),n=St("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return St("Comment",n,{"ss:Author":t.a})}).join("")}function I5e(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Tn(IF(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=ys(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Tn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Tn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=md[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ar[14]);break;case"s":f="String",m=tAe(e.v||"");break}var p=eh(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(g+=D5e(e.c)),St("Cell",g,l)}function M5e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=k0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function F5e(e,t,r,n){if(!e["!ref"])return"";var a=Jr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,w){Ff(v);var b=!!v.width,j=uk(w,v),E={"ss:Index":w+1};b&&(E["ss:Width"]=jb(j.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(St("Column",null,E))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[M5e(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:f},y=cr(p),g=c?(e[u]||[])[f]:e[y];d.push(I5e(g,y,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function L5e(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?O5e(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?F5e(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(R5e(i,t,e,r)),n.join("")}function $5e(e,t){t||(t={}),e.SSF||(e.SSF=Vn(ar)),e.SSF&&(px(),Gw(e.SSF),t.revssf=sk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],eh(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(E5e(e,t)),r.push(T5e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(St("Worksheet",L5e(n,t,e),{"ss:Name":Tn(e.SheetNames[n])}));return r[2]=A5e(e,t),r[3]=P5e(e),qs+St("Workbook",r.join(""),{xmlns:$o.ss,"xmlns:o":$o.o,"xmlns:x":$o.x,"xmlns:ss":$o.ss,"xmlns:dt":$o.dt,"xmlns:html":$o.html})}function B5e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=OAe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=RAe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var U5e=[60,1084,2066,2165,2175];function V5e(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Lu(r,r.l),u=g3[c],d=0;u!=null&&U5e.indexOf(c)>-1;)i=Lu(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=g3[c=Lu(r,r.l)];var f=$a(o);Ja(f,0);var m=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(m),m+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Rc(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ar[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||md[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=xb(e.v):e.w=Lm(e.v):e.w=sl(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&op(ar[n]||String(n))){var a=lf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function sj(e,t,r){return{v:e,ixfe:t,t:r}}function z5e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,m="",p,y,g,v,w={},b=[],j,E,S=[],C=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},D={},O=function(De){return De<8?cm[De]:De<64&&C[De-8]||cm[De]},P=function(De,Fe,xe){var He=Fe.XF.data;if(!(!He||!He.patternType||!xe||!xe.cellStyles)){Fe.s={},Fe.s.patternType=He.patternType;var ot;(ot=_b(O(He.icvFore)))&&(Fe.s.fgColor={rgb:ot}),(ot=_b(O(He.icvBack)))&&(Fe.s.bgColor={rgb:ot})}},A=function(De,Fe,xe){if(!(X>1)&&!(xe.sheetRows&&De.r>=xe.sheetRows)){if(xe.cellStyles&&Fe.XF&&Fe.XF.data&&P(De,Fe,xe),delete Fe.ixfe,delete Fe.XF,f=De,m=cr(De),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),De.r<o.s.r&&(o.s.r=De.r),De.c<o.s.c&&(o.s.c=De.c),De.r+1>o.e.r&&(o.e.r=De.r+1),De.c+1>o.e.c&&(o.e.c=De.c+1),xe.cellFormula&&Fe.f){for(var He=0;He<b.length;++He)if(!(b[He][0].s.c>De.c||b[He][0].s.r>De.r)&&!(b[He][0].e.c<De.c||b[He][0].e.r<De.r)){Fe.F=Dr(b[He][0]),(b[He][0].s.c!=De.c||b[He][0].s.r!=De.r)&&delete Fe.f,Fe.f&&(Fe.f=""+pi(b[He][1],o,De,I,R));break}}xe.dense?(a[De.r]||(a[De.r]=[]),a[De.r][De.c]=Fe):a[m]=Fe}},R={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(R.password=t.password);var F,L=[],W=[],V=[],H=[],G=!1,I=[];I.SheetNames=R.snames,I.sharedf=R.sharedf,I.arrayf=R.arrayf,I.names=[],I.XTI=[];var U=0,X=0,z=0,Z=[],J=[],Q;R.codepage=1200,Al(1200);for(var de=!1;e.l<e.length-1;){var fe=e.l,pe=e.read_shift(2);if(pe===0&&U===10)break;var K=e.l===e.length?0:e.read_shift(2),ee=g3[pe];if(ee&&ee.f){if(t.bookSheets&&U===133&&pe!==133)break;if(U=pe,ee.r===2||ee.r==12){var se=e.read_shift(2);if(K-=2,!R.enc&&se!==pe&&((se&255)<<8|se>>8)!==pe)throw new Error("rt mismatch: "+se+"!="+pe);ee.r==12&&(e.l+=10,K-=10)}var B={};if(pe===10?B=ee.f(e,K,R):B=V5e(pe,ee,e,K,R),X==0&&[9,521,1033,2057].indexOf(U)===-1)continue;switch(pe){case 34:r.opts.Date1904=k.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(R.enc||(e.l=0),R.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=B;break;case 66:var ie=Number(B);switch(ie){case 21010:ie=1200;break;case 32768:ie=1e4;break;case 32769:ie=1252;break}Al(R.codepage=ie),de=!0;break;case 317:R.rrtabid=B;break;case 25:R.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:R.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(B);break;case 430:I.push([B]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(B);break;case 24:case 536:Q={Name:B.Name,Ref:pi(B.rgce,o,null,I,R)},B.itab>0&&(Q.Sheet=B.itab-1),I.names.push(Q),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(J[B.itab-1]={ref:Dr(B.rgce[0][0][1][2])});break;case 22:R.ExternCount=B;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(B),I.XTI=I.XTI.concat(B);break;case 2196:if(R.biff<8)break;Q!=null&&(Q.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&R.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,R.snames.push(B.name);break;case 10:{if(--X)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Dr(o),t.sheetRows&&t.sheetRows<=o.e.r){var ae=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Dr(o),o.e.r=ae}o.e.r++,o.e.c++}L.length>0&&(a["!merges"]=L),W.length>0&&(a["!objects"]=W),V.length>0&&(a["!cols"]=V),H.length>0&&(a["!rows"]=H),k.Sheets.push(D)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),R.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(R.biff=5,de=!0,Al(R.codepage=28591)),R.biff==8&&B.BIFFVer==0&&B.dt==16&&(R.biff=2),X++)break;if(a=t.dense?[]:{},R.biff<8&&!de&&(de=!0,Al(R.codepage=t.codepage||1252)),R.biff<5||B.BIFFVer==0&&B.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ne={pos:e.l-K,name:u};i[Ne.pos]=Ne,R.snames.push(u)}else u=(i[fe]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),L=[],W=[],R.arrayf=b=[],V=[],H=[],G=!1,D={Hidden:(i[fe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[cr({c:B.c,r:B.r})])&&++B.c,j={ixfe:B.ixfe,XF:S[B.ixfe]||{},v:B.val,t:"n"},z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:B.c,r:B.r},j,t);break;case 5:case 517:j={ixfe:B.ixfe,XF:S[B.ixfe],v:B.val,t:B.t},z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:B.c,r:B.r},j,t);break;case 638:j={ixfe:B.ixfe,XF:S[B.ixfe],v:B.rknum,t:"n"},z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:B.c,r:B.r},j,t);break;case 189:for(var Ee=B.c;Ee<=B.C;++Ee){var ue=B.rkrec[Ee-B.c][0];j={ixfe:ue,XF:S[ue],v:B.rkrec[Ee-B.c][1],t:"n"},z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:Ee,r:B.r},j,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){l=B;break}if(j=sj(B.val,B.cell.ixfe,B.tt),j.XF=S[j.ixfe],t.cellFormula){var qe=B.formula;if(qe&&qe[0]&&qe[0][0]&&qe[0][0][0]=="PtgExp"){var Je=qe[0][0][1][0],le=qe[0][0][1][1],we=cr({r:Je,c:le});w[we]?j.f=""+pi(B.formula,o,B.cell,I,R):j.F=((t.dense?(a[Je]||[])[le]:a[we])||{}).F}else j.f=""+pi(B.formula,o,B.cell,I,R)}z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A(B.cell,j,t),l=B}break;case 7:case 519:if(l)l.val=B,j=sj(B,l.cell.ixfe,"s"),j.XF=S[j.ixfe],t.cellFormula&&(j.f=""+pi(l.formula,o,l.cell,I,R)),z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A(l.cell,j,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(B);var Oe=cr(B[0].s);if(p=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Oe],t.cellFormula&&p){if(!l||!Oe||!p)break;p.f=""+pi(B[1],o,B[0],I,R),p.F=Dr(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;w[cr(l.cell)]=B[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[cr(l.cell)],(p||{}).f=""+pi(B[0],o,f,I,R)}}break;case 253:j=sj(c[B.isst].t,B.ixfe,"s"),c[B.isst].h&&(j.h=c[B.isst].h),j.XF=S[j.ixfe],z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:B.c,r:B.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:B.ixfe,XF:S[B.ixfe],t:"z"},z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:B.c,r:B.r},j,t));break;case 190:if(t.sheetStubs)for(var Ge=B.c;Ge<=B.C;++Ge){var Ze=B.ixfe[Ge-B.c];j={ixfe:Ze,XF:S[Ze],t:"z"},z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:Ge,r:B.r},j,t)}break;case 214:case 516:case 4:j=sj(B.val,B.ixfe,"s"),j.XF=S[j.ixfe],z>0&&(j.z=Z[j.ixfe>>8&63]),Rc(j,t,r.opts.Date1904),A({c:B.c,r:B.r},j,t);break;case 0:case 512:X===1&&(o=B);break;case 252:c=B;break;case 1054:if(R.biff==4){Z[z++]=B[1];for(var Se=0;Se<z+163&&ar[Se]!=B[1];++Se);Se>=163&&Zc(B[1],z+163)}else Zc(B[1],B[0]);break;case 30:{Z[z++]=B;for(var te=0;te<z+163&&ar[te]!=B;++te);te>=163&&Zc(B,z+163)}break;case 229:L=L.concat(B);break;case 93:W[B.cmo[0]]=R.lastobj=B;break;case 438:R.lastobj.TxO=B;break;case 127:R.lastobj.ImData=B;break;case 440:for(v=B[0].s.r;v<=B[0].e.r;++v)for(g=B[0].s.c;g<=B[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[cr({c:g,r:v})],p&&(p.l=B[1]);break;case 2048:for(v=B[0].s.r;v<=B[0].e.r;++v)for(g=B[0].s.c;g<=B[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[cr({c:g,r:v})],p&&p.l&&(p.l.Tooltip=B[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;p=t.dense?(a[B[0].r]||[])[B[0].c]:a[cr(B[0])];var _e=W[B[2]];p||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),p=a[B[0].r][B[0].c]={t:"z"}):p=a[cr(B[0])]={t:"z"},o.e.r=Math.max(o.e.r,B[0].r),o.s.r=Math.min(o.s.r,B[0].r),o.e.c=Math.max(o.e.c,B[0].c),o.s.c=Math.min(o.s.c,B[0].c)),p.c||(p.c=[]),y={a:B[1],t:_e.TxO.t},p.c.push(y)}break;case 2173:PRe(S[B.ixfe],B.ext);break;case 125:{if(!R.cellStyles)break;for(;B.e>=B.s;)V[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},G||(G=!0,OF(B.w/256)),Ff(V[B.e+1])}break;case 520:{var he={};B.level!=null&&(H[B.r]=he,he.level=B.level),B.hidden&&(H[B.r]=he,he.hidden=!0),B.hpt&&(H[B.r]=he,he.hpt=B.hpt,he.hpx=k0(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||fm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=B;break;case 161:a["!margins"]||fm(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(k.Views[0].RTL=!0);break;case 146:C=B;break;case 2198:F=B;break;case 140:E=B;break;case 442:u?D.CodeName=B||D.name:k.WBProps.CodeName=B||"ThisWorkbook";break}}else ee||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),e.l+=K}return r.SheetNames=Ps(i).sort(function(Re,De){return Number(Re)-Number(De)}).map(function(Re){return i[Re].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&J.forEach(function(Re,De){r.Sheets[r.SheetNames[De]]["!autofilter"]=Re}),r.Strings=c,r.SSF=Vn(ar),R.enc&&(r.Encryption=R.enc),F&&(r.Themes=F),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),I.names.length>0&&(k.Names=I.names),r.Workbook=k,r}var Ay={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function q5e(e,t,r){var n=Zt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=vV(n,c3,Ay.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Zt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=vV(o,u3,Ay.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(bae(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function W5e(e,t){var r=[],n=[],a=[],i=0,o,l=K7(c3,"n"),c=K7(u3,"n");if(e.Props)for(o=Ps(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Ps(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)Cae.indexOf(a[i][0])>-1||yae.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Zt.utils.cfb_add(t,"/SummaryInformation",yV(n,Ay.SI,c,u3)),(r.length||u.length)&&Zt.utils.cfb_add(t,"/DocumentSummaryInformation",yV(r,Ay.DSI,l,c3,u.length?u:null,Ay.UDI))}function BF(e,t){t||(t={}),VF(t),rk(),t.codepage&&tk(t.codepage);var r,n;if(e.FullPaths){if(Zt.find(e,"/encryption"))throw new Error("File is password-protected");r=Zt.find(e,"!CompObj"),n=Zt.find(e,"/Workbook")||Zt.find(e,"/Book")}else{switch(t.type){case"base64":e=qo(nl(e));break;case"binary":e=qo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ja(e,0),n={content:e}}var a,i;if(r&&B5e(r),t.bookProps&&!t.bookSheets)a={};else{var o=Ur?"buffer":"array";if(n&&n.content)a=z5e(n.content,t);else if((i=Zt.find(e,"PerfectOffice_MAIN"))&&i.content)a=dm.to_workbook(i.content,(t.type=o,t));else if((i=Zt.find(e,"NativeContent_MAIN"))&&i.content)a=dm.to_workbook(i.content,(t.type=o,t));else throw(i=Zt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Zt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=aDe(e))}var l={};return e.FullPaths&&q5e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function H5e(e,t){var r=t||{},n=Zt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Zt.utils.cfb_add(n,a,jie(e,r)),r.biff==8&&(e.Props||e.Custprops)&&W5e(e,n),r.biff==8&&e.vbaraw&&iDe(n,Zt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var kb={0:{f:xIe},1:{f:SIe},2:{f:qIe},3:{f:RIe},4:{f:TIe},5:{f:UIe},6:{f:YIe},7:{f:FIe},8:{f:rMe},9:{f:tMe},10:{f:QIe},11:{f:eMe},12:{f:CIe},13:{f:HIe},14:{f:IIe},15:{f:PIe},16:{f:mie},17:{f:JIe},18:{f:$Ie},19:{f:_F},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:XMe},40:{},42:{},43:{f:YOe},44:{f:GOe},45:{f:ZOe},46:{f:eRe},47:{f:QOe},48:{},49:{f:bAe},50:{},51:{f:DRe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Lae},62:{f:KIe},63:{f:zRe},64:{f:vMe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ei,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:mMe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:jIe},148:{f:bIe,p:16},151:{f:lMe},152:{},153:{f:GMe},154:{},155:{},156:{f:WMe},157:{},158:{},159:{T:1,f:uOe},160:{T:-1},161:{T:1,f:fp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nMe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ORe},336:{T:-1},337:{f:FRe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:l3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Fae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:cMe},427:{f:uMe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fMe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:_Ie},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:iMe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:l3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eDe},633:{T:1},634:{T:-1},635:{T:1,f:ZRe},636:{T:-1},637:{f:NAe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:IMe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:yMe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},g3={6:{f:ZT},10:{f:Vd},12:{f:Ys},13:{f:Ys},14:{f:Ds},15:{f:Ds},16:{f:wi},17:{f:Ds},18:{f:Ds},19:{f:Ys},20:{f:SV},21:{f:SV},23:{f:Fae},24:{f:CV},25:{f:Ds},26:{},27:{},28:{f:y4e},29:{},34:{f:Ds},35:{f:kV},38:{f:wi},39:{f:wi},40:{f:wi},41:{f:wi},42:{f:Ds},43:{f:Ds},47:{f:POe},49:{f:HPe},51:{f:Ys},60:{},61:{f:UPe},64:{f:Ds},65:{f:WPe},66:{f:Ys},77:{},80:{},81:{},82:{},85:{f:Ys},89:{},90:{},91:{},92:{f:APe},93:{f:_4e},94:{},95:{f:Ds},96:{},97:{},99:{f:Ds},125:{f:Lae},128:{f:o4e},129:{f:OPe},130:{f:Ys},131:{f:Ds},132:{f:Ds},133:{f:RPe},134:{},140:{f:A4e},141:{f:Ys},144:{},146:{f:R4e},151:{},152:{},153:{},154:{},155:{},156:{f:Ys},157:{},158:{},160:{f:B4e},161:{f:M4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:n4e},190:{f:s4e},193:{f:Vd},197:{},198:{},199:{},200:{},201:{},202:{f:Ds},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ys},220:{},221:{f:Ds},222:{},224:{f:i4e},225:{f:TPe},226:{f:Vd},227:{},229:{f:b4e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:IPe},253:{f:KPe},255:{f:FPe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Eae},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ds},353:{f:Vd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:f4e},431:{f:Ds},432:{},433:{},434:{},437:{},438:{f:S4e},439:{f:Ds},440:{f:k4e},441:{},442:{f:Xw},443:{},444:{f:Ys},445:{},446:{},448:{f:Vd},449:{f:BPe,r:2},450:{f:Vd},512:{f:_V},513:{f:$4e},515:{f:u4e},516:{f:XPe},517:{f:NV},519:{f:U4e},520:{f:LPe},523:{},545:{f:EV},549:{f:wV},566:{},574:{f:zPe},638:{f:r4e},659:{},1048:{},1054:{f:ZPe},1084:{},1212:{f:g4e},2048:{f:E4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:tj},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:D4e,r:12},2173:{f:ARe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ds,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:p4e,r:12},2197:{},2198:{f:NRe,r:12},2199:{},2200:{},2201:{},2202:{f:x4e,r:12},2203:{f:Vd},2204:{},2205:{},2206:{},2207:{},2211:{f:$Pe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ys},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:F4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:O4e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:_V},1:{},2:{f:H4e},3:{f:q4e},4:{f:z4e},5:{f:NV},7:{f:K4e},8:{},9:{f:tj},11:{},22:{f:Ys},30:{f:e4e},31:{},32:{},33:{f:EV},36:{},37:{f:wV},50:{f:Y4e},62:{},52:{},67:{},68:{f:Ys},69:{},86:{},126:{},127:{f:V4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:X4e},223:{},234:{},354:{},421:{},518:{f:ZT},521:{f:tj},536:{f:CV},547:{f:kV},561:{},579:{},1030:{f:ZT},1033:{f:tj},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function kt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&yF(r)&&e.push(r)}}function G5e(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return kt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function e1(e,t,r){return e||(e=rt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function K5e(e,t,r,n){var a=rt(9);return e1(a,e,t),Tae(r,n||"b",a),a}function Y5e(e,t,r){var n=rt(8+2*r.length);return e1(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function X5e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Sa(ns(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?kt(e,2,G4e(r,n,a)):kt(e,3,W4e(r,n,a));return;case"b":case"e":kt(e,5,K5e(r,n,t.v,t.t));return;case"s":case"str":kt(e,4,Y5e(r,n,(t.v||"").slice(0,255)));return}kt(e,1,e1(null,r,n))}function J5e(e,t,r,n){var a=Array.isArray(t),i=Jr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Dr(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Es(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=rs(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&X5e(e,f,u,d)}}}function Z5e(e,t){for(var r=t||{},n=wo(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return kt(n,r.biff==4?1033:r.biff==3?521:9,TF(e,16,r)),J5e(n,e.Sheets[e.SheetNames[a]],a,r),kt(n,10),n.end()}function Q5e(e,t,r){kt(e,49,GPe({sz:12,name:"Arial"},r))}function eFe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&kt(e,1054,QPe(a,t[a],r))})}function tFe(e,t){var r=rt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),kt(e,2151,r),r=rt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Dae(Jr(t["!ref"]||"A1"),r),r.write_shift(4,4),kt(e,2152,r)}function rFe(e,t){for(var r=0;r<16;++r)kt(e,224,jV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){kt(e,224,jV(n,0,t))})}function nFe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];kt(e,440,C4e(n)),n[1].Tooltip&&kt(e,2048,T4e(n))}delete t["!links"]}function sFe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&kt(e,125,I4e(uk(a,n),a))})}}function aFe(e,t,r,n,a){var i=16+eh(a.cellXfs,t,a);if(t.v==null&&!t.bf){kt(e,513,Vm(r,n,i));return}if(t.bf)kt(e,6,O3e(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Sa(ns(t.v)):t.v;kt(e,515,d4e(r,n,o,i));break;case"b":case"e":kt(e,517,c4e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=FF(a.Strings,t.v,a.revStrings);kt(e,253,YPe(r,n,l,i))}else kt(e,516,JPe(r,n,(t.v||"").slice(0,255),i,a));break;default:kt(e,513,Vm(r,n,i))}}function iFe(e,t,r){var n=wo(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],p=Jr(i["!ref"]||"A1"),y=u?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}kt(n,2057,TF(r,16,t)),kt(n,13,jl(1)),kt(n,12,jl(100)),kt(n,15,$i(!0)),kt(n,17,$i(!1)),kt(n,16,Bm(.001)),kt(n,95,$i(!0)),kt(n,42,$i(!1)),kt(n,43,$i(!1)),kt(n,130,jl(1)),kt(n,128,l4e()),kt(n,131,$i(!1)),kt(n,132,$i(!1)),u&&sFe(n,i["!cols"]),kt(n,512,t4e(p,t)),u&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Es(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(m[v]=rs(v)),d=m[v]+f;var w=c?(i[g]||[])[v]:i[d];w&&(aFe(n,w,g,v,t),u&&w.l&&i["!links"].push([d,w.l]))}}var b=l.CodeName||l.name||a;return u&&kt(n,574,qPe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&kt(n,229,w4e(i["!merges"])),u&&nFe(n,i),kt(n,442,Aae(b)),u&&tFe(n,i),kt(n,10),n.end()}function oFe(e,t,r){var n=wo(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(kt(n,2057,TF(e,5,r)),r.bookType=="xla"&&kt(n,135),kt(n,225,l?jl(1200):null),kt(n,193,cPe(2)),c&&kt(n,191),c&&kt(n,192),kt(n,226),kt(n,92,PPe("SheetJS",r)),kt(n,66,jl(l?1200:1252)),l&&kt(n,353,jl(0)),l&&kt(n,448),kt(n,317,L4e(e.SheetNames.length)),l&&e.vbaraw&&kt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";kt(n,442,Aae(u))}kt(n,156,jl(17)),kt(n,25,$i(!1)),kt(n,18,$i(!1)),kt(n,19,jl(0)),l&&kt(n,431,$i(!1)),l&&kt(n,444,jl(0)),kt(n,61,VPe()),kt(n,64,$i(!1)),kt(n,141,jl(0)),kt(n,34,$i(BMe(e)=="true")),kt(n,14,$i(!0)),l&&kt(n,439,$i(!1)),kt(n,218,jl(0)),Q5e(n,e,r),eFe(n,e.SSF,r),rFe(n,r),l&&kt(n,352,$i(!1));var d=n.end(),f=wo();l&&kt(f,140,P4e()),l&&r.Strings&&G5e(f,252,MPe(r.Strings)),kt(f,10);var m=f.end(),p=wo(),y=0,g=0;for(g=0;g<e.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var v=d.length+y+m.length;for(g=0;g<e.SheetNames.length;++g){var w=i[g]||{};kt(p,133,DPe({pos:v,hs:w.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var b=p.end();if(y!=b.length)throw new Error("BS8 "+y+" != "+b.length);var j=[];return d.length&&j.push(d),b.length&&j.push(b),m.length&&j.push(m),$a(j)}function lFe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Vn(ar)),e&&e.SSF&&(px(),Gw(e.SSF),r.revssf=sk(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,zF(r),r.cellXfs=[],eh(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=iFe(a,r,e);return n.unshift(oFe(e,n,r)),$a(n)}function jie(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Xi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return lFe(e,t);case 4:case 3:case 2:return Z5e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function LV(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=GTe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var w=g.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var b=w[l].trim();if(b.match(/<t[dh]/i)){for(var j=b,E=0;j.charAt(0)=="<"&&(E=j.indexOf(">"))>-1;)j=j.slice(E+1);for(var S=0;S<y.length;++S){var C=y[S];C.s.c==d&&C.s.r<u&&u<=C.e.r&&(d=C.e.c+1,S=-1)}var k=gr(b.slice(0,b.indexOf(">")));m=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var D=k.t||k["data-t"]||"";if(!j.length){d+=m;continue}if(j=Jse(j),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!j.length){d+=m;continue}var O={t:"s",v:j};r.raw||!j.trim().length||D=="s"||(j==="TRUE"?O={t:"b",v:!0}:j==="FALSE"?O={t:"b",v:!1}:isNaN(xc(j))?isNaN(N0(j).getDate())||(O={t:"d",v:ns(j)},r.cellDates||(O={t:"n",v:Sa(O.v)}),O.z=r.dateNF||ar[14]):O={t:"n",v:xc(j)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=O):n[cr({r:u,c:d})]=O,d+=m}}}}return n["!ref"]=Dr(p),y.length&&(n["!merges"]=y),n}function Nie(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=cr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||fF(f.w||(iu(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(St("td",m,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var Sie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',kie="</body></html>";function cFe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Qf(LV(r[0],t),t);var n=KF();return r.forEach(function(a,i){YF(n,LV(a,t),"Sheet"+(i+1))}),n}function Cie(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Eie(e,t){var r=t||{},n=r.header!=null?r.header:Sie,a=r.footer!=null?r.footer:kie,i=[n],o=Xi(e["!ref"]);r.dense=Array.isArray(e),i.push(Cie(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Nie(e,o,l,r));return i.push("</table>"+a),i.join("")}function Tie(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?ys(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Xi(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,p=e["!rows"]||(e["!rows"]=[]),y=0,g=0,v=0,w=0,b=0,j=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&g<c;++y){var E=l[y];if($V(E)){if(n.display)continue;p[g]={hidden:!0}}var S=E.children;for(v=w=0;v<S.length;++v){var C=S[v];if(!(n.display&&$V(C))){var k=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Jse(C.innerHTML),D=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<f.length;++m){var O=f[m];O.s.c==w+i&&O.s.r<g+a&&g+a<=O.e.r&&(w=O.e.c+1-i,m=-1)}j=+C.getAttribute("colspan")||1,((b=+C.getAttribute("rowspan")||1)>1||j>1)&&f.push({s:{r:g+a,c:w+i},e:{r:g+a+(b||1)-1,c:w+i+(j||1)-1}});var P={t:"s",v:k},A=C.getAttribute("data-t")||C.getAttribute("t")||"";k!=null&&(k.length==0?P.t=A||"z":n.raw||k.trim().length==0||A=="s"||(k==="TRUE"?P={t:"b",v:!0}:k==="FALSE"?P={t:"b",v:!1}:isNaN(xc(k))?isNaN(N0(k).getDate())||(P={t:"d",v:ns(k)},n.cellDates||(P={t:"n",v:Sa(P.v)}),P.z=n.dateNF||ar[14]):P={t:"n",v:xc(k)})),P.z===void 0&&D!=null&&(P.z=D);var R="",F=C.getElementsByTagName("A");if(F&&F.length)for(var L=0;L<F.length&&!(F[L].hasAttribute("href")&&(R=F[L].getAttribute("href"),R.charAt(0)!="#"));++L);R&&R.charAt(0)!="#"&&(P.l={Target:R}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][w+i]=P):e[cr({c:w+i,r:g+a})]=P,u.e.c<w+i&&(u.e.c=w+i),w+=j}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Dr(u),g>=c&&(e["!fullref"]=Dr((u.e.r=l.length-y+g-1+a,u))),e}function Aie(e,t){var r=t||{},n=r.dense?[]:{};return Tie(n,e,t)}function uFe(e,t){return Qf(Aie(e,t),t)}function $V(e){var t="",r=dFe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function dFe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function fFe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=an(t.replace(/<[^>]*>/g,""));return[r]}var BV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Pie(e,t){var r=t||{},n=hF(e),a=[],i,o,l={name:""},c="",u=0,d,f,m={},p=[],y=r.dense?[]:{},g,v,w={value:""},b="",j=0,E=[],S=-1,C=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},D=0,O={},P=[],A={},R=0,F=0,L=[],W=1,V=1,H=[],G={Names:[]},I={},U=["",""],X=[],z={},Z="",J=0,Q=!1,de=!1,fe=0;for(bb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=bb.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?y["!ref"]=Dr(k):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(y["!fullref"]=y["!ref"],k.e.r=r.sheetRows-1,y["!ref"]=Dr(k)),P.length&&(y["!merges"]=P),L.length&&(y["!rows"]=L),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=y,de=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=gr(g[0],!1),S=C=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,y=r.dense?[]:{},P=[],L=[],de=!0);break;case"table-row-group":g[1]==="/"?--D:++D;break;case"table-row":case"":if(g[1]==="/"){S+=W,W=1;break}if(f=gr(g[0],!1),f.?S=f.-1:S==-1&&(S=0),W=+f["number-rows-repeated"]||1,W<10)for(fe=0;fe<W;++fe)D>0&&(L[S+fe]={level:D});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(y[S]||(y[S]=[]),y[S][C]={t:"z"}):y[cr({r:S,c:C})]={t:"z"}),b="",E=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++C,w=gr(g[0],!1),V=parseInt(w["number-columns-repeated"]||"1",10),v={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(v.f=IV(an(w.formula))),(w.||w["value-type"])=="string"&&(v.t="s",v.v=an(w["string-value"]||""),r.dense?(y[S]||(y[S]=[]),y[S][C]=v):y[cr({r:S,c:C})]=v),C+=V-1;else if(g[1]!=="/"){++C,b="",j=0,E=[],V=1;var pe=W?S+W-1:S;if(C>k.e.c&&(k.e.c=C),C<k.s.c&&(k.s.c=C),S<k.s.r&&(k.s.r=S),pe>k.e.r&&(k.e.r=pe),w=gr(g[0],!1),X=[],z={},v={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=an(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(R=parseInt(w["number-matrix-rows-spanned"],10)||0,F=parseInt(w["number-matrix-columns-spanned"],10)||0,A={s:{r:S,c:C},e:{r:S+R-1,c:C+F-1}},v.F=Dr(A),H.push([A,v.F])),w.formula)v.f=IV(w.formula);else for(fe=0;fe<H.length;++fe)S>=H[fe][0].s.r&&S<=H[fe][0].e.r&&C>=H[fe][0].s.c&&C<=H[fe][0].e.c&&(v.F=H[fe][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(R=parseInt(w["number-rows-spanned"],10)||0,F=parseInt(w["number-columns-spanned"],10)||0,A={s:{r:S,c:C},e:{r:S+R-1,c:C+F-1}},P.push(A)),w["number-columns-repeated"]&&(V=parseInt(w["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=ts(w["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(w.value);break;case"percentage":v.t="n",v.v=parseFloat(w.value);break;case"currency":v.t="n",v.v=parseFloat(w.value);break;case"date":v.t="d",v.v=ns(w["date-value"]),r.cellDates||(v.t="n",v.v=Sa(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=qTe(w["time-value"])/86400,r.cellDates&&(v.t="d",v.v=ak(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(w.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",w["string-value"]!=null&&(b=an(w["string-value"]),E=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Q=!1,v.t==="s"&&(v.v=b||"",E.length&&(v.R=E),Q=j==0),I.Target&&(v.l=I),X.length>0&&(v.c=X,X=[]),b&&r.cellText!==!1&&(v.w=b),Q&&(v.t="z",delete v.v),(!Q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var K=0;K<W;++K){if(V=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(y[S+K]||(y[S+K]=[]),y[S+K][C]=K==0?v:Vn(v);--V>0;)y[S+K][C+V]=Vn(v);else for(y[cr({r:S+K,c:C})]=v;--V>0;)y[cr({r:S+K,c:C+V})]=Vn(v);k.e.c<=C&&(k.e.c=C)}V=parseInt(w["number-columns-repeated"]||"1",10),C+=V-1,V=0,v={},b="",E=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;z.t=b,E.length&&(z.R=E),z.a=Z,X.push(z)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);Z="",J=0,b="",j=0,E=[];break;case"creator":g[1]==="/"?Z=n.slice(J,g.index):J=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",j=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(O[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=gr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=gr(g[0],!1),c+=BV[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=gr(g[0],!1),c+=BV[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=gr(g[0],!1),U=QT(o["cell-range-address"]);var ee={Name:o.name,Ref:U[0]+"!"+U[1]};de&&(ee.Sheet=p.length),G.Names.push(ee);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!w||!w["string-value"])){var se=fFe(n.slice(j,g.index));b=(b.length>0?b+`
`:"")+se[0]}else gr(g[0],!1),j=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{U=QT(gr(g[0])["target-range-address"]),m[U[0]]["!autofilter"]={ref:U[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(I=gr(g[0],!1),!I.href)break;I.Target=an(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(U=QT(I.Target.slice(1)),I.Target="#"+U[0]+"!"+U[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var B={Sheets:m,SheetNames:p,Workbook:G};return r.bookSheets&&delete B.Sheets,B}function UV(e,t){t=t||{},_l(e,"META-INF/manifest.xml")&&qAe(Ks(e,"META-INF/manifest.xml"),t);var r=Wo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Pie(On(r),t);return _l(e,"meta.xml")&&(n.Props=xae(Ks(e,"meta.xml"))),n}function VV(e,t){return Pie(e,t)}var hFe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+yb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return qs+t}})(),zV=(function(){var e=function(i){return Tn(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Tn(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Xi(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var w=!1,b={},j="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(w=!0),b["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,b["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(w){c.push(r);continue}var E=cr({r:u,c:d}),S=y?(i[u]||[])[d]:i[E];if(S&&S.f&&(b["table:formula"]=Tn(L3e(S.f)),S.F&&S.F.slice(0,E.length)==E)){var C=Xi(S.F);b["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,b["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":j=S.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=S.v?"true":"false";break;case"n":j=S.w||String(S.v||0),b["office:value-type"]="float",b["office:value"]=S.v||0;break;case"s":case"str":j=S.v==null?"":S.v,b["office:value-type"]="string";break;case"d":j=S.w||ns(S.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ns(S.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(j);if(S.l&&S.l.Target){var D=S.l.Target;D=D.charAt(0)=="#"?"#"+$3e(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),k=St("text:a",k,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+St("table:table-cell",St("text:p",k,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Ff(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[qs],u=yb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=yb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(gae().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function Oie(e,t){if(t.bookType=="fods")return zV(e,t);var r=cF(),n="",a=[],i=[];return n="mimetype",Lr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Lr(r,n,zV(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Lr(r,n,hFe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Lr(r,n,qs+gae()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Lr(r,n,GAe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Lr(r,n,WAe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function x3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):On(Zf(e))}function mFe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):qo(Hc(e))}function pFe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function $f(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function qV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function gFe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function xFe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Cb(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function kn(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ts(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function cn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Cb(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Cb(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Ka(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(kn(n*8+a.type)),a.type==2&&t.push(kn(a.data.length)),t.push(a.data))})}),$f(t)}function UF(e,t){return e?.map(function(r){return t(r.data)})||[]}function xl(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Cb(e,n),i=cn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Ts(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=cn(l.data),u=Ts(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Ts(i[3][0].data)>>>0>0),r.push(o)}return r}function og(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:kn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:kn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:kn(o.data.length)}],n[2].push({data:Ka(o.meta),type:2})});var i=Ka(n);t.push(kn(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),$f(t)}function vFe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Cb(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[$f(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=$f(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function vl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(vFe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return $f(t)}function lg(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=kn(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return $f(t)}function yFe(e,t,r,n){var a=zm(e),i=a.getUint32(4,!0),o=(n>1?12:8)+qV(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=qV(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function bFe(e,t,r){var n=zm(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=gFe(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function tA(e,t){var r=new Uint8Array(32),n=zm(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,xFe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function rA(e,t){var r=new Uint8Array(32),n=zm(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function wFe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return yFe(e,t,r,e[0]);case 5:return bFe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function mi(e){var t=cn(e);return Cb(t[1][0].data)}function WV(e,t){var r=cn(t.data),n=Ts(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=cn(o.data),c=Ts(l[1][0].data)>>>0;switch(n){case 1:i[c]=x3(l[3][0].data);break;case 8:{var u=e[mi(l[9][0].data)][0],d=cn(u.data),f=e[mi(d[1][0].data)][0],m=Ts(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=cn(f.data);i[c]=p[3].map(function(y){return x3(y.data)}).join("")}break}}),i}function _Fe(e,t){var r,n,a,i,o,l,c,u,d,f,m,p,y,g,v=cn(e),w=Ts(v[1][0].data)>>>0,b=Ts(v[2][0].data)>>>0,j=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ts(v[8][0].data)>0||!1,E,S;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)E=(p=(m=v[4])==null?void 0:m[0])==null?void 0:p.data,S=(g=(y=v[3])==null?void 0:y[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=j?4:1,k=zm(E),D=[],O=0;O<E.length/2;++O){var P=k.getUint16(O*2,!0);P<65535&&D.push([O,P])}if(D.length!=b)throw"Expected ".concat(b," cells, found ").concat(D.length);var A=[];for(O=0;O<D.length-1;++O)A[D[O][0]]=S.subarray(D[O][1]*C,D[O+1][1]*C);return D.length>=1&&(A[D[D.length-1][0]]=S.subarray(D[D.length-1][1]*C)),{R:w,cells:A}}function jFe(e,t){var r,n=cn(t.data),a=(r=n?.[7])!=null&&r[0]?Ts(n[7][0].data)>>>0>0?1:0:-1,i=UF(n[5],function(o){return _Fe(o,a)});return{nrows:Ts(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function NFe(e,t,r){var n,a=cn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ts(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ts(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Dr(i);var o=cn(a[4][0].data),l=WV(e,e[mi(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?WV(e,e[mi(o[17][0].data)][0]):[],u=cn(o[3][0].data),d=0;u[1].forEach(function(f){var m=cn(f.data),p=e[mi(m[2][0].data)][0],y=Ts(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var g=jFe(e,p);g.data.forEach(function(v,w){v.forEach(function(b,j){var E=cr({r:d+w,c:j}),S=wFe(b,l,c);S&&(r[E]=S)})}),d+=g.nrows})}function SFe(e,t){var r=cn(t.data),n={"!ref":"A1"},a=e[mi(r[2][0].data)],i=Ts(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return NFe(e,a[0],n),n}function kFe(e,t){var r,n=cn(t.data),a={name:(r=n[1])!=null&&r[0]?x3(n[1][0].data):"",sheets:[]},i=UF(n[2],mi);return i.forEach(function(o){e[o].forEach(function(l){var c=Ts(l.meta[1][0].data);c==6e3&&a.sheets.push(SFe(e,l))})}),a}function CFe(e,t){var r=KF(),n=cn(t.data),a=UF(n[1],mi);if(a.forEach(function(i){e[i].forEach(function(o){var l=Ts(o.meta[1][0].data);if(l==2){var c=kFe(e,o);c.sheets.forEach(function(u,d){YF(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function nA(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=vl(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=xl(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ts(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Ts(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return CFe(i,l)}function EFe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ts(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=zm(e[7][0].data),d=0,f=[],m=zm(e[4][0].data),p=0,y=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,p,!0);var v,w;switch(typeof t[g]){case"string":v=tA({t:"s",v:t[g]},r),w=rA({t:"s",v:t[g]},r);break;case"number":v=tA({t:"n",v:t[g]},r),w=rA({t:"n",v:t[g]},r);break;case"boolean":v=tA({t:"b",v:t[g]},r),w=rA({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),d+=v.length,y.push(w),p+=w.length,++c}for(e[2][0].data=kn(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=$f(f),e[3][0].data=$f(y),c}function TFe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Xi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Dr(n)));var i=ZN(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(Z){return Z.forEach(function(J){typeof J=="string"&&o.push(J)})});var l={},c=[],u=Zt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Z,J){return[Z,u.FullPaths[J]]}).forEach(function(Z){var J=Z[0],Q=Z[1];if(J.type==2&&J.name.match(/\.iwa/)){var de=J.content,fe=vl(de),pe=xl(fe);pe.forEach(function(K){c.push(K.id),l[K.id]={deps:[],location:Q,type:Ts(K.messages[0].meta[1][0].data)}})}}),c.sort(function(Z,J){return Z-J});var d=c.filter(function(Z){return Z>1}).map(function(Z){return[Z,kn(Z)]});u.FileIndex.map(function(Z,J){return[Z,u.FullPaths[J]]}).forEach(function(Z){var J=Z[0];if(Z[1],!!J.name.match(/\.iwa/)){var Q=xl(vl(J.content));Q.forEach(function(de){de.messages.forEach(function(fe){d.forEach(function(pe){de.messages.some(function(K){return Ts(K.meta[1][0].data)!=11006&&pFe(K.data,pe[1])})&&l[pe[0]].deps.push(de.id)})})})}});for(var f=Zt.find(u,l[1].location),m=xl(vl(f.content)),p,y=0;y<m.length;++y){var g=m[y];g.id==1&&(p=g)}var v=mi(cn(p.messages[0].data)[1][0].data);for(f=Zt.find(u,l[v].location),m=xl(vl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=mi(cn(p.messages[0].data)[2][0].data),f=Zt.find(u,l[v].location),m=xl(vl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=mi(cn(p.messages[0].data)[2][0].data),f=Zt.find(u,l[v].location),m=xl(vl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);var w=cn(p.messages[0].data);{w[6][0].data=kn(n.e.r+1),w[7][0].data=kn(n.e.c+1);var b=mi(w[46][0].data),j=Zt.find(u,l[b].location),E=xl(vl(j.content));{for(var S=0;S<E.length&&E[S].id!=b;++S);if(E[S].id!=b)throw"Bad ColumnRowUIDMapArchive";var C=cn(E[S].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var k=0;k<=n.e.c;++k){var D=[];D[1]=D[2]=[{type:0,data:kn(k+420690)}],C[1].push({type:2,data:Ka(D)}),C[2].push({type:0,data:kn(k)}),C[3].push({type:0,data:kn(k)})}C[4]=[],C[5]=[],C[6]=[];for(var O=0;O<=n.e.r;++O)D=[],D[1]=D[2]=[{type:0,data:kn(O+726270)}],C[4].push({type:2,data:Ka(D)}),C[5].push({type:0,data:kn(O)}),C[6].push({type:0,data:kn(O)});E[S].messages[0].data=Ka(C)}j.content=lg(og(E)),j.size=j.content.length,delete w[46];var P=cn(w[4][0].data);{P[7][0].data=kn(n.e.r+1);var A=cn(P[1][0].data),R=mi(A[2][0].data);j=Zt.find(u,l[R].location),E=xl(vl(j.content));{if(E[0].id!=R)throw"Bad HeaderStorageBucket";var F=cn(E[0].messages[0].data);for(O=0;O<i.length;++O){var L=cn(F[2][0].data);L[1][0].data=kn(O),L[4][0].data=kn(i[O].length),F[2][O]={type:F[2][0].type,data:Ka(L)}}E[0].messages[0].data=Ka(F)}j.content=lg(og(E)),j.size=j.content.length;var W=mi(P[2][0].data);j=Zt.find(u,l[W].location),E=xl(vl(j.content));{if(E[0].id!=W)throw"Bad HeaderStorageBucket";for(F=cn(E[0].messages[0].data),k=0;k<=n.e.c;++k)L=cn(F[2][0].data),L[1][0].data=kn(k),L[4][0].data=kn(n.e.r+1),F[2][k]={type:F[2][0].type,data:Ka(L)};E[0].messages[0].data=Ka(F)}j.content=lg(og(E)),j.size=j.content.length;var V=mi(P[4][0].data);(function(){for(var Z=Zt.find(u,l[V].location),J=xl(vl(Z.content)),Q,de=0;de<J.length;++de){var fe=J[de];fe.id==V&&(Q=fe)}var pe=cn(Q.messages[0].data);{pe[3]=[];var K=[];o.forEach(function(B,ie){K[1]=[{type:0,data:kn(ie)}],K[2]=[{type:0,data:kn(1)}],K[3]=[{type:2,data:mFe(B)}],pe[3].push({type:2,data:Ka(K)})})}Q.messages[0].data=Ka(pe);var ee=og(J),se=lg(ee);Z.content=se,Z.size=Z.content.length})();var H=cn(P[3][0].data);{var G=H[1][0];delete H[2];var I=cn(G.data);{var U=mi(I[2][0].data);(function(){for(var Z=Zt.find(u,l[U].location),J=xl(vl(Z.content)),Q,de=0;de<J.length;++de){var fe=J[de];fe.id==U&&(Q=fe)}var pe=cn(Q.messages[0].data);{delete pe[6],delete H[7];var K=new Uint8Array(pe[5][0].data);pe[5]=[];for(var ee=0,se=0;se<=n.e.r;++se){var B=cn(K);ee+=EFe(B,i[se],o),B[1][0].data=kn(se),pe[5].push({data:Ka(B),type:2})}pe[1]=[{type:0,data:kn(n.e.c+1)}],pe[2]=[{type:0,data:kn(n.e.r+1)}],pe[3]=[{type:0,data:kn(ee)}],pe[4]=[{type:0,data:kn(n.e.r+1)}]}Q.messages[0].data=Ka(pe);var ie=og(J),ae=lg(ie);Z.content=ae,Z.size=Z.content.length})()}G.data=Ka(I)}P[3][0].data=Ka(H)}w[4][0].data=Ka(P)}p.messages[0].data=Ka(w);var X=og(m),z=lg(X);return f.content=z,f.size=f.content.length,u}function Rie(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function VF(e){Rie([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function zF(e){Rie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function AFe(e){return Hr.WS.indexOf(e)>-1?"sheet":e==Hr.CS?"chart":e==Hr.DS?"dialog":e==Hr.MS?"macro":e&&e.length?e:"sheet"}function PFe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,AFe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function OFe(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=ky(Wo(e,r,!0),t);var m=Ks(e,t),p;switch(l){case"sheet":p=s5e(m,t,a,c,i[n],u,d,f);break;case"chart":if(p=a5e(m,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var y=Jv(p["!drawel"].Target,t),g=wb(y),v=HRe(Wo(e,y,!0),ky(Wo(e,g,!0),y)),w=Jv(v,y),b=wb(w);p=RMe(Wo(e,w,!0),w,c,ky(Wo(e,b,!0),w),u,p);break;case"macro":p=i5e(m,t,a,c,i[n],u,d,f);break;case"dialog":p=o5e(m,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var j=[];i&&i[n]&&Ps(i[n]).forEach(function(E){var S="";if(i[n][E].Type==Hr.CMNT){S=Jv(i[n][E].Target,t);var C=d5e(Ks(e,S,!0),S,c);if(!C||!C.length)return;AV(p,C,!1)}i[n][E].Type==Hr.TCMNT&&(S=Jv(i[n][E].Target,t),j=j.concat(KRe(Ks(e,S,!0),c)))}),j&&j.length&&AV(p,j,!0,c.people||[])}catch(E){if(c.WTF)throw E}}function dl(e){return e.charAt(0)=="/"?e.slice(1):e}function Die(e,t){if(px(),t=t||{},VF(t),_l(e,"META-INF/manifest.xml")||_l(e,"objectdata.xml"))return UV(e,t);if(_l(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof nA<"u"){if(e.FileIndex)return nA(e);var r=Zt.utils.cfb_new();return J7(e).forEach(function(L){Lr(r,L,YTe(e,L))}),nA(r)}throw new Error("Unsupported NUMBERS file")}if(!_l(e,"[Content_Types].xml"))throw _l(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):_l(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=J7(e),a=VAe(Wo(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Ks(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Ks(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Cy=[],a.sst)try{Cy=u5e(Ks(e,dl(a.sst)),a.sst,t)}catch(L){if(t.WTF)throw L}t.cellStyles&&a.themes.length&&(c=c5e(Wo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=l5e(Ks(e,dl(a.style)),a.style,c,t))}a.links.map(function(L){try{var W=ky(Wo(e,wb(dl(L))),L);return h5e(Ks(e,dl(L)),W,L,t)}catch{}});var d=n5e(Ks(e,dl(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=Ks(e,dl(a.coreprops[0]),!0),m&&(f=xae(m)),a.extprops.length!==0&&(m=Ks(e,dl(a.extprops[0]),!0),m&&YAe(m,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=Wo(e,dl(a.custprops[0]),!0),m&&(p=JAe(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(W){return W.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var g={};t.bookDeps&&a.calcchain&&(g=f5e(Ks(e,dl(a.calcchain)),a.calcchain));var v=0,w={},b,j;{var E=d.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var S=0;S!=E.length;++S)f.SheetNames[S]=E[S].name}var C=i?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),D=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");_l(e,D)||(D="xl/_rels/workbook."+C+".rels");var O=ky(Wo(e,D,!0),D.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=m5e(Ks(e,dl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=XRe(Ks(e,dl(a.people[0])),t)),O&&(O=PFe(O,d.Sheets));var P=Ks(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var A="sheet";if(O&&O[v]?(b="xl/"+O[v][1].replace(/[\/]?xl\//,""),_l(e,b)||(b=O[v][1]),_l(e,b)||(b=D.replace(/_rels\/.*$/,"")+O[v][1]),A=O[v][2]):(b="xl/worksheets/sheet"+(v+1-P)+"."+C,b=b.replace(/sheet0\./,"sheet.")),j=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var R=!1,F=0;F!=t.sheets.length;++F)typeof t.sheets[F]=="number"&&t.sheets[F]==v&&(R=1),typeof t.sheets[F]=="string"&&t.sheets[F].toLowerCase()==f.SheetNames[v].toLowerCase()&&(R=1);if(!R)continue e}}OFe(e,b,j,f.SheetNames[v],v,w,o,A,t,d,c,u)}return y={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:Cy,Styles:u,Themes:c,SSF:Vn(ar)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(L,W){L=L.replace(/^Root Entry[\/]/,""),y.keys.push(L),y.files[L]=e.FileIndex[W]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=Ks(e,dl(a.vba[0]),!0):a.defaults&&a.defaults.bin===sDe&&(y.vbaraw=Ks(e,"xl/vbaProject.bin",!0))),y}function RFe(e,t){var r=t||{},n="Workbook",a=Zt.find(e,n);try{if(n="/!DataSpaces/Version",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(pOe(a.content),n="/!DataSpaces/DataSpaceMap",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=xOe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=vOe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);bOe(a.content)}catch{}if(n="/EncryptionInfo",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=wOe(a.content);if(n="/EncryptedPackage",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function DFe(e,t){return t.bookType=="ods"?Oie(e,t):t.bookType=="numbers"?TFe(e,t):t.bookType=="xlsb"?IFe(e,t):Iie(e,t)}function IFe(e,t){Cg=1024,e&&!e.SSF&&(e.SSF=Vn(ar)),e&&e.SSF&&(px(),Gw(e.SSF),t.revssf=sk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ey?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=rie.indexOf(t.bookType)>-1,a=CF();zF(t=t||{});var i=cF(),o="",l=0;if(t.cellXfs=[],eh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Lr(i,o,vae(e.Props,t)),a.coreprops.push(o),En(t.rels,2,o,Hr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Lr(i,o,wae(e.Props)),a.extprops.push(o),En(t.rels,3,o,Hr.EXT_PROPS),e.Custprops!==e.Props&&Ps(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Lr(i,o,_ae(e.Custprops)),a.custprops.push(o),En(t.rels,4,o,Hr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Lr(i,o,g5e(l-1,o,t,e,d)),a.sheets.push(o),En(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Hr.WS[0])}if(f){var p=f["!comments"],y=!1,g="";p&&p.length>0&&(g="xl/comments"+l+"."+r,Lr(i,g,y5e(p,g)),a.comments.push(g),En(d,-1,"../comments"+l+"."+r,Hr.CMNT),y=!0),f["!legacy"]&&y&&Lr(i,"xl/drawings/vmlDrawing"+l+".vml",eie(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Lr(i,wb(o),Qg(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Lr(i,o,v5e(t.Strings,o,t)),a.strs.push(o),En(t.wbrels,-1,"sharedStrings."+r,Hr.SST)),o="xl/workbook."+r,Lr(i,o,p5e(e,o)),a.workbooks.push(o),En(t.rels,1,o,Hr.WB),o="xl/theme/theme1.xml",Lr(i,o,RF(e.Themes,t)),a.themes.push(o),En(t.wbrels,-1,"theme/theme1.xml",Hr.THEME),o="xl/styles."+r,Lr(i,o,x5e(e,o,t)),a.styles.push(o),En(t.wbrels,-1,"styles."+r,Hr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Lr(i,o,e.vbaraw),a.vba.push(o),En(t.wbrels,-1,"vbaProject.bin",Hr.VBA)),o="xl/metadata."+r,Lr(i,o,b5e(o)),a.metadata.push(o),En(t.wbrels,-1,"metadata."+r,Hr.XLMETA),Lr(i,"[Content_Types].xml",pae(a,t)),Lr(i,"_rels/.rels",Qg(t.rels)),Lr(i,"xl/_rels/workbook."+r+".rels",Qg(t.wbrels)),delete t.revssf,delete t.ssf,i}function Iie(e,t){Cg=1024,e&&!e.SSF&&(e.SSF=Vn(ar)),e&&e.SSF&&(px(),Gw(e.SSF),t.revssf=sk(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ey?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=rie.indexOf(t.bookType)>-1,a=CF();zF(t=t||{});var i=cF(),o="",l=0;if(t.cellXfs=[],eh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Lr(i,o,vae(e.Props,t)),a.coreprops.push(o),En(t.rels,2,o,Hr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Lr(i,o,wae(e.Props)),a.extprops.push(o),En(t.rels,3,o,Hr.EXT_PROPS),e.Custprops!==e.Props&&Ps(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Lr(i,o,_ae(e.Custprops)),a.custprops.push(o),En(t.rels,4,o,Hr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Lr(i,o,hie(l-1,t,e,f)),a.sheets.push(o),En(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Hr.WS[0])}if(m){var y=m["!comments"],g=!1,v="";if(y&&y.length>0){var w=!1;y.forEach(function(b){b[1].forEach(function(j){j.T==!0&&(w=!0)})}),w&&(v="xl/threadedComments/threadedComment"+l+"."+r,Lr(i,v,YRe(y,d,t)),a.threadedcomments.push(v),En(f,-1,"../threadedComments/threadedComment"+l+"."+r,Hr.TCMNT)),v="xl/comments"+l+"."+r,Lr(i,v,tie(y)),a.comments.push(v),En(f,-1,"../comments"+l+"."+r,Hr.CMNT),g=!0}m["!legacy"]&&g&&Lr(i,"xl/drawings/vmlDrawing"+l+".vml",eie(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Lr(i,wb(o),Qg(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Lr(i,o,Vae(t.Strings,t)),a.strs.push(o),En(t.wbrels,-1,"sharedStrings."+r,Hr.SST)),o="xl/workbook."+r,Lr(i,o,yie(e)),a.workbooks.push(o),En(t.rels,1,o,Hr.WB),o="xl/theme/theme1.xml",Lr(i,o,RF(e.Themes,t)),a.themes.push(o),En(t.wbrels,-1,"theme/theme1.xml",Hr.THEME),o="xl/styles."+r,Lr(i,o,Xae(e,t)),a.styles.push(o),En(t.wbrels,-1,"styles."+r,Hr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Lr(i,o,e.vbaraw),a.vba.push(o),En(t.wbrels,-1,"vbaProject.bin",Hr.VBA)),o="xl/metadata."+r,Lr(i,o,Qae()),a.metadata.push(o),En(t.wbrels,-1,"metadata."+r,Hr.XLMETA),d.length>1&&(o="xl/persons/person.xml",Lr(i,o,JRe(d)),a.people.push(o),En(t.wbrels,-1,"persons/person.xml",Hr.PEOPLE)),Lr(i,"[Content_Types].xml",pae(a,t)),Lr(i,"_rels/.rels",Qg(t.rels)),Lr(i,"xl/_rels/workbook."+r+".rels",Qg(t.wbrels)),delete t.revssf,delete t.ssf,i}function qF(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=nl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function MFe(e,t){return Zt.find(e,"EncryptedPackage")?RFe(e,t):BF(e,t)}function FFe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ur&&Buffer.isBuffer(e)?"buffer":"base64"),r=Kse(n,a),Die(r,a)}function Mie(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return p3(e.slice(r),t);default:break e}return S0.to_workbook(e,t)}function LFe(e,t){var r="",n=qF(e,t);switch(t.type){case"base64":r=nl(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=$m(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=On(r)),t.type="binary",Mie(r,t)}function $Fe(e,t){var r=e;return t.type=="base64"&&(r=nl(r)),r=Qr.utils.decode(1200,r.slice(2),"str"),t.type="binary",Mie(r,t)}function BFe(e){return e.match(/[^\x00-\x7F]/)?Hc(e):e}function sA(e,t,r,n){return n?(r.type="string",S0.to_workbook(e,r)):S0.to_workbook(t,r)}function JN(e,t){rk();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return JN(new Uint8Array(e),(r=Vn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),t0={},r.dateNF&&(t0.dateNF=r.dateNF),r.type||(r.type=Ur&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ur?"buffer":"binary",n=UTe(e),typeof Uint8Array<"u"&&!Ur&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=BFe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Vn(r),r.type="array",JN(aF(n),r)}switch((a=qF(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return MFe(Zt.read(n,r),r);break;case 9:if(a[1]<=8)return BF(n,r);break;case 60:return p3(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Z4e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Bae.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?FFe(n,r):sA(e,n,r,i);case 239:return a[3]===60?p3(n,r):sA(e,n,r,i);case 255:if(a[1]===254)return $Fe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return dm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return dm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return m3.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Gae.to_workbook(n,r);break;case 10:case 13:case 32:return LFe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return J4e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?m3.to_workbook(n,r):sA(e,n,r,i)}function HV(e,t){var r=t||{};return r.type="file",JN(e,r)}function Fie(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Kw(t.file,Zt.write(e,{type:Ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Zt.write(e,t)}function UFe(e,t){var r=Vn(t||{}),n=DFe(e,r);return Lie(n,r)}function VFe(e,t){var r=Vn(t||{}),n=Iie(e,r);return Lie(n,r)}function Lie(e,t){var r={},n=Ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Zt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Hw(a))}return t.password&&typeof encrypt_agile<"u"?Fie(encrypt_agile(a,t.password),t):t.type==="file"?Kw(t.file,a):t.type=="string"?On(a):a}function zFe(e,t){var r=t||{},n=H5e(e,r);return Fie(n,r)}function Mc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return gb(Hc(n));case"binary":return Hc(n);case"string":return e;case"file":return Kw(t.file,n,"utf8");case"buffer":return Ur?fd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Mc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function qFe(e,t){switch(t.type){case"base64":return gb(e);case"binary":return e;case"string":return e;case"file":return Kw(t.file,e,"binary");case"buffer":return Ur?fd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function aj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?gb(r):t.type=="string"?On(r):r;case"file":return Kw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function WF(e,t){rk(),vie(e);var r=Vn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=WF(e,r);return r.type="array",Hw(n)}return VFe(e,r)}function dk(e,t){rk(),vie(e);var r=Vn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=dk(e,r);return r.type="array",Hw(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Mc($5e(e,r),r);case"slk":case"sylk":return Mc($ae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Mc(Eie(e.Sheets[e.SheetNames[a]],r),r);case"txt":return qFe(Uie(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Mc(GF(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Mc(Bae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return aj(m3.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Mc(S0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Mc(Gae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Mc(Uae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Mc(Oie(e,r),r);case"wk1":return aj(dm.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return aj(dm.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),aj(jie(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),zFe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return UFe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function HF(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function qm(e,t,r){var n=r||{};return n.type="file",n.file=t,HF(n),dk(e,n)}function WFe(e,t,r){var n=r||{};return n.type="file",n.file=t,HF(n),WF(e,n)}function HFe(e,t,r,n){var a=r||{};a.type="file",a.file=e,HF(a),a.type="buffer";var i=n;return i instanceof Function||(i=r),uf.writeFile(e,dk(t,a),i)}function $ie(e,t,r,n,a,i,o,l){var c=Es(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[n[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[p]!=null&&(m[i[p]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(g==null)if(y.t=="e"&&g===null)m[i[p]]=null;else if(u!==void 0)m[i[p]]=u;else if(d&&g===null)m[i[p]]=null;else continue;else m[i[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:iu(y,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function ZN(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Jr(d);break;case"number":c=Jr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Es(c.s.r),m=[],p=[],y=0,g=0,v=Array.isArray(e),w=c.s.r,b=0,j={};v&&!e[w]&&(e[w]=[]);var E=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(E[b]||{}).hidden)switch(m[b]=rs(b),r=v?e[w][b]:e[m[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=m[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=iu(r,null,u),g=j[o]||0,!g)j[o]=1;else{do l=o+"_"+g++;while(j[l]);j[o]=g,j[l]=1}i[b]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(S[w]||{}).hidden){var C=$ie(e,c,w,m,n,i,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=C.row)}return p.length=y,p}var GV=/"/g;function Bie(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Es(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:iu(p,null,l));for(var y=0,g=0;y!==d.length;++y)if((g=d.charCodeAt(y))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(GV,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(GV,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function GF(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Jr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=rs(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=Bie(e,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function Uie(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=GF(e,t);if(typeof Qr>"u"||t.type=="string")return r;var n=Qr.utils.encode(1200,r,"str");return""+n}function GFe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Jr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=rs(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Es(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function Vie(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?ys(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Jr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(g,v){Ps(g).forEach(function(w){(p=m.indexOf(w))==-1&&(m[p=m.length]=w);var b=g[w],j="z",E="",S=cr({c:l+p,r:o+v+a});u=Eb(i,S),b&&typeof b=="object"&&!(b instanceof Date)?i[S]=b:(typeof b=="number"?j="n":typeof b=="boolean"?j="b":typeof b=="string"?j="s":b instanceof Date?(j="d",n.cellDates||(j="n",b=Sa(b)),E=n.dateNF||ar[14]):b===null&&n.nullError&&(j="e",b=0),u?(u.t=j,u.v=b,delete u.w,delete u.R,E&&(u.z=E)):i[S]=u={t:j,v:b},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Es(o);if(a)for(p=0;p<m.length;++p)i[rs(p+l)+y]={t:"s",v:m[p]};return i["!ref"]=Dr(d),i}function KFe(e,t){return Vie(null,e,t)}function Eb(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ys(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Eb(e,cr(t)):Eb(e,cr({r:t,c:r||0}))}function YFe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function KF(){return{SheetNames:[],Sheets:{}}}function YF(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(xie(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function XFe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=YFe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function JFe(e,t){return e.z=t,e}function zie(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function ZFe(e,t,r){return zie(e,"#"+t,r)}function QFe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function e6e(e,t,r,n){for(var a=typeof t!="string"?t:Jr(t),i=typeof t=="string"?t:Dr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Eb(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var na={encode_col:rs,encode_row:Es,encode_cell:cr,encode_range:Dr,decode_col:wF,decode_row:bF,split_cell:yAe,decode_cell:ys,decode_range:Xi,format_cell:iu,sheet_add_aoa:lae,sheet_add_json:Vie,sheet_add_dom:Tie,aoa_to_sheet:xx,json_to_sheet:KFe,table_to_sheet:Aie,table_to_book:uFe,sheet_to_csv:GF,sheet_to_txt:Uie,sheet_to_json:ZN,sheet_to_html:Eie,sheet_to_formulae:GFe,sheet_to_row_object_array:ZN,sheet_get_cell:Eb,book_new:KF,book_append_sheet:YF,book_set_sheet_visibility:XFe,cell_set_number_format:JFe,cell_set_hyperlink:zie,cell_set_internal_link:ZFe,cell_add_comment:QFe,sheet_set_array_formula:e6e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},fk;function t6e(e){fk=e}function r6e(e,t){var r=fk(),n=t??{};if(e==null||e["!ref"]==null)return r.push(null),r;var a=Jr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=rs(y));var g=a.s.r,v=!1,w=0;return r._read=function(){if(!v)return v=!0,r.push("\uFEFF");for(;g<=a.e.r;)if(++g,!(p[g-1]||{}).hidden&&(d=Bie(e,a,g-1,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),d||n.blankrows!==!1)))return r.push((w++?l:"")+d);return r.push(null)},r}function n6e(e,t){var r=fk(),n=t||{},a=n.header!=null?n.header:Sie,i=n.footer!=null?n.footer:kie;r.push(a);var o=Xi(e["!ref"]);n.dense=Array.isArray(e),r.push(Cie(e,o,n));var l=o.s.r,c=!1;return r._read=function(){if(l>o.e.r)return c||(c=!0,r.push("</table>"+i)),r.push(null);for(;l<=o.e.r;){r.push(Nie(e,o,l,n)),++l;break}},r}function s6e(e,t){var r=fk({objectMode:!0});if(e==null||e["!ref"]==null)return r.push(null),r;var n={t:"n",v:0},a=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)&&(a=3),typeof f){case"string":u=Jr(f);break;case"number":u=Jr(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(i=0);var m=Es(u.s.r),p=[],y=0,g=Array.isArray(e),v=u.s.r,w=0,b={};g&&!e[v]&&(e[v]=[]);var j=d.skipHidden&&e["!cols"]||[],E=d.skipHidden&&e["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(j[w]||{}).hidden)switch(p[w]=rs(w),n=g?e[v][w]:e[p[w]+m],a){case 1:o[w]=w-u.s.c;break;case 2:o[w]=p[w];break;case 3:o[w]=d.header[w-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=iu(n,null,d),y=b[l]||0,!y)b[l]=1;else{do c=l+"_"+y++;while(b[c]);b[l]=y,b[c]=1}o[w]=c}return v=u.s.r+i,r._read=function(){for(;v<=u.e.r;)if(!(E[v-1]||{}).hidden){var S=$ie(e,u,v,p,a,o,g,d);if(++v,S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows)){r.push(S.row);return}}return r.push(null)},r}var a6e={to_json:s6e,to_html:n6e,to_csv:r6e,set_readable:t6e};const i6e=pb.version,qie=Object.freeze(Object.defineProperty({__proto__:null,CFB:Zt,SSF:Vse,parse_xlscfb:BF,parse_zip:Die,read:JN,readFile:HV,readFileSync:HV,set_cptable:uTe,set_fs:$Te,stream:a6e,utils:na,version:i6e,write:dk,writeFile:qm,writeFileAsync:HFe,writeFileSync:qm,writeFileXLSX:WFe,writeXLSX:WF},Symbol.toStringTag,{value:"Module"}));var o6e="Separator",KV="horizontal",l6e=["horizontal","vertical"],Wie=_.forwardRef((e,t)=>{const{decorative:r,orientation:n=KV,...a}=e,i=c6e(n)?n:KV,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(At.div,{"data-orientation":i,...l,...a,ref:t})});Wie.displayName=o6e;function c6e(e){return l6e.includes(e)}var Hie=Wie;const $h=_.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Hie,{ref:a,decorative:r,orientation:t,className:ft("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));$h.displayName=Hie.displayName;function u6e({order:e,open:t,onClose:r}){if(!e)return null;const n=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(o),a=o=>new Date(o).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}),i=o=>new Date(o).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return s.jsx(wn,{open:t,onOpenChange:r,children:s.jsxs(gn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_n,{children:s.jsxs(jn,{children:["Order Details - ",e.order_number]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(o0,{className:"h-4 w-4"}),"Customer Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(o0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.customer_name})]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_phone})]}),e.customer_email&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(kf,{className:"h-4 w-4"}),"Delivery Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",e.delivery_address]}),e.delivery_landmark&&s.jsxs("p",{children:[s.jsx("strong",{children:"Landmark:"})," ",e.delivery_landmark]}),e.delivery_pincode&&s.jsxs("p",{children:[s.jsx("strong",{children:"PIN Code:"})," ",e.delivery_pincode]}),e.delivery_time&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Time:"})," ",e.delivery_time]}),e.delivery_latitude&&e.delivery_longitude&&s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",s.jsx("a",{href:`https://www.google.com/maps?q=${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Map"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Un,{className:"h-4 w-4"}),"Order Items"]}),s.jsx("div",{className:"space-y-3",children:Array.isArray(e.items)&&e.items.map((o,l)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[o.productImage&&s.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:o.productName}),o.variant&&s.jsx("p",{className:"text-sm text-muted-foreground",children:o.variant}),s.jsxs("p",{className:"text-sm",children:[n(o.price),"  ",o.quantity," = ",n(o.price*o.quantity)]})]})]},l))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:n(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Charge:"}),s.jsx("span",{children:e.delivery_charge>0?n(e.delivery_charge):"FREE"})]}),s.jsx($h,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-primary",children:n(e.total)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx(wt,{variant:"outline",children:e.payment_method.toUpperCase()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Status:"}),s.jsx(wt,{children:e.status})]})]})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"bg-muted p-3 rounded-lg",children:e.notes})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4"}),"Order Timeline"]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Placed on ",a(e.created_at)," at ",i(e.created_at)]})]})})]})]})]})})}function d6e({order:e,open:t,onClose:r,onSave:n}){const[a,i]=_.useState({}),[o,l]=_.useState(!1);if(_.useEffect(()=>{e&&i({customer_name:e.customer_name,customer_phone:e.customer_phone,customer_email:e.customer_email,delivery_address:e.delivery_address,delivery_landmark:e.delivery_landmark,delivery_pincode:e.delivery_pincode,delivery_time:e.delivery_time,status:e.status,payment_method:e.payment_method,notes:e.notes})},[e]),!e)return null;const c=async()=>{l(!0);try{await n(e.id,a),r()}finally{l(!1)}};return s.jsx(wn,{open:t,onOpenChange:r,children:s.jsxs(gn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_n,{children:s.jsxs(jn,{children:["Edit Order - ",e.order_number]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"customer_name",children:"Customer Name"}),s.jsx(Ve,{id:"customer_name",value:a.customer_name||"",onChange:u=>i({...a,customer_name:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"customer_phone",children:"Phone"}),s.jsx(Ve,{id:"customer_phone",value:a.customer_phone||"",onChange:u=>i({...a,customer_phone:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"customer_email",children:"Email (Optional)"}),s.jsx(Ve,{id:"customer_email",type:"email",value:a.customer_email||"",onChange:u=>i({...a,customer_email:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_address",children:"Delivery Address"}),s.jsx(Na,{id:"delivery_address",value:a.delivery_address||"",onChange:u=>i({...a,delivery_address:u.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_landmark",children:"Landmark (Optional)"}),s.jsx(Ve,{id:"delivery_landmark",value:a.delivery_landmark||"",onChange:u=>i({...a,delivery_landmark:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_pincode",children:"PIN Code"}),s.jsx(Ve,{id:"delivery_pincode",value:a.delivery_pincode||"",onChange:u=>i({...a,delivery_pincode:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_time",children:"Delivery Time"}),s.jsx(Ve,{id:"delivery_time",value:a.delivery_time||"",onChange:u=>i({...a,delivery_time:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"status",children:"Order Status"}),s.jsxs(br,{value:a.status,onValueChange:u=>i({...a,status:u}),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"new",children:"New"}),s.jsx(Ye,{value:"processing",children:"Processing"}),s.jsx(Ye,{value:"delivered",children:"Delivered"}),s.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"payment_method",children:"Payment Method"}),s.jsxs(br,{value:a.payment_method,onValueChange:u=>i({...a,payment_method:u}),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"cod",children:"Cash on Delivery"}),s.jsx(Ye,{value:"online",children:"Online Payment"}),s.jsx(Ye,{value:"card",children:"Card"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(Na,{id:"notes",value:a.notes||"",onChange:u=>i({...a,notes:u.target.value}),rows:3,placeholder:"Add any additional notes..."})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(oe,{onClick:c,disabled:o,children:o?"Saving...":"Save Changes"})]})]})})}const XF=async e=>{const{data:t,error:r}=await Y.functions.invoke("shiprocket",{body:e});if(r)throw new Error(r.message);return t},YV=async(e,t)=>{try{const r=await XF({action:"login",email:e,password:t});return r.token?{success:!0,token:r.token}:{success:!1,error:r.message||"Authentication failed"}}catch(r){return{success:!1,error:r.message||"Network error"}}},Xj=async e=>{try{const t=await XF({action:"get_pickup_locations",token:e});return t.data?.shipping_address?{success:!0,locations:t.data.shipping_address}:{success:!1,error:t.message||"Failed to get pickup locations"}}catch(t){return{success:!1,error:t.message||"Network error"}}},f6e=async(e,t)=>{try{const r=await XF({action:"create_order",token:e,data:t});return r.order_id?{success:!0,data:r}:{success:!1,error:r.message||"Failed to create order"}}catch(r){return{success:!1,error:r.message||"Network error"}}},h6e=(e,t,r)=>{const n=(e.customer_name||"Customer").split(" "),a=n[0]||"Customer",i=n.slice(1).join(" ")||"",o=e.delivery_address||"",l=e.delivery_pincode||"";return{order_id:e.order_number||e.id,order_date:new Date(e.created_at).toISOString().split("T")[0],pickup_location:t,billing_customer_name:a,billing_last_name:i,billing_address:o,billing_city:e.delivery_city||"City",billing_pincode:l,billing_state:e.delivery_state||"State",billing_country:"India",billing_email:e.customer_email||"",billing_phone:e.customer_phone||"",shipping_is_billing:!0,order_items:(e.items||[]).map(c=>({name:c.name||c.product_name||"Product",sku:c.sku||c.id||`SKU-${Date.now()}`,units:c.quantity||1,selling_price:c.price||0,discount:0,tax:0})),payment_method:e.payment_method==="cod"?"COD":"Prepaid",sub_total:e.total||e.subtotal||0,length:r.length,breadth:r.breadth,height:r.height,weight:r.weight}},m6e=()=>{const e=ur(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState("all"),[f,m]=_.useState(new Date),[p,y]=_.useState(null),[g,v]=_.useState(!1),[w,b]=_.useState(!1),[j,E]=_.useState(0),[S,C]=_.useState(null),[k,D]=_.useState(""),[O,P]=_.useState(!1),[A,R]=_.useState(null),[F,L]=_.useState(""),[W,V]=_.useState({length:10,breadth:10,height:10,weight:.5}),[H,G]=_.useState(null),[I,U]=_.useState(!1),[X,z]=_.useState(null),[Z,J]=_.useState(!1);_.useEffect(()=>{Q()},[]);const Q=async()=>{const{data:{session:Se}}=await Y.auth.getSession();if(!Se){e("/admin/login");return}await de()},de=async()=>{try{a(!0);const{data:{user:Se}}=await Y.auth.getUser();if(!Se)return;const{data:te}=await Y.from("stores").select("id, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",Se.id).single();if(!te)return;if(J(te.shipping_popup_enabled||!1),te.shiprocket_token){P(!0),R(te.shiprocket_token);const ot=await Xj(te.shiprocket_token);ot.success&&ot.locations&&ot.locations.length>0&&L(ot.locations[0].pickup_location),te.package_length&&V(_t=>({..._t,length:te.package_length})),te.package_breadth&&V(_t=>({..._t,breadth:te.package_breadth})),te.package_height&&V(_t=>({..._t,height:te.package_height})),te.package_weight&&V(_t=>({..._t,weight:te.package_weight}))}const{data:_e}=await Y.from("subscriptions").select(`
          subscription_plans (
            name,
            orders_view_limit
          )
        `).eq("user_id",Se.id).maybeSingle();let he=null;if(_e?.subscription_plans?.orders_view_limit){const ot=_e.subscription_plans.orders_view_limit;he=ot===999999?null:ot}D(_e?.subscription_plans?.name||""),C(he);const{count:Re}=await Y.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",te.id);E(Re||0);let De=Y.from("orders").select("*").eq("store_id",te.id).order("created_at",{ascending:!0});he!==null&&(De=De.limit(he));const{data:Fe,error:xe}=await De;if(xe)throw xe;const He=(Fe||[]).reverse();r(He),m(new Date)}catch(Se){Me({title:"Error",description:Se.message,variant:"destructive"})}finally{a(!1)}},fe=()=>{let Se=t;if(i&&(Se=Se.filter(te=>te.customer_name.toLowerCase().includes(i.toLowerCase())||te.customer_phone.includes(i)||te.order_number.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(Se=Se.filter(te=>te.status===l)),u!=="all"){const te=new Date,_e=new Date(te.getFullYear(),te.getMonth(),te.getDate());Se=Se.filter(he=>{const Re=new Date(he.created_at),De=new Date(Re.getFullYear(),Re.getMonth(),Re.getDate());switch(u){case"today":return De.getTime()===_e.getTime();case"yesterday":const Fe=new Date(_e);return Fe.setDate(Fe.getDate()-1),De.getTime()===Fe.getTime();case"last7days":const xe=new Date(_e);return xe.setDate(xe.getDate()-7),De>=xe;case"last30days":const He=new Date(_e);return He.setDate(He.getDate()-30),De>=He;default:return!0}})}return Se},pe=Se=>{const te={new:{label:"New",variant:"default",icon:ks},processing:{label:"Processing",variant:"secondary",icon:Un},delivered:{label:"Delivered",variant:"default",icon:en},cancelled:{label:"Cancelled",variant:"destructive",icon:Kn}},_e=te[Se]||te.new,he=_e.icon;return s.jsxs(wt,{variant:_e.variant,className:"flex items-center gap-1",children:[s.jsx(he,{className:"h-3 w-3"}),_e.label]})},K=Se=>new Date(Se).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),ee=Se=>new Date(Se).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),se=Se=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(Se),B=(Se,te)=>{const _e=t.filter(Fe=>{const xe=new Date(Fe.created_at),He=xe.toLocaleDateString("en-US",{month:"long"}),ot=xe.getFullYear().toString();return He===Se&&ot===te});if(_e.length===0){Me({title:"No Orders",description:`No orders found for ${Se} ${te}`,variant:"destructive"});return}const he=_e.map(Fe=>({"Order Number":Fe.order_number,Date:K(Fe.created_at),Time:ee(Fe.created_at),"Customer Name":Fe.customer_name,Phone:Fe.customer_phone,Email:Fe.customer_email||"N/A",Address:Fe.delivery_address,"Items Count":Array.isArray(Fe.items)?Fe.items.length:0,Items:Array.isArray(Fe.items)?Fe.items.map(xe=>`${xe.name} (${xe.quantity}x)`).join(", "):"N/A",Amount:Fe.total,"Payment Method":Fe.payment_method,Status:Fe.status})),Re=na.json_to_sheet(he),De=na.book_new();na.book_append_sheet(De,Re,`${Se}_${te}`),qm(De,`Orders_${Se}_${te}.xlsx`),Me({title:"Export Successful",description:`Downloaded ${_e.length} orders for ${Se} ${te}`})},ie=()=>{const Se=new Date;return{month:Se.toLocaleDateString("en-US",{month:"long"}),year:Se.getFullYear().toString()}},ae=()=>{const Se=new Date;return Se.setMonth(Se.getMonth()-1),{month:Se.toLocaleDateString("en-US",{month:"long"}),year:Se.getFullYear().toString()}},Ne=Se=>{y(Se),v(!0)},Ee=Se=>{y(Se),b(!0)},ue=async(Se,te)=>{try{const{error:_e}=await Y.from("orders").update(te).eq("id",Se);if(_e)throw _e;Me({title:"Success",description:"Order updated successfully"}),de()}catch(_e){Me({title:"Error",description:_e.message,variant:"destructive"})}},qe=Se=>{Z?(z(Se),U(!0)):we(Se)},Je=async()=>{if(!(!X||!A)){U(!1),G(X.id);try{const Se=h6e(X,F,W),te=await f6e(A,Se);te.success&&te.data?(await Y.from("orders").update({shiprocket_order_id:te.data.order_id?.toString(),shiprocket_shipment_id:te.data.shipment_id?.toString(),status:"processing"}).eq("id",X.id),Me({title:"Order Created in Shiprocket",description:"Opening Shiprocket dashboard..."}),window.open(`https://app.shiprocket.in/seller/orders/details/${te.data.order_id}`,"_blank"),de()):Me({title:"Shiprocket Error",description:te.error||"Failed to create order in Shiprocket",variant:"destructive"})}catch(Se){Me({title:"Error",description:Se.message||"Failed to ship order",variant:"destructive"})}finally{G(null),z(null)}}},le=async()=>{X&&(U(!1),await we(X),z(null))},we=async Se=>{await ue(Se.id,{status:"delivered"})},Oe=async Se=>{await ue(Se.id,{status:"cancelled"})},Ge=fe(),Ze=t.filter(Se=>{const te=new Date;return new Date(Se.created_at).toDateString()===te.toDateString()});return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Orders Management",S!==null&&j>0&&s.jsxs("span",{className:"text-muted-foreground text-xl ml-2",children:["(Showing ",Math.min(t.length,S)," of ",j,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage customer orders (Auto-cleanup: Orders older than 2 months)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{onClick:()=>{const Se=ae();B(Se.month,Se.year)},variant:"outline",size:"sm",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export Previous Month"]}),s.jsxs(oe,{onClick:()=>{const Se=ie();B(Se.month,Se.year)},variant:"outline",size:"sm",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export Current Month"]}),s.jsxs(oe,{onClick:de,variant:"outline",size:"sm",children:[s.jsx(ni,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Un,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(ks,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:Ze.length})]})]})}),s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(en,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Sync"}),s.jsx("p",{className:"text-sm font-medium",children:f.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),S!==null&&j>S&&s.jsxs(Yr,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[s.jsx(Ls,{className:"h-4 w-4 text-amber-600"}),s.jsx(Xr,{className:"ml-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[k," Plan Limit"]}),s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:["You can only view ",S," orders. ",j-S," more ",j-S===1?"order is":"orders are"," hidden."]})]}),s.jsxs(oe,{onClick:()=>e("/admin/subscription"),size:"sm",className:"ml-4 flex-shrink-0",children:[s.jsx(d0e,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]}),s.jsxs(ke,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx(Ve,{placeholder:"Search by name, phone, or order number...",value:i,onChange:Se=>o(Se.target.value),className:"flex-1"}),s.jsxs(br,{value:u,onValueChange:d,children:[s.jsx(mr,{className:"w-full md:w-[180px]",children:s.jsx(wr,{placeholder:"Filter by date"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Time"}),s.jsx(Ye,{value:"today",children:"Today"}),s.jsx(Ye,{value:"yesterday",children:"Yesterday"}),s.jsx(Ye,{value:"last7days",children:"Last 7 Days"}),s.jsx(Ye,{value:"last30days",children:"Last 30 Days"})]})]}),s.jsxs(br,{value:l,onValueChange:c,children:[s.jsx(mr,{className:"w-full md:w-[180px]",children:s.jsx(wr,{placeholder:"Filter by status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Status"}),s.jsx(Ye,{value:"new",children:"New"}),s.jsx(Ye,{value:"processing",children:"Processing"}),s.jsx(Ye,{value:"delivered",children:"Delivered"}),s.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]})]}),n?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):Ge.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Un,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Order #"}),s.jsx(tt,{children:"Date & Time"}),s.jsx(tt,{children:"Customer"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Items"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:Ge.map(Se=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:Se.order_number}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:K(Se.created_at)}),s.jsx("div",{className:"text-muted-foreground",children:ee(Se.created_at)})]})}),s.jsx(Xe,{children:Se.customer_name}),s.jsx(Xe,{children:Se.customer_phone}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[Array.isArray(Se.items)?Se.items.length:0," item",Array.isArray(Se.items)&&Se.items.length!==1?"s":""]})}),s.jsx(Xe,{className:"font-medium",children:se(Se.total)}),s.jsx(Xe,{children:pe(Se.status)}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Ne(Se),title:"View Details",children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Ee(Se),title:"Edit Order",children:s.jsx(Xu,{className:"h-4 w-4"})}),Se.status!=="delivered"&&Se.status!=="cancelled"&&s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>qe(Se),title:Z?"Ship Order":"Mark as Delivered",className:"text-blue-600 hover:text-blue-700",disabled:H===Se.id,children:H===Se.id?s.jsx(Wt,{className:"h-4 w-4 animate-spin"}):s.jsx(gc,{className:"h-4 w-4"})}),Se.status!=="cancelled"&&s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Oe(Se),title:"Cancel Order",className:"text-destructive hover:text-destructive",children:s.jsx(Aj,{className:"h-4 w-4"})})]})})]},Se.id))})]})}),Ge.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",Ge.length," order",Ge.length!==1?"s":""]})]}),s.jsx(u6e,{order:p,open:g,onClose:()=>v(!1)}),s.jsx(d6e,{order:p,open:w,onClose:()=>b(!1),onSave:ue}),s.jsx(wn,{open:I,onOpenChange:U,children:s.jsxs(gn,{className:"sm:max-w-md",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(gc,{className:"h-5 w-5"}),"Ship Order"]}),s.jsx(ls,{children:X&&s.jsxs("span",{children:["Order #",X.order_number,"  ",X.customer_name]})})]}),s.jsxs("div",{className:"grid gap-3 py-4",children:[O&&s.jsxs(oe,{onClick:Je,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:s.jsx(gc,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Ship via Shiprocket"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Create shipment with courier partner"})]})]}),s.jsxs(oe,{onClick:le,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:s.jsx(en,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Manual Delivery"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as delivered (self-delivery)"})]})]})]})]})})]})})};var aA,XV;function jo(){if(XV)return aA;XV=1;var e=Array.isArray;return aA=e,aA}var iA,JV;function Gie(){if(JV)return iA;JV=1;var e=typeof w_=="object"&&w_&&w_.Object===Object&&w_;return iA=e,iA}var oA,ZV;function gu(){if(ZV)return oA;ZV=1;var e=Gie(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return oA=r,oA}var lA,QV;function t1(){if(QV)return lA;QV=1;var e=gu(),t=e.Symbol;return lA=t,lA}var cA,ez;function p6e(){if(ez)return cA;ez=1;var e=t1(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return cA=i,cA}var uA,tz;function g6e(){if(tz)return uA;tz=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return uA=r,uA}var dA,rz;function pd(){if(rz)return dA;rz=1;var e=t1(),t=p6e(),r=g6e(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return dA=o,dA}var fA,nz;function gd(){if(nz)return fA;nz=1;function e(t){return t!=null&&typeof t=="object"}return fA=e,fA}var hA,sz;function yx(){if(sz)return hA;sz=1;var e=pd(),t=gd(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return hA=n,hA}var mA,az;function JF(){if(az)return mA;az=1;var e=jo(),t=yx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return mA=a,mA}var pA,iz;function th(){if(iz)return pA;iz=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return pA=e,pA}var gA,oz;function ZF(){if(oz)return gA;oz=1;var e=pd(),t=th(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==i}return gA=o,gA}var xA,lz;function x6e(){if(lz)return xA;lz=1;var e=gu(),t=e["__core-js_shared__"];return xA=t,xA}var vA,cz;function v6e(){if(cz)return vA;cz=1;var e=x6e(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return vA=r,vA}var yA,uz;function Kie(){if(uz)return yA;uz=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return yA=r,yA}var bA,dz;function y6e(){if(dz)return bA;dz=1;var e=ZF(),t=v6e(),r=th(),n=Kie(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||t(m))return!1;var p=e(m)?d:i;return p.test(n(m))}return bA=f,bA}var wA,fz;function b6e(){if(fz)return wA;fz=1;function e(t,r){return t?.[r]}return wA=e,wA}var _A,hz;function mp(){if(hz)return _A;hz=1;var e=y6e(),t=b6e();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return _A=r,_A}var jA,mz;function hk(){if(mz)return jA;mz=1;var e=mp(),t=e(Object,"create");return jA=t,jA}var NA,pz;function w6e(){if(pz)return NA;pz=1;var e=hk();function t(){this.__data__=e?e(null):{},this.size=0}return NA=t,NA}var SA,gz;function _6e(){if(gz)return SA;gz=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return SA=e,SA}var kA,xz;function j6e(){if(xz)return kA;xz=1;var e=hk(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return kA=a,kA}var CA,vz;function N6e(){if(vz)return CA;vz=1;var e=hk(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return CA=n,CA}var EA,yz;function S6e(){if(yz)return EA;yz=1;var e=hk(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return EA=r,EA}var TA,bz;function k6e(){if(bz)return TA;bz=1;var e=w6e(),t=_6e(),r=j6e(),n=N6e(),a=S6e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,TA=i,TA}var AA,wz;function C6e(){if(wz)return AA;wz=1;function e(){this.__data__=[],this.size=0}return AA=e,AA}var PA,_z;function QF(){if(_z)return PA;_z=1;function e(t,r){return t===r||t!==t&&r!==r}return PA=e,PA}var OA,jz;function mk(){if(jz)return OA;jz=1;var e=QF();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return OA=t,OA}var RA,Nz;function E6e(){if(Nz)return RA;Nz=1;var e=mk(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return RA=n,RA}var DA,Sz;function T6e(){if(Sz)return DA;Sz=1;var e=mk();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return DA=t,DA}var IA,kz;function A6e(){if(kz)return IA;kz=1;var e=mk();function t(r){return e(this.__data__,r)>-1}return IA=t,IA}var MA,Cz;function P6e(){if(Cz)return MA;Cz=1;var e=mk();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return MA=t,MA}var FA,Ez;function pk(){if(Ez)return FA;Ez=1;var e=C6e(),t=E6e(),r=T6e(),n=A6e(),a=P6e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,FA=i,FA}var LA,Tz;function e6(){if(Tz)return LA;Tz=1;var e=mp(),t=gu(),r=e(t,"Map");return LA=r,LA}var $A,Az;function O6e(){if(Az)return $A;Az=1;var e=k6e(),t=pk(),r=e6();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return $A=n,$A}var BA,Pz;function R6e(){if(Pz)return BA;Pz=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return BA=e,BA}var UA,Oz;function gk(){if(Oz)return UA;Oz=1;var e=R6e();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return UA=t,UA}var VA,Rz;function D6e(){if(Rz)return VA;Rz=1;var e=gk();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return VA=t,VA}var zA,Dz;function I6e(){if(Dz)return zA;Dz=1;var e=gk();function t(r){return e(this,r).get(r)}return zA=t,zA}var qA,Iz;function M6e(){if(Iz)return qA;Iz=1;var e=gk();function t(r){return e(this,r).has(r)}return qA=t,qA}var WA,Mz;function F6e(){if(Mz)return WA;Mz=1;var e=gk();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return WA=t,WA}var HA,Fz;function t6(){if(Fz)return HA;Fz=1;var e=O6e(),t=D6e(),r=I6e(),n=M6e(),a=F6e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,HA=i,HA}var GA,Lz;function Yie(){if(Lz)return GA;Lz=1;var e=t6(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,GA=r,GA}var KA,$z;function L6e(){if($z)return KA;$z=1;var e=Yie(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return KA=r,KA}var YA,Bz;function $6e(){if(Bz)return YA;Bz=1;var e=L6e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return YA=n,YA}var XA,Uz;function r6(){if(Uz)return XA;Uz=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return XA=e,XA}var JA,Vz;function B6e(){if(Vz)return JA;Vz=1;var e=t1(),t=r6(),r=jo(),n=yx(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return JA=o,JA}var ZA,zz;function Xie(){if(zz)return ZA;zz=1;var e=B6e();function t(r){return r==null?"":e(r)}return ZA=t,ZA}var QA,qz;function Jie(){if(qz)return QA;qz=1;var e=jo(),t=JF(),r=$6e(),n=Xie();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return QA=a,QA}var eP,Wz;function xk(){if(Wz)return eP;Wz=1;var e=yx();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return eP=t,eP}var tP,Hz;function n6(){if(Hz)return tP;Hz=1;var e=Jie(),t=xk();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return tP=r,tP}var rP,Gz;function Zie(){if(Gz)return rP;Gz=1;var e=n6();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return rP=t,rP}var U6e=Zie();const Zo=tn(U6e);var nP,Kz;function V6e(){if(Kz)return nP;Kz=1;function e(t){return t==null}return nP=e,nP}var z6e=V6e();const Ar=tn(z6e);var sP,Yz;function q6e(){if(Yz)return sP;Yz=1;var e=pd(),t=jo(),r=gd(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return sP=a,sP}var W6e=q6e();const Wm=tn(W6e);var H6e=ZF();const _r=tn(H6e);var G6e=th();const bx=tn(G6e);var aP={exports:{}},vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xz;function K6e(){if(Xz)return vn;Xz=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case e:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case i:return v;default:return w}}case t:return w}}}return vn.ContextConsumer=o,vn.ContextProvider=i,vn.Element=e,vn.ForwardRef=c,vn.Fragment=r,vn.Lazy=m,vn.Memo=f,vn.Portal=t,vn.Profiler=a,vn.StrictMode=n,vn.Suspense=u,vn.SuspenseList=d,vn.isAsyncMode=function(){return!1},vn.isConcurrentMode=function(){return!1},vn.isContextConsumer=function(v){return g(v)===o},vn.isContextProvider=function(v){return g(v)===i},vn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},vn.isForwardRef=function(v){return g(v)===c},vn.isFragment=function(v){return g(v)===r},vn.isLazy=function(v){return g(v)===m},vn.isMemo=function(v){return g(v)===f},vn.isPortal=function(v){return g(v)===t},vn.isProfiler=function(v){return g(v)===a},vn.isStrictMode=function(v){return g(v)===n},vn.isSuspense=function(v){return g(v)===u},vn.isSuspenseList=function(v){return g(v)===d},vn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},vn.typeOf=g,vn}var Jz;function Y6e(){return Jz||(Jz=1,aP.exports=K6e()),aP.exports}var X6e=Y6e(),iP,Zz;function Qie(){if(Zz)return iP;Zz=1;var e=pd(),t=gd(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return iP=n,iP}var oP,Qz;function J6e(){if(Qz)return oP;Qz=1;var e=Qie();function t(r){return e(r)&&r!=+r}return oP=t,oP}var Z6e=J6e();const r1=tn(Z6e);var Q6e=Qie();const eLe=tn(Q6e);var qi=function(t){return t===0?0:t>0?1:-1},Gh=function(t){return Wm(t)&&t.indexOf("%")===t.length-1},Nt=function(t){return eLe(t)&&!r1(t)},tLe=function(t){return Ar(t)},ja=function(t){return Nt(t)||Wm(t)},rLe=0,wx=function(t){var r=++rLe;return"".concat(t||"").concat(r)},Wi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Nt(t)&&!Wm(t))return n;var i;if(Gh(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return r1(i)&&(i=n),a&&i>r&&(i=r),i},Jd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},nLe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Bo=function(t,r){return Nt(t)&&Nt(r)?function(n){return t+n*(r-t)}:function(){return r}};function QN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Zo(n,t))===r})}var sLe=function(t,r){return Nt(t)&&Nt(r)?t-r:Wm(t)&&Wm(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function r0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function v3(e){"@babel/helpers - typeof";return v3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v3(e)}var aLe=["viewBox","children"],iLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eq=["points","pathLength"],lP={svg:aLe,polygon:eq,polyline:eq},s6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],eS=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!bx(n))return null;var a={};return Object.keys(n).forEach(function(i){s6.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},oLe=function(t,r,n){return function(a){return t(r,n,a),null}},Hm=function(t,r,n){if(!bx(t)||v3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];s6.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=oLe(o,r,n))}),a},lLe=["children"],cLe=["children"];function tq(e,t){if(e==null)return{};var r=uLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y3(e){"@babel/helpers - typeof";return y3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y3(e)}var rq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Gu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nq=null,cP=null,a6=function e(t){if(t===nq&&Array.isArray(cP))return cP;var r=[];return _.Children.forEach(t,function(n){Ar(n)||(X6e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),cP=r,nq=t,r};function Qo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Gu(a)}):n=[Gu(t)],a6(e).forEach(function(a){var i=Zo(a,"type.displayName")||Zo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Do(e,t){var r=Qo(e,t);return r&&r[0]}var sq=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Nt(n)||n<=0||!Nt(a)||a<=0)},dLe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fLe=function(t){return t&&t.type&&Wm(t.type)&&dLe.indexOf(t.type)>=0},hLe=function(t){return t&&y3(t)==="object"&&"clipDot"in t},mLe=function(t,r,n,a){var i,o=(i=lP?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!_r(t)&&(a&&o.includes(r)||iLe.includes(r))||n&&s6.includes(r)},ir=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!bx(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;mLe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},b3=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aq(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!aq(i,o))return!1}return!0},aq=function(t,r){if(Ar(t)&&Ar(r))return!0;if(!Ar(t)&&!Ar(r)){var n=t.props||{},a=n.children,i=tq(n,lLe),o=r.props||{},l=o.children,c=tq(o,cLe);return a&&l?r0(i,c)&&b3(a,l):!a&&!l?r0(i,c):!1}return!1},iq=function(t,r){var n=[],a={};return a6(t).forEach(function(i,o){if(fLe(i))n.push(i);else if(i){var l=Gu(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},pLe=function(t){var r=t&&t.type;return r&&rq[r]?rq[r]:null},gLe=function(t,r){return a6(r).indexOf(t)},xLe=["children","width","height","viewBox","className","style","title","desc"];function w3(){return w3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w3.apply(this,arguments)}function vLe(e,t){if(e==null)return{};var r=yLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _3(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=vLe(e,xLe),d=a||{width:r,height:n,x:0,y:0},f=Or("recharts-surface",i);return ce.createElement("svg",w3({},ir(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ce.createElement("title",null,l),ce.createElement("desc",null,c),t)}var bLe=["children","className"];function j3(){return j3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j3.apply(this,arguments)}function wLe(e,t){if(e==null)return{};var r=_Le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dn=ce.forwardRef(function(e,t){var r=e.children,n=e.className,a=wLe(e,bLe),i=Or("recharts-layer",n);return ce.createElement("g",j3({className:i},ir(a,!0),{ref:t}),r)}),yc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},uP,oq;function jLe(){if(oq)return uP;oq=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return uP=e,uP}var dP,lq;function NLe(){if(lq)return dP;lq=1;var e=jLe();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return dP=t,dP}var fP,cq;function eoe(){if(cq)return fP;cq=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return fP=c,fP}var hP,uq;function SLe(){if(uq)return hP;uq=1;function e(t){return t.split("")}return hP=e,hP}var mP,dq;function kLe(){if(dq)return mP;dq=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",g="["+i+"]?",v="(?:"+p+"(?:"+[d,f,m].join("|")+")"+g+y+")*",w=g+y+v,b="(?:"+[d+l+"?",l,f,m,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+b+w,"g");function E(S){return S.match(j)||[]}return mP=E,mP}var pP,fq;function CLe(){if(fq)return pP;fq=1;var e=SLe(),t=eoe(),r=kLe();function n(a){return t(a)?r(a):e(a)}return pP=n,pP}var gP,hq;function ELe(){if(hq)return gP;hq=1;var e=NLe(),t=eoe(),r=CLe(),n=Xie();function a(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return gP=a,gP}var xP,mq;function TLe(){if(mq)return xP;mq=1;var e=ELe(),t=e("toUpperCase");return xP=t,xP}var ALe=TLe();const vk=tn(ALe);function Gn(e){return function(){return e}}const toe=Math.cos,tS=Math.sin,Cc=Math.sqrt,rS=Math.PI,yk=2*rS,N3=Math.PI,S3=2*N3,Oh=1e-6,PLe=S3-Oh;function roe(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function OLe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return roe;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class RLe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?roe:OLe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Oh)if(!(Math.abs(f*c-u*d)>Oh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,g=c*c+u*u,v=p*p+y*y,w=Math.sqrt(g),b=Math.sqrt(m),j=i*Math.tan((N3-Math.acos((g+m-v)/(2*w*b)))/2),E=j/b,S=j/w;Math.abs(E-1)>Oh&&this._append`L${t+E*d},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Oh||Math.abs(this._y1-d)>Oh)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%S3+S3),m>PLe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Oh&&this._append`A${n},${n},0,${+(m>=N3)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function i6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RLe(t)}function o6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function noe(e){this._context=e}noe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bk(e){return new noe(e)}function soe(e){return e[0]}function aoe(e){return e[1]}function ioe(e,t){var r=Gn(!0),n=null,a=bk,i=null,o=i6(l);e=typeof e=="function"?e:e===void 0?soe:Gn(e),t=typeof t=="function"?t:t===void 0?aoe:Gn(t);function l(c){var u,d=(c=o6(c)).length,f,m=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function ij(e,t,r){var n=null,a=Gn(!0),i=null,o=bk,l=null,c=i6(u);e=typeof e=="function"?e:e===void 0?soe:Gn(+e),t=typeof t=="function"?t:Gn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aoe:Gn(+r);function u(f){var m,p,y,g=(f=o6(f)).length,v,w=!1,b,j=new Array(g),E=new Array(g);for(i==null&&(l=o(b=c())),m=0;m<=g;++m){if(!(m<g&&a(v=f[m],m,f))===w)if(w=!w)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(j[y],E[y]);l.lineEnd(),l.areaEnd()}w&&(j[m]=+e(v,m,f),E[m]=+t(v,m,f),l.point(n?+n(v,m,f):j[m],r?+r(v,m,f):E[m]))}if(b)return l=null,b+""||null}function d(){return ioe().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Gn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class ooe{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DLe(e){return new ooe(e,!0)}function ILe(e){return new ooe(e,!1)}const l6={draw(e,t){const r=Cc(t/rS);e.moveTo(r,0),e.arc(0,0,r,0,yk)}},MLe={draw(e,t){const r=Cc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},loe=Cc(1/3),FLe=loe*2,LLe={draw(e,t){const r=Cc(t/FLe),n=r*loe;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$Le={draw(e,t){const r=Cc(t),n=-r/2;e.rect(n,n,r,r)}},BLe=.8908130915292852,coe=tS(rS/10)/tS(7*rS/10),ULe=tS(yk/10)*coe,VLe=-toe(yk/10)*coe,zLe={draw(e,t){const r=Cc(t*BLe),n=ULe*r,a=VLe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=yk*i/5,l=toe(o),c=tS(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},vP=Cc(3),qLe={draw(e,t){const r=-Cc(t/(vP*3));e.moveTo(0,r*2),e.lineTo(-vP*r,-r),e.lineTo(vP*r,-r),e.closePath()}},fl=-.5,hl=Cc(3)/2,k3=1/Cc(12),WLe=(k3/2+1)*3,HLe={draw(e,t){const r=Cc(t/WLe),n=r/2,a=r*k3,i=n,o=r*k3+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(fl*n-hl*a,hl*n+fl*a),e.lineTo(fl*i-hl*o,hl*i+fl*o),e.lineTo(fl*l-hl*c,hl*l+fl*c),e.lineTo(fl*n+hl*a,fl*a-hl*n),e.lineTo(fl*i+hl*o,fl*o-hl*i),e.lineTo(fl*l+hl*c,fl*c-hl*l),e.closePath()}};function GLe(e,t){let r=null,n=i6(a);e=typeof e=="function"?e:Gn(e||l6),t=typeof t=="function"?t:Gn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function nS(){}function sS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uoe(e){this._context=e}uoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KLe(e){return new uoe(e)}function doe(e){this._context=e}doe.prototype={areaStart:nS,areaEnd:nS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YLe(e){return new doe(e)}function foe(e){this._context=e}foe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XLe(e){return new foe(e)}function hoe(e){this._context=e}hoe.prototype={areaStart:nS,areaEnd:nS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JLe(e){return new hoe(e)}function pq(e){return e<0?-1:1}function gq(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(pq(i)+pq(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function xq(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yP(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function aS(e){this._context=e}aS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yP(this,this._t0,xq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yP(this,xq(this,r=gq(this,e,t)),r);break;default:yP(this,this._t0,r=gq(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function moe(e){this._context=new poe(e)}(moe.prototype=Object.create(aS.prototype)).point=function(e,t){aS.prototype.point.call(this,t,e)};function poe(e){this._context=e}poe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZLe(e){return new aS(e)}function QLe(e){return new moe(e)}function goe(e){this._context=e}goe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=vq(e),a=vq(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vq(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function e8e(e){return new goe(e)}function wk(e,t){this._context=e,this._t=t}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function t8e(e){return new wk(e,.5)}function r8e(e){return new wk(e,0)}function n8e(e){return new wk(e,1)}function C0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function C3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function s8e(e,t){return e[t]}function a8e(e){const t=[];return t.key=e,t}function i8e(){var e=Gn([]),t=C3,r=C0,n=s8e;function a(i){var o=Array.from(e.apply(this,arguments),a8e),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=o6(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?C3:typeof i=="function"?i:Gn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??C0,a):r},a}function o8e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}C0(e,t)}}function l8e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}C0(e,t)}}function c8e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,w=g[n-1][1]||0;p+=v-w}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,C0(e,t)}}function Tb(e){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(e)}var u8e=["type","size","sizeType"];function E3(){return E3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E3.apply(this,arguments)}function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(n){d8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8e(e,t,r){return t=f8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8e(e){var t=h8e(e,"string");return Tb(t)=="symbol"?t:t+""}function h8e(e,t){if(Tb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8e(e,t){if(e==null)return{};var r=p8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xoe={symbolCircle:l6,symbolCross:MLe,symbolDiamond:LLe,symbolSquare:$Le,symbolStar:zLe,symbolTriangle:qLe,symbolWye:HLe},g8e=Math.PI/180,x8e=function(t){var r="symbol".concat(vk(t));return xoe[r]||l6},v8e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*g8e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},y8e=function(t,r){xoe["symbol".concat(vk(t))]=r},c6=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=m8e(t,u8e),u=bq(bq({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=x8e(n),w=GLe().type(v).size(v8e(i,l,n));return w()},f=u.className,m=u.cx,p=u.cy,y=ir(u,!0);return m===+m&&p===+p&&i===+i?ce.createElement("path",E3({},y,{className:Or("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};c6.registerSymbol=y8e;function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(r),!0).forEach(function(n){Ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yoe(n.key),n)}}function j8e(e,t,r){return t&&_8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N8e(e,t,r){return t=iS(t),S8e(e,voe()?Reflect.construct(t,r||[],iS(e).constructor):t.apply(e,r))}function S8e(e,t){if(t&&(E0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8e(e)}function k8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function voe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(voe=function(){return!!e})()}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function C8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A3(e,t)}function A3(e,t){return A3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A3(e,t)}function Ab(e,t,r){return t=yoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=E8e(e,"string");return E0(t)=="symbol"?t:t+""}function E8e(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ml=32,u6=(function(e){function t(){return w8e(this,t),N8e(this,t,arguments)}return C8e(t,e),j8e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ml/2,o=ml/6,l=ml/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ml,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ml,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ml/8,"h").concat(ml,"v").concat(ml*3/4,"h").concat(-ml,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var u=b8e({},n);return delete u.legendIcon,ce.cloneElement(n.legendIcon,u)}return ce.createElement(c6,{fill:c,cx:i,cy:i,size:ml,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ml,height:ml},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var g=p.formatter||c,v=Or(Ab(Ab({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=_r(p.value)?null:p.value;yc(!_r(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return ce.createElement("li",T3({className:v,style:f,key:"legend-item-".concat(y)},Hm(n.props,p,y)),ce.createElement(_3,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(w,p,y):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(_.PureComponent);Ab(u6,"displayName","Legend");Ab(u6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bP,_q;function T8e(){if(_q)return bP;_q=1;var e=pk();function t(){this.__data__=new e,this.size=0}return bP=t,bP}var wP,jq;function A8e(){if(jq)return wP;jq=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return wP=e,wP}var _P,Nq;function P8e(){if(Nq)return _P;Nq=1;function e(t){return this.__data__.get(t)}return _P=e,_P}var jP,Sq;function O8e(){if(Sq)return jP;Sq=1;function e(t){return this.__data__.has(t)}return jP=e,jP}var NP,kq;function R8e(){if(kq)return NP;kq=1;var e=pk(),t=e6(),r=t6(),n=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return NP=a,NP}var SP,Cq;function boe(){if(Cq)return SP;Cq=1;var e=pk(),t=T8e(),r=A8e(),n=P8e(),a=O8e(),i=R8e();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,SP=o,SP}var kP,Eq;function D8e(){if(Eq)return kP;Eq=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return kP=t,kP}var CP,Tq;function I8e(){if(Tq)return CP;Tq=1;function e(t){return this.__data__.has(t)}return CP=e,CP}var EP,Aq;function woe(){if(Aq)return EP;Aq=1;var e=t6(),t=D8e(),r=I8e();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,EP=n,EP}var TP,Pq;function _oe(){if(Pq)return TP;Pq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return TP=e,TP}var AP,Oq;function joe(){if(Oq)return AP;Oq=1;function e(t,r){return t.has(r)}return AP=e,AP}var PP,Rq;function Noe(){if(Rq)return PP;Rq=1;var e=woe(),t=_oe(),r=joe(),n=1,a=2;function i(o,l,c,u,d,f){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var g=f.get(o),v=f.get(l);if(g&&v)return g==l&&v==o;var w=-1,b=!0,j=c&a?new e:void 0;for(f.set(o,l),f.set(l,o);++w<p;){var E=o[w],S=l[w];if(u)var C=m?u(S,E,w,l,o,f):u(E,S,w,o,l,f);if(C!==void 0){if(C)continue;b=!1;break}if(j){if(!t(l,function(k,D){if(!r(j,D)&&(E===k||d(E,k,c,u,f)))return j.push(D)})){b=!1;break}}else if(!(E===S||d(E,S,c,u,f))){b=!1;break}}return f.delete(o),f.delete(l),b}return PP=i,PP}var OP,Dq;function M8e(){if(Dq)return OP;Dq=1;var e=gu(),t=e.Uint8Array;return OP=t,OP}var RP,Iq;function F8e(){if(Iq)return RP;Iq=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return RP=e,RP}var DP,Mq;function d6(){if(Mq)return DP;Mq=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return DP=e,DP}var IP,Fq;function L8e(){if(Fq)return IP;Fq=1;var e=t1(),t=M8e(),r=QF(),n=Noe(),a=F8e(),i=d6(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",w="[object ArrayBuffer]",b="[object DataView]",j=e?e.prototype:void 0,E=j?j.valueOf:void 0;function S(C,k,D,O,P,A,R){switch(D){case b:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case w:return!(C.byteLength!=k.byteLength||!A(new t(C),new t(k)));case c:case u:case m:return r(+C,+k);case d:return C.name==k.name&&C.message==k.message;case p:case g:return C==k+"";case f:var F=a;case y:var L=O&o;if(F||(F=i),C.size!=k.size&&!L)return!1;var W=R.get(C);if(W)return W==k;O|=l,R.set(C,k);var V=n(F(C),F(k),O,P,A,R);return R.delete(C),V;case v:if(E)return E.call(C)==E.call(k)}return!1}return IP=S,IP}var MP,Lq;function Soe(){if(Lq)return MP;Lq=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return MP=e,MP}var FP,$q;function $8e(){if($q)return FP;$q=1;var e=Soe(),t=jo();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return FP=r,FP}var LP,Bq;function B8e(){if(Bq)return LP;Bq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return LP=e,LP}var $P,Uq;function U8e(){if(Uq)return $P;Uq=1;function e(){return[]}return $P=e,$P}var BP,Vq;function V8e(){if(Vq)return BP;Vq=1;var e=B8e(),t=U8e(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return BP=i,BP}var UP,zq;function z8e(){if(zq)return UP;zq=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return UP=e,UP}var VP,qq;function q8e(){if(qq)return VP;qq=1;var e=pd(),t=gd(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return VP=n,VP}var zP,Wq;function f6(){if(Wq)return zP;Wq=1;var e=q8e(),t=gd(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return zP=i,zP}var Zv={exports:{}},qP,Hq;function W8e(){if(Hq)return qP;Hq=1;function e(){return!1}return qP=e,qP}Zv.exports;var Gq;function koe(){return Gq||(Gq=1,(function(e,t){var r=gu(),n=W8e(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Zv,Zv.exports)),Zv.exports}var WP,Kq;function h6(){if(Kq)return WP;Kq=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return WP=r,WP}var HP,Yq;function m6(){if(Yq)return HP;Yq=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return HP=t,HP}var GP,Xq;function H8e(){if(Xq)return GP;Xq=1;var e=pd(),t=m6(),r=gd(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",j="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",D="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",A={};A[b]=A[j]=A[E]=A[S]=A[C]=A[k]=A[D]=A[O]=A[P]=!0,A[n]=A[a]=A[v]=A[i]=A[w]=A[o]=A[l]=A[c]=A[u]=A[d]=A[f]=A[m]=A[p]=A[y]=A[g]=!1;function R(F){return r(F)&&t(F.length)&&!!A[e(F)]}return GP=R,GP}var KP,Jq;function Coe(){if(Jq)return KP;Jq=1;function e(t){return function(r){return t(r)}}return KP=e,KP}var Qv={exports:{}};Qv.exports;var Zq;function G8e(){return Zq||(Zq=1,(function(e,t){var r=Gie(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Qv,Qv.exports)),Qv.exports}var YP,Qq;function Eoe(){if(Qq)return YP;Qq=1;var e=H8e(),t=Coe(),r=G8e(),n=r&&r.isTypedArray,a=n?t(n):e;return YP=a,YP}var XP,eW;function K8e(){if(eW)return XP;eW=1;var e=z8e(),t=f6(),r=jo(),n=koe(),a=h6(),i=Eoe(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&t(u),p=!f&&!m&&n(u),y=!f&&!m&&!p&&i(u),g=f||m||p||y,v=g?e(u.length,String):[],w=v.length;for(var b in u)(d||l.call(u,b))&&!(g&&(b=="length"||p&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,w)))&&v.push(b);return v}return XP=c,XP}var JP,tW;function Y8e(){if(tW)return JP;tW=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return JP=t,JP}var ZP,rW;function Toe(){if(rW)return ZP;rW=1;function e(t,r){return function(n){return t(r(n))}}return ZP=e,ZP}var QP,nW;function X8e(){if(nW)return QP;nW=1;var e=Toe(),t=e(Object.keys,Object);return QP=t,QP}var e4,sW;function J8e(){if(sW)return e4;sW=1;var e=Y8e(),t=X8e(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return e4=a,e4}var t4,aW;function n1(){if(aW)return t4;aW=1;var e=ZF(),t=m6();function r(n){return n!=null&&t(n.length)&&!e(n)}return t4=r,t4}var r4,iW;function _k(){if(iW)return r4;iW=1;var e=K8e(),t=J8e(),r=n1();function n(a){return r(a)?e(a):t(a)}return r4=n,r4}var n4,oW;function Z8e(){if(oW)return n4;oW=1;var e=$8e(),t=V8e(),r=_k();function n(a){return e(a,r,t)}return n4=n,n4}var s4,lW;function Q8e(){if(lW)return s4;lW=1;var e=Z8e(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var f=l&t,m=e(i),p=m.length,y=e(o),g=y.length;if(p!=g&&!f)return!1;for(var v=p;v--;){var w=m[v];if(!(f?w in o:n.call(o,w)))return!1}var b=d.get(i),j=d.get(o);if(b&&j)return b==o&&j==i;var E=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<p;){w=m[v];var C=i[w],k=o[w];if(c)var D=f?c(k,C,w,o,i,d):c(C,k,w,i,o,d);if(!(D===void 0?C===k||u(C,k,l,c,d):D)){E=!1;break}S||(S=w=="constructor")}if(E&&!S){var O=i.constructor,P=o.constructor;O!=P&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof P=="function"&&P instanceof P)&&(E=!1)}return d.delete(i),d.delete(o),E}return s4=a,s4}var a4,cW;function e$e(){if(cW)return a4;cW=1;var e=mp(),t=gu(),r=e(t,"DataView");return a4=r,a4}var i4,uW;function t$e(){if(uW)return i4;uW=1;var e=mp(),t=gu(),r=e(t,"Promise");return i4=r,i4}var o4,dW;function Aoe(){if(dW)return o4;dW=1;var e=mp(),t=gu(),r=e(t,"Set");return o4=r,o4}var l4,fW;function r$e(){if(fW)return l4;fW=1;var e=mp(),t=gu(),r=e(t,"WeakMap");return l4=r,l4}var c4,hW;function n$e(){if(hW)return c4;hW=1;var e=e$e(),t=e6(),r=t$e(),n=Aoe(),a=r$e(),i=pd(),o=Kie(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=o(e),y=o(t),g=o(r),v=o(n),w=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=m||t&&b(new t)!=l||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=f)&&(b=function(j){var E=i(j),S=E==c?j.constructor:void 0,C=S?o(S):"";if(C)switch(C){case p:return m;case y:return l;case g:return u;case v:return d;case w:return f}return E}),c4=b,c4}var u4,mW;function s$e(){if(mW)return u4;mW=1;var e=boe(),t=Noe(),r=L8e(),n=Q8e(),a=n$e(),i=jo(),o=koe(),l=Eoe(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(g,v,w,b,j,E){var S=i(g),C=i(v),k=S?d:a(g),D=C?d:a(v);k=k==u?f:k,D=D==u?f:D;var O=k==f,P=D==f,A=k==D;if(A&&o(g)){if(!o(v))return!1;S=!0,O=!1}if(A&&!O)return E||(E=new e),S||l(g)?t(g,v,w,b,j,E):r(g,v,k,w,b,j,E);if(!(w&c)){var R=O&&p.call(g,"__wrapped__"),F=P&&p.call(v,"__wrapped__");if(R||F){var L=R?g.value():g,W=F?v.value():v;return E||(E=new e),j(L,W,w,b,E)}}return A?(E||(E=new e),n(g,v,w,b,j,E)):!1}return u4=y,u4}var d4,pW;function p6(){if(pW)return d4;pW=1;var e=s$e(),t=gd();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,l)}return d4=r,d4}var f4,gW;function a$e(){if(gW)return f4;gW=1;var e=boe(),t=p6(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(f&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var p=m[0],y=i[p],g=m[1];if(f&&m[2]){if(y===void 0&&!(p in i))return!1}else{var v=new e;if(c)var w=c(y,g,p,i,o,v);if(!(w===void 0?t(g,y,r|n,c,v):w))return!1}}return!0}return f4=a,f4}var h4,xW;function Poe(){if(xW)return h4;xW=1;var e=th();function t(r){return r===r&&!e(r)}return h4=t,h4}var m4,vW;function i$e(){if(vW)return m4;vW=1;var e=Poe(),t=_k();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,e(l)]}return a}return m4=r,m4}var p4,yW;function Ooe(){if(yW)return p4;yW=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return p4=e,p4}var g4,bW;function o$e(){if(bW)return g4;bW=1;var e=a$e(),t=i$e(),r=Ooe();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return g4=n,g4}var x4,wW;function l$e(){if(wW)return x4;wW=1;function e(t,r){return t!=null&&r in Object(t)}return x4=e,x4}var v4,_W;function c$e(){if(_W)return v4;_W=1;var e=Jie(),t=f6(),r=jo(),n=h6(),a=m6(),i=xk();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var p=i(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&a(f)&&n(p,f)&&(r(l)||t(l)))}return v4=o,v4}var y4,jW;function u$e(){if(jW)return y4;jW=1;var e=l$e(),t=c$e();function r(n,a){return n!=null&&t(n,a,e)}return y4=r,y4}var b4,NW;function d$e(){if(NW)return b4;NW=1;var e=p6(),t=Zie(),r=u$e(),n=JF(),a=Poe(),i=Ooe(),o=xk(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(m){var p=t(m,d);return p===void 0&&p===f?r(m,d):e(f,p,l|c)}}return b4=u,b4}var w4,SW;function _x(){if(SW)return w4;SW=1;function e(t){return t}return w4=e,w4}var _4,kW;function f$e(){if(kW)return _4;kW=1;function e(t){return function(r){return r?.[t]}}return _4=e,_4}var j4,CW;function h$e(){if(CW)return j4;CW=1;var e=n6();function t(r){return function(n){return e(n,r)}}return j4=t,j4}var N4,EW;function m$e(){if(EW)return N4;EW=1;var e=f$e(),t=h$e(),r=JF(),n=xk();function a(i){return r(i)?e(n(i)):t(i)}return N4=a,N4}var S4,TW;function xu(){if(TW)return S4;TW=1;var e=o$e(),t=d$e(),r=_x(),n=jo(),a=m$e();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return S4=i,S4}var k4,AW;function Roe(){if(AW)return k4;AW=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return k4=e,k4}var C4,PW;function p$e(){if(PW)return C4;PW=1;function e(t){return t!==t}return C4=e,C4}var E4,OW;function g$e(){if(OW)return E4;OW=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return E4=e,E4}var T4,RW;function x$e(){if(RW)return T4;RW=1;var e=Roe(),t=p$e(),r=g$e();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return T4=n,T4}var A4,DW;function v$e(){if(DW)return A4;DW=1;var e=x$e();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return A4=t,A4}var P4,IW;function y$e(){if(IW)return P4;IW=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return P4=e,P4}var O4,MW;function b$e(){if(MW)return O4;MW=1;function e(){}return O4=e,O4}var R4,FW;function w$e(){if(FW)return R4;FW=1;var e=Aoe(),t=b$e(),r=d6(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return R4=a,R4}var D4,LW;function _$e(){if(LW)return D4;LW=1;var e=woe(),t=v$e(),r=y$e(),n=joe(),a=w$e(),i=d6(),o=200;function l(c,u,d){var f=-1,m=t,p=c.length,y=!0,g=[],v=g;if(d)y=!1,m=r;else if(p>=o){var w=u?null:a(c);if(w)return i(w);y=!1,m=n,v=new e}else v=u?[]:g;e:for(;++f<p;){var b=c[f],j=u?u(b):b;if(b=d||b!==0?b:0,y&&j===j){for(var E=v.length;E--;)if(v[E]===j)continue e;u&&v.push(j),g.push(b)}else m(v,j,d)||(v!==g&&v.push(j),g.push(b))}return g}return D4=l,D4}var I4,$W;function j$e(){if($W)return I4;$W=1;var e=xu(),t=_$e();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return I4=r,I4}var N$e=j$e();const BW=tn(N$e);function Doe(e,t,r){return t===!0?BW(e,r):_r(t)?BW(e,t):e}function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}var S$e=["ref"];function UW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(r),!0).forEach(function(n){jk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Moe(n.key),n)}}function C$e(e,t,r){return t&&VW(e.prototype,t),r&&VW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E$e(e,t,r){return t=oS(t),T$e(e,Ioe()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function T$e(e,t){if(t&&(T0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$e(e)}function A$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ioe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ioe=function(){return!!e})()}function oS(e){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oS(e)}function P$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P3(e,t)}function P3(e,t){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P3(e,t)}function jk(e,t,r){return t=Moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Moe(e){var t=O$e(e,"string");return T0(t)=="symbol"?t:t+""}function O$e(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function R$e(e,t){if(e==null)return{};var r=D$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I$e(e){return e.value}function M$e(e,t){if(ce.isValidElement(e))return ce.cloneElement(e,t);if(typeof e=="function")return ce.createElement(e,t);t.ref;var r=R$e(t,S$e);return ce.createElement(u6,r)}var zW=1,yf=(function(e){function t(){var r;k$e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=E$e(this,t,[].concat(a)),jk(r,"lastBoundingBox",{width:-1,height:-1}),r}return P$e(t,e),C$e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>zW||Math.abs(a.height-this.lastBoundingBox.height)>zW)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Tu(Tu({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Tu(Tu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},M$e(i,Tu(Tu({},this.props),{},{payload:Doe(d,u,I$e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Tu(Tu({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Nt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(_.PureComponent);jk(yf,"displayName","Legend");jk(yf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var M4,qW;function F$e(){if(qW)return M4;qW=1;var e=t1(),t=f6(),r=jo(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return M4=a,M4}var F4,WW;function Foe(){if(WW)return F4;WW=1;var e=Soe(),t=F$e();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return F4=r,F4}var L4,HW;function L$e(){if(HW)return L4;HW=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return L4=e,L4}var $4,GW;function $$e(){if(GW)return $4;GW=1;var e=L$e(),t=e();return $4=t,$4}var B4,KW;function Loe(){if(KW)return B4;KW=1;var e=$$e(),t=_k();function r(n,a){return n&&e(n,a,t)}return B4=r,B4}var U4,YW;function B$e(){if(YW)return U4;YW=1;var e=n1();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return U4=t,U4}var V4,XW;function g6(){if(XW)return V4;XW=1;var e=Loe(),t=B$e(),r=t(e);return V4=r,V4}var z4,JW;function $oe(){if(JW)return z4;JW=1;var e=g6(),t=n1();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return z4=r,z4}var q4,ZW;function U$e(){if(ZW)return q4;ZW=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return q4=e,q4}var W4,QW;function V$e(){if(QW)return W4;QW=1;var e=yx();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return W4=t,W4}var H4,eH;function z$e(){if(eH)return H4;eH=1;var e=V$e();function t(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return H4=t,H4}var G4,tH;function q$e(){if(tH)return G4;tH=1;var e=r6(),t=n6(),r=xu(),n=$oe(),a=U$e(),i=Coe(),o=z$e(),l=_x(),c=jo();function u(d,f,m){f.length?f=e(f,function(g){return c(g)?function(v){return t(v,g.length===1?g[0]:g)}:g}):f=[l];var p=-1;f=e(f,i(r));var y=n(d,function(g,v,w){var b=e(f,function(j){return j(g)});return{criteria:b,index:++p,value:g}});return a(y,function(g,v){return o(g,v,m)})}return G4=u,G4}var K4,rH;function W$e(){if(rH)return K4;rH=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return K4=e,K4}var Y4,nH;function H$e(){if(nH)return Y4;nH=1;var e=W$e(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),e(n,this,d)}}return Y4=r,Y4}var X4,sH;function G$e(){if(sH)return X4;sH=1;function e(t){return function(){return t}}return X4=e,X4}var J4,aH;function Boe(){if(aH)return J4;aH=1;var e=mp(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return J4=t,J4}var Z4,iH;function K$e(){if(iH)return Z4;iH=1;var e=G$e(),t=Boe(),r=_x(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Z4=n,Z4}var Q4,oH;function Y$e(){if(oH)return Q4;oH=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Q4=n,Q4}var eO,lH;function X$e(){if(lH)return eO;lH=1;var e=K$e(),t=Y$e(),r=t(e);return eO=r,eO}var tO,cH;function J$e(){if(cH)return tO;cH=1;var e=_x(),t=H$e(),r=X$e();function n(a,i){return r(t(a,i,e),a+"")}return tO=n,tO}var rO,uH;function Nk(){if(uH)return rO;uH=1;var e=QF(),t=n1(),r=h6(),n=th();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return rO=a,rO}var nO,dH;function Z$e(){if(dH)return nO;dH=1;var e=Foe(),t=q$e(),r=J$e(),n=Nk(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return nO=a,nO}var Q$e=Z$e();const x6=tn(Q$e);function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function O3(){return O3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O3.apply(this,arguments)}function eBe(e,t){return sBe(e)||nBe(e,t)||rBe(e,t)||tBe()}function tBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(e,t){if(e){if(typeof e=="string")return fH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fH(e,t)}}function fH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sBe(e){if(Array.isArray(e))return e}function hH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hH(Object(r),!0).forEach(function(n){aBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aBe(e,t,r){return t=iBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iBe(e){var t=oBe(e,"string");return Pb(t)=="symbol"?t:t+""}function oBe(e,t){if(Pb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lBe(e){return Array.isArray(e)&&ja(e[0])&&ja(e[1])?e.join(" ~ "):e}var cBe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,w=t.accessibilityLayer,b=w===void 0?!1:w,j=function(){if(d&&d.length){var R={padding:0,margin:0},F=(m?x6(d,m):d).map(function(L,W){if(L.type==="none")return null;var V=sO({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),H=L.formatter||f||lBe,G=L.value,I=L.name,U=G,X=I;if(H&&U!=null&&X!=null){var z=H(G,I,L,W,d);if(Array.isArray(z)){var Z=eBe(z,2);U=Z[0],X=Z[1]}else U=z}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:V},ja(X)?ce.createElement("span",{className:"recharts-tooltip-item-name"},X):null,ja(X)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},U),ce.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:R},F)}return null},E=sO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=sO({margin:0},u),C=!Ar(g),k=C?g:"",D=Or("recharts-default-tooltip",p),O=Or("recharts-tooltip-label",y);C&&v&&d!==void 0&&d!==null&&(k=v(g,d));var P=b?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",O3({className:D,style:E},P),ce.createElement("p",{className:O,style:S},ce.isValidElement(k)?k:"".concat(k)),j())};function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function oj(e,t,r){return t=uBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uBe(e){var t=dBe(e,"string");return Ob(t)=="symbol"?t:t+""}function dBe(e,t){if(Ob(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv="recharts-tooltip-wrapper",fBe={visibility:"hidden"};function hBe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Or(wv,oj(oj(oj(oj({},"".concat(wv,"-right"),Nt(r)&&t&&Nt(t.x)&&r>=t.x),"".concat(wv,"-left"),Nt(r)&&t&&Nt(t.x)&&r<t.x),"".concat(wv,"-bottom"),Nt(n)&&t&&Nt(t.y)&&n>=t.y),"".concat(wv,"-top"),Nt(n)&&t&&Nt(t.y)&&n<t.y))}function mH(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Nt(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function mBe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pBe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=mH({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=mH({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=mBe({translateX:d,translateY:f,useTranslate3d:l})):u=fBe,{cssProperties:u,cssClasses:hBe({translateX:d,translateY:f,coordinate:r})}}function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function pH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pH(Object(r),!0).forEach(function(n){D3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Voe(n.key),n)}}function vBe(e,t,r){return t&&xBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yBe(e,t,r){return t=lS(t),bBe(e,Uoe()?Reflect.construct(t,r||[],lS(e).constructor):t.apply(e,r))}function bBe(e,t){if(t&&(A0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wBe(e)}function wBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uoe=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(e)}function _Be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R3(e,t)}function R3(e,t){return R3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R3(e,t)}function D3(e,t,r){return t=Voe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Voe(e){var t=jBe(e,"string");return A0(t)=="symbol"?t:t+""}function jBe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xH=1,NBe=(function(e){function t(){var r;gBe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yBe(this,t,[].concat(a)),D3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D3(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return _Be(t,e),vBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>xH||Math.abs(n.height-this.state.lastBoundingBox.height)>xH)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,j=pBe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),E=j.cssClasses,S=j.cssProperties,C=gH(gH({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ce.createElement("div",{tabIndex:-1,className:E,style:C,ref:function(D){n.wrapperNode=D}},u)}}])})(_.PureComponent),SBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pp={isSsr:SBe()};function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function vH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vH(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qoe(n.key),n)}}function EBe(e,t,r){return t&&CBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TBe(e,t,r){return t=cS(t),ABe(e,zoe()?Reflect.construct(t,r||[],cS(e).constructor):t.apply(e,r))}function ABe(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PBe(e)}function PBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zoe=function(){return!!e})()}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(e)}function OBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I3(e,t)}function I3(e,t){return I3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I3(e,t)}function v6(e,t,r){return t=qoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qoe(e){var t=RBe(e,"string");return P0(t)=="symbol"?t:t+""}function RBe(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(P0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DBe(e){return e.dataKey}function IBe(e,t){return ce.isValidElement(e)?ce.cloneElement(e,t):typeof e=="function"?ce.createElement(e,t):ce.createElement(cBe,t)}var fo=(function(e){function t(){return kBe(this,t),TBe(this,t,arguments)}return OBe(t,e),EBe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,w=a.reverseDirection,b=a.useTranslate3d,j=a.viewBox,E=a.wrapperStyle,S=y??[];f&&S.length&&(S=Doe(y.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,DBe));var C=S.length>0;return ce.createElement(NBe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:w,useTranslate3d:b,viewBox:j,wrapperStyle:E},IBe(u,yH(yH({},this.props),{},{payload:S})))}}])})(_.PureComponent);v6(fo,"displayName","Tooltip");v6(fo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var aO,bH;function MBe(){if(bH)return aO;bH=1;var e=gu(),t=function(){return e.Date.now()};return aO=t,aO}var iO,wH;function FBe(){if(wH)return iO;wH=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return iO=t,iO}var oO,_H;function LBe(){if(_H)return oO;_H=1;var e=FBe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return oO=r,oO}var lO,jH;function Woe(){if(jH)return lO;jH=1;var e=LBe(),t=th(),r=yx(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return lO=c,lO}var cO,NH;function $Be(){if(NH)return cO;NH=1;var e=th(),t=MBe(),r=Woe(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,f,m,p,y,g,v=0,w=!1,b=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(w=!!u.leading,b="maxWait"in u,m=b?a(r(u.maxWait)||0,c):m,j="trailing"in u?!!u.trailing:j);function E(F){var L=d,W=f;return d=f=void 0,v=F,p=l.apply(W,L),p}function S(F){return v=F,y=setTimeout(D,c),w?E(F):p}function C(F){var L=F-g,W=F-v,V=c-L;return b?i(V,m-W):V}function k(F){var L=F-g,W=F-v;return g===void 0||L>=c||L<0||b&&W>=m}function D(){var F=t();if(k(F))return O(F);y=setTimeout(D,C(F))}function O(F){return y=void 0,j&&d?E(F):(d=f=void 0,p)}function P(){y!==void 0&&clearTimeout(y),v=0,d=g=f=y=void 0}function A(){return y===void 0?p:O(t())}function R(){var F=t(),L=k(F);if(d=arguments,f=this,g=F,L){if(y===void 0)return S(g);if(b)return clearTimeout(y),y=setTimeout(D,c),E(g)}return y===void 0&&(y=setTimeout(D,c)),p}return R.cancel=P,R.flush=A,R}return cO=o,cO}var uO,SH;function BBe(){if(SH)return uO;SH=1;var e=$Be(),t=th(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return uO=n,uO}var UBe=BBe();const Hoe=tn(UBe);function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function kH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kH(Object(r),!0).forEach(function(n){VBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VBe(e,t,r){return t=zBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zBe(e){var t=qBe(e,"string");return Rb(t)=="symbol"?t:t+""}function qBe(e,t){if(Rb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WBe(e,t){return YBe(e)||KBe(e,t)||GBe(e,t)||HBe()}function HBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GBe(e,t){if(e){if(typeof e=="string")return CH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CH(e,t)}}function CH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YBe(e){if(Array.isArray(e))return e}var Py=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,p=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,w=e.className,b=e.onResize,j=e.style,E=j===void 0?{}:j,S=_.useRef(null),C=_.useRef();C.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=_.useState({containerWidth:a.width,containerHeight:a.height}),D=WBe(k,2),O=D[0],P=D[1],A=_.useCallback(function(F,L){P(function(W){var V=Math.round(F),H=Math.round(L);return W.containerWidth===V&&W.containerHeight===H?W:{containerWidth:V,containerHeight:H}})},[]);_.useEffect(function(){var F=function(I){var U,X=I[0].contentRect,z=X.width,Z=X.height;A(z,Z),(U=C.current)===null||U===void 0||U.call(C,z,Z)};g>0&&(F=Hoe(F,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),W=S.current.getBoundingClientRect(),V=W.width,H=W.height;return A(V,H),L.observe(S.current),function(){L.disconnect()}},[A,g]);var R=_.useMemo(function(){var F=O.containerWidth,L=O.containerHeight;if(F<0||L<0)return null;yc(Gh(o)||Gh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),yc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Gh(o)?F:o,V=Gh(c)?L:c;r&&r>0&&(W?V=W/r:V&&(W=V*r),m&&V>m&&(V=m)),yc(W>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,V,o,c,d,f,r);var H=!Array.isArray(p)&&Gu(p.type).endsWith("Chart");return ce.Children.map(p,function(G){return ce.isValidElement(G)?_.cloneElement(G,lj({width:W,height:V},H?{style:lj({height:"100%",width:"100%",maxHeight:V,maxWidth:W},G.props.style)}:{})):G})},[r,p,c,m,f,d,O,o]);return ce.createElement("div",{id:v?"".concat(v):void 0,className:Or("recharts-responsive-container",w),style:lj(lj({},E),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},R)}),Sk=function(t){return null};Sk.displayName="Cell";function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function EH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EH(Object(r),!0).forEach(function(n){XBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XBe(e,t,r){return t=JBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JBe(e){var t=ZBe(e,"string");return Db(t)=="symbol"?t:t+""}function ZBe(e,t){if(Db(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg={widthCache:{},cacheCount:0},QBe=2e3,e9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TH="recharts_measurement_span";function t9e(e){var t=M3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Oy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pp.isSsr)return{width:0,height:0};var n=t9e(r),a=JSON.stringify({text:t,copyStyle:n});if(cg.widthCache[a])return cg.widthCache[a];try{var i=document.getElementById(TH);i||(i=document.createElement("span"),i.setAttribute("id",TH),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=M3(M3({},e9e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return cg.widthCache[a]=c,++cg.cacheCount>QBe&&(cg.cacheCount=0,cg.widthCache={}),c}catch{return{width:0,height:0}}},r9e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}function uS(e,t){return i9e(e)||a9e(e,t)||s9e(e,t)||n9e()}function n9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s9e(e,t){if(e){if(typeof e=="string")return AH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AH(e,t)}}function AH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function i9e(e){if(Array.isArray(e))return e}function o9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c9e(n.key),n)}}function l9e(e,t,r){return t&&PH(e.prototype,t),r&&PH(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c9e(e){var t=u9e(e,"string");return Ib(t)=="symbol"?t:t+""}function u9e(e,t){if(Ib(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Goe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h9e=Object.keys(Goe),Eg="NaN";function m9e(e,t){return e*Goe[t]}var cj=(function(){function e(t,r){o9e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!d9e.test(r)&&(this.num=NaN,this.unit=""),h9e.includes(r)&&(this.num=m9e(t,r),this.unit="px")}return l9e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=f9e.exec(r))!==null&&n!==void 0?n:[],i=uS(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function Koe(e){if(e.includes(Eg))return Eg;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=OH.exec(t))!==null&&r!==void 0?r:[],a=uS(n,4),i=a[1],o=a[2],l=a[3],c=cj.parse(i??""),u=cj.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Eg;t=t.replace(OH,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=RH.exec(t))!==null&&f!==void 0?f:[],p=uS(m,4),y=p[1],g=p[2],v=p[3],w=cj.parse(y??""),b=cj.parse(v??""),j=g==="+"?w.add(b):w.subtract(b);if(j.isNaN())return Eg;t=t.replace(RH,j.toString())}return t}var DH=/\(([^()]*)\)/;function p9e(e){for(var t=e;t.includes("(");){var r=DH.exec(t),n=uS(r,2),a=n[1];t=t.replace(DH,Koe(a))}return t}function g9e(e){var t=e.replace(/\s+/g,"");return t=p9e(t),t=Koe(t),t}function x9e(e){try{return g9e(e)}catch{return Eg}}function dO(e){var t=x9e(e.slice(5,-1));return t===Eg?"":t}var v9e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],y9e=["dx","dy","angle","className","breakAll"];function F3(){return F3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F3.apply(this,arguments)}function IH(e,t){if(e==null)return{};var r=b9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MH(e,t){return N9e(e)||j9e(e,t)||_9e(e,t)||w9e()}function w9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9e(e,t){if(e){if(typeof e=="string")return FH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FH(e,t)}}function FH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function N9e(e){if(Array.isArray(e))return e}var Yoe=/[ \f\n\r\t\v\u2028\u2029]+/,Xoe=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ar(r)||(n?i=r.toString().split(""):i=r.toString().split(Yoe));var o=i.map(function(c){return{word:c,width:Oy(c,a).width}}),l=n?0:Oy("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},S9e=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Nt(o),f=l,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(V,H){var G=H.word,I=H.width,U=V[V.length-1];if(U&&(a==null||i||U.width+I+n<Number(a)))U.words.push(G),U.width+=I+n;else{var X={words:[G],width:I};V.push(X)}return V},[])},p=m(r),y=function(W){return W.reduce(function(V,H){return V.width>H.width?V:H})};if(!d)return p;for(var g="",v=function(W){var V=f.slice(0,W),H=Xoe({breakAll:u,style:c,children:V+g}).wordsWithComputedWidth,G=m(H),I=G.length>o||y(G).width>Number(a);return[I,G]},w=0,b=f.length-1,j=0,E;w<=b&&j<=f.length-1;){var S=Math.floor((w+b)/2),C=S-1,k=v(C),D=MH(k,2),O=D[0],P=D[1],A=v(S),R=MH(A,1),F=R[0];if(!O&&!F&&(w=S+1),O&&F&&(b=S-1),!O&&F){E=P;break}j++}return E||p},LH=function(t){var r=Ar(t)?[]:t.toString().split(Yoe);return[{words:r}]},k9e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!pp.isSsr){var c,u,d=Xoe({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return LH(a);return S9e({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return LH(a)},$H="#808080",Gm=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,w=v===void 0?$H:v,b=IH(t,v9e),j=_.useMemo(function(){return k9e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),E=b.dx,S=b.dy,C=b.angle,k=b.className,D=b.breakAll,O=IH(b,y9e);if(!ja(n)||!ja(i))return null;var P=n+(Nt(E)?E:0),A=i+(Nt(S)?S:0),R;switch(g){case"start":R=dO("calc(".concat(u,")"));break;case"middle":R=dO("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=dO("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(f){var L=j[0].width,W=b.width;F.push("scale(".concat((Nt(W)?W/L:1)/L,")"))}return C&&F.push("rotate(".concat(C,", ").concat(P,", ").concat(A,")")),F.length&&(O.transform=F.join(" ")),ce.createElement("text",F3({},ir(O,!0),{x:P,y:A,className:Or("recharts-text",k),textAnchor:p,fill:w.includes("url")?$H:w}),j.map(function(V,H){var G=V.words.join(D?"":" ");return ce.createElement("tspan",{x:P,dy:H===0?R:l,key:"".concat(G,"-").concat(H)},G)}))};function bf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function C9e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function y6(e){let t,r,n;e.length!==2?(t=bf,r=(l,c)=>bf(e(l),c),n=(l,c)=>e(l)-c):(t=e===bf||e===C9e?e:E9e,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function E9e(){return 0}function Joe(e){return e===null?NaN:+e}function*T9e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const A9e=y6(bf),s1=A9e.right;y6(Joe).center;class BH extends Map{constructor(t,r=R9e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(UH(this,t))}has(t){return super.has(UH(this,t))}set(t,r){return super.set(P9e(this,t),r)}delete(t){return super.delete(O9e(this,t))}}function UH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P9e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function O9e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function R9e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function D9e(e=bf){if(e===bf)return Zoe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Zoe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const I9e=Math.sqrt(50),M9e=Math.sqrt(10),F9e=Math.sqrt(2);function dS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=I9e?10:i>=M9e?5:i>=F9e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?dS(e,t,r*2):[l,c,u]}function L3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?dS(t,e,r):dS(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function $3(e,t,r){return t=+t,e=+e,r=+r,dS(e,t,r)[2]}function B3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$3(t,e,r):$3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function VH(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zH(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Qoe(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Zoe:D9e(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+m)),y=Math.min(n,Math.floor(t+(c-u)*f/c+m));Qoe(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(_v(e,r,t),a(e[n],i)>0&&_v(e,r,n);o<l;){for(_v(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?_v(e,r,l):(++l,_v(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function _v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function L9e(e,t,r){if(e=Float64Array.from(T9e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zH(e);if(t>=1)return VH(e);var n,a=(n-1)*t,i=Math.floor(a),o=VH(Qoe(e,i).subarray(0,i+1)),l=zH(e.subarray(i+1));return o+(l-o)*(a-i)}}function $9e(e,t,r=Joe){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function B9e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ql(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const U3=Symbol("implicit");function b6(){var e=new BH,t=[],r=[],n=U3;function a(i){let o=e.get(i);if(o===void 0){if(n!==U3)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BH;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return b6(t,r).unknown(n)},ql.apply(a,arguments),a}function Mb(){var e=b6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,y=p?a:n,g=p?n:a;i=(g-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=B9e(m).map(function(w){return y+i*w});return r(p?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Mb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ql.apply(f(),arguments)}function ele(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ele(t())},e}function Ry(){return ele(Mb.apply(null,arguments).paddingInner(1))}function w6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tle(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function a1(){}var Fb=.7,fS=1/Fb,n0="\\s*([+-]?\\d+)\\s*",Lb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U9e=/^#([0-9a-f]{3,8})$/,V9e=new RegExp(`^rgb\\(${n0},${n0},${n0}\\)$`),z9e=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),q9e=new RegExp(`^rgba\\(${n0},${n0},${n0},${Lb}\\)$`),W9e=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${Lb}\\)$`),H9e=new RegExp(`^hsl\\(${Lb},${Qc},${Qc}\\)$`),G9e=new RegExp(`^hsla\\(${Lb},${Qc},${Qc},${Lb}\\)$`),qH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w6(a1,$b,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WH,formatHex:WH,formatHex8:K9e,formatHsl:Y9e,formatRgb:HH,toString:HH});function WH(){return this.rgb().formatHex()}function K9e(){return this.rgb().formatHex8()}function Y9e(){return rle(this).formatHsl()}function HH(){return this.rgb().formatRgb()}function $b(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=U9e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GH(t):r===3?new ho(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=V9e.exec(e))?new ho(t[1],t[2],t[3],1):(t=z9e.exec(e))?new ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=q9e.exec(e))?uj(t[1],t[2],t[3],t[4]):(t=W9e.exec(e))?uj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H9e.exec(e))?XH(t[1],t[2]/100,t[3]/100,1):(t=G9e.exec(e))?XH(t[1],t[2]/100,t[3]/100,t[4]):qH.hasOwnProperty(e)?GH(qH[e]):e==="transparent"?new ho(NaN,NaN,NaN,0):null}function GH(e){return new ho(e>>16&255,e>>8&255,e&255,1)}function uj(e,t,r,n){return n<=0&&(e=t=r=NaN),new ho(e,t,r,n)}function X9e(e){return e instanceof a1||(e=$b(e)),e?(e=e.rgb(),new ho(e.r,e.g,e.b,e.opacity)):new ho}function V3(e,t,r,n){return arguments.length===1?X9e(e):new ho(e,t,r,n??1)}function ho(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}w6(ho,V3,tle(a1,{brighter(e){return e=e==null?fS:Math.pow(fS,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fb:Math.pow(Fb,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ho(hm(this.r),hm(this.g),hm(this.b),hS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KH,formatHex:KH,formatHex8:J9e,formatRgb:YH,toString:YH}));function KH(){return`#${Kh(this.r)}${Kh(this.g)}${Kh(this.b)}`}function J9e(){return`#${Kh(this.r)}${Kh(this.g)}${Kh(this.b)}${Kh((isNaN(this.opacity)?1:this.opacity)*255)}`}function YH(){const e=hS(this.opacity);return`${e===1?"rgb(":"rgba("}${hm(this.r)}, ${hm(this.g)}, ${hm(this.b)}${e===1?")":`, ${e})`}`}function hS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kh(e){return e=hm(e),(e<16?"0":"")+e.toString(16)}function XH(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new dc(e,t,r,n)}function rle(e){if(e instanceof dc)return new dc(e.h,e.s,e.l,e.opacity);if(e instanceof a1||(e=$b(e)),!e)return new dc;if(e instanceof dc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new dc(o,l,c,e.opacity)}function Z9e(e,t,r,n){return arguments.length===1?rle(e):new dc(e,t,r,n??1)}function dc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}w6(dc,Z9e,tle(a1,{brighter(e){return e=e==null?fS:Math.pow(fS,e),new dc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fb:Math.pow(Fb,e),new dc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ho(fO(e>=240?e-240:e+120,a,n),fO(e,a,n),fO(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new dc(JH(this.h),dj(this.s),dj(this.l),hS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hS(this.opacity);return`${e===1?"hsl(":"hsla("}${JH(this.h)}, ${dj(this.s)*100}%, ${dj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JH(e){return e=(e||0)%360,e<0?e+360:e}function dj(e){return Math.max(0,Math.min(1,e||0))}function fO(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _6=e=>()=>e;function Q9e(e,t){return function(r){return e+r*t}}function eUe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tUe(e){return(e=+e)==1?nle:function(t,r){return r-t?eUe(t,r,e):_6(isNaN(t)?r:t)}}function nle(e,t){var r=t-e;return r?Q9e(e,r):_6(isNaN(e)?t:e)}const ZH=(function e(t){var r=tUe(t);function n(a,i){var o=r((a=V3(a)).r,(i=V3(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=nle(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function rUe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function nUe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sUe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=jx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function aUe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iUe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=jx(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var z3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hO=new RegExp(z3.source,"g");function oUe(e){return function(){return e}}function lUe(e){return function(t){return e(t)+""}}function cUe(e,t){var r=z3.lastIndex=hO.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=z3.exec(e))&&(a=hO.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:mS(n,a)})),r=hO.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?lUe(c[0].x):oUe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function jx(e,t){var r=typeof t,n;return t==null||r==="boolean"?_6(t):(r==="number"?mS:r==="string"?(n=$b(t))?(t=n,ZH):cUe:t instanceof $b?ZH:t instanceof Date?aUe:nUe(t)?rUe:Array.isArray(t)?sUe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iUe:mS)(e,t)}function j6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uUe(e,t){t===void 0&&(t=e,e=jx);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function dUe(e){return function(){return e}}function pS(e){return+e}var QH=[0,1];function Hi(e){return e}function q3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dUe(isNaN(t)?NaN:.5)}function fUe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hUe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=q3(a,n),i=r(o,i)):(n=q3(n,a),i=r(i,o)),function(l){return i(n(l))}}function mUe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=q3(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=s1(e,l,1,n)-1;return i[c](a[c](l))}}function i1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kk(){var e=QH,t=QH,r=jx,n,a,i,o=Hi,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Hi&&(o=fUe(e[0],e[m-1])),l=m>2?mUe:hUe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),mS)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,pS),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=j6,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Hi,d()):o!==Hi},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return n=m,a=p,d()}}function N6(){return kk()(Hi,Hi)}function pUe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function O0(e){return e=gS(Math.abs(e)),e?e[1]:NaN}function gUe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xUe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bb(e){if(!(t=vUe.exec(e)))throw new Error("invalid format: "+e);var t;return new S6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bb.prototype=S6.prototype;function S6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yUe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var sle;function bUe(e,t){var r=gS(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(sle=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+gS(e,Math.max(0,t+i-1))[0]}function eG(e,t){var r=gS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tG={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pUe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eG(e*100,t),r:eG,s:bUe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rG(e){return e}var nG=Array.prototype.map,sG=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wUe(e){var t=e.grouping===void 0||e.thousands===void 0?rG:gUe(nG.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rG:xUe(nG.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Bb(f);var m=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,w=f.width,b=f.comma,j=f.precision,E=f.trim,S=f.type;S==="n"?(b=!0,S="g"):tG[S]||(j===void 0&&(j=12),E=!0,S="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=g==="$"?n:/[%p]/.test(S)?o:"",D=tG[S],O=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(A){var R=C,F=k,L,W,V;if(S==="c")F=D(A)+F,A="";else{A=+A;var H=A<0||1/A<0;if(A=isNaN(A)?c:D(Math.abs(A),j),E&&(A=yUe(A)),H&&+A==0&&y!=="+"&&(H=!1),R=(H?y==="("?y:l:y==="-"||y==="("?"":y)+R,F=(S==="s"?sG[8+sle/3]:"")+F+(H&&y==="("?")":""),O){for(L=-1,W=A.length;++L<W;)if(V=A.charCodeAt(L),48>V||V>57){F=(V===46?a+A.slice(L+1):A.slice(L))+F,A=A.slice(0,L);break}}}b&&!v&&(A=t(A,1/0));var G=R.length+A.length+F.length,I=G<w?new Array(w-G+1).join(m):"";switch(b&&v&&(A=t(I+A,I.length?w-F.length:1/0),I=""),p){case"<":A=R+A+F+I;break;case"=":A=R+I+A+F;break;case"^":A=I.slice(0,G=I.length>>1)+R+A+F+I.slice(G);break;default:A=I+R+A+F;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,m){var p=u((f=Bb(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(O0(m)/3)))*3,g=Math.pow(10,-y),v=sG[8+y/3];return function(w){return p(g*w)+v}}return{format:u,formatPrefix:d}}var fj,k6,ale;_Ue({thousands:",",grouping:[3],currency:["$",""]});function _Ue(e){return fj=wUe(e),k6=fj.format,ale=fj.formatPrefix,fj}function jUe(e){return Math.max(0,-O0(Math.abs(e)))}function NUe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(O0(t)/3)))*3-O0(Math.abs(e)))}function SUe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,O0(t)-O0(e))+1}function ile(e,t,r,n){var a=B3(e,t,r),i;switch(n=Bb(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=NUe(a,o))&&(n.precision=i),ale(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=SUe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jUe(a))&&(n.precision=i-(n.type==="%")*2);break}}return k6(n)}function rh(e){var t=e.domain;return e.ticks=function(r){var n=t();return L3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ile(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=$3(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function xS(){var e=N6();return e.copy=function(){return i1(e,xS())},ql.apply(e,arguments),rh(e)}function ole(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,pS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ole(e).unknown(t)},e=arguments.length?Array.from(e,pS):[0,1],rh(r)}function lle(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function aG(e){return Math.log(e)}function iG(e){return Math.exp(e)}function kUe(e){return-Math.log(-e)}function CUe(e){return-Math.exp(-e)}function EUe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TUe(e){return e===10?EUe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AUe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oG(e){return(t,r)=>-e(-t,r)}function C6(e){const t=e(aG,iG),r=t.domain;let n=10,a,i;function o(){return a=AUe(n),i=TUe(n),r()[0]<0?(a=oG(a),i=oG(i),e(kUe,CUe)):e(aG,iG),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),y,g;const v=l==null?10:+l;let w=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(g=m<0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;w.push(g)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(g=m>0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;w.push(g)}w.length*2<v&&(w=L3(u,d,v))}else w=L3(m,p,Math.min(p-m,v)).map(i);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bb(c)).precision==null&&(c.trim=!0),c=k6(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(lle(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function cle(){const e=C6(kk()).domain([1,10]);return e.copy=()=>i1(e,cle()).base(e.base()),ql.apply(e,arguments),e}function lG(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cG(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function E6(e){var t=1,r=e(lG(t),cG(t));return r.constant=function(n){return arguments.length?e(lG(t=+n),cG(t)):t},rh(r)}function ule(){var e=E6(kk());return e.copy=function(){return i1(e,ule()).constant(e.constant())},ql.apply(e,arguments)}function uG(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PUe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OUe(e){return e<0?-e*e:e*e}function T6(e){var t=e(Hi,Hi),r=1;function n(){return r===1?e(Hi,Hi):r===.5?e(PUe,OUe):e(uG(r),uG(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},rh(t)}function A6(){var e=T6(kk());return e.copy=function(){return i1(e,A6()).exponent(e.exponent())},ql.apply(e,arguments),e}function RUe(){return A6.apply(null,arguments).exponent(.5)}function dG(e){return Math.sign(e)*e*e}function DUe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dle(){var e=N6(),t=[0,1],r=!1,n;function a(i){var o=DUe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(dG(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,pS)).map(dG)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dle(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ql.apply(a,arguments),rh(a)}function fle(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=$9e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[s1(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bf),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return fle().domain(e).range(t).unknown(n)},ql.apply(i,arguments)}function hle(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[s1(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return hle().domain([e,t]).range(a).unknown(i)},ql.apply(rh(o),arguments)}function mle(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[s1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return mle().domain(e).range(t).unknown(r)},ql.apply(a,arguments)}const mO=new Date,pO=new Date;function ka(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ka(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(mO.setTime(+i),pO.setTime(+o),e(mO),e(pO),Math.floor(r(mO,pO))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const vS=ka(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ka(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vS);vS.range;const $u=1e3,Pl=$u*60,Bu=Pl*60,rd=Bu*24,P6=rd*7,fG=rd*30,gO=rd*365,Yh=ka(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$u)},(e,t)=>(t-e)/$u,e=>e.getUTCSeconds());Yh.range;const O6=ka(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$u)},(e,t)=>{e.setTime(+e+t*Pl)},(e,t)=>(t-e)/Pl,e=>e.getMinutes());O6.range;const R6=ka(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pl)},(e,t)=>(t-e)/Pl,e=>e.getUTCMinutes());R6.range;const D6=ka(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$u-e.getMinutes()*Pl)},(e,t)=>{e.setTime(+e+t*Bu)},(e,t)=>(t-e)/Bu,e=>e.getHours());D6.range;const I6=ka(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bu)},(e,t)=>(t-e)/Bu,e=>e.getUTCHours());I6.range;const o1=ka(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pl)/rd,e=>e.getDate()-1);o1.range;const Ck=ka(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rd,e=>e.getUTCDate()-1);Ck.range;const ple=ka(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rd,e=>Math.floor(e/rd));ple.range;function gp(e){return ka(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pl)/P6)}const Ek=gp(0),yS=gp(1),IUe=gp(2),MUe=gp(3),R0=gp(4),FUe=gp(5),LUe=gp(6);Ek.range;yS.range;IUe.range;MUe.range;R0.range;FUe.range;LUe.range;function xp(e){return ka(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/P6)}const Tk=xp(0),bS=xp(1),$Ue=xp(2),BUe=xp(3),D0=xp(4),UUe=xp(5),VUe=xp(6);Tk.range;bS.range;$Ue.range;BUe.range;D0.range;UUe.range;VUe.range;const M6=ka(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());M6.range;const F6=ka(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());F6.range;const nd=ka(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ka(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});nd.range;const sd=ka(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ka(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});sd.range;function gle(e,t,r,n,a,i){const o=[[Yh,1,$u],[Yh,5,5*$u],[Yh,15,15*$u],[Yh,30,30*$u],[i,1,Pl],[i,5,5*Pl],[i,15,15*Pl],[i,30,30*Pl],[a,1,Bu],[a,3,3*Bu],[a,6,6*Bu],[a,12,12*Bu],[n,1,rd],[n,2,2*rd],[r,1,P6],[t,1,fG],[t,3,3*fG],[e,1,gO]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,p=y6(([,,v])=>v).right(o,m);if(p===o.length)return e.every(B3(u/gO,d/gO,f));if(p===0)return vS.every(Math.max(B3(u,d,f),1));const[y,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(g)}return[l,c]}const[zUe,qUe]=gle(sd,F6,Tk,ple,I6,R6),[WUe,HUe]=gle(nd,M6,Ek,o1,D6,O6);function xO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GUe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Nv(a),d=Sv(a),f=Nv(i),m=Sv(i),p=Nv(o),y=Sv(o),g=Nv(l),v=Sv(l),w=Nv(c),b=Sv(c),j={a:H,A:G,b:I,B:U,c:null,d:vG,e:vG,f:g7e,g:k7e,G:E7e,H:h7e,I:m7e,j:p7e,L:xle,m:x7e,M:v7e,p:X,q:z,Q:wG,s:_G,S:y7e,u:b7e,U:w7e,V:_7e,w:j7e,W:N7e,x:null,X:null,y:S7e,Y:C7e,Z:T7e,"%":bG},E={a:Z,A:J,b:Q,B:de,c:null,d:yG,e:yG,f:R7e,g:z7e,G:W7e,H:A7e,I:P7e,j:O7e,L:yle,m:D7e,M:I7e,p:fe,q:pe,Q:wG,s:_G,S:M7e,u:F7e,U:L7e,V:$7e,w:B7e,W:U7e,x:null,X:null,y:V7e,Y:q7e,Z:H7e,"%":bG},S={a:P,A,b:R,B:F,c:L,d:gG,e:gG,f:c7e,g:pG,G:mG,H:xG,I:xG,j:a7e,L:l7e,m:s7e,M:i7e,p:O,q:n7e,Q:d7e,s:f7e,S:o7e,u:ZUe,U:QUe,V:e7e,w:JUe,W:t7e,x:W,X:V,y:pG,Y:mG,Z:r7e,"%":u7e};j.x=C(r,j),j.X=C(n,j),j.c=C(t,j),E.x=C(r,E),E.X=C(n,E),E.c=C(t,E);function C(K,ee){return function(se){var B=[],ie=-1,ae=0,Ne=K.length,Ee,ue,qe;for(se instanceof Date||(se=new Date(+se));++ie<Ne;)K.charCodeAt(ie)===37&&(B.push(K.slice(ae,ie)),(ue=hG[Ee=K.charAt(++ie)])!=null?Ee=K.charAt(++ie):ue=Ee==="e"?" ":"0",(qe=ee[Ee])&&(Ee=qe(se,ue)),B.push(Ee),ae=ie+1);return B.push(K.slice(ae,ie)),B.join("")}}function k(K,ee){return function(se){var B=jv(1900,void 0,1),ie=D(B,K,se+="",0),ae,Ne;if(ie!=se.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(ee&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ae=vO(jv(B.y,0,1)),Ne=ae.getUTCDay(),ae=Ne>4||Ne===0?bS.ceil(ae):bS(ae),ae=Ck.offset(ae,(B.V-1)*7),B.y=ae.getUTCFullYear(),B.m=ae.getUTCMonth(),B.d=ae.getUTCDate()+(B.w+6)%7):(ae=xO(jv(B.y,0,1)),Ne=ae.getDay(),ae=Ne>4||Ne===0?yS.ceil(ae):yS(ae),ae=o1.offset(ae,(B.V-1)*7),B.y=ae.getFullYear(),B.m=ae.getMonth(),B.d=ae.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Ne="Z"in B?vO(jv(B.y,0,1)).getUTCDay():xO(jv(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Ne+5)%7:B.w+B.U*7-(Ne+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,vO(B)):xO(B)}}function D(K,ee,se,B){for(var ie=0,ae=ee.length,Ne=se.length,Ee,ue;ie<ae;){if(B>=Ne)return-1;if(Ee=ee.charCodeAt(ie++),Ee===37){if(Ee=ee.charAt(ie++),ue=S[Ee in hG?ee.charAt(ie++):Ee],!ue||(B=ue(K,se,B))<0)return-1}else if(Ee!=se.charCodeAt(B++))return-1}return B}function O(K,ee,se){var B=u.exec(ee.slice(se));return B?(K.p=d.get(B[0].toLowerCase()),se+B[0].length):-1}function P(K,ee,se){var B=p.exec(ee.slice(se));return B?(K.w=y.get(B[0].toLowerCase()),se+B[0].length):-1}function A(K,ee,se){var B=f.exec(ee.slice(se));return B?(K.w=m.get(B[0].toLowerCase()),se+B[0].length):-1}function R(K,ee,se){var B=w.exec(ee.slice(se));return B?(K.m=b.get(B[0].toLowerCase()),se+B[0].length):-1}function F(K,ee,se){var B=g.exec(ee.slice(se));return B?(K.m=v.get(B[0].toLowerCase()),se+B[0].length):-1}function L(K,ee,se){return D(K,t,ee,se)}function W(K,ee,se){return D(K,r,ee,se)}function V(K,ee,se){return D(K,n,ee,se)}function H(K){return o[K.getDay()]}function G(K){return i[K.getDay()]}function I(K){return c[K.getMonth()]}function U(K){return l[K.getMonth()]}function X(K){return a[+(K.getHours()>=12)]}function z(K){return 1+~~(K.getMonth()/3)}function Z(K){return o[K.getUTCDay()]}function J(K){return i[K.getUTCDay()]}function Q(K){return c[K.getUTCMonth()]}function de(K){return l[K.getUTCMonth()]}function fe(K){return a[+(K.getUTCHours()>=12)]}function pe(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ee=C(K+="",j);return ee.toString=function(){return K},ee},parse:function(K){var ee=k(K+="",!1);return ee.toString=function(){return K},ee},utcFormat:function(K){var ee=C(K+="",E);return ee.toString=function(){return K},ee},utcParse:function(K){var ee=k(K+="",!0);return ee.toString=function(){return K},ee}}}var hG={"-":"",_:" ",0:"0"},qa=/^\s*\d+/,KUe=/^%/,YUe=/[\\^$*+?|[\]().{}]/g;function hn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function XUe(e){return e.replace(YUe,"\\$&")}function Nv(e){return new RegExp("^(?:"+e.map(XUe).join("|")+")","i")}function Sv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function JUe(e,t,r){var n=qa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ZUe(e,t,r){var n=qa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function QUe(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function e7e(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function t7e(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mG(e,t,r){var n=qa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pG(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function r7e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function n7e(e,t,r){var n=qa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function s7e(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gG(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function a7e(e,t,r){var n=qa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function xG(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function i7e(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function o7e(e,t,r){var n=qa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function l7e(e,t,r){var n=qa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function c7e(e,t,r){var n=qa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u7e(e,t,r){var n=KUe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function d7e(e,t,r){var n=qa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function f7e(e,t,r){var n=qa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function vG(e,t){return hn(e.getDate(),t,2)}function h7e(e,t){return hn(e.getHours(),t,2)}function m7e(e,t){return hn(e.getHours()%12||12,t,2)}function p7e(e,t){return hn(1+o1.count(nd(e),e),t,3)}function xle(e,t){return hn(e.getMilliseconds(),t,3)}function g7e(e,t){return xle(e,t)+"000"}function x7e(e,t){return hn(e.getMonth()+1,t,2)}function v7e(e,t){return hn(e.getMinutes(),t,2)}function y7e(e,t){return hn(e.getSeconds(),t,2)}function b7e(e){var t=e.getDay();return t===0?7:t}function w7e(e,t){return hn(Ek.count(nd(e)-1,e),t,2)}function vle(e){var t=e.getDay();return t>=4||t===0?R0(e):R0.ceil(e)}function _7e(e,t){return e=vle(e),hn(R0.count(nd(e),e)+(nd(e).getDay()===4),t,2)}function j7e(e){return e.getDay()}function N7e(e,t){return hn(yS.count(nd(e)-1,e),t,2)}function S7e(e,t){return hn(e.getFullYear()%100,t,2)}function k7e(e,t){return e=vle(e),hn(e.getFullYear()%100,t,2)}function C7e(e,t){return hn(e.getFullYear()%1e4,t,4)}function E7e(e,t){var r=e.getDay();return e=r>=4||r===0?R0(e):R0.ceil(e),hn(e.getFullYear()%1e4,t,4)}function T7e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hn(t/60|0,"0",2)+hn(t%60,"0",2)}function yG(e,t){return hn(e.getUTCDate(),t,2)}function A7e(e,t){return hn(e.getUTCHours(),t,2)}function P7e(e,t){return hn(e.getUTCHours()%12||12,t,2)}function O7e(e,t){return hn(1+Ck.count(sd(e),e),t,3)}function yle(e,t){return hn(e.getUTCMilliseconds(),t,3)}function R7e(e,t){return yle(e,t)+"000"}function D7e(e,t){return hn(e.getUTCMonth()+1,t,2)}function I7e(e,t){return hn(e.getUTCMinutes(),t,2)}function M7e(e,t){return hn(e.getUTCSeconds(),t,2)}function F7e(e){var t=e.getUTCDay();return t===0?7:t}function L7e(e,t){return hn(Tk.count(sd(e)-1,e),t,2)}function ble(e){var t=e.getUTCDay();return t>=4||t===0?D0(e):D0.ceil(e)}function $7e(e,t){return e=ble(e),hn(D0.count(sd(e),e)+(sd(e).getUTCDay()===4),t,2)}function B7e(e){return e.getUTCDay()}function U7e(e,t){return hn(bS.count(sd(e)-1,e),t,2)}function V7e(e,t){return hn(e.getUTCFullYear()%100,t,2)}function z7e(e,t){return e=ble(e),hn(e.getUTCFullYear()%100,t,2)}function q7e(e,t){return hn(e.getUTCFullYear()%1e4,t,4)}function W7e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?D0(e):D0.ceil(e),hn(e.getUTCFullYear()%1e4,t,4)}function H7e(){return"+0000"}function bG(){return"%"}function wG(e){return+e}function _G(e){return Math.floor(+e/1e3)}var ug,wle,_le;G7e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G7e(e){return ug=GUe(e),wle=ug.format,ug.parse,_le=ug.utcFormat,ug.utcParse,ug}function K7e(e){return new Date(e)}function Y7e(e){return e instanceof Date?+e:+new Date(+e)}function L6(e,t,r,n,a,i,o,l,c,u){var d=N6(),f=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),b=u("%b %d"),j=u("%B"),E=u("%Y");function S(C){return(c(C)<C?p:l(C)<C?y:o(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?w:b:r(C)<C?j:E)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,Y7e)):m().map(K7e)},d.ticks=function(C){var k=m();return e(k[0],k[k.length-1],C??10)},d.tickFormat=function(C,k){return k==null?S:u(k)},d.nice=function(C){var k=m();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?m(lle(k,C)):d},d.copy=function(){return i1(d,L6(e,t,r,n,a,i,o,l,c,u))},d}function X7e(){return ql.apply(L6(WUe,HUe,nd,M6,Ek,o1,D6,O6,Yh,wle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J7e(){return ql.apply(L6(zUe,qUe,sd,F6,Tk,Ck,I6,R6,Yh,_le).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ak(){var e=0,t=1,r,n,a,i,o=Hi,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var p,y;return arguments.length?([p,y]=m,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(jx),u.rangeRound=d(j6),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function nh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jle(){var e=rh(Ak()(Hi));return e.copy=function(){return nh(e,jle())},xd.apply(e,arguments)}function Nle(){var e=C6(Ak()).domain([1,10]);return e.copy=function(){return nh(e,Nle()).base(e.base())},xd.apply(e,arguments)}function Sle(){var e=E6(Ak());return e.copy=function(){return nh(e,Sle()).constant(e.constant())},xd.apply(e,arguments)}function $6(){var e=T6(Ak());return e.copy=function(){return nh(e,$6()).exponent(e.exponent())},xd.apply(e,arguments)}function Z7e(){return $6.apply(null,arguments).exponent(.5)}function kle(){var e=[],t=Hi;function r(n){if(n!=null&&!isNaN(n=+n))return t((s1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>L9e(e,i/n))},r.copy=function(){return kle(t).domain(e)},xd.apply(r,arguments)}function Pk(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Hi,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var w,b,j;return arguments.length?([w,b,j]=v,u=uUe(g,[w,b,j]),p):[u(0),u(.5),u(1)]}}return p.range=y(jx),p.rangeRound=y(j6),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function Cle(){var e=rh(Pk()(Hi));return e.copy=function(){return nh(e,Cle())},xd.apply(e,arguments)}function Ele(){var e=C6(Pk()).domain([.1,1,10]);return e.copy=function(){return nh(e,Ele()).base(e.base())},xd.apply(e,arguments)}function Tle(){var e=E6(Pk());return e.copy=function(){return nh(e,Tle()).constant(e.constant())},xd.apply(e,arguments)}function B6(){var e=T6(Pk());return e.copy=function(){return nh(e,B6()).exponent(e.exponent())},xd.apply(e,arguments)}function Q7e(){return B6.apply(null,arguments).exponent(.5)}const jG=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mb,scaleDiverging:Cle,scaleDivergingLog:Ele,scaleDivergingPow:B6,scaleDivergingSqrt:Q7e,scaleDivergingSymlog:Tle,scaleIdentity:ole,scaleImplicit:U3,scaleLinear:xS,scaleLog:cle,scaleOrdinal:b6,scalePoint:Ry,scalePow:A6,scaleQuantile:fle,scaleQuantize:hle,scaleRadial:dle,scaleSequential:jle,scaleSequentialLog:Nle,scaleSequentialPow:$6,scaleSequentialQuantile:kle,scaleSequentialSqrt:Z7e,scaleSequentialSymlog:Sle,scaleSqrt:RUe,scaleSymlog:ule,scaleThreshold:mle,scaleTime:X7e,scaleUtc:J7e,tickFormat:ile},Symbol.toStringTag,{value:"Module"}));var yO,NG;function Ok(){if(NG)return yO;NG=1;var e=yx();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return yO=t,yO}var bO,SG;function Ale(){if(SG)return bO;SG=1;function e(t,r){return t>r}return bO=e,bO}var wO,kG;function eVe(){if(kG)return wO;kG=1;var e=Ok(),t=Ale(),r=_x();function n(a){return a&&a.length?e(a,r,t):void 0}return wO=n,wO}var tVe=eVe();const Rk=tn(tVe);var _O,CG;function Ple(){if(CG)return _O;CG=1;function e(t,r){return t<r}return _O=e,_O}var jO,EG;function rVe(){if(EG)return jO;EG=1;var e=Ok(),t=Ple(),r=_x();function n(a){return a&&a.length?e(a,r,t):void 0}return jO=n,jO}var nVe=rVe();const Dk=tn(nVe);var NO,TG;function sVe(){if(TG)return NO;TG=1;var e=r6(),t=xu(),r=$oe(),n=jo();function a(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return NO=a,NO}var SO,AG;function aVe(){if(AG)return SO;AG=1;var e=Foe(),t=sVe();function r(n,a){return e(t(n,a),1)}return SO=r,SO}var iVe=aVe();const oVe=tn(iVe);var kO,PG;function lVe(){if(PG)return kO;PG=1;var e=p6();function t(r,n){return e(r,n)}return kO=t,kO}var cVe=lVe();const l1=tn(cVe);var Nx=1e9,uVe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V6,cs=!0,Ul="[DecimalError] ",mm=Ul+"Invalid argument: ",U6=Ul+"Exponent out of range: ",Sx=Math.floor,Rh=Math.pow,dVe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ho,Ia=1e7,es=7,Ole=9007199254740991,wS=Sx(Ole/es),Bt={};Bt.absoluteValue=Bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Bt.comparedTo=Bt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*es;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Bt.dividedBy=Bt.div=function(e){return Ku(this,new this.constructor(e))};Bt.dividedToIntegerBy=Bt.idiv=function(e){var t=this,r=t.constructor;return Bn(Ku(t,new r(e),0,1),r.precision)};Bt.equals=Bt.eq=function(e){return!this.cmp(e)};Bt.exponent=function(){return la(this)};Bt.greaterThan=Bt.gt=function(e){return this.cmp(e)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(e){return this.cmp(e)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(e){return this.cmp(e)<0};Bt.lessThanOrEqualTo=Bt.lte=function(e){return this.cmp(e)<1};Bt.logarithm=Bt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ho))throw Error(Ul+"NaN");if(r.s<1)throw Error(Ul+(r.s?"NaN":"-Infinity"));return r.eq(Ho)?new n(0):(cs=!1,t=Ku(Ub(r,i),Ub(e,i),i),cs=!0,Bn(t,a))};Bt.minus=Bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ile(t,e):Rle(t,(e.s=-e.s,e))};Bt.modulo=Bt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ul+"NaN");return r.s?(cs=!1,t=Ku(r,e,0,1).times(e),cs=!0,r.minus(t)):Bn(new n(r),a)};Bt.naturalExponential=Bt.exp=function(){return Dle(this)};Bt.naturalLogarithm=Bt.ln=function(){return Ub(this)};Bt.negated=Bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Bt.plus=Bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Rle(t,e):Ile(t,(e.s=-e.s,e))};Bt.precision=Bt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mm+e);if(t=la(a)+1,n=a.d.length-1,r=n*es+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Bt.squareRoot=Bt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ul+"NaN")}for(e=la(l),cs=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Gc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Sx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ku(l,i,o+2)).times(.5),Gc(i.d).slice(0,o)===(t=Gc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Bn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return cs=!0,Bn(n,r)};Bt.times=Bt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(i=m,m=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*m[a-n-1]+t,i[a--]=l%Ia|0,t=l/Ia|0;i[a]=(i[a]+t)%Ia|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cs?Bn(e,f.precision):e};Bt.toDecimalPlaces=Bt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ou(e,0,Nx),t===void 0?t=n.rounding:ou(t,0,8),Bn(r,e+la(r)+1,t))};Bt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Km(n,!0):(ou(e,0,Nx),t===void 0?t=a.rounding:ou(t,0,8),n=Bn(new a(n),e+1,t),r=Km(n,!0,e+1)),r};Bt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Km(a):(ou(e,0,Nx),t===void 0?t=i.rounding:ou(t,0,8),n=Bn(new i(a),e+la(a)+1,t),r=Km(n.abs(),!1,e+la(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Bt.toInteger=Bt.toint=function(){var e=this,t=e.constructor;return Bn(new t(e),la(e)+1,t.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ho);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ul+"Infinity");return l}if(l.eq(Ho))return l;if(n=c.precision,e.eq(Ho))return Bn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Ole){for(a=new c(Ho),t=Math.ceil(n/es+4),cs=!1;r%2&&(a=a.times(l),RG(a.d,t)),r=Sx(r/2),r!==0;)l=l.times(l),RG(l.d,t);return cs=!0,e.s<0?new c(Ho).div(a):Bn(a,n)}}else if(i<0)throw Error(Ul+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cs=!1,a=e.times(Ub(l,n+u)),cs=!0,a=Dle(a),a.s=i,a};Bt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=la(a),n=Km(a,r<=i.toExpNeg||r>=i.toExpPos)):(ou(e,1,Nx),t===void 0?t=i.rounding:ou(t,0,8),a=Bn(new i(a),e,t),r=la(a),n=Km(a,e<=r||r<=i.toExpNeg,e)),n};Bt.toSignificantDigits=Bt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ou(e,1,Nx),t===void 0?t=n.rounding:ou(t,0,8)),Bn(new n(r),e,t)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=la(e),r=e.constructor;return Km(e,t<=r.toExpNeg||t>=r.toExpPos)};function Rle(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cs?Bn(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/es),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ia|0,c[i]%=Ia;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,cs?Bn(t,f):t}function ou(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mm+e)}function Gc(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=es-n.length,r&&(i+=Yd(r)),i+=n;o=e[t],n=o+"",r=es-n.length,r&&(i+=Yd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ku=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Ia|0,o=i/Ia|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Ia+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,p,y,g,v,w,b,j,E,S,C,k,D,O=n.constructor,P=n.s==a.s?1:-1,A=n.d,R=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Ul+"Division by zero");for(c=n.e-a.e,k=R.length,S=A.length,p=new O(P),y=p.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,i==null?b=i=O.precision:o?b=i+(la(n)-la(a))+1:b=i,b<0)return new O(0);if(b=b/es+2|0,u=0,k==1)for(d=0,R=R[0],b++;(u<S||d)&&b--;u++)j=d*Ia+(A[u]||0),y[u]=j/R|0,d=j%R|0;else{for(d=Ia/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),k=R.length,S=A.length),E=k,g=A.slice(0,k),v=g.length;v<k;)g[v++]=0;D=R.slice(),D.unshift(0),C=R[0],R[1]>=Ia/2&&++C;do d=0,l=t(R,g,k,v),l<0?(w=g[0],k!=v&&(w=w*Ia+(g[1]||0)),d=w/C|0,d>1?(d>=Ia&&(d=Ia-1),f=e(R,d),m=f.length,v=g.length,l=t(f,g,m,v),l==1&&(d--,r(f,k<m?D:R,m))):(d==0&&(l=d=1),f=R.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(R,g,k,v),l<1&&(d++,r(g,k<v?D:R,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=A[E]||0:(g=[A[E]],v=1);while((E++<S||g[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=c,Bn(p,o?i+la(p)+1:i)}})();function Dle(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(la(e)>16)throw Error(U6+la(e));if(!e.s)return new d(Ho);for(cs=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Rh(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Ho),d.precision=l;;){if(a=Bn(a.times(e),l),r=r.times(++c),o=i.plus(Ku(a,r,l)),Gc(o.d).slice(0,l)===Gc(i.d).slice(0,l)){for(;u--;)i=Bn(i.times(i),l);return d.precision=f,t==null?(cs=!0,Bn(i,f)):i}i=o}}function la(e){for(var t=e.e*es,r=e.d[0];r>=10;r/=10)t++;return t}function CO(e,t,r){if(t>e.LN10.sd())throw cs=!0,r&&(e.precision=r),Error(Ul+"LN10 precision limit exceeded");return Bn(new e(e.LN10),t)}function Yd(e){for(var t="";e--;)t+="0";return t}function Ub(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,p=e,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ul+(p.s?"NaN":"-Infinity"));if(p.eq(Ho))return new g(0);if(t==null?(cs=!1,u=v):u=t,p.eq(10))return t==null&&(cs=!0),CO(g,u);if(u+=m,g.precision=u,r=Gc(y),n=r.charAt(0),i=la(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Gc(p.d),n=r.charAt(0),f++;i=la(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=CO(g,u+2,v).times(i+""),p=Ub(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,t==null?(cs=!0,Bn(p,v)):p;for(l=o=p=Ku(p.minus(Ho),p.plus(Ho),u),d=Bn(p.times(p),u),a=3;;){if(o=Bn(o.times(d),u),c=l.plus(Ku(o,new g(a),u)),Gc(c.d).slice(0,u)===Gc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(CO(g,u+2,v).times(i+""))),l=Ku(l,new g(f),u),g.precision=v,t==null?(cs=!0,Bn(l,v)):l;l=c,a+=2}}function OG(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Sx(r/es),e.d=[],n=(r+1)%es,r<0&&(n+=es),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=es;n<a;)e.d.push(+t.slice(n,n+=es));t=t.slice(n),n=es-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),cs&&(e.e>wS||e.e<-wS))throw Error(U6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bn(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=es,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/es),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=es,a=n-es+o}if(r!==void 0&&(i=Rh(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Rh(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=la(e),f.length=1,t=t-i-1,f[0]=Rh(10,(es-t%es)%es),e.e=Sx(-t/es)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Rh(10,es-n),f[d]=a>0?(u/Rh(10,o-a)%Rh(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ia&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ia)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(cs&&(e.e>wS||e.e<-wS))throw Error(U6+la(e));return e}function Ile(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),cs?Bn(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/es),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ia-1;--c[i],c[a]+=Ia}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,cs?Bn(t,p):t):new m(0)}function Km(e,t,r){var n,a=la(e),i=Gc(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Yd(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Yd(-a-1)+i,r&&(n=r-o)>0&&(i+=Yd(n))):a>=o?(i+=Yd(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Yd(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Yd(n))),e.s<0?"-"+i:i}function RG(e,t){if(e.length>t)return e.length=t,!0}function Mle(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return OG(o,i.toString())}else if(typeof i!="string")throw Error(mm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dVe.test(i))OG(o,i);else throw Error(mm+i)}if(a.prototype=Bt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Mle,a.config=a.set=fVe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fVe(e){if(!e||typeof e!="object")throw Error(Ul+"Object expected");var t,r,n,a=["precision",1,Nx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Sx(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mm+r+": "+n);return this}var V6=Mle(uVe);Ho=new V6(1);const Pn=V6;function hVe(e){return xVe(e)||gVe(e)||pVe(e)||mVe()}function mVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pVe(e,t){if(e){if(typeof e=="string")return W3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(e,t)}}function gVe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xVe(e){if(Array.isArray(e))return W3(e)}function W3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vVe=function(t){return t},Fle={},Lle=function(t){return t===Fle},DG=function(t){return function r(){return arguments.length===0||arguments.length===1&&Lle(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yVe=function e(t,r){return t===1?r:DG(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Fle}).length;return o>=t?r.apply(void 0,a):e(t-o,DG(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Lle(f)?c.shift():f});return r.apply(void 0,hVe(d).concat(c))}))})},Ik=function(t){return yVe(t.length,t)},H3=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},bVe=Ik(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wVe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vVe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},G3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$le=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function _Ve(e){var t;return e===0?t=1:t=Math.floor(new Pn(e).abs().log(10).toNumber())+1,t}function jVe(e,t,r){for(var n=new Pn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var NVe=Ik(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),SVe=Ik(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),kVe=Ik(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Mk={rangeStep:jVe,getDigitCount:_Ve,interpolateNumber:NVe,uninterpolateNumber:SVe,uninterpolateTruncation:kVe};function K3(e){return TVe(e)||EVe(e)||Ble(e)||CVe()}function CVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EVe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function TVe(e){if(Array.isArray(e))return Y3(e)}function Vb(e,t){return OVe(e)||PVe(e,t)||Ble(e,t)||AVe()}function AVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(e,t){if(e){if(typeof e=="string")return Y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(e,t)}}function Y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PVe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function OVe(e){if(Array.isArray(e))return e}function Ule(e){var t=Vb(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Vle(e,t,r){if(e.lte(0))return new Pn(0);var n=Mk.getDigitCount(e.toNumber()),a=new Pn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Pn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Pn(Math.ceil(c))}function RVe(e,t,r){var n=1,a=new Pn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pn(10).pow(Mk.getDigitCount(e)-1),a=new Pn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pn(Math.floor(e)))}else e===0?a=new Pn(Math.floor((t-1)/2)):r||(a=new Pn(Math.floor(e)));var o=Math.floor((t-1)/2),l=wVe(bVe(function(c){return a.add(new Pn(c-o).mul(n)).toNumber()}),H3);return l(0,t)}function zle(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var i=Vle(new Pn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Pn(0):(o=new Pn(e).add(t).div(2),o=o.sub(new Pn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Pn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?zle(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Pn(l).mul(i)),tickMax:o.add(new Pn(c).mul(i))})}function DVe(e){var t=Vb(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Ule([r,n]),c=Vb(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(K3(H3(0,a-1).map(function(){return 1/0}))):[].concat(K3(H3(0,a-1).map(function(){return-1/0})),[d]);return r>n?G3(f):f}if(u===d)return RVe(u,a,i);var m=zle(u,d,o,i),p=m.step,y=m.tickMin,g=m.tickMax,v=Mk.rangeStep(y,g.add(new Pn(.1).mul(p)),p);return r>n?G3(v):v}function IVe(e,t){var r=Vb(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Ule([n,a]),l=Vb(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=Vle(new Pn(u).sub(c).div(d-1),i,0),m=[].concat(K3(Mk.rangeStep(new Pn(c),new Pn(u).sub(new Pn(.99).mul(f)),f)),[u]);return n>a?G3(m):m}var MVe=$le(DVe),FVe=$le(IVe),LVe="Invariant failed";function Ym(e,t){throw new Error(LVe)}var $Ve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function BVe(e,t){return qVe(e)||zVe(e,t)||VVe(e,t)||UVe()}function UVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VVe(e,t){if(e){if(typeof e=="string")return IG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IG(e,t)}}function IG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qVe(e){if(Array.isArray(e))return e}function WVe(e,t){if(e==null)return{};var r=HVe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hle(n.key),n)}}function YVe(e,t,r){return t&&KVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XVe(e,t,r){return t=jS(t),JVe(e,qle()?Reflect.construct(t,r||[],jS(e).constructor):t.apply(e,r))}function JVe(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZVe(e)}function ZVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qle=function(){return!!e})()}function jS(e){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jS(e)}function QVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X3(e,t)}function X3(e,t){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X3(e,t)}function Wle(e,t,r){return t=Hle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hle(e){var t=eze(e,"string");return I0(t)=="symbol"?t:t+""}function eze(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c1=(function(e){function t(){return GVe(this,t),XVe(this,t,arguments)}return QVe(t,e),YVe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=WVe(n,$Ve),p=ir(m,!1);this.props.direction==="x"&&d.type!=="number"&&Ym();var y=c.map(function(g){var v=u(g,l),w=v.x,b=v.y,j=v.value,E=v.errorVal;if(!E)return null;var S=[],C,k;if(Array.isArray(E)){var D=BVe(E,2);C=D[0],k=D[1]}else C=k=E;if(i==="vertical"){var O=d.scale,P=b+a,A=P+o,R=P-o,F=O(j-C),L=O(j+k);S.push({x1:L,y1:A,x2:L,y2:R}),S.push({x1:F,y1:P,x2:L,y2:P}),S.push({x1:F,y1:A,x2:F,y2:R})}else if(i==="horizontal"){var W=f.scale,V=w+a,H=V-o,G=V+o,I=W(j-C),U=W(j+k);S.push({x1:H,y1:U,x2:G,y2:U}),S.push({x1:V,y1:I,x2:V,y2:U}),S.push({x1:H,y1:I,x2:G,y2:I})}return ce.createElement(dn,_S({className:"recharts-errorBar",key:"bar-".concat(S.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),S.map(function(X){return ce.createElement("line",_S({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return ce.createElement(dn,{className:"recharts-errorBars"},y)}}])})(ce.Component);Wle(c1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Wle(c1,"displayName","ErrorBar");function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function MG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MG(Object(r),!0).forEach(function(n){tze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tze(e,t,r){return t=rze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rze(e){var t=nze(e,"string");return zb(t)=="symbol"?t:t+""}function nze(e,t){if(zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gle=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Do(r,yf);if(!o)return null;var l=yf.defaultProps,c=l!==void 0?jh(jh({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?jh(jh({},m),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,w=p.hide;return{inactive:w,dataKey:y,type:c.iconType||v||"square",color:z6(f),value:g||y,payload:p}}),jh(jh(jh({},c),yf.getWithHeight(o,a)),{},{payload:u,item:o})};function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function FG(e){return oze(e)||ize(e)||aze(e)||sze()}function sze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aze(e,t){if(e){if(typeof e=="string")return J3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(e,t)}}function ize(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oze(e){if(Array.isArray(e))return J3(e)}function J3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LG(Object(r),!0).forEach(function(n){s0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s0(e,t,r){return t=lze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lze(e){var t=cze(e,"string");return qb(t)=="symbol"?t:t+""}function cze(e,t){if(qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(e,t,r){return Ar(e)||Ar(t)?r:ja(t)?Zo(e,t,r):_r(t)?t(e):r}function Dy(e,t,r,n){var a=oVe(e,function(l){return _a(l,t)});if(r==="number"){var i=a.filter(function(l){return Nt(l)||parseFloat(l)});return i.length?[Dk(i),Rk(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ar(l)}):a;return o.map(function(l){return ja(l)||l instanceof Date?l:""})}var uze=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(qi(f-d)!==qi(m-f)){var y=[];if(qi(m-f)===qi(c[1]-c[0])){p=m;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=m+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var b=Math.min(d,m),j=Math.max(d,m);if(t>(b+f)/2&&t<=(j+f)/2){o=a[u].index;break}}}else for(var E=0;E<l;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},z6=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?js(js({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},dze=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],g=y.items,v=y.cateAxisId,w=g.filter(function(k){return Gu(k.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,j=b!==void 0?js(js({},b),w[0].props):w[0].props,E=j.barSize,S=j[v];o[S]||(o[S]=[]);var C=Ar(E)?r:E;o[S].push({item:w[0],stackList:w.slice(1),barSize:Ar(C)?void 0:Wi(C,n,0)})}}return o},fze=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Wi(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=a/c,y=o.reduce(function(E,S){return E+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(m=!0,p*=.9,y=c*p);var g=(a-y)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(E,S){var C={item:S.item,position:{offset:v.offset+v.size+u,size:m?p:S.barSize}},k=[].concat(FG(E),[C]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(D){k.push({item:D,position:v})}),k},f)}else{var w=Wi(n,a,0,!0);a-2*w-(c-1)*u<=0&&(u=0);var b=(a-2*w-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(E,S,C){var k=[].concat(FG(E),[{item:S.item,position:{offset:w+(b+u)*C+(b-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(D){k.push({item:D,position:k[k.length-1].position})}),k},f)}return d},hze=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Gle({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&Nt(t[p]))return js(js({},t),{},s0({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&Nt(t[y]))return js(js({},t),{},s0({},y,t[y]+(m||0)))}return t},mze=function(t,r,n){return Ar(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Kle=function(t,r,n,a,i){var o=r.props.children,l=Qo(o,c1).filter(function(u){return mze(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=_a(d,n);if(Ar(f))return u;var m=Array.isArray(f)?[Dk(f),Rk(f)]:[f,f],p=c.reduce(function(y,g){var v=_a(d,g,0),w=m[0]-Math.abs(Array.isArray(v)?v[0]:v),b=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},pze=function(t,r,n,a,i){var o=r.map(function(l){return Kle(t,l,n,i,a)}).filter(function(l){return!Ar(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Yle=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Kle(t,c,u,a)||Dy(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Xle=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Jle=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Uu=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?qi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!r1(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},EO=new WeakMap,hj=function(t,r){if(typeof r!="function")return t;EO.has(t)||EO.set(t,new WeakMap);var n=EO.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Zle=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mb(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xS(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ry(),realScaleType:"point"}:i==="category"?{scale:Mb(),realScaleType:"band"}:{scale:xS(),realScaleType:"linear"};if(Wm(a)){var c="scale".concat(vk(a));return{scale:(jG[c]||Ry)(),realScaleType:jG[c]?c:"point"}}return _r(a)?{scale:a}:{scale:Ry(),realScaleType:"point"}},$G=1e-4,Qle=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-$G,o=Math.max(a[0],a[1])+$G,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},gze=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xze=function(t,r){if(!r||r.length!==2||!Nt(r[0])||!Nt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Nt(t[0])||t[0]<n)&&(i[0]=n),(!Nt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},vze=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=r1(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},yze=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=r1(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},bze={sign:vze,expand:o8e,none:C0,silhouette:l8e,wiggle:c8e,positive:yze},wze=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=bze[n],o=i8e().keys(a).value(function(l,c){return+_a(l,c,0)}).order(C3).offset(i);return o(t)},_ze=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?js(js({},m.type.defaultProps),m.props):m.props,g=y.stackId,v=y.hide;if(v)return f;var w=y[n],b=f[w]||{hasStack:!1,stackGroups:{}};if(ja(g)){var j=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),b.hasStack=!0,b.stackGroups[g]=j}else b.stackGroups[wx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return js(js({},f),{},s0({},w,b))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var w=p.stackGroups[v];return js(js({},g),{},s0({},v,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:wze(t,w.items,i)}))},y)}return js(js({},f),{},s0({},m,p))},d)},ece=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=MVe(u,i,l);return t.domain([Dk(d),Rk(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),m=FVe(f,i,l);return{niceTicks:m}}return null};function BG(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ar(a[t.dataKey])){var l=QN(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_a(a,Ar(o)?t.dataKey:o);return Ar(c)?null:t.scale(c)}var UG=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=_a(o,r.dataKey,r.domain[l]);return Ar(c)?null:r.scale(c)-i/2+a},jze=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Nze=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?js(js({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ja(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Sze=function(t){return t.reduce(function(r,n){return[Dk(n.concat([r[0]]).filter(Nt)),Rk(n.concat([r[1]]).filter(Nt))]},[1/0,-1/0])},tce=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Sze(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z3=function(t,r,n){if(_r(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Nt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(VG.test(t[0])){var i=+VG.exec(t[0])[1];a[0]=r[0]-i}else _r(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Nt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(zG.test(t[1])){var o=+zG.exec(t[1])[1];a[1]=r[1]+o}else _r(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},NS=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=x6(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},qG=function(t,r,n){return!t||!t.length||l1(t,Zo(n,"type.defaultProps.domain"))?r:t},rce=function(t,r){var n=t.type.defaultProps?js(js({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return js(js({},ir(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:z6(t),value:_a(r,a),type:c,payload:r,chartType:u,hide:d})};function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}function WG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WG(Object(r),!0).forEach(function(n){nce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nce(e,t,r){return t=kze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kze(e){var t=Cze(e,"string");return Wb(t)=="symbol"?t:t+""}function Cze(e,t){if(Wb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eze(e,t){return Oze(e)||Pze(e,t)||Aze(e,t)||Tze()}function Tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aze(e,t){if(e){if(typeof e=="string")return HG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HG(e,t)}}function HG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Oze(e){if(Array.isArray(e))return e}var SS=Math.PI/180,Rze=function(t){return t*180/Math.PI},Yn=function(t,r,n,a){return{x:t+Math.cos(-SS*a)*n,y:r+Math.sin(-SS*a)*n}},sce=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Dze=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Wi(t.cx,o,o/2),f=Wi(t.cy,l,l/2),m=sce(o,l,n),p=Wi(t.innerRadius,m,0),y=Wi(t.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(v,w){var b=r[w],j=b.domain,E=b.reversed,S;if(Ar(b.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,y]),E&&(S=[S[1],S[0]]);else{S=b.range;var C=S,k=Eze(C,2);c=k[0],u=k[1]}var D=Zle(b,i),O=D.realScaleType,P=D.scale;P.domain(j).range(S),Qle(P);var A=ece(P,Ou(Ou({},b),{},{realScaleType:O})),R=Ou(Ou(Ou({},b),A),{},{range:S,radius:y,realScaleType:O,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Ou(Ou({},v),{},nce({},w,R))},{})},Ize=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Mze=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Ize({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Rze(u),angleInRadian:u}},Fze=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Lze=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},GG=function(t,r){var n=t.x,a=t.y,i=Mze({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Fze(r),f=d.startAngle,m=d.endAngle,p=l,y;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=f}return y?Ou(Ou({},r),{},{radius:o,angle:Lze(p,r)}):null},ace=function(t){return!_.isValidElement(t)&&!_r(t)&&typeof t!="boolean"?t.className:""};function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}var $ze=["offset"];function Bze(e){return qze(e)||zze(e)||Vze(e)||Uze()}function Uze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vze(e,t){if(e){if(typeof e=="string")return Q3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q3(e,t)}}function zze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qze(e){if(Array.isArray(e))return Q3(e)}function Q3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wze(e,t){if(e==null)return{};var r=Hze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KG(Object(r),!0).forEach(function(n){Gze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gze(e,t,r){return t=Kze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kze(e){var t=Yze(e,"string");return Hb(t)=="symbol"?t:t+""}function Yze(e,t){if(Hb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}var Xze=function(t){var r=t.value,n=t.formatter,a=Ar(t.children)?r:t.children;return _r(n)?n(a):a},Jze=function(t,r){var n=qi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Zze=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+m)/2,w=Jze(p,y),b=w>=0?1:-1,j,E;a==="insideStart"?(j=p+b*o,E=g):a==="insideEnd"?(j=y-b*o,E=!g):a==="end"&&(j=y+b*o,E=g),E=w<=0?E:!E;var S=Yn(u,d,v,j),C=Yn(u,d,v,j+(E?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),D=Ar(t.id)?wx("recharts-radial-line-"):t.id;return ce.createElement("text",Gb({},n,{dominantBaseline:"central",className:Or("recharts-radial-bar-label",l)}),ce.createElement("defs",null,ce.createElement("path",{id:D,d:k})),ce.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Qze=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var p=Yn(o,l,u+n,m),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=Yn(o,l,v,m),b=w.x,j=w.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},eqe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*a,w=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ma(ma({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var E={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return ma(ma({},E),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return ma(ma({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return ma(ma({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?ma({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideRight"?ma({x:l+u-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideTop"?ma({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?ma({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?ma({x:l+v,y:c+m,textAnchor:b,verticalAnchor:y},k):i==="insideTopRight"?ma({x:l+u-v,y:c+m,textAnchor:w,verticalAnchor:y},k):i==="insideBottomLeft"?ma({x:l+v,y:c+d-m,textAnchor:b,verticalAnchor:p},k):i==="insideBottomRight"?ma({x:l+u-v,y:c+d-m,textAnchor:w,verticalAnchor:p},k):bx(i)&&(Nt(i.x)||Gh(i.x))&&(Nt(i.y)||Gh(i.y))?ma({x:l+Wi(i.x,u),y:c+Wi(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):ma({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},tqe=function(t){return"cx"in t&&Nt(t.cx)};function La(e){var t=e.offset,r=t===void 0?5:t,n=Wze(e,$ze),a=ma({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Ar(l)&&Ar(c)&&!_.isValidElement(u)&&!_r(u))return null;if(_.isValidElement(u))return _.cloneElement(u,a);var p;if(_r(u)){if(p=_.createElement(u,a),_.isValidElement(p))return p}else p=Xze(a);var y=tqe(i),g=ir(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zze(a,p,g);var v=y?Qze(a):eqe(a);return ce.createElement(Gm,Gb({className:Or("recharts-label",f)},g,v,{breakAll:m}),p)}La.displayName="Label";var ice=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,p=t.top,y=t.left,g=t.width,v=t.height,w=t.clockWise,b=t.labelViewBox;if(b)return b;if(Nt(g)&&Nt(v)){if(Nt(f)&&Nt(m))return{x:f,y:m,width:g,height:v};if(Nt(p)&&Nt(y))return{x:p,y,width:g,height:v}}return Nt(f)&&Nt(m)?{x:f,y:m,width:0,height:0}:Nt(r)&&Nt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},rqe=function(t,r){return t?t===!0?ce.createElement(La,{key:"label-implicit",viewBox:r}):ja(t)?ce.createElement(La,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===La?_.cloneElement(t,{key:"label-implicit",viewBox:r}):ce.createElement(La,{key:"label-implicit",content:t,viewBox:r}):_r(t)?ce.createElement(La,{key:"label-implicit",content:t,viewBox:r}):bx(t)?ce.createElement(La,Gb({viewBox:r},t,{key:"label-implicit"})):null:null},nqe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=ice(t),o=Qo(a,La).map(function(c,u){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=rqe(t.label,r||i);return[l].concat(Bze(o))};La.parseViewBox=ice;La.renderCallByParent=nqe;var TO,YG;function sqe(){if(YG)return TO;YG=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return TO=e,TO}var aqe=sqe();const iqe=tn(aqe);function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}var oqe=["valueAccessor"],lqe=["data","dataKey","clockWise","id","textBreakAll"];function cqe(e){return hqe(e)||fqe(e)||dqe(e)||uqe()}function uqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dqe(e,t){if(e){if(typeof e=="string")return eI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(e,t)}}function fqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hqe(e){if(Array.isArray(e))return eI(e)}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function XG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XG(Object(r),!0).forEach(function(n){mqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mqe(e,t,r){return t=pqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pqe(e){var t=gqe(e,"string");return Kb(t)=="symbol"?t:t+""}function gqe(e,t){if(Kb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){if(e==null)return{};var r=xqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vqe=function(t){return Array.isArray(t.value)?iqe(t.value):t.value};function Yu(e){var t=e.valueAccessor,r=t===void 0?vqe:t,n=ZG(e,oqe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=ZG(n,lqe);return!a||!a.length?null:ce.createElement(dn,{className:"recharts-label-list"},a.map(function(d,f){var m=Ar(i)?r(d,f):_a(d&&d.payload,i),p=Ar(l)?{}:{id:"".concat(l,"-").concat(f)};return ce.createElement(La,kS({},ir(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:La.parseViewBox(Ar(o)?d:JG(JG({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Yu.displayName="LabelList";function yqe(e,t){return e?e===!0?ce.createElement(Yu,{key:"labelList-implicit",data:t}):ce.isValidElement(e)||_r(e)?ce.createElement(Yu,{key:"labelList-implicit",data:t,content:e}):bx(e)?ce.createElement(Yu,kS({data:t},e,{key:"labelList-implicit"})):null:null}function bqe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Qo(n,Yu).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=yqe(e.label,t);return[i].concat(cqe(a))}Yu.renderCallByParent=bqe;function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function tI(){return tI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tI.apply(this,arguments)}function QG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QG(Object(r),!0).forEach(function(n){wqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wqe(e,t,r){return t=_qe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _qe(e){var t=jqe(e,"string");return Yb(t)=="symbol"?t:t+""}function jqe(e,t){if(Yb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nqe=function(t,r){var n=qi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},mj=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/SS,m=u?i:i+o*f,p=Yn(r,n,d,m),y=Yn(r,n,a,m),g=u?i-o*f:i,v=Yn(r,n,d*Math.cos(f*SS),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},oce=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Nqe(o,l),u=o+c,d=Yn(r,n,i,o),f=Yn(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Yn(r,n,a,o),y=Yn(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},Sqe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=qi(d-u),m=mj({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,g=m.theta,v=mj({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),w=v.circleTangency,b=v.lineTangency,j=v.theta,E=c?Math.abs(u-d):Math.abs(u-d)-g-j;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):oce({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var C=mj({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=C.circleTangency,D=C.lineTangency,O=C.theta,P=mj({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,R=P.lineTangency,F=P.theta,L=c?Math.abs(u-d):Math.abs(u-d)-O-F;if(L<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},kqe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lce=function(t){var r=eK(eK({},kqe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var p=Or("recharts-sector",m),y=o-i,g=Wi(l,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Sqe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=oce({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),ce.createElement("path",tI({},ir(r,!0),{className:p,d:v,role:"img"}))};function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rI.apply(this,arguments)}function tK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(r),!0).forEach(function(n){Cqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cqe(e,t,r){return t=Eqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eqe(e){var t=Tqe(e,"string");return Xb(t)=="symbol"?t:t+""}function Tqe(e,t){if(Xb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nK={curveBasisClosed:YLe,curveBasisOpen:XLe,curveBasis:KLe,curveBumpX:DLe,curveBumpY:ILe,curveLinearClosed:JLe,curveLinear:bk,curveMonotoneX:ZLe,curveMonotoneY:QLe,curveNatural:e8e,curveStep:t8e,curveStepAfter:n8e,curveStepBefore:r8e},pj=function(t){return t.x===+t.x&&t.y===+t.y},kv=function(t){return t.x},Cv=function(t){return t.y},Aqe=function(t,r){if(_r(t))return t;var n="curve".concat(vk(t));return(n==="curveMonotone"||n==="curveBump")&&r?nK["".concat(n).concat(r==="vertical"?"Y":"X")]:nK[n]||bk},Pqe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Aqe(n,l),f=u?i.filter(function(g){return pj(g)}):i,m;if(Array.isArray(o)){var p=u?o.filter(function(g){return pj(g)}):o,y=f.map(function(g,v){return rK(rK({},g),{},{base:p[v]})});return l==="vertical"?m=ij().y(Cv).x1(kv).x0(function(g){return g.base.x}):m=ij().x(kv).y1(Cv).y0(function(g){return g.base.y}),m.defined(pj).curve(d),m(y)}return l==="vertical"&&Nt(o)?m=ij().y(Cv).x1(kv).x0(o):Nt(o)?m=ij().x(kv).y1(Cv).y0(o):m=ioe().x(kv).y(Cv),m.defined(pj).curve(d),m(f)},CS=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Pqe(t):a;return _.createElement("path",rI({},ir(t,!1),eS(t),{className:Or("recharts-curve",r),d:o,ref:i}))},AO={exports:{}},PO,sK;function Oqe(){if(sK)return PO;sK=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return PO=e,PO}var OO,aK;function Rqe(){if(aK)return OO;aK=1;var e=Oqe();function t(){}function r(){}return r.resetWarningCache=t,OO=function(){function n(o,l,c,u,d,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},OO}var iK;function Dqe(){return iK||(iK=1,AO.exports=Rqe()()),AO.exports}var Iqe=Dqe();const yn=tn(Iqe);var Mqe=Object.getOwnPropertyNames,Fqe=Object.getOwnPropertySymbols,Lqe=Object.prototype.hasOwnProperty;function oK(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function gj(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function lK(e){return Mqe(e).concat(Fqe(e))}var $qe=Object.hasOwn||(function(e,t){return Lqe.call(e,t)});function vp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Bqe="__v",Uqe="__o",Vqe="_owner",cK=Object.getOwnPropertyDescriptor,uK=Object.keys;function zqe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function qqe(e,t){return vp(e.getTime(),t.getTime())}function Wqe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Hqe(e,t){return e===t}function dK(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,p=l.value;if(r.equals(m[0],p[0],c,f,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Gqe=vp;function Kqe(e,t,r){var n=uK(e),a=n.length;if(uK(t).length!==a)return!1;for(;a-- >0;)if(!cce(e,t,r,n[a]))return!1;return!0}function Ev(e,t,r){var n=lK(e),a=n.length;if(lK(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!cce(e,t,r,i)||(o=cK(e,i),l=cK(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Yqe(e,t){return vp(e.valueOf(),t.valueOf())}function Xqe(e,t){return e.source===t.source&&e.flags===t.flags}function fK(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Jqe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Zqe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cce(e,t,r,n){return(n===Vqe||n===Uqe||n===Bqe)&&(e.$$typeof||t.$$typeof)?!0:$qe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Qqe="[object Arguments]",eWe="[object Boolean]",tWe="[object Date]",rWe="[object Error]",nWe="[object Map]",sWe="[object Number]",aWe="[object Object]",iWe="[object RegExp]",oWe="[object Set]",lWe="[object String]",cWe="[object URL]",uWe=Array.isArray,hK=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mK=Object.assign,dWe=Object.prototype.toString.call.bind(Object.prototype.toString);function fWe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var w=typeof y;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?o(y,g,v):w==="function"?a(y,g,v):!1;var b=y.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(y,g,v);if(uWe(y))return t(y,g,v);if(hK!=null&&hK(y))return f(y,g,v);if(b===Date)return r(y,g,v);if(b===RegExp)return u(y,g,v);if(b===Map)return i(y,g,v);if(b===Set)return d(y,g,v);var j=dWe(y);return j===tWe?r(y,g,v):j===iWe?u(y,g,v):j===nWe?i(y,g,v):j===oWe?d(y,g,v):j===aWe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):j===cWe?m(y,g,v):j===rWe?n(y,g,v):j===Qqe?l(y,g,v):j===eWe||j===sWe||j===lWe?c(y,g,v):!1}}function hWe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ev:zqe,areDatesEqual:qqe,areErrorsEqual:Wqe,areFunctionsEqual:Hqe,areMapsEqual:n?oK(dK,Ev):dK,areNumbersEqual:Gqe,areObjectsEqual:n?Ev:Kqe,arePrimitiveWrappersEqual:Yqe,areRegExpsEqual:Xqe,areSetsEqual:n?oK(fK,Ev):fK,areTypedArraysEqual:n?Ev:Jqe,areUrlsEqual:Zqe};if(r&&(a=mK({},a,r(a))),t){var i=gj(a.areArraysEqual),o=gj(a.areMapsEqual),l=gj(a.areObjectsEqual),c=gj(a.areSetsEqual);a=mK({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function mWe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function pWe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var gWe=sh();sh({strict:!0});sh({circular:!0});sh({circular:!0,strict:!0});sh({createInternalComparator:function(){return vp}});sh({strict:!0,createInternalComparator:function(){return vp}});sh({circular:!0,createInternalComparator:function(){return vp}});sh({circular:!0,createInternalComparator:function(){return vp},strict:!0});function sh(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=hWe(e),c=fWe(l),u=n?n(c):mWe(c);return pWe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function xWe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function pK(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):xWe(a)};requestAnimationFrame(n)}function nI(e){"@babel/helpers - typeof";return nI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nI(e)}function vWe(e){return _We(e)||wWe(e)||bWe(e)||yWe()}function yWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bWe(e,t){if(e){if(typeof e=="string")return gK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gK(e,t)}}function gK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _We(e){if(Array.isArray(e))return e}function jWe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=vWe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){pK(a.bind(null,u),c);return}a(c),pK(a.bind(null,u));return}nI(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function xK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xK(Object(r),!0).forEach(function(n){uce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uce(e,t,r){return t=NWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NWe(e){var t=SWe(e,"string");return Jb(t)==="symbol"?t:String(t)}function SWe(e,t){if(Jb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kWe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},CWe=function(t){return t},EWe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Iy=function(t,r){return Object.keys(r).reduce(function(n,a){return vK(vK({},n),{},uce({},a,t(a,r[a])))},{})},yK=function(t,r,n){return t.map(function(a){return"".concat(EWe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function TWe(e,t){return OWe(e)||PWe(e,t)||dce(e,t)||AWe()}function AWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OWe(e){if(Array.isArray(e))return e}function RWe(e){return MWe(e)||IWe(e)||dce(e)||DWe()}function DWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dce(e,t){if(e){if(typeof e=="string")return sI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sI(e,t)}}function IWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MWe(e){if(Array.isArray(e))return sI(e)}function sI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ES=1e-4,fce=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hce=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},bK=function(t,r){return function(n){var a=fce(t,r);return hce(a,n)}},FWe=function(t,r){return function(n){var a=fce(t,r),i=[].concat(RWe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hce(i,n)}},wK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=TWe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=bK(a,o),m=bK(i,l),p=FWe(a,o),y=function(w){return w>1?1:w<0?0:w},g=function(w){for(var b=w>1?1:w,j=b,E=0;E<8;++E){var S=f(j)-b,C=p(j);if(Math.abs(S-b)<ES||C<ES)return m(j);j=y(j-S/C)}return m(j)};return g.isStepper=!1,g},LWe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var p=-(d-f)*n,y=m*i,g=m+(p-y)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<ES&&Math.abs(g)<ES?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},$We=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wK(a);case"spring":return LWe();default:if(a.split("(")[0]==="cubic-bezier")return wK(a)}return typeof a=="function"?a:null};function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function _K(e){return VWe(e)||UWe(e)||mce(e)||BWe()}function BWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VWe(e){if(Array.isArray(e))return iI(e)}function jK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jK(Object(r),!0).forEach(function(n){aI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aI(e,t,r){return t=zWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zWe(e){var t=qWe(e,"string");return Zb(t)==="symbol"?t:String(t)}function qWe(e,t){if(Zb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WWe(e,t){return KWe(e)||GWe(e,t)||mce(e,t)||HWe()}function HWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(e,t){if(e){if(typeof e=="string")return iI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(e,t)}}function iI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KWe(e){if(Array.isArray(e))return e}var TS=function(t,r,n){return t+(r-t)*n},oI=function(t){var r=t.from,n=t.to;return r!==n},YWe=function e(t,r,n){var a=Iy(function(i,o){if(oI(o)){var l=t(o.from,o.to,o.velocity),c=WWe(l,2),u=c[0],d=c[1];return Ya(Ya({},o),{},{from:u,velocity:d})}return o},r);return n<1?Iy(function(i,o){return oI(o)?Ya(Ya({},o),{},{velocity:TS(o.velocity,a[i].velocity,n),from:TS(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const XWe=(function(e,t,r,n,a){var i=kWe(e,t),o=i.reduce(function(v,w){return Ya(Ya({},v),{},aI({},w,[e[w],t[w]]))},{}),l=i.reduce(function(v,w){return Ya(Ya({},v),{},aI({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Iy(function(w,b){return b.from},l)},p=function(){return!Object.values(l).filter(oI).length},y=function(w){u||(u=w);var b=w-u,j=b/r.dt;l=YWe(r,l,j),a(Ya(Ya(Ya({},e),t),m())),u=w,p()||(c=requestAnimationFrame(f))},g=function(w){d||(d=w);var b=(w-d)/n,j=Iy(function(S,C){return TS.apply(void 0,_K(C).concat([r(b)]))},o);if(a(Ya(Ya(Ya({},e),t),j)),b<1)c=requestAnimationFrame(f);else{var E=Iy(function(S,C){return TS.apply(void 0,_K(C).concat([r(1)]))},o);a(Ya(Ya(Ya({},e),t),E))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}var JWe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ZWe(e,t){if(e==null)return{};var r=QWe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QWe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function RO(e){return nHe(e)||rHe(e)||tHe(e)||eHe()}function eHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tHe(e,t){if(e){if(typeof e=="string")return lI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(e,t)}}function rHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nHe(e){if(Array.isArray(e))return lI(e)}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NK(Object(r),!0).forEach(function(n){ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ey(e,t,r){return t=pce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pce(n.key),n)}}function iHe(e,t,r){return t&&aHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pce(e){var t=oHe(e,"string");return M0(t)==="symbol"?t:String(t)}function oHe(e,t){if(M0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cI(e,t)}function cI(e,t){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cI(e,t)}function cHe(e){var t=uHe();return function(){var n=AS(e),a;if(t){var i=AS(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return uI(this,a)}}function uI(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dI(e)}function dI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uHe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AS(e)}var lu=(function(e){lHe(r,e);var t=cHe(r);function r(n,a){var i;sHe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(dI(i)),i.changeStyle=i.changeStyle.bind(dI(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),uI(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},uI(i);i.state={style:c?ey({},c,u):u}}else i.state={style:{}};return i}return iHe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var p={style:c?ey({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(gWe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&m){var v={style:c?ey({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(ec(ec({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=XWe(o,l,$We(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(g,v,w){if(w===0)return g;var b=v.duration,j=v.easing,E=j===void 0?"ease":j,S=v.style,C=v.properties,k=v.onAnimationEnd,D=w>0?o[w-1]:v,O=C||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(RO(g),[i.runJSAnimation.bind(i,{from:D.style,to:S,duration:b,easing:E}),b]);var P=yK(O,b,E),A=ec(ec(ec({},D.style),S),{},{transition:P});return[].concat(RO(g),[A,b,k]).filter(CWe)};return this.manager.start([c].concat(RO(o.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=jWe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?ey({},l,c):c,v=yK(Object.keys(g),o,u);y.start([d,i,ec(ec({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=ZWe(a,JWe),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,w=y.className,b=_.cloneElement(p,ec(ec({},c),{},{style:ec(ec({},v),d),className:w}));return b};return u===1?f(_.Children.only(i)):ce.createElement("div",null,_.Children.map(i,function(m){return f(m)}))}}]),r})(_.PureComponent);lu.displayName="Animate";lu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lu.propTypes={from:yn.oneOfType([yn.object,yn.string]),to:yn.oneOfType([yn.object,yn.string]),attributeName:yn.string,duration:yn.number,begin:yn.number,easing:yn.oneOfType([yn.string,yn.func]),steps:yn.arrayOf(yn.shape({duration:yn.number.isRequired,style:yn.object.isRequired,easing:yn.oneOfType([yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yn.func]),properties:yn.arrayOf("string"),onAnimationEnd:yn.func})),children:yn.oneOfType([yn.node,yn.func]),isActive:yn.bool,canBegin:yn.bool,onAnimationEnd:yn.func,shouldReAnimate:yn.bool,onAnimationStart:yn.func,onAnimationReStart:yn.func};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PS.apply(this,arguments)}function dHe(e,t){return pHe(e)||mHe(e,t)||hHe(e,t)||fHe()}function fHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hHe(e,t){if(e){if(typeof e=="string")return SK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SK(e,t)}}function SK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pHe(e){if(Array.isArray(e))return e}function kK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kK(Object(r),!0).forEach(function(n){gHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gHe(e,t,r){return t=xHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xHe(e){var t=vHe(e,"string");return Qb(t)=="symbol"?t:t+""}function vHe(e,t){if(Qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EK=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},yHe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},bHe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q6=function(t){var r=CK(CK({},bHe),t),n=_.useRef(),a=_.useState(-1),i=dHe(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Or("recharts-rectangle",p);return b?ce.createElement(lu,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(E){var S=E.width,C=E.height,k=E.x,D=E.y;return ce.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:w,easing:y},ce.createElement("path",PS({},ir(r,!0),{className:j,d:EK(k,D,S,C,m),ref:n})))}):ce.createElement("path",PS({},ir(r,!0),{className:j,d:EK(c,u,d,f,m)}))},wHe=["points","className","baseLinePoints","connectNulls"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function _He(e,t){if(e==null)return{};var r=jHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TK(e){return CHe(e)||kHe(e)||SHe(e)||NHe()}function NHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SHe(e,t){if(e){if(typeof e=="string")return fI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fI(e,t)}}function kHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CHe(e){if(Array.isArray(e))return fI(e)}function fI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var AK=function(t){return t&&t.x===+t.x&&t.y===+t.y},EHe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){AK(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),AK(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},My=function(t,r){var n=EHe(t);r&&(n=[n.reduce(function(i,o){return[].concat(TK(i),TK(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},THe=function(t,r,n){var a=My(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(My(r.reverse(),n).slice(1))},AHe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=_He(t,wHe);if(!r||!r.length)return null;var l=Or("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=THe(r,a,i);return ce.createElement("g",{className:l},ce.createElement("path",Tg({},ir(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ce.createElement("path",Tg({},ir(o,!0),{fill:"none",d:My(r,i)})):null,c?ce.createElement("path",Tg({},ir(o,!0),{fill:"none",d:My(a,i)})):null)}var d=My(r,i);return ce.createElement("path",Tg({},ir(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hI.apply(this,arguments)}var Fk=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Or("recharts-dot",i);return r===+r&&n===+n&&a===+a?_.createElement("circle",hI({},ir(t,!1),eS(t),{className:o,cx:r,cy:n,r:a})):null};function ew(e){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(e)}var PHe=["x","y","top","left","width","height","className"];function mI(){return mI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mI.apply(this,arguments)}function PK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OHe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PK(Object(r),!0).forEach(function(n){RHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RHe(e,t,r){return t=DHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DHe(e){var t=IHe(e,"string");return ew(t)=="symbol"?t:t+""}function IHe(e,t){if(ew(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MHe(e,t){if(e==null)return{};var r=FHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LHe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},$He=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,p=m===void 0?0:m,y=t.className,g=MHe(t,PHe),v=OHe({x:n,y:i,top:l,left:u,width:f,height:p},g);return!Nt(n)||!Nt(i)||!Nt(f)||!Nt(p)||!Nt(l)||!Nt(u)?null:ce.createElement("path",mI({},ir(v,!0),{className:Or("recharts-cross",y),d:LHe(n,i,f,p,l,u)}))},DO,OK;function BHe(){if(OK)return DO;OK=1;var e=Ok(),t=Ale(),r=xu();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return DO=n,DO}var UHe=BHe();const VHe=tn(UHe);var IO,RK;function zHe(){if(RK)return IO;RK=1;var e=Ok(),t=xu(),r=Ple();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return IO=n,IO}var qHe=zHe();const WHe=tn(qHe);var HHe=["cx","cy","angle","ticks","axisLine"],GHe=["ticks","tick","angle","tickFormatter","stroke"];function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function DK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DK(Object(r),!0).forEach(function(n){Lk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t){if(e==null)return{};var r=KHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xce(n.key),n)}}function XHe(e,t,r){return t&&MK(e.prototype,t),r&&MK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JHe(e,t,r){return t=OS(t),ZHe(e,gce()?Reflect.construct(t,r||[],OS(e).constructor):t.apply(e,r))}function ZHe(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QHe(e)}function QHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gce=function(){return!!e})()}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OS(e)}function eGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pI(e,t)}function pI(e,t){return pI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pI(e,t)}function Lk(e,t,r){return t=xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=tGe(e,"string");return F0(t)=="symbol"?t:t+""}function tGe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $k=(function(e){function t(){return YHe(this,t),JHe(this,t,arguments)}return eGe(t,e),XHe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Yn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=VHe(l,function(d){return d.coordinate||0}),u=WHe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=IK(n,HHe),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Yn(a,i,d[0],o),m=Yn(a,i,d[1],o),p=Nh(Nh(Nh({},ir(u,!1)),{},{fill:"none"},ir(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return ce.createElement("line",Fy({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=IK(a,GHe),f=this.getTickTextAnchor(),m=ir(d,!1),p=ir(o,!1),y=i.map(function(g,v){var w=n.getTickValueCoord(g),b=Nh(Nh(Nh(Nh({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:v},w),{},{payload:g});return ce.createElement(dn,Fy({className:Or("recharts-polar-radius-axis-tick",ace(o)),key:"tick-".concat(g.coordinate)},Hm(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return ce.createElement(dn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:ce.createElement(dn,{className:Or("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),La.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,a):_r(n)?o=n(a):o=ce.createElement(Gm,Fy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(_.PureComponent);Lk($k,"displayName","PolarRadiusAxis");Lk($k,"axisType","radiusAxis");Lk($k,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(this,arguments)}function FK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FK(Object(r),!0).forEach(function(n){Bk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yce(n.key),n)}}function nGe(e,t,r){return t&&LK(e.prototype,t),r&&LK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sGe(e,t,r){return t=RS(t),aGe(e,vce()?Reflect.construct(t,r||[],RS(e).constructor):t.apply(e,r))}function aGe(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iGe(e)}function iGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vce=function(){return!!e})()}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RS(e)}function oGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gI(e,t)}function gI(e,t){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gI(e,t)}function Bk(e,t,r){return t=yce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yce(e){var t=lGe(e,"string");return L0(t)=="symbol"?t:t+""}function lGe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cGe=Math.PI/180,$K=1e-5,Uk=(function(e){function t(){return rGe(this,t),sGe(this,t,arguments)}return oGe(t,e),nGe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Yn(i,o,l,n.coordinate),m=Yn(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*cGe),o;return i>$K?o=a==="outer"?"start":"end":i<-$K?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Sh(Sh({},ir(this.props,!1)),{},{fill:"none"},ir(l,!1));if(c==="circle")return ce.createElement(Fk,Bh({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return Yn(a,i,o,m.coordinate)});return ce.createElement(AHe,Bh({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ir(this.props,!1),f=ir(o,!1),m=Sh(Sh({},d),{},{fill:"none"},ir(l,!1)),p=i.map(function(y,g){var v=n.getTickLineCoord(y),w=n.getTickTextAnchor(y),b=Sh(Sh(Sh({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return ce.createElement(dn,Bh({className:Or("recharts-polar-angle-axis-tick",ace(o)),key:"tick-".concat(y.coordinate)},Hm(n.props,y,g)),l&&ce.createElement("line",Bh({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,b,c?c(y.value,g):y.value))});return ce.createElement(dn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:ce.createElement(dn,{className:Or("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,a):_r(n)?o=n(a):o=ce.createElement(Gm,Bh({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(_.PureComponent);Bk(Uk,"displayName","PolarAngleAxis");Bk(Uk,"axisType","angleAxis");Bk(Uk,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var MO,BK;function uGe(){if(BK)return MO;BK=1;var e=Toe(),t=e(Object.getPrototypeOf,Object);return MO=t,MO}var FO,UK;function dGe(){if(UK)return FO;UK=1;var e=pd(),t=uGe(),r=gd(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return FO=u,FO}var fGe=dGe();const hGe=tn(fGe);var LO,VK;function mGe(){if(VK)return LO;VK=1;var e=pd(),t=gd(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return LO=n,LO}var pGe=mGe();const gGe=tn(pGe);function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DS.apply(this,arguments)}function xGe(e,t){return wGe(e)||bGe(e,t)||yGe(e,t)||vGe()}function vGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yGe(e,t){if(e){if(typeof e=="string")return zK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zK(e,t)}}function zK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wGe(e){if(Array.isArray(e))return e}function qK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qK(Object(r),!0).forEach(function(n){_Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ge(e,t,r){return t=jGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jGe(e){var t=NGe(e,"string");return tw(t)=="symbol"?t:t+""}function NGe(e,t){if(tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HK=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},SGe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kGe=function(t){var r=WK(WK({},SGe),t),n=_.useRef(),a=_.useState(-1),i=xGe(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=Or("recharts-trapezoid",p);return w?ce.createElement(lu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:y,isActive:w},function(j){var E=j.upperWidth,S=j.lowerWidth,C=j.height,k=j.x,D=j.y;return ce.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},ce.createElement("path",DS({},ir(r,!0),{className:b,d:HK(k,D,E,S,C),ref:n})))}):ce.createElement("g",null,ce.createElement("path",DS({},ir(r,!0),{className:b,d:HK(c,u,d,f,m)})))},CGe=["option","shapeType","propTransformer","activeClassName","isActive"];function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function EGe(e,t){if(e==null)return{};var r=TGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GK(Object(r),!0).forEach(function(n){AGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AGe(e,t,r){return t=PGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PGe(e){var t=OGe(e,"string");return rw(t)=="symbol"?t:t+""}function OGe(e,t){if(rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RGe(e,t){return IS(IS({},t),e)}function DGe(e,t){return e==="symbols"}function KK(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ce.createElement(q6,r);case"trapezoid":return ce.createElement(kGe,r);case"sector":return ce.createElement(lce,r);case"symbols":if(DGe(t))return ce.createElement(c6,r);break;default:return null}}function IGe(e){return _.isValidElement(e)?e.props:e}function bce(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?RGe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=EGe(e,CGe),u;if(_.isValidElement(t))u=_.cloneElement(t,IS(IS({},c),IGe(t)));else if(_r(t))u=t(c);else if(hGe(t)&&!gGe(t)){var d=a(t,c);u=ce.createElement(KK,{shapeType:r,elementProps:d})}else{var f=c;u=ce.createElement(KK,{shapeType:r,elementProps:f})}return l?ce.createElement(dn,{className:o},u):u}function Vk(e,t){return t!=null&&"trapezoids"in e.props}function zk(e,t){return t!=null&&"sectors"in e.props}function nw(e,t){return t!=null&&"points"in e.props}function MGe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function FGe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function LGe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function $Ge(e,t){var r;return Vk(e,t)?r=MGe:zk(e,t)?r=FGe:nw(e,t)&&(r=LGe),r}function BGe(e,t){var r;return Vk(e,t)?r="trapezoids":zk(e,t)?r="sectors":nw(e,t)&&(r="points"),r}function UGe(e,t){if(Vk(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zk(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return nw(e,t)?t.payload:{}}function VGe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=BGe(r,t),i=UGe(r,t),o=n.filter(function(c,u){var d=l1(i,c),f=r.props[a].filter(function(y){var g=$Ge(r,t);return g(y,t)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Jj;function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function YK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YK(Object(r),!0).forEach(function(n){Cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ce(n.key),n)}}function qGe(e,t,r){return t&&XK(e.prototype,t),r&&XK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WGe(e,t,r){return t=MS(t),HGe(e,wce()?Reflect.construct(t,r||[],MS(e).constructor):t.apply(e,r))}function HGe(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GGe(e)}function GGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wce=function(){return!!e})()}function MS(e){return MS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MS(e)}function KGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xI(e,t)}function xI(e,t){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xI(e,t)}function Cl(e,t,r){return t=_ce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ce(e){var t=YGe(e,"string");return $0(t)=="symbol"?t:t+""}function YGe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vd=(function(e){function t(r){var n;return zGe(this,t),n=WGe(this,t,[r]),Cl(n,"pieRef",null),Cl(n,"sectorRefs",[]),Cl(n,"id",wx("recharts-pie-")),Cl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_r(a)&&a()}),Cl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_r(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return KGe(t,e),qGe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ir(this.props,!1),f=ir(o,!1),m=ir(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(g,v){var w=(g.startAngle+g.endAngle)/2,b=Yn(g.cx,g.cy,g.outerRadius+p,w),j=Hn(Hn(Hn(Hn({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),E=Hn(Hn(Hn(Hn({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[Yn(g.cx,g.cy,g.outerRadius,w),b]}),S=c;return Ar(c)&&Ar(u)?S="value":Ar(c)&&(S=u),ce.createElement(dn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,E,"line"),t.renderLabelItem(o,j,_a(g,S)))});return ce.createElement(dn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?o:m,y=Hn(Hn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ce.createElement(dn,Ag({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Hm(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ce.createElement(bce,Ag({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return ce.createElement(lu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],w=i&&i[0],b=w.startAngle;return i.forEach(function(j,E){var S=m&&m[E],C=E>0?Zo(j,"paddingAngle",0):0;if(S){var k=Bo(S.endAngle-S.startAngle,j.endAngle-j.startAngle),D=Hn(Hn({},j),{},{startAngle:b+C,endAngle:b+k(g)+C});v.push(D),b=D.endAngle}else{var O=j.endAngle,P=j.startAngle,A=Bo(0,O-P),R=A(g),F=Hn(Hn({},j),{},{startAngle:b+C,endAngle:b+R+C});v.push(F),b=F.endAngle}}),ce.createElement(dn,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!l1(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!Nt(u)||!Nt(d)||!Nt(f)||!Nt(m))return null;var g=Or("recharts-pie",l);return ce.createElement(dn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),La.renderCallByParent(this.props,null,!1),(!p||y)&&Yu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(ce.isValidElement(n))return ce.cloneElement(n,a);if(_r(n))return n(a);var o=Or("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ce.createElement(CS,Ag({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(ce.isValidElement(n))return ce.cloneElement(n,a);var o=i;if(_r(n)&&(o=n(a),ce.isValidElement(o)))return o;var l=Or("recharts-pie-label-text",typeof n!="boolean"&&!_r(n)?n.className:"");return ce.createElement(Gm,Ag({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(_.PureComponent);Jj=vd;Cl(vd,"displayName","Pie");Cl(vd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Cl(vd,"parseDeltaAngle",function(e,t){var r=qi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Cl(vd,"getRealPieData",function(e){var t=e.data,r=e.children,n=ir(e,!1),a=Qo(r,Sk);return t&&t.length?t.map(function(i,o){return Hn(Hn(Hn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Hn(Hn({},n),i.props)}):[]});Cl(vd,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=sce(a,i),l=n+Wi(e.cx,a,a/2),c=r+Wi(e.cy,i,i/2),u=Wi(e.innerRadius,o,0),d=Wi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Cl(vd,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Hn(Hn({},t.type.defaultProps),t.props):t.props,a=Jj.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),y=Jj.parseCoordinateOfPie(n,r),g=Jj.parseDeltaAngle(o,l),v=Math.abs(g),w=u;Ar(u)&&Ar(f)?(yc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ar(u)&&(yc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var b=a.filter(function(D){return _a(D,w,0)!==0}).length,j=(v>=360?b:b-1)*c,E=v-b*p-j,S=a.reduce(function(D,O){var P=_a(O,w,0);return D+(Nt(P)?P:0)},0),C;if(S>0){var k;C=a.map(function(D,O){var P=_a(D,w,0),A=_a(D,d,O),R=(Nt(P)?P:0)/S,F;O?F=k.endAngle+qi(g)*c*(P!==0?1:0):F=o;var L=F+qi(g)*((P!==0?p:0)+R*E),W=(F+L)/2,V=(y.innerRadius+y.outerRadius)/2,H=[{name:A,value:P,payload:D,dataKey:w,type:m}],G=Yn(y.cx,y.cy,V,W);return k=Hn(Hn(Hn({percent:R,cornerRadius:i,name:A,tooltipPayload:H,midAngle:W,middleRadius:V,tooltipPosition:G},D),y),{},{value:_a(D,w),startAngle:F,endAngle:L,payload:D,paddingAngle:qi(g)*c}),k})}return Hn(Hn({},y),{},{sectors:C,data:a})});var $O,JK;function XGe(){if(JK)return $O;JK=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var l=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return $O=r,$O}var BO,ZK;function jce(){if(ZK)return BO;ZK=1;var e=Woe(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return BO=n,BO}var UO,QK;function JGe(){if(QK)return UO;QK=1;var e=XGe(),t=Nk(),r=jce();function n(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,a)}}return UO=n,UO}var VO,eY;function ZGe(){if(eY)return VO;eY=1;var e=JGe(),t=e();return VO=t,VO}var QGe=ZGe();const FS=tn(QGe);function sw(e){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sw(e)}function tY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tY(Object(r),!0).forEach(function(n){Nce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nce(e,t,r){return t=eKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eKe(e){var t=tKe(e,"string");return sw(t)=="symbol"?t:t+""}function tKe(e,t){if(sw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rKe=["Webkit","Moz","O","ms"],nKe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=rKe.reduce(function(i,o){return rY(rY({},i),{},Nce({},o+n,r))},{});return a[t]=r,a};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LS.apply(this,arguments)}function nY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nY(Object(r),!0).forEach(function(n){Po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kce(n.key),n)}}function aKe(e,t,r){return t&&sY(e.prototype,t),r&&sY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iKe(e,t,r){return t=$S(t),oKe(e,Sce()?Reflect.construct(t,r||[],$S(e).constructor):t.apply(e,r))}function oKe(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lKe(e)}function lKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sce=function(){return!!e})()}function $S(e){return $S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$S(e)}function cKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vI(e,t)}function vI(e,t){return vI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vI(e,t)}function Po(e,t,r){return t=kce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kce(e){var t=uKe(e,"string");return B0(t)=="symbol"?t:t+""}function uKe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dKe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ry().domain(FS(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},aY=function(t){return t.changedTouches&&!!t.changedTouches.length},U0=(function(e){function t(r){var n;return sKe(this,t),n=iKe(this,t,[r]),Po(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Po(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Po(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Po(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Po(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Po(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Po(n,"handleSlideDragStart",function(a){var i=aY(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cKe(t,e),aKe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=_a(i[n],l,n);return _r(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==m||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=aY(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+m-p-u):b<0&&(b=Math.max(b,f-u)),w[o]=u+b;var j=this.getIndex(w),E=j.startIndex,S=j.endIndex,C=function(){var D=v.length-1;return o==="startX"&&(l>c?E%g===0:S%g===0)||l<c&&S===D||o==="endX"&&(l>c?S%g===0:E%g===0)||l>c&&S===D};this.setState(Po(Po({},o,u+b),"brushMoveStartX",n.pageX),function(){y&&C()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Po({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ce.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=_.Children.only(u);return f?ce.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),b=zO(zO({},ir(this.props,!1)),{},{x:w,y:u,width:d,height:f}),j=p||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return ce.createElement(dn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return ce.createElement(dn,{className:"recharts-brush-texts"},ce.createElement(Gm,LS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:o+l/2},y),this.getTextOfTick(a)),ce.createElement(Gm,LS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,g=m.isTextActive,v=m.isSlideMoving,w=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!Nt(l)||!Nt(c)||!Nt(u)||!Nt(d)||u<=0||d<=0)return null;var j=Or("recharts-brush",i),E=ce.Children.count(o)===1,S=nKe("userSelect","none");return ce.createElement(dn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||w||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ce.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ce.isValidElement(n)?i=ce.cloneElement(n,a):_r(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return zO({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?dKe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(_.PureComponent);Po(U0,"displayName","Brush");Po(U0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qO,iY;function fKe(){if(iY)return qO;iY=1;var e=g6();function t(r,n){var a;return e(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return qO=t,qO}var WO,oY;function hKe(){if(oY)return WO;oY=1;var e=_oe(),t=xu(),r=fKe(),n=jo(),a=Nk();function i(o,l,c){var u=n(o)?e:r;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return WO=i,WO}var mKe=hKe();const pKe=tn(mKe);var eu=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},HO,lY;function gKe(){if(lY)return HO;lY=1;var e=Boe();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return HO=t,HO}var GO,cY;function xKe(){if(cY)return GO;cY=1;var e=gKe(),t=Loe(),r=xu();function n(a,i){var o={};return i=r(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return GO=n,GO}var vKe=xKe();const yKe=tn(vKe);var KO,uY;function bKe(){if(uY)return KO;uY=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return KO=e,KO}var YO,dY;function wKe(){if(dY)return YO;dY=1;var e=g6();function t(r,n){var a=!0;return e(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return YO=t,YO}var XO,fY;function _Ke(){if(fY)return XO;fY=1;var e=bKe(),t=wKe(),r=xu(),n=jo(),a=Nk();function i(o,l,c){var u=n(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return XO=i,XO}var jKe=_Ke();const Cce=tn(jKe);var NKe=["x","y"];function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function yI(){return yI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yI.apply(this,arguments)}function hY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hY(Object(r),!0).forEach(function(n){SKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SKe(e,t,r){return t=kKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kKe(e){var t=CKe(e,"string");return aw(t)=="symbol"?t:t+""}function CKe(e,t){if(aw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EKe(e,t){if(e==null)return{};var r=TKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AKe(e,t){var r=e.x,n=e.y,a=EKe(e,NKe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Tv(Tv(Tv(Tv(Tv({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function mY(e){return ce.createElement(bce,yI({shapeType:"rectangle",propTransformer:AKe,activeClassName:"recharts-active-bar"},e))}var PKe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Nt(n)||tLe(n);return i?t(n,a):(i||Ym(),r)}},OKe=["value","background"],Ece;function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function RKe(e,t){if(e==null)return{};var r=DKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(this,arguments)}function pY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pY(Object(r),!0).forEach(function(n){df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ace(n.key),n)}}function MKe(e,t,r){return t&&gY(e.prototype,t),r&&gY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FKe(e,t,r){return t=US(t),LKe(e,Tce()?Reflect.construct(t,r||[],US(e).constructor):t.apply(e,r))}function LKe(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ke(e)}function $Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tce=function(){return!!e})()}function US(e){return US=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},US(e)}function BKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bI(e,t)}function bI(e,t){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bI(e,t)}function df(e,t,r){return t=Ace(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ace(e){var t=UKe(e,"string");return V0(t)=="symbol"?t:t+""}function UKe(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uo=(function(e){function t(){var r;IKe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=FKe(this,t,[].concat(a)),df(r,"state",{isAnimationFinished:!1}),df(r,"id",wx("recharts-bar-")),df(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),df(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return BKe(t,e),MKe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ir(this.props,!1);return n&&n.map(function(f,m){var p=m===c,y=p?u:o,g=Xs(Xs(Xs({},d),f),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ce.createElement(dn,BS({className:"recharts-bar-rectangle"},Hm(a.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),ce.createElement(mY,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return ce.createElement(lu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=i.map(function(v,w){var b=m&&m[w];if(b){var j=Bo(b.x,v.x),E=Bo(b.y,v.y),S=Bo(b.width,v.width),C=Bo(b.height,v.height);return Xs(Xs({},v),{},{x:j(y),y:E(y),width:S(y),height:C(y)})}if(o==="horizontal"){var k=Bo(0,v.height),D=k(y);return Xs(Xs({},v),{},{y:v.y+v.height-D,height:D})}var O=Bo(0,v.width),P=O(y);return Xs(Xs({},v),{},{width:P})});return ce.createElement(dn,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!l1(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ir(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=RKe(u,OKe);if(!f)return null;var p=Xs(Xs(Xs(Xs(Xs({},m),{},{fill:"#eee"},f),c),Hm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ce.createElement(mY,BS({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Qo(d,c1);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,w){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:_a(v,w)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ce.createElement(dn,y,f.map(function(g){return ce.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,p=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,w=Or("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,E=b||j,S=Ar(g)?this.id:g;return ce.createElement(dn,{className:w},b||j?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(S)},ce.createElement("rect",{x:b?u:u-f/2,y:j?d:d-m/2,width:b?f:f*2,height:j?m:m*2}))):null,ce.createElement(dn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||v)&&Yu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(_.PureComponent);Ece=Uo;df(Uo,"displayName","Bar");df(Uo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});df(Uo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,p=gze(n,r);if(!p)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?Xs(Xs({},g),r.props):r.props,w=v.dataKey,b=v.children,j=v.minPointSize,E=y==="horizontal"?o:i,S=u?E.scale.domain():null,C=jze({numericAxis:E}),k=Qo(b,Sk),D=f.map(function(O,P){var A,R,F,L,W,V;u?A=xze(u[d+P],S):(A=_a(O,w),Array.isArray(A)||(A=[C,A]));var H=PKe(j,Ece.defaultProps.minPointSize)(A[1],P);if(y==="horizontal"){var G,I=[o.scale(A[0]),o.scale(A[1])],U=I[0],X=I[1];R=UG({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:P}),F=(G=X??U)!==null&&G!==void 0?G:void 0,L=p.size;var z=U-X;if(W=Number.isNaN(z)?0:z,V={x:R,y:o.y,width:L,height:o.height},Math.abs(H)>0&&Math.abs(W)<Math.abs(H)){var Z=qi(W||H)*(Math.abs(H)-Math.abs(W));F-=Z,W+=Z}}else{var J=[i.scale(A[0]),i.scale(A[1])],Q=J[0],de=J[1];if(R=Q,F=UG({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:O,index:P}),L=de-Q,W=p.size,V={x:i.x,y:F,width:i.width,height:W},Math.abs(H)>0&&Math.abs(L)<Math.abs(H)){var fe=qi(L||H)*(Math.abs(H)-Math.abs(L));L+=fe}}return Xs(Xs(Xs({},O),{},{x:R,y:F,width:L,height:W,value:u?A:A[1],payload:O,background:V},k&&k[P]&&k[P].props),{},{tooltipPayload:[rce(r,O)],tooltipPosition:{x:R+L/2,y:F+W/2}})});return Xs({data:D,layout:y},m)});function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function VKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pce(n.key),n)}}function zKe(e,t,r){return t&&xY(e.prototype,t),r&&xY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vY(Object(r),!0).forEach(function(n){qk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qk(e,t,r){return t=Pce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pce(e){var t=qKe(e,"string");return iw(t)=="symbol"?t:t+""}function qKe(e,t){if(iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oce=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Do(u,Uo);return d.reduce(function(p,y){var g=r[y],v=g.orientation,w=g.domain,b=g.padding,j=b===void 0?{}:b,E=g.mirror,S=g.reversed,C="".concat(v).concat(E?"Mirror":""),k,D,O,P,A;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=w[1]-w[0],F=1/0,L=g.categoricalDomain.sort(sLe);if(L.forEach(function(J,Q){Q>0&&(F=Math.min((J||0)-(L[Q-1]||0),F))}),Number.isFinite(F)){var W=F/R,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(k=W*V/2),g.padding==="no-gap"){var H=Wi(t.barCategoryGap,W*V),G=W*V/2;k=G-H-(G-H)/V*H}}}a==="xAxis"?D=[n.left+(j.left||0)+(k||0),n.left+n.width-(j.right||0)-(k||0)]:a==="yAxis"?D=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(k||0),n.top+n.height-(j.bottom||0)-(k||0)]:D=g.range,S&&(D=[D[1],D[0]]);var I=Zle(g,i,m),U=I.scale,X=I.realScaleType;U.domain(w).range(D),Qle(U);var z=ece(U,ic(ic({},g),{},{realScaleType:X}));a==="xAxis"?(A=v==="top"&&!E||v==="bottom"&&E,O=n.left,P=f[C]-A*g.height):a==="yAxis"&&(A=v==="left"&&!E||v==="right"&&E,O=f[C]-A*g.width,P=n.top);var Z=ic(ic(ic({},g),z),{},{realScaleType:X,x:O,y:P,scale:U,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return Z.bandSize=NS(Z,z),!g.hide&&a==="xAxis"?f[C]+=(A?-1:1)*Z.height:g.hide||(f[C]+=(A?-1:1)*Z.width),ic(ic({},p),{},qk({},y,Z))},{})},Rce=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},WKe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Rce({x:r,y:n},{x:a,y:i})},Dce=(function(){function e(t){VKe(this,e),this.scale=t}return zKe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();qk(Dce,"EPS",1e-4);var W6=function(t){var r=Object.keys(t).reduce(function(n,a){return ic(ic({},n),{},qk({},a,Dce.create(t[a])))},{});return ic(ic({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return yKe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Cce(a,function(i,o){return r[o].isInRange(i)})}})};function HKe(e){return(e%180+180)%180}var GKe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HKe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},JO,yY;function KKe(){if(yY)return JO;yY=1;var e=xu(),t=n1(),r=_k();function n(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return JO=n,JO}var ZO,bY;function YKe(){if(bY)return ZO;bY=1;var e=jce();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return ZO=t,ZO}var QO,wY;function XKe(){if(wY)return QO;wY=1;var e=Roe(),t=xu(),r=YKe(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return QO=a,QO}var eR,_Y;function JKe(){if(_Y)return eR;_Y=1;var e=KKe(),t=XKe(),r=e(t);return eR=r,eR}var ZKe=JKe();const QKe=tn(ZKe);var eYe=Yie();const tYe=tn(eYe);var rYe=tYe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),H6=_.createContext(void 0),G6=_.createContext(void 0),Ice=_.createContext(void 0),Mce=_.createContext({}),Fce=_.createContext(void 0),Lce=_.createContext(0),$ce=_.createContext(0),jY=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=rYe(i);return ce.createElement(H6.Provider,{value:n},ce.createElement(G6.Provider,{value:a},ce.createElement(Mce.Provider,{value:i},ce.createElement(Ice.Provider,{value:d},ce.createElement(Fce.Provider,{value:o},ce.createElement(Lce.Provider,{value:u},ce.createElement($ce.Provider,{value:c},l)))))))},nYe=function(){return _.useContext(Fce)},Bce=function(t){var r=_.useContext(H6);r==null&&Ym();var n=r[t];return n==null&&Ym(),n},sYe=function(){var t=_.useContext(H6);return Jd(t)},aYe=function(){var t=_.useContext(G6),r=QKe(t,function(n){return Cce(n.domain,Number.isFinite)});return r||Jd(t)},Uce=function(t){var r=_.useContext(G6);r==null&&Ym();var n=r[t];return n==null&&Ym(),n},iYe=function(){var t=_.useContext(Ice);return t},oYe=function(){return _.useContext(Mce)},K6=function(){return _.useContext($ce)},Y6=function(){return _.useContext(Lce)};function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function lYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zce(n.key),n)}}function uYe(e,t,r){return t&&cYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dYe(e,t,r){return t=VS(t),fYe(e,Vce()?Reflect.construct(t,r||[],VS(e).constructor):t.apply(e,r))}function fYe(e,t){if(t&&(z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hYe(e)}function hYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vce=function(){return!!e})()}function VS(e){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VS(e)}function mYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wI(e,t)}function wI(e,t){return wI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wI(e,t)}function NY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NY(Object(r),!0).forEach(function(n){X6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6(e,t,r){return t=zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zce(e){var t=pYe(e,"string");return z0(t)=="symbol"?t:t+""}function pYe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gYe(e,t){return bYe(e)||yYe(e,t)||vYe(e,t)||xYe()}function xYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vYe(e,t){if(e){if(typeof e=="string")return kY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kY(e,t)}}function kY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bYe(e){if(Array.isArray(e))return e}function _I(){return _I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_I.apply(this,arguments)}var wYe=function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):_r(t)?n=t(r):n=ce.createElement("line",_I({},r,{className:"recharts-reference-line-line"})),n},_Ye=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,p=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(eu(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var w=u.x,b=t.x.apply(w,{position:o});if(eu(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?j.reverse():j}if(a){var E=u.segment,S=E.map(function(C){return t.apply(C,{position:o})});return eu(u,"discard")&&pKe(S,function(C){return!t.isInRange(C)})?null:S}return null};function jYe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=nYe(),d=Bce(a),f=Uce(i),m=iYe();if(!u||!m)return null;yc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=W6({x:d.scale,y:f.scale}),y=ja(t),g=ja(r),v=n&&n.length===2,w=_Ye(p,y,g,v,m,e.position,d.orientation,f.orientation,e);if(!w)return null;var b=gYe(w,2),j=b[0],E=j.x,S=j.y,C=b[1],k=C.x,D=C.y,O=eu(e,"hidden")?"url(#".concat(u,")"):void 0,P=SY(SY({clipPath:O},ir(e,!0)),{},{x1:E,y1:S,x2:k,y2:D});return ce.createElement(dn,{className:Or("recharts-reference-line",l)},wYe(o,P),La.renderCallByParent(e,WKe({x1:E,y1:S,x2:k,y2:D})))}var J6=(function(e){function t(){return lYe(this,t),dYe(this,t,arguments)}return mYe(t,e),uYe(t,[{key:"render",value:function(){return ce.createElement(jYe,this.props)}}])})(ce.Component);X6(J6,"displayName","ReferenceLine");X6(J6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jI.apply(this,arguments)}function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function CY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CY(Object(r),!0).forEach(function(n){Wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wce(n.key),n)}}function kYe(e,t,r){return t&&SYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CYe(e,t,r){return t=zS(t),EYe(e,qce()?Reflect.construct(t,r||[],zS(e).constructor):t.apply(e,r))}function EYe(e,t){if(t&&(q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TYe(e)}function TYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qce=function(){return!!e})()}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zS(e)}function AYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NI(e,t)}function NI(e,t){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NI(e,t)}function Wk(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=PYe(e,"string");return q0(t)=="symbol"?t:t+""}function PYe(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OYe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=W6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return eu(t,"discard")&&!o.isInRange(l)?null:l},Hk=(function(e){function t(){return NYe(this,t),CYe(this,t,arguments)}return AYe(t,e),kYe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ja(a),d=ja(i);if(yc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=OYe(this.props);if(!f)return null;var m=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,w=eu(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=EY(EY({clipPath:w},ir(this.props,!0)),{},{cx:m,cy:p});return ce.createElement(dn,{className:Or("recharts-reference-dot",v)},t.renderDot(g,b),La.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])})(ce.Component);Wk(Hk,"displayName","ReferenceDot");Wk(Hk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wk(Hk,"renderDot",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):_r(e)?r=e(t):r=ce.createElement(Fk,jI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function SI(){return SI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SI.apply(this,arguments)}function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function TY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TY(Object(r),!0).forEach(function(n){Gk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gce(n.key),n)}}function IYe(e,t,r){return t&&DYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MYe(e,t,r){return t=qS(t),FYe(e,Hce()?Reflect.construct(t,r||[],qS(e).constructor):t.apply(e,r))}function FYe(e,t){if(t&&(W0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LYe(e)}function LYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hce=function(){return!!e})()}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qS(e)}function $Ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kI(e,t)}function kI(e,t){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kI(e,t)}function Gk(e,t,r){return t=Gce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gce(e){var t=BYe(e,"string");return W0(t)=="symbol"?t:t+""}function BYe(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UYe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=W6({x:d.scale,y:f.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return eu(i,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:Rce(p,y)},Kk=(function(e){function t(){return RYe(this,t),MYe(this,t,arguments)}return $Ye(t,e),IYe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;yc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ja(a),m=ja(i),p=ja(o),y=ja(l),g=this.props.shape;if(!f&&!m&&!p&&!y&&!g)return null;var v=UYe(f,m,p,y,this.props);if(!v&&!g)return null;var w=eu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ce.createElement(dn,{className:Or("recharts-reference-area",c)},t.renderRect(g,AY(AY({clipPath:w},ir(this.props,!0)),v)),La.renderCallByParent(this.props,v))}}])})(ce.Component);Gk(Kk,"displayName","ReferenceArea");Gk(Kk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gk(Kk,"renderRect",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):_r(e)?r=e(t):r=ce.createElement(q6,SI({},t,{className:"recharts-reference-area-rect"})),r});function Kce(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function VYe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GKe(n,r)}function zYe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function WS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function qYe(e,t){return Kce(e,t+1)}function WYe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:Kce(n,u)};var g=c,v,w=function(){return v===void 0&&(v=r(y,g)),v},b=y.coordinate,j=c===0||WS(e,b,w,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(w()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}function PY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PY(Object(r),!0).forEach(function(n){HYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HYe(e,t,r){return t=GYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GYe(e){var t=KYe(e,"string");return ow(t)=="symbol"?t:t+""}function KYe(e,t){if(ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YYe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var p=i[m],y,g=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var v=e*(p.coordinate+e*g()/2-c);i[m]=p=fi(fi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[m]=p=fi(fi({},p),{},{tickCoord:p.coordinate});var w=WS(e,p.tickCoord,g,l,c);w&&(c=p.tickCoord-e*(g()/2+a),i[m]=fi(fi({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function XYe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=fi(fi({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=WS(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=fi(fi({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(b){var j=o[b],E,S=function(){return E===void 0&&(E=r(j,b)),E};if(b===0){var C=e*(j.coordinate-e*S()/2-c);o[b]=j=fi(fi({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[b]=j=fi(fi({},j),{},{tickCoord:j.coordinate});var k=WS(e,j.tickCoord,S,c,u);k&&(c=j.tickCoord+e*(S()/2+a),o[b]=fi(fi({},j),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function Z6(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Nt(c)||pp.isSsr)return qYe(a,typeof c=="number"&&Nt(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Oy(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,E){var S=_r(u)?u(j.value,E):j.value;return p==="width"?VYe(Oy(S,{fontSize:t,letterSpacing:r}),y,f):Oy(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?qi(a[1].coordinate-a[0].coordinate):1,w=zYe(i,v,p);return c==="equidistantPreserveStart"?WYe(v,w,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=XYe(v,w,g,a,o,c==="preserveStartEnd"):m=YYe(v,w,g,a,o),m.filter(function(b){return b.isShow}))}var JYe=["viewBox"],ZYe=["viewBox"],QYe=["ticks"];function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function OY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OY(Object(r),!0).forEach(function(n){Q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tR(e,t){if(e==null)return{};var r=eXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xce(n.key),n)}}function rXe(e,t,r){return t&&RY(e.prototype,t),r&&RY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nXe(e,t,r){return t=HS(t),sXe(e,Yce()?Reflect.construct(t,r||[],HS(e).constructor):t.apply(e,r))}function sXe(e,t){if(t&&(H0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aXe(e)}function aXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yce=function(){return!!e})()}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HS(e)}function iXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CI(e,t)}function CI(e,t){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CI(e,t)}function Q6(e,t,r){return t=Xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xce(e){var t=oXe(e,"string");return H0(t)=="symbol"?t:t+""}function oXe(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kx=(function(e){function t(r){var n;return tXe(this,t),n=nXe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return iXe(t,e),rXe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=tR(n,JYe),l=this.props,c=l.viewBox,u=tR(l,ZYe);return!r0(i,c)||!r0(o,u)||!r0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,p,y,g,v,w,b,j=f?-1:1,E=n.tickSize||d,S=Nt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,g=v-j*E,b=g-j*m,w=S;break;case"left":g=v=n.coordinate,y=i+ +!f*l,p=y-j*E,w=p-j*m,b=S;break;case"right":g=v=n.coordinate,y=i+ +f*l,p=y+j*E,w=p+j*m,b=S;break;default:p=y=n.coordinate,v=o+ +f*c,g=v+j*E,b=g+j*m,w=S;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ha(ha(ha({},ir(this.props,!1)),ir(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=ha(ha({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ha(ha({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return ce.createElement("line",Pg({},f,{className:Or("recharts-cartesian-axis-line",Zo(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=Z6(ha(ha({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=ir(this.props,!1),w=ir(d,!1),b=ha(ha({},v),{},{fill:"none"},ir(c,!1)),j=p.map(function(E,S){var C=o.getTickLineCoord(E),k=C.line,D=C.tick,O=ha(ha(ha(ha({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},w),D),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:f});return ce.createElement(dn,Pg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Hm(o.props,E,S)),c&&ce.createElement("line",Pg({},b,k,{className:Or("recharts-cartesian-axis-tick-line",Zo(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(_r(f)?f(E.value,S):E.value).concat(m||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,p=tR(f,QYe),y=m;return _r(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:ce.createElement(dn,{className:Or("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),La.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Or(a.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(n)?o=ce.cloneElement(n,ha(ha({},a),{},{className:l})):_r(n)?o=n(ha(ha({},a),{},{className:l})):o=ce.createElement(Gm,Pg({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(_.Component);Q6(kx,"displayName","CartesianAxis");Q6(kx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lXe=["x1","y1","x2","y2","key"],cXe=["offset"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function DY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DY(Object(r),!0).forEach(function(n){uXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uXe(e,t,r){return t=dXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dXe(e){var t=fXe(e,"string");return Xm(t)=="symbol"?t:t+""}function fXe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function IY(e,t){if(e==null)return{};var r=hXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mXe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ce.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Jce(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(_r(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=IY(t,lXe),u=ir(c,!1);u.offset;var d=IY(u,cXe);r=ce.createElement("line",Xh({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function pXe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=xi(xi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Jce(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function gXe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=xi(xi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Jce(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xXe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?a+o-m:d[p+1]-m;if(g<=0)return null;var v=p%t.length;return ce.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function vXe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?i+l-m:d[p+1]-m;if(g<=0)return null;var v=p%n.length;return ce.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yXe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Jle(Z6(xi(xi(xi({},kx.defaultProps),n),{},{ticks:Uu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},bXe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Jle(Z6(xi(xi(xi({},kx.defaultProps),n),{},{ticks:Uu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},dg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lw(e){var t,r,n,a,i,o,l=K6(),c=Y6(),u=oYe(),d=xi(xi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:dg.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:dg.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:dg.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:dg.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:dg.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:dg.verticalFill,x:Nt(e.x)?e.x:u.left,y:Nt(e.y)?e.y:u.top,width:Nt(e.width)?e.width:u.width,height:Nt(e.height)?e.height:u.height}),f=d.x,m=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,w=d.verticalValues,b=sYe(),j=aYe();if(!Nt(p)||p<=0||!Nt(y)||y<=0||!Nt(f)||f!==+f||!Nt(m)||m!==+m)return null;var E=d.verticalCoordinatesGenerator||yXe,S=d.horizontalCoordinatesGenerator||bXe,C=d.horizontalPoints,k=d.verticalPoints;if((!C||!C.length)&&_r(S)){var D=v&&v.length,O=S({yAxis:j?xi(xi({},j),{},{ticks:D?v:j.ticks}):void 0,width:l,height:c,offset:u},D?!0:g);yc(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xm(O),"]")),Array.isArray(O)&&(C=O)}if((!k||!k.length)&&_r(E)){var P=w&&w.length,A=E({xAxis:b?xi(xi({},b),{},{ticks:P?w:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);yc(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xm(A),"]")),Array.isArray(A)&&(k=A)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(mXe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ce.createElement(pXe,Xh({},d,{offset:u,horizontalPoints:C,xAxis:b,yAxis:j})),ce.createElement(gXe,Xh({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:j})),ce.createElement(xXe,Xh({},d,{horizontalPoints:C})),ce.createElement(vXe,Xh({},d,{verticalPoints:k})))}lw.displayName="CartesianGrid";var wXe=["type","layout","connectNulls","ref"],_Xe=["key"];function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function MY(e,t){if(e==null)return{};var r=jXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function FY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FY(Object(r),!0).forEach(function(n){oc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e){return CXe(e)||kXe(e)||SXe(e)||NXe()}function NXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SXe(e,t){if(e){if(typeof e=="string")return EI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(e,t)}}function kXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CXe(e){if(Array.isArray(e))return EI(e)}function EI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qce(n.key),n)}}function TXe(e,t,r){return t&&LY(e.prototype,t),r&&LY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AXe(e,t,r){return t=GS(t),PXe(e,Zce()?Reflect.construct(t,r||[],GS(e).constructor):t.apply(e,r))}function PXe(e,t){if(t&&(G0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OXe(e)}function OXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zce=function(){return!!e})()}function GS(e){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GS(e)}function RXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TI(e,t)}function TI(e,t){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TI(e,t)}function oc(e,t,r){return t=Qce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qce(e){var t=DXe(e,"string");return G0(t)=="symbol"?t:t+""}function DXe(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u1=(function(e){function t(){var r;EXe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=AXe(this,t,[].concat(a)),oc(r,"state",{isAnimationFinished:!0,totalLength:0}),oc(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),oc(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(w,b){return w+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,p=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){p=[].concat(fg(c.slice(0,y)),[f-g]);break}var v=p.length%2===0?[0,m]:[m];return[].concat(fg(t.repeat(c,d)),fg(p),v).map(function(w){return"".concat(w,"px")}).join(", ")}),oc(r,"id",wx("recharts-line-")),oc(r,"pathRef",function(o){r.mainCurve=o}),oc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),oc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return RXe(t,e),TXe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Qo(d,c1);if(!f)return null;var m=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:_a(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ce.createElement(dn,p,f.map(function(y){return ce.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ir(this.props,!1),m=ir(c,!0),p=u.map(function(g,v){var w=To(To(To({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,w)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ce.createElement(dn,Ly({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=MY(l,wXe),m=To(To(To({},ir(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ce.createElement(CS,Ly({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,p=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,w=this.state,b=w.prevPoints,j=w.totalLength;return ce.createElement(lu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(b){var C=b.length/l.length,k=l.map(function(R,F){var L=Math.floor(F*C);if(b[L]){var W=b[L],V=Bo(W.x,R.x),H=Bo(W.y,R.y);return To(To({},R),{},{x:V(S),y:H(S)})}if(y){var G=Bo(g*2,R.x),I=Bo(v/2,R.y);return To(To({},R),{},{x:G(S),y:I(S)})}return To(To({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(k,n,a)}var D=Bo(0,j),O=D(S),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});P=i.getStrokeDasharray(O,j,A)}else P=i.generateSimpleStrokeDasharray(j,O);return i.renderCurveStatically(l,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!l1(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,m=a.left,p=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,b=l.length===1,j=Or("recharts-line",c),E=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,C=E||S,k=Ar(v)?this.id:v,D=(n=ir(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=D.r,P=O===void 0?3:O,A=D.strokeWidth,R=A===void 0?2:A,F=hLe(o)?o:{},L=F.clipDot,W=L===void 0?!0:L,V=P*2+R;return ce.createElement(dn,{className:j},E||S?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(k)},ce.createElement("rect",{x:E?m:m-p/2,y:S?f:f-y/2,width:E?p:p*2,height:S?y:y*2})),!W&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ce.createElement("rect",{x:m-V/2,y:f-V/2,width:p+V,height:y+V}))):null,!b&&this.renderCurve(C,k),this.renderErrorBar(C,k),(b||o)&&this.renderDots(C,W,k),(!g||w)&&Yu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(fg(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(fg(o),fg(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(ce.isValidElement(n))i=ce.cloneElement(n,a);else if(_r(n))i=n(a);else{var o=a.key,l=MY(a,_Xe),c=Or("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ce.createElement(Fk,Ly({key:o},l,{className:c}))}return i}}])})(_.PureComponent);oc(u1,"displayName","Line");oc(u1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});oc(u1,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,p){var y=_a(m,o);return d==="horizontal"?{x:BG({axis:r,ticks:a,bandSize:l,entry:m,index:p}),y:Ar(y)?null:n.scale(y),value:y,payload:m}:{x:Ar(y)?null:r.scale(y),y:BG({axis:n,ticks:i,bandSize:l,entry:m,index:p}),value:y,payload:m}});return To({points:f,layout:d},u)});function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function IXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rue(n.key),n)}}function FXe(e,t,r){return t&&MXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LXe(e,t,r){return t=KS(t),$Xe(e,eue()?Reflect.construct(t,r||[],KS(e).constructor):t.apply(e,r))}function $Xe(e,t){if(t&&(K0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BXe(e)}function BXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eue=function(){return!!e})()}function KS(e){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KS(e)}function UXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AI(e,t)}function AI(e,t){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AI(e,t)}function tue(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=VXe(e,"string");return K0(t)=="symbol"?t:t+""}function VXe(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PI(){return PI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PI.apply(this,arguments)}function zXe(e){var t=e.xAxisId,r=K6(),n=Y6(),a=Bce(t);return a==null?null:_.createElement(kx,PI({},a,{className:Or("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Uu(o,!0)}}))}var Bf=(function(e){function t(){return IXe(this,t),LXe(this,t,arguments)}return UXe(t,e),FXe(t,[{key:"render",value:function(){return _.createElement(zXe,this.props)}}])})(_.Component);tue(Bf,"displayName","XAxis");tue(Bf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function qXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aue(n.key),n)}}function HXe(e,t,r){return t&&WXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GXe(e,t,r){return t=YS(t),KXe(e,nue()?Reflect.construct(t,r||[],YS(e).constructor):t.apply(e,r))}function KXe(e,t){if(t&&(Y0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YXe(e)}function YXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nue=function(){return!!e})()}function YS(e){return YS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YS(e)}function XXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OI(e,t)}function OI(e,t){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OI(e,t)}function sue(e,t,r){return t=aue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=JXe(e,"string");return Y0(t)=="symbol"?t:t+""}function JXe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RI(){return RI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RI.apply(this,arguments)}var ZXe=function(t){var r=t.yAxisId,n=K6(),a=Y6(),i=Uce(r);return i==null?null:_.createElement(kx,RI({},i,{className:Or("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Uu(l,!0)}}))},Uf=(function(e){function t(){return qXe(this,t),GXe(this,t,arguments)}return XXe(t,e),HXe(t,[{key:"render",value:function(){return _.createElement(ZXe,this.props)}}])})(_.Component);sue(Uf,"displayName","YAxis");sue(Uf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $Y(e){return rJe(e)||tJe(e)||eJe(e)||QXe()}function QXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJe(e,t){if(e){if(typeof e=="string")return DI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(e,t)}}function tJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rJe(e){if(Array.isArray(e))return DI(e)}function DI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var II=function(t,r,n,a,i){var o=Qo(t,J6),l=Qo(t,Hk),c=[].concat($Y(o),$Y(l)),u=Qo(t,Kk),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[d]===n&&eu(v.props,"extendDomain")&&Nt(v.props[f])){var w=v.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},m)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(g,v){if(v.props[d]===n&&eu(v.props,"extendDomain")&&Nt(v.props[p])&&Nt(v.props[y])){var w=v.props[p],b=v.props[y];return[Math.min(g[0],w,b),Math.max(g[1],w,b)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,v){return Nt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},rR={exports:{}},BY;function nJe(){return BY||(BY=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,y){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],w=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var E=v.length,S;for(j=0;j<E;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),w){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,m);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var g=0,v=[],w=y.length;g<w;g++)(y[g].fn!==d||m&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(rR)),rR.exports}var sJe=nJe();const aJe=tn(sJe);var nR=new aJe,sR="recharts.syncMouseEvents";function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}function iJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iue(n.key),n)}}function lJe(e,t,r){return t&&oJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aR(e,t,r){return t=iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=cJe(e,"string");return cw(t)=="symbol"?t:t+""}function cJe(e,t){if(cw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uJe=(function(){function e(){iJe(this,e),aR(this,"activeIndex",0),aR(this,"coordinateList",[]),aR(this,"layout","horizontal")}return lJe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function dJe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&Nt(n)&&Nt(a))return!0}return!1}function fJe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oue(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Yn(t,r,n,a),l=Yn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function hJe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=Yn(l,c,u,f),p=Yn(l,c,d,f);n=m.x,a=m.y,i=p.x,o=p.y}else return oue(t);return[{x:n,y:a},{x:i,y:o}]}function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function UY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UY(Object(r),!0).forEach(function(n){mJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJe(e,t,r){return t=pJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pJe(e){var t=gJe(e,"string");return uw(t)=="symbol"?t:t+""}function gJe(e,t){if(uw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xJe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var y,g=CS;if(m==="ScatterChart")y=o,g=$He;else if(m==="BarChart")y=fJe(f,o,c,d),g=q6;else if(f==="radial"){var v=oue(o),w=v.cx,b=v.cy,j=v.radius,E=v.startAngle,S=v.endAngle;y={cx:w,cy:b,startAngle:E,endAngle:S,innerRadius:j,outerRadius:j},g=lce}else y={points:hJe(f,o,c)},g=CS;var C=xj(xj(xj(xj({stroke:"#ccc",pointerEvents:"none"},c),y),ir(p,!1)),{},{payload:l,payloadIndex:u,className:Or("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,C):_.createElement(g,C)}var vJe=["item"],yJe=["children","className","width","height","style","compact","title","desc"];function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function VY(e,t){return _Je(e)||wJe(e,t)||cue(e,t)||bJe()}function bJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Je(e){if(Array.isArray(e))return e}function zY(e,t){if(e==null)return{};var r=jJe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uue(n.key),n)}}function kJe(e,t,r){return t&&SJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CJe(e,t,r){return t=XS(t),EJe(e,lue()?Reflect.construct(t,r||[],XS(e).constructor):t.apply(e,r))}function EJe(e,t){if(t&&(X0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TJe(e)}function TJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lue=function(){return!!e})()}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XS(e)}function AJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MI(e,t)}function MI(e,t){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MI(e,t)}function J0(e){return RJe(e)||OJe(e)||cue(e)||PJe()}function PJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(e,t){if(e){if(typeof e=="string")return FI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(e,t)}}function OJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RJe(e){if(Array.isArray(e))return FI(e)}function FI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qY(Object(r),!0).forEach(function(n){lr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lr(e,t,r){return t=uue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uue(e){var t=DJe(e,"string");return X0(t)=="symbol"?t:t+""}function DJe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(X0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IJe={xAxis:["bottom","top"],yAxis:["left","right"]},MJe={width:"100%",height:"100%"},due={x:0,y:0};function vj(e){return e}var FJe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},LJe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return nt(nt(nt({},a),Yn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return nt(nt(nt({},a),Yn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return due},Yk=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(J0(l),J0(u)):l},[]);return o.length>0?o:t&&t.length&&Nt(a)&&Nt(i)?t.slice(a,i+1):[]};function fue(e){return e==="number"?[0,"auto"]:void 0}var LI=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Yk(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;m=QN(p,o.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(J0(c),[rce(u,m)]):c},[])},WY=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=FJe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=uze(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=LI(t,r,d,f),p=LJe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},$Je=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,p=Xle(d,i);return n.reduce(function(y,g){var v,w=g.type.defaultProps!==void 0?nt(nt({},g.type.defaultProps),g.props):g.props,b=w.type,j=w.dataKey,E=w.allowDataOverflow,S=w.allowDuplicatedCategory,C=w.scale,k=w.ticks,D=w.includeHidden,O=w[o];if(y[O])return y;var P=Yk(t.data,{graphicalItems:a.filter(function(z){var Z,J=o in z.props?z.props[o]:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z[o];return J===O}),dataStartIndex:c,dataEndIndex:u}),A=P.length,R,F,L;dJe(w.domain,E,b)&&(R=Z3(w.domain,null,E),p&&(b==="number"||C!=="auto")&&(L=Dy(P,j,"category")));var W=fue(b);if(!R||R.length===0){var V,H=(V=w.domain)!==null&&V!==void 0?V:W;if(j){if(R=Dy(P,j,b),b==="category"&&p){var G=nLe(R);S&&G?(F=R,R=FS(0,A)):S||(R=qG(H,R,g).reduce(function(z,Z){return z.indexOf(Z)>=0?z:[].concat(J0(z),[Z])},[]))}else if(b==="category")S?R=R.filter(function(z){return z!==""&&!Ar(z)}):R=qG(H,R,g).reduce(function(z,Z){return z.indexOf(Z)>=0||Z===""||Ar(Z)?z:[].concat(J0(z),[Z])},[]);else if(b==="number"){var I=pze(P,a.filter(function(z){var Z,J,Q=o in z.props?z.props[o]:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z[o],de="hide"in z.props?z.props.hide:(J=z.type.defaultProps)===null||J===void 0?void 0:J.hide;return Q===O&&(D||!de)}),j,i,d);I&&(R=I)}p&&(b==="number"||C!=="auto")&&(L=Dy(P,j,"category"))}else p?R=FS(0,A):l&&l[O]&&l[O].hasStack&&b==="number"?R=m==="expand"?[0,1]:tce(l[O].stackGroups,c,u):R=Yle(P,a.filter(function(z){var Z=o in z.props?z.props[o]:z.type.defaultProps[o],J="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Z===O&&(D||!J)}),b,d,!0);if(b==="number")R=II(f,R,O,i,k),H&&(R=Z3(H,R,E));else if(b==="category"&&H){var U=H,X=R.every(function(z){return U.indexOf(z)>=0});X&&(R=U)}}return nt(nt({},y),{},lr({},O,nt(nt({},w),{},{axisType:i,domain:R,categoricalDomain:L,duplicateDomain:F,originalDomain:(v=w.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:d})))},{})},BJe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=Yk(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=Xle(d,i),g=-1;return n.reduce(function(v,w){var b=w.type.defaultProps!==void 0?nt(nt({},w.type.defaultProps),w.props):w.props,j=b[o],E=fue("number");if(!v[j]){g++;var S;return y?S=FS(0,p):l&&l[j]&&l[j].hasStack?(S=tce(l[j].stackGroups,c,u),S=II(f,S,j,i)):(S=Z3(E,Yle(m,n.filter(function(C){var k,D,O=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],P="hide"in C.props?C.props.hide:(D=C.type.defaultProps)===null||D===void 0?void 0:D.hide;return O===j&&!P}),"number",d),a.defaultProps.allowDataOverflow),S=II(f,S,j,i)),nt(nt({},v),{},lr({},j,nt(nt({axisType:i},a.defaultProps),{},{hide:!0,orientation:Zo(IJe,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:E,isCategorical:y,layout:d})))}return v},{})},UJe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),m=Qo(d,i),p={};return m&&m.length?p=$Je(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=BJe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},VJe=function(t){var r=Jd(t),n=Uu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:x6(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:NS(r,n)}},HY=function(t){var r=t.children,n=t.defaultShowTooltip,a=Do(r,U0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},zJe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Gu(r&&r.type);return n&&n.indexOf("Bar")>=0})},GY=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qJe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=Do(f,U0),y=Do(f,yf),g=Object.keys(c).reduce(function(S,C){var k=c[C],D=k.orientation;return!k.mirror&&!k.hide?nt(nt({},S),{},lr({},D,S[D]+k.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,C){var k=o[C],D=k.orientation;return!k.mirror&&!k.hide?nt(nt({},S),{},lr({},D,Zo(S,"".concat(D))+k.height)):S},{top:m.top||0,bottom:m.bottom||0}),w=nt(nt({},v),g),b=w.bottom;p&&(w.bottom+=p.props.height||U0.defaultProps.height),y&&r&&(w=hze(w,a,n,r));var j=u-w.left-w.right,E=d-w.top-w.bottom;return nt(nt({brushBottom:b},w),{},{width:Math.max(j,0),height:Math.max(E,0)})},WJe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},eL=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(w,b){var j=b.graphicalItems,E=b.stackGroups,S=b.offset,C=b.updateId,k=b.dataStartIndex,D=b.dataEndIndex,O=w.barSize,P=w.layout,A=w.barGap,R=w.barCategoryGap,F=w.maxBarSize,L=GY(P),W=L.numericAxisName,V=L.cateAxisName,H=zJe(j),G=[];return j.forEach(function(I,U){var X=Yk(w.data,{graphicalItems:[I],dataStartIndex:k,dataEndIndex:D}),z=I.type.defaultProps!==void 0?nt(nt({},I.type.defaultProps),I.props):I.props,Z=z.dataKey,J=z.maxBarSize,Q=z["".concat(W,"Id")],de=z["".concat(V,"Id")],fe={},pe=c.reduce(function(we,Oe){var Ge=b["".concat(Oe.axisType,"Map")],Ze=z["".concat(Oe.axisType,"Id")];Ge&&Ge[Ze]||Oe.axisType==="zAxis"||Ym();var Se=Ge[Ze];return nt(nt({},we),{},lr(lr({},Oe.axisType,Se),"".concat(Oe.axisType,"Ticks"),Uu(Se)))},fe),K=pe[V],ee=pe["".concat(V,"Ticks")],se=E&&E[Q]&&E[Q].hasStack&&Nze(I,E[Q].stackGroups),B=Gu(I.type).indexOf("Bar")>=0,ie=NS(K,ee),ae=[],Ne=H&&dze({barSize:O,stackGroups:E,totalSize:WJe(pe,V)});if(B){var Ee,ue,qe=Ar(J)?F:J,Je=(Ee=(ue=NS(K,ee,!0))!==null&&ue!==void 0?ue:qe)!==null&&Ee!==void 0?Ee:0;ae=fze({barGap:A,barCategoryGap:R,bandSize:Je!==ie?Je:ie,sizeList:Ne[de],maxBarSize:qe}),Je!==ie&&(ae=ae.map(function(we){return nt(nt({},we),{},{position:nt(nt({},we.position),{},{offset:we.position.offset-Je/2})})}))}var le=I&&I.type&&I.type.getComposedData;le&&G.push({props:nt(nt({},le(nt(nt({},pe),{},{displayedData:X,props:w,dataKey:Z,item:I,bandSize:ie,barPosition:ae,offset:S,stackedData:se,layout:P,dataStartIndex:k,dataEndIndex:D}))),{},lr(lr(lr({key:I.key||"item-".concat(U)},W,pe[W]),V,pe[V]),"animationId",C)),childIndex:gLe(I,w.children),item:I})}),G},p=function(w,b){var j=w.props,E=w.dataStartIndex,S=w.dataEndIndex,C=w.updateId;if(!sq({props:j}))return null;var k=j.children,D=j.layout,O=j.stackOffset,P=j.data,A=j.reverseStackOrder,R=GY(D),F=R.numericAxisName,L=R.cateAxisName,W=Qo(k,n),V=_ze(P,W,"".concat(F,"Id"),"".concat(L,"Id"),O,A),H=c.reduce(function(z,Z){var J="".concat(Z.axisType,"Map");return nt(nt({},z),{},lr({},J,UJe(j,nt(nt({},Z),{},{graphicalItems:W,stackGroups:Z.axisType===F&&V,dataStartIndex:E,dataEndIndex:S}))))},{}),G=qJe(nt(nt({},H),{},{props:j,graphicalItems:W}),b?.legendBBox);Object.keys(H).forEach(function(z){H[z]=d(j,H[z],G,z.replace("Map",""),r)});var I=H["".concat(L,"Map")],U=VJe(I),X=m(j,nt(nt({},H),{},{dataStartIndex:E,dataEndIndex:S,updateId:C,graphicalItems:W,stackGroups:V,offset:G}));return nt(nt({formattedGraphicalItems:X,graphicalItems:W,offset:G,stackGroups:V},U),H)},y=(function(v){function w(b){var j,E,S;return NJe(this,w),S=CJe(this,w,[b]),lr(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lr(S,"accessibilityManager",new uJe),lr(S,"handleLegendBBoxUpdate",function(C){if(C){var k=S.state,D=k.dataStartIndex,O=k.dataEndIndex,P=k.updateId;S.setState(nt({legendBBox:C},p({props:S.props,dataStartIndex:D,dataEndIndex:O,updateId:P},nt(nt({},S.state),{},{legendBBox:C}))))}}),lr(S,"handleReceiveSyncEvent",function(C,k,D){if(S.props.syncId===C){if(D===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),lr(S,"handleBrushChange",function(C){var k=C.startIndex,D=C.endIndex;if(k!==S.state.dataStartIndex||D!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return nt({dataStartIndex:k,dataEndIndex:D},p({props:S.props,dataStartIndex:k,dataEndIndex:D,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:D})}}),lr(S,"handleMouseEnter",function(C){var k=S.getMouseInfo(C);if(k){var D=nt(nt({},k),{},{isTooltipActive:!0});S.setState(D),S.triggerSyncEvent(D);var O=S.props.onMouseEnter;_r(O)&&O(D,C)}}),lr(S,"triggeredAfterMouseMove",function(C){var k=S.getMouseInfo(C),D=k?nt(nt({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(D),S.triggerSyncEvent(D);var O=S.props.onMouseMove;_r(O)&&O(D,C)}),lr(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),lr(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),lr(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),lr(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var D=S.props.onMouseLeave;_r(D)&&D(k,C)}),lr(S,"handleOuterEvent",function(C){var k=pLe(C),D=Zo(S.props,"".concat(k));if(k&&_r(D)){var O,P;/.*touch.*/i.test(k)?P=S.getMouseInfo(C.changedTouches[0]):P=S.getMouseInfo(C),D((O=P)!==null&&O!==void 0?O:{},C)}}),lr(S,"handleClick",function(C){var k=S.getMouseInfo(C);if(k){var D=nt(nt({},k),{},{isTooltipActive:!0});S.setState(D),S.triggerSyncEvent(D);var O=S.props.onClick;_r(O)&&O(D,C)}}),lr(S,"handleMouseDown",function(C){var k=S.props.onMouseDown;if(_r(k)){var D=S.getMouseInfo(C);k(D,C)}}),lr(S,"handleMouseUp",function(C){var k=S.props.onMouseUp;if(_r(k)){var D=S.getMouseInfo(C);k(D,C)}}),lr(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),lr(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),lr(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),lr(S,"handleDoubleClick",function(C){var k=S.props.onDoubleClick;if(_r(k)){var D=S.getMouseInfo(C);k(D,C)}}),lr(S,"handleContextMenu",function(C){var k=S.props.onContextMenu;if(_r(k)){var D=S.getMouseInfo(C);k(D,C)}}),lr(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&nR.emit(sR,S.props.syncId,C,S.eventEmitterSymbol)}),lr(S,"applySyncEvent",function(C){var k=S.props,D=k.layout,O=k.syncMethod,P=S.state.updateId,A=C.dataStartIndex,R=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(nt({dataStartIndex:A,dataEndIndex:R},p({props:S.props,dataStartIndex:A,dataEndIndex:R,updateId:P},S.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,L=C.chartY,W=C.activeTooltipIndex,V=S.state,H=V.offset,G=V.tooltipTicks;if(!H)return;if(typeof O=="function")W=O(G,C);else if(O==="value"){W=-1;for(var I=0;I<G.length;I++)if(G[I].value===C.activeLabel){W=I;break}}var U=nt(nt({},H),{},{x:H.left,y:H.top}),X=Math.min(F,U.x+U.width),z=Math.min(L,U.y+U.height),Z=G[W]&&G[W].value,J=LI(S.state,S.props.data,W),Q=G[W]?{x:D==="horizontal"?G[W].coordinate:X,y:D==="horizontal"?z:G[W].coordinate}:due;S.setState(nt(nt({},C),{},{activeLabel:Z,activeCoordinate:Q,activePayload:J,activeTooltipIndex:W}))}else S.setState(C)}),lr(S,"renderCursor",function(C){var k,D=S.state,O=D.isTooltipActive,P=D.activeCoordinate,A=D.activePayload,R=D.offset,F=D.activeTooltipIndex,L=D.tooltipAxisBandSize,W=S.getTooltipEventType(),V=(k=C.props.active)!==null&&k!==void 0?k:O,H=S.props.layout,G=C.key||"_recharts-cursor";return ce.createElement(xJe,{key:G,activeCoordinate:P,activePayload:A,activeTooltipIndex:F,chartName:r,element:C,isActive:V,layout:H,offset:R,tooltipAxisBandSize:L,tooltipEventType:W})}),lr(S,"renderPolarAxis",function(C,k,D){var O=Zo(C,"type.axisType"),P=Zo(S.state,"".concat(O,"Map")),A=C.type.defaultProps,R=A!==void 0?nt(nt({},A),C.props):C.props,F=P&&P[R["".concat(O,"Id")]];return _.cloneElement(C,nt(nt({},F),{},{className:Or(O,F.className),key:C.key||"".concat(k,"-").concat(D),ticks:Uu(F,!0)}))}),lr(S,"renderPolarGrid",function(C){var k=C.props,D=k.radialLines,O=k.polarAngles,P=k.polarRadius,A=S.state,R=A.radiusAxisMap,F=A.angleAxisMap,L=Jd(R),W=Jd(F),V=W.cx,H=W.cy,G=W.innerRadius,I=W.outerRadius;return _.cloneElement(C,{polarAngles:Array.isArray(O)?O:Uu(W,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(P)?P:Uu(L,!0).map(function(U){return U.coordinate}),cx:V,cy:H,innerRadius:G,outerRadius:I,key:C.key||"polar-grid",radialLines:D})}),lr(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,k=S.props,D=k.children,O=k.width,P=k.height,A=S.props.margin||{},R=O-(A.left||0)-(A.right||0),F=Gle({children:D,formattedGraphicalItems:C,legendWidth:R,legendContent:u});if(!F)return null;var L=F.item,W=zY(F,vJe);return _.cloneElement(L,nt(nt({},W),{},{chartWidth:O,chartHeight:P,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),lr(S,"renderTooltip",function(){var C,k=S.props,D=k.children,O=k.accessibilityLayer,P=Do(D,fo);if(!P)return null;var A=S.state,R=A.isTooltipActive,F=A.activeCoordinate,L=A.activePayload,W=A.activeLabel,V=A.offset,H=(C=P.props.active)!==null&&C!==void 0?C:R;return _.cloneElement(P,{viewBox:nt(nt({},V),{},{x:V.left,y:V.top}),active:H,label:W,payload:H?L:[],coordinate:F,accessibilityLayer:O})}),lr(S,"renderBrush",function(C){var k=S.props,D=k.margin,O=k.data,P=S.state,A=P.offset,R=P.dataStartIndex,F=P.dataEndIndex,L=P.updateId;return _.cloneElement(C,{key:C.key||"_recharts-brush",onChange:hj(S.handleBrushChange,C.props.onChange),data:O,x:Nt(C.props.x)?C.props.x:A.left,y:Nt(C.props.y)?C.props.y:A.top+A.height+A.brushBottom-(D.bottom||0),width:Nt(C.props.width)?C.props.width:A.width,startIndex:R,endIndex:F,updateId:"brush-".concat(L)})}),lr(S,"renderReferenceElement",function(C,k,D){if(!C)return null;var O=S,P=O.clipPathId,A=S.state,R=A.xAxisMap,F=A.yAxisMap,L=A.offset,W=C.type.defaultProps||{},V=C.props,H=V.xAxisId,G=H===void 0?W.xAxisId:H,I=V.yAxisId,U=I===void 0?W.yAxisId:I;return _.cloneElement(C,{key:C.key||"".concat(k,"-").concat(D),xAxis:R[G],yAxis:F[U],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:P})}),lr(S,"renderActivePoints",function(C){var k=C.item,D=C.activePoint,O=C.basePoint,P=C.childIndex,A=C.isRange,R=[],F=k.props.key,L=k.item.type.defaultProps!==void 0?nt(nt({},k.item.type.defaultProps),k.item.props):k.item.props,W=L.activeDot,V=L.dataKey,H=nt(nt({index:P,dataKey:V,cx:D.x,cy:D.y,r:4,fill:z6(k.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},ir(W,!1)),eS(W));return R.push(w.renderActiveDot(W,H,"".concat(F,"-activePoint-").concat(P))),O?R.push(w.renderActiveDot(W,nt(nt({},H),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(P))):A&&R.push(null),R}),lr(S,"renderGraphicChild",function(C,k,D){var O=S.filterFormatItem(C,k,D);if(!O)return null;var P=S.getTooltipEventType(),A=S.state,R=A.isTooltipActive,F=A.tooltipAxis,L=A.activeTooltipIndex,W=A.activeLabel,V=S.props.children,H=Do(V,fo),G=O.props,I=G.points,U=G.isRange,X=G.baseLine,z=O.item.type.defaultProps!==void 0?nt(nt({},O.item.type.defaultProps),O.item.props):O.item.props,Z=z.activeDot,J=z.hide,Q=z.activeBar,de=z.activeShape,fe=!!(!J&&R&&H&&(Z||Q||de)),pe={};P!=="axis"&&H&&H.props.trigger==="click"?pe={onClick:hj(S.handleItemMouseEnter,C.props.onClick)}:P!=="axis"&&(pe={onMouseLeave:hj(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:hj(S.handleItemMouseEnter,C.props.onMouseEnter)});var K=_.cloneElement(C,nt(nt({},O.props),pe));function ee(Oe){return typeof F.dataKey=="function"?F.dataKey(Oe.payload):null}if(fe)if(L>=0){var se,B;if(F.dataKey&&!F.allowDuplicatedCategory){var ie=typeof F.dataKey=="function"?ee:"payload.".concat(F.dataKey.toString());se=QN(I,ie,W),B=U&&X&&QN(X,ie,W)}else se=I?.[L],B=U&&X&&X[L];if(de||Q){var ae=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[_.cloneElement(C,nt(nt(nt({},O.props),pe),{},{activeIndex:ae})),null,null]}if(!Ar(se))return[K].concat(J0(S.renderActivePoints({item:O,activePoint:se,basePoint:B,childIndex:L,isRange:U})))}else{var Ne,Ee=(Ne=S.getItemByXY(S.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:K},ue=Ee.graphicalItem,qe=ue.item,Je=qe===void 0?C:qe,le=ue.childIndex,we=nt(nt(nt({},O.props),pe),{},{activeIndex:le});return[_.cloneElement(Je,we),null,null]}return U?[K,null,null]:[K,null]}),lr(S,"renderCustomized",function(C,k,D){return _.cloneElement(C,nt(nt({key:"recharts-customized-".concat(D)},S.props),S.state))}),lr(S,"renderMap",{CartesianGrid:{handler:vj,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:vj},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:vj},YAxis:{handler:vj},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:wx("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Hoe(S.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return AJe(w,v),kJe(w,[{key:"componentDidMount",value:function(){var j,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,E=j.children,S=j.data,C=j.height,k=j.layout,D=Do(E,fo);if(D){var O=D.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,A=LI(this.state,S,O,P),R=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+C)/2,L=k==="horizontal",W=L?{x:R,y:F}:{y:R,x:F},V=this.state.formattedGraphicalItems.find(function(G){var I=G.item;return I.type.name==="Scatter"});V&&(W=nt(nt({},W),V.props.points[O].tooltipPosition),A=V.props.points[O].tooltipPayload);var H={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:W};this.setState(H),this.renderCursor(D),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(j){b3([Do(j.children,fo)],[Do(this.props.children,fo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Do(this.props.children,fo);if(j&&typeof j.props.shared=="boolean"){var E=j.props.shared?"axis":"item";return l.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),C=r9e(S),k={chartX:Math.round(j.pageX-C.left),chartY:Math.round(j.pageY-C.top)},D=S.width/E.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,D);if(!O)return null;var P=this.state,A=P.xAxisMap,R=P.yAxisMap,F=this.getTooltipEventType(),L=WY(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&A&&R){var W=Jd(A).scale,V=Jd(R).scale,H=W&&W.invert?W.invert(k.chartX):null,G=V&&V.invert?V.invert(k.chartY):null;return nt(nt({},k),{},{xValue:H,yValue:G},L)}return L?nt(nt({},k),L):null}},{key:"inRange",value:function(j,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=j/S,D=E/S;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,P=k>=O.left&&k<=O.left+O.width&&D>=O.top&&D<=O.top+O.height;return P?{x:k,y:D}:null}var A=this.state,R=A.angleAxisMap,F=A.radiusAxisMap;if(R&&F){var L=Jd(R);return GG({x:k,y:D},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,E=this.getTooltipEventType(),S=Do(j,fo),C={};S&&E==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=eS(this.props,this.handleOuterEvent);return nt(nt({},k),C)}},{key:"addListener",value:function(){nR.on(sR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nR.removeListener(sR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,E,S){for(var C=this.state.formattedGraphicalItems,k=0,D=C.length;k<D;k++){var O=C[k];if(O.item===j||O.props.key===j.key||E===Gu(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,E=this.state.offset,S=E.left,C=E.top,k=E.height,D=E.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:j},ce.createElement("rect",{x:S,y:C,height:k,width:D})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(E,S){var C=VY(S,2),k=C[0],D=C[1];return nt(nt({},E),{},lr({},k,D.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(E,S){var C=VY(S,2),k=C[0],D=C[1];return nt(nt({},E),{},lr({},k,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[j])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(j){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[j])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(j){var E=this.state,S=E.formattedGraphicalItems,C=E.activeItem;if(S&&S.length)for(var k=0,D=S.length;k<D;k++){var O=S[k],P=O.props,A=O.item,R=A.type.defaultProps!==void 0?nt(nt({},A.type.defaultProps),A.props):A.props,F=Gu(A.type);if(F==="Bar"){var L=(P.data||[]).find(function(G){return yHe(j,G)});if(L)return{graphicalItem:O,payload:L}}else if(F==="RadialBar"){var W=(P.data||[]).find(function(G){return GG(j,G)});if(W)return{graphicalItem:O,payload:W}}else if(Vk(O,C)||zk(O,C)||nw(O,C)){var V=VGe({graphicalItem:O,activeTooltipItem:C,itemData:R.data}),H=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:nt(nt({},O),{},{childIndex:H}),payload:nw(O,C)?R.data[V]:O.props.data[V]}}}return null}},{key:"render",value:function(){var j=this;if(!sq(this))return null;var E=this.props,S=E.children,C=E.className,k=E.width,D=E.height,O=E.style,P=E.compact,A=E.title,R=E.desc,F=zY(E,yJe),L=ir(F,!1);if(P)return ce.createElement(jY,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(_3,Og({},L,{width:k,height:D,title:A,desc:R}),this.renderClipPath(),iq(S,this.renderMap)));if(this.props.accessibilityLayer){var W,V;L.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,L.role=(V=this.props.role)!==null&&V!==void 0?V:"application",L.onKeyDown=function(G){j.accessibilityManager.keyboardEvent(G)},L.onFocus=function(){j.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ce.createElement(jY,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Og({className:Or("recharts-wrapper",C),style:nt({position:"relative",cursor:"default",width:k,height:D},O)},H,{ref:function(I){j.container=I}}),ce.createElement(_3,Og({},L,{width:k,height:D,title:A,desc:R,style:MJe}),this.renderClipPath(),iq(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);lr(y,"displayName",r),lr(y,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),lr(y,"getDerivedStateFromProps",function(v,w){var b=v.dataKey,j=v.data,E=v.children,S=v.width,C=v.height,k=v.layout,D=v.stackOffset,O=v.margin,P=w.dataStartIndex,A=w.dataEndIndex;if(w.updateId===void 0){var R=HY(v);return nt(nt(nt({},R),{},{updateId:0},p(nt(nt({props:v},R),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:j,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:D,prevMargin:O,prevChildren:E})}if(b!==w.prevDataKey||j!==w.prevData||S!==w.prevWidth||C!==w.prevHeight||k!==w.prevLayout||D!==w.prevStackOffset||!r0(O,w.prevMargin)){var F=HY(v),L={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},W=nt(nt({},WY(w,j,k)),{},{updateId:w.updateId+1}),V=nt(nt(nt({},F),L),W);return nt(nt(nt({},V),p(nt({props:v},V),w)),{},{prevDataKey:b,prevData:j,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:D,prevMargin:O,prevChildren:E})}if(!b3(E,w.prevChildren)){var H,G,I,U,X=Do(E,U0),z=X&&(H=(G=X.props)===null||G===void 0?void 0:G.startIndex)!==null&&H!==void 0?H:P,Z=X&&(I=(U=X.props)===null||U===void 0?void 0:U.endIndex)!==null&&I!==void 0?I:A,J=z!==P||Z!==A,Q=!Ar(j),de=Q&&!J?w.updateId:w.updateId+1;return nt(nt({updateId:de},p(nt(nt({props:v},w),{},{updateId:de,dataStartIndex:z,dataEndIndex:Z}),w)),{},{prevChildren:E,dataStartIndex:z,dataEndIndex:Z})}return null}),lr(y,"renderActiveDot",function(v,w,b){var j;return _.isValidElement(v)?j=_.cloneElement(v,w):_r(v)?j=v(w):j=ce.createElement(Fk,w),ce.createElement(dn,{className:"recharts-active-dot",key:b},j)});var g=_.forwardRef(function(w,b){return ce.createElement(y,Og({},w,{ref:b}))});return g.displayName=y.displayName,g},HJe=eL({chartName:"LineChart",GraphicalChild:u1,axisComponents:[{axisType:"xAxis",AxisComp:Bf},{axisType:"yAxis",AxisComp:Uf}],formatAxisMap:Oce}),$I=eL({chartName:"BarChart",GraphicalChild:Uo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bf},{axisType:"yAxis",AxisComp:Uf}],formatAxisMap:Oce}),GJe=eL({chartName:"PieChart",GraphicalChild:vd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Uk},{axisType:"radiusAxis",AxisComp:$k}],formatAxisMap:Dze,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function fn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function KJe(e,t){const r=fn(e);return isNaN(t)?Sc(e,NaN):(r.setDate(r.getDate()+t),r)}function YJe(e,t){const r=fn(e);if(isNaN(t))return Sc(e,NaN);if(!t)return r;const n=r.getDate(),a=Sc(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const hue=6048e5,XJe=864e5,mue=6e4,pue=36e5,yj=43200,KY=1440;let JJe={};function d1(){return JJe}function dw(e,t){const r=d1(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=fn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function JS(e){return dw(e,{weekStartsOn:1})}function gue(e){const t=fn(e),r=t.getFullYear(),n=Sc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=JS(n),i=Sc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=JS(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function YY(e){const t=fn(e);return t.setHours(0,0,0,0),t}function ZS(e){const t=fn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function xue(e,t){const r=YY(e),n=YY(t),a=+r-ZS(r),i=+n-ZS(n);return Math.round((a-i)/XJe)}function ZJe(e){const t=gue(e),r=Sc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),JS(r)}function Zj(e,t){const r=fn(e),n=fn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function QJe(e){return Sc(e,Date.now())}function eZe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tZe(e){if(!eZe(e)&&typeof e!="number")return!1;const t=fn(e);return!isNaN(Number(t))}function rZe(e,t){const r=fn(e),n=fn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function QS(e,t){const r=fn(e),n=fn(t),a=XY(r,n),i=Math.abs(xue(r,n));r.setDate(r.getDate()-a*i);const o=+(XY(r,n)===-a),l=a*(i-o);return l===0?0:l}function XY(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function nZe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function sZe(e,t){return+fn(e)-+fn(t)}function aZe(e){const t=fn(e);return t.setHours(23,59,59,999),t}function vue(e){const t=fn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function iZe(e){const t=fn(e);return+aZe(t)==+vue(t)}function oZe(e,t){const r=fn(e),n=fn(t),a=Zj(r,n),i=Math.abs(rZe(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Zj(r,n)===-a;iZe(fn(e))&&i===1&&Zj(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function lZe(e,t,r){const n=sZe(e,t)/1e3;return nZe(r?.roundingMethod)(n)}function JY(e){const t=fn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function cZe(e){const t=fn(e),r=Sc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const uZe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dZe=(e,t,r)=>{let n;const a=uZe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function iR(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fZe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hZe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mZe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pZe={date:iR({formats:fZe,defaultWidth:"full"}),time:iR({formats:hZe,defaultWidth:"full"}),dateTime:iR({formats:mZe,defaultWidth:"full"})},gZe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xZe=(e,t,r,n)=>gZe[e];function Av(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const vZe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yZe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bZe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wZe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_Ze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jZe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NZe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},SZe={ordinalNumber:NZe,era:Av({values:vZe,defaultWidth:"wide"}),quarter:Av({values:yZe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Av({values:bZe,defaultWidth:"wide"}),day:Av({values:wZe,defaultWidth:"wide"}),dayPeriod:Av({values:_Ze,defaultWidth:"wide",formattingValues:jZe,defaultFormattingWidth:"wide"})};function Pv(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?CZe(l,f=>f.test(o)):kZe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function kZe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function CZe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function EZe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const TZe=/^(\d+)(th|st|nd|rd)?/i,AZe=/\d+/i,PZe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OZe={any:[/^b/i,/^(a|c)/i]},RZe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DZe={any:[/1/i,/2/i,/3/i,/4/i]},IZe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MZe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FZe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LZe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$Ze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BZe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UZe={ordinalNumber:EZe({matchPattern:TZe,parsePattern:AZe,valueCallback:e=>parseInt(e,10)}),era:Pv({matchPatterns:PZe,defaultMatchWidth:"wide",parsePatterns:OZe,defaultParseWidth:"any"}),quarter:Pv({matchPatterns:RZe,defaultMatchWidth:"wide",parsePatterns:DZe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pv({matchPatterns:IZe,defaultMatchWidth:"wide",parsePatterns:MZe,defaultParseWidth:"any"}),day:Pv({matchPatterns:FZe,defaultMatchWidth:"wide",parsePatterns:LZe,defaultParseWidth:"any"}),dayPeriod:Pv({matchPatterns:$Ze,defaultMatchWidth:"any",parsePatterns:BZe,defaultParseWidth:"any"})},yue={code:"en-US",formatDistance:dZe,formatLong:pZe,formatRelative:xZe,localize:SZe,match:UZe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VZe(e){const t=fn(e);return xue(t,cZe(t))+1}function zZe(e){const t=fn(e),r=+JS(t)-+ZJe(t);return Math.round(r/hue)+1}function bue(e,t){const r=fn(e),n=r.getFullYear(),a=d1(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Sc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=dw(o,t),c=Sc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=dw(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function qZe(e,t){const r=d1(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=bue(e,t),i=Sc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),dw(i,t)}function WZe(e,t){const r=fn(e),n=+dw(r,t)-+qZe(r,t);return Math.round(n/hue)+1}function Cn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const zd={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Cn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Cn(r+1,2)},d(e,t){return Cn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Cn(e.getHours()%12||12,t.length)},H(e,t){return Cn(e.getHours(),t.length)},m(e,t){return Cn(e.getMinutes(),t.length)},s(e,t){return Cn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Cn(a,t.length)}},hg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZY={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return zd.y(e,t)},Y:function(e,t,r,n){const a=bue(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Cn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Cn(i,t.length)},R:function(e,t){const r=gue(e);return Cn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Cn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Cn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Cn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return zd.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Cn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=WZe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Cn(a,t.length)},I:function(e,t,r){const n=zZe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Cn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):zd.d(e,t)},D:function(e,t,r){const n=VZe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Cn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Cn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Cn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Cn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=hg.noon:n===0?a=hg.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=hg.evening:n>=12?a=hg.afternoon:n>=4?a=hg.morning:a=hg.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):zd.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Cn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Cn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):zd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):zd.s(e,t)},S:function(e,t){return zd.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return eX(n);case"XXXX":case"XX":return Dh(n);case"XXXXX":case"XXX":default:return Dh(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return eX(n);case"xxxx":case"xx":return Dh(n);case"xxxxx":case"xxx":default:return Dh(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QY(n,":");case"OOOO":default:return"GMT"+Dh(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QY(n,":");case"zzzz":default:return"GMT"+Dh(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Cn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Cn(n,t.length)}};function QY(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Cn(i,2)}function eX(e,t){return e%60===0?(e>0?"-":"+")+Cn(Math.abs(e)/60,2):Dh(e,t)}function Dh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Cn(Math.trunc(n/60),2),i=Cn(n%60,2);return r+a+t+i}const tX=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},wue=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},HZe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return tX(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",tX(n,t)).replace("{{time}}",wue(a,t))},GZe={p:wue,P:HZe},KZe=/^D+$/,YZe=/^Y+$/,XZe=["D","DD","YY","YYYY"];function JZe(e){return KZe.test(e)}function ZZe(e){return YZe.test(e)}function QZe(e,t,r){const n=eQe(e,t,r);if(console.warn(n),XZe.includes(e))throw new RangeError(n)}function eQe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tQe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rQe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nQe=/^'([^]*?)'?$/,sQe=/''/g,aQe=/[a-zA-Z]/;function jr(e,t,r){const n=d1(),a=n.locale??yue,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=fn(e);if(!tZe(l))throw new RangeError("Invalid time value");let c=t.match(rQe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=GZe[f];return m(d,a.formatLong)}return d}).join("").match(tQe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:iQe(d)};if(ZY[f])return{isToken:!0,value:d};if(f.match(aQe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(ZZe(f)||JZe(f))&&QZe(f,t,String(e));const m=ZY[f[0]];return m(l,f,a.localize,u)}).join("")}function iQe(e){const t=e.match(nQe);return t?t[1].replace(sQe,"'"):e}function oQe(e,t,r){const n=d1(),a=r?.locale??n.locale??yue,i=2520,o=Zj(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=fn(t),u=fn(e)):(c=fn(e),u=fn(t));const d=lZe(u,c),f=(ZS(u)-ZS(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<KY){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<yj){const y=Math.round(m/KY);return a.formatDistance("xDays",y,l)}else if(m<yj*2)return p=Math.round(m/yj),a.formatDistance("aboutXMonths",p,l)}if(p=oZe(u,c),p<12){const y=Math.round(m/yj);return a.formatDistance("xMonths",y,l)}else{const y=p%12,g=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",g,l):y<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function a0(e,t){return oQe(e,QJe(e),t)}function lQe(e,t){const n=fQe(e);let a;if(n.date){const c=hQe(n.date,2);a=mQe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=pQe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=gQe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const bj={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cQe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uQe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dQe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fQe(e){const t={},r=e.split(bj.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],bj.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bj.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=bj.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function hQe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function mQe(e,t){if(t===null)return new Date(NaN);const r=e.match(cQe);if(!r)return new Date(NaN);const n=!!r[4],a=Ov(r[1]),i=Ov(r[2])-1,o=Ov(r[3]),l=Ov(r[4]),c=Ov(r[5])-1;if(n)return wQe(t,l,c)?xQe(t,l,c):new Date(NaN);{const u=new Date(0);return!yQe(t,i,o)||!bQe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Ov(e){return e?parseInt(e):1}function pQe(e){const t=e.match(uQe);if(!t)return NaN;const r=oR(t[1]),n=oR(t[2]),a=oR(t[3]);return _Qe(r,n,a)?r*pue+n*mue+a*1e3:NaN}function oR(e){return e&&parseFloat(e.replace(",","."))||0}function gQe(e){if(e==="Z")return 0;const t=e.match(dQe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return jQe(n,a)?r*(n*pue+a*mue):NaN}function xQe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const vQe=[31,null,31,30,31,30,31,31,30,31,30,31];function _ue(e){return e%400===0||e%4===0&&e%100!==0}function yQe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(vQe[t]||(_ue(e)?29:28))}function bQe(e,t){return t>=1&&t<=(_ue(e)?366:365)}function wQe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _Qe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function jQe(e,t){return t>=0&&t<=59}function NQe(e,t){return YJe(e,-t)}const tL=_.createContext({});function rL(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const nL=typeof window<"u",jue=nL?_.useLayoutEffect:_.useEffect,Xk=_.createContext(null);function sL(e,t){e.indexOf(t)===-1&&e.push(t)}function aL(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ad=(e,t,r)=>r>t?t:r<e?e:r;let iL=()=>{};const id={},Nue=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Sue(e){return typeof e=="object"&&e!==null}const kue=e=>/^0[^.\s]+$/u.test(e);function oL(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ll=e=>e,SQe=(e,t)=>r=>t(e(r)),f1=(...e)=>e.reduce(SQe),fw=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class lL{constructor(){this.subscriptions=[]}add(t){return sL(this.subscriptions,t),()=>aL(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tu=e=>e*1e3,Ol=e=>e/1e3;function Cue(e,t){return t?e*(1e3/t):0}const Eue=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,kQe=1e-7,CQe=12;function EQe(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=Eue(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>kQe&&++l<CQe);return o}function h1(e,t,r,n){if(e===t&&r===n)return Ll;const a=i=>EQe(i,0,1,e,r);return i=>i===0||i===1?i:Eue(a(i),t,n)}const Tue=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Aue=e=>t=>1-e(1-t),Pue=h1(.33,1.53,.69,.99),cL=Aue(Pue),Oue=Tue(cL),Rue=e=>(e*=2)<1?.5*cL(e):.5*(2-Math.pow(2,-10*(e-1))),uL=e=>1-Math.sin(Math.acos(e)),Due=Aue(uL),Iue=Tue(uL),TQe=h1(.42,0,1,1),AQe=h1(0,0,.58,1),Mue=h1(.42,0,.58,1),PQe=e=>Array.isArray(e)&&typeof e[0]!="number",Fue=e=>Array.isArray(e)&&typeof e[0]=="number",OQe={linear:Ll,easeIn:TQe,easeInOut:Mue,easeOut:AQe,circIn:uL,circInOut:Iue,circOut:Due,backIn:cL,backInOut:Oue,backOut:Pue,anticipate:Rue},RQe=e=>typeof e=="string",rX=e=>{if(Fue(e)){iL(e.length===4);const[t,r,n,a]=e;return h1(t,r,n,a)}else if(RQe(e))return OQe[e];return e},wj=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DQe(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const y=m&&a?r:n;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const IQe=40;function Lue(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=wj.reduce((j,E)=>(j[E]=DQe(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:p,postRender:y}=o,g=()=>{const j=id.useManualTiming?a.timestamp:performance.now();r=!1,id.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(j-a.timestamp,IQe),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),p.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:wj.reduce((j,E)=>{const S=o[E];return j[E]=(C,k=!1,D=!1)=>(r||v(),S.schedule(C,k,D)),j},{}),cancel:j=>{for(let E=0;E<wj.length;E++)o[wj[E]].cancel(j)},state:a,steps:o}}const{schedule:us,cancel:Vf,state:Xa,steps:lR}=Lue(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ll,!0);let Qj;function MQe(){Qj=void 0}const mo={now:()=>(Qj===void 0&&mo.set(Xa.isProcessing||id.useManualTiming?Xa.timestamp:performance.now()),Qj),set:e=>{Qj=e,queueMicrotask(MQe)}},$ue=e=>t=>typeof t=="string"&&t.startsWith(e),dL=$ue("--"),FQe=$ue("var(--"),fL=e=>FQe(e)?LQe.test(e.split("/*")[0].trim()):!1,LQe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hw={...Cx,transform:e=>ad(0,1,e)},_j={...Cx,default:1},$y=e=>Math.round(e*1e5)/1e5,hL=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $Qe(e){return e==null}const BQe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mL=(e,t)=>r=>!!(typeof r=="string"&&BQe.test(r)&&r.startsWith(e)||t&&!$Qe(r)&&Object.prototype.hasOwnProperty.call(r,t)),Bue=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(hL);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},UQe=e=>ad(0,255,e),cR={...Cx,transform:e=>Math.round(UQe(e))},Jh={test:mL("rgb","red"),parse:Bue("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+cR.transform(e)+", "+cR.transform(t)+", "+cR.transform(r)+", "+$y(hw.transform(n))+")"};function VQe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const BI={test:mL("#"),parse:VQe,transform:Jh.transform},m1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gd=m1("deg"),ru=m1("%"),dr=m1("px"),zQe=m1("vh"),qQe=m1("vw"),nX={...ru,parse:e=>ru.parse(e)/100,transform:e=>ru.transform(e*100)},Rg={test:mL("hsl","hue"),parse:Bue("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ru.transform($y(t))+", "+ru.transform($y(r))+", "+$y(hw.transform(n))+")"},ta={test:e=>Jh.test(e)||BI.test(e)||Rg.test(e),parse:e=>Jh.test(e)?Jh.parse(e):Rg.test(e)?Rg.parse(e):BI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jh.transform(e):Rg.transform(e),getAnimatableNone:e=>{const t=ta.parse(e);return t.alpha=0,ta.transform(t)}},WQe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HQe(e){return isNaN(e)&&typeof e=="string"&&(e.match(hL)?.length||0)+(e.match(WQe)?.length||0)>0}const Uue="number",Vue="color",GQe="var",KQe="var(",sX="${}",YQe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mw(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(YQe,c=>(ta.test(c)?(n.color.push(i),a.push(Vue),r.push(ta.parse(c))):c.startsWith(KQe)?(n.var.push(i),a.push(GQe),r.push(c)):(n.number.push(i),a.push(Uue),r.push(parseFloat(c))),++i,sX)).split(sX);return{values:r,split:l,indexes:n,types:a}}function zue(e){return mw(e).values}function que(e){const{split:t,types:r}=mw(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===Uue?i+=$y(a[o]):l===Vue?i+=ta.transform(a[o]):i+=a[o]}return i}}const XQe=e=>typeof e=="number"?0:ta.test(e)?ta.getAnimatableNone(e):e;function JQe(e){const t=zue(e);return que(e)(t.map(XQe))}const zf={test:HQe,parse:zue,createTransformer:que,getAnimatableNone:JQe};function uR(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ZQe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=uR(c,l,e+1/3),i=uR(c,l,e),o=uR(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function e2(e,t){return r=>r>0?t:e}const xs=(e,t,r)=>e+(t-e)*r,dR=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},QQe=[BI,Jh,Rg],eet=e=>QQe.find(t=>t.test(e));function aX(e){const t=eet(e);if(!t)return!1;let r=t.parse(e);return t===Rg&&(r=ZQe(r)),r}const iX=(e,t)=>{const r=aX(e),n=aX(t);if(!r||!n)return e2(e,t);const a={...r};return i=>(a.red=dR(r.red,n.red,i),a.green=dR(r.green,n.green,i),a.blue=dR(r.blue,n.blue,i),a.alpha=xs(r.alpha,n.alpha,i),Jh.transform(a))},UI=new Set(["none","hidden"]);function tet(e,t){return UI.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ret(e,t){return r=>xs(e,t,r)}function pL(e){return typeof e=="number"?ret:typeof e=="string"?fL(e)?e2:ta.test(e)?iX:aet:Array.isArray(e)?Wue:typeof e=="object"?ta.test(e)?iX:net:e2}function Wue(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>pL(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function net(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=pL(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function set(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const aet=(e,t)=>{const r=zf.createTransformer(t),n=mw(e),a=mw(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?UI.has(e)&&!a.values.length||UI.has(t)&&!n.values.length?tet(e,t):f1(Wue(set(n,a),a.values),r):e2(e,t)};function Hue(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?xs(e,t,r):pL(e)(e,t)}const iet=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>us.update(t,r),stop:()=>Vf(t),now:()=>Xa.isProcessing?Xa.timestamp:mo.now()}},Gue=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},t2=2e4;function gL(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<t2;)t+=r,n=e.next(t);return t>=t2?1/0:t}function oet(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(gL(n),t2);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ol(a)}}const cet=5;function Kue(e,t,r){const n=Math.max(t-cet,0);return Cue(r-e(n),t-n)}const ws={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fR=.001;function uet({duration:e=ws.duration,bounce:t=ws.bounce,velocity:r=ws.velocity,mass:n=ws.mass}){let a,i,o=1-t;o=ad(ws.minDamping,ws.maxDamping,o),e=ad(ws.minDuration,ws.maxDuration,Ol(e)),o<1?(a=u=>{const d=u*o,f=d*e,m=d-r,p=VI(u,o),y=Math.exp(-f);return fR-m/p*y},i=u=>{const f=u*o*e,m=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),g=VI(Math.pow(u,2),o);return(-a(u)+fR>0?-1:1)*((m-p)*y)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-fR+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=fet(a,i,l);if(e=tu(e),isNaN(c))return{stiffness:ws.stiffness,damping:ws.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const det=12;function fet(e,t,r){let n=r;for(let a=1;a<det;a++)n=n-e(n)/t(n);return n}function VI(e,t){return e*Math.sqrt(1-t*t)}const het=["duration","bounce"],met=["stiffness","damping","mass"];function oX(e,t){return t.some(r=>e[r]!==void 0)}function pet(e){let t={velocity:ws.velocity,stiffness:ws.stiffness,damping:ws.damping,mass:ws.mass,isResolvedFromDuration:!1,...e};if(!oX(e,met)&&oX(e,het))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*ad(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ws.mass,stiffness:a,damping:i}}else{const r=uet(e);t={...t,...r,mass:ws.mass},t.isResolvedFromDuration=!0}return t}function r2(e=ws.visualDuration,t=ws.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=pet({...r,velocity:-Ol(r.velocity||0)}),y=m||0,g=u/(2*Math.sqrt(c*d)),v=o-i,w=Ol(Math.sqrt(c/d)),b=Math.abs(v)<5;n||(n=b?ws.restSpeed.granular:ws.restSpeed.default),a||(a=b?ws.restDelta.granular:ws.restDelta.default);let j;if(g<1){const S=VI(w,g);j=C=>{const k=Math.exp(-g*w*C);return o-k*((y+g*w*v)/S*Math.sin(S*C)+v*Math.cos(S*C))}}else if(g===1)j=S=>o-Math.exp(-w*S)*(v+(y+w*v)*S);else{const S=w*Math.sqrt(g*g-1);j=C=>{const k=Math.exp(-g*w*C),D=Math.min(S*C,300);return o-k*((y+g*w*v)*Math.sinh(D)+S*v*Math.cosh(D))/S}}const E={calculatedDuration:p&&f||null,next:S=>{const C=j(S);if(p)l.done=S>=f;else{let k=S===0?y:0;g<1&&(k=S===0?tu(y):Kue(j,S,C));const D=Math.abs(k)<=n,O=Math.abs(o-C)<=a;l.done=D&&O}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(gL(E),t2),C=Gue(k=>E.next(S*k).value,S,30);return S+"ms "+C},toTransition:()=>{}};return E}r2.applyToOptions=e=>{const t=oet(e,100,r2);return e.ease=t.ease,e.duration=tu(t.duration),e.type="keyframes",e};function zI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=D=>l!==void 0&&D<l||c!==void 0&&D>c,y=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let g=r*t;const v=f+g,w=o===void 0?v:o(v);w!==v&&(g=w-f);const b=D=>-g*Math.exp(-D/n),j=D=>w+b(D),E=D=>{const O=b(D),P=j(D);m.done=Math.abs(O)<=u,m.value=m.done?w:P};let S,C;const k=D=>{p(m.value)&&(S=D,C=r2({keyframes:[m.value,y(m.value)],velocity:Kue(j,D,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:D=>{let O=!1;return!C&&S===void 0&&(O=!0,E(D),k(D)),S!==void 0&&D>=S?C.next(D-S):(!O&&E(D),m)}}}function get(e,t,r){const n=[],a=r||id.mix||Hue,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ll:t;l=f1(c,l)}n.push(l)}return n}function xet(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(iL(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=get(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=fw(e[f],e[f+1],d);return l[f](m)};return r?d=>u(ad(e[0],e[i-1],d)):u}function vet(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=fw(0,t,n);e.push(xs(r,1,a))}}function yet(e){const t=[0];return vet(t,e.length-1),t}function bet(e,t){return e.map(r=>r*t)}function wet(e,t){return e.map(()=>t||Mue).splice(0,e.length-1)}function By({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=PQe(n)?n.map(rX):rX(n),i={done:!1,value:t[0]},o=bet(r&&r.length===t.length?r:yet(t),e),l=xet(o,t,{ease:Array.isArray(a)?a:wet(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const _et=e=>e!==null;function xL(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(_et),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const jet={decay:zI,inertia:zI,tween:By,keyframes:By,spring:r2};function Yue(e){typeof e.type=="string"&&(e.type=jet[e.type])}class vL{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Net=e=>e/100;class yL extends vL{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==mo.now()&&this.tick(mo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Yue(t);const{type:r=By,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||By;c!==By&&typeof l[0]!="number"&&(this.mixKeyframes=f1(Net,Hue(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=gL(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:p,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,E=n;if(f){const D=Math.min(this.currentTime,a)/l;let O=Math.floor(D),P=D%1;!P&&D>=1&&(P=1),P===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(m==="reverse"?(P=1-P,p&&(P-=p/l)):m==="mirror"&&(E=o)),j=ad(0,1,P)*l}const S=b?{done:!1,value:d[0]}:E.next(j);i&&(S.value=i(S.value));let{done:C}=S;!b&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&y!==zI&&(S.value=xL(d,this.options,v,this.speed)),g&&g(S.value),k&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Ol(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ol(t)}get time(){return Ol(this.currentTime)}set time(t){t=tu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mo.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ol(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=iet,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ket(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Zh=e=>e*180/Math.PI,qI=e=>{const t=Zh(Math.atan2(e[1],e[0]));return WI(t)},Cet={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qI,rotateZ:qI,skewX:e=>Zh(Math.atan(e[1])),skewY:e=>Zh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},WI=e=>(e=e%360,e<0&&(e+=360),e),lX=qI,cX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),uX=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Eet={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cX,scaleY:uX,scale:e=>(cX(e)+uX(e))/2,rotateX:e=>WI(Zh(Math.atan2(e[6],e[5]))),rotateY:e=>WI(Zh(Math.atan2(-e[2],e[0]))),rotateZ:lX,rotate:lX,skewX:e=>Zh(Math.atan(e[4])),skewY:e=>Zh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function HI(e){return e.includes("scale")?1:0}function GI(e,t){if(!e||e==="none")return HI(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Eet,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Cet,a=l}if(!a)return HI(t);const i=n[t],o=a[1].split(",").map(Aet);return typeof i=="function"?i(o):o[i]}const Tet=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return GI(r,t)};function Aet(e){return parseFloat(e.trim())}const Ex=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tx=new Set(Ex),dX=e=>e===Cx||e===dr,Pet=new Set(["x","y","z"]),Oet=Ex.filter(e=>!Pet.has(e));function Ret(e){const t=[];return Oet.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const pm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>GI(t,"x"),y:(e,{transform:t})=>GI(t,"y")};pm.translateX=pm.x;pm.translateY=pm.y;const gm=new Set;let KI=!1,YI=!1,XI=!1;function Xue(){if(YI){const e=Array.from(gm).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Ret(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}YI=!1,KI=!1,gm.forEach(e=>e.complete(XI)),gm.clear()}function Jue(){gm.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(YI=!0)})}function Det(){XI=!0,Jue(),Xue(),XI=!1}class bL{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gm.add(this),KI||(KI=!0,us.read(Jue),us.resolveKeyframes(Xue))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}ket(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gm.delete(this)}cancel(){this.state==="scheduled"&&(gm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Iet=e=>e.startsWith("--");function Met(e,t,r){Iet(t)?e.style.setProperty(t,r):e.style[t]=r}const Fet=oL(()=>window.ScrollTimeline!==void 0),Let={};function $et(e,t){const r=oL(e);return()=>Let[t]??r()}const Zue=$et(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ty=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,fX={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ty([0,.65,.55,1]),circOut:ty([.55,0,1,.45]),backIn:ty([.31,.01,.66,-.59]),backOut:ty([.33,1.53,.69,.99])};function Que(e,t){if(e)return typeof e=="function"?Zue()?Gue(e,t):"ease-out":Fue(e)?ty(e):Array.isArray(e)?e.map(r=>Que(r,t)||fX.easeOut):fX[e]}function Bet(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Que(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function ede(e){return typeof e=="function"&&"applyToOptions"in e}function Uet({type:e,...t}){return ede(e)&&Zue()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Vet extends vL{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,iL(typeof t.type!="string");const u=Uet(t);this.animation=Bet(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=xL(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Met(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ol(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ol(t)}get time(){return Ol(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=tu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Fet()?(this.animation.timeline=t,Ll):r(this)}}const tde={anticipate:Rue,backInOut:Oue,circInOut:Iue};function zet(e){return e in tde}function qet(e){typeof e.ease=="string"&&zet(e.ease)&&(e.ease=tde[e.ease])}const hX=10;class Wet extends Vet{constructor(t){qet(t),Yue(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new yL({...o,autoplay:!1}),c=tu(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-hX).value,l.sample(c).value,hX),l.stop()}}const mX=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zf.test(e)||e==="0")&&!e.startsWith("url("));function Het(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Get(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=mX(a,t),l=mX(i,t);return!o||!l?!1:Het(e)||(r==="spring"||ede(r))&&n}function JI(e){e.duration=0,e.type="keyframes"}const Ket=new Set(["opacity","clipPath","filter","transform"]),Yet=oL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xet(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Yet()&&r&&Ket.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const Jet=40;class Zet extends vL{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mo.now();const m={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},p=d?.KeyframeResolver||bL;this.keyframeResolver=new p(l,(y,g,v)=>this.onKeyframesResolved(y,g,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=mo.now(),Get(t,i,o,l)||((id.instantAnimations||!c)&&d?.(xL(t,n,r)),t[0]=t[t.length-1],JI(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Jet?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&Xet(m)?new Wet({...m,element:m.motionValue.owner.current}):new yL(m);p.finished.then(()=>this.notifyFinished()).catch(Ll),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Det()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Qet=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ett(e){const t=Qet.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function rde(e,t,r=1){const[n,a]=ett(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Nue(o)?parseFloat(o):o}return fL(a)?rde(a,t,r+1):a}function wL(e,t){return e?.[t]??e?.default??e}const nde=new Set(["width","height","top","left","right","bottom",...Ex]),ttt={test:e=>e==="auto",parse:e=>e},sde=e=>t=>t.test(e),ade=[Cx,dr,ru,Gd,qQe,zQe,ttt],pX=e=>ade.find(sde(e));function rtt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kue(e):!0}const ntt=new Set(["brightness","contrast","saturate","opacity"]);function stt(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(hL)||[];if(!n)return e;const a=r.replace(n,"");let i=ntt.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const att=/\b([a-z-]*)\(.*?\)/gu,ZI={...zf,getAnimatableNone:e=>{const t=e.match(att);return t?t.map(stt).join(" "):e}},gX={...Cx,transform:Math.round},itt={rotate:Gd,rotateX:Gd,rotateY:Gd,rotateZ:Gd,scale:_j,scaleX:_j,scaleY:_j,scaleZ:_j,skew:Gd,skewX:Gd,skewY:Gd,distance:dr,translateX:dr,translateY:dr,translateZ:dr,x:dr,y:dr,z:dr,perspective:dr,transformPerspective:dr,opacity:hw,originX:nX,originY:nX,originZ:dr},_L={borderWidth:dr,borderTopWidth:dr,borderRightWidth:dr,borderBottomWidth:dr,borderLeftWidth:dr,borderRadius:dr,radius:dr,borderTopLeftRadius:dr,borderTopRightRadius:dr,borderBottomRightRadius:dr,borderBottomLeftRadius:dr,width:dr,maxWidth:dr,height:dr,maxHeight:dr,top:dr,right:dr,bottom:dr,left:dr,padding:dr,paddingTop:dr,paddingRight:dr,paddingBottom:dr,paddingLeft:dr,margin:dr,marginTop:dr,marginRight:dr,marginBottom:dr,marginLeft:dr,backgroundPositionX:dr,backgroundPositionY:dr,...itt,zIndex:gX,fillOpacity:hw,strokeOpacity:hw,numOctaves:gX},ott={..._L,color:ta,backgroundColor:ta,outlineColor:ta,fill:ta,stroke:ta,borderColor:ta,borderTopColor:ta,borderRightColor:ta,borderBottomColor:ta,borderLeftColor:ta,filter:ZI,WebkitFilter:ZI},ide=e=>ott[e];function ode(e,t){let r=ide(e);return r!==ZI&&(r=zf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ltt=new Set(["auto","none","0"]);function ctt(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!ltt.has(i)&&mw(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=ode(r,a)}class utt extends bL{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),fL(u))){const d=rde(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nde.has(n)||t.length!==2)return;const[a,i]=t,o=pX(a),l=pX(i);if(o!==l)if(dX(o)&&dX(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else pm[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||rtt(t[a]))&&n.push(a);n.length&&ctt(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=pm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function dtt(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const lde=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function cde(e){return Sue(e)&&"offsetHeight"in e}const xX=30,ftt=e=>!isNaN(parseFloat(e));class htt{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=mo.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=mo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ftt(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new lL);const n=this.events[t].add(r);return t==="change"?()=>{n(),us.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xX)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,xX);return Cue(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Z0(e,t){return new htt(e,t)}const{schedule:jL}=Lue(queueMicrotask,!1),sc={x:!1,y:!1};function ude(){return sc.x||sc.y}function mtt(e){return e==="x"||e==="y"?sc[e]?null:(sc[e]=!0,()=>{sc[e]=!1}):sc.x||sc.y?null:(sc.x=sc.y=!0,()=>{sc.x=sc.y=!1})}function dde(e,t){const r=dtt(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function vX(e){return!(e.pointerType==="touch"||ude())}function ptt(e,t,r={}){const[n,a,i]=dde(e,r),o=l=>{if(!vX(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{vX(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const fde=(e,t)=>t?e===t?!0:fde(e,t.parentElement):!1,NL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,gtt=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xtt(e){return gtt.has(e.tagName)||e.tabIndex!==-1}const eN=new WeakSet;function yX(e){return t=>{t.key==="Enter"&&e(t)}}function hR(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vtt=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=yX(()=>{if(eN.has(r))return;hR(r,"down");const a=yX(()=>{hR(r,"up")}),i=()=>hR(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function bX(e){return NL(e)&&!ude()}function ytt(e,t,r={}){const[n,a,i]=dde(e,r),o=l=>{const c=l.currentTarget;if(!bX(l))return;eN.add(c);const u=t(c,l),d=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),eN.has(c)&&eN.delete(c),bX(p)&&typeof u=="function"&&u(p,{success:y})},f=p=>{d(p,c===window||c===document||r.useGlobalTarget||fde(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),cde(l)&&(l.addEventListener("focus",u=>vtt(u,a)),!xtt(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function hde(e){return Sue(e)&&"ownerSVGElement"in e}function btt(e){return hde(e)&&e.tagName==="svg"}const ji=e=>!!(e&&e.getVelocity),wtt=[...ade,ta,zf],_tt=e=>wtt.find(sde(e)),SL=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function wX(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jtt(...e){return t=>{let r=!1;const n=e.map(a=>{const i=wX(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():wX(e[a],null)}}}}function Ntt(...e){return _.useCallback(jtt(...e),e)}class Stt extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=cde(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ktt({children:e,isPresent:t,anchorX:r,root:n}){const a=_.useId(),i=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(SL),c=Ntt(i,e?.ref);return _.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:p}=o.current;if(t||!i.current||!u||!d)return;const y=r==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=n??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),s.jsx(Stt,{isPresent:t,childRef:i,sizeRef:o,children:_.cloneElement(e,{ref:c})})}const Ctt=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=rL(Ett),d=_.useId();let f=!0,m=_.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return i&&f&&(m={...m}),_.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(ktt,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(Xk.Provider,{value:m,children:e})};function Ett(){return new Map}function mde(e=!0){const t=_.useContext(Xk);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=_.useId();_.useEffect(()=>{if(e)return a(i)},[e]);const o=_.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const jj=e=>e.key||"";function _X(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const jX=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=mde(o),f=_.useMemo(()=>_X(e),[e]),m=o&&!u?[]:f.map(jj),p=_.useRef(!0),y=_.useRef(f),g=rL(()=>new Map),[v,w]=_.useState(f),[b,j]=_.useState(f);jue(()=>{p.current=!1,y.current=f;for(let C=0;C<b.length;C++){const k=jj(b[C]);m.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[b,m.length,m.join("-")]);const E=[];if(f!==v){let C=[...f];for(let k=0;k<b.length;k++){const D=b[k],O=jj(D);m.includes(O)||(C.splice(k,0,D),E.push(D))}return i==="wait"&&E.length&&(C=E),j(_X(C)),w(f),null}const{forceRender:S}=_.useContext(tL);return s.jsx(s.Fragment,{children:b.map(C=>{const k=jj(C),D=o&&!u?!1:f===b||m.includes(k),O=()=>{if(g.has(k))g.set(k,!0);else return;let P=!0;g.forEach(A=>{A||(P=!1)}),P&&(S?.(),j(y.current),o&&d?.(),n&&n())};return s.jsx(Ctt,{isPresent:D,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:D?void 0:O,anchorX:l,children:C},k)})})},pde=_.createContext({strict:!1}),NX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Q0={};for(const e in NX)Q0[e]={isEnabled:t=>NX[e].some(r=>!!t[r])};function Ttt(e){for(const t in e)Q0[t]={...Q0[t],...e[t]}}const Att=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function n2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Att.has(e)}let gde=e=>!n2(e);function Ptt(e){typeof e=="function"&&(gde=t=>t.startsWith("on")?!n2(t):e(t))}try{Ptt(require("@emotion/is-prop-valid").default)}catch{}function Ott(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(gde(a)||r===!0&&n2(a)||!t&&!n2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Jk=_.createContext({});function Zk(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pw(e){return typeof e=="string"||Array.isArray(e)}const kL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CL=["initial",...kL];function Qk(e){return Zk(e.animate)||CL.some(t=>pw(e[t]))}function xde(e){return!!(Qk(e)||e.variants)}function Rtt(e,t){if(Qk(e)){const{initial:r,animate:n}=e;return{initial:r===!1||pw(r)?r:void 0,animate:pw(n)?n:void 0}}return e.inherit!==!1?t:{}}function Dtt(e){const{initial:t,animate:r}=Rtt(e,_.useContext(Jk));return _.useMemo(()=>({initial:t,animate:r}),[SX(t),SX(r)])}function SX(e){return Array.isArray(e)?e.join(" "):e}const gw={};function Itt(e){for(const t in e)gw[t]=e[t],dL(t)&&(gw[t].isCSSVariable=!0)}function vde(e,{layout:t,layoutId:r}){return Tx.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!gw[e]||e==="opacity")}const Mtt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ftt=Ex.length;function Ltt(e,t,r){let n="",a=!0;for(let i=0;i<Ftt;i++){const o=Ex[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=lde(l,_L[o]);if(!c){a=!1;const d=Mtt[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function EL(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Tx.has(c)){o=!0;continue}else if(dL(c)){a[c]=u;continue}else{const d=lde(u,_L[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=Ltt(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const TL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yde(e,t,r){for(const n in t)!ji(t[n])&&!vde(n,r)&&(e[n]=t[n])}function $tt({transformTemplate:e},t){return _.useMemo(()=>{const r=TL();return EL(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Btt(e,t){const r=e.style||{},n={};return yde(n,r,e),Object.assign(n,$tt(e,t)),n}function Utt(e,t){const r={},n=Btt(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Vtt={offset:"stroke-dashoffset",array:"stroke-dasharray"},ztt={offset:"strokeDashoffset",array:"strokeDasharray"};function qtt(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Vtt:ztt;e[i.offset]=dr.transform(-n);const o=dr.transform(t),l=dr.transform(r);e[i.array]=`${o} ${l}`}function bde(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(EL(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&qtt(f,a,i,o,!1)}const wde=()=>({...TL(),attrs:{}}),_de=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Wtt(e,t,r,n){const a=_.useMemo(()=>{const i=wde();return bde(i,t,_de(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};yde(i,e.style,e),a.style={...i,...a.style}}return a}const Htt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AL(e){return typeof e!="string"||e.includes("-")?!1:!!(Htt.indexOf(e)>-1||/[A-Z]/u.test(e))}function Gtt(e,t,r,{latestValues:n},a,i=!1){const l=(AL(e)?Wtt:Utt)(t,n,a,e),c=Ott(t,typeof e=="string",i),u=e!==_.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=_.useMemo(()=>ji(d)?d.get():d,[d]);return _.createElement(e,{...u,children:f})}function kX(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function PL(e,t,r,n){if(typeof t=="function"){const[a,i]=kX(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=kX(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function tN(e){return ji(e)?e.get():e}function Ktt({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Ytt(r,n,a,e),renderState:t()}}function Ytt(e,t,r,n){const a={},i=n(e,{});for(const m in i)a[m]=tN(i[m]);let{initial:o,animate:l}=e;const c=Qk(e),u=xde(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Zk(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const y=PL(e,m[p]);if(y){const{transitionEnd:g,transition:v,...w}=y;for(const b in w){let j=w[b];if(Array.isArray(j)){const E=d?j.length-1:0;j=j[E]}j!==null&&(a[b]=j)}for(const b in g)a[b]=g[b]}}}return a}const jde=e=>(t,r)=>{const n=_.useContext(Jk),a=_.useContext(Xk),i=()=>Ktt(e,t,n,a);return r?i():rL(i)};function OL(e,t,r){const{style:n}=e,a={};for(const i in n)(ji(n[i])||t.style&&ji(t.style[i])||vde(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const Xtt=jde({scrapeMotionValuesFromProps:OL,createRenderState:TL});function Nde(e,t,r){const n=OL(e,t,r);for(const a in e)if(ji(e[a])||ji(t[a])){const i=Ex.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Jtt=jde({scrapeMotionValuesFromProps:Nde,createRenderState:wde}),Ztt=Symbol.for("motionComponentSymbol");function Dg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qtt(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Dg(r)&&(r.current=n))},[t])}const RL=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ert="framerAppearId",Sde="data-"+RL(ert),kde=_.createContext({});function trt(e,t,r,n,a){const{visualElement:i}=_.useContext(Jk),o=_.useContext(pde),l=_.useContext(Xk),c=_.useContext(SL).reducedMotion,u=_.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=_.useContext(kde);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&rrt(u.current,r,a,f);const m=_.useRef(!1);_.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const p=r[Sde],y=_.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return jue(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),d.enteringChildren=void 0)}),d}function rrt(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Cde(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Dg(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function Cde(e){if(e)return e.options.allowProjection!==!1?e.projection:Cde(e.parent)}function mR(e,{forwardMotionProps:t=!1}={},r,n){r&&Ttt(r);const a=AL(e)?Jtt:Xtt;function i(l,c){let u;const d={..._.useContext(SL),...l,layoutId:nrt(l)},{isStatic:f}=d,m=Dtt(l),p=a(l,f);if(!f&&nL){srt();const y=art(d);u=y.MeasureLayout,m.visualElement=trt(e,p,d,n,y.ProjectionNode)}return s.jsxs(Jk.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,Gtt(e,l,Qtt(p,m.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(i);return o[Ztt]=e,o}function nrt({layoutId:e}){const t=_.useContext(tL).id;return t&&e!==void 0?t+"-"+e:e}function srt(e,t){_.useContext(pde).strict}function art(e){const{drag:t,layout:r}=Q0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function irt(e,t){if(typeof Proxy>"u")return mR;const r=new Map,n=(i,o)=>mR(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,mR(o,void 0,e,t)),r.get(o))})}function Ede({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ort({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lrt(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function pR(e){return e===void 0||e===1}function QI({scale:e,scaleX:t,scaleY:r}){return!pR(e)||!pR(t)||!pR(r)}function Ih(e){return QI(e)||Tde(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Tde(e){return CX(e.x)||CX(e.y)}function CX(e){return e&&e!=="0%"}function s2(e,t,r){const n=e-r,a=t*n;return r+a}function EX(e,t,r,n,a){return a!==void 0&&(e=s2(e,a,n)),s2(e,r,n)+t}function eM(e,t=0,r=1,n,a){e.min=EX(e.min,t,r,n,a),e.max=EX(e.max,t,r,n,a)}function Ade(e,{x:t,y:r}){eM(e.x,t.translate,t.scale,t.originPoint),eM(e.y,r.translate,r.scale,r.originPoint)}const TX=.999999999999,AX=1.0000000000001;function crt(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ade(e,o)),n&&Ih(i.latestValues)&&Mg(e,i.latestValues))}t.x<AX&&t.x>TX&&(t.x=1),t.y<AX&&t.y>TX&&(t.y=1)}function Ig(e,t){e.min=e.min+t,e.max=e.max+t}function PX(e,t,r,n,a=.5){const i=xs(e.min,e.max,a);eM(e,t,r,i,n)}function Mg(e,t){PX(e.x,t.x,t.scaleX,t.scale,t.originX),PX(e.y,t.y,t.scaleY,t.scale,t.originY)}function Pde(e,t){return Ede(lrt(e.getBoundingClientRect(),t))}function urt(e,t,r){const n=Pde(e,r),{scroll:a}=t;return a&&(Ig(n.x,a.offset.x),Ig(n.y,a.offset.y)),n}const OX=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fg=()=>({x:OX(),y:OX()}),RX=()=>({min:0,max:0}),Is=()=>({x:RX(),y:RX()}),tM={current:null},Ode={current:!1};function drt(){if(Ode.current=!0,!!nL)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tM.current=e.matches;e.addEventListener("change",t),t()}else tM.current=!1}const frt=new WeakMap;function hrt(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ji(a))e.addValue(n,a);else if(ji(i))e.addValue(n,Z0(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Z0(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const DX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mrt{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=mo.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,us.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Qk(r),this.isVariantNode=xde(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&ji(p)&&p.set(c[m])}}mount(t){this.current=t,frt.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Ode.current||drt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tM.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vf(this.notifyUpdate),Vf(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Tx.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&us.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Q0){const r=Q0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Is()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<DX.length;n++){const a=DX[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=hrt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Z0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Nue(n)||kue(n))?n=parseFloat(n):!_tt(n)&&zf.test(r)&&(n=ode(t,r)),this.setBaseTarget(t,ji(n)?n.get():n)),ji(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=PL(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ji(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new lL),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){jL.render(this.render)}}class Rde extends mrt{constructor(){super(...arguments),this.KeyframeResolver=utt}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ji(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Dde(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function prt(e){return window.getComputedStyle(e)}class grt extends Rde{constructor(){super(...arguments),this.type="html",this.renderInstance=Dde}readValueFromInstance(t,r){if(Tx.has(r))return this.projection?.isProjecting?HI(r):Tet(t,r);{const n=prt(t),a=(dL(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Pde(t,r)}build(t,r,n){EL(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return OL(t,r,n)}}const Ide=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xrt(e,t,r,n){Dde(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Ide.has(a)?a:RL(a),t.attrs[a])}class vrt extends Rde{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Is}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Tx.has(r)){const n=ide(r);return n&&n.default||0}return r=Ide.has(r)?r:RL(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Nde(t,r,n)}build(t,r,n){bde(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){xrt(t,r,n,a)}mount(t){this.isSVGTag=_de(t.tagName),super.mount(t)}}const yrt=(e,t)=>AL(e)?new vrt(t):new grt(t,{allowProjection:e!==_.Fragment});function i0(e,t,r){const n=e.getProps();return PL(n,t,r!==void 0?r:n.custom,e)}const rM=e=>Array.isArray(e);function brt(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Z0(r))}function wrt(e){return rM(e)?e[e.length-1]||0:e}function _rt(e,t){const r=i0(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=wrt(i[o]);brt(e,o,l)}}function jrt(e){return!!(ji(e)&&e.add)}function nM(e,t){const r=e.getValue("willChange");if(jrt(r))return r.add(t);if(!r&&id.WillChange){const n=new id.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Mde(e){return e.props[Sde]}const Nrt=e=>e!==null;function Srt(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Nrt),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const krt={type:"spring",stiffness:500,damping:25,restSpeed:10},Crt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ert={type:"keyframes",duration:.8},Trt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Art=(e,{keyframes:t})=>t.length>2?Ert:Tx.has(e)?e.startsWith("scale")?Crt(t[1]):krt:Trt;function Prt({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const DL=(e,t,r,n={},a,i)=>o=>{const l=wL(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-tu(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Prt(l)||Object.assign(d,Art(e,d)),d.duration&&(d.duration=tu(d.duration)),d.repeatDelay&&(d.repeatDelay=tu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(JI(d),d.delay===0&&(f=!0)),(id.instantAnimations||id.skipAnimations)&&(f=!0,JI(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=Srt(d.keyframes,l);if(m!==void 0){us.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new yL(d):new Zet(d)};function Ort({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Fde(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&Ort(u,d))continue;const p={delay:r,...wL(i||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const w=Mde(e);if(w){const b=window.MotionHandoffAnimation(w,d,us);b!==null&&(p.startTime=b,g=!0)}}nM(e,d),f.start(DL(d,f,m,e.shouldReduceMotion&&nde.has(d)?{type:!1}:p,e,g));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{us.update(()=>{o&&_rt(e,o)})}),c}function Lde(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function sM(e,t,r={}){const n=i0(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Fde(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return Rrt(e,t,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function Rrt(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(sM(c,t,{...o,delay:r+(typeof n=="function"?0:n)+Lde(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Drt(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>sM(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=sM(e,t,r);else{const a=typeof t=="function"?i0(e,t,r.custom):t;n=Promise.all(Fde(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function $de(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Irt=CL.length;function Bde(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Bde(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Irt;r++){const n=CL[r],a=e.props[n];(pw(a)||a===!1)&&(t[n]=a)}return t}const Mrt=[...kL].reverse(),Frt=kL.length;function Lrt(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Drt(e,r,n)))}function $rt(e){let t=Lrt(e),r=IX(),n=!0;const a=c=>(u,d)=>{const f=i0(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Bde(e.parent)||{},f=[],m=new Set;let p={},y=1/0;for(let v=0;v<Frt;v++){const w=Mrt[v],b=r[w],j=u[w]!==void 0?u[w]:d[w],E=pw(j),S=w===c?b.isActive:null;S===!1&&(y=v);let C=j===d[w]&&j!==u[w]&&E;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...p},!b.isActive&&S===null||!j&&!b.prevProp||Zk(j)||typeof j=="boolean")continue;const k=Brt(b.prevProp,j);let D=k||w===c&&b.isActive&&!C&&E||v>y&&E,O=!1;const P=Array.isArray(j)?j:[j];let A=P.reduce(a(w),{});S===!1&&(A={});const{prevResolvedValues:R={}}=b,F={...R,...A},L=H=>{D=!0,m.has(H)&&(O=!0,m.delete(H)),b.needsAnimating[H]=!0;const G=e.getValue(H);G&&(G.liveStyle=!1)};for(const H in F){const G=A[H],I=R[H];if(p.hasOwnProperty(H))continue;let U=!1;rM(G)&&rM(I)?U=!$de(G,I):U=G!==I,U?G!=null?L(H):m.add(H):G!==void 0&&m.has(H)?L(H):b.protectedKeys[H]=!0}b.prevProp=j,b.prevResolvedValues=A,b.isActive&&(p={...p,...A}),n&&e.blockInitialAnimation&&(D=!1);const W=C&&k;D&&(!W||O)&&f.push(...P.map(H=>{const G={type:w};if(typeof H=="string"&&n&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,U=i0(I,H);if(I.enteringChildren&&U){const{delayChildren:X}=U.transition||{};G.delay=Lde(I.enteringChildren,e,X)}}return{animation:H,options:G}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const w=i0(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(v.transition=w.transition)}m.forEach(w=>{const b=e.getBaseTarget(w),j=e.getValue(w);j&&(j.liveStyle=!0),v[w]=b??null}),f.push({animation:v})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=IX()}}}function Brt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$de(t,e):!1}function kh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IX(){return{animate:kh(!0),whileInView:kh(),whileHover:kh(),whileTap:kh(),whileDrag:kh(),whileFocus:kh(),exit:kh()}}class ah{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Urt extends ah{constructor(t){super(t),t.animationState||(t.animationState=$rt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zk(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Vrt=0;class zrt extends ah{constructor(){super(...arguments),this.id=Vrt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qrt={animation:{Feature:Urt},exit:{Feature:zrt}};function xw(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function p1(e){return{point:{x:e.pageX,y:e.pageY}}}const Wrt=e=>t=>NL(t)&&e(t,p1(t));function Uy(e,t,r,n){return xw(e,t,Wrt(r),n)}const Ude=1e-4,Hrt=1-Ude,Grt=1+Ude,Vde=.01,Krt=0-Vde,Yrt=0+Vde;function Gi(e){return e.max-e.min}function Xrt(e,t,r){return Math.abs(e-t)<=r}function MX(e,t,r,n=.5){e.origin=n,e.originPoint=xs(t.min,t.max,e.origin),e.scale=Gi(r)/Gi(t),e.translate=xs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Hrt&&e.scale<=Grt||isNaN(e.scale))&&(e.scale=1),(e.translate>=Krt&&e.translate<=Yrt||isNaN(e.translate))&&(e.translate=0)}function Vy(e,t,r,n){MX(e.x,t.x,r.x,n?n.originX:void 0),MX(e.y,t.y,r.y,n?n.originY:void 0)}function FX(e,t,r){e.min=r.min+t.min,e.max=e.min+Gi(t)}function Jrt(e,t,r){FX(e.x,t.x,r.x),FX(e.y,t.y,r.y)}function LX(e,t,r){e.min=t.min-r.min,e.max=e.min+Gi(t)}function zy(e,t,r){LX(e.x,t.x,r.x),LX(e.y,t.y,r.y)}function bl(e){return[e("x"),e("y")]}const zde=({current:e})=>e?e.ownerDocument.defaultView:null,$X=(e,t)=>Math.abs(e-t);function Zrt(e,t){const r=$X(e.x,t.x),n=$X(e.y,t.y);return Math.sqrt(r**2+n**2)}class qde{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=xR(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=Zrt(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:g}=m,{timestamp:v}=Xa;this.history.push({...g,timestamp:v});const{onStart:w,onMove:b}=this.handlers;p||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=gR(p,this.transformPagePoint),us.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xR(m.type==="pointercancel"?this.lastMoveEventInfo:gR(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,w),g&&g(m,w)},!NL(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=p1(t),c=gR(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Xa;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,xR(c,this.history)),this.removeListeners=f1(Uy(this.contextWindow,"pointermove",this.handlePointerMove),Uy(this.contextWindow,"pointerup",this.handlePointerUp),Uy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vf(this.updatePoint)}}function gR(e,t){return t?{point:t(e.point)}:e}function BX(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xR({point:e},t){return{point:e,delta:BX(e,Wde(t)),offset:BX(e,Qrt(t)),velocity:ent(t,.1)}}function Qrt(e){return e[0]}function Wde(e){return e[e.length-1]}function ent(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Wde(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>tu(t)));)r--;if(!n)return{x:0,y:0};const i=Ol(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tnt(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xs(r,e,n.max):Math.min(e,r)),e}function UX(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function rnt(e,{top:t,left:r,bottom:n,right:a}){return{x:UX(e.x,r,a),y:UX(e.y,t,n)}}function VX(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function nnt(e,t){return{x:VX(e.x,t.x),y:VX(e.y,t.y)}}function snt(e,t){let r=.5;const n=Gi(e),a=Gi(t);return a>n?r=fw(t.min,t.max-n,e.min):n>a&&(r=fw(e.min,e.max-a,t.min)),ad(0,1,r)}function ant(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const aM=.35;function int(e=aM){return e===!1?e=0:e===!0&&(e=aM),{x:zX(e,"left","right"),y:zX(e,"top","bottom")}}function zX(e,t,r){return{min:qX(e,t),max:qX(e,r)}}function qX(e,t){return typeof e=="number"?e:e[t]||0}const ont=new WeakMap;class lnt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Is(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(p1(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:y,onDragStart:g}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mtt(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bl(w=>{let b=this.getAxisMotionValue(w).get()||0;if(ru.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const E=j.layout.layoutBox[w];E&&(b=Gi(E)*(parseFloat(b)/100))}}this.originPoint[w]=b}),g&&us.postRender(()=>g(f,m)),nM(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=m;if(y&&this.currentDirection===null){this.currentDirection=cnt(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>bl(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new qde(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:zde(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&us.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Nj(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=tnt(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Dg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=rnt(n.layoutBox,t):this.constraints=!1,this.elastic=int(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&bl(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=ant(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Dg(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=urt(n,a.root,this.visualElement.getTransformPagePoint());let o=nnt(a.layout.layoutBox,i);if(r){const l=r(ort(o));this.hasMutatedConstraints=!!l,l&&(o=Ede(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=bl(d=>{if(!Nj(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return nM(this.visualElement,t),n.start(DL(t,n,0,r,this.visualElement,!1))}stopAnimation(){bl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bl(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){bl(r=>{const{drag:n}=this.getProps();if(!Nj(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-xs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Dg(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bl(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=snt({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bl(o=>{if(!Nj(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xs(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;ont.set(this.visualElement,this);const t=this.visualElement.current,r=Uy(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Dg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),us.read(n);const o=xw(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(bl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=aM,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Nj(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function cnt(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class unt extends ah{constructor(t){super(t),this.removeGroupControls=Ll,this.removeListeners=Ll,this.controls=new lnt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ll}unmount(){this.removeGroupControls(),this.removeListeners()}}const WX=e=>(t,r)=>{e&&us.postRender(()=>e(t,r))};class dnt extends ah{constructor(){super(...arguments),this.removePointerDownListener=Ll}onPointerDown(t){this.session=new qde(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zde(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:WX(t),onStart:WX(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&us.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Uy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HX(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dr.test(e))e=parseFloat(e);else return e;const r=HX(e,t.target.x),n=HX(e,t.target.y);return`${r}% ${n}%`}},fnt={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=zf.parse(e);if(a.length>5)return n;const i=zf.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=xs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let vR=!1;class hnt extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Itt(mnt),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),vR&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rN.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,vR=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||us.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jL.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;vR=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Hde(e){const[t,r]=mde(),n=_.useContext(tL);return s.jsx(hnt,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(kde),isPresent:t,safeToRemove:r})}const mnt={borderRadius:{...Rv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rv,borderTopRightRadius:Rv,borderBottomLeftRadius:Rv,borderBottomRightRadius:Rv,boxShadow:fnt};function pnt(e,t,r){const n=ji(e)?e:Z0(e);return n.start(DL("",n,t,r)),n.animation}const gnt=(e,t)=>e.depth-t.depth;class xnt{constructor(){this.children=[],this.isDirty=!1}add(t){sL(this.children,t),this.isDirty=!0}remove(t){aL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(gnt),this.isDirty=!1,this.children.forEach(t)}}function vnt(e,t){const r=mo.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Vf(n),e(i-t))};return us.setup(n,!0),()=>Vf(n)}const Gde=["TopLeft","TopRight","BottomLeft","BottomRight"],ynt=Gde.length,GX=e=>typeof e=="string"?parseFloat(e):e,KX=e=>typeof e=="number"||dr.test(e);function bnt(e,t,r,n,a,i){a?(e.opacity=xs(0,r.opacity??1,wnt(n)),e.opacityExit=xs(t.opacity??1,0,_nt(n))):i&&(e.opacity=xs(t.opacity??1,r.opacity??1,n));for(let o=0;o<ynt;o++){const l=`border${Gde[o]}Radius`;let c=YX(t,l),u=YX(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||KX(c)===KX(u)?(e[l]=Math.max(xs(GX(c),GX(u),n),0),(ru.test(u)||ru.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=xs(t.rotate||0,r.rotate||0,n))}function YX(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wnt=Kde(0,.5,Due),_nt=Kde(.5,.95,Ll);function Kde(e,t,r){return n=>n<e?0:n>t?1:r(fw(e,t,n))}function XX(e,t){e.min=t.min,e.max=t.max}function pl(e,t){XX(e.x,t.x),XX(e.y,t.y)}function JX(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ZX(e,t,r,n,a){return e-=t,e=s2(e,1/r,n),a!==void 0&&(e=s2(e,1/a,n)),e}function jnt(e,t=0,r=1,n=.5,a,i=e,o=e){if(ru.test(t)&&(t=parseFloat(t),t=xs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xs(i.min,i.max,n);e===i&&(l-=t),e.min=ZX(e.min,t,r,l,a),e.max=ZX(e.max,t,r,l,a)}function QX(e,t,[r,n,a],i,o){jnt(e,t[r],t[n],t[a],t.scale,i,o)}const Nnt=["x","scaleX","originX"],Snt=["y","scaleY","originY"];function eJ(e,t,r,n){QX(e.x,t,Nnt,r?r.x:void 0,n?n.x:void 0),QX(e.y,t,Snt,r?r.y:void 0,n?n.y:void 0)}function tJ(e){return e.translate===0&&e.scale===1}function Yde(e){return tJ(e.x)&&tJ(e.y)}function rJ(e,t){return e.min===t.min&&e.max===t.max}function knt(e,t){return rJ(e.x,t.x)&&rJ(e.y,t.y)}function nJ(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Xde(e,t){return nJ(e.x,t.x)&&nJ(e.y,t.y)}function sJ(e){return Gi(e.x)/Gi(e.y)}function aJ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Cnt{constructor(){this.members=[]}add(t){sL(this.members,t),t.scheduleRender()}remove(t){if(aL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ent(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const yR=["","X","Y","Z"],Tnt=1e3;let Ant=0;function bR(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Jde(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Mde(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",us,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Jde(n)}function Zde({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=Ant++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rnt),this.nodes.forEach(Fnt),this.nodes.forEach(Lnt),this.nodes.forEach(Dnt)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new xnt)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lL),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=hde(o)&&!btt(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;us.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=vnt(m,250),rN.hasAnimatedSinceResize&&(rN.hasAnimatedSinceResize=!1,this.nodes.forEach(lJ)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||znt,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!Xde(this.targetLayout,p),b=!f&&m;if(this.options.layoutRoot||this.resumeFrom||b||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...wL(y,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else f||lJ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($nt),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jde(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iJ);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oJ);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Mnt),this.nodes.forEach(Pnt),this.nodes.forEach(Ont)):this.nodes.forEach(oJ),this.clearAllSnapshots();const l=mo.now();Xa.delta=ad(0,1e3/60,l-Xa.timestamp),Xa.timestamp=l,Xa.isProcessing=!0,lR.update.process(Xa),lR.preRender.process(Xa),lR.render.process(Xa),Xa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Int),this.sharedNodes.forEach(Bnt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,us.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){us.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gi(this.snapshot.measuredBox.x)&&!Gi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Yde(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ih(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),qnt(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Is();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Wnt))){const{scroll:u}=this.root;u&&(Ig(l.x,u.offset.x),Ig(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Is();if(pl(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&pl(l,o),Ig(l.x,d.offset.x),Ig(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Is();pl(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ih(d.latestValues)&&Mg(c,d.latestValues)}return Ih(this.latestValues)&&Mg(c,this.latestValues),c}removeTransform(o){const l=Is();pl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ih(u.latestValues))continue;QI(u.latestValues)&&u.updateSnapshot();const d=Is(),f=u.measurePageBox();pl(d,f),eJ(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ih(this.latestValues)&&eJ(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Xa.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),zy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),pl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Is(),this.targetWithTransforms=Is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jrt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pl(this.target,this.layout.layoutBox),Ade(this.target,this.targetDelta)):pl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),zy(this.relativeTargetOrigin,this.target,m.target),pl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||QI(this.parent.latestValues)||Tde(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xa.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;pl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;crt(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Is());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JX(this.prevProjectionDelta.x,this.projectionDelta.x),JX(this.prevProjectionDelta.y,this.projectionDelta.y)),Vy(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!aJ(this.projectionDelta.x,this.prevProjectionDelta.x)||!aJ(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fg(),this.projectionDelta=Fg(),this.projectionDeltaWithTransform=Fg()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Fg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Is(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,v=this.getStack(),w=!v||v.members.length<=1,b=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(Vnt));this.animationProgress=0;let j;this.mixTargetDelta=E=>{const S=E/1e3;cJ(f.x,o.x,S),cJ(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zy(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Unt(this.relativeTarget,this.relativeTargetOrigin,m,S),j&&knt(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Is()),pl(j,this.relativeTarget)),g&&(this.animationValues=d,bnt(d,u,this.latestValues,S,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=us.update(()=>{rN.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Z0(0)),this.currentAnimation=pnt(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tnt),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Qde(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Is();const f=Gi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Gi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}pl(l,c),Mg(l,d),Vy(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Cnt),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&bR("z",o,u,this.animationValues);for(let d=0;d<yR.length;d++)bR(`rotate${yR[d]}`,o,u,this.animationValues),bR(`skew${yR[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=tN(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=tN(l?.pointerEvents)||""),this.hasProjected&&!Ih(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Ent(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in gw){if(d[y]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:w}=gw[y],b=f==="none"?d[y]:g(d[y],u);if(v){const j=v.length;for(let E=0;E<j;E++)o[v[E]]=b}else w?this.options.visualElement.renderState.vars[y]=b:o[y]=b}this.options.layoutId&&(o.pointerEvents=u===this?tN(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(iJ),this.root.sharedNodes.clear()}}}function Pnt(e){e.updateLayout()}function Ont(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?bl(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Gi(f);f.min=r[d].min,f.max=f.min+m}):Qde(a,t.layoutBox,r)&&bl(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Gi(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=Fg();Vy(o,r,t.layoutBox);const l=Fg();i?Vy(l,e.applyTransform(n,!0),t.measuredBox):Vy(l,r,t.layoutBox);const c=!Yde(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=Is();zy(p,t.layoutBox,f.layoutBox);const y=Is();zy(y,r,m.layoutBox),Xde(p,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Rnt(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Dnt(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Int(e){e.clearSnapshot()}function iJ(e){e.clearMeasurements()}function oJ(e){e.isLayoutDirty=!1}function Mnt(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lJ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Fnt(e){e.resolveTargetDelta()}function Lnt(e){e.calcProjection()}function $nt(e){e.resetSkewAndRotation()}function Bnt(e){e.removeLeadSnapshot()}function cJ(e,t,r){e.translate=xs(t.translate,0,r),e.scale=xs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function uJ(e,t,r,n){e.min=xs(t.min,r.min,n),e.max=xs(t.max,r.max,n)}function Unt(e,t,r,n){uJ(e.x,t.x,r.x,n),uJ(e.y,t.y,r.y,n)}function Vnt(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const znt={duration:.45,ease:[.4,0,.1,1]},dJ=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fJ=dJ("applewebkit/")&&!dJ("chrome/")?Math.round:Ll;function hJ(e){e.min=fJ(e.min),e.max=fJ(e.max)}function qnt(e){hJ(e.x),hJ(e.y)}function Qde(e,t,r){return e==="position"||e==="preserve-aspect"&&!Xrt(sJ(t),sJ(r),.2)}function Wnt(e){return e!==e.root&&e.scroll?.wasRoot}const Hnt=Zde({attachResizeListener:(e,t)=>xw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wR={current:void 0},efe=Zde({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wR.current){const e=new Hnt({});e.mount(window),e.setOptions({layoutScroll:!0}),wR.current=e}return wR.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Gnt={pan:{Feature:dnt},drag:{Feature:unt,ProjectionNode:efe,MeasureLayout:Hde}};function mJ(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&us.postRender(()=>i(t,p1(t)))}class Knt extends ah{mount(){const{current:t}=this.node;t&&(this.unmount=ptt(t,(r,n)=>(mJ(this.node,n,"Start"),a=>mJ(this.node,a,"End"))))}unmount(){}}class Ynt extends ah{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=f1(xw(this.node.current,"focus",()=>this.onFocus()),xw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pJ(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&us.postRender(()=>i(t,p1(t)))}class Xnt extends ah{mount(){const{current:t}=this.node;t&&(this.unmount=ytt(t,(r,n)=>(pJ(this.node,n,"Start"),(a,{success:i})=>pJ(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iM=new WeakMap,_R=new WeakMap,Jnt=e=>{const t=iM.get(e.target);t&&t(e)},Znt=e=>{e.forEach(Jnt)};function Qnt({root:e,...t}){const r=e||document;_R.has(r)||_R.set(r,{});const n=_R.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Znt,{root:e,...t})),n[a]}function est(e,t,r){const n=Qnt(t);return iM.set(e,r),n.observe(e),()=>{iM.delete(e),n.unobserve(e)}}const tst={some:0,all:1};class rst extends ah{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:tst[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return est(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(nst(t,r))&&this.startObserver()}unmount(){}}function nst({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const sst={inView:{Feature:rst},tap:{Feature:Xnt},focus:{Feature:Ynt},hover:{Feature:Knt}},ast={layout:{ProjectionNode:efe,MeasureLayout:Hde}},ist={...qrt,...sst,...Gnt,...ast},An=irt(ist,yrt),ost=()=>{const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(null),[l,c]=_.useState("30"),[u,d]=_.useState(!1),[f,m]=_.useState("revenue");_.useEffect(()=>{p()},[l]);const p=async()=>{try{const{data:{session:C}}=await Y.auth.getSession();if(!C){e("/admin/login");return}const{data:k,error:D}=await Y.from("subscriptions").select("plan_id, status, subscription_plans(enable_analytics)").eq("user_id",C.user.id).maybeSingle();if(!k||D){a(!1),r(!1);return}const O=k?.subscription_plans?.enable_analytics||!1,P=["active","trial"].includes(k?.status);if(!O||!P){a(!1),r(!1);return}a(!0),await y()}catch(C){Me({title:"Error",description:C.message,variant:"destructive"}),r(!1)}},y=async()=>{try{r(!0);const{data:{user:C}}=await Y.auth.getUser();if(!C)return;const{data:k,error:D}=await Y.from("stores").select("id").eq("user_id",C.id).single();if(!k)return;const O=new Date;O.setDate(O.getDate()-parseInt(l));const P=new Date;P.setDate(P.getDate()-parseInt(l)*2);const{data:A,error:R}=await Y.from("orders").select("*").eq("store_id",k.id).gte("created_at",O.toISOString());if(R)throw R;const{data:F}=await Y.from("orders").select("*").eq("store_id",k.id).gte("created_at",P.toISOString()).lt("created_at",O.toISOString()),L=A?.reduce((Q,de)=>Q+de.total,0)||0,W=A?.length||0,V=W>0?L/W:0,H=F?.reduce((Q,de)=>Q+de.total,0)||0,G=F?.length||0,I=G>0?H/G:0,U=new Map;A?.forEach(Q=>{const de=jr(lQe(Q.created_at),"MMM dd"),fe=U.get(de)||{revenue:0,orders:0};fe.revenue+=Q.total,fe.orders+=1,U.set(de,fe)});const X=Array.from(U.entries()).map(([Q,de])=>({date:Q,revenue:de.revenue})).sort((Q,de)=>new Date(Q.date).getTime()-new Date(de.date).getTime()),z=Array.from(U.entries()).map(([Q,de])=>({date:Q,orders:de.orders})).sort((Q,de)=>new Date(Q.date).getTime()-new Date(de.date).getTime()),Z=new Map;A?.forEach(Q=>{Array.isArray(Q.items)&&Q.items.forEach(de=>{const fe=Z.get(de.productId)||{name:de.productName,quantity:0,revenue:0};fe.quantity+=de.quantity,fe.revenue+=de.price*de.quantity,Z.set(de.productId,fe)})});const J=Array.from(Z.values()).sort((Q,de)=>de.revenue-Q.revenue).slice(0,10);o({totalRevenue:L,ordersCount:W,averageOrderValue:V,topProducts:J,revenueByDay:X,ordersByDay:z,previousRevenue:H,previousOrdersCount:G,previousAverageOrderValue:I})}catch(C){Me({title:"Error",description:C.message,variant:"destructive"})}finally{r(!1)}},g=async()=>{d(!0),await y(),d(!1)},v=(C,k)=>k===0?{percent:0,isPositive:C>0}:{percent:(C-k)/k*100,isPositive:C>=k},w=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C);if(t)return s.jsx(Xn,{children:s.jsxs(An.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(An.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block",children:s.jsx(ni,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading analytics..."})]})});if(!n)return s.jsx(Xn,{children:s.jsxs(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto text-center py-12",children:[s.jsx(Un,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need a subscription plan with analytics enabled to access this feature."})]})});const b=v(i?.totalRevenue||0,i?.previousRevenue||0),j=v(i?.ordersCount||0,i?.previousOrdersCount||0),E=v(i?.averageOrderValue||0,i?.previousAverageOrderValue||0),S=[...i?.topProducts||[]].sort((C,k)=>f==="revenue"?k.revenue-C.revenue:k.quantity-C.quantity);return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(An.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between border-b pb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 dark:from-white dark:to-slate-300 bg-clip-text text-transparent",children:"Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor your store performance and sales trends"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(An.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[s.jsx(An.div,{animate:u?{rotate:360}:{rotate:0},transition:{duration:u?1:.3,repeat:u?1/0:0},children:s.jsx(ni,{className:"h-4 w-4"})}),"Refresh"]}),s.jsxs(br,{value:l,onValueChange:c,children:[s.jsxs(mr,{className:"w-[180px]",children:[s.jsx($l,{className:"h-4 w-4 mr-2"}),s.jsx(wr,{})]}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"7",children:"Last 7 Days"}),s.jsx(Ye,{value:"30",children:"Last 30 Days"}),s.jsx(Ye,{value:"90",children:"Last 90 Days"}),s.jsx(Ye,{value:"365",children:"Last Year"})]})]})]})]}),s.jsxs(An.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"grid gap-4 md:grid-cols-3",children:[s.jsx(An.div,{whileHover:{y:-4},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl",children:s.jsx(Qa,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs(An.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${b.isPositive?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[b.isPositive?s.jsx(Tj,{className:"h-4 w-4"}):s.jsx(QE,{className:"h-4 w-4"}),Math.abs(b.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:w(i?.totalRevenue||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})}),s.jsx(An.div,{whileHover:{y:-4,boxShadow:"0 20px 25px rgba(0,0,0,0.1)"},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl",children:s.jsx(Cf,{className:"h-6 w-6 text-blue-600"})}),s.jsxs(An.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${j.isPositive?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[j.isPositive?s.jsx(Tj,{className:"h-4 w-4"}):s.jsx(QE,{className:"h-4 w-4"}),Math.abs(j.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i?.ordersCount||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})}),s.jsx(An.div,{whileHover:{y:-4,boxShadow:"0 20px 25px rgba(0,0,0,0.1)"},transition:{duration:.2},className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-50 to-violet-100 dark:from-violet-900/20 dark:to-violet-800/20 rounded-xl",children:s.jsx(Dl,{className:"h-6 w-6 text-violet-600"})}),s.jsxs(An.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm font-medium ${E.isPositive?"bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[E.isPositive?s.jsx(Tj,{className:"h-4 w-4"}):s.jsx(QE,{className:"h-4 w-4"}),Math.abs(E.percent).toFixed(1),"%"]})]}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avg Order Value"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:w(i?.averageOrderValue||0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"vs previous period"})]})})]}),s.jsx(An.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:s.jsxs(ke,{className:"border-slate-200 dark:border-slate-800",children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-xl",children:"Revenue Trend"})}),s.jsx(Te,{children:i?.revenueByDay&&i.revenueByDay.length>0?s.jsx(Py,{width:"100%",height:300,children:s.jsxs(HJe,{data:i.revenueByDay,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})}),s.jsx(lw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Bf,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Uf,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(fo,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#f1f5f9"},formatter:C=>w(C)}),s.jsx(u1,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:3,dot:!1,fill:"url(#colorRevenue)",isAnimationActive:!0})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No data available for this period"})})]})}),s.jsx(An.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:s.jsxs(ke,{className:"border-slate-200 dark:border-slate-800",children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-xl",children:"Order Volume"})}),s.jsx(Te,{children:i?.ordersByDay&&i.ordersByDay.length>0?s.jsx(Py,{width:"100%",height:300,children:s.jsxs($I,{data:i.ordersByDay,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorOrders",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),s.jsx(lw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Bf,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Uf,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(fo,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#f1f5f9"}}),s.jsx(Uo,{dataKey:"orders",fill:"url(#colorOrders)",radius:[8,8,0,0],isAnimationActive:!0})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No data available for this period"})})]})}),s.jsx(An.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:s.jsxs(ke,{className:"border-slate-200 dark:border-slate-800",children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between",children:[s.jsx(et,{className:"text-xl",children:"Top Products"}),s.jsxs(An.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(f==="revenue"?"quantity":"revenue"),className:"inline-flex items-center gap-2 px-3 py-1 text-sm rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[s.jsx(a0e,{className:"h-4 w-4"}),"Sort by ",f==="revenue"?"Quantity":"Revenue"]})]}),s.jsx(Te,{children:S&&S.length>0?s.jsx("div",{className:"space-y-2",children:S.map((C,k)=>s.jsxs(An.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+k*.05},whileHover:{x:4,backgroundColor:"var(--slate-50)"},className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-800 transition-all",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:C.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.quantity," units sold"]})]}),s.jsxs(An.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6+k*.05},className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-emerald-600",children:w(C.revenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(C.revenue/(i?.totalRevenue||1)*100).toFixed(1),"%"]})]})]},k))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales data available for this period"})})]})})]})})};function lst(){const[e,t]=_.useState([]),[r,n]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState(null),[m,p]=_.useState(null),[y,g]=_.useState(!1),[v,w]=_.useState(null),[b,j]=_.useState(!1),[E,S]=_.useState([]),[C,k]=_.useState(!1),[D,O]=_.useState(new Set),[P,A]=_.useState("vps"),[R,F]=_.useState(""),[L,W]=_.useState(null),[V,H]=_.useState(""),[G,I]=_.useState(null),[U,X]=_.useState("");_.useEffect(()=>{z()},[]);const z=async()=>{try{l(!0);const{data:{user:K}}=await Y.auth.getUser();if(!K)return;const{data:ee}=await Y.from("stores").select("id, google_access_token").eq("user_id",K.id).single();if(!ee)return;w(ee.id),k(!!ee.google_access_token);const{data:se,error:B}=await Y.from("categories").select("*").eq("store_id",ee.id).order("name");if(B)throw B;t(se||[])}catch(K){Me({title:"Error",description:K.message,variant:"destructive"})}finally{l(!1)}},Z=async()=>{if(!r.trim()){F("Category name is required"),document.getElementById("categoryName")?.focus();return}if(F(""),!v){Me({title:"Error",description:"Store not found",variant:"destructive"});return}try{u(!0);let K=a.trim();if(L&&P==="vps"){const{data:{session:se}}=await Y.auth.getSession();if(!se)throw new Error("Not authenticated");const{data:{user:B}}=await Y.auth.getUser();if(!B)throw new Error("User not found");const{data:ie,error:ae}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",B.id).single();if(ae||!ie)throw new Error("Store not found");const Ne=L.size/1024/1024,Ee=ie.storage_used_mb||0,ue=ie.storage_limit_mb||100;if(Ee+Ne>ue)throw new Error(`Storage limit reached. You have ${(ue-Ee).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);S([{name:L.name,progress:10}]);const qe=new FormData;qe.append("file",L),qe.append("type","categories");const Je=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:qe}),le=await Je.json();if(!Je.ok||!le.success)throw new Error(le.error||"Failed to upload image");K=le.imageUrl;const we=le.fileId||L.name,{error:Oe}=await Y.from("media_library").insert({store_id:ie.id,file_url:K,file_name:we,file_size_mb:Ne,file_type:"categories"});Oe&&console.error("Failed to add to media library:",Oe);const{error:Ge}=await Y.from("stores").update({storage_used_mb:Ee+Ne}).eq("id",ie.id);Ge&&console.error("Failed to update storage usage:",Ge),S([])}K||(K=ZEe());const{error:ee}=await Y.from("categories").insert([{name:r.trim(),store_id:v,image_url:K}]);if(ee)throw ee;V&&URL.revokeObjectURL(V),W(null),H(""),Me({title:"Success",description:"Category added successfully"}),n(""),i(""),F(""),z()}catch(K){Me({title:"Error",description:K.message,variant:"destructive"})}finally{u(!1),S([])}},J=async()=>{if(d)try{if(d.image_url&&d.image_url.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:d.image_url})}),await Y.from("media_library").delete().eq("file_url",d.image_url),console.log("Category image deleted from VPS and media library:",d.image_url)}catch(ee){console.error("Failed to delete image:",ee)}const{error:K}=await Y.from("categories").delete().eq("id",d.id);if(K)throw K;Me({title:"Success",description:"Category deleted successfully"}),z()}catch(K){Me({title:"Error",description:K.message,variant:"destructive"})}finally{f(null)}},Q=K=>{p({...K,newName:K.name,newImageUrl:K.image_url||""})},de=async()=>{if(m){if(!m.newName.trim()){Me({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}try{g(!0);let K=m.newImageUrl.trim();if(G&&P==="vps"){const{data:{session:B}}=await Y.auth.getSession();if(!B)throw new Error("Not authenticated");const{data:{user:ie}}=await Y.auth.getUser();if(!ie)throw new Error("User not found");const{data:ae,error:Ne}=await Y.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",ie.id).single();if(Ne||!ae)throw new Error("Store not found");const Ee=G.size/1024/1024,ue=ae.storage_used_mb||0,qe=ae.storage_limit_mb||100;if(ue+Ee>qe)throw new Error(`Storage limit reached. You have ${(qe-ue).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);S([{name:G.name,progress:10}]);const Je=new FormData;Je.append("file",G),Je.append("type","categories");const le=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Je}),we=await le.json();if(!le.ok||!we.success)throw new Error(we.error||"Failed to upload image");K=we.imageUrl;const Oe=we.fileId||G.name,{error:Ge}=await Y.from("media_library").insert({store_id:ae.id,file_url:K,file_name:Oe,file_size_mb:Ee,file_type:"categories"});Ge&&console.error("Failed to add to media library:",Ge);const{error:Ze}=await Y.from("stores").update({storage_used_mb:ue+Ee}).eq("id",ae.id);Ze&&console.error("Failed to update storage usage:",Ze),S([])}const ee=m.image_url;if(ee&&ee!==K&&ee.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ee})}),await Y.from("media_library").delete().eq("file_url",ee),console.log("Old category image deleted from VPS and media library:",ee)}catch(B){console.error("Failed to delete old image:",B)}const{error:se}=await Y.from("categories").update({name:m.newName.trim(),image_url:K||null}).eq("id",m.id);if(se)throw se;U&&URL.revokeObjectURL(U),I(null),X(""),Me({title:"Success",description:"Category updated successfully"}),p(null),z()}catch(K){Me({title:"Error",description:K.message,variant:"destructive"})}finally{g(!1),S([])}}},fe=(K,ee)=>{if(!K.trim()){Me({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let se=K.trim();if(se.includes("drive.google.com")){const B=se.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);B&&(se=`https://drive.google.com/thumbnail?id=${B[1]||B[2]}&sz=w1000`,Me({title:" Google Drive Link Converted",description:"URL converted to direct image format. Preview shown below."}))}ee&&m?p(B=>B?{...B,newImageUrl:se}:null):(i(se),setTimeout(()=>{const B=document.querySelector("[data-image-preview]");B&&B.scrollIntoView({behavior:"smooth",block:"nearest"})},100))},pe=async(K,ee=!1)=>{let se=K.target.files?.[0];if(se){if(!se.type.startsWith("image/")){Me({title:"Invalid file type",description:`${se.name} is not a valid image file`,variant:"destructive"});return}try{if(P==="vps"){try{const Ee=(se.size/1024/1024).toFixed(2),ue=await q5(se,5),qe=(ue.size/1024/1024).toFixed(2);console.log(`Image compressed: ${Ee}MB  ${qe}MB`),se=ue}catch(Ee){console.error("Compression failed:",Ee),Me({title:"Compression failed",description:`Failed to compress ${se.name}, using original`,variant:"destructive"})}const Ne=URL.createObjectURL(se);ee?(U&&URL.revokeObjectURL(U),I(se),X(Ne),m&&p(Ee=>Ee?{...Ee,newImageUrl:Ne}:null)):(V&&URL.revokeObjectURL(V),W(se),H(Ne),i(Ne)),Me({title:"Image ready",description:`${se.name} will be uploaded when you save the category`});return}j(!0),S([{name:se.name,progress:0}]);const{data:{session:B}}=await Y.auth.getSession();if(!B)throw new Error("Not authenticated");S([{name:se.name,progress:10}]);const ie=new FormData;ie.append("file",se),ie.append("type","categories");const ae=setInterval(()=>{S(Ne=>Ne.map(Ee=>Ee.progress<90?{...Ee,progress:Ee.progress+10}:Ee))},200);try{const Ne=await Y.functions.invoke("upload-to-drive",{body:ie,headers:{Authorization:`Bearer ${B.access_token}`}});if(clearInterval(ae),Ne.error)throw new Error(Ne.error.message||"Failed to upload image");Ne.data?.imageUrl&&(S([{name:se.name,progress:100}]),await new Promise(Ee=>setTimeout(Ee,500)),ee&&m?p(Ee=>Ee?{...Ee,newImageUrl:Ne.data.imageUrl}:null):(i(Ne.data.imageUrl),setTimeout(()=>{const Ee=document.querySelector("[data-image-preview]");Ee&&Ee.scrollIntoView({behavior:"smooth",block:"nearest"})},100)),Me({title:" Image uploaded successfully!",description:`${se.name} is ready to use. Preview shown below.`}))}catch(Ne){throw clearInterval(ae),Ne}}catch(B){console.error("Upload error:",B);let ie=B.message||"";if(B.context?.body)try{const ae=JSON.parse(B.context.body);ie=ae.error||ae.message||ie}catch(ae){console.error("Could not parse error body:",ae)}ie.toLowerCase().includes("storage limit")?Me({title:"Storage Limit Reached",description:ie,variant:"destructive",duration:6e3}):ie.toLowerCase().includes("drive")&&ie.toLowerCase().includes("not connected")?Me({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first.",variant:"destructive",duration:6e3}):ie.toLowerCase().includes("token")||ie.toLowerCase().includes("expired")?Me({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Me({title:"Upload Failed",description:ie||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{j(!1),S([]),K.target.value=""}}};return s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Category Management"})}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(Ce,{htmlFor:"categoryName",className:"text-base font-medium",children:["Category Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ve,{id:"categoryName",placeholder:"Enter category name...",value:r,onChange:K=>{n(K.target.value),R&&F("")},onKeyPress:K=>K.key==="Enter"&&!K.shiftKey&&Z(),className:`mt-2 ${R?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":!!R,"aria-describedby":R?"name-error":void 0}),R&&s.jsxs("p",{id:"name-error",className:"text-sm text-destructive mt-1.5 flex items-center gap-1",children:[s.jsx(Vi,{className:"w-4 h-4"}),R]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"vps",checked:P==="vps",onChange:K=>A(K.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"drive",checked:P==="drive",onChange:K=>A(K.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:P==="vps"?"Images compressed to max 5MB and stored on server":"Images uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${b?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"categoryImageUpload",accept:"image/*",onChange:K=>pe(K,!1),className:"hidden",disabled:b||!C}),s.jsx("label",{htmlFor:"categoryImageUpload",className:`block p-6 text-center ${b||!C?"cursor-not-allowed":"cursor-pointer"}`,children:b&&E.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsx("span",{className:"font-medium text-foreground",children:"Uploading..."})]}),E.map((K,ee)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[K.progress<100?s.jsx(Wt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(en,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:K.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:K.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[K.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${K.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${K.progress}%`}})})]},ee))]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(Qd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:C?"Click to upload image":"Google Drive Not Connected"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C?"PNG, JPG images. Will be uploaded to your Google Drive.":"Connect Google Drive in Store Settings to enable uploads"})]})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"https://drive.google.com/file/d/... (optional)",value:a,onChange:K=>i(K.target.value),onKeyPress:K=>{K.key==="Enter"&&(K.preventDefault(),fe(a,!1))},className:"flex-1"}),s.jsx(oe,{type:"button",variant:"secondary",onClick:()=>fe(a,!1),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted to a direct image URL."})]}),a&&s.jsxs("div",{"data-image-preview":!0,className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(""),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(Ua,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:xf(a)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:K=>{K.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:a})]})]})]})]}),s.jsxs(oe,{onClick:Z,disabled:c,className:"w-full",children:[c?s.jsx(Wt,{className:"h-4 w-4 animate-spin"}):s.jsx(Yi,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Add Category"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(Ce,{className:"text-base font-medium",children:["Your Categories (",e.length,")"]})}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wt,{className:"w-8 h-8 mx-auto mb-3 text-primary animate-spin"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading categories..."})]}):e.length===0?s.jsx("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Un,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"No categories yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first category using the form above"})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(K=>s.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:[s.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[s.jsx("img",{src:xf(K.image_url||"")||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:K.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:ee=>{ee.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}}),s.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[s.jsxs(oe,{size:"sm",variant:"secondary",onClick:()=>Q(K),className:"shadow-lg",title:"Edit category",children:[s.jsx(ZB,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(oe,{size:"sm",variant:"destructive",onClick:()=>f(K),className:"shadow-lg",title:"Delete category",children:[s.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate group-hover:text-primary transition-colors",children:K.name}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Category"})]}),s.jsxs("div",{className:"sm:hidden border-t p-2 flex gap-2",children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>Q(K),className:"flex-1",children:[s.jsx(ZB,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>f(K),className:"flex-1 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},K.id))})]}),s.jsx(j0,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs(Am,{children:[s.jsxs(Pm,{children:[s.jsx(Rm,{children:"Delete Category"}),s.jsxs(Dm,{children:['Are you sure you want to delete the category "',d?.name,'"? This action cannot be undone.']})]}),s.jsxs(Om,{children:[s.jsx(Mm,{children:"Cancel"}),s.jsx(Im,{onClick:J,className:"bg-destructive",children:"Delete"})]})]})}),s.jsx(j0,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(Am,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Pm,{children:[s.jsx(Rm,{children:"Edit Category"}),s.jsx(Dm,{children:"Update the category name and image."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Name"}),s.jsx(Ve,{placeholder:"Enter category name...",value:m?.newName||"",onChange:K=>p(ee=>ee?{...ee,newName:K.target.value}:null)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-xs font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"vps",checked:P==="vps",onChange:K=>A(K.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-xs",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"drive",checked:P==="drive",onChange:K=>A(K.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-xs",children:["Google Drive ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-xs font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${b?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"editCategoryImageUpload",accept:"image/*",onChange:K=>pe(K,!0),className:"hidden",disabled:b||!C}),s.jsx("label",{htmlFor:"editCategoryImageUpload",className:`block p-4 text-center ${b||!C?"cursor-not-allowed":"cursor-pointer"}`,children:b&&E.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Wt,{className:"w-4 h-4 text-primary animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Uploading..."})]}),E.map((K,ee)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[K.progress<100?s.jsx(Wt,{className:"w-4 h-4 text-primary animate-spin flex-shrink-0"}):s.jsx(en,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:K.name})}),s.jsxs("span",{className:"text-xs font-medium text-primary",children:[K.progress,"%"]})]}),s.jsx("div",{className:"mt-1.5 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${K.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${K.progress}%`}})})]},ee))]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Qd,{className:"w-6 h-6 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-xs font-medium",children:C?"Click to upload":"Google Drive Not Connected"})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-xs font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"https://drive.google.com/file/d/...",value:m?.newImageUrl||"",onChange:K=>p(ee=>ee?{...ee,newImageUrl:K.target.value}:null),onKeyPress:K=>{K.key==="Enter"&&(K.preventDefault(),fe(m?.newImageUrl||"",!0))},className:"flex-1"}),s.jsx(oe,{type:"button",variant:"secondary",onClick:()=>fe(m?.newImageUrl||"",!0),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted."})]}),m?.newImageUrl&&s.jsxs("div",{className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(K=>K?{...K,newImageUrl:""}:null),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(Ua,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:xf(m.newImageUrl)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:K=>{K.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:m.newImageUrl})]})]})]})]})]}),s.jsxs(Om,{children:[s.jsx(Mm,{children:"Cancel"}),s.jsxs(Im,{onClick:de,disabled:y,children:[y?s.jsx(Wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update"]})]})]})})]})]})}const cst=()=>{const e=ur();_.useEffect(()=>{t()},[]);const t=async()=>{const{data:{session:r}}=await Y.auth.getSession();r||e("/admin/login")};return s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your product categories"})]}),s.jsx(lst,{})]})})},ust=()=>{const e=ur(),[t,r]=_.useState(null),[n,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(0),[u,d]=_.useState(!1),[f,m]=_.useState(null),[p,y]=_.useState(null);_.useEffect(()=>{g()},[]),_.useEffect(()=>{if(!p)return;const O=()=>{const A=new Date,R=p.getTime()-A.getTime();if(R<=0){m({days:0,hours:0,minutes:0,seconds:0});return}const F=Math.floor(R/(1e3*60*60*24)),L=Math.floor(R%(1e3*60*60*24)/(1e3*60*60)),W=Math.floor(R%(1e3*60*60)/(1e3*60)),V=Math.floor(R%(1e3*60)/1e3);m({days:F,hours:L,minutes:W,seconds:V})};O();const P=setInterval(O,1e3);return()=>clearInterval(P)},[p]);const g=async()=>{try{const{data:{user:O}}=await Y.auth.getUser();if(!O){e("/auth");return}const{data:P}=await Y.from("stores").select("id").eq("user_id",O.id).single();if(P){const{count:H}=await Y.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",P.id);c(H||0)}const{data:A,error:R}=await Y.from("subscriptions").select(`
          *,
          subscription_plans (*)
        `).eq("user_id",O.id).order("updated_at",{ascending:!1});let F=null;if(A&&A.length>0){const H=new Date,G=A.filter(U=>!(U.status==="cancelled"||U.status==="expired"||U.current_period_end&&new Date(U.current_period_end)<H)),I=G.filter(U=>U.status==="active");I.length>0?F=I[0]:F=G[0]}if(R&&R.code!=="PGRST116")throw R;if(F){const H={...F,subscription_plans:{...F.subscription_plans,features:Array.isArray(F.subscription_plans.features)?F.subscription_plans.features:[]}};r(H),F.current_period_end?y(new Date(F.current_period_end)):F.trial_ends_at&&y(new Date(F.trial_ends_at))}const{data:L,error:W}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(W)throw W;const V=(L||[]).map(H=>({...H,features:Array.isArray(H.features)?H.features:[]}));a(V)}catch(O){console.error("Error fetching subscription data:",O),lt.error("Failed to load subscription data")}finally{o(!1)}},v=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O),w=O=>O?new Date(O).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",b=()=>{if(!t)return 0;const O=t.subscription_plans?.whatsapp_orders_limit;if(O===null||O===0)return 0;const P=t.whatsapp_orders_used||0,A=P/O*100;return console.log("WhatsApp Usage:",{used:P,limit:O,percentage:A}),Math.min(A,100)},j=()=>{if(!t)return 0;const O=t.subscription_plans?.website_orders_limit;if(O===null||O===0)return 0;const P=t.website_orders_used||0,A=P/O*100;return console.log("Website Usage:",{used:P,limit:O,percentage:A}),Math.min(A,100)},E=O=>O>=96?"bg-red-600":O>=81?"bg-orange-500":O>=51?"bg-yellow-500":"bg-green-500",S=O=>O>=100?{level:"error",message:"Limit reached - Upgrade now!"}:O>=90?{level:"warning",message:"Almost at limit"}:O>=80?{level:"caution",message:"Running low on orders"}:null,C=async()=>{d(!0);try{await g(),lt.success("Refreshed! Order usage updated successfully.")}catch(O){console.error("Error refreshing:",O),lt.error("Failed to refresh data. Please try again.")}finally{d(!1)}},k=()=>{e("/pricing")},D=()=>t?.current_period_end?new Date(t.current_period_end)<new Date:!1;return i?s.jsx(Xn,{children:s.jsx("div",{className:"pt-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."})})}):s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-8 p-6 md:p-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription plan"})]}),t&&f&&p&&!D()&&s.jsx(ke,{className:`border-l-4 ${t.status==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsx(Te,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ks,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${t.status==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:t.status==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.status==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[f.days,"d ",f.hours,"h ",f.minutes,"m ",f.seconds,"s"]})]})]})]})})}),t&&D()&&s.jsxs(Yr,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[s.jsx(Ls,{className:"h-5 w-5"}),s.jsxs(Xr,{className:"ml-2",children:[s.jsx("span",{className:"font-semibold",children:"Your subscription has expired!"})," ","Your store cannot accept new orders. Please upgrade your plan to continue using our services."]})]}),t&&s.jsxs(ke,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:t.subscription_plans.name}),s.jsx(wt,{variant:D()?"destructive":t.status==="active"?"default":"secondary",children:D()?"Expired":t.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(t.billing_cycle==="yearly"&&t.subscription_plans.yearly_price?t.subscription_plans.yearly_price:t.subscription_plans.monthly_price)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.billing_cycle==="yearly"?"year":"month"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Un,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Billing:"})," ",t.billing_cycle==="yearly"?"Yearly":"Monthly"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Expires:"})," ",w(t.current_period_end)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Order Usage"}),s.jsxs(oe,{size:"sm",variant:"outline",onClick:C,disabled:u,children:[s.jsx(ni,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.subscription_plans.whatsapp_orders_limit!==null&&(()=>{const O=b(),P=S(O);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"WhatsApp Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.whatsapp_orders_limit===0?`${t.whatsapp_orders_used||0} / Unlimited`:`${t.whatsapp_orders_used||0} / ${t.subscription_plans.whatsapp_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${E(O)}`,style:{width:`${O}%`}})})}),P&&s.jsxs(Yr,{variant:P.level==="error"?"destructive":"default",className:`mt-2 ${P.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":P.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(Ls,{className:"h-4 w-4"}),s.jsx(Xr,{className:"ml-2 text-sm font-medium",children:P.message})]})]})})(),t.subscription_plans.website_orders_limit!==null&&(()=>{const O=j(),P=S(O);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Website Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.website_orders_limit===0?`${t.website_orders_used||0} / Unlimited`:`${t.website_orders_used||0} / ${t.subscription_plans.website_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${E(O)}`,style:{width:`${O}%`}})})}),P&&s.jsxs(Yr,{variant:P.level==="error"?"destructive":"default",className:`mt-2 ${P.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":P.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(Ls,{className:"h-4 w-4"}),s.jsx(Xr,{className:"ml-2 text-sm font-medium",children:P.message})]})]})})()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.next_billing_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx($l,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Next billing: ",w(t.next_billing_at)]})]})}),t.trial_ends_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Un,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Trial ends: ",w(t.trial_ends_at)]})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Plan Features"}),s.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.subscription_plans.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:t.subscription_plans.max_products===0?"Unlimited Products":`Max ${t.subscription_plans.max_products} Product${t.subscription_plans.max_products===1?"":"s"}`})]}),t.subscription_plans.features.filter(O=>{if(!O||typeof O!="string"||O.trim()==="")return!1;const P=O.toLowerCase();return!P.includes("analytics")&&!P.includes("email")&&!P.includes("notification")&&!P.includes("location")&&!P.includes("tracking")&&!P.includes("product")&&!P.includes("support")&&!P.includes("whatsapp order")&&!P.includes("website order")}).map((O,P)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O})]},P)),t.subscription_plans.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),t.subscription_plans.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),t.subscription_plans.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>{const P=t?.plan_id===O.id;return s.jsxs(ke,{className:`p-6 flex flex-col ${P?"border-primary":"border-border"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-1",children:O.name}),O.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(O.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]}),s.jsxs("ul",{className:"space-y-2 mb-6 flex-1",children:[O.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.max_products===0?"Unlimited Products":`Max ${O.max_products} Product${O.max_products===1?"":"s"}`})]}),O.features.filter(A=>{if(!A||typeof A!="string"||A.trim()==="")return!1;const R=A.toLowerCase();return!R.includes("analytics")&&!R.includes("email")&&!R.includes("notification")&&!R.includes("location")&&!R.includes("tracking")&&!R.includes("product")&&!R.includes("support")&&!R.includes("whatsapp order")&&!R.includes("website order")}).map((A,R)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:A})]},R)),O.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),O.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),O.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]}),O.whatsapp_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.whatsapp_orders_limit===0?"Unlimited WhatsApp orders/month":`${O.whatsapp_orders_limit} WhatsApp order${O.whatsapp_orders_limit===1?"":"s"}/month`})]}),O.website_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.website_orders_limit===0?"Unlimited Website orders/month":`${O.website_orders_limit} Website order${O.website_orders_limit===1?"":"s"}/month`})]})]}),s.jsx(oe,{className:"w-full",variant:P?"outline":"default",disabled:P,onClick:k,children:P?"Current Plan":s.jsxs(s.Fragment,{children:["Upgrade Now ",s.jsx(Tj,{className:"w-4 h-4 ml-2"})]})})]},O.id)})})]})]})})},dst=()=>{const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(null),[f,m]=_.useState(!1),[p,y]=_.useState(!1),[g,v]=_.useState(null),[w,b]=_.useState(null),[j,E]=_.useState({alternate_names:"",seo_description:"",business_phone:"",business_email:"",street_address:"",city:"",state:"",postal_code:"",country:"IN",opening_hours:"",price_range:""});_.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{session:P}}=await Y.auth.getSession();if(!P){e("/auth");return}const{data:A,error:R}=await Y.from("stores").select("*").eq("user_id",P.user.id).single();if(R||!A){Me({variant:"destructive",title:"Error",description:"Could not load store data"});return}const{data:F}=await Y.from("profiles").select("phone, email").eq("user_id",P.user.id).single();d(A.id),o(A.name||""),c(A.slug||""),E({alternate_names:A.alternate_names||"",price_range:A.price_range||"",opening_hours:A.opening_hours||"",city:A.city||"",state:A.state||"",postal_code:A.postal_code||"",country:A.country||"IN",seo_description:A.seo_description||A.description||"",business_phone:A.business_phone||F?.phone||A.whatsapp_number||"",business_email:A.business_email||F?.email||"",street_address:A.street_address||A.address||""})}catch(P){console.error("Error loading store data:",P)}finally{r(!1)}},C=async()=>{if(u){a(!0);try{const{error:P}=await Y.from("stores").update({alternate_names:j.alternate_names,seo_description:j.seo_description,business_phone:j.business_phone,business_email:j.business_email,street_address:j.street_address,city:j.city,state:j.state,postal_code:j.postal_code,country:j.country,opening_hours:j.opening_hours,price_range:j.price_range}).eq("id",u);if(P)throw P;Me({title:"SEO Settings Saved",description:"Your SEO settings have been updated successfully. Changes may take a few days to reflect in search results."})}catch(P){Me({variant:"destructive",title:"Error",description:P.message||"Failed to save SEO settings"})}finally{a(!1)}}},k=()=>{if(!i)return;const P=i,A=[],R=P.replace(/([a-z])([A-Z])/g,"$1 $2");R!==P&&A.push(R);const F=P.replace(/\s+/g,"");F!==P&&A.push(F);const L=P.replace(/a/gi,"aa").replace(/e/gi,"ee");L!==P&&!A.includes(L)&&A.push(R.replace(/a/gi,"aa"));const W=[...new Set(A)].filter(V=>V!==P);E(V=>({...V,alternate_names:W.join(", ")})),Me({title:"Variations Generated",description:`Generated ${W.length} name variations`})},D=async()=>{if(!u){Me({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{m(!0),v(null),Me({title:"Submitting Sitemap",description:"Submitting your sitemap to Google Search Console..."});const{data:{session:P}}=await Y.auth.getSession();if(!P)throw new Error("Not authenticated. Please login again.");const R=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P.access_token}`},body:JSON.stringify({storeId:u})})).json();if(R.success)v(R.results?.[0]||{success:!0}),Me({title:"Sitemap Submitted!",description:"Your sitemap has been submitted to Google. It may take a few days to appear in search results."});else throw new Error(R.error||"Failed to submit sitemap")}catch(P){console.error("Error submitting sitemap:",P),v({success:!1,error:P.message}),Me({variant:"destructive",title:"Submission Failed",description:P.message||"Failed to submit sitemap to Google"})}finally{m(!1)}},O=async()=>{if(!u){Me({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{y(!0),b(null),Me({title:"Requesting Indexing",description:"Requesting immediate indexing from Google. This is faster than sitemap submission."});const{data:{session:P}}=await Y.auth.getSession();if(!P)throw new Error("Not authenticated. Please login again.");const R=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P.access_token}`},body:JSON.stringify({storeId:u})})).json();if(R.success)b(R.results?.[0]||{success:!0}),Me({title:"Indexing Requested!",description:"Successfully requested indexing. Your store should appear in Google within hours."});else throw new Error(R.error||"Failed to request indexing")}catch(P){console.error("Error requesting indexing:",P),b({success:!1,error:P.message}),Me({variant:"destructive",title:"Indexing Failed",description:P.message||"Failed to request indexing from Google"})}finally{y(!1)}};return t?s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(Xn,{children:s.jsx(Uh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Bl,{className:"w-6 h-6"}),"SEO Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Optimize your store for search engines like Google"})]}),s.jsx(oe,{onClick:C,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(ke,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Te,{className:"flex items-start gap-3 pt-4",children:[s.jsx(fc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"How SEO helps your store"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:['These settings help Google understand your business better. When someone searches for "',i,'" or similar terms, Google will show rich information about your store including address, phone, and hours.']})]})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(xm,{className:"w-5 h-5"}),"Basic Information"]}),s.jsx(Er,{children:"Help customers find your store with different search terms"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"storeName",children:"Store Name"}),s.jsx(Ve,{id:"storeName",value:i,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Change this in Settings  Store Details"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ce,{htmlFor:"alternateNames",className:"flex items-center gap-2",children:["Also Known As",s.jsxs(wg,{children:[s.jsx(_g,{children:s.jsx(fc,{className:"w-3.5 h-3.5 text-muted-foreground"})}),s.jsx(Vh,{className:"max-w-xs",children:s.jsx("p",{children:"Add variations of your store name that customers might search for. Separate with commas."})})]})]}),s.jsxs(oe,{type:"button",variant:"ghost",size:"sm",onClick:k,className:"h-7 text-xs",children:[s.jsx(fZ,{className:"w-3 h-3 mr-1"}),"Auto Generate"]})]}),s.jsx(Ve,{id:"alternateNames",placeholder:"Sasu Masale, Sasu Masaale, SasuMasaale",value:j.alternate_names,onChange:P=>E(A=>({...A,alternate_names:P.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Example: If store is "SasuMasale", add "Sasu Masale, Sasu Masaale"'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"seoDescription",children:["SEO Description",s.jsx(wt,{variant:"secondary",className:"ml-2 text-xs",children:"Important"})]}),s.jsx(Na,{id:"seoDescription",placeholder:"Fresh Indian spices store offering premium quality masale. Buy garam masala, turmeric, and more...",value:j.seo_description,onChange:P=>E(A=>({...A,seo_description:P.target.value})),rows:3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.seo_description.length,"/160 characters (recommended)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"priceRange",children:"Price Range"}),s.jsxs("select",{id:"priceRange",value:j.price_range,onChange:P=>E(A=>({...A,price_range:P.target.value})),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",children:[s.jsx("option",{value:"",children:" - Budget Friendly"}),s.jsx("option",{value:"",children:" - Moderate"}),s.jsx("option",{value:"",children:" - Premium"}),s.jsx("option",{value:"",children:" - Luxury"})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-5 h-5"}),"Contact Information"]}),s.jsx(Er,{children:"Help customers reach you directly from Google search"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"businessPhone",className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4"}),"Business Phone"]}),s.jsx(Ve,{id:"businessPhone",placeholder:"+91-9876543210",value:j.business_phone,onChange:P=>E(A=>({...A,business_phone:P.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"businessEmail",className:"flex items-center gap-2",children:[s.jsx(wc,{className:"w-4 h-4"}),"Business Email"]}),s.jsx(Ve,{id:"businessEmail",type:"email",placeholder:"contact@yourstore.com",value:j.business_email,onChange:P=>E(A=>({...A,business_email:P.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"openingHours",className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),"Opening Hours"]}),s.jsx(Ve,{id:"openingHours",placeholder:"Mon-Sat: 9AM-9PM, Sun: 10AM-6PM",value:j.opening_hours,onChange:P=>E(A=>({...A,opening_hours:P.target.value}))})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(kf,{className:"w-5 h-5"}),"Business Address"]}),s.jsx(Er,{children:"Appears on Google Maps and local search results"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"streetAddress",children:"Street Address"}),s.jsx(Ve,{id:"streetAddress",placeholder:"123 Spice Market, Main Road",value:j.street_address,onChange:P=>E(A=>({...A,street_address:P.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"city",children:"City"}),s.jsx(Ve,{id:"city",placeholder:"Mumbai",value:j.city,onChange:P=>E(A=>({...A,city:P.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"state",children:"State"}),s.jsx(Ve,{id:"state",placeholder:"Maharashtra",value:j.state,onChange:P=>E(A=>({...A,state:P.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(Ve,{id:"postalCode",placeholder:"400001",value:j.postal_code,onChange:P=>E(A=>({...A,postal_code:P.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"country",children:"Country"}),s.jsx(Ve,{id:"country",placeholder:"IN",value:j.country,onChange:P=>E(A=>({...A,country:P.target.value}))})]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx($s,{className:"w-5 h-5"}),"Google Search Preview"]}),s.jsx(Er,{children:"How your store might appear in Google search results"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"bg-white dark:bg-zinc-900 border rounded-lg p-4 max-w-xl",children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:[l,".digitaldukandar.in"]}),s.jsxs("div",{className:"text-lg text-blue-600 dark:text-blue-400 font-medium hover:underline cursor-pointer",children:[i,j.alternate_names?` (${j.alternate_names.split(",")[0]?.trim()})`:""," - Online Store"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:j.seo_description||`Shop at ${i}. Quality products at great prices.`}),(j.business_phone||j.city)&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[j.business_phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(pc,{className:"w-3 h-3"}),j.business_phone]}),j.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kf,{className:"w-3 h-3"}),j.city,", ",j.state]})]})]})})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5"}),"Google Indexing"]}),s.jsx(Er,{children:"Submit your store to Google for faster indexing"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Two ways to get indexed:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-blue-800 dark:text-blue-200",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Submit Sitemap:"})," Traditional method, takes 3-7 days"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Request Indexing:"})," Faster method using Google Indexing API, appears within hours"]})]})]})]})]})}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:"Submit Sitemap"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit your sitemap to Google Search Console (slower but comprehensive)"})]}),s.jsx(oe,{onClick:D,disabled:f,variant:"outline",className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Submit Sitemap"]})}),g&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${g.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[g.success?s.jsx(Ns,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Kn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:g.success?s.jsx("p",{className:"font-medium",children:"Submitted successfully!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Submission failed"}),g.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:g.error})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:["Request Indexing",s.jsx(wt,{variant:"secondary",className:"text-xs",children:"Faster"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Request immediate indexing via Google Indexing API (appears within hours)"})]}),s.jsx(oe,{onClick:O,disabled:p,className:"w-full",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Requesting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wM,{className:"w-4 h-4 mr-2"}),"Request Indexing"]})}),w&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${w.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[w.success?s.jsx(Ns,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Kn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:w.success?s.jsx("p",{className:"font-medium",children:"Indexing requested!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Request failed"}),w.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:w.error})]})})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-2",children:"Note:"}),s.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Sitemap is automatically submitted when you create/update your store"}),s.jsx("li",{children:'Use "Request Indexing" when you make important changes and need Google to re-crawl quickly'}),s.jsx("li",{children:"You can use both methods - they complement each other"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(oe,{onClick:C,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Save SEO Settings"]})})})]})})})},fst=()=>{const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(""),[l,c]=_.useState(null),[u,d]=_.useState({facebook_url:"",instagram_url:"",twitter_url:"",youtube_url:"",linkedin_url:""});_.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{session:w}}=await Y.auth.getSession();if(!w){e("/auth");return}const{data:b,error:j}=await Y.from("stores").select("*").eq("user_id",w.user.id).single();if(j||!b){Me({variant:"destructive",title:"Error",description:"Could not load store data"});return}c(b.id),o(b.name||"");const E=b.social_links;d({facebook_url:b.facebook_url||E?.facebook||"",instagram_url:b.instagram_url||E?.instagram||"",twitter_url:b.twitter_url||E?.twitter||"",youtube_url:b.youtube_url||"",linkedin_url:b.linkedin_url||""})}catch(w){console.error("Error loading store data:",w)}finally{r(!1)}},m=async()=>{if(l){a(!0);try{const{error:w}=await Y.from("stores").update({facebook_url:u.facebook_url||null,instagram_url:u.instagram_url||null,twitter_url:u.twitter_url||null,youtube_url:u.youtube_url||null,linkedin_url:u.linkedin_url||null}).eq("id",l);if(w)throw w;Me({title:"Social Media Settings Saved",description:"Your social media links have been updated successfully."})}catch(w){Me({variant:"destructive",title:"Error",description:w.message||"Failed to save social media settings"})}finally{a(!1)}}},p=w=>{if(!w)return!0;try{return new URL(w),!0}catch{return!1}},y=w=>w?p(w)?"valid":"invalid":null;if(t)return s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"})})});const g=[{key:"facebook_url",name:"Facebook",icon:vM,placeholder:"https://facebook.com/yourstore",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{key:"instagram_url",name:"Instagram",icon:Rl,placeholder:"https://instagram.com/yourstore",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30"},{key:"twitter_url",name:"Twitter / X",icon:bM,placeholder:"https://twitter.com/yourstore",color:"text-sky-500",bgColor:"bg-sky-100 dark:bg-sky-900/30"},{key:"youtube_url",name:"YouTube",icon:mZ,placeholder:"https://youtube.com/@yourstore",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/30"},{key:"linkedin_url",name:"LinkedIn",icon:cZ,placeholder:"https://linkedin.com/company/yourstore",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"}],v=Object.values(u).filter(w=>w&&p(w)).length;return s.jsx(Xn,{children:s.jsx(Uh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Lg,{className:"w-6 h-6"}),"Social Media"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your social profiles to increase visibility"})]}),s.jsx(oe,{onClick:m,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(ke,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Te,{className:"flex items-center justify-between pt-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Why Social Media Matters"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Social links appear in Google search results and help customers find and trust your store. Connected profiles also improve your SEO ranking."})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:v}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(Lg,{className:"w-5 h-5"}),"Social Media Profiles"]}),s.jsx(Er,{children:"Add your social media profile URLs. These will appear on your store and in search results."})]}),s.jsx(Te,{className:"space-y-6",children:g.map(w=>{const b=u[w.key],j=y(b);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:w.key,className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${w.bgColor}`,children:s.jsx(w.icon,{className:`w-4 h-4 ${w.color}`})}),w.name,j==="valid"&&s.jsxs(wt,{variant:"secondary",className:"ml-2 text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{id:w.key,placeholder:w.placeholder,value:b,onChange:E=>d(S=>({...S,[w.key]:E.target.value})),className:j==="invalid"?"border-red-500":""}),b&&p(b)&&s.jsxs(wg,{children:[s.jsx(_g,{asChild:!0,children:s.jsx(oe,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(b,"_blank"),children:s.jsx(ya,{className:"w-4 h-4"})})}),s.jsx(Vh,{children:"Open in new tab"})]})]}),j==="invalid"&&s.jsx("p",{className:"text-xs text-red-500",children:"Please enter a valid URL"})]},w.key)})})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(Lg,{className:"w-5 h-5"}),"Preview"]}),s.jsx(Er,{children:"How your social links will appear on your store footer"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Follow ",i," on social media:"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(w=>{const b=u[w.key],j=b&&p(b);return s.jsx("div",{className:`p-3 rounded-lg transition-all ${j?`${w.bgColor} cursor-pointer hover:scale-105`:"bg-muted/50 opacity-50"}`,children:s.jsx(w.icon,{className:`w-5 h-5 ${j?w.color:"text-muted-foreground"}`})},w.key)})}),v===0&&s.jsx("p",{className:"text-sm text-muted-foreground mt-4 italic",children:"No social profiles connected yet. Add URLs above to display them here."})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(oe,{onClick:m,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_c,{className:"w-4 h-4 mr-2"}),"Save Social Media Settings"]})})})]})})})},hst=()=>{const e=ur(),[t]=Ew(),[r,n]=_.useState(!0),[a,i]=_.useState(!1),[o,l]=_.useState(null),[c,u]=_.useState(!1),[d,f]=_.useState(null),[m,p]=_.useState(null),[y,g]=_.useState({enabled:!1,default_message:"Thanks for your message! We'll get back to you soon.",rules:[]}),[v,w]=_.useState({enabled:!1,default_reply:"Thanks for your comment!"}),[b,j]=_.useState({enabled:!1,display_mode:"auto",max_reels:6,manual_reels:[],show_on_homepage:!0,section_title:"Follow Us on Instagram"}),[E,S]=_.useState(""),[C,k]=_.useState(!1),[D,O]=_.useState(""),[P,A]=_.useState("");_.useEffect(()=>{const J=t.get("status"),Q=t.get("message");J==="success"?(lt.success(Q||"Instagram connected successfully!"),e("/admin/growth/instagram",{replace:!0})):J==="error"&&(lt.error(Q||"Failed to connect Instagram"),e("/admin/growth/instagram",{replace:!0})),R()},[t]);const R=async()=>{try{n(!0);const{data:{user:J}}=await Y.auth.getUser();if(!J){e("/auth");return}const{data:Q,error:de}=await Y.from("stores").select("id, instagram_connected, instagram_username, instagram_token_expiry, auto_reply_settings, comment_auto_reply_settings, instagram_reels_settings").eq("user_id",J.id).single();if(de){console.error("Error loading store:",de),lt.error("Failed to load settings");return}l(Q.id),u(Q.instagram_connected||!1),f(Q.instagram_username),p(Q.instagram_token_expiry),Q.auto_reply_settings&&g(Q.auto_reply_settings),Q.comment_auto_reply_settings&&w(Q.comment_auto_reply_settings),Q.instagram_reels_settings&&j(Q.instagram_reels_settings)}catch(J){console.error("Error:",J),lt.error("Failed to load settings")}finally{n(!1)}},F=()=>{if(!o){lt.error("Store not found");return}const J=`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=connect&store_id=${o}`;window.location.href=J},L=async()=>{if(o)try{(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=disconnect&store_id=${o}`)).ok?(u(!1),f(null),p(null),lt.success("Instagram disconnected")):lt.error("Failed to disconnect")}catch(J){console.error("Error disconnecting:",J),lt.error("Failed to disconnect Instagram")}},W=async()=>{if(o)try{i(!0);const{error:J}=await Y.from("stores").update({auto_reply_settings:JSON.parse(JSON.stringify(y)),comment_auto_reply_settings:JSON.parse(JSON.stringify(v)),instagram_reels_settings:JSON.parse(JSON.stringify(b))}).eq("id",o);if(J)throw J;lt.success("Settings saved successfully!")}catch(J){console.error("Error saving:",J),lt.error("Failed to save settings")}finally{i(!1)}},V=()=>{if(!E.trim()){lt.error("Please enter a reel URL");return}if(!E.includes("instagram.com/reel/")&&!E.includes("instagram.com/p/")){lt.error("Invalid URL. Please use format: https://www.instagram.com/reel/xxx");return}if(b.manual_reels.some(Q=>Q.url===E.trim())){lt.error("This reel is already added");return}const J={url:E.trim(),added_at:new Date().toISOString()};j(Q=>({...Q,manual_reels:[...Q.manual_reels,J]})),S(""),lt.success("Reel added")},H=J=>{j(Q=>({...Q,manual_reels:Q.manual_reels.filter(de=>de.url!==J)}))},G=async()=>{if(o)try{k(!0);const Q=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?action=refresh&store_id=${o}`,{method:"POST"})).json();Q.success?lt.success(`Refreshed ${Q.count} reels from Instagram`):lt.error(Q.error||"Failed to refresh reels")}catch(J){console.error("Error refreshing reels:",J),lt.error("Failed to refresh reels")}finally{k(!1)}},I=J=>{const Q=J.match(/\/(reel|p)\/([A-Za-z0-9_-]+)/);return Q?Q[2]:J},U=()=>{if(!D.trim()||!P.trim()){lt.error("Please enter keywords and reply message");return}const J=D.split(",").map(de=>de.trim()).filter(de=>de),Q={id:Date.now().toString(),keywords:J,reply:P.trim()};g(de=>({...de,rules:[...de.rules,Q]})),O(""),A(""),lt.success("Rule added")},X=J=>{g(Q=>({...Q,rules:Q.rules.filter(de=>de.id!==J)}))},z=()=>m?(new Date(m).getTime()-Date.now())/(1e3*60*60*24)<7:!1,Z=async()=>{if(o)try{const Q=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=refresh&store_id=${o}`)).json();Q.success?(p(Q.expires_at),lt.success("Token refreshed successfully!")):lt.error(Q.error||"Failed to refresh token")}catch(J){console.error("Error refreshing token:",J),lt.error("Failed to refresh token")}};return r?s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Instagram Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your Instagram Business account and configure auto-replies"})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"w-5 h-5"}),"Instagram Connection"]}),s.jsx(Er,{children:"Connect your Instagram Business account to enable auto-replies"})]}),s.jsx(Te,{children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(nn,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Connected"}),d&&s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["@",d]})]}),s.jsx(oe,{variant:"outline",size:"sm",onClick:L,children:"Disconnect"})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${z()?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200":"bg-muted"}`,children:[s.jsxs("p",{className:"text-sm",children:["Token expires: ",new Date(m).toLocaleDateString(),z()&&s.jsx("span",{className:"text-yellow-600 ml-2",children:"(Expiring soon!)"})]}),s.jsx(oe,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:Z,children:"Refresh Token"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx(Ua,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Not Connected"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your Instagram to enable features"})]})]}),s.jsxs(oe,{onClick:F,className:"w-full sm:w-auto",children:[s.jsx(Rl,{className:"w-4 h-4 mr-2"}),"Connect Instagram"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need an Instagram Business or Creator account connected to a Facebook Page."})]})})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(Qh,{className:"w-5 h-5"}),"DM Auto-Reply"]}),s.jsx(Er,{children:"Automatically reply to direct messages"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Enable Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to incoming DMs"})]}),s.jsx(Gr,{checked:y.enabled,onCheckedChange:J=>g(Q=>({...Q,enabled:J}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Default Reply Message"}),s.jsx(Na,{value:y.default_message,onChange:J=>g(Q=>({...Q,default_message:J.target.value})),placeholder:"Thanks for your message! We'll get back to you soon.",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message is sent when no keyword rules match"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{children:"Keyword Rules"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set specific replies for messages containing certain keywords"}),y.rules.length>0&&s.jsx("div",{className:"space-y-2",children:y.rules.map(J=>s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Keywords: ",J.keywords.join(", ")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:J.reply})]}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>X(J.id),children:s.jsx(Fn,{className:"w-4 h-4 text-destructive"})})]},J.id))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(Ve,{value:D,onChange:J=>O(J.target.value),placeholder:"Keywords (comma separated): price, cost, how much"}),s.jsx(Na,{value:P,onChange:J=>A(J.target.value),placeholder:"Reply message for these keywords...",rows:2}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:U,children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(i0e,{className:"w-5 h-5"}),"Comment Auto-Reply"]}),s.jsx(Er,{children:"Automatically reply to comments on your posts"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Enable Comment Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to new comments"})]}),s.jsx(Gr,{checked:v.enabled,onCheckedChange:J=>w(Q=>({...Q,enabled:J}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Default Comment Reply"}),s.jsx(Na,{value:v.default_reply,onChange:J=>w(Q=>({...Q,default_reply:J.target.value})),placeholder:"Thanks for your comment!",rows:2})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(m0e,{className:"w-5 h-5"}),"Instagram Reels on Store"]}),s.jsx(Er,{children:"Display your Instagram Reels on your store's homepage"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Show Reels on Store"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Instagram Reels to customers"})]}),s.jsx(Gr,{checked:b.enabled,onCheckedChange:J=>j(Q=>({...Q,enabled:J}))})]}),b.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Section Title"}),s.jsx(Ve,{value:b.section_title,onChange:J=>j(Q=>({...Q,section_title:J.target.value})),placeholder:"Follow Us on Instagram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Display Mode"}),s.jsxs(br,{value:b.display_mode,onValueChange:J=>j(Q=>({...Q,display_mode:J})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"auto",children:"Auto-fetch from Instagram"}),s.jsx(Ye,{value:"manual",children:"Manual URLs only"}),s.jsx(Ye,{value:"both",children:"Both (Auto + Manual)"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.display_mode==="auto"&&"Automatically fetch your latest reels from Instagram",b.display_mode==="manual"&&"Only show reels you manually add",b.display_mode==="both"&&"Combine auto-fetched reels with manual ones"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Maximum Reels to Show"}),s.jsxs(br,{value:b.max_reels.toString(),onValueChange:J=>j(Q=>({...Q,max_reels:parseInt(J)})),children:[s.jsx(mr,{className:"w-24",children:s.jsx(wr,{})}),s.jsx(pr,{children:[3,4,6,8,9,12].map(J=>s.jsx(Ye,{value:J.toString(),children:J},J))})]})]}),(b.display_mode==="auto"||b.display_mode==="both")&&s.jsx("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-Fetch Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetch your latest reels from Instagram"})]}),s.jsx(oe,{variant:"outline",size:"sm",onClick:G,disabled:C,children:C?s.jsx(Wt,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(b.display_mode==="manual"||b.display_mode==="both")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{children:"Manual Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add specific reels you want to display on your store"}),b.manual_reels.length>0&&s.jsx("div",{className:"space-y-2",children:b.manual_reels.map(J=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[s.jsx(Rl,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:I(J.url)}),s.jsxs("a",{href:J.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-primary flex items-center gap-1",children:["View ",s.jsx(ya,{className:"w-3 h-3"})]})]}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>H(J.url),children:s.jsx(Fn,{className:"w-4 h-4 text-destructive"})})]},J.url))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(Ve,{value:E,onChange:J=>S(J.target.value),placeholder:"https://www.instagram.com/reel/ABC123..."}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:V,children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Add Reel"]})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(oe,{onClick:W,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Settings"})})]})]})})},tfe=()=>new Promise(e=>{if(window.Razorpay){e(!0);return}const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!1,t.onload=()=>e(!0),t.onerror=()=>e(!1),document.head.appendChild(t)}),mst=async(e,t,r)=>{try{const{data:n,error:a}=await Y.functions.invoke("create-razorpay-order",{body:{amount:Math.round(e*100),currency:t,storeId:r}});if(a)throw a;return!n.orderId||!n.orderId.startsWith("order_")?(console.error("Invalid Razorpay order ID:",n.orderId),{orderId:"",error:"Invalid order ID format"}):(console.log(" Razorpay order created:",n.orderId),{orderId:n.orderId})}catch(n){return console.error("Error creating Razorpay order:",n),{orderId:"",error:n.message||"Failed to create order"}}},pst=async(e,t,r)=>{try{if(!await tfe())return{success:!1,error:"Failed to load Razorpay SDK"};if(!e.orderId||!e.orderId.startsWith("order_"))return console.error("CRITICAL ERROR: Invalid Razorpay Order ID format:",e.orderId),{success:!1,error:"Invalid Order ID. Please try again."};console.log(" Opening Razorpay with order_id:",e.orderId);const a={key:t.key_id,amount:Math.round(e.amount*100),currency:e.currency,name:"Your Store Name",description:`Order #${e.orderNumber}`,order_id:String(e.orderId),prefill:{name:e.customerName,email:e.customerEmail||"",contact:e.customerPhone},theme:{color:"#3b82f6"},handler:function(o){console.log(" Razorpay handler response:",o),console.log("razorpay_payment_id:",o.razorpay_payment_id),console.log("razorpay_order_id:",o.razorpay_order_id),console.log("razorpay_signature:",o.razorpay_signature),r.onSuccess(o)},modal:{ondismiss:function(){r.onDismiss&&r.onDismiss()}}},i=new window.Razorpay(a);return i.on("payment.failed",function(o){r.onFailure({code:o.error.code,description:o.error.description,reason:o.error.reason})}),i.open(),{success:!0}}catch(n){return console.error("Razorpay checkout error:",n),{success:!1,error:n.message||"Payment failed"}}},gst=async(e,t,r,n)=>{try{const{data:a,error:i}=await Y.functions.invoke("verify-razorpay-payment",{body:{razorpay_order_id:e,razorpay_payment_id:t,razorpay_signature:r,storeId:n}});if(i)throw i;return{verified:a.verified}}catch(a){return console.error("Error verifying Razorpay payment:",a),{verified:!1,error:a.message}}},rfe=e=>{if(e.is_free)return[];const t=[],r=e.pricing_model||"onetime";return(r==="onetime"||r==="mixed")&&t.push({type:"onetime",price:e.price_onetime||e.price,quota:e.quota_onetime||15,label:"One-time Purchase",description:`${e.quota_onetime||15} API calls per month, lifetime access`}),(r==="monthly"||r==="mixed")&&t.push({type:"monthly",price:e.price_monthly||0,quota:e.quota_monthly||30,label:"Monthly Subscription",description:`${e.quota_monthly||30} API calls per month, auto-renew`}),(r==="yearly"||r==="mixed")&&t.push({type:"yearly",price:e.price_yearly||0,quota:e.quota_yearly||50,label:"Yearly Subscription",description:`${e.quota_yearly||50} API calls per month, billed annually`}),t},nfe=async(e,t)=>{try{const{data:r,error:n}=await Y.from("marketplace_purchases").select("*").eq("store_id",e).eq("feature_slug",t).eq("status","active").maybeSingle();if(n)throw n;return{purchased:!!r,purchase:r}}catch(r){return console.error("Error checking existing purchase:",r),{purchased:!1}}},xst=async(e,t,r,n,a)=>{try{const o=rfe(e).find(f=>f.type===t);if(!o)return{success:!1,error:"Invalid pricing option"};const{purchased:l}=await nfe(r,e.slug);if(l)return{success:!1,error:"Feature already purchased"};if(!await tfe())return{success:!1,error:"Failed to load payment gateway"};console.log(" Calling marketplace-payment edge function with:",{action:"create_order",feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n});const{data:u,error:d}=await Y.functions.invoke("marketplace-payment",{body:{action:"create_order",feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n}});return console.log(" Edge function response:",{orderData:u,orderError:d}),d||!u?.success?(console.error(" Edge function error:",d),console.error(" Order data:",u),{success:!1,error:u?.error||d?.message||"Failed to create payment order"}):new Promise(f=>{const m={key:u.key_id,amount:u.amount,currency:u.currency,name:"Marketplace",description:`${e.name} - ${o.label}`,order_id:u.order_id,prefill:{name:a.name,email:a.email,contact:a.phone},theme:{color:"#3B82F6"},handler:async function(y){try{const{data:g,error:v}=await Y.functions.invoke("marketplace-payment",{body:{action:"verify_payment",razorpay_order_id:y.razorpay_order_id,razorpay_payment_id:y.razorpay_payment_id,razorpay_signature:y.razorpay_signature,feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n}});if(v||!g?.success){f({success:!1,error:g?.error||v?.message||"Payment verification failed"});return}f({success:!0,purchase:g.purchase})}catch(g){f({success:!1,error:g.message||"Payment processing failed"})}},modal:{ondismiss:function(){f({success:!1,error:"Payment cancelled by user"})}}},p=new window.Razorpay(m);p.on("payment.failed",function(y){f({success:!1,error:y.error.description||"Payment failed"})}),p.open()})}catch(i){return console.error("Purchase error:",i),{success:!1,error:i.message||"Failed to process purchase"}}},vst=async(e,t,r)=>{try{const n=[...r,t],{error:a}=await Y.from("stores").update({enabled_features:n}).eq("id",e);if(a)throw a;return{success:!0}}catch(n){return console.error("Error enabling free feature:",n),{success:!1,error:n.message||"Failed to enable feature"}}},yst=({open:e,onOpenChange:t,feature:r,storeId:n,userId:a,customerDetails:i,onSuccess:o})=>{const{toast:l}=ss(),[c,u]=_.useState(null),[d,f]=_.useState(!1),m=rfe(r),p=async()=>{if(!c){l({title:"Select a plan",description:"Please select a pricing option to continue",variant:"destructive"});return}f(!0);try{const v=await xst(r,c,n,a,i);v.success?(l({title:"Purchase Successful!",description:`${r.name} has been added to your account`}),o(),t(!1)):l({title:"Purchase Failed",description:v.error||"Unable to complete purchase",variant:"destructive"})}catch(v){l({title:"Error",description:v.message||"An unexpected error occurred",variant:"destructive"})}finally{f(!1)}},y=v=>{switch(v){case"onetime":return s.jsx(wM,{className:"h-5 w-5"});case"monthly":return s.jsx($l,{className:"h-5 w-5"});case"yearly":return s.jsx(In,{className:"h-5 w-5"})}},g=v=>v==="yearly"?s.jsx(wt,{variant:"secondary",className:"ml-2 bg-green-100 text-green-700",children:"Best Value"}):v==="onetime"?s.jsx(wt,{variant:"secondary",className:"ml-2",children:"Lifetime"}):null;return s.jsx(wn,{open:e,onOpenChange:t,children:s.jsxs(gn,{className:"sm:max-w-[600px]",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"text-2xl",children:["Purchase ",r.name]}),s.jsx(ls,{className:"text-base",children:r.description})]}),s.jsx("div",{className:"space-y-4 py-4",children:m.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No pricing options available"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3",children:m.map(v=>s.jsx(ke,{className:`cursor-pointer transition-all ${c===v.type?"border-primary border-2 shadow-md":"border hover:border-primary/50"}`,onClick:()=>u(v.type),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:`p-2 rounded-lg ${c===v.type?"bg-primary text-primary-foreground":"bg-muted"}`,children:y(v.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-base",children:v.label}),g(v.type)]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsxs("span",{className:"text-2xl font-bold",children:["",v.price]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:v.type==="onetime"?"one-time":v.type==="monthly"?"/month":"/year"})]})]})]}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${c===v.type?"border-primary bg-primary":"border-muted-foreground"}`,children:c===v.type&&s.jsx(nn,{className:"h-3 w-3 text-primary-foreground"})})]})})},v.type))}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"What's included:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(nn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:["Full access to ",r.name]})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(nn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Priority support"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(nn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Regular updates and improvements"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(nn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Secure payment via Razorpay"})]})]})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[s.jsx(oe,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),s.jsx(oe,{onClick:p,disabled:!c||d,className:"min-w-[120px]",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(In,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]})]})})},bst=e=>({Truck:gc,BarChart3:jw,MessageSquare:g2,Mail:wc,Target:x2,Package:Un})[e]||Un,Sj=e=>({shipping:"/admin/shipping",analytics:"/admin/analytics","live-chat":"/admin/live-chat","email-marketing":"/admin/email-marketing",ads:"/admin/ads"})[e]||`/admin/${e}`,wst=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState(null),[a,i]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(null),[d,f]=_.useState(null),[m,p]=_.useState([]),[y,g]=_.useState(""),[v,w]=_.useState("all"),[b,j]=_.useState(!1),[E,S]=_.useState(null),[C,k]=_.useState(null),[D,O]=_.useState({name:"",email:"",phone:""});_.useEffect(()=>{P(),A()},[]);const P=async()=>{try{const{data:{session:G}}=await Y.auth.getSession();if(!G)return;k(G.user.id);const{data:I,error:U}=await Y.from("stores").select("id, enabled_features").eq("user_id",G.user.id).single();if(U)throw U;I&&(n({id:I.id,enabled_features:I.enabled_features||[]}),p(I.enabled_features||[]));const{data:X}=await Y.from("profiles").select("full_name, email, phone").eq("user_id",G.user.id).maybeSingle();O(X?{name:X.full_name||G.user.email||"",email:X.email||G.user.email||"",phone:X.phone||""}:{name:G.user.email||"",email:G.user.email||"",phone:""})}catch(G){console.error("Failed to fetch store data:",G)}},A=async()=>{try{const{data:G,error:I}=await Y.from("marketplace_features").select("*").eq("is_active",!0).order("menu_order");if(I)throw I;i(G||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{l(!1)}},R=G=>m.includes(G),F=_.useMemo(()=>a.filter(G=>{const I=y===""||G.name.toLowerCase().includes(y.toLowerCase())||G.description?.toLowerCase().includes(y.toLowerCase());let U=!0;switch(v){case"free":U=G.is_free;break;case"paid":U=!G.is_free;break;case"added":U=m.includes(G.slug);break;default:U=!0}return I&&U}),[a,y,v,m]),L=[{value:"all",label:"All"},{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"added",label:"Added"}],W=async G=>{if(m.includes(G.slug)){e(Sj(G.slug));return}if(!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}u(G.slug);try{if(G.is_free){const U=await vst(r.id,G.slug,m);if(U.success){const X=[...m,G.slug];p(X),n({...r,enabled_features:X}),t({title:"Feature Added",description:`${G.name} has been added to your store`}),e(Sj(G.slug))}else throw new Error(U.error)}else{const{purchased:U}=await nfe(r.id,G.slug);if(U){const X=[...m,G.slug],{error:z}=await Y.from("stores").update({enabled_features:X}).eq("id",r.id);if(z)throw z;p(X),n({...r,enabled_features:X}),t({title:"Feature Enabled",description:`${G.name} has been enabled`}),e(Sj(G.slug))}else S(G),j(!0)}}catch(U){console.error("Failed to add feature:",U),t({title:"Error",description:U.message||"Failed to add feature. Please try again.",variant:"destructive"})}finally{u(null)}},V=async(G,I)=>{if(I.stopPropagation(),!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}f(G.slug);try{const U=m.filter(z=>z!==G.slug),{error:X}=await Y.from("stores").update({enabled_features:U}).eq("id",r.id);if(X)throw X;p(U),n({...r,enabled_features:U}),t({title:"Feature Removed",description:`${G.name} has been removed from your store`})}catch(U){console.error("Failed to remove feature:",U),t({title:"Error",description:"Failed to remove feature. Please try again.",variant:"destructive"})}finally{f(null)}},H=async()=>{if(!(!E||!r))try{const G=[...m,E.slug],{error:I}=await Y.from("stores").update({enabled_features:G}).eq("id",r.id);if(I)throw I;p(G),n({...r,enabled_features:G}),e(Sj(E.slug))}catch(G){console.error("Failed to enable feature after payment:",G),t({title:"Warning",description:"Payment successful but failed to enable feature. Please contact support.",variant:"destructive"})}};return o?s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsxs(Xn,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover and add features to enhance your store"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ve,{placeholder:"Search features...",value:y,onChange:G=>g(G.target.value),className:"pl-9"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:L.map(G=>s.jsx(oe,{variant:v===G.value?"default":"outline",size:"sm",onClick:()=>w(G.value),children:G.label},G.value))})]}),F.length===0?s.jsx(ke,{children:s.jsxs(Te,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Un,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:y||v!=="all"?"No matching features":"No features available"}),s.jsx("p",{className:"text-muted-foreground",children:y||v!=="all"?"Try adjusting your search or filter":"Check back later for new features"}),(y||v!=="all")&&s.jsx(oe,{variant:"outline",className:"mt-4",onClick:()=>{g(""),w("all")},children:"Clear filters"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(G=>{const I=bst(G.icon),U=R(G.slug);return s.jsxs(ke,{className:`transition-all duration-200 hover:shadow-lg ${U?"border-primary/50":""}`,children:[s.jsx(Qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`p-3 rounded-xl ${U?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(I,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[U&&s.jsxs(wt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Added"]}),G.is_free?s.jsx(wt,{variant:"secondary",children:"Free"}):s.jsxs(wt,{children:["",G.price]})]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(et,{className:"text-lg mb-1",children:G.name}),s.jsx(Er,{className:"line-clamp-2",children:G.description})]}),U?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{className:"flex-1",onClick:()=>W(G),variant:"outline",children:["Configure",s.jsx(sa,{className:"h-4 w-4 ml-2"})]}),s.jsx(oe,{variant:"destructive",size:"icon",onClick:X=>V(G,X),disabled:d===G.slug,children:d===G.slug?s.jsx(Wt,{className:"h-4 w-4 animate-spin"}):s.jsx(Fn,{className:"h-4 w-4"})})]}):s.jsx(oe,{onClick:()=>W(G),className:"w-full",disabled:c===G.slug,children:c===G.slug?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})})]})]},G.id)})}),s.jsx(ke,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Un,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"How Marketplace Works"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Feature" to add it to your store. Free features are added instantly. Paid features require payment before activation.'})]})]})})})]}),E&&r&&C&&s.jsx(yst,{open:b,onOpenChange:j,feature:E,storeId:r.id,userId:C,customerDetails:D,onSuccess:H})]})},_st=()=>{const{toast:e}=ss(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[f,m]=_.useState([]),[p,y]=_.useState(null),[g,v]=_.useState(!1),[w,b]=_.useState(!1),[j,E]=_.useState({email:"",password:""}),[S,C]=_.useState({length:10,breadth:10,height:10,weight:.5});_.useEffect(()=>{k()},[]);const k=async()=>{try{const{data:{session:F}}=await Y.auth.getSession();if(!F)return;const{data:L}=await Y.from("stores").select("id, shiprocket_email, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",F.user.id).single();if(L){if(y(L.id),v(L.shipping_popup_enabled||!1),L.shiprocket_email&&E(W=>({...W,email:L.shiprocket_email})),L.shiprocket_token){c(!0);const W=await Xj(L.shiprocket_token);W.success&&W.locations&&m(W.locations)}L.package_length&&C(W=>({...W,length:L.package_length})),L.package_breadth&&C(W=>({...W,breadth:L.package_breadth})),L.package_height&&C(W=>({...W,height:L.package_height})),L.package_weight&&C(W=>({...W,weight:L.package_weight}))}}catch(F){console.error("Error loading shipping settings:",F)}finally{r(!1)}},D=async()=>{if(!j.email||!j.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}o(!0);try{const F=await YV(j.email,j.password);if(F.success&&F.token){e({title:"Connection Successful",description:"Shiprocket credentials are valid"});const L=await Xj(F.token);L.success&&L.locations&&m(L.locations)}else e({title:"Connection Failed",description:F.error||"Invalid credentials",variant:"destructive"})}catch(F){e({title:"Error",description:F.message||"Failed to test connection",variant:"destructive"})}finally{o(!1)}},O=async()=>{if(!j.email||!j.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}a(!0);try{const F=await YV(j.email,j.password);if(F.success&&F.token){const{error:L}=await Y.from("stores").update({shiprocket_email:j.email,shiprocket_token:F.token}).eq("id",p);if(L)throw L;c(!0);const W=await Xj(F.token);W.success&&W.locations&&m(W.locations),e({title:"Connected",description:"Shiprocket has been connected to your store"})}else e({title:"Connection Failed",description:F.error||"Invalid credentials",variant:"destructive"})}catch(F){e({title:"Error",description:F.message||"Failed to connect to Shiprocket",variant:"destructive"})}finally{a(!1)}},P=async()=>{try{const{error:F}=await Y.from("stores").update({shiprocket_email:null,shiprocket_token:null}).eq("id",p);if(F)throw F;c(!1),E({email:"",password:""}),m([]),e({title:"Disconnected",description:"Shiprocket has been disconnected from your store"})}catch(F){e({title:"Error",description:F.message||"Failed to disconnect",variant:"destructive"})}},A=async F=>{b(!0);try{const{error:L}=await Y.from("stores").update({shipping_popup_enabled:F}).eq("id",p);if(L)throw L;v(F),e({title:F?"Shipping Enabled":"Shipping Disabled",description:F?"Shipping popup will appear in Orders":"Orders will be marked as delivered directly"})}catch(L){e({title:"Error",description:L.message||"Failed to update setting",variant:"destructive"})}finally{b(!1)}},R=async()=>{a(!0);try{const{error:F}=await Y.from("stores").update({package_length:S.length,package_breadth:S.breadth,package_height:S.height,package_weight:S.weight}).eq("id",p);if(F)throw F;e({title:"Saved",description:"Package defaults have been saved"})}catch(F){e({title:"Error",description:F.message||"Failed to save package defaults",variant:"destructive"})}finally{a(!1)}};return t?s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(gc,{className:"h-6 w-6"}),"Shipping"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect Shiprocket to manage shipping for your orders"})]}),l&&s.jsxs(wt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g?"bg-green-100 dark:bg-green-900":"bg-muted"}`,children:s.jsx(dZ,{className:`h-6 w-6 ${g?"text-green-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Shipping Feature"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g?"Enabled - Shipping popup will appear in Orders":"Disabled - Orders will be marked as delivered directly"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${g?"text-green-600":"text-muted-foreground"}`,children:g?"Enabled":"Disabled"}),s.jsx(Gr,{checked:g,onCheckedChange:A,disabled:w})]})]})})}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[l?s.jsx(en,{className:"h-5 w-5 text-green-600"}):s.jsx(gc,{className:"h-5 w-5"}),l?"Shiprocket Connected":"Connect to Shiprocket"]}),s.jsx(Er,{children:l?"Your store is connected to Shiprocket. You can now create shipments for your orders.":"Enter your Shiprocket API credentials to connect your account"})]}),s.jsxs(Te,{className:"space-y-4",children:[!l&&s.jsxs(Yr,{children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsxs(Xr,{children:["Don't have a Shiprocket account?"," ",s.jsx("a",{href:"https://www.shiprocket.in/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Sign up here"}),". Then go to Settings  API  Configure to create API credentials."]})]}),l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Un,{className:"h-8 w-8 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pickup Locations"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gc,{className:"h-8 w-8 mx-auto text-blue-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Ready"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Status"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(en,{className:"h-8 w-8 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Active"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection"})]})})})]}),f.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Pickup Locations"}),s.jsx("div",{className:"space-y-2",children:f.map(F=>s.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium",children:F.pickup_location}),s.jsxs("p",{className:"text-muted-foreground",children:[F.address,", ",F.city,", ",F.state," - ",F.pin_code]})]},F.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",onClick:()=>window.open("https://app.shiprocket.in/","_blank"),children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Open Shiprocket Dashboard"]}),s.jsx(oe,{variant:"destructive",onClick:P,children:"Disconnect"})]})]}):s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"email",children:"Shiprocket API Email"}),s.jsx(Ve,{id:"email",type:"email",placeholder:"your-api-user@email.com",value:j.email,onChange:F=>E({...j,email:F.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the API user email from Settings  API  Configure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"password",children:"Shiprocket API Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{id:"password",type:u?"text":"password",placeholder:"",value:j.password,onChange:F=>E({...j,password:F.target.value})}),s.jsx(oe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>d(!u),children:u?s.jsx(Ch,{className:"h-4 w-4"}):s.jsx($s,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check your email for the API password from Shiprocket"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",onClick:D,disabled:i,children:[i&&s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Test Connection"]}),s.jsxs(oe,{onClick:O,disabled:n,children:[n&&s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Connect Shiprocket"]})]})]})]})]}),l&&s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Default Package Dimensions"}),s.jsx(Er,{children:"Set default package dimensions for your shipments (can be changed per order)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"length",children:"Length (cm)"}),s.jsx(Ve,{id:"length",type:"number",value:S.length,onChange:F=>C({...S,length:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"breadth",children:"Breadth (cm)"}),s.jsx(Ve,{id:"breadth",type:"number",value:S.breadth,onChange:F=>C({...S,breadth:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"height",children:"Height (cm)"}),s.jsx(Ve,{id:"height",type:"number",value:S.height,onChange:F=>C({...S,height:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"weight",children:"Weight (kg)"}),s.jsx(Ve,{id:"weight",type:"number",step:"0.1",value:S.weight,onChange:F=>C({...S,weight:parseFloat(F.target.value)||0})})]})]}),s.jsxs(oe,{onClick:R,disabled:n,children:[n&&s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Defaults"]})]})]}),s.jsx(ke,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(ba,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you can do with Shipping"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Create shipments directly from your orders"}),s.jsx("li",{children:" Get real-time tracking updates"}),s.jsx("li",{children:" Compare shipping rates from multiple couriers"}),s.jsx("li",{children:" Print shipping labels with one click"}),s.jsx("li",{children:" Automatic order status updates"})]})]})]})})})]})})},jst=()=>{const{toast:e}=ss(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(null),[f,m]=_.useState(!1),[p,y]=_.useState(""),[g,v]=_.useState(""),[w,b]=_.useState("carousel"),[j,E]=_.useState(null),[S,C]=_.useState({}),[k,D]=_.useState(null);_.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:{session:I}}=await Y.auth.getSession();if(!I)return;const{data:U}=await Y.from("stores").select("id, google_place_id, google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("user_id",I.user.id).single();if(U){d(U.id),m(U.google_reviews_enabled||!1),y(U.google_place_id||""),v(U.google_maps_url||""),b(U.google_reviews_display_type||"carousel");const{data:X}=await Y.from("marketplace_purchases").select("*").eq("store_id",U.id).eq("feature_slug","google-reviews").eq("status","active").single();if(X){const z=X.quota_limit||15,Z=X.calls_used||0;D({used:Z,limit:z,remaining:z-Z,period:"monthly"}),U.google_place_id&&P(U.id)}else e({title:"Google Reviews Not Purchased",description:"Please purchase Google Reviews from the Marketplace to use this feature.",variant:"destructive"})}}catch(I){console.error("Error loading settings:",I)}finally{r(!1)}},P=async I=>{try{const{data:U,error:X}=await Y.from("google_reviews_cache").select("*").eq("store_id",I).single();U&&!X&&E(U)}catch(U){console.error("Error loading cached reviews:",U)}},A=async I=>{o(!0);try{const{error:U}=await Y.from("stores").update({google_reviews_enabled:I}).eq("id",u);if(U)throw U;m(I),e({title:I?"Google Reviews Enabled":"Google Reviews Disabled",description:I?"Reviews will display on your store":"Reviews are hidden from your store"})}catch(U){e({title:"Error",description:U.message||"Failed to update setting",variant:"destructive"})}finally{o(!1)}},R=async()=>{if(!p.trim()){e({title:"Error",description:"Please enter a Google Place ID",variant:"destructive"});return}a(!0);try{const{error:I}=await Y.from("stores").update({google_place_id:p.trim()}).eq("id",u);if(I)throw I;const{data:U,error:X}=await Y.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:p.trim()}});if(X)throw X;if(U.success)E(U.data),U.quota&&D(U.quota),e({title:"Success",description:`Reviews fetched successfully. ${U.quota?.remaining||0} calls remaining this ${U.quota?.period||"period"}.`});else throw new Error(U.error||"Failed to fetch reviews")}catch(I){e({title:"Error",description:I.message||"Failed to fetch reviews",variant:"destructive"})}finally{a(!1)}},F=async()=>{if(!p){e({title:"Error",description:"Please save a Place ID first",variant:"destructive"});return}a(!0);try{const{data:I,error:U}=await Y.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:p}});if(U)throw U;if(I.success)E(I.data),I.quota&&D(I.quota),e({title:"Success",description:`Reviews refreshed successfully. ${I.quota?.remaining||0} calls remaining this ${I.quota?.period||"period"}.`});else throw new Error(I.error||"Failed to refresh reviews")}catch(I){e({title:"Error",description:I.message||"Failed to refresh reviews",variant:"destructive"})}finally{a(!1)}},L=async I=>{c(!0);try{const{error:U}=await Y.from("stores").update({google_reviews_display_type:I}).eq("id",u);if(U)throw U;b(I),e({title:"Success",description:`Display type changed to ${{carousel:"Carousel (Auto-scroll)",column:"Column (Side-by-side)","google-widget":"Google Widget (All Reviews)"}[I]}`})}catch(U){e({title:"Error",description:U.message||"Failed to save display type",variant:"destructive"})}finally{c(!1)}},W=async()=>{if(console.log("Saving Google Maps URL:",g),console.log("Store ID:",u),!g.trim()){e({title:"Error",description:"Please enter a Google Maps URL",variant:"destructive"});return}if(!u){e({title:"Error",description:"Store ID not found. Please refresh the page.",variant:"destructive"});return}c(!0);try{const{error:I,data:U}=await Y.from("stores").update({google_maps_url:g.trim()}).eq("id",u).select();if(console.log("Update result:",{error:I,data:U}),I)throw I;e({title:"Success ",description:"Google Maps URL saved successfully! Your store will now show reviews."})}catch(I){console.error("Save error:",I),e({title:"Error",description:I.message||"Failed to save URL",variant:"destructive"})}finally{c(!1)}},V=I=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(U=>s.jsx(Ki,{className:`h-4 w-4 ${U<=I?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},U))}),H=I=>{const U=I.trim().split(" ");return U.length===1?U[0].substring(0,2).toUpperCase():(U[0][0]+U[U.length-1][0]).toUpperCase()},G=I=>{const U=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],X=I.split("").reduce((z,Z)=>z+Z.charCodeAt(0),0);return U[X%U.length]};return t?s.jsx(Xn,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(Xn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Ki,{className:"h-6 w-6"}),"Google Reviews"]}),s.jsx("p",{className:"text-muted-foreground",children:"Display Google reviews on your store to build trust"})]}),j&&s.jsxs(wt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),j.total_reviews," Reviews"]})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${f?"bg-yellow-100 dark:bg-yellow-900":"bg-muted"}`,children:s.jsx(dZ,{className:`h-6 w-6 ${f?"text-yellow-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Google Reviews Display"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Reviews are visible on your store":"Reviews are hidden from your store"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${f?"text-green-600":"text-muted-foreground"}`,children:f?"Enabled":"Disabled"}),s.jsx(Gr,{checked:f,onCheckedChange:A,disabled:i})]})]})})}),f&&s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Display Type"}),s.jsx(Er,{children:"Choose how reviews are displayed on your store"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{htmlFor:"display-type",children:"Review Display Style"}),s.jsxs(br,{value:w,onValueChange:I=>L(I),children:[s.jsx(mr,{id:"display-type",disabled:l,children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"carousel",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Carousel (Auto-scroll)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Smooth left-sliding auto-scroll with 5 reviews"})]})}),s.jsx(Ye,{value:"column",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Column (Side-by-side)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Grid layout with 5 reviews max"})]})}),s.jsx(Ye,{value:"google-widget",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Google Widget (All Reviews)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Links to all reviews on Google Maps"})]})})]})]})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:w==="carousel"?" Carousel Mode":w==="column"?" Column Mode":" Google Widget"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w==="carousel"?"Reviews will smoothly auto-scroll left, displaying 5 cards at a time. Mobile visitors can swipe to see more reviews.":w==="column"?"Reviews will be displayed in a responsive grid layout. Desktop shows 3 columns, tablet shows 2 columns, mobile shows 1 column.":"Displays a button linking to your Google Business Profile showing all reviews. Shows complete review count and authentic ratings."})]}),w==="google-widget"&&s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs(Yr,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[s.jsx(Vi,{className:"h-4 w-4 text-green-600"}),s.jsxs(Xr,{className:"text-green-800 dark:text-green-200",children:[s.jsx("strong",{children:"Google Widget Mode:"})," No Place ID or API needed! Just paste your Google Maps link below. Your store will display reviews from the cache (if available) or show a link to Google."]})]}),s.jsx(Ce,{htmlFor:"google_maps_url",children:"Google Maps URL"}),s.jsx(Ve,{id:"google_maps_url",type:"url",placeholder:"https://maps.app.goo.gl/xxxxx or full Google Maps URL",value:g,onChange:I=>v(I.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the Google Maps link from your business profile (e.g., https://maps.app.goo.gl/1FiEnfPeVMheDDdz5)"}),s.jsxs(oe,{onClick:W,disabled:l,className:"w-full md:w-auto",children:[l&&s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),l?"Saving...":"Save Google Maps URL"]})]})]})]}),k&&s.jsx(ke,{children:s.jsxs(Te,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${k.remaining>0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:s.jsx(ni,{className:`h-6 w-6 ${k.remaining>0?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"API Calls Quota"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.used," of ",k.limit," calls used this ",k.period==="monthly"?"month":"year"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[k.remaining,"/",k.limit]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]}),k.remaining===0&&s.jsxs(Yr,{className:"mt-4 border-red-200 bg-red-50 dark:bg-red-900/20",children:[s.jsx(Vi,{className:"h-4 w-4 text-red-600"}),s.jsxs(Xr,{className:"text-red-600",children:["You've reached your API call limit. Upgrade your plan or wait for the next ",k.period==="monthly"?"month":"year"," to refresh reviews."]})]})]})}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{children:["Google Place ID ",w==="google-widget"&&s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Optional for Widget mode)"})]}),s.jsx(Er,{children:w==="google-widget"?"Optional: Fetch reviews to display them on your store. Or skip this and just use the Google Maps URL below.":"Enter your Google Place ID to fetch reviews from Google"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs(Yr,{children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsxs(Xr,{children:[s.jsx("strong",{children:"How to find your Place ID:"}),s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Google Place ID Finder (Easiest Method)"}),s.jsxs("p",{className:"text-xs mb-2",children:[s.jsx("strong",{children:"Official Google Tool:"})," ",s.jsx("a",{href:"https://developers.google.com/maps/documentation/javascript/examples/places-placeid-finder",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"Place ID Finder (CLICK HERE)"})]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Open the link above"}),s.jsx("li",{children:"Type your business name in the search box"}),s.jsx("li",{children:"Click on your business marker on the map"}),s.jsx("li",{children:'The Place ID appears in the info box (starts with "ChIJ...")'}),s.jsx("li",{children:"Copy it!"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx("strong",{children:"Example:"})," ChIJN1t_tDeuEmsRUsoyG83frY4"]})]})})]})]}),s.jsxs(Yr,{className:"border-amber-200 bg-amber-50 dark:bg-amber-900/20",children:[s.jsx(Vi,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Xr,{className:"text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Google API Limitation:"}),' Google Places API returns a maximum of 5 reviews, sorted by relevance (not date). New reviews may take time to appear as Google rotates which reviews it considers "most helpful". This is a Google limitation, not our system.']})]}),s.jsxs("div",{className:"space-y-2 max-w-md",children:[s.jsx(Ce,{htmlFor:"place_id",children:"Google Place ID"}),s.jsx(Ve,{id:"place_id",type:"text",placeholder:"ChIJN1t_tDeuEmsRUsoyG83frY4",value:p,onChange:I=>y(I.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: ChIJN1t_tDeuEmsRUsoyG83frY4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{onClick:R,disabled:n||k?.remaining===0,children:[n&&s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),j?"Update Place ID":"Save & Fetch Reviews"]}),j&&s.jsxs(oe,{variant:"outline",onClick:F,disabled:n||k?.remaining===0,children:[s.jsx(ni,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh Reviews"]})]}),k?.remaining===0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["API quota exceeded. Cannot fetch reviews until next ",k.period==="monthly"?"month":"year","."]})]})]}),j&&s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsxs(et,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Reviews Preview"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-normal text-muted-foreground",children:["Last updated: ",new Date(j.last_fetched).toLocaleDateString()]})]}),s.jsxs(Er,{children:["Showing ",j.reviews?.length||0," of ",j.total_reviews," total reviews"]})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:j.average_rating}),V(j.average_rating)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Based on ",j.total_reviews," Google reviews"]})]}),s.jsx("div",{className:"space-y-3",children:j.reviews?.slice(0,5).map((I,U)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[I.profile_photo_url&&!S[U]?s.jsx("img",{src:I.profile_photo_url,alt:I.author_name,className:"h-10 w-10 rounded-full object-cover border-2 border-white shadow-md",onError:()=>C(X=>({...X,[U]:!0})),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 rounded-full bg-gradient-to-br ${G(I.author_name)} flex items-center justify-center border-2 border-white shadow-md`,children:s.jsx("span",{className:"text-white font-bold text-xs",children:H(I.author_name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:I.author_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:I.relative_time_description})]}),V(I.rating)]})]}),I.text&&s.jsx("p",{className:"text-sm text-muted-foreground",children:I.text})]},U))}),j.reviews?.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+ ",j.reviews.length-5," more reviews"]})]})]}),s.jsx(ke,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:s.jsx(Ki,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you get with Google Reviews"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Display authentic Google reviews on your store"}),s.jsx("li",{children:" Build trust and credibility with customers"}),s.jsx("li",{children:" Automatic daily review updates (cached for cost savings)"}),s.jsx("li",{children:" Multiple display widgets (carousel, grid, badge, list)"}),s.jsx("li",{children:" Professional Google-branded design"}),s.jsx("li",{children:" Mobile-responsive layouts"})]})]})]})})})]})})};function Nst(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var IL="ScrollArea",[sfe]=zs(IL),[Sst,Wl]=sfe(IL),afe=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),[p,y]=_.useState(null),[g,v]=_.useState(null),[w,b]=_.useState(0),[j,E]=_.useState(0),[S,C]=_.useState(!1),[k,D]=_.useState(!1),O=Qt(t,A=>c(A)),P=Kf(a);return s.jsx(Sst,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:D,onCornerWidthChange:b,onCornerHeightChange:E,children:s.jsx(At.div,{dir:P,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});afe.displayName=IL;var ife="ScrollAreaViewport",ofe=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Wl(ife,r),l=_.useRef(null),c=Qt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(At.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ofe.displayName=ife;var vu="ScrollAreaScrollbar",ML=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wl(vu,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return _.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(kst,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Cst,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(lfe,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(FL,{...n,ref:t}):null});ML.displayName=vu;var kst=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wl(vu,e.__scopeScrollArea),[i,o]=_.useState(!1);return _.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ca,{present:r||i,children:s.jsx(lfe,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Cst=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wl(vu,e.__scopeScrollArea),i=e.orientation==="horizontal",o=tC(()=>c("SCROLL_END"),100),[l,c]=Nst("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),_.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(ca,{present:r||l!=="hidden",children:s.jsx(FL,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ht(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ht(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),lfe=_.forwardRef((e,t)=>{const r=Wl(vu,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=_.useState(!1),l=e.orientation==="horizontal",c=tC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return ex(r.viewport,c),ex(r.content,c),s.jsx(ca,{present:n||i,children:s.jsx(FL,{"data-state":i?"visible":"hidden",...a,ref:t})})}),FL=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Wl(vu,e.__scopeScrollArea),i=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=hfe(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return Rst(m,o.current,l,p)}return r==="horizontal"?s.jsx(Est,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=gJ(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(Tst,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=gJ(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),Est=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Wl(vu,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=Qt(t,c,i.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ufe,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":eC(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),pfe(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:i2(o.paddingLeft),paddingEnd:i2(o.paddingRight)}})}})}),Tst=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Wl(vu,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=Qt(t,c,i.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ufe,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":eC(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),pfe(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:i2(o.paddingTop),paddingEnd:i2(o.paddingBottom)}})}})}),[Ast,cfe]=sfe(vu),ufe=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Wl(vu,r),[y,g]=_.useState(null),v=Qt(t,O=>g(O)),w=_.useRef(null),b=_.useRef(""),j=p.viewport,E=n.content-n.viewport,S=Ss(d),C=Ss(c),k=tC(f,10);function D(O){if(w.current){const P=O.clientX-w.current.left,A=O.clientY-w.current.top;u({x:P,y:A})}}return _.useEffect(()=>{const O=P=>{const A=P.target;y?.contains(A)&&S(P,E)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[j,y,E,S]),_.useEffect(C,[n,C]),ex(y,k),ex(p.content,k),s.jsx(Ast,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ss(i),onThumbPointerUp:Ss(o),onThumbPositionChange:C,onThumbPointerDown:Ss(l),children:s.jsx(At.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:ht(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),w.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),D(O))}),onPointerMove:ht(e.onPointerMove,D),onPointerUp:ht(e.onPointerUp,O=>{const P=O.target;P.hasPointerCapture(O.pointerId)&&P.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),a2="ScrollAreaThumb",dfe=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=cfe(a2,e.__scopeScrollArea);return s.jsx(ca,{present:r||a.hasThumb,children:s.jsx(Pst,{ref:t,...n})})}),Pst=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Wl(a2,r),o=cfe(a2,r),{onThumbPositionChange:l}=o,c=Qt(t,f=>o.onThumbChange(f)),u=_.useRef(void 0),d=tC(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const p=Dst(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),s.jsx(At.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ht(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:ht(e.onPointerUp,o.onThumbPointerUp)})});dfe.displayName=a2;var LL="ScrollAreaCorner",ffe=_.forwardRef((e,t)=>{const r=Wl(LL,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Ost,{...e,ref:t}):null});ffe.displayName=LL;var Ost=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Wl(LL,r),[i,o]=_.useState(0),[l,c]=_.useState(0),u=!!(i&&l);return ex(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),ex(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(At.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function i2(e){return e?parseInt(e,10):0}function hfe(e,t){const r=e/t;return isNaN(r)?0:r}function eC(e){const t=hfe(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Rst(e,t,r,n="ltr"){const a=eC(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return mfe([c,u],f)(e)}function gJ(e,t,r="ltr"){const n=eC(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=hb(e,c);return mfe([0,o],[0,l])(u)}function mfe(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function pfe(e,t){return e>0&&e<t}var Dst=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function tC(e,t){const r=Ss(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ex(e,t){const r=Ss(t);As(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var gfe=afe,Ist=ofe,Mst=ffe;const xfe=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gfe,{ref:n,className:ft("relative overflow-hidden",e),...r,children:[s.jsx(Ist,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(vfe,{}),s.jsx(Mst,{})]}));xfe.displayName=gfe.displayName;const vfe=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(ML,{ref:n,orientation:t,className:ft("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(dfe,{className:"relative flex-1 rounded-full bg-border"})}));vfe.displayName=ML.displayName;var rC="Popover",[yfe]=zs(rC,[Wf]),g1=Wf(),[Fst,ih]=yfe(rC),bfe=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=g1(t),c=_.useRef(null),[u,d]=_.useState(!1),[f,m]=Ci({prop:n,defaultProp:a??!1,onChange:i,caller:rC});return s.jsx(w2,{...l,children:s.jsx(Fst,{scope:t,contentId:go(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:o,children:r})})};bfe.displayName=rC;var wfe="PopoverAnchor",Lst=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ih(wfe,r),i=g1(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return _.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(kw,{...i,...n,ref:t})});Lst.displayName=wfe;var _fe="PopoverTrigger",jfe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ih(_fe,r),i=g1(r),o=Qt(t,a.triggerRef),l=s.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Efe(a.open),...n,ref:o,onClick:ht(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(kw,{asChild:!0,...i,children:l})});jfe.displayName=_fe;var $L="PopoverPortal",[$st,Bst]=yfe($L,{forceMount:void 0}),Nfe=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ih($L,t);return s.jsx($st,{scope:t,forceMount:r,children:s.jsx(ca,{present:r||i.open,children:s.jsx(ax,{asChild:!0,container:a,children:n})})})};Nfe.displayName=$L;var tx="PopoverContent",Sfe=_.forwardRef((e,t)=>{const r=Bst(tx,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ih(tx,e.__scopePopover);return s.jsx(ca,{present:n||i.open,children:i.modal?s.jsx(Vst,{...a,ref:t}):s.jsx(zst,{...a,ref:t})})});Sfe.displayName=tx;var Ust=jf("PopoverContent.RemoveScroll"),Vst=_.forwardRef((e,t)=>{const r=ih(tx,e.__scopePopover),n=_.useRef(null),a=Qt(t,n),i=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return F2(o)},[]),s.jsx(Ow,{as:Ust,allowPinchZoom:!0,children:s.jsx(kfe,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ht(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ht(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),zst=_.forwardRef((e,t)=>{const r=ih(tx,e.__scopePopover),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(kfe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),kfe=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=ih(tx,r),p=g1(r);return M2(),s.jsx(Aw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(_2,{"data-state":Efe(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Cfe="PopoverClose",qst=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ih(Cfe,r);return s.jsx(At.button,{type:"button",...n,ref:t,onClick:ht(e.onClick,()=>a.onOpenChange(!1))})});qst.displayName=Cfe;var Wst="PopoverArrow",Hst=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=g1(r);return s.jsx(j2,{...a,...n,ref:t})});Hst.displayName=Wst;function Efe(e){return e?"open":"closed"}var Gst=bfe,Kst=jfe,Yst=Nfe,Tfe=Sfe;const Xst=Gst,Jst=Kst,Afe=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Yst,{children:s.jsx(Tfe,{ref:a,align:t,sideOffset:r,className:ft("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Afe.displayName=Tfe.displayName;const wf=({src:e,alt:t,className:r,fallback:n="/placeholder.svg",...a})=>{const[i,o]=_.useState(n),[l,c]=_.useState(!0),[u,d]=_.useState(!1),f=_.useRef(null),m=xf(e)||e;return _.useEffect(()=>{if(!f.current)return;const p=new IntersectionObserver(y=>{y.forEach(g=>{g.isIntersecting&&(d(!0),p.disconnect())})},{rootMargin:"50px"});return p.observe(f.current),()=>{p.disconnect()}},[]),_.useEffect(()=>{if(!u)return;const p=new Image;p.src=m,p.onload=()=>{o(m),c(!1)},p.onerror=()=>{o(n),c(!1)}},[m,u,n]),s.jsx("img",{ref:f,src:i,alt:t,className:ft("transition-opacity duration-300",l?"opacity-50":"opacity-100",r),loading:"lazy",...a})},Zst=()=>{const{cart:e,cartCount:t,cartTotal:r,removeItem:n}=T2(),[a,i]=_.useState(void 0);_.useEffect(()=>{e.length>0&&e[0].storeId&&(async()=>{const{data:f}=await Y.from("stores").select("slug").eq("id",e[0].storeId).maybeSingle();f&&i(f.slug)})()},[e]);const o=su(),l=o?"/products":a?`/${a}/products`:"/products",c=o?"/cart":a?`/${a}/cart`:"/cart",u=o?"/checkout":a?`/${a}/checkout`:"/checkout";return s.jsxs(Xst,{children:[s.jsx(Jst,{asChild:!0,children:s.jsxs(oe,{variant:"outline",size:"icon",className:"relative","data-cart-icon":!0,children:[s.jsx(Cf,{className:"w-4 h-4"}),t>0&&s.jsx(wt,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t})]})}),s.jsxs(Afe,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Shopping Cart"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," items"]})]}),e.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Cf,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),s.jsx(Ct,{to:l,children:s.jsx(oe,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(xfe,{className:"h-80",children:s.jsx("div",{className:"p-4 space-y-4",children:e.map(d=>s.jsx(ke,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(wf,{src:d.productImage,alt:d.productName,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:d.productName}),d.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d.variant}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("span",{className:"text-sm font-semibold text-primary",children:["",d.price,"  ",d.quantity]}),s.jsx(oe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(d.productId,d.variant),children:s.jsx(Ua,{className:"w-4 h-4"})})]})]})]})})},`${d.productId}-${d.variant}`))})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Ct,{to:c,className:"w-full",children:s.jsx(oe,{variant:"outline",className:"w-full min-h-[44px]",children:"View Cart"})}),s.jsx(Ct,{to:u,className:"w-full",children:s.jsx(oe,{className:"w-full min-h-[44px]",children:"Checkout"})})]})]})]})]})]})},Pfe=async e=>{const t=await o2(e),r=l2(t);return!(!t||t.trim()===""||r==="919876543210"||r==="9876543210"||r.length<10)},o2=async e=>{try{if(e){const{data:n}=await Y.from("stores").select("whatsapp_number").eq("id",e).single();return n?.whatsapp_number||"919876543210"}const{data:{user:t}}=await Y.auth.getUser();if(!t)return"919876543210";const{data:r}=await Y.from("stores").select("whatsapp_number").eq("user_id",t.id).single();return r?.whatsapp_number||"919876543210"}catch(t){return console.error("Error fetching WhatsApp number:",t),"919876543210"}},l2=e=>e.replace(/[^0-9+]/g,""),Ofe=e=>{const t=new Date().toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"});let r=` *NEW ORDER REQUEST*
`;if(r+=` ${t}

`,r+=` *CUSTOMER DETAILS*
`,r+=`Name: ${e.customerName}
`,r+=`Phone: ${e.phone}
`,e.email&&(r+=`Email: ${e.email}
`),r+=`
 *DELIVERY ADDRESS*
`,r+=`${e.address}
`,e.landmark&&(r+=`Landmark: ${e.landmark}
`),r+=`PIN Code: ${e.pincode}
`,r+=`Preferred Time: ${e.deliveryTime}
`,e.latitude&&e.longitude){const n=`https://www.google.com/maps?q=${e.latitude},${e.longitude}`;r+=` Location: ${n}
`}return r+=`
`,r+=` *ORDER ITEMS*
`,r+=`
`,e.cart.forEach((n,a)=>{r+=`${a+1}. ${n.productName}
`,n.variant&&(r+=`   Variant: ${n.variant}
`),n.sku&&(r+=`   SKU: ${n.sku}
`),r+=`   Qty: ${n.quantity}  ${n.price.toFixed(2)}
`,r+=`   Subtotal: ${(n.quantity*n.price).toFixed(2)}

`}),r+=`
`,r+=` *PAYMENT SUMMARY*
`,r+=`Subtotal: ${e.subtotal.toFixed(2)}
`,r+=`Delivery: ${e.deliveryCharge.toFixed(2)}
`,r+=`*Total Amount: ${e.total.toFixed(2)}*

`,e.paymentMethod==="online"?(r+=` *PAYMENT COMPLETED*
`,r+=` Payment Method: Online Payment (${e.paymentGateway||"Gateway"})
`,e.orderNumber&&(r+=` Order Number: ${e.orderNumber}
`),e.transactionId&&(r+=` Transaction ID: ${e.transactionId}
`),r+=` Payment Status: PAID

`,r+="Order is confirmed and payment received. Please process this order. Thank you! "):(r+=` Payment Method: Cash on Delivery (COD)

`,r+="Please confirm this order. Thank you! "),r},Qst=()=>` Hi! I have a question about your products/services.

Could you please help me?

Thank you! `,Rfe=async(e,t,r,n=!1)=>{if(!await Pfe(r))return{success:!1,error:"WhatsApp number is not configured. Please contact the store owner to set up a valid WhatsApp number in admin settings."};const a=await o2(r),i=l2(a);if(i==="919876543210"||i==="9876543210")return{success:!1,error:"Invalid WhatsApp number. The default number 9876543210 is not allowed. Please contact the store owner to set up a valid WhatsApp number."};const o=encodeURIComponent(e),l=`https://wa.me/${i}?text=${o}`;if(n)if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const u=`whatsapp://send?phone=${i}&text=${o}`;window.location.href=u}else window.location.href=l;else{const c=document.createElement("a");c.href=l,c.target="_blank",c.rel="noopener noreferrer",c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}return{success:!0}},po=({storeSlug:e,storeId:t})=>{const[r,n]=_.useState(!1),[a,i]=_.useState(""),o=ur(),{toast:l}=ss(),c=su(),u=c?"/":e?`/${e}`:"/home",d=c?"/products":e?`/${e}/products`:"/products",f=c?"/categories":e?`/${e}/categories`:"/categories",m=y=>{y.preventDefault(),a.trim()&&(o(`${d}?search=${encodeURIComponent(a)}`),i(""))},p=async()=>{const y=Qst(),g=await Rfe(y,void 0,t);g.success||l({title:"WhatsApp Not Configured",description:g.error,variant:"destructive"})};return s.jsxs("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:[s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(Ct,{to:u,className:"flex items-center gap-2 group",children:[s.jsx(jm,{size:24,className:"transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"}),s.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block transition-colors duration-300 group-hover:text-primary",children:"MyStore"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx(Ct,{to:u,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Home"}),s.jsx(Ct,{to:d,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Products"}),s.jsx(Ct,{to:f,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Categories"}),s.jsx(Ct,{to:`${u}#about`,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"About"})]}),s.jsx("form",{onSubmit:m,className:"hidden lg:flex flex-1 max-w-md",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(Ve,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(oe,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(Bl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oe,{variant:"outline",size:"icon",onClick:p,className:"hidden sm:flex min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",children:s.jsx(pc,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),s.jsx(si,{}),s.jsx(Zst,{}),s.jsx(oe,{variant:"ghost",size:"icon",className:"md:hidden min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",onClick:()=>n(!r),children:r?s.jsx(Ua,{className:"w-5 h-5 animate-in spin-in-180 duration-300"}):s.jsx(yM,{className:"w-5 h-5 animate-in fade-in duration-300"})})]})]}),s.jsx("form",{onSubmit:m,className:"lg:hidden mt-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(oe,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(Bl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-border bg-background animate-in slide-in-from-top-2 duration-300",children:s.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[s.jsx(Ct,{to:u,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300",onClick:()=>n(!1),children:"Home"}),s.jsx(Ct,{to:d,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-75",onClick:()=>n(!1),children:"Products"}),s.jsx(Ct,{to:f,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-150",onClick:()=>n(!1),children:"Categories"}),s.jsx(Ct,{to:`${u}#about`,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-200",onClick:()=>n(!1),children:"About"}),s.jsxs(oe,{onClick:p,className:"w-full min-h-[48px] animate-in fade-in slide-in-from-bottom-2 duration-300 delay-300 group",children:[s.jsx(pc,{className:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12"}),"Contact on WhatsApp"]})]})})]})},Vu=()=>s.jsx("footer",{className:"bg-muted border-t border-border mt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(jm,{size:28}),s.jsx("h3",{className:"font-bold text-foreground",children:"MyStore"})]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted online store for quality products at great prices. We deliver happiness to your doorstep."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kf,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"123 Store Street, City, State 12345"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"+91 1234567890"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"contact@mystore.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(vM,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(Rl,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(bM,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," MyStore. All rights reserved."]})})]})});function ry(e){const{productName:t,storeName:r,category:n,variant:a,imageIndex:i}=e,o=[];if(o.push(t),a&&o.push(a),i!==void 0&&i>0){const u=["front view","side view","back view","detail view","alternate view"][i]||"additional view";o.push(u)}n&&o.push(`in ${n}`),r&&o.push(`at ${r}`);let l=o.join(" - ");return l.length>125&&(l=l.substring(0,122)+"..."),l}function eat(e){const{storeName:t,imageType:r,description:n}=e;switch(r){case"logo":return`${t} logo`;case"banner":return n?`${t} - ${n}`:`${t} banner`;case"hero":return n?`${t} - ${n}`:`${t} hero image`;case"thumbnail":return`${t} thumbnail`;default:return`${t} image`}}function tat(e,t){return t?`${e} category at ${t}`:`${e} category`}const rx=({id:e,slug:t,name:r,category:n,priceRange:a,price_range:i,images:o,status:l,storeSlug:c})=>{const u=ur(),[d,f]=_.useState(!1),m=o&&o.length>0?o[0]:"/placeholder.svg",p=a||i||"Price on request",y=t||e,v=su()?`/products/${y}`:c?`/${c}/products/${y}`:`/products/${y}`,w=b=>{b.preventDefault(),!d&&(f(!0),setTimeout(()=>{u(v)},700))};return s.jsx(An.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},animate:d?{scale:.95}:{scale:1},onClick:w,className:"cursor-pointer",children:s.jsxs(ke,{className:"group hover:shadow-lg transition-all duration-300 overflow-hidden",children:[s.jsx(Te,{className:"p-0",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx(wf,{src:m,alt:ry({productName:r,storeName:c,category:n||void 0}),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l==="draft"&&s.jsx(wt,{className:"absolute top-2 right-2",variant:"secondary",children:"Coming Soon"})]})}),s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:n}),s.jsx("h3",{className:"font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:r}),s.jsx("p",{className:"text-lg font-bold text-primary",children:p})]}),s.jsx(PQ,{className:"p-4 pt-0",children:s.jsx(oe,{className:"w-full min-h-[44px]",variant:"outline",children:"View Details"})})]})})},BL=({name:e,image_url:t,productCount:r=0,slug:n})=>{const a=ur(),[i,o]=_.useState(!1),c=su()?`/products?category=${encodeURIComponent(e)}`:n?`/${n}/products?category=${encodeURIComponent(e)}`:`/products?category=${encodeURIComponent(e)}`,u=["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop"],f=t?xf(t):(()=>{const p=e.split("").reduce((y,g)=>y+g.charCodeAt(0),0);return u[p%u.length]})(),m=()=>{i||(o(!0),setTimeout(()=>{a(c)},700))};return s.jsx("div",{className:"block p-2 cursor-pointer",onClick:m,children:s.jsx(An.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},className:"group h-full",animate:i?{scale:.95}:{scale:1},children:s.jsx(ke,{className:"relative h-full border-2 border-transparent bg-card/50 backdrop-blur-sm hover:bg-card hover:border-primary transition-all duration-500 shadow-md hover:shadow-[0_5px_40px_-20px_rgba(0,0,0,0.4)] rounded-2xl",children:s.jsx(Te,{className:"p-0 relative",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:[s.jsx(wf,{src:f,alt:tat(e),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-90 group-hover:brightness-100"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-500"}),s.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 transform translate-y-0 transition-transform duration-500",children:[s.jsx("h3",{className:"font-bold text-base md:text-lg text-foreground drop-shadow-lg transition-colors duration-300",children:e}),r!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-90 group-hover:text-primary transition-colors duration-300",children:[r," ",r===1?"product":"products"]})]})]})})})})})},nC=({size:e="md",className:t,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return s.jsxs("div",{className:ft("flex flex-col items-center justify-center gap-3",t),children:[s.jsx(Wt,{className:ft("animate-spin text-primary",n[e])}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},rat=({text:e="Loading..."})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(nC,{size:"lg",text:e})});function nat(e){return Object.prototype.toString.call(e)==="[object Object]"}function xJ(e){return nat(e)||Array.isArray(e)}function sat(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function UL(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!xJ(l)||!xJ(c)?l===c:UL(l,c)})}function vJ(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function aat(e,t){if(e.length!==t.length)return!1;const r=vJ(e),n=vJ(t);return r.every((a,i)=>{const o=n[i];return UL(a,o)})}function VL(e){return typeof e=="number"}function oM(e){return typeof e=="string"}function sC(e){return typeof e=="boolean"}function yJ(e){return Object.prototype.toString.call(e)==="[object Object]"}function vs(e){return Math.abs(e)}function zL(e){return Math.sign(e)}function qy(e,t){return vs(e-t)}function iat(e,t){if(e===0||t===0||vs(e)<=vs(t))return 0;const r=qy(vs(e),vs(t));return vs(r/e)}function oat(e){return Math.round(e*100)/100}function vw(e){return yw(e).map(Number)}function bc(e){return e[x1(e)]}function x1(e){return Math.max(0,e.length-1)}function qL(e,t){return t===x1(e)}function bJ(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function yw(e){return Object.keys(e)}function Dfe(e,t){return[e,t].reduce((r,n)=>(yw(n).forEach(a=>{const i=r[a],o=n[a],l=yJ(i)&&yJ(o);r[a]=l?Dfe(i,o):o}),r),{})}function lM(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function lat(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return oM(e)?r[e](c):e(t,c,u)}return{measure:o}}function bw(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function cat(e,t,r,n){const a=bw(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const w=v-o;for(o=v,l+=w;l>=i;)r(),l-=i;const b=l/i;n(b),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:m,stop:p,update:r,render:n}}function uat(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:g,width:v}=y;return n?g:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Jm(e=0,t=0){const r=vs(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function Ife(e,t,r){const{constrain:n}=Jm(0,e),a=e+1;let i=o(t);function o(m){return r?vs((a+m)%a):n(m)}function l(){return i}function c(m){return i=o(m),f}function u(m){return d().set(l()+m)}function d(){return Ife(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function dat(e,t,r,n,a,i,o,l,c,u,d,f,m,p,y,g,v,w,b){const{cross:j,direction:E}=e,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},k=bw(),D=bw(),O=Jm(50,225).constrain(p.measure(20)),P={mouse:300,touch:400},A={mouse:500,touch:600},R=y?43:25;let F=!1,L=0,W=0,V=!1,H=!1,G=!1,I=!1;function U(B){if(!b)return;function ie(Ne){(sC(b)||b(B,Ne))&&de(Ne)}const ae=t;k.add(ae,"dragstart",Ne=>Ne.preventDefault(),C).add(ae,"touchmove",()=>{},C).add(ae,"touchend",()=>{}).add(ae,"touchstart",ie).add(ae,"mousedown",ie).add(ae,"touchcancel",pe).add(ae,"contextmenu",pe).add(ae,"click",K,!0)}function X(){k.clear(),D.clear()}function z(){const B=I?r:t;D.add(B,"touchmove",fe,C).add(B,"touchend",pe).add(B,"mousemove",fe,C).add(B,"mouseup",pe)}function Z(B){const ie=B.nodeName||"";return S.includes(ie)}function J(){return(y?A:P)[I?"mouse":"touch"]}function Q(B,ie){const ae=f.add(zL(B)*-1),Ne=d.byDistance(B,!y).distance;return y||vs(B)<O?Ne:v&&ie?Ne*.5:d.byIndex(ae.get(),0).distance}function de(B){const ie=lM(B,n);I=ie,G=y&&ie&&!B.buttons&&F,F=qy(a.get(),o.get())>=2,!(ie&&B.button!==0)&&(Z(B.target)||(V=!0,i.pointerDown(B),u.useFriction(0).useDuration(0),a.set(o),z(),L=i.readPoint(B),W=i.readPoint(B,j),m.emit("pointerDown")))}function fe(B){if(!lM(B,n)&&B.touches.length>=2)return pe(B);const ae=i.readPoint(B),Ne=i.readPoint(B,j),Ee=qy(ae,L),ue=qy(Ne,W);if(!H&&!I&&(!B.cancelable||(H=Ee>ue,!H)))return pe(B);const qe=i.pointerMove(B);Ee>g&&(G=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(E(qe)),B.preventDefault()}function pe(B){const ae=d.byDistance(0,!1).index!==f.get(),Ne=i.pointerUp(B)*J(),Ee=Q(E(Ne),ae),ue=iat(Ne,Ee),qe=R-10*ue,Je=w+ue/50;H=!1,V=!1,D.clear(),u.useDuration(qe).useFriction(Je),c.distance(Ee,!y),I=!1,m.emit("pointerUp")}function K(B){G&&(B.stopPropagation(),B.preventDefault(),G=!1)}function ee(){return V}return{init:U,destroy:X,pointerDown:ee}}function fat(e,t){let n,a;function i(f){return f.timeStamp}function o(f,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(lM(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const m=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),m}function u(f){if(!n||!a)return 0;const m=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,g=m/p;return p&&!y&&vs(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function hat(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function mat(e){function t(n){return e*(n/100)}return{measure:t}}function pat(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function m(v){return a.measureSize(o.measure(v))}function p(v){if(!i)return;u=m(e),d=n.map(m);function w(b){for(const j of b){if(f)return;const E=j.target===e,S=n.indexOf(j.target),C=E?u:d[S],k=m(E?e:n[S]);if(vs(k-C)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(sC(i)||i(v,b))&&w(b)}),r.requestAnimationFrame(()=>{l.forEach(b=>c.observe(b))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function gat(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function m(){const C=n.get()-e.get(),k=!c;let D=0;return k?(o=0,r.set(n),e.set(n),D=C):(r.set(e),o+=C/c,o*=u,d+=o,e.add(o),D=d-f),l=zL(D),f=d,S}function p(){const C=n.get()-t.get();return vs(C)<.001}function y(){return c}function g(){return l}function v(){return o}function w(){return j(a)}function b(){return E(i)}function j(C){return c=C,S}function E(C){return u=C,S}const S={direction:g,duration:y,velocity:v,seek:m,settled:p,useBaseFriction:b,useBaseDuration:w,useFriction:E,useDuration:j};return S}function xat(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=Jm(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",g=vs(e[y]-t.get()),v=r.get()-t.get(),w=l.constrain(g/o);r.subtract(v*w),!p&&vs(v)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function vat(e,t,r,n,a){const i=Jm(-t+e,0),o=f(),l=d(),c=m();function u(y,g){return qy(y,g)<=1}function d(){const y=o[0],g=bc(o),v=o.lastIndexOf(y),w=o.indexOf(g)+1;return Jm(v,w)}function f(){return r.map((y,g)=>{const{min:v,max:w}=i,b=i.constrain(y),j=!g,E=qL(r,g);return j?w:E||u(v,b)?v:u(w,b)?w:b}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:g}=l;return o.slice(y,g)}return{snapsContained:c,scrollContainLimit:l}}function yat(e,t,r){const n=t[0],a=r?n-e:bc(t);return{limit:Jm(a,n)}}function bat(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=Jm(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const p=e*(m*-1);n.forEach(y=>y.add(p))}return{loop:d}}function wat(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function _at(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=m(),d=p();function f(){return l(n).map(g=>bc(g)[o]-g[0][i]).map(vs)}function m(){return n.map(g=>r[i]-g[i]).map(g=>-vs(g))}function p(){return l(u).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:u,snapsAligned:d}}function jat(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const m=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?m:m.slice(l,c).map((y,g,v)=>{const w=!g,b=qL(v,g);if(w){const j=bc(v[0])+1;return bJ(j)}if(b){const j=x1(i)-bc(v)[0]+1;return bJ(j,bc(v)[0])}return y})}return{slideRegistry:u}}function Nat(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((g,v)=>vs(g)-vs(v))[0]}function u(y){const g=e?o(y):l(y),v=t.map((b,j)=>({diff:d(b-g,0),index:j})).sort((b,j)=>vs(b.diff)-vs(j.diff)),{index:w}=v[0];return{index:w,distance:g}}function d(y,g){const v=[y,y+r,y-r];if(!e)return y;if(!g)return c(v);const w=v.filter(b=>zL(b)===g);return w.length?c(w):bc(v)-r}function f(y,g){const v=t[y]-a.get(),w=d(v,g);return{index:y,distance:w}}function m(y,g){const v=a.get()+y,{index:w,distance:b}=u(v),j=!e&&i(v);if(!g||j)return{index:w,distance:y};const E=t[w]-b,S=y+d(E,0);return{index:w,distance:S}}return{byDistance:m,byIndex:f,shortcut:d}}function Sat(e,t,r,n,a,i,o){function l(f){const m=f.distance,p=f.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,m){const p=a.byDistance(f,m);l(p)}function u(f,m){const p=t.clone().set(f),y=a.byIndex(p.get(),m);l(y)}return{distance:c,index:u}}function kat(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const b=r.findIndex(j=>j.includes(g));VL(b)&&(a.useDuration(0),n.index(b,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((g,v)=>{i.add(g,"focus",w=>{(sC(l)||l(p,w))&&y(v)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function ny(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return VL(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function Mfe(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=oat(e.direction(m));p!==a&&(n.transform=r(p),a=p)}function u(m){i=!m}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Cat(e,t,r,n,a,i,o,l,c){const d=vw(a),f=vw(a).reverse(),m=w().concat(b());function p(k,D){return k.reduce((O,P)=>O-a[P],D)}function y(k,D){return k.reduce((O,P)=>p(O,D)>0?O.concat([P]):O,[])}function g(k){return i.map((D,O)=>({start:D-n[O]+.5+k,end:D+t-.5+k}))}function v(k,D,O){const P=g(D);return k.map(A=>{const R=O?0:-r,F=O?r:0,L=O?"end":"start",W=P[A][L];return{index:A,loopPoint:W,slideLocation:ny(-1),translate:Mfe(e,c[A]),target:()=>l.get()>W?R:F}})}function w(){const k=o[0],D=y(f,k);return v(D,r,!1)}function b(){const k=t-o[0]-1,D=y(d,k);return v(D,-r,!0)}function j(){return m.every(({index:k})=>{const D=d.filter(O=>O!==k);return p(D,t)<=.1})}function E(){m.forEach(k=>{const{target:D,translate:O,slideLocation:P}=k,A=D();A!==P.get()&&(O.to(A),P.set(A))})}function S(){m.forEach(k=>k.translate.clear())}return{canLoop:j,clear:S,loop:E,loopPoints:m}}function Eat(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(sC(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function Tat(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(g=>{const v=t.indexOf(g.target);a[v]=g}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return yw(a).reduce((g,v)=>{const w=parseInt(v),{isIntersecting:b}=a[w];return(y&&b||!y&&!b)&&g.push(w),g},[])}function m(y=!0){if(y&&i)return i;if(!y&&o)return o;const g=f(y);return y&&(i=g),y||(o=g),g}return{init:u,destroy:d,get:m}}function Aat(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=g(),m=r.map(o),p=v();function y(){if(!u)return 0;const b=r[0];return vs(t[l]-b[l])}function g(){if(!u)return 0;const b=i.getComputedStyle(bc(n));return parseFloat(b.getPropertyValue(`margin-${c}`))}function v(){return r.map((b,j,E)=>{const S=!j,C=qL(E,j);return S?m[j]+d:C?m[j]+f:E[j+1][l]-b[l]}).map(vs)}return{slideSizes:m,slideSizesWithGaps:p,startGap:d,endGap:f}}function Pat(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,m=VL(r);function p(w,b){return vw(w).filter(j=>j%b===0).map(j=>w.slice(j,j+b))}function y(w){return w.length?vw(w).reduce((b,j,E)=>{const S=bc(b)||0,C=S===0,k=j===x1(w),D=a[u]-i[S][u],O=a[u]-i[j][d],P=!n&&C?f(o):0,A=!n&&k?f(l):0,R=vs(O-A-(D+P));return E&&R>t+c&&b.push(j),k&&b.push(w.length),b},[]).map((b,j,E)=>{const S=Math.max(E[j-1]||0);return w.slice(S,b)}):[]}function g(w){return m?p(w,r):y(w)}return{groupSlides:g}}function Oat(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:p,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:w,containScroll:b,watchResize:j,watchSlides:E,watchDrag:S,watchFocus:C}=i,k=2,D=hat(),O=D.measure(t),P=r.map(D.measure),A=uat(c,u),R=A.measureSize(O),F=mat(R),L=lat(l,R),W=!f&&!!b,V=f||!!b,{slideSizes:H,slideSizesWithGaps:G,startGap:I,endGap:U}=Aat(A,O,P,r,V,a),X=Pat(A,R,v,f,O,P,I,U,k),{snaps:z,snapsAligned:Z}=_at(A,L,O,P,X),J=-bc(z)+bc(G),{snapsContained:Q,scrollContainLimit:de}=vat(R,J,Z,b,k),fe=W?Q:Z,{limit:pe}=yat(J,fe,f),K=Ife(x1(fe),d,f),ee=K.clone(),se=vw(r),B=({dragHandler:De,scrollBody:Fe,scrollBounds:xe,options:{loop:He}})=>{He||xe.constrain(De.pointerDown()),Fe.seek()},ie=({scrollBody:De,translate:Fe,location:xe,offsetLocation:He,previousLocation:ot,scrollLooper:_t,slideLooper:at,dragHandler:Xt,animation:Mt,eventHandler:jt,scrollBounds:Pr,options:{loop:tr}},Sr)=>{const Ir=De.settled(),Ca=!Pr.shouldConstrain(),Ot=tr?Ir:Ir&&Ca,Jt=Ot&&!Xt.pointerDown();Jt&&Mt.stop();const Mr=xe.get()*Sr+ot.get()*(1-Sr);He.set(Mr),tr&&(_t.loop(De.direction()),at.loop()),Fe.to(He.get()),Jt&&jt.emit("settle"),Ot||jt.emit("scroll")},ae=cat(n,a,()=>B(Re),De=>ie(Re,De)),Ne=.68,Ee=fe[K.get()],ue=ny(Ee),qe=ny(Ee),Je=ny(Ee),le=ny(Ee),we=gat(ue,Je,qe,le,m,Ne),Oe=Nat(f,fe,J,pe,le),Ge=Sat(ae,K,ee,we,Oe,le,o),Ze=wat(pe),Se=bw(),te=Tat(t,r,o,g),{slideRegistry:_e}=jat(W,b,fe,de,X,se),he=kat(e,r,_e,Ge,we,Se,o,C),Re={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:O,slideRects:P,animation:ae,axis:A,dragHandler:dat(A,e,n,a,le,fat(A,a),ue,ae,Ge,we,Oe,K,o,F,p,y,w,Ne,S),eventStore:Se,percentOfView:F,index:K,indexPrevious:ee,limit:pe,location:ue,offsetLocation:Je,previousLocation:qe,options:i,resizeHandler:pat(t,o,a,r,A,j,D),scrollBody:we,scrollBounds:xat(pe,Je,le,we,F),scrollLooper:bat(J,pe,Je,[ue,Je,qe,le]),scrollProgress:Ze,scrollSnapList:fe.map(Ze.get),scrollSnaps:fe,scrollTarget:Oe,scrollTo:Ge,slideLooper:Cat(A,R,J,H,G,z,fe,Je,r),slideFocus:he,slidesHandler:Eat(t,o,E),slidesInView:te,slideIndexes:se,slideRegistry:_e,slidesToScroll:X,target:le,translate:Mfe(A,t)};return Re}function Rat(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const Dat={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Iat(e){function t(i,o){return Dfe(i,o||{})}function r(i){const o=i.breakpoints||{},l=yw(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>yw(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function Mat(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function c2(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=Iat(a),o=Mat(i),l=bw(),c=Rat(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:m,off:p,emit:y}=c,g=A;let v=!1,w,b=u(Dat,c2.globalOptions),j=u(b),E=[],S,C,k;function D(){const{container:se,slides:B}=j;C=(oM(se)?e.querySelector(se):se)||e.children[0];const ae=oM(B)?C.querySelectorAll(B):B;k=[].slice.call(ae||C.children)}function O(se){const B=Oat(e,C,k,n,a,se,c);if(se.loop&&!B.slideLooper.canLoop()){const ie=Object.assign({},se,{loop:!1});return O(ie)}return B}function P(se,B){v||(b=u(b,se),j=d(b),E=B||E,D(),w=O(j),f([b,...E.map(({options:ie})=>ie)]).forEach(ie=>l.add(ie,"change",A)),j.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(ee),w.eventHandler.init(ee),w.resizeHandler.init(ee),w.slidesHandler.init(ee),w.options.loop&&w.slideLooper.loop(),C.offsetParent&&k.length&&w.dragHandler.init(ee),S=o.init(ee,E)))}function A(se,B){const ie=X();R(),P(u({startIndex:ie},se),B),c.emit("reInit")}function R(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),o.destroy(),l.clear()}function F(){v||(v=!0,l.clear(),R(),c.emit("destroy"),c.clear())}function L(se,B,ie){!j.active||v||(w.scrollBody.useBaseFriction().useDuration(B===!0?0:j.duration),w.scrollTo.index(se,ie||0))}function W(se){const B=w.index.add(1).get();L(B,se,-1)}function V(se){const B=w.index.add(-1).get();L(B,se,1)}function H(){return w.index.add(1).get()!==X()}function G(){return w.index.add(-1).get()!==X()}function I(){return w.scrollSnapList}function U(){return w.scrollProgress.get(w.offsetLocation.get())}function X(){return w.index.get()}function z(){return w.indexPrevious.get()}function Z(){return w.slidesInView.get()}function J(){return w.slidesInView.get(!1)}function Q(){return S}function de(){return w}function fe(){return e}function pe(){return C}function K(){return k}const ee={canScrollNext:H,canScrollPrev:G,containerNode:pe,internalEngine:de,destroy:F,off:p,on:m,emit:y,plugins:Q,previousScrollSnap:z,reInit:g,rootNode:fe,scrollNext:W,scrollPrev:V,scrollProgress:U,scrollSnapList:I,scrollTo:L,selectedScrollSnap:X,slideNodes:K,slidesInView:Z,slidesNotInView:J};return P(t,r),setTimeout(()=>c.emit("init"),0),ee}c2.globalOptions=void 0;function WL(e={},t=[]){const r=_.useRef(e),n=_.useRef(t),[a,i]=_.useState(),[o,l]=_.useState(),c=_.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return _.useEffect(()=>{UL(r.current,e)||(r.current=e,c())},[e,c]),_.useEffect(()=>{aat(n.current,t)||(n.current=t,c())},[t,c]),_.useEffect(()=>{if(sat()&&o){c2.globalOptions=WL.globalOptions;const u=c2(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}WL.globalOptions=void 0;const Ffe=_.createContext(null);function aC(){const e=_.useContext(Ffe);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const HL=_.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=WL({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=_.useState(!1),[m,p]=_.useState(!1),y=_.useCallback(b=>{b&&(f(b.canScrollPrev()),p(b.canScrollNext()))},[]),g=_.useCallback(()=>{u?.scrollPrev()},[u]),v=_.useCallback(()=>{u?.scrollNext()},[u]),w=_.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),g()):b.key==="ArrowRight"&&(b.preventDefault(),v())},[g,v]);return _.useEffect(()=>{!u||!r||r(u)},[u,r]),_.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u?.off("select",y)}},[u,y]),s.jsx(Ffe.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:w,className:ft("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});HL.displayName="Carousel";const GL=_.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=aC();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:ft("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});GL.displayName="CarouselContent";const u2=_.forwardRef(({className:e,...t},r)=>{const{orientation:n}=aC();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ft("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});u2.displayName="CarouselItem";const KL=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=aC();return s.jsxs(oe,{ref:a,variant:t,size:r,className:ft("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(za,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});KL.displayName="CarouselPrevious";const YL=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=aC();return s.jsxs(oe,{ref:a,variant:t,size:r,className:ft("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(sa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});YL.displayName="CarouselNext";const Fat={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Lat(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function $at(e,t){const r=e.rootNode();return t&&t(r)||r}function XL(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(L,W){r=L;const{mergeOptions:V,optionsAtMedia:H}=W,G=V(Fat,XL.globalOptions),I=V(G,e);if(t=H(I),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=Lat(r,t.delay);const{eventStore:U,ownerDocument:X}=r.internalEngine(),z=!!r.internalEngine().options.watchDrag,Z=$at(r,t.rootNode);U.add(X,"visibilitychange",w),z&&r.on("pointerDown",j),z&&!t.stopOnInteraction&&r.on("pointerUp",E),t.stopOnMouseEnter&&U.add(Z,"mouseenter",S),t.stopOnMouseEnter&&!t.stopOnInteraction&&U.add(Z,"mouseleave",C),t.stopOnFocusIn&&r.on("slideFocusStart",v),t.stopOnFocusIn&&!t.stopOnInteraction&&U.add(r.containerNode(),"focusout",g),t.playOnInit&&g()}function m(){r.off("pointerDown",j).off("pointerUp",E).off("slideFocusStart",v),v(),n=!0,l=!1}function p(){const{ownerWindow:L}=r.internalEngine();L.clearTimeout(o),o=L.setTimeout(A,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:L}=r.internalEngine();L.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function g(){if(!n){if(b()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function v(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function w(){if(b())return u=l,v();u&&g()}function b(){const{ownerDocument:L}=r.internalEngine();return L.visibilityState==="hidden"}function j(){c||v()}function E(){c||g()}function S(){c=!0,v()}function C(){c=!1,g()}function k(L){typeof L<"u"&&(d=L),g()}function D(){l&&v()}function O(){l&&g()}function P(){return l}function A(){const{index:L}=r.internalEngine(),W=L.clone().add(1).get(),V=r.scrollSnapList().length-1,H=t.stopOnLastSnap&&W===V;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),H)return v();g()}function R(){if(!i)return null;const L=a[r.selectedScrollSnap()],W=new Date().getTime()-i;return L-W}return{name:"autoplay",options:e,init:f,destroy:m,play:k,stop:D,reset:O,isPlaying:P,timeUntilNext:R}}XL.globalOptions=void 0;const Lfe=({bannerUrls:e,storeName:t,logoUrl:r,storeDescription:n})=>{const[a,i]=_.useState([]);return _.useEffect(()=>{const o=e.map(l=>xf(l)||l).filter(Boolean);i(o)},[e]),a.length?s.jsx("section",{className:"relative",children:s.jsxs(HL,{className:"w-full",plugins:[XL({delay:4e3,stopOnInteraction:!1})],opts:{loop:!0},children:[s.jsx(GL,{children:a.map((o,l)=>s.jsx(u2,{children:s.jsx("div",{className:"relative h-[300px] md:h-[380px] lg:h-[450px]",children:s.jsx(wf,{src:o,alt:eat({storeName:t,imageType:"banner",description:n||void 0}),className:"absolute inset-0 w-full h-full object-fill"})})},l))}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(KL,{className:"left-4 bg-white/20 border-white/30 text-white hover:bg-white/30"}),s.jsx(YL,{className:"right-4 bg-white/20 border-white/30 text-white hover:bg-white/30"})]})]})}):s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r&&s.jsx("img",{src:xf(r)||r,alt:t,className:"h-24 w-24 mx-auto mb-6 rounded-full object-cover border-4 border-background shadow-lg"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:t}),n&&s.jsx("p",{className:"text-xl text-muted-foreground",children:n})]})})})},jR=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],Bat=()=>{const{data:e,isLoading:t}=rbe({queryKey:["home-data"],queryFn:async()=>{const{data:l}=await Y.from("stores").select("id, name, description, logo_url, hero_banner_url, hero_banner_urls").eq("slug","demo").eq("is_active",!0).maybeSingle();if(!l)return{allProducts:[],featuredProducts:[],newArrivals:[],categories:jR};const[c,u]=await Promise.all([fb(l.id),Y.from("categories").select("*").eq("store_id",l.id).order("name").then(f=>f.data)]),d=[...c].sort((f,m)=>new Date(m.created_at||"").getTime()-new Date(f.created_at||"").getTime());return{allProducts:c,featuredProducts:c.slice(0,4),newArrivals:d.slice(0,4),categories:u&&u.length>0?u:jR,store:l}},staleTime:3e5,gcTime:6e5}),{allProducts:r=[],featuredProducts:n=[],newArrivals:a=[],categories:i=jR,store:o}=e||{};return t?s.jsx(rat,{text:"Loading store..."}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{}),s.jsxs("main",{className:"flex-1",children:[o&&s.jsx(Lfe,{bannerUrls:o.hero_banner_urls&&o.hero_banner_urls.length>0?o.hero_banner_urls:o.hero_banner_url?[o.hero_banner_url]:[],storeName:o.name||"MyStore",logoUrl:o.logo_url,storeDescription:o.description}),!o&&s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Welcome to MyStore"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Discover quality products at unbeatable prices. Shop now!"})]})})}),s.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:i.map((l,c)=>{const u=r.filter(d=>d.category===l.name).length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${c*100}ms`},children:s.jsx(BL,{name:l.name,image_url:l.image_url,productCount:u})},l.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(Ct,{to:"/products",children:s.jsxs(oe,{variant:"outline",children:["View All",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]}),n.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>s.jsx(rx,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),a.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(l=>s.jsx(rx,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore thousands of products and great deals"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ct,{to:"/products",children:s.jsxs(oe,{size:"lg",variant:"secondary",children:["Browse Products",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})}),s.jsx(Ct,{to:"/pricing",children:s.jsxs(oe,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["View Pricing Plans",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),s.jsx(Vu,{})]})},ww=({storeName:e,storeDescription:t,whatsappNumber:r,phone:n,email:a,address:i,facebookUrl:o,instagramUrl:l,twitterUrl:c,youtubeUrl:u,linkedinUrl:d,socialLinks:f,policies:m})=>{const{slug:p}=ld(),y=p?`/${p}/policies`:"/policies",g=p?`/${p}`:"",v={facebook:o||f?.facebook||null,instagram:l||f?.instagram||null,twitter:c||f?.twitter||null,youtube:u||null,linkedin:d||null},w=Object.values(v).some(b=>b);return s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-foreground mb-4",children:["About ",e]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t||"Your trusted online store for quality products at great prices."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Ct,{to:g||"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Ct,{to:`${g}/products`,className:"text-muted-foreground hover:text-primary transition-colors",children:"All Products"})}),s.jsx("li",{children:s.jsx(Ct,{to:`${g}/categories`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Categories"})}),s.jsx("li",{children:s.jsx(Ct,{to:`${g}/cart`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shopping Cart"})}),s.jsx("li",{children:s.jsx(Ct,{to:"/sitemap.xml",className:"text-muted-foreground hover:text-primary transition-colors",children:"Sitemap"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(Ct,{to:`${y}#terms`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx(Ct,{to:`${y}#return-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx(Ct,{to:`${y}#shipping-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(Ct,{to:`${y}#privacy-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[n&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:n})]}),r&&n!==r&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(pc,{className:"w-4 h-4 flex-shrink-0"}),s.jsxs("span",{children:["WhatsApp: ",r]})]}),a&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:a})]}),i&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(kf,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i})]})]}),w&&s.jsxs("div",{className:"flex gap-3 mt-4",children:[v.facebook&&s.jsx("a",{href:v.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Facebook",children:s.jsx(vM,{className:"w-4 h-4"})}),v.instagram&&s.jsx("a",{href:v.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Instagram",children:s.jsx(Rl,{className:"w-4 h-4"})}),v.twitter&&s.jsx("a",{href:v.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Twitter",children:s.jsx(bM,{className:"w-4 h-4"})}),v.youtube&&s.jsx("a",{href:v.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"YouTube",children:s.jsx(mZ,{className:"w-4 h-4"})}),v.linkedin&&s.jsx("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"LinkedIn",children:s.jsx(cZ,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-4 pt-4 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",e,". All rights reserved."]})})]})})};var iC="Checkbox",[Uat]=zs(iC),[Vat,JL]=Uat(iC);function zat(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=Ci({prop:r,defaultProp:a??!1,onChange:c,caller:iC}),[y,g]=_.useState(null),[v,w]=_.useState(null),b=_.useRef(!1),j=y?!!o||!!y.closest("form"):!0,E={checked:m,disabled:i,setChecked:p,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:_f(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:w};return s.jsx(Vat,{scope:t,...E,children:qat(f)?f(E):n})}var $fe="CheckboxTrigger",Bfe=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=JL($fe,e),g=Qt(a,d),v=_.useRef(c);return _.useEffect(()=>{const w=i?.form;if(w){const b=()=>f(v.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[i,f]),s.jsx(At.button,{type:"button",role:"checkbox","aria-checked":_f(c)?"mixed":c,"aria-required":u,"data-state":Wfe(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:ht(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ht(r,w=>{f(b=>_f(b)?!0:!b),y&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});Bfe.displayName=$fe;var ZL=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(zat,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(Bfe,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(qfe,{__scopeCheckbox:r})]})})});ZL.displayName=iC;var Ufe="CheckboxIndicator",Vfe=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=JL(Ufe,r);return s.jsx(ca,{present:n||_f(i.checked)||i.checked===!0,children:s.jsx(At.span,{"data-state":Wfe(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Vfe.displayName=Ufe;var zfe="CheckboxBubbleInput",qfe=_.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=JL(zfe,e),y=Qt(r,p),g=Bw(i),v=Sw(n);_.useEffect(()=>{const b=m;if(!b)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,C=!a.current;if(g!==i&&S){const k=new Event("click",{bubbles:C});b.indeterminate=_f(i),S.call(b,_f(i)?!1:i),b.dispatchEvent(k)}},[m,g,i,a]);const w=_.useRef(_f(i)?!1:i);return s.jsx(At.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qfe.displayName=zfe;function qat(e){return typeof e=="function"}function _f(e){return e==="indeterminate"}function Wfe(e){return _f(e)?"indeterminate":e?"checked":"unchecked"}const vi=_.forwardRef(({className:e,...t},r)=>s.jsx(ZL,{ref:r,className:ft("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Vfe,{className:ft("flex items-center justify-center text-current"),children:s.jsx(nn,{className:"h-4 w-4"})})}));vi.displayName=ZL.displayName;var Hfe=["PageUp","PageDown"],Gfe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kfe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ax="Slider",[cM,Wat,Hat]=sx(Ax),[Yfe]=zs(Ax,[Hat]),[Gat,oC]=Yfe(Ax),Xfe=_.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...g}=e,v=_.useRef(new Set),w=_.useRef(0),j=o==="horizontal"?Kat:Yat,[E=[],S]=Ci({prop:d,defaultProp:u,onChange:A=>{[...v.current][w.current]?.focus(),f(A)}}),C=_.useRef(E);function k(A){const R=eit(E,A);P(A,R)}function D(A){P(A,w.current)}function O(){const A=C.current[w.current];E[w.current]!==A&&m(E)}function P(A,R,{commit:F}={commit:!1}){const L=sit(i),W=ait(Math.round((A-n)/i)*i+n,L),V=hb(W,[n,a]);S((H=[])=>{const G=Zat(H,V,R);if(nit(G,c*i)){w.current=G.indexOf(V);const I=String(G)!==String(H);return I&&F&&m(G),I?G:H}else return H})}return s.jsx(Gat,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:w,thumbs:v.current,values:E,orientation:o,form:y,children:s.jsx(cM.Provider,{scope:e.__scopeSlider,children:s.jsx(cM.Slot,{scope:e.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:ht(g.onPointerDown,()=>{l||(C.current=E)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:D,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,E.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:R})=>{if(!l){const W=Hfe.includes(A.key)||A.shiftKey&&Gfe.includes(A.key)?10:1,V=w.current,H=E[V],G=i*W*R;P(H+G,V,{commit:!0})}}})})})})});Xfe.displayName=Ax;var[Jfe,Zfe]=Yfe(Ax,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Kat=_.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,m]=_.useState(null),p=Qt(t,j=>m(j)),y=_.useRef(void 0),g=Kf(a),v=g==="ltr",w=v&&!i||!v&&i;function b(j){const E=y.current||f.getBoundingClientRect(),S=[0,E.width],k=QL(S,w?[r,n]:[n,r]);return y.current=E,k(j-E.left)}return s.jsx(Jfe,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(Qfe,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const E=b(j.clientX);o?.(E)},onSlideMove:j=>{const E=b(j.clientX);l?.(E)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:j=>{const S=Kfe[w?"from-left":"from-right"].includes(j.key);u?.({event:j,direction:S?-1:1})}})})}),Yat=_.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=_.useRef(null),f=Qt(t,d),m=_.useRef(void 0),p=!a;function y(g){const v=m.current||d.current.getBoundingClientRect(),w=[0,v.height],j=QL(w,p?[n,r]:[r,n]);return m.current=v,j(g-v.top)}return s.jsx(Jfe,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(Qfe,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);i?.(v)},onSlideMove:g=>{const v=y(g.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:g=>{const w=Kfe[p?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:w?-1:1})}})})}),Qfe=_.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=oC(Ax,r);return s.jsx(At.span,{...u,ref:t,onKeyDown:ht(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Hfe.concat(Gfe).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ht(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:ht(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:ht(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),ehe="SliderTrack",the=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=oC(ehe,r);return s.jsx(At.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});the.displayName=ehe;var uM="SliderRange",rhe=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=oC(uM,r),i=Zfe(uM,r),o=_.useRef(null),l=Qt(t,o),c=a.values.length,u=a.values.map(m=>ahe(m,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(At.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});rhe.displayName=uM;var dM="SliderThumb",nhe=_.forwardRef((e,t)=>{const r=Wat(e.__scopeSlider),[n,a]=_.useState(null),i=Qt(t,l=>a(l)),o=_.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(Xat,{...e,ref:i,index:o})}),Xat=_.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=oC(dM,r),l=Zfe(dM,r),[c,u]=_.useState(null),d=Qt(t,b=>u(b)),f=c?o.form||!!c.closest("form"):!0,m=Sw(c),p=o.values[n],y=p===void 0?0:ahe(p,o.min,o.max),g=Qat(n,o.values.length),v=m?.[l.size],w=v?tit(v,y,l.direction):0;return _.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${w}px)`},children:[s.jsx(cM.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(At.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:ht(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(she,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});nhe.displayName=dM;var Jat="RadioBubbleInput",she=_.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=_.useRef(null),i=Qt(a,n),o=Bw(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(At.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});she.displayName=Jat;function Zat(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function ahe(e,t,r){const i=100/(r-t)*(e-t);return hb(i,[0,100])}function Qat(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function eit(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function tit(e,t,r){const n=e/2,i=QL([0,50],[0,n]);return(n-i(t)*r)*r}function rit(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function nit(e,t){if(t>0){const r=rit(e);return Math.min(...r)>=t}return!0}function QL(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function sit(e){return(String(e).split(".")[1]||"").length}function ait(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var ihe=Xfe,iit=the,oit=rhe,lit=nhe;const ohe=_.forwardRef(({className:e,...t},r)=>s.jsxs(ihe,{ref:r,className:ft("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(iit,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(oit,{className:"absolute h-full bg-primary"})}),s.jsx(lit,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ohe.displayName=ihe.displayName;const lhe=({title:e="Something went wrong",message:t,onRetry:r,className:n})=>s.jsxs(Yr,{variant:"destructive",className:n,children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx(R5,{children:e}),s.jsxs(Xr,{className:"flex flex-col gap-3",children:[s.jsx("span",{children:t}),r&&s.jsxs(oe,{variant:"outline",size:"sm",onClick:r,className:"w-fit",children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}),NR=({slug:e}={})=>{const[t,r]=Ew(),{slug:n}=ld(),a=e||n;ur();const[i,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(null),[f,m]=_.useState([]),[p,y]=_.useState([]),[g,v]=_.useState([]),[w,b]=_.useState([0,1e4]),[j,E]=_.useState("newest"),[S,C]=_.useState(!1),[k,D]=_.useState(null),[O,P]=_.useState(null),[A,R]=_.useState(null),F=su();_.useEffect(()=>{(async()=>{if(a)try{c(!0),d(null);const{data:G}=await Y.from("stores").select("*").eq("slug",a).eq("is_active",!0).maybeSingle();if(G){D(G.id),P(G);const{data:I}=await Y.from("profiles").select("phone, email").eq("user_id",G.user_id).maybeSingle();I&&R(I);const U=await fb(G.id);o(U)}}catch(G){d(G instanceof Error?G.message:"Failed to load products")}finally{c(!1)}})()},[a]);const L=async()=>{if(k)try{const H=await fb(k);o(H)}catch(H){d(H instanceof Error?H.message:"Failed to reload products")}};_.useEffect(()=>{const H=[...new Set(i.map(G=>G.category))].filter(Boolean);y(H)},[i]),_.useEffect(()=>{const H=t.get("category");H&&p.includes(H)&&v([H]);const G=()=>{L()};return window.addEventListener("focus",G),()=>window.removeEventListener("focus",G)},[t,p,L]),_.useEffect(()=>{if(!i||i.length===0){m([]);return}let H=[...i];k&&(H=H.filter(U=>U.store_id===k));const G=t.get("search");G&&(H=H.filter(U=>U.name.toLowerCase().includes(G.toLowerCase())));const I=t.get("category");switch(I?H=H.filter(U=>U.category===I):g.length>0&&(H=H.filter(U=>g.includes(U.category))),(w[0]>0||w[1]<1e4)&&(H=H.filter(U=>{const X=U.basePrice||(U.variants?.length?Math.min(...U.variants.map(Z=>Z.price)):0);return(U.variants?.length?Math.max(...U.variants.map(Z=>Z.price)):U.basePrice||0)>=w[0]&&X<=w[1]})),j){case"price-low":H.sort((U,X)=>{const z=U.basePrice||(U.variants?.length?U.variants[0].price:0),Z=X.basePrice||(X.variants?.length?X.variants[0].price:0);return z-Z});break;case"price-high":H.sort((U,X)=>{const z=U.basePrice||(U.variants?.length?U.variants[0].price:0);return(X.basePrice||(X.variants?.length?X.variants[0].price:0))-z});break;case"name":H.sort((U,X)=>U.name.localeCompare(X.name));break}m(H)},[i,g,w,j,t,k]);const W=H=>{const G=new URLSearchParams(t);G.delete("category"),r(G),v(I=>I.includes(H)?I.filter(U=>U!==H):[...I,H])},V=()=>{const H=new URLSearchParams(t);H.delete("category"),r(H),v([]),b([0,1e4]),E("newest")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:a}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:l?s.jsx("div",{className:"py-20",children:s.jsx(nC,{size:"lg",text:"Loading products..."})}):u?s.jsx("div",{className:"py-20",children:s.jsx(lhe,{title:"Failed to load products",message:u,onRetry:L})}):s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-64 ${S?"block":"hidden lg:block"}`,children:s.jsx(ke,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[s.jsx(LR,{className:"w-5 h-5"}),"Filters"]}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:V,className:"text-xs",children:"Clear All"})]}),p.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx(Ce,{className:"text-sm font-semibold mb-3 block",children:"Categories"}),s.jsx("div",{className:"space-y-3",children:p.map(H=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vi,{id:H,checked:g.includes(H),onCheckedChange:()=>W(H)}),s.jsx("label",{htmlFor:H,className:"text-sm text-muted-foreground cursor-pointer",children:H})]},H))})]}),s.jsxs("div",{children:[s.jsx(Ce,{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),s.jsxs("div",{className:"px-2",children:[s.jsx(ohe,{min:0,max:1e4,step:100,value:w,onValueChange:b,className:"mb-4"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["",w[0]]}),s.jsxs("span",{children:["",w[1]]})]})]})]})]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"All Products"}),s.jsxs("p",{className:"text-muted-foreground",children:["Showing ",f.length," products"]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(oe,{variant:"outline",onClick:()=>C(!S),className:"lg:hidden flex-1",children:[s.jsx(LR,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsxs(br,{value:j,onValueChange:E,children:[s.jsx(mr,{className:"w-full sm:w-[180px]",children:s.jsx(wr,{placeholder:"Sort by"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"newest",children:"Newest"}),s.jsx(Ye,{value:"price-low",children:"Price: Low to High"}),s.jsx(Ye,{value:"price-high",children:"Price: High to Low"}),s.jsx(Ye,{value:"name",children:"Name: A-Z"})]})]})]})]}),f.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(H=>s.jsx(rx,{...H,storeSlug:F?void 0:a},H.id))}):s.jsxs(ke,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your filters"}),s.jsx(oe,{onClick:V,variant:"outline",children:"Clear Filters"})]})]})]})}),O?s.jsx(ww,{storeName:O.name,storeDescription:O.description,whatsappNumber:O.whatsapp_number,phone:A?.phone,email:A?.email,address:O.address,facebookUrl:O.facebook_url,instagramUrl:O.instagram_url,twitterUrl:O.twitter_url,youtubeUrl:O.youtube_url,linkedinUrl:O.linkedin_url,socialLinks:O.social_links,policies:O.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})};function e8({title:e,description:t,canonical:r,image:n="https://digitaldukandar.in/placeholder.svg",type:a="website",keywords:i=[],author:o,price:l,currency:c="INR",availability:u}){const d=t.slice(0,160),f=e.slice(0,60);return s.jsxs(HM,{children:[s.jsx("title",{children:f}),s.jsx("meta",{name:"title",content:f}),s.jsx("meta",{name:"description",content:d}),i.length>0&&s.jsx("meta",{name:"keywords",content:i.join(", ")}),o&&s.jsx("meta",{name:"author",content:o}),s.jsx("link",{rel:"icon",type:"image/png",href:n}),s.jsx("link",{rel:"apple-touch-icon",href:n}),r&&s.jsx("link",{rel:"canonical",href:r}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:title",content:f}),s.jsx("meta",{property:"og:description",content:d}),s.jsx("meta",{property:"og:image",content:n}),r&&s.jsx("meta",{property:"og:url",content:r}),s.jsx("meta",{property:"og:site_name",content:"YesGive Shop"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:f}),s.jsx("meta",{name:"twitter:description",content:d}),s.jsx("meta",{name:"twitter:image",content:n}),a==="product"&&l&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{property:"product:price:amount",content:l.toString()}),s.jsx("meta",{property:"product:price:currency",content:c}),u&&s.jsx("meta",{property:"product:availability",content:u==="in stock"?"in stock":"out of stock"})]}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"theme-color",content:"#000000"}),s.jsx("link",{rel:"preconnect",href:"https://vexeuxsvckpfvuxqchqu.supabase.co"})]})}function che(e){const{storeSlug:t,subdomain:r,customDomain:n,path:a=""}=e;return n&&n.trim()?`${n.startsWith("http")?n:`https://${n}`}${a}`:r&&r.trim()?`https://${r}.digitaldukandar.in${a}`:`https://digitaldukandar.in/${t}${a}`}function uhe(e,t,r){return che({storeSlug:e,subdomain:t,customDomain:r,path:""})}function cit(e,t,r,n){return che({storeSlug:e,subdomain:r,customDomain:n,path:`/products/${t}`})}const Dv=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],SR=({slug:e}={})=>{const{slug:t}=ld(),r=e||t,[n,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null),[u,d]=_.useState("Store");return _.useEffect(()=>{(async()=>{try{o(!0);let m=null;if(r){const{data:p}=await Y.from("stores").select("id, name").eq("slug",r).eq("is_active",!0).maybeSingle();if(p)m=p.id,c(p.id),d(p.name);else{a(Dv),o(!1);return}}else{const{data:{user:p}}=await Y.auth.getUser();if(p){const{data:y}=await Y.from("stores").select("id, name").eq("user_id",p.id).eq("is_active",!0).maybeSingle();y&&(m=y.id,c(y.id),d(y.name))}}if(m)try{const{data:p,error:y}=await Y.from("categories").select("*").eq("store_id",m).order("created_at",{ascending:!0});if(y)throw y;const g=await Promise.all((p||[]).map(async v=>{const{count:w,error:b}=await Y.from("products").select("*",{count:"exact",head:!0}).eq("store_id",m).eq("category",v.name).eq("status","published");return console.log(`Category "${v.name}": ${w} products`,{error:b}),{id:v.id,name:v.name,image_url:v.image_url,store_id:v.store_id,productCount:w||0}}));console.log("Categories with counts:",g),a(g.length>0?g:Dv)}catch(p){console.error("Error fetching categories:",p),a(Dv)}else a(Dv)}catch(m){console.error("Error loading categories:",m),a(Dv)}finally{o(!1)}})()},[r]),i?s.jsxs(s.Fragment,{children:[s.jsx(po,{storeSlug:r,storeId:l}),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(nC,{size:"lg",text:"Loading categories..."})}),s.jsx(Vu,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(e8,{title:`Categories - ${u} | Browse Our Collections`,description:`Explore all product categories at ${u}. Find exactly what you're looking for in our organized collections.`,canonical:uhe(r||"",null,null),keywords:n.map(f=>f.name).concat([u,"categories","shop by category"]),type:"website"}),s.jsx(po,{storeSlug:r,storeId:l}),s.jsx("main",{className:"flex-1",children:s.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map(f=>s.jsx(BL,{name:f.name,image_url:f.image_url,productCount:f.productCount,slug:r},f.id))})]})})}),s.jsx(Vu,{})]})};var t8="Radio",[uit,dhe]=zs(t8),[dit,fit]=uit(t8),fhe=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,m]=_.useState(null),p=Qt(t,v=>m(v)),y=_.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(dit,{scope:r,checked:a,disabled:o,children:[s.jsx(At.button,{type:"button",role:"radio","aria-checked":a,"data-state":ghe(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:ht(e.onClick,v=>{a||c?.(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&s.jsx(phe,{control:f,bubbles:!y.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});fhe.displayName=t8;var hhe="RadioIndicator",mhe=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=fit(hhe,r);return s.jsx(ca,{present:n||i.checked,children:s.jsx(At.span,{"data-state":ghe(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});mhe.displayName=hhe;var hit="RadioBubbleInput",phe=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=_.useRef(null),l=Qt(o,i),c=Bw(r),u=Sw(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx(At.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});phe.displayName=hit;function ghe(e){return e?"checked":"unchecked"}var mit=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lC="RadioGroup",[pit]=zs(lC,[fx,dhe]),xhe=fx(),vhe=dhe(),[git,xit]=pit(lC),yhe=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,p=xhe(r),y=Kf(u),[g,v]=Ci({prop:i,defaultProp:a??null,onChange:f,caller:lC});return s.jsx(git,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(y5,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:s.jsx(At.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});yhe.displayName=lC;var bhe="RadioGroupItem",whe=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=xit(bhe,r),o=i.disabled||n,l=xhe(r),c=vhe(r),u=_.useRef(null),d=Qt(t,u),f=i.value===a.value,m=_.useRef(!1);return _.useEffect(()=>{const p=g=>{mit.includes(g.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(b5,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(fhe,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:ht(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ht(a.onFocus,()=>{m.current&&u.current?.click()})})})});whe.displayName=bhe;var vit="RadioGroupIndicator",_he=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=vhe(r);return s.jsx(mhe,{...a,...n,ref:t})});_he.displayName=vit;var jhe=yhe,Nhe=whe,yit=_he;const r8=_.forwardRef(({className:e,...t},r)=>s.jsx(jhe,{className:ft("grid gap-2",e),...t,ref:r}));r8.displayName=jhe.displayName;const Wy=_.forwardRef(({className:e,...t},r)=>s.jsx(Nhe,{ref:r,className:ft("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(yit,{className:"flex items-center justify-center",children:s.jsx(iZ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wy.displayName=Nhe.displayName;function bit(e){const{product:t,store:r,url:n,availability:a="InStock"}=e,i=t.base_price||t.basePrice,o=t.price_range||t.priceRange,l=t.sku||t.baseSku||t.id,c=t.images&&t.images.length>0?t.images[0]:null;return{"@context":"https://schema.org/","@type":"Product",name:t.name,description:t.description||`${t.name} available at ${r.name}`,sku:l,...c&&{image:t.images.filter(d=>d).map(d=>d.startsWith("http")?d:`${window.location.origin}${d}`)},...t.category&&{category:t.category},offers:{"@type":"Offer",url:n,priceCurrency:"USD",...i&&{price:i.toFixed(2)},...o&&!i&&{price:o},availability:`https://schema.org/${a}`,seller:{"@type":"Organization",name:r.name}}}}function She(e){const{store:t,url:r,email:n}=e,a=t.seo_description||t.description,i=t.business_phone||t.whatsapp_number,o=t.business_email||n,l={"@context":"https://schema.org","@type":"Store",name:t.name,url:r,...a&&{description:a},...t.logo_url&&{image:t.logo_url.startsWith("http")?t.logo_url:`${window.location.origin}${t.logo_url}`},...i&&{telephone:i},...o&&{email:o}};if(t.alternate_names){const u=t.alternate_names.split(",").map(d=>d.trim()).filter(d=>d.length>0);u.length>0&&(l.alternateName=u)}t.street_address||t.city||t.state?l.address={"@type":"PostalAddress",...t.street_address&&{streetAddress:t.street_address},...t.city&&{addressLocality:t.city},...t.state&&{addressRegion:t.state},...t.postal_code&&{postalCode:t.postal_code},...t.country&&{addressCountry:t.country}}:t.address&&(l.address={"@type":"PostalAddress",streetAddress:t.address}),t.opening_hours&&(l.openingHours=t.opening_hours),t.price_range&&(l.priceRange=t.price_range);const c=[];return t.facebook_url&&c.push(t.facebook_url),t.instagram_url&&c.push(t.instagram_url),t.twitter_url&&c.push(t.twitter_url),t.social_links&&c.length===0&&(t.social_links.facebook&&c.push(t.social_links.facebook),t.social_links.instagram&&c.push(t.social_links.instagram),t.social_links.twitter&&c.push(t.social_links.twitter)),c.length>0&&(l.sameAs=c),l}function khe(e){const{items:t}=e;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((n,a)=>({"@type":"ListItem",position:a+1,name:n.name,...n.url&&{item:n.url}}))}}function wit(e){_.useEffect(()=>{if(!e)return;const{product:t,store:r,availability:n="InStock",email:a,breadcrumbs:i}=e,o=window.location.href,l=bit({product:t,store:r,url:o,availability:n}),c=She({store:r,url:`${window.location.origin}/${r.slug}`,email:a}),u=document.createElement("script");u.id="product-schema",u.type="application/ld+json",u.textContent=JSON.stringify(l);const d=document.createElement("script");d.id="organization-schema",d.type="application/ld+json",d.textContent=JSON.stringify(c);const f=document.getElementById("product-schema"),m=document.getElementById("organization-schema");if(f&&f.remove(),m&&m.remove(),document.head.appendChild(u),document.head.appendChild(d),i&&i.length>0){const p=khe({items:i}),y=document.createElement("script");y.id="breadcrumb-schema",y.type="application/ld+json",y.textContent=JSON.stringify(p);const g=document.getElementById("breadcrumb-schema");return g&&g.remove(),document.head.appendChild(y),()=>{const v=document.getElementById("breadcrumb-schema");v&&v.remove()}}return()=>{const p=document.getElementById("product-schema"),y=document.getElementById("organization-schema");p&&p.remove(),y&&y.remove()}},[e])}function _it(e){_.useEffect(()=>{if(!e)return;const{store:t,email:r,breadcrumbs:n}=e,a=window.location.href,i=She({store:t,url:a,email:r}),o=document.createElement("script");o.id="organization-schema",o.type="application/ld+json",o.textContent=JSON.stringify(i);const l=document.getElementById("organization-schema");if(l&&l.remove(),document.head.appendChild(o),n&&n.length>0){const c=khe({items:n}),u=document.createElement("script");u.id="breadcrumb-schema",u.type="application/ld+json",u.textContent=JSON.stringify(c);const d=document.getElementById("breadcrumb-schema");return d&&d.remove(),document.head.appendChild(u),()=>{const f=document.getElementById("breadcrumb-schema");f&&f.remove()}}return()=>{const c=document.getElementById("organization-schema");c&&c.remove()}},[e])}const kR=({slug:e}={})=>{const t=ld(),r=t.productSlug||t.slug,n=ur(),{toast:a}=ss(),{addToCart:i,triggerFlyAnimation:o}=T2(),[l,c]=_.useState(null),u=_.useRef(null),d=_.useRef(null),[f,m]=_.useState(""),[p,y]=_.useState(1),[g,v]=_.useState(0),[w,b]=_.useState(!0),[j,E]=_.useState(e),[S,C]=_.useState([]),[k,D]=_.useState(null),[O,P]=_.useState(null),[A,R]=_.useState(!1),F=su();if(_.useEffect(()=>{(async()=>{if(!r){n("/products");return}try{b(!0);let ee=await Mke(r);if(!ee&&(ee=await Wj(r),ee&&ee.slug)){const ie=su()?`/products/${ee.slug}`:j?`/${j}/products/${ee.slug}`:`/products/${ee.slug}`;n(ie,{replace:!0});return}if(!ee){a({title:"Product not found",description:"This product doesn't exist or has been removed.",variant:"destructive"}),n("/products");return}c(ee);const se=ee.store_id;if(se){const{data:B}=await Y.from("stores").select("*").eq("id",se).single();if(B){E(B.slug),D(B);const{data:ue}=await Y.from("profiles").select("phone, email").eq("user_id",B.user_id).maybeSingle();ue&&P(ue)}const ae=(await fb(se)).filter(ue=>ue.id!==ee.id),Ne=ae.filter(ue=>ue.category===ee.category),Ee=Ne.length>0?Ne:ae;C(Ee)}}catch(ee){console.error("Error loading product:",ee),a({title:"Error",description:"Failed to load product details",variant:"destructive"}),n("/products")}finally{b(!1)}})()},[r,n,a,j,F]),_.useEffect(()=>{f&&d.current&&d.current.classList.remove("animate-pulse")},[f]),wit(l&&k?{product:{id:l.id,name:l.name,description:l.description,images:l.images,base_price:l.base_price||l.basePrice,price_range:l.price_range||l.priceRange,sku:l.sku||l.baseSku,category:l.category,variants:l.variants,status:l.status},store:{id:k.id,name:k.name,slug:k.slug,description:k.description,logo_url:k.logo_url,address:k.address,whatsapp_number:k.whatsapp_number,social_links:k.social_links},availability:l.status==="published"?"InStock":"OutOfStock",email:O?.email,breadcrumbs:[{name:"Home",url:F?window.location.origin:`${window.location.origin}/${j}`},{name:"Products",url:F?`${window.location.origin}/products`:`${window.location.origin}/${j}/products`},{name:l.name,url:window.location.href}]}:null),w)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:j,storeId:l?.store_id||l?.storeId}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(nC,{size:"lg",text:"Loading product..."})}),k?s.jsx(ww,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:O?.phone,email:O?.email,address:k.address,facebookUrl:k.facebook_url,instagramUrl:k.instagram_url,twitterUrl:k.twitter_url,youtubeUrl:k.youtube_url,linkedinUrl:k.linkedin_url,socialLinks:k.social_links,policies:k.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]});if(!l)return null;const L=l.variants?.find(K=>K.name===f),V=l.variants&&l.variants.length>0&&!f,H=L?L.price:l.basePrice||l.base_price||0,G=l.images&&l.images.length>0?l.images:["/placeholder.svg"],I=l.videoUrl||l.video_url,U=l.baseSku||l.sku,z=I?(K=>K.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||null)(I):null,Z=z?`https://img.youtube.com/vi/${z}/hqdefault.jpg`:null,J=j?`/${j}`:"/home",Q=j?`/${j}/products`:"/products",de=K=>{y(Math.max(0,p+K))},fe=()=>{if(!l)return;if(l.variants&&l.variants.length>0&&!f){a({title:"Please select a variant",description:"Redirecting to variant section...",variant:"destructive"}),setTimeout(()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"center"}),d.current.classList.add("animate-pulse"))},1e3);return}const K=l.store_id;if(!K){a({title:"Error",description:"Unable to add product to cart. Store information is missing.",variant:"destructive"});return}u.current&&o(G[0],u.current),i({productId:l.id,productName:l.name,productImage:G[0],variant:f||void 0,price:H,quantity:p,sku:L?.sku||U,storeId:K}),R(!0)},pe=()=>{navigator.share?navigator.share({title:l.name,text:`Check out ${l.name} on MyStore`,url:window.location.href}):(a({title:"Link copied",description:"Product link has been copied to clipboard"}),navigator.clipboard.writeText(window.location.href))};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(e8,{title:`${l.name} - ${k?.name||"Store"} | Buy Online`,description:l.description?.slice(0,160)||`Shop ${l.name} from ${k?.name}. ${L?`Price: ${L.price}`:l.base_price?`Starting from ${l.base_price}`:""}`,canonical:cit(j||"",l.id,k?.subdomain,k?.custom_domain),image:G[0],type:"product",price:L?.price||l.base_price,availability:l.status==="published"?"in stock":"out of stock",keywords:[l.name,l.category,k?.name||"store","buy online"]}),s.jsx(po,{storeSlug:j,storeId:l.store_id||l.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 pb-32 md:pb-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(Ct,{to:J,className:"hover:text-foreground",children:"Home"}),s.jsx(Nf,{className:"w-4 h-4"}),s.jsx(Ct,{to:Q,className:"hover:text-foreground",children:"Products"}),s.jsx(Nf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:l.name})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"lg:hidden mb-4",children:[s.jsxs(HL,{className:"w-full",opts:{loop:!0},children:[s.jsxs(GL,{children:[G.map((K,ee)=>s.jsx(u2,{children:s.jsx(ke,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx(wf,{src:K,alt:ry({productName:l.name,category:l.category,imageIndex:ee}),className:"w-full h-full object-contain"})})})})},ee)),I&&s.jsx(u2,{children:s.jsx(ke,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${I.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||I}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})},"video")]}),(G.length>1||I)&&s.jsxs(s.Fragment,{children:[s.jsx(KL,{className:"left-2"}),s.jsx(YL,{className:"right-2"})]})]}),(G.length>1||I)&&s.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[G.map((K,ee)=>s.jsx("button",{onClick:()=>v(ee),className:`w-2 h-2 rounded-full transition-colors ${g===ee?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":`View image ${ee+1}`},ee)),I&&s.jsx("button",{onClick:()=>v(G.length),className:`w-2 h-2 rounded-full transition-colors ${g===G.length?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":"View video"},"video-dot")]})]}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx(ke,{className:"overflow-hidden mb-4",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{ref:u,className:"aspect-square bg-muted",children:g<G.length?s.jsx(wf,{src:G[g],alt:ry({productName:l.name,category:l.category,imageIndex:g}),className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${I?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||I}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})}),(G.length>1||I)&&s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[G.map((K,ee)=>s.jsx("button",{onClick:()=>v(ee),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] ${g===ee?"border-primary":"border-transparent hover:border-border"}`,children:s.jsx(wf,{src:K,alt:ry({productName:l.name,category:l.category,imageIndex:ee}),className:"w-full h-full object-contain"})},ee)),I&&Z&&s.jsxs("button",{onClick:()=>v(G.length),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] relative ${g===G.length?"border-primary":"border-transparent hover:border-border"}`,children:[s.jsx("img",{src:Z,alt:`${l.name} - Product video`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]},"video-thumb")]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(wt,{variant:"secondary",className:"mb-2",children:l.category}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:l.name}),s.jsx("p",{className:"text-muted-foreground",children:l.description})]}),l.variants&&l.variants.length>0?s.jsx(ke,{ref:d,className:`mb-6 ${f?"":"ring-2 ring-primary/50 ring-offset-2"}`,children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(Ce,{className:"text-base font-semibold",children:["Select Variant ",!f&&s.jsx("span",{className:"text-destructive",children:"*"})]}),!f&&s.jsx(wt,{variant:"destructive",className:"text-xs",children:"Required"})]}),s.jsx(r8,{value:f,onValueChange:m,children:s.jsx("div",{className:"space-y-3",children:l.variants.map(K=>s.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${f===K.name?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent"}`,onClick:()=>m(K.name),children:[s.jsx(Wy,{value:K.name,id:K.name,className:"min-w-[20px] min-h-[20px]"}),s.jsx(Ce,{htmlFor:K.name,className:"flex-1 cursor-pointer font-normal",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:K.name}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["",K.price]})]})})]},K.name))})}),f?s.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected: ",f," - ",H]})}):s.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a variant to continue"]})})]})}):s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-3xl font-bold text-primary",children:l.price_range||l.priceRange||`${l.basePrice||l.base_price||0}`})}),s.jsxs("div",{className:"mb-6",children:[s.jsx(Ce,{className:"text-base font-semibold mb-3 block",children:"Quantity"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx(oe,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>de(-1),disabled:p<=1||V,children:s.jsx(uZ,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-16 text-center font-semibold text-lg",children:p}),s.jsx(oe,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>de(1),disabled:V,children:s.jsx(Yi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",s.jsx("span",{className:"text-lg font-bold text-foreground",children:V?"":`${(H*p).toFixed(2)}`})]})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 hidden md:block",children:[s.jsxs(oe,{onClick:fe,className:"w-full min-h-[48px]",size:"lg",disabled:p===0,children:[s.jsx(Cf,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),s.jsxs(oe,{onClick:pe,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Lg,{className:"w-4 h-4 mr-2"}),"Share Product"]})]}),s.jsx("div",{className:"mb-6 md:hidden",children:s.jsxs(oe,{onClick:pe,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Lg,{className:"w-4 h-4 mr-2"}),"Share Product"]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Product Details"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Category:"}),s.jsx("dd",{className:"font-medium",children:l.category})]}),U&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"SKU:"}),s.jsx("dd",{className:"font-medium",children:U})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Availability:"}),s.jsx("dd",{className:"font-medium text-success",children:"In Stock"})]})]})]})})]})]}),S.length>0&&s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"More Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(K=>s.jsx(rx,{id:K.id,slug:K.slug,name:K.name,category:K.category,priceRange:K.price_range,images:K.images,status:K.status,storeSlug:F?void 0:j},K.id))})]})]}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border shadow-lg z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:V?"Select variant":l.variants&&l.variants.length>0&&f?`${f}`:l.name}),s.jsx("p",{className:"text-lg font-bold text-primary",children:V?"":`${(H*p).toFixed(2)}`})]}),s.jsxs(oe,{onClick:fe,size:"lg",className:"min-h-[48px] px-6 font-semibold",disabled:p===0,children:[s.jsx(Cf,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end sm:items-center justify-center p-4",onClick:()=>R(!1),children:s.jsxs("div",{className:"bg-background rounded-t-2xl sm:rounded-2xl w-full max-w-md p-6 space-y-4 animate-in slide-in-from-bottom sm:slide-in-from-bottom-0 duration-300",onClick:K=>K.stopPropagation(),children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:G[0],alt:ry({productName:l.name,category:l.category,imageIndex:0}),className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate",children:l.name}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",f]}),s.jsxs("p",{className:"text-sm font-medium text-primary",children:["",H,"  ",p]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),s.jsx("span",{className:"font-semibold",children:p})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",(H*p).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"font-semibold",children:"Added to cart"})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(oe,{onClick:()=>{R(!1),n(F?"/cart":`/${j}/cart`)},className:"w-full min-h-[48px] font-semibold",children:"View Cart"}),s.jsx(oe,{onClick:()=>R(!1),variant:"outline",className:"w-full min-h-[48px]",children:"Continue Shopping"})]})]})}),k?s.jsx(ww,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:O?.phone,email:O?.email,address:k.address,facebookUrl:k.facebook_url,instagramUrl:k.instagram_url,twitterUrl:k.twitter_url,youtubeUrl:k.youtube_url,linkedinUrl:k.linkedin_url,socialLinks:k.social_links,policies:k.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})},CR=({slug:e}={})=>{const{slug:t}=ld(),r=e||t,{cart:n,cartTotal:a,updateQuantity:i,removeItem:o}=T2(),[l,c]=_.useState(r),u=su();_.useEffect(()=>{r?c(r):n.length>0&&n[0].storeId&&(async()=>{const{data:y}=await Y.from("stores").select("slug").eq("id",n[0].storeId).maybeSingle();y&&c(y.slug)})()},[r,n]);const d=u?"/":l?`/${l}`:"/home",f=u?"/products":l?`/${l}/products`:"/products",m=u?"/checkout":l?`/${l}/checkout`:"/checkout";return n.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:l,storeId:n[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(BR,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to your cart to see them here"}),s.jsx(Ct,{to:f,children:s.jsx(oe,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Vu,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:l,storeId:n[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(Ct,{to:d,className:"hover:text-foreground",children:"Home"}),s.jsx(Nf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Shopping Cart"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),s.jsx("div",{className:"space-y-4",children:n.map(p=>s.jsx(ke,{children:s.jsx(Te,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(wf,{src:p.productImage,alt:p.productName,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:p.productName}),p.variant&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",p.variant]}),p.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",p.sku]})]}),s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>o(p.productId,p.variant),children:s.jsx(Ua,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg w-fit",children:[s.jsx(oe,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity-1),disabled:p.quantity<=1,children:s.jsx(uZ,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-14 text-center font-semibold text-lg",children:p.quantity}),s.jsx(oe,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity+1),children:s.jsx(Yi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",p.price," each"]}),s.jsxs("p",{className:"text-xl font-bold text-primary",children:["",p.price*p.quantity]})]})]})]})]})})},`${p.productId}-${p.variant}`))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(ke,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsxs("span",{children:["Subtotal (",n.reduce((p,y)=>p+y.quantity,0)," items)"]}),s.jsxs("span",{children:["",a]})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]}),s.jsxs("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",a]})]})]}),s.jsx(oe,{asChild:!0,className:"w-full min-h-[48px]",size:"lg",children:s.jsx(Ct,{to:m,children:"Proceed to Checkout"})}),s.jsx(oe,{asChild:!0,variant:"outline",className:"w-full min-h-[44px] mt-3",children:s.jsx(Ct,{to:f,children:"Continue Shopping"})})]})})})]})]}),s.jsx(Vu,{})]})};function jit({onLocationSelect:e,enabled:t=!0}){const[r,n]=_.useState(!1),a=()=>{if(!t){Me({title:"Feature Not Available",description:"Location sharing is not enabled in your current subscription plan",variant:"destructive"});return}if(!navigator.geolocation){Me({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(i=>{const{latitude:o,longitude:l}=i.coords;e(o,l),Me({title:"Location Captured",description:"Your location has been added to the order"}),n(!1)},i=>{let o="Failed to get location";i.code===i.PERMISSION_DENIED&&(o="Location permission denied. Please enable location access in your browser settings."),Me({title:"Location Error",description:o,variant:"destructive"}),n(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return t?s.jsx(oe,{type:"button",variant:"outline",onClick:a,disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Location..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kf,{className:"h-4 w-4 mr-2"}),"Share My Current Location"]})}):null}const Nit=async(e,t)=>{try{const{data:r,error:n}=await Y.functions.invoke("create-phonepe-payment",{body:{amount:Math.round(e.amount*100),orderId:e.orderNumber,dbOrderId:e.orderId,customerName:e.customerName,customerPhone:e.customerPhone,customerEmail:e.customerEmail,storeId:t}});if(n)throw n;return r.paymentUrl?(window.location.href=r.paymentUrl,{success:!0,gatewayOrderId:r.merchantTransactionId}):{success:!1,error:"No payment URL received"}}catch(r){return console.error("PhonePe payment error:",r),{success:!1,error:r.message||"Failed to initiate PhonePe payment"}}},Sit=(e,t)=>{const r=[];return e.razorpay?.enabled&&e.razorpay.key_id&&r.push({id:"razorpay",name:"Razorpay",icon:"",color:"bg-blue-500",enabled:!0}),e.phonepe?.enabled&&e.phonepe.merchant_id&&r.push({id:"phonepe",name:"PhonePe",icon:"",color:"bg-purple-500",enabled:!0}),e.cashfree?.enabled&&e.cashfree.app_id&&r.push({id:"cashfree",name:"Cashfree",icon:"",color:"bg-green-500",enabled:!0}),e.payu?.enabled&&e.payu.merchant_key&&r.push({id:"payu",name:"PayU",icon:"",color:"bg-orange-500",enabled:!0}),e.paytm?.enabled&&e.paytm.merchant_id&&r.push({id:"paytm",name:"Paytm",icon:"",color:"bg-sky-500",enabled:!0}),e.stripe?.enabled&&e.stripe.publishable_key&&r.push({id:"stripe",name:"Stripe",icon:"",color:"bg-indigo-500",enabled:!0}),(t==="online_and_cod"||r.length===0)&&r.push({id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}),r},kit=ip({fullName:sn().trim().min(2,"Name must be at least 2 characters").max(100),phone:sn().trim().regex(/^[6-9]\d{9}$/,"Enter a valid 10-digit phone number"),email:sn().trim().email("Invalid email address").optional().or(FEe("")),address:sn().trim().min(10,"Address must be at least 10 characters").max(200),landmark:sn().trim().max(100).optional(),pincode:sn().trim().regex(/^\d{6}$/,"Enter a valid 6-digit PIN code"),deliveryTime:Q2(["morning","evening","anytime"],{required_error:"Please select a delivery time"})}),ER=({slug:e}={})=>{const{slug:t}=ld(),r=e||t,n=ur(),{cart:a,cartTotal:i,clearCart:o}=T2(),{toast:l}=ss(),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(!1),[y,g]=_.useState(null),[v,w]=_.useState(null),[b,j]=_.useState(!1),E=_.useRef(null),[S,C]=_.useState(!0),[k,D]=_.useState(r),[O,P]=_.useState(!1),[A,R]=_.useState(null),[F,L]=_.useState([]),[W,V]=_.useState(""),[H,G]=_.useState("online_and_cod"),[I,U]=_.useState({}),[X,z]=_.useState(!1),Z=zw({resolver:qw(kit),defaultValues:{fullName:"",phone:"",email:"",address:"",landmark:"",pincode:"",deliveryTime:"anytime"}}),J=async()=>{try{if(a.length===0)return;const ie=a[0].storeId,{data:ae}=await Y.from("stores").select("payment_mode, payment_gateway_credentials").eq("id",ie).maybeSingle();if(ae){const Ne=ae.payment_mode||"online_and_cod",Ee=ae.payment_gateway_credentials||{};G(Ne),U(Ee);const ue=Sit(Ee,Ne);L(ue),ue.length>0&&V(ue[0].id)}}catch(ie){console.error("Error loading payment settings:",ie),L([{id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}]),V("cod")}},Q=async ie=>{try{z(!0);const ae=a[0]?.storeId;if(!ae||!I.razorpay?.key_id)throw new Error("Payment configuration error");const{orderId:Ne,error:Ee}=await mst(ie.amount,ie.currency,ae);if(Ee)throw new Error(Ee);const ue=await pst({...ie,orderId:Ne},{key_id:I.razorpay.key_id},{onSuccess:async qe=>{console.log("Razorpay Success Response:",qe);const Je=new URLSearchParams({gateway:"razorpay",orderId:ie.orderId,storeId:ae,paymentId:qe.razorpay_payment_id,razorpayOrderId:qe.razorpay_order_id,signature:qe.razorpay_signature,storeSlug:k||""});o(),z(!1),window.location.href=`/payment-success?${Je.toString()}`},onFailure:qe=>{l({title:"Payment failed",description:qe.description||"Please try again.",variant:"destructive"}),z(!1)},onDismiss:()=>{z(!1)}});if(!ue.success&&ue.error)throw new Error(ue.error)}catch(ae){console.error("Razorpay payment error:",ae),l({title:"Payment failed",description:ae.message||"Failed to process payment. Please try again.",variant:"destructive"}),z(!1)}},de=async ie=>{try{z(!0);const ae=a[0]?.storeId;if(!ae)throw new Error("Payment configuration error");await Y.from("orders").update({payment_status:"pending",payment_gateway:"phonepe"}).eq("id",ie.orderId);const Ne=await Nit(ie,ae);if(!Ne.success)throw new Error(Ne.error||"Failed to initiate PhonePe payment")}catch(ae){console.error("PhonePe payment error:",ae),l({title:"Payment failed",description:ae.message||"Failed to process payment. Please try again.",variant:"destructive"}),z(!1)}};_.useEffect(()=>{pe(),fe(),J(),r?D(r):a.length>0&&a[0].storeId&&(async()=>{const{data:ae}=await Y.from("stores").select("slug").eq("id",a[0].storeId).maybeSingle();ae&&D(ae.slug)})()},[r,a]);const fe=async()=>{try{if(C(!0),a.length===0){C(!1);return}const ie=a[0]?.storeId;if(!ie||ie.trim()===""){console.error("Cart storeId is invalid:",ie),w("Unable to process your order. Please clear your cart and add products again from the store."),C(!1);return}const{data:ae}=await Y.from("stores").select("id, user_id, whatsapp_number").eq("id",ie).maybeSingle();if(!ae){w("Store not found."),C(!1);return}const{data:Ne}=await Y.from("subscriptions").select(`
          status,
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          subscription_plans (
            name,
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",ae.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Ee=Ne&&Ne.length>0?Ne[0]:null;if(!Ee){w("This store has no active subscription. Orders are currently unavailable."),C(!1);return}if(!["active","trial"].includes(Ee.status)){w("This store's subscription is not active. Orders are currently unavailable."),C(!1);return}const ue=new Date,qe=Ee.current_period_end?new Date(Ee.current_period_end):null;if(qe&&qe<ue){w("This store's subscription has expired. Orders are currently unavailable."),C(!1);return}if(Ee.subscription_plans){const Je=Ee.subscription_plans.whatsapp_orders_limit,le=Ee.whatsapp_orders_used||0,we=Ee.subscription_plans.website_orders_limit,Oe=Ee.website_orders_used||0;if(Je===null&&we===null){w("Ordering is not available in this store's plan."),C(!1);return}const Ge=Je!==null&&(Je===0||le<Je),Ze=we!==null&&(we===0||Oe<we);if(!Ge&&!Ze){const Se=Je!==null?"whatsapp":"website",te=Se==="whatsapp"?le:Oe,_e=Se==="whatsapp"?Je:we;R({planName:Ee.subscription_plans.name||"Current Plan",ordersUsed:te,ordersLimit:_e||0,storeWhatsApp:ae.whatsapp_number}),P(!0),C(!1);return}}w(null),C(!1)}catch(ie){console.error("Error checking subscription:",ie),w("Unable to verify store subscription. Please try again later."),C(!1)}},pe=async()=>{try{if(a.length>0&&a[0].storeId){const ie=a[0].storeId,{data:ae}=await Y.from("stores").select("id, user_id, force_location_sharing").eq("id",ie).maybeSingle();if(!ae){f(!0),p(!1),console.log("No store found, enabling location by default");return}const{data:Ne}=await Y.from("subscriptions").select("plan_id, subscription_plans(enable_location_sharing)").eq("user_id",ae.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),ue=(Ne&&Ne.length>0?Ne[0]:null)?.subscription_plans?.enable_location_sharing||!1,qe=ae.force_location_sharing||!1;f(ue),p(qe),console.log("Location feature enabled:",ue,"forced:",qe,"for store:",ae.id)}else f(!1)}catch(ie){console.error("Error checking location feature:",ie),f(!1)}},K=(ie,ae)=>{g({latitude:ie,longitude:ae}),j(!1)};if(S)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-md mx-auto text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Checking availability..."})})}),s.jsx(Vu,{})]});if(v)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(BR,{className:"w-24 h-24 mx-auto mb-6 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Orders Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:v}),s.jsx(Ct,{to:k?`/${k}`:"/home",children:s.jsx(oe,{size:"lg",children:"Back to Home"})})]})}),s.jsx(Vu,{})]});if(a.length===0)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(BR,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to proceed to checkout"}),s.jsx(Ct,{to:k?`/${k}/products`:"/products",children:s.jsx(oe,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Vu,{})]});const ee=async ie=>{if(u(!0),m&&!y){E.current?.scrollIntoView({behavior:"smooth",block:"center"}),j(!0),u(!1);return}const ae={morning:"Morning (9 AM - 12 PM)",evening:"Evening (4 PM - 7 PM)",anytime:"Anytime"}[ie.deliveryTime];try{const Ne=a[0]?.storeId;if(!Ne||Ne.trim()===""){l({title:"Cart Error",description:"Your cart contains invalid items. Please clear your cart and add products again.",variant:"destructive"}),u(!1);return}const{data:Ee}=await Y.from("stores").select("id, user_id").eq("id",Ne).maybeSingle();if(!Ee)throw new Error("Store not found");const{data:ue}=await Y.from("subscriptions").select(`
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          status,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",Ee.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),qe=ue&&ue.length>0?ue[0]:null;if(qe){const Ge=new Date,Ze=qe.current_period_end?new Date(qe.current_period_end):null;if(Ze&&Ze<Ge)throw new Error("Your subscription has expired. Please upgrade your plan to continue accepting orders.");const Se=W!=="cod";if(qe?.subscription_plans)if(Se){const te=qe.subscription_plans.website_orders_limit,_e=qe.website_orders_used||0;if(te===null)throw new Error("Online ordering is not available in your current plan.");if(te>0&&_e>=te)throw new Error("Website order limit reached for this month. Please contact the store or try COD.")}else{const te=qe.subscription_plans.whatsapp_orders_limit,_e=qe.whatsapp_orders_used||0;if(te===null)throw new Error("WhatsApp ordering is not available in your current plan.");if(te>0&&_e>=te)throw new Error("WhatsApp order limit reached for this month. Please try online payment.")}}const Je=`ORD${Date.now().toString().slice(-8)}`,le={store_id:Ee.id,order_number:Je,customer_name:ie.fullName,customer_phone:ie.phone,customer_email:ie.email||null,delivery_address:ie.address,delivery_landmark:ie.landmark||null,delivery_pincode:ie.pincode,delivery_time:ae,delivery_latitude:y?.latitude||null,delivery_longitude:y?.longitude||null,items:a,subtotal:i,delivery_charge:0,total:i,status:"new",payment_method:W,payment_status:"pending",payment_gateway:W==="cod"?"cod":W},{data:we,error:Oe}=await Y.from("orders").insert(le).select("id").single();if(Oe)throw Oe;if(W==="razorpay")await Q({orderId:we.id,orderNumber:Je,customerName:ie.fullName,customerEmail:ie.email,customerPhone:ie.phone,amount:i,currency:"INR"});else if(W==="phonepe")await de({orderId:we.id,orderNumber:Je,customerName:ie.fullName,customerEmail:ie.email,customerPhone:ie.phone,amount:i,currency:"INR"});else{const Ge={customerName:ie.fullName,phone:ie.phone,email:ie.email||void 0,address:ie.address,landmark:ie.landmark||void 0,pincode:ie.pincode,deliveryTime:ae,latitude:y?.latitude,longitude:y?.longitude,cart:a,subtotal:i,deliveryCharge:0,total:i},Ze=Ofe(Ge),Se=await Rfe(Ze,void 0,Ne);if(!Se.success){l({title:"WhatsApp Not Configured",description:Se.error,variant:"destructive"}),u(!1);return}l({title:"Order placed successfully!",description:"We'll contact you shortly on WhatsApp to confirm your order."}),o(),setTimeout(()=>{n(k?`/${k}`:"/home")},2e3)}u(!1)}catch(Ne){console.error("Checkout error:",Ne),l({title:"Order failed",description:Ne.message||"Failed to place order. Please try again.",variant:"destructive"}),u(!1)}},se=k?`/${k}`:"/home",B=k?`/${k}/cart`:"/cart";return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:k,storeId:a[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(Ct,{to:se,className:"hover:text-foreground",children:"Home"}),s.jsx(Nf,{className:"w-4 h-4"}),s.jsx(Ct,{to:B,className:"hover:text-foreground",children:"Cart"}),s.jsx(Nf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Checkout"})]}),s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Ww,{...Z,children:s.jsxs("form",{onSubmit:Z.handleSubmit(ee),className:"space-y-6",children:[s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(vr,{control:Z.control,name:"fullName",render:({field:ie})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Full Name *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Enter your full name",...ie})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:Z.control,name:"phone",render:({field:ie})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Phone Number *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"10-digit mobile number",...ie})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:Z.control,name:"email",render:({field:ie})=>s.jsxs(fr,{className:"md:col-span-2",children:[s.jsx(yr,{children:"Email (Optional)"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"your.email@example.com",...ie})}),s.jsx(Br,{})]})})]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(vr,{control:Z.control,name:"address",render:({field:ie})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Complete Address *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"House/Flat No., Street, Area",...ie})}),s.jsx(Br,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(vr,{control:Z.control,name:"landmark",render:({field:ie})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Landmark (Optional)"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Nearby location",...ie})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:Z.control,name:"pincode",render:({field:ie})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"PIN Code *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"6-digit PIN code",...ie})}),s.jsx(Br,{})]})})]}),s.jsx(vr,{control:Z.control,name:"deliveryTime",render:({field:ie})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Preferred Delivery Time *"}),s.jsx(hr,{children:s.jsxs(r8,{onValueChange:ie.onChange,defaultValue:ie.value,className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Wy,{value:"morning",id:"morning"}),s.jsx(Ce,{htmlFor:"morning",className:"flex-1 cursor-pointer font-normal",children:"Morning (9 AM - 12 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Wy,{value:"evening",id:"evening"}),s.jsx(Ce,{htmlFor:"evening",className:"flex-1 cursor-pointer font-normal",children:"Evening (4 PM - 7 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Wy,{value:"anytime",id:"anytime"}),s.jsx(Ce,{htmlFor:"anytime",className:"flex-1 cursor-pointer font-normal",children:"Anytime"})]})]})}),s.jsx(Br,{})]})}),d&&s.jsxs("div",{ref:E,className:`space-y-3 p-4 rounded-lg border transition-all duration-300 ${m&&!y?"animate-pulse-border":""} ${b?"animate-attention-shake border-destructive bg-destructive/5 shadow-lg shadow-destructive/20":"bg-card/50 backdrop-blur-sm hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Share Your Location"}),m?s.jsx(An.span,{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full bg-primary/10 text-primary border border-primary/20",initial:{scale:0,x:-10},animate:{scale:1,x:0},transition:{type:"spring",stiffness:500,damping:15},children:"Required"}):s.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground",children:"Optional"})]}),m&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"We need your location for accurate delivery"]}),s.jsx(jit,{onLocationSelect:K,enabled:d}),s.jsx(jX,{mode:"wait",children:y&&s.jsxs(An.div,{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 px-3 py-2 rounded-md",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:500,damping:25},children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Location captured successfully"]})}),s.jsx(jX,{children:b&&!y&&s.jsxs(An.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md border border-destructive/20",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Please share your location to continue - it's required for delivery"]})})]})]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),F.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"Loading payment options..."})}):s.jsx("div",{className:"space-y-3",children:F.map(ie=>s.jsxs(An.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},className:`relative cursor-pointer rounded-xl border-2 transition-all duration-300 overflow-hidden ${W===ie.id?"border-primary bg-gradient-to-br from-primary/10 via-primary/5 to-transparent shadow-lg shadow-primary/20":"border-border hover:border-primary/40 bg-card hover:shadow-md"}`,onClick:()=>V(ie.id),children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 sm:p-5",children:[s.jsxs("div",{className:`relative w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md transition-transform duration-300 ${W===ie.id?"scale-105":""} ${ie.color}`,children:[ie.id==="razorpay"&&s.jsx(In,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),ie.id==="phonepe"&&s.jsx(e9,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),ie.id==="cod"&&s.jsx(r9,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-lg tracking-tight",children:[ie.id==="razorpay"&&"Paynow",ie.id==="phonepe"&&"Paynow",ie.id==="cod"&&"Cash on Delivery"]}),(ie.id==="razorpay"||ie.id==="phonepe")&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure"]})]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground leading-tight",children:[ie.id==="razorpay"&&"Pay with cards, UPI, net banking & wallets",ie.id==="phonepe"&&"Pay with UPI, cards & bank accounts",ie.id==="cod"&&"Pay cash when your order arrives"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${W===ie.id?"border-primary bg-primary shadow-md":"border-muted-foreground/30 hover:border-primary/50"}`,children:W===ie.id&&s.jsx(An.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},className:"w-3 h-3 rounded-full bg-white"})})})]}),W===ie.id&&s.jsx(An.div,{layoutId:"payment-indicator",className:"absolute inset-0 rounded-xl border-2 border-primary pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30}})]},ie.id))}),W&&s.jsx(An.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-accent/50 rounded-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 text-primary flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsxs("span",{className:"text-muted-foreground",children:[W==="cod"&&"No advance payment required. Pay cash when your order is delivered.",(W==="razorpay"||W==="phonepe")&&"Your payment is secure and encrypted. Complete payment to confirm your order."]})]})})]})}),s.jsx(oe,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:c||X,children:X?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):s.jsx(s.Fragment,{children:W==="cod"?s.jsxs(s.Fragment,{children:[s.jsx(Qh,{className:"w-5 h-5 mr-2"}),"Place Order via WhatsApp"]}):s.jsxs(s.Fragment,{children:[s.jsx(In,{className:"w-5 h-5 mr-2"}),"Proceed to Payment"]})})})]})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(ke,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:a.map(ie=>s.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0",children:[s.jsx("img",{src:ie.productImage,alt:ie.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:ie.productName}),ie.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ie.variant}),s.jsxs("p",{className:"text-sm font-semibold text-primary",children:["",ie.price,"  ",ie.quantity]})]})]},`${ie.productId}-${ie.variant}`))}),s.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",a.reduce((ie,ae)=>ie+ae.quantity,0)," items)"]}),s.jsxs("span",{children:["",i]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",i]})]}),s.jsx("div",{className:"bg-accent p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[W==="razorpay"&&s.jsxs(s.Fragment,{children:[s.jsx(In,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via Razorpay"})]}),W==="phonepe"&&s.jsxs(s.Fragment,{children:[s.jsx(e9,{className:"w-4 h-4 text-purple-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via PhonePe"})]}),W==="cod"&&s.jsxs(s.Fragment,{children:[s.jsx(r9,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash on Delivery"})]}),!W&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select payment method"})]})})]})})})]})]}),s.jsx(Vu,{}),s.jsx(wn,{open:O,onOpenChange:P,children:s.jsxs(gn,{className:"sm:max-w-md",children:[s.jsxs(_n,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Ls,{className:"h-5 w-5"}),s.jsx(jn,{children:"Order Limit Reached"})]}),s.jsxs(ls,{className:"pt-3 space-y-3",children:[s.jsx("p",{className:"text-base",children:"This store has reached its monthly order limit"}),A&&s.jsxs("div",{className:"bg-accent p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"font-semibold",children:A.planName})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Orders Used:"}),s.jsxs("span",{className:"font-semibold",children:[A.ordersUsed," of ",A.ordersLimit]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The store owner needs to upgrade their plan to accept more orders."})]})]}),s.jsxs(Ma,{className:"flex-col sm:flex-row gap-2",children:[A?.storeWhatsApp&&s.jsxs(oe,{onClick:()=>{window.open(`https://wa.me/${A.storeWhatsApp}`,"_blank")},variant:"default",className:"w-full sm:w-auto",children:[s.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Contact Store Owner"]}),s.jsx(oe,{onClick:()=>{P(!1),n(k?`/${k}`:"/")},variant:"outline",className:"w-full sm:w-auto",children:"Back to Store"})]})]})}),s.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% { border-color: hsl(var(--border)); }
          50% { border-color: hsl(var(--primary) / 0.5); }
        }

        @keyframes attention-shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
          20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .animate-pulse-border {
          animation: pulse-border 2s ease-in-out infinite;
        }

        .animate-attention-shake {
          animation: attention-shake 0.6s ease-in-out;
        }
      `})]})};function TR(){const[e]=Ew(),t=ur(),[r,n]=_.useState("verifying"),[a,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[m,p]=_.useState(""),[y,g]=_.useState(!1),[v,w]=_.useState(!1),b=_.useRef(!1),j=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),E=async(k,D)=>{if(!b.current){b.current=!0;try{if(!await Pfe(D)){w(!0);return}const P=await o2(D),A=l2(P),R=encodeURIComponent(k);if(j){const F=/Android/i.test(navigator.userAgent),L=/iPhone|iPad|iPod/i.test(navigator.userAgent);if(F){const W=`intent://send/${A}#Intent;scheme=whatsapp;package=com.whatsapp;action=android.intent.action.SENDTO;S.android.intent.extra.TEXT=${R};end`;try{window.location.href=W}catch{window.location.href=`whatsapp://send?phone=${A}&text=${R}`}}else L?window.location.href=`whatsapp://send?phone=${A}&text=${R}`:window.location.href=`whatsapp://send?phone=${A}&text=${R}`;g(!0),setTimeout(()=>{w(!0)},3e3)}else{const F=`https://wa.me/${A}?text=${R}`;window.open(F,"_blank","noopener,noreferrer"),g(!0),w(!0)}}catch(O){console.error("WhatsApp auto-open error:",O),w(!0)}}};_.useEffect(()=>{(async()=>{const D=e.get("gateway"),O=e.get("orderId"),P=e.get("storeId"),A=e.get("storeSlug");if(f(P||""),p(A||""),!D||!O||!P){n("failed");return}try{let R=!1,F="";if(D==="razorpay"){const H=e.get("razorpayOrderId"),G=e.get("paymentId"),I=e.get("signature");if(!H||!G||!I)throw new Error("Missing Razorpay payment details");R=(await gst(H,G,I,P)).verified,F=G,R&&await Y.from("orders").update({payment_status:"completed",payment_id:G,payment_gateway:"razorpay",gateway_order_id:H,payment_response:{razorpay_payment_id:G,razorpay_order_id:H,razorpay_signature:I}}).eq("id",O)}if(!R){n("failed");return}const{data:L,error:W}=await Y.from("orders").select("*").eq("id",O).single();if(W||!L)throw new Error("Failed to fetch order details");const V=Ofe({customerName:L.customer_name,phone:L.customer_phone,email:L.customer_email,address:L.delivery_address,landmark:L.delivery_landmark,pincode:L.delivery_pincode,deliveryTime:L.delivery_time,latitude:L.delivery_latitude,longitude:L.delivery_longitude,cart:L.items,subtotal:L.subtotal,deliveryCharge:L.delivery_charge||0,total:L.total,paymentMethod:"online",paymentGateway:"Razorpay",transactionId:F,orderNumber:L.order_number});u(V),i(L.order_number),l(F),n("success"),setTimeout(()=>{E(V,P)},500)}catch(R){console.error("Payment processing error:",R),n("failed")}})()},[e]);const S=async()=>{if(!c||!d)return;const k=await o2(d),D=l2(k),O=encodeURIComponent(c);j?window.location.href=`whatsapp://send?phone=${D}&text=${O}`:window.open(`https://wa.me/${D}?text=${O}`,"_blank")},C=()=>{t(m?`/${m}`:"/home")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[r==="verifying"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx(Wt,{className:"h-20 w-20 text-blue-600 mx-auto animate-spin mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Payment"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your payment..."})]}),r==="success"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-white mb-4",children:s.jsx(ks,{className:"h-12 w-12 text-amber-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Payment Received"}),s.jsx("p",{className:"text-amber-100 text-lg",children:"Confirm on WhatsApp to complete your order"})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx(en,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-green-600 font-medium",children:"Payment"})]}),s.jsx("div",{className:"absolute left-[15%] right-[52%] top-5 h-1 bg-green-500"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center ring-4 ring-amber-200",style:{animation:"pop 2s ease-in-out infinite"},children:s.jsx(Un,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-amber-600 font-bold",children:"Confirm"})]}),s.jsx("div",{className:"absolute left-[52%] right-[15%] top-5 h-1 bg-gray-200"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(gc,{className:"w-6 h-6 text-gray-400"})}),s.jsx("span",{className:"text-xs mt-2 text-gray-400 font-medium",children:"Shipped"})]})]})}),s.jsxs("div",{className:"p-8 space-y-5",children:[s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Order Number"}),s.jsx("span",{className:"text-gray-900 font-bold",children:a})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Transaction ID"}),s.jsxs("span",{className:"text-gray-900 font-mono text-sm",children:[o.slice(0,20),"..."]})]})]}),!v&&y&&s.jsx("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-2xl p-5 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-800 font-medium",children:[s.jsx(Wt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Opening WhatsApp..."})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(oe,{onClick:S,size:"lg",className:"w-full h-16 text-lg font-bold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl transition-all duration-200 animate-[pop_2s_ease-in-out_infinite]",style:{animation:"pop 2s ease-in-out infinite"},children:[s.jsx("img",{src:"/whatsapp-icon.png",alt:"WhatsApp",className:"w-7 h-7 mr-3"}),"Confirm My Order"]}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Click to confirm order & send details via WhatsApp"})]}),s.jsx("style",{children:`
                @keyframes pop {
                  0%, 100% { transform: scale(1); }
                  50% { transform: scale(1.03); }
                }
              `}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("button",{onClick:C,className:"text-sm text-gray-400 hover:text-gray-600 underline",children:"Return to store"})})]})]}),r==="failed"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 mb-6",children:s.jsx(Kn,{className:"h-12 w-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue verifying your payment."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"If the amount was deducted from your account, please contact our support with your transaction details."}),s.jsxs(oe,{onClick:C,size:"lg",variant:"outline",className:"w-full",children:[s.jsx(oZ,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})]})})}const Cit=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState("monthly"),[c,u]=_.useState(null),d=ur(),{toast:f}=ss();_.useEffect(()=>{p(),m()},[]);const m=()=>{const w=document.createElement("script");w.src="https://checkout.razorpay.com/v1/checkout.js",w.async=!0,document.body.appendChild(w)},p=async()=>{try{n(!0),i(null);const{data:w,error:b}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price",{ascending:!0});if(b)throw b;t(w||[])}catch(w){console.error("Error fetching plans:",w),i("Failed to load pricing plans. Please try again later.")}finally{n(!1)}},y=w=>{const b=[];return w.max_products?b.push(`Up to ${w.max_products.toLocaleString()} products`):b.push("Unlimited products"),w.whatsapp_orders_limit!==null&&(w.whatsapp_orders_limit===0?b.push("Unlimited WhatsApp orders"):b.push(`${w.whatsapp_orders_limit.toLocaleString()} WhatsApp orders/month`)),w.website_orders_limit!==null&&(w.website_orders_limit===0?b.push("Unlimited website orders"):b.push(`${w.website_orders_limit.toLocaleString()} website orders/month`)),w.enable_location_sharing&&b.push("Location sharing for deliveries"),w.enable_analytics&&b.push("Advanced analytics dashboard"),w.enable_order_emails&&b.push("Email notifications"),w.trial_days>0&&b.push(`${w.trial_days}-day free trial`),b},g=async w=>{try{u(w.id);const{data:{user:b}}=await Y.auth.getUser();if(!b){d("/auth");return}const{data:j}=await Y.from("subscriptions").select("*").eq("user_id",b.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),E=j&&j.length>0?j[0]:null;if(E&&E.status==="active"){f({title:"Already subscribed",description:"You already have an active subscription",variant:"destructive"});return}const S=o==="yearly"&&w.yearly_price?w.yearly_price:w.monthly_price,{data:C,error:k}=await Y.functions.invoke("razorpay-payment",{body:{action:"create_order",plan_id:w.id,billing_cycle:o,user_id:b.id}});if(k||!C.success)throw new Error(C?.error||"Failed to create payment order");const{data:D}=await Y.from("profiles").select("full_name, email, phone").eq("user_id",b.id).maybeSingle(),O={key:C.key_id,amount:C.amount,currency:C.currency,name:"StoreBuilder",description:`${w.name} - ${o==="yearly"?"Yearly":"Monthly"} Subscription`,order_id:C.order_id,prefill:{name:D?.full_name||b.email,email:D?.email||b.email,contact:D?.phone||""},theme:{color:"#3B82F6"},handler:async function(A){console.log(" Payment completed, verifying...",{order_id:A.razorpay_order_id,payment_id:A.razorpay_payment_id});try{f({title:"Verifying payment...",description:"Please wait while we confirm your payment"});let R=0,F=null,L=null;for(;R<3;){const W=await Y.functions.invoke("razorpay-payment",{body:{action:"verify_payment",razorpay_order_id:A.razorpay_order_id,razorpay_payment_id:A.razorpay_payment_id,razorpay_signature:A.razorpay_signature,subscription_id:C.subscription_id,user_id:b.id}});if(F=W.data,L=W.error,!L&&F?.success){console.log(" Payment verified successfully");break}R++,console.warn(` Verification attempt ${R} failed, retrying...`),R<3&&await new Promise(V=>setTimeout(V,1e3*R))}if(L||!F?.success)throw console.error(" Payment verification failed after 3 attempts:",{error:L,data:F}),new Error(F?.error||"Payment verification failed");f({title:"Payment successful! ",description:"Your subscription has been activated. Redirecting..."}),setTimeout(()=>{d("/admin/dashboard")},1500)}catch(R){console.error(" Payment verification error:",R),f({title:"Payment verification failed",description:R.message||"Please contact support with your payment details",variant:"destructive"}),setTimeout(()=>{d("/admin/dashboard")},3e3)}finally{u(null)}},modal:{ondismiss:function(){u(null)}}};new window.Razorpay(O).open()}catch(b){console.error("Payment error:",b),f({title:"Payment failed",description:b.message||"Unable to process payment",variant:"destructive"})}finally{u(null)}};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"})});if(a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(lhe,{message:a,onRetry:p})});const v={"@context":"https://schema.org","@type":"WebPage",name:"Pricing Plans - DigitalDukandar",description:"Affordable e-commerce platform pricing for Indian businesses. Start with free 14-day trial. Plans starting from 299/month with unlimited products, WhatsApp integration & analytics.",url:"https://digitaldukandar.in/pricing"};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(HM,{children:[s.jsx("title",{children:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"title",content:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month. Unlimited products, WhatsApp orders, custom domain, analytics. No hidden fees. Cancel anytime."}),s.jsx("meta",{name:"keywords",content:"online store pricing India, e-commerce platform cost, affordable store builder, WhatsApp store pricing, small business e-commerce plans, digital store subscription India"}),s.jsx("link",{rel:"canonical",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{property:"og:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{name:"twitter:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-20 flex items-center justify-between",children:[s.jsxs(Ct,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-2xl blur-sm opacity-70 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-primary via-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all",children:s.jsx(Mv,{className:"w-6 h-6 text-primary-foreground"})})]}),s.jsx("span",{className:"font-playfair font-bold text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"StoreBuilder"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsx(Ct,{to:"/",children:s.jsx(oe,{variant:"ghost",size:"sm",children:"Back to Home"})}),s.jsx(Ct,{to:"/auth",children:s.jsxs(oe,{size:"sm",children:["Get Started",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Transparent Pricing"})}),s.jsx("h1",{className:"font-playfair text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6",children:"Choose Your Perfect Plan"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Simple, transparent pricing for your online store. Start free, upgrade as you grow."})]}),s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"inline-flex items-center gap-3 bg-muted p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>l("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>l("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Yearly",s.jsx(wt,{variant:"secondary",className:"ml-2 bg-primary/10 text-primary",children:"Save 20%"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(w=>{const b=o==="yearly"&&w.yearly_price?w.yearly_price:w.monthly_price,j=y(w);return s.jsxs(ke,{className:`relative p-8 transition-all duration-300 bg-card ${w.is_popular?"border-2 border-primary shadow-2xl scale-105":"border hover:shadow-lg hover:-translate-y-1"}`,children:[w.is_popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx(wt,{className:"bg-primary text-primary-foreground px-4 py-1.5 text-sm font-semibold shadow-lg",children:w.badge_text||"Most Popular"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold text-foreground mb-4 tracking-tight",children:w.name}),w.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:w.description}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[s.jsxs("span",{className:"text-5xl font-semibold text-foreground tracking-tight",children:["",b.toLocaleString()]}),s.jsxs("span",{className:"text-lg text-muted-foreground font-medium",children:["/",o==="monthly"?"month":"year"]})]}),o==="yearly"&&w.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Math.round(w.yearly_price/12).toLocaleString(),"/month billed annually"]})]}),s.jsx(oe,{size:"lg",className:`w-full font-semibold mb-8 ${w.is_popular?"shadow-lg":""}`,variant:w.is_popular?"default":"outline",onClick:()=>g(w),disabled:c===w.id,children:c===w.id?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Get Started",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-4",children:"Everything included:"}),j.map((E,S)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(nn,{className:"w-3 h-3 text-green-500"})}),s.jsx("span",{className:"text-sm text-foreground font-medium leading-relaxed",children:E})]},S))]})]},w.id)})}),s.jsx("div",{className:"mt-20 text-center",children:s.jsxs("div",{className:"inline-flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Secure payment processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Instant activation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Cancel anytime"})]})]})})]})}),s.jsx("footer",{className:"border-t border-border/50 bg-muted/20 py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:" 2024 StoreBuilder. All rights reserved."})})})]})};function Eit(){const e=ur(),{toast:t}=ss(),[r,n]=Ew(),[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1);_.useEffect(()=>{const y=r.get("ref");if(y&&(console.log("[Auth] Referral code captured:",y),sessionStorage.setItem("referral_code",y)),r.get("error")==="account_deleted"&&(u(!0),n({})),r.get("code")!==null){console.log("[Auth] OAuth callback detected - waiting for session to be established"),f(!0);return}Y.auth.getSession().then(async({data:{session:b}})=>{if(console.log("[Auth] Checking existing session:",b?"Found":"None"),b){l(!0),console.log("[Auth] Checking for helper with ID:",b.user.id);const{data:j,error:E}=await Y.from("helpers").select("*").eq("id",b.user.id).maybeSingle();if(console.log("[Auth] Helper query result:",{helperData:j,helperError:E}),j){console.log("[Auth] Helper found - redirecting to helper dashboard"),e("/helper/dashboard"),i(!1);return}const{data:S,error:C}=await Y.from("stores").select("*").eq("user_id",b.user.id).maybeSingle();console.log("[Auth] Store query error:",C),console.log("[Auth] Store found:",S?"Yes":"No",S),S?(console.log("[Auth] Redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),e("/onboarding/store-setup")),i(!1)}});const{data:{subscription:w}}=Y.auth.onAuthStateChange((b,j)=>{console.log("[Auth] Auth state changed:",b,j?"Session exists":"No session"),f(!1),b==="SIGNED_IN"&&j&&(l(!0),setTimeout(async()=>{try{console.log("[Auth] SIGNED_IN - Checking for helper with ID:",j.user.id);const{data:E,error:S}=await Y.from("helpers").select("*").eq("id",j.user.id).maybeSingle();if(console.log("[Auth] SIGNED_IN - Helper query result:",{helperData:E,helperError:S}),E){console.log("[Auth] Helper found - redirecting to helper dashboard"),t({title:"Welcome back!",description:"Redirecting to your helper dashboard."}),e("/helper/dashboard");return}const{data:C,error:k}=await Y.from("stores").select("*").eq("user_id",j.user.id).maybeSingle();console.log("[Auth] After sign in - Query error:",k),console.log("[Auth] After sign in - Store found:",C?"Yes":"No",C);const D=j.provider_token,O=j.provider_refresh_token;if(C&&D){console.log("[Auth] Saving Google Drive tokens to store");const P={google_access_token:D};if(O){const A=new Date(Date.now()+36e5);P.google_refresh_token=O,P.google_token_expiry=A.toISOString()}await Y.from("stores").update(P).eq("id",C.id)}C?(console.log("[Auth] Existing user - redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),t({title:"Welcome!",description:"Let's set up your store."}),e("/onboarding/store-setup"))}catch(E){console.error("[Auth] Error checking store:",E),t({variant:"destructive",title:"Error",description:"Failed to verify account. Please try again."})}},0))});return()=>w.unsubscribe()},[e,t]);const m=async()=>{try{i(!0),console.log("[Auth] Starting Google sign in...");const{error:y}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth`,scopes:"https://www.googleapis.com/auth/drive.file"}});y?(console.error("[Auth] Sign in error:",y),t({variant:"destructive",title:"Error",description:y.message})):console.log("[Auth] OAuth redirect initiated")}catch(y){console.error("[Auth] Unexpected error:",y),t({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},p=async()=>{try{i(!0);const{error:y}=await Y.auth.signOut();if(y)throw y;t({title:"Signed out",description:"You have been signed out successfully."}),window.location.reload()}catch(y){t({variant:"destructive",title:"Error",description:y.message})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-4",children:[c&&s.jsx(Yr,{variant:"destructive",className:"border-2 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vi,{className:"h-6 w-6 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(R5,{className:"text-lg font-semibold mb-2",children:"Account Deleted"}),s.jsx(Xr,{className:"text-base",children:"Your account has been deleted by the administrator. All your data has been removed from the system."})]}),s.jsx(oe,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>u(!1),children:s.jsx(Kn,{className:"h-5 w-5"})})]})}),s.jsxs(ke,{className:"w-full",children:[s.jsxs(Qe,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(jm,{size:48})}),s.jsx(et,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(Er,{className:"text-center",children:"Sign in to access your dashboard"})]}),s.jsx(Te,{className:"space-y-4",children:d?s.jsxs("div",{className:"text-center space-y-4 py-4",children:[s.jsx(Wt,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing sign in..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2 py-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"You're already signed in"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Redirecting to your dashboard..."})]}),s.jsx(oe,{onClick:p,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing out..."]}):"Sign out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(oe,{onClick:m,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}function Tit(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),m="superadmin.digitaldukandar.in";_.useEffect(()=>{const y=window.location.hostname,g=y.endsWith(".lovable.app")||y.endsWith(".lovable.dev")||y.endsWith(".lovableproject.com");!(y===m)&&!(y==="localhost"||y==="127.0.0.1")&&!g&&f(!0)},[]);const p=async y=>{y.preventDefault(),u(!0);try{const{data:g,error:v}=await Y.auth.signInWithPassword({email:r,password:a});if(v)throw v;if(!g.user)throw new Error("Login failed");const{data:w,error:b}=await Y.from("user_roles").select("role").eq("user_id",g.user.id).eq("role","super_admin");if(b)throw b;if(!w||w.length===0)throw await Y.auth.signOut(),new Error("You do not have super admin access");const{data:j}=await Y.from("profiles").select("full_name").eq("user_id",g.user.id).single();sessionStorage.setItem("superadmin_session",JSON.stringify({id:g.user.id,email:g.user.email,fullName:j?.full_name||"Super Admin",loginAt:new Date().toISOString()})),o&&localStorage.setItem("superadmin_remember","true"),t({title:"Login Successful",description:"Welcome back to Super Admin Panel"}),e("/superadmin/dashboard")}catch(g){console.error("Login error:",g),t({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials or insufficient permissions"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:s.jsxs(ke,{className:"w-full max-w-md",children:[s.jsxs(Qe,{className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(qf,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(et,{className:"text-3xl font-bold",children:"Super Admin"}),s.jsx(Er,{className:"mt-2",children:d?"Access Restricted":"Enter your credentials to access the admin panel"})]})]}),s.jsx(Te,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Unauthorized Domain Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This super admin panel can only be accessed from authorized domains."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current domain: ",s.jsx("span",{className:"font-mono",children:window.location.hostname})]})]}):s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"email",children:"Email Address"}),s.jsx(Ve,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:y=>n(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"password",children:"Password"}),s.jsx(Ve,{id:"password",type:"password",placeholder:"",value:a,onChange:y=>i(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"remember",checked:o,onCheckedChange:y=>l(y),disabled:c}),s.jsx(Ce,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(oe,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function Iv({className:e,...t}){return s.jsx("div",{className:ft("animate-pulse rounded-md bg-muted",e),...t})}function Ait(){const[e,t]=_.useState([]),[r,n]=_.useState(!0);_.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:o,error:l}=await Y.from("subscription_plans").select("id, name, enable_location_sharing, enable_analytics, enable_order_emails").order("display_order");if(l)throw l;t(o||[])}catch(o){Me({title:"Error",description:o.message,variant:"destructive"})}finally{n(!1)}},i=async(o,l,c)=>{try{const{error:u}=await Y.from("subscription_plans").update({[l]:c}).eq("id",o);if(u)throw u;Me({title:"Success",description:"Feature setting updated"}),a()}catch(u){Me({title:"Error",description:u.message,variant:"destructive"})}};return r?s.jsx(ke,{children:s.jsx(Te,{className:"p-6 text-center",children:s.jsx(Wt,{className:"h-8 w-8 animate-spin mx-auto"})})}):s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Feature Management"})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-6",children:e.map(o=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:o.name}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:`location-${o.id}`,className:"cursor-pointer",children:"Location Sharing"}),s.jsx(Gr,{id:`location-${o.id}`,checked:o.enable_location_sharing,onCheckedChange:l=>i(o.id,"enable_location_sharing",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:`analytics-${o.id}`,className:"cursor-pointer",children:"Analytics"}),s.jsx(Gr,{id:`analytics-${o.id}`,checked:o.enable_analytics,onCheckedChange:l=>i(o.id,"enable_analytics",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Order Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for new orders"})]}),s.jsx(Gr,{checked:o.enable_order_emails,onCheckedChange:l=>i(o.id,"enable_order_emails",l)})]})]})]},o.id))})})]})}function Pit(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(""),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(null),[m,p]=_.useState(!0);_.useEffect(()=>{(async()=>{const E=sessionStorage.getItem("superadmin_session");if(E){const D=JSON.parse(E);n(D.fullName),y();return}const{data:{user:S}}=await Y.auth.getUser();if(!S){e("/superadmin/login");return}const{data:C}=await Y.from("user_roles").select("role").eq("user_id",S.id).eq("role","super_admin");if(!C||C.length===0){t({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:k}=await Y.from("profiles").select("full_name, email").eq("user_id",S.id).single();n(k?.full_name||k?.email||S.email||"Super Admin"),y()})();const j=setInterval(y,6e4);return()=>clearInterval(j)},[e]);const y=async()=>{try{const{data:b}=await Y.from("profiles").select("created_at, user_id"),j=b?.length||0,{data:E}=await Y.from("user_roles").select("user_id").eq("role","super_admin"),S=new Set(E?.map(Fe=>Fe.user_id)||[]),C=(b||[]).filter(Fe=>!S.has(Fe.user_id)),k=C.length,D=new Date;D.setHours(0,0,0,0);const O=C.filter(Fe=>new Date(Fe.created_at)>=D).length,P=new Date;P.setDate(P.getDate()-30);const A=new Date;A.setDate(A.getDate()-7);const{data:R}=await Y.from("stores").select("id, user_id, last_admin_visit, created_at"),{data:F}=await Y.from("orders").select("store_id").gte("created_at",P.toISOString()),L=new Set(F?.map(Fe=>Fe.store_id)||[]),V=(R||[]).filter(Fe=>!S.has(Fe.user_id)&&(L.has(Fe.id)||Fe.last_admin_visit&&new Date(Fe.last_admin_visit)>=A)).length,H=(R||[]).filter(Fe=>!S.has(Fe.user_id)).length,G=H>0?V/H*100:0,I=new Date;I.setDate(1),I.setHours(0,0,0,0);const U=new Date(I);U.setMonth(U.getMonth()-1);const{data:X}=await Y.from("transactions").select("total_amount").eq("status","success").gte("created_at",I.toISOString()),z=X?.reduce((Fe,xe)=>Fe+(xe.total_amount||0),0)||0,{data:Z}=await Y.from("transactions").select("total_amount").eq("status","success").gte("created_at",U.toISOString()).lt("created_at",I.toISOString()),J=Z?.reduce((Fe,xe)=>Fe+(xe.total_amount||0),0)||0,Q=J>0?(z-J)/J*100:z>0?100:0,de=new Date;de.setDate(de.getDate()-60);const fe=C.filter(Fe=>new Date(Fe.created_at)>=P).length,pe=C.filter(Fe=>{const xe=new Date(Fe.created_at);return xe>=de&&xe<P}).length,K=pe>0?(fe-pe)/pe*100:fe>0?100:0;i({totalUsers:k,todayUsers:O,activeStores:V,activePercentage:G,monthlyRevenue:z,revenueGrowth:Q,newSignups:fe,signupGrowth:K});const{data:ee}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price"),{data:se}=await Y.from("subscriptions").select("plan_id, user_id, status").in("status",["trial","active"]),B=(se||[]).filter(Fe=>!S.has(Fe.user_id)),ie=new Map;B.forEach(Fe=>{const xe=ie.get(Fe.plan_id)||0;ie.set(Fe.plan_id,xe+1)});const ae=["bg-gray-500","bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"],Ne=B.length,Ee=(ee||[]).map((Fe,xe)=>{const He=ie.get(Fe.id)||0;return{plan:Fe.name,users:He,percentage:Ne>0?He/Ne*100:0,revenue:He*(Fe.monthly_price||0),color:ae[xe%ae.length]}});Ee.sort((Fe,xe)=>xe.users-Fe.users),l(Ee);const ue=[],qe=C.sort((Fe,xe)=>new Date(xe.created_at).getTime()-new Date(Fe.created_at).getTime()).slice(0,5),{data:Je}=await Y.from("profiles").select("user_id, email, full_name, created_at").in("user_id",qe.map(Fe=>Fe.user_id));Je?.forEach(Fe=>{ue.push({id:`signup-${Fe.user_id}`,type:"signup",description:`New user registered: ${Fe.full_name||"Unknown"}`,userEmail:Fe.email,timestamp:Fe.created_at,icon:"user-plus"})});const{data:le}=await Y.from("subscriptions").select(`
          id,
          user_id,
          status,
          created_at,
          updated_at,
          subscription_plans(name)
        `).order("updated_at",{ascending:!1}).limit(5),we=le?.map(Fe=>Fe.user_id)||[],{data:Oe}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",we),Ge=new Map(Oe?.map(Fe=>[Fe.user_id,Fe])||[]);le?.forEach(Fe=>{if(!S.has(Fe.user_id)){const xe=Ge.get(Fe.user_id);ue.push({id:`sub-${Fe.id}`,type:Fe.status==="active"?"upgrade":"subscription",description:`Subscription ${Fe.status}: ${Fe.subscription_plans?.name||"Plan"}`,userEmail:xe?.email||null,timestamp:Fe.updated_at,icon:"trending-up"})}}),ue.sort((Fe,xe)=>new Date(xe.timestamp).getTime()-new Date(Fe.timestamp).getTime()),u(ue.slice(0,10));const Ze=performance.now(),{data:Se}=await Y.from("profiles").select("user_id").limit(1),te=performance.now()-Ze,_e=te<100?"healthy":te<500?"degraded":"down",{data:he}=await Y.from("platform_settings").select("razorpay_key_id").single(),Re=he?.razorpay_key_id?"active":"inactive",{count:De}=await Y.from("orders").select("*",{count:"exact",head:!0});f({database:{status:_e,responseTime:Math.round(te)},api:{status:"operational",uptime:99.98},payment:{status:Re,provider:"Razorpay"},storage:{totalUsers:k,totalStores:H,totalOrders:De||0}}),p(!1)}catch(b){console.error("Dashboard load error:",b),t({variant:"destructive",title:"Error Loading Data",description:b.message}),p(!1)}},g=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")},v=b=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(b),w=b=>{const j=new Date,E=new Date(b),S=j.getTime()-E.getTime(),C=Math.floor(S/6e4),k=Math.floor(S/36e5),D=Math.floor(S/864e5);return C<1?"Just now":C<60?`${C}m ago`:k<24?`${k}h ago`:`${D}d ago`};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qf,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),s.jsx("span",{children:r})]})}),s.jsxs(hu,{align:"end",className:"w-56",children:[s.jsxs($n,{onClick:()=>window.open("/","_blank"),children:[s.jsx(ya,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),s.jsxs($n,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(np,{}),s.jsxs($n,{onClick:g,className:"text-destructive",children:[s.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:"w-64 border-r bg-card min-h-screen p-4",children:s.jsxs("nav",{className:"space-y-2",children:[s.jsxs(oe,{variant:"default",className:"w-full justify-start",children:[s.jsx(oZ,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/users"),children:[s.jsx(_i,{className:"mr-2 h-4 w-4"}),"Users & Stores"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/helpers"),children:[s.jsx(_i,{className:"mr-2 h-4 w-4"}),"Helper Management"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commissions"),children:[s.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Commission Management"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commission-settings"),children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Commission Settings"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/reports-analytics"),children:[s.jsx(jw,{className:"mr-2 h-4 w-4"}),"Reports & Analytics"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/subscription-plans"),children:[s.jsx(In,{className:"mr-2 h-4 w-4"}),"Subscription Plans"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/transactions"),children:[s.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Transactions"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/billing"),children:[s.jsx(In,{className:"mr-2 h-4 w-4"}),"Billing & Revenue"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/custom-domains"),children:[s.jsx(xm,{className:"mr-2 h-4 w-4"}),"Custom Domains"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/sitemaps"),children:[s.jsx(Kc,{className:"mr-2 h-4 w-4"}),"SEO & Sitemaps"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/marketplace"),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Marketplace"]}),s.jsxs(oe,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/settings"),children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})]})}),s.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m?Array(4).fill(0).map((b,j)=>s.jsx(Iv,{className:"h-32"},j)):a&&s.jsxs(s.Fragment,{children:[s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.totalUsers.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Dl,{className:"h-4 w-4 text-green-500"}),"+",a.todayUsers," today"]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Active Stores"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.activeStores.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(en,{className:"h-4 w-4 text-green-500"}),a.activePercentage.toFixed(1),"% active"]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:v(a.monthlyRevenue)}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Dl,{className:"h-4 w-4 text-green-500"}),"+",a.revenueGrowth,"% from last month"]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"New Signups (30 days)"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.newSignups}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Dl,{className:"h-4 w-4 text-green-500"}),"+",a.signupGrowth,"% growth"]})]})]})]})}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Subscriptions by Plan"})}),s.jsx(Te,{className:"space-y-4",children:m?s.jsx(Iv,{className:"h-40"}):o.length>0?s.jsxs(s.Fragment,{children:[o.map(b=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:b.plan}),s.jsxs("span",{className:"text-muted-foreground",children:[b.users," users (",b.percentage.toFixed(1),"%)",b.revenue>0&&` - ${v(b.revenue)}/mo`]})]}),s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${b.color} transition-all`,style:{width:`${Math.max(b.percentage,2)}%`}})})]},b.plan)),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Total Subscribers"}),s.jsxs("span",{className:"text-muted-foreground",children:[o.reduce((b,j)=>b+j.users,0)," users"]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Total MRR"}),s.jsx("span",{className:"text-muted-foreground",children:v(o.reduce((b,j)=>b+j.revenue,0))})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subscription plans available"})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Monthly Recurring Revenue"})}),s.jsxs(Te,{children:[m?s.jsx(Iv,{className:"h-64"}):s.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed rounded-lg",children:s.jsx("p",{className:"text-muted-foreground",children:"Revenue chart will be displayed here"})}),a&&s.jsxs("div",{className:"mt-4 flex gap-6 text-sm",children:[s.jsxs("span",{children:["Current MRR: ",s.jsx("strong",{children:v(a.monthlyRevenue)})]}),s.jsxs("span",{children:["ARR: ",s.jsx("strong",{children:v(a.monthlyRevenue*12)})]})]})]})]}),s.jsx(Ait,{}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Recent Activity"})}),s.jsx(Te,{children:m?s.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((b,j)=>s.jsx(Iv,{className:"h-16"},j))}):c.length>0?s.jsxs("div",{className:"space-y-4",children:[c.map(b=>s.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[s.jsx("div",{className:"p-2 bg-muted rounded-lg",children:s.jsx(s0e,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:b.description}),b.userEmail&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.userEmail})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:w(b.timestamp)})]},b.id)),s.jsxs(oe,{variant:"ghost",className:"w-full",children:["View All Activity",s.jsx(Nf,{className:"ml-2 h-4 w-4"})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"System Status"})}),s.jsx(Te,{children:m?s.jsx(Iv,{className:"h-32"}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.database.status==="healthy"?"bg-green-500":d.database.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Database"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.database.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.database.responseTime,"ms"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.api.status==="operational"?"bg-green-500":d.api.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"API"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.api.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.api.uptime,"% uptime"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.payment.status==="active"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Payment Gateway"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.payment.status}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.payment.provider})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Storage"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.storage.totalOrders.toLocaleString()," orders"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.storage.totalUsers," users, ",d.storage.totalStores," stores"]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString(),"  Auto-refresh every 60s"]})})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"System health data unavailable"})})]})]})]})]})}var AR={exports:{}},PR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wJ;function Oit(){if(wJ)return PR;wJ=1;var e=f2();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var p=m(),y=n({inst:{value:p,getSnapshot:m}}),g=y[0].inst,v=y[1];return i(function(){g.value=p,g.getSnapshot=m,c(g)&&v({inst:g})},[f,p,m]),a(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),o(p),p}function c(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return PR.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,PR}var _J;function Rit(){return _J||(_J=1,AR.exports=Oit()),AR.exports}var Dit=Rit();function Iit(){return Dit.useSyncExternalStore(Mit,()=>!0,()=>!1)}function Mit(){return()=>{}}var n8="Avatar",[Fit]=zs(n8),[Lit,Che]=Fit(n8),Ehe=_.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=_.useState("idle");return s.jsx(Lit,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(At.span,{...n,ref:t})})});Ehe.displayName=n8;var The="AvatarImage",Ahe=_.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Che(The,r),l=$it(n,i),c=Ss(u=>{a(u),o.onImageLoadingStatusChange(u)});return As(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(At.img,{...i,ref:t,src:n}):null});Ahe.displayName=The;var Phe="AvatarFallback",Ohe=_.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Che(Phe,r),[o,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(At.span,{...a,ref:t}):null});Ohe.displayName=Phe;function jJ(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $it(e,{referrerPolicy:t,crossOrigin:r}){const n=Iit(),a=_.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=_.useState(()=>jJ(i,e));return As(()=>{l(jJ(i,e))},[i,e]),As(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Rhe=Ehe,Dhe=Ahe,Ihe=Ohe;const Mhe=_.forwardRef(({className:e,...t},r)=>s.jsx(Rhe,{ref:r,className:ft("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Mhe.displayName=Rhe.displayName;const Bit=_.forwardRef(({className:e,...t},r)=>s.jsx(Dhe,{ref:r,className:ft("aspect-square h-full w-full",e),...t}));Bit.displayName=Dhe.displayName;const Fhe=_.forwardRef(({className:e,...t},r)=>s.jsx(Ihe,{ref:r,className:ft("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Fhe.displayName=Ihe.displayName;var cC="Tabs",[Uit]=zs(cC,[fx]),Lhe=fx(),[Vit,s8]=Uit(cC),$he=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kf(l),[f,m]=Ci({prop:n,onChange:a,defaultProp:i??"",caller:cC});return s.jsx(Vit,{scope:r,baseId:go(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(At.div,{dir:d,"data-orientation":o,...u,ref:t})})});$he.displayName=cC;var Bhe="TabsList",Uhe=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=s8(Bhe,r),o=Lhe(r);return s.jsx(y5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(At.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Uhe.displayName=Bhe;var Vhe="TabsTrigger",zhe=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=s8(Vhe,r),l=Lhe(r),c=Hhe(o.baseId,n),u=Ghe(o.baseId,n),d=n===o.value;return s.jsx(b5,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(At.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ht(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ht(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ht(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});zhe.displayName=Vhe;var qhe="TabsContent",Whe=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=s8(qhe,r),c=Hhe(l.baseId,n),u=Ghe(l.baseId,n),d=n===l.value,f=_.useRef(d);return _.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ca,{present:a||d,children:({present:m})=>s.jsx(At.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Whe.displayName=qhe;function Hhe(e,t){return`${e}-trigger-${t}`}function Ghe(e,t){return`${e}-content-${t}`}var zit=$he,Khe=Uhe,Yhe=zhe,Xhe=Whe;const od=zit,cu=_.forwardRef(({className:e,...t},r)=>s.jsx(Khe,{ref:r,className:ft("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));cu.displayName=Khe.displayName;const mn=_.forwardRef(({className:e,...t},r)=>s.jsx(Yhe,{ref:r,className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));mn.displayName=Yhe.displayName;const pn=_.forwardRef(({className:e,...t},r)=>s.jsx(Xhe,{ref:r,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pn.displayName=Xhe.displayName;function qit({subscription:e,open:t,onClose:r,onSuccess:n}){const[a,i]=_.useState(!1),[o,l]=_.useState(!0),c=async()=>{try{if(i(!0),console.log("Subscription object:",e),console.log("Subscription ID:",e?.id),!e?.id)throw new Error("Subscription ID is missing. Please refresh the page and try again.");const f=new Date,m=new Date;e.billing_cycle==="yearly"?m.setFullYear(m.getFullYear()+1):m.setMonth(m.getMonth()+1);const p={status:"active",current_period_start:f.toISOString(),current_period_end:m.toISOString(),next_billing_at:m.toISOString(),updated_at:new Date().toISOString()};o&&(p.whatsapp_orders_used=0,p.website_orders_used=0);const{error:y}=await Y.from("subscriptions").update(p).eq("id",e.id);if(y)throw y;Me({title:"Success",description:"Subscription renewed successfully"}),n(),r()}catch(f){console.error("Error renewing subscription:",f),Me({title:"Error",description:f.message||"Failed to renew subscription",variant:"destructive"})}finally{i(!1)}};if(!e)return null;const u=e.status==="expired"||e.status==="pending_payment",d={whatsapp:e.whatsapp_orders_used||0,website:e.website_orders_used||0};return s.jsx(wn,{open:t,onOpenChange:r,children:s.jsxs(gn,{className:"sm:max-w-[500px]",children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Renew Subscription"}),s.jsx(ls,{children:"Manually renew the subscription for this user"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Yr,{className:u?"border-red-500":"",children:[s.jsx(Vi,{className:"h-4 w-4"}),s.jsx(Xr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Plan:"}),s.jsx("span",{children:e.plan?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:"capitalize",children:e.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Current Period End:"}),s.jsx("span",{children:e.current_period_end?new Date(e.current_period_end).toLocaleDateString():"N/A"})]})]})})]}),s.jsx(Yr,{children:s.jsx(Xr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Current Order Usage:"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"WhatsApp Orders:"}),s.jsx("span",{className:"font-mono",children:d.whatsapp})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Website Orders:"}),s.jsx("span",{className:"font-mono",children:d.website})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-md border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"reset-counters",className:"font-medium",children:"Reset Order Counters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset WhatsApp and Website order counts to 0"})]}),s.jsx(Gr,{id:"reset-counters",checked:o,onCheckedChange:l})]}),s.jsxs(Yr,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[s.jsx(en,{className:"h-4 w-4 text-green-600"}),s.jsxs(Xr,{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"After Renewal:"}),s.jsxs("ul",{className:"text-green-800 dark:text-green-200 space-y-1",children:[s.jsx("li",{children:" Status will be set to 'active'"}),s.jsxs("li",{children:[" New period: ",new Date().toLocaleDateString()," -"," ",e.billing_cycle==="yearly"?new Date(Date.now()+365*24*60*60*1e3).toLocaleDateString():new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),o&&s.jsx("li",{children:" Order counters will be reset to 0"}),!o&&s.jsx("li",{children:" Order counters will remain unchanged"})]})]})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),s.jsxs(oe,{onClick:c,disabled:a,children:[a&&s.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Subscription"]})]})]})})}function Jhe({open:e,onOpenChange:t,userId:r,userEmail:n,currentSubscription:a,onSuccess:i}){const[o,l]=_.useState([]),[c,u]=_.useState(""),[d,f]=_.useState("monthly"),[m,p]=_.useState("trial"),[y,g]=_.useState(14),[v,w]=_.useState(!1);_.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:S,error:C}=await Y.from("subscription_plans").select("id, name, trial_days").eq("is_active",!0).order("display_order");if(C)throw C;l(S||[])}catch(S){Me({title:"Error",description:S.message,variant:"destructive"})}},j=S=>{u(S);const C=o.find(k=>k.id===S);C&&g(C.trial_days||14)},E=async()=>{if(!c){Me({title:"Error",description:"Please select a plan",variant:"destructive"});return}try{w(!0);const S=new Date;let C=new Date;m==="trial"?C.setDate(C.getDate()+y):m==="active"?d==="monthly"?C.setMonth(C.getMonth()+1):C.setFullYear(C.getFullYear()+1):C=new Date(S.getTime()-864e5);const k=m==="trial"?new Date(S.getTime()+y*864e5):null,D=m==="active"?new Date(C.getTime()):null,{data:O}=await Y.from("subscriptions").select("id").eq("user_id",r).maybeSingle(),P={plan_id:c,billing_cycle:d,status:m,current_period_start:S.toISOString(),current_period_end:C.toISOString(),trial_ends_at:k?.toISOString()||null,next_billing_at:D?.toISOString()||null,started_at:S.toISOString()};if(O){const{error:A}=await Y.from("subscriptions").update({...P,updated_at:S.toISOString()}).eq("id",O.id);if(A)throw A}else{const{error:A}=await Y.from("subscriptions").insert({user_id:r,...P});if(A)throw A}Me({title:"Success",description:`Subscription plan assigned to ${n}`}),i(),t(!1)}catch(S){Me({title:"Error",description:S.message,variant:"destructive"})}finally{w(!1)}};return s.jsx(wn,{open:e,onOpenChange:t,children:s.jsxs(gn,{className:"max-w-md",children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Assign Subscription Plan"}),s.jsxs(ls,{children:["Assign or update subscription plan for ",n,a&&s.jsxs("span",{className:"block mt-2 text-sm",children:["Current: ",a.plan.name," (",a.status,")"]})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Select Plan"}),s.jsxs(br,{value:c,onValueChange:j,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Choose a plan"})}),s.jsx(pr,{children:o.map(S=>s.jsx(Ye,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Status"}),s.jsxs(br,{value:m,onValueChange:p,children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"trial",children:"Trial"}),s.jsx(Ye,{value:"active",children:"Active"}),s.jsx(Ye,{value:"expired",children:"Expired"}),s.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Billing Cycle"}),s.jsxs(br,{value:d,onValueChange:f,children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"monthly",children:"Monthly"}),s.jsx(Ye,{value:"yearly",children:"Yearly"})]})]})]}),m==="trial"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Trial Days"}),s.jsx(Ve,{type:"number",value:y,onChange:S=>g(parseInt(S.target.value)),min:0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(oe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(oe,{onClick:E,disabled:v,children:v?"Assigning...":"Assign Plan"})]})]})})}function Wit({user:e,open:t,onClose:r,onRefresh:n}){const[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState("");_.useEffect(()=>{if(!e?.subscription)return;const g=()=>{const w=e.subscription.status==="trial"?e.subscription.trial_ends_at:e.subscription.current_period_end;if(!w)return"";const b=new Date().getTime(),E=new Date(w).getTime()-b;if(E<=0)return"Expired";const S=Math.floor(E/(1e3*60*60*24)),C=Math.floor(E%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(E%(1e3*60*60)/(1e3*60)),D=Math.floor(E%(1e3*60)/1e3);return`${S}d ${C}h ${k}m ${D}s`};f(g());const v=setInterval(()=>{f(g())},1e3);return()=>clearInterval(v)},[e?.subscription]);const m=g=>{navigator.clipboard.writeText(g),Me({title:"Copied",description:"Copied to clipboard"})},p=async()=>{try{console.log("Attempting to login as user:",e.id,e.email);const{data:g,error:v}=await Y.functions.invoke("login-as-user",{body:{user_id:e.id}});if(console.log("Edge function response:",{data:g,error:v}),v){if(console.error("Edge function error:",v),v.context?.body){const w=await v.context.text();console.error("Response body:",w);try{const b=JSON.parse(w);if(b.error)throw new Error(b.error)}catch(b){console.error("Could not parse response:",b)}}throw v}if(g?.error)throw console.error("Error from edge function:",g.error),new Error(g.error);if(g?.access_token){const{data:w}=await Y.auth.getSession();if(w.session){const b={...w.session,saved_at:Date.now(),user_id:w.session.user.id,reason:"impersonation"};localStorage.setItem("superadmin_session",JSON.stringify(b))}await Y.auth.setSession({access_token:g.access_token,refresh_token:g.refresh_token}),Me({title:"Success",description:`Logged in as ${e.email}`}),window.location.href="/admin/dashboard"}else throw new Error("No access token received from edge function")}catch(g){console.error("Login as user error:",g),Me({title:"Error",description:g.message||"Failed to login as user",variant:"destructive"})}},y=async()=>{if(!e.subscription){Me({title:"Error",description:"No active subscription to cancel",variant:"destructive"});return}if(confirm(`Are you sure you want to cancel the subscription for ${e.email}?

Plan: ${e.subscription.plan.name}
Status: ${e.subscription.status}

This action will cancel their subscription immediately.`))try{u(!0);const{error:v}=await Y.from("subscriptions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.subscription.id);if(v)throw v;Me({title:"Success",description:`Subscription cancelled for ${e.email}`}),n(),setTimeout(()=>{r()},1e3)}catch(v){console.error("Cancel subscription error:",v),Me({title:"Error",description:v.message||"Failed to cancel subscription",variant:"destructive"})}finally{u(!1)}};return s.jsxs(wn,{open:t,onOpenChange:r,children:[s.jsxs(gn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":void 0,children:[s.jsx(_n,{children:s.jsxs(jn,{children:["User Details - ",e.email]})}),s.jsxs(od,{defaultValue:"overview",className:"w-full",children:[s.jsxs(cu,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"overview",children:"Overview"}),s.jsx(mn,{value:"subscription",children:"Subscription"}),s.jsx(mn,{value:"store",children:"Store Details"}),s.jsx(mn,{value:"activity",children:"Activity Log"})]}),s.jsxs(pn,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Account Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-mono text-sm",children:[e.id.slice(0,8),"..."]}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>m(e.id),children:s.jsx(lc,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:e.full_name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:e.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),e.store?.whatsapp_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.whatsapp_number}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>m(e.store.whatsapp_number),children:s.jsx(lc,{className:"w-4 h-4"})})]})]})]})]}),e.store&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Store Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Slug"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.slug}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${e.store.slug}`,"_blank"),children:s.jsx(ya,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(oe,{onClick:p,children:[s.jsx(qf,{className:"w-4 h-4 mr-2"}),"Login as User"]}),s.jsxs(oe,{variant:"outline",children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),s.jsxs(oe,{variant:"outline",children:[s.jsx(wc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsxs(oe,{variant:"destructive",children:[s.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),s.jsx(pn,{value:"subscription",className:"space-y-6",children:e.subscription?s.jsxs(s.Fragment,{children:[d&&d!=="Expired"&&s.jsx("div",{className:`relative overflow-hidden rounded-lg border ${e.subscription.status==="trial"?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30"} backdrop-blur-sm`,children:s.jsxs("div",{className:"p-4 flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${e.subscription.status==="trial"?"bg-blue-500/20":"bg-green-500/20"}`,children:s.jsx(ks,{className:`w-6 h-6 ${e.subscription.status==="trial"?"text-blue-400":"text-green-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:e.subscription.status==="trial"?"Trial Period":"Active Subscription"}),s.jsx(wt,{variant:"outline",className:`text-xs ${e.subscription.status==="trial"?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"}`,children:e.subscription.status==="trial"?"Trial":"Paid"})]}),s.jsx("p",{className:"text-xl font-semibold mb-1",children:e.subscription.status==="trial"?`Ends in ${d}`:`Renews in ${d}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.subscription.status==="trial"?"Trial will expire on "+new Date(e.subscription.trial_ends_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Next billing on "+new Date(e.subscription.current_period_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Current Subscription"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Plan"}),s.jsx(wt,{variant:"outline",children:e.subscription.plan.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(wt,{className:e.subscription.status==="active"?"bg-green-500":e.subscription.status==="trial"?"bg-orange-500":"bg-gray-500",children:e.subscription.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing Cycle"}),s.jsx("p",{className:"font-medium capitalize",children:e.subscription.billing_cycle})]}),e.subscription.started_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Started On"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.started_at).toLocaleDateString()})]}),e.subscription.current_period_start&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period Start"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_start).toLocaleDateString()})]}),e.subscription.current_period_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period End"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_end).toLocaleDateString()})]}),e.subscription.trial_ends_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.trial_ends_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{onClick:()=>i(!0),variant:"default",children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]}),s.jsx(oe,{variant:"outline",onClick:()=>l(!0),children:"Change Plan"}),s.jsx(oe,{variant:"destructive",onClick:y,disabled:c,children:c?"Cancelling...":"Cancel Subscription"})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No active subscription"})})}),s.jsx(pn,{value:"store",className:"space-y-6",children:e.store?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Slug"}),s.jsx("p",{className:"font-medium",children:e.store.slug})]})]}),s.jsx(oe,{children:"Edit Store Settings"})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No store created"})})}),s.jsx(pn,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Activity log will be shown here"})})})]})]}),e.subscription&&s.jsx(qit,{subscription:e.subscription,open:a,onClose:()=>i(!1),onSuccess:n}),s.jsx(Jhe,{open:o,onOpenChange:l,userId:e.id,userEmail:e.email,currentSubscription:e.subscription,onSuccess:n})]})}function Hit({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(!1),d=async()=>{try{u(!0),Me({title:"Feature Not Available",description:"Account suspension requires database migration. Coming soon.",variant:"destructive"}),r()}catch(f){Me({title:"Error",description:f.message,variant:"destructive"})}finally{u(!1)}};return s.jsx(wn,{open:t,onOpenChange:r,children:s.jsxs(gn,{children:[s.jsx(_n,{children:s.jsx(jn,{children:"Suspend Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx(Vi,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Warning"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Suspending this account will prevent the user from logging in and make their store inaccessible."})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"reason",children:"Reason for Suspension"}),s.jsxs(br,{value:a,onValueChange:i,children:[s.jsx(mr,{id:"reason",children:s.jsx(wr,{placeholder:"Select a reason"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"violation",children:"Policy Violation"}),s.jsx(Ye,{value:"non-payment",children:"Non-payment"}),s.jsx(Ye,{value:"fraud",children:"Fraudulent Activity"}),s.jsx(Ye,{value:"spam",children:"Spam"}),s.jsx(Ye,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"notes",children:"Internal Notes"}),s.jsx(Na,{id:"notes",placeholder:"Add any additional notes about this suspension...",value:o,onChange:f=>l(f.target.value),rows:4})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),s.jsx(oe,{variant:"destructive",onClick:d,disabled:!a||c,children:c?"Suspending...":"Confirm Suspend"})]})]})})}function Git({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=_.useState(""),[o,l]=_.useState(!1),c=async()=>{if(a!=="DELETE"){Me({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:u,error:d}=await Y.functions.invoke("delete-user-account",{body:{userId:e.id}});if(d)throw d;if(!u.success)throw new Error(u.error||"Failed to delete user account");Me({title:"Account Completely Deleted",description:`${e.email}'s account, all data, and authentication records have been permanently deleted`}),n(),r()}catch(u){Me({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsx(wn,{open:t,onOpenChange:r,children:s.jsxs(gn,{children:[s.jsx(_n,{children:s.jsx(jn,{children:"Delete Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(Ls,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Permanent Action"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. All data will be permanently deleted."})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"What will be deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Authentication credentials (cannot login anymore)"}),s.jsx("li",{children:"User account and profile"}),s.jsx("li",{children:"Store data and settings"}),s.jsx("li",{children:"All products"}),s.jsx("li",{children:"Subscription history"}),s.jsx("li",{children:"All transactions"}),s.jsx("li",{children:"Files and assets"})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"confirmation",children:["Type ",s.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm"]}),s.jsx(Ve,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here"})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(oe,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,children:o?"Deleting...":"Permanently Delete"})]})]})})}function Kit(){const e=ur(),[t,r]=_.useState([]),[n,a]=_.useState({totalUsers:0,activeStores:0,trialUsers:0,paidUsers:0,expired:0,cancelled:0,inactiveStores:0,noStore:0}),[i,o]=_.useState(!0),[l,c]=_.useState(""),[u,d]=_.useState("all"),[f,m]=_.useState("all"),[p,y]=_.useState("all"),[g,v]=_.useState("newest"),[w,b]=_.useState([]),[j,E]=_.useState(1),[S,C]=_.useState(50),[k,D]=_.useState(0),[O,P]=_.useState(1),[A,R]=_.useState(null),[F,L]=_.useState(!1),[W,V]=_.useState(!1),[H,G]=_.useState(!1),[I,U]=_.useState(!1),[X,z]=_.useState(!1);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){Z(),J();return}const{data:{user:Ee}}=await Y.auth.getUser();if(!Ee){Me({title:"Access Denied",description:"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}const{data:ue,error:qe}=await Y.from("user_roles").select("role").eq("user_id",Ee.id).eq("role","super_admin");if(qe||!ue||ue.length===0){Me({title:"Access Denied",description:qe?.message||"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}Z(),J()})()},[e]);const Z=async(ae=j)=>{try{o(!0);const{data:{session:Ne}}=await Y.auth.getSession();if(!Ne?.access_token)throw new Error("Not authenticated");const Ee=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/get-all-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne.access_token}`},body:JSON.stringify({page:ae,perPage:S})});if(!Ee.ok){const qe=await Ee.json();throw new Error(qe.error||"Failed to fetch users")}const ue=await Ee.json();r(ue.users||[]),D(ue.pagination?.totalCount||0),P(ue.pagination?.totalPages||1),E(ue.pagination?.page||1),ue.pagination?.totalCount!==void 0&&a(qe=>({...qe,totalUsers:ue.pagination.totalCount}))}catch(Ne){console.error("Error fetching users:",Ne),Me({title:"Error",description:Ne.message,variant:"destructive"})}finally{o(!1)}},J=async()=>{try{const{data:ae}=await Y.from("profiles").select("user_id"),{data:Ne}=await Y.from("user_roles").select("user_id").eq("role","super_admin"),Ee=new Set(Ne?.map(Re=>Re.user_id)||[]),ue=(ae||[]).filter(Re=>!Ee.has(Re.user_id)).length,{count:qe}=await Y.from("stores").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:Je}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","trial"),{count:le}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{count:we}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","expired"),{count:Oe}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","cancelled"),Ge=new Date;Ge.setDate(Ge.getDate()-60);const{data:Ze}=await Y.from("stores").select("id, last_admin_visit");let Se=0;if(Ze)for(const Re of Ze){const{data:De}=await Y.from("orders").select("id").eq("store_id",Re.id).gte("created_at",Ge.toISOString()).limit(1),Fe=De&&De.length>0,xe=Re.last_admin_visit&&new Date(Re.last_admin_visit)>=Ge;!Fe&&!xe&&Se++}const{data:te}=await Y.from("stores").select("user_id"),_e=new Set(te?.map(Re=>Re.user_id)||[]),he=(ae||[]).filter(Re=>!_e.has(Re.user_id)&&!Ee.has(Re.user_id)).length;a({totalUsers:ue,activeStores:qe||0,trialUsers:Je||0,paidUsers:le||0,expired:we||0,cancelled:Oe||0,inactiveStores:Se,noStore:he})}catch(ae){console.error("Error fetching stats:",ae)}},Q=t.filter(ae=>{const Ne=ae.email.toLowerCase().includes(l.toLowerCase())||ae.store?.name?.toLowerCase().includes(l.toLowerCase())||ae.store?.slug?.toLowerCase().includes(l.toLowerCase()),Ee=u==="all"||ae.subscription?.plan?.name?.toLowerCase()===u.toLowerCase(),ue=f==="all"||ae.subscription?.status===f;return Ne&&Ee&&ue&&(()=>{if(p==="all")return!0;if(p==="no-store")return!ae.store;if(p==="inactive"){if(!ae.store)return!1;const Je=new Date;Je.setDate(Je.getDate()-60);const le=ae.lastOrderDate&&new Date(ae.lastOrderDate)>=Je,we=ae.store.last_admin_visit&&new Date(ae.store.last_admin_visit)>=Je;return!le&&!we}if(p==="active"){if(!ae.store)return!1;const Je=new Date;Je.setDate(Je.getDate()-60);const le=ae.lastOrderDate&&new Date(ae.lastOrderDate)>=Je,we=ae.store.last_admin_visit&&new Date(ae.store.last_admin_visit)>=Je;return le||we}return!0})()}),fe=[...Q].sort((ae,Ne)=>{switch(g){case"newest":return new Date(Ne.created_at).getTime()-new Date(ae.created_at).getTime();case"oldest":return new Date(ae.created_at).getTime()-new Date(Ne.created_at).getTime();case"name":return(ae.full_name||ae.email).localeCompare(Ne.full_name||Ne.email);default:return 0}}),pe=ae=>{ae>=1&&ae<=O&&ae!==j&&Z(ae)},K=ae=>{b(ae?fe.map(Ne=>Ne.id):[])},ee=(ae,Ne)=>{b(Ne?[...w,ae]:w.filter(Ee=>Ee!==ae))},se=async()=>{try{const ae=await sp(()=>Promise.resolve().then(()=>qie),void 0),Ne=await Promise.all(Q.map(async Je=>{let le=null;if(Je.store?.id){const{data:we}=await Y.from("stores").select("whatsapp_number, description, hero_banner_url, logo_url, custom_domain, social_links").eq("id",Je.store.id).single();le=we}return{"User ID":Je.id,Email:Je.email,"Full Name":Je.full_name||"N/A",Phone:Je.phone||"N/A","Store Name":Je.store?.name||"No Store","Store Slug":Je.store?.slug||"N/A","Store WhatsApp":le?.whatsapp_number||"N/A","Store Description":le?.description||"N/A","Custom Domain":le?.custom_domain||"N/A","Store Logo":le?.logo_url||"N/A","Hero Banner":le?.hero_banner_url||"N/A","Social Links":le?.social_links?JSON.stringify(le.social_links):"N/A","Total Orders":Je.orderCount,"Total Revenue":`${Je.totalRevenue}`,"Last Order Date":Je.lastOrderDate?new Date(Je.lastOrderDate).toLocaleString():"No orders","Last Admin Visit":Je.store?.last_admin_visit?new Date(Je.store.last_admin_visit).toLocaleString():"No visits","Subscription Plan":Je.subscription?.plan?.name||"Free","Plan Status":Je.subscription?.status||"None","Billing Cycle":Je.subscription?.billing_cycle||"N/A","Trial Ends":Je.subscription?.trial_ends_at?new Date(Je.subscription.trial_ends_at).toLocaleDateString():"N/A","Joined Date":new Date(Je.created_at).toLocaleString()}})),Ee=ae.utils.json_to_sheet(Ne),ue=[{wch:36},{wch:30},{wch:20},{wch:15},{wch:25},{wch:20},{wch:15},{wch:40},{wch:25},{wch:50},{wch:50},{wch:30},{wch:12},{wch:15},{wch:20},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:20}];Ee["!cols"]=ue;const qe=ae.utils.book_new();ae.utils.book_append_sheet(qe,Ee,"Users"),ae.writeFile(qe,`users_export_${new Date().toISOString().split("T")[0]}.xlsx`),Me({title:"Success",description:`Exported ${Ne.length} users to Excel`})}catch(ae){Me({title:"Export Failed",description:ae.message,variant:"destructive"})}},B=async()=>{try{U(!0);const ae=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/sync-missing-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(!ae.ok)throw new Error("Failed to sync profiles");const Ne=await ae.json();Me({title:"Success",description:Ne.message+(Ne.count>0?` (${Ne.count} profiles synced)`:"")}),Ne.count>0&&Z()}catch(ae){Me({title:"Error",description:ae.message,variant:"destructive"})}finally{U(!1)}},ie=ae=>{if(!ae)return s.jsx(wt,{variant:"secondary",children:"No Plan"});const{status:Ne,trial_ends_at:Ee}=ae;if(Ne==="active")return s.jsx(wt,{className:"bg-green-500",children:"Active"});if(Ne==="trial"){const ue=Ee?Math.ceil((new Date(Ee).getTime()-new Date().getTime())/864e5):0;return s.jsxs(wt,{variant:"outline",className:"border-orange-500 text-orange-500",children:["Trial (",ue,"d left)"]})}else{if(Ne==="expired")return s.jsx(wt,{variant:"destructive",children:"Expired"});if(Ne==="cancelled")return s.jsx(wt,{variant:"secondary",children:"Cancelled"})}return s.jsx(wt,{variant:"secondary",children:Ne})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Users & Stores Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all users and their stores"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(oe,{children:[s.jsx(hZ,{className:"w-4 h-4 mr-2"}),"Manually Add User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.totalUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Stores"}),s.jsx("p",{className:"text-2xl font-bold",children:n.activeStores})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-yellow-500 cursor-pointer",onClick:()=>y("no-store"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No Store"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.noStore}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Not created store"})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.trialUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.paidUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),s.jsx("p",{className:"text-2xl font-bold",children:n.expired})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),s.jsx("p",{className:"text-2xl font-bold",children:n.cancelled})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-orange-500 cursor-pointer",onClick:()=>y("inactive"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:n.inactiveStores}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No activity in 60 days"})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ve,{placeholder:"Search by email, store name, or slug",value:l,onChange:ae=>c(ae.target.value),className:"w-full"})}),s.jsxs(br,{value:u,onValueChange:d,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"All Plans"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Plans"}),s.jsx(Ye,{value:"free",children:"Free"}),s.jsx(Ye,{value:"starter",children:"Starter"}),s.jsx(Ye,{value:"pro",children:"Pro"}),s.jsx(Ye,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(br,{value:f,onValueChange:m,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"All Status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Status"}),s.jsx(Ye,{value:"active",children:"Active"}),s.jsx(Ye,{value:"trial",children:"Trial"}),s.jsx(Ye,{value:"expired",children:"Expired"}),s.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(br,{value:p,onValueChange:ae=>y(ae),children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Activity"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Users"}),s.jsx(Ye,{value:"no-store",children:"No Store Created"}),s.jsx(Ye,{value:"active",children:"Active (recent orders)"}),s.jsx(Ye,{value:"inactive",children:"Inactive (60+ days)"})]})]}),s.jsxs(br,{value:g,onValueChange:v,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Sort by"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"newest",children:"Newest First"}),s.jsx(Ye,{value:"oldest",children:"Oldest First"}),s.jsx(Ye,{value:"name",children:"Name A-Z"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",onClick:()=>{Z(),J()},disabled:i,children:[s.jsx(ni,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh Data"]}),s.jsxs(oe,{variant:"outline",onClick:B,disabled:I,children:[s.jsx(ni,{className:`w-4 h-4 mr-2 ${I?"animate-spin":""}`}),"Sync Profiles"]}),s.jsxs(oe,{variant:"outline",onClick:se,children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),w.length>0&&s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:[w.length," users selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",size:"sm",children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Export Selected"]}),s.jsx(oe,{variant:"outline",size:"sm",children:"Change Plan"}),s.jsx(oe,{variant:"outline",size:"sm",children:"Suspend"}),s.jsxs(oe,{variant:"outline",size:"sm",children:[s.jsx(wc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>b([]),children:"Deselect All"})]})]}),s.jsxs("div",{className:"bg-card rounded-lg border",children:[s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-12",children:s.jsx(vi,{checked:fe.length>0&&w.length===fe.length,onCheckedChange:K})}),s.jsx(tt,{children:"User Info"}),s.jsx(tt,{children:"Store Info"}),s.jsx(tt,{children:"Revenue"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Created Date"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:i?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):fe.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"No users found"})}):fe.map(ae=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(vi,{checked:w.includes(ae.id),onCheckedChange:Ne=>ee(ae.id,Ne)})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mhe,{children:s.jsx(Fhe,{children:ae.email[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ae.email}),ae.full_name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:ae.full_name}),ae.phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.phone})]})]})}),s.jsx(Xe,{children:ae.store?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:ae.store.name}),(()=>{const Ne=new Date;Ne.setDate(Ne.getDate()-60);const Ee=ae.lastOrderDate&&new Date(ae.lastOrderDate)>=Ne,ue=ae.store.last_admin_visit&&new Date(ae.store.last_admin_visit)>=Ne;if(!Ee&&!ue){const Je=[ae.lastOrderDate,ae.store.last_admin_visit].filter(Boolean).map(we=>new Date(we)).sort((we,Oe)=>Oe.getTime()-we.getTime())[0],le=Je?Math.floor((Date.now()-Je.getTime())/(1e3*60*60*24)):null;return s.jsxs(wt,{variant:"outline",className:"border-orange-500 text-orange-500 text-xs",children:["Inactive ",le?`${le}d`:""]})}return null})()]}),s.jsxs("a",{href:`/${ae.store.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[ae.store.slug,s.jsx(ya,{className:"h-3 w-3"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[ae.orderCount," orders",ae.lastOrderDate&&s.jsxs(s.Fragment,{children:["  Last: ",a0(new Date(ae.lastOrderDate),{addSuffix:!0})]}),!ae.lastOrderDate&&s.jsx(s.Fragment,{children:"  No orders yet"})]}),ae.store.last_admin_visit&&s.jsxs("p",{children:["Admin visit: ",a0(new Date(ae.store.last_admin_visit),{addSuffix:!0})]}),!ae.store.last_admin_visit&&s.jsx("p",{children:"No admin visits tracked"})]})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(wt,{variant:"outline",className:"border-yellow-500 text-yellow-600 bg-yellow-50",children:"No Store Created"})})}),s.jsxs(Xe,{children:[s.jsxs("p",{className:"font-medium",children:["",ae.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"total revenue"})]}),s.jsxs(Xe,{children:[s.jsx(wt,{variant:"outline",children:ae.subscription?.plan?.name||"Free"}),ae.subscription&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ae.subscription.billing_cycle})]}),s.jsx(Xe,{children:ie(ae.subscription)}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(ae.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a0(new Date(ae.created_at),{addSuffix:!0})})]})}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{R(ae),L(!0)},children:s.jsx($s,{className:"w-4 h-4"})}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsx(oe,{variant:"ghost",size:"sm",children:s.jsx(h0e,{className:"w-4 h-4"})})}),s.jsxs(hu,{align:"end",children:[s.jsxs($n,{onClick:()=>{R(ae),L(!0)},children:[s.jsx($s,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs($n,{onClick:()=>{R(ae),z(!0)},children:[s.jsx(Xu,{className:"w-4 h-4 mr-2"}),"Assign Plan"]}),ae.store&&s.jsxs($n,{onClick:()=>window.open(`/${ae.store.slug}`,"_blank"),children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Visit Store"]}),s.jsxs($n,{onClick:async()=>{const Ne=prompt("Enter email subject:");if(!Ne)return;const Ee=prompt("Enter email message:");if(Ee)try{const{error:ue}=await Y.functions.invoke("send-user-email",{body:{to:ae.email,subject:Ne,message:Ee}});if(ue)throw ue;Me({title:"Email sent",description:`Email sent successfully to ${ae.email}`})}catch(ue){Me({title:"Error",description:ue.message,variant:"destructive"})}},children:[s.jsx(wc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx($n,{onClick:()=>{R(ae),V(!0)},children:"Suspend Account"}),s.jsxs($n,{onClick:()=>{R(ae),G(!0)},className:"text-destructive",children:[s.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},ae.id))})]}),O>1&&s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(j-1)*S+1,"-",Math.min(j*S,k)," of"," ",k," users"]}),s.jsx(H5,{children:s.jsxs(G5,{children:[s.jsx(lm,{children:s.jsx(K5,{onClick:()=>pe(j-1),className:j===1?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{const ae=[];let Ee=Math.max(1,j-Math.floor(2.5)),ue=Math.min(O,Ee+5-1);ue-Ee+1<5&&(Ee=Math.max(1,ue-5+1));for(let qe=Ee;qe<=ue;qe++)ae.push(s.jsx(lm,{children:s.jsx(Uw,{onClick:()=>pe(qe),isActive:j===qe,className:"cursor-pointer",children:qe})},qe));return ae})(),s.jsx(lm,{children:s.jsx(Y5,{onClick:()=>pe(j+1),className:j===O?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}),A&&s.jsxs(s.Fragment,{children:[s.jsx(Wit,{user:A,open:F,onClose:()=>{L(!1),R(null)},onRefresh:Z}),s.jsx(Hit,{user:A,open:W,onClose:()=>{V(!1),R(null)},onSuccess:Z}),s.jsx(Git,{user:A,open:H,onClose:()=>{G(!1),R(null)},onSuccess:Z}),s.jsx(Jhe,{userId:A.id,userEmail:A.email,currentSubscription:A.subscription,open:X,onOpenChange:ae=>{z(ae),ae||R(null)},onSuccess:Z})]})]})}function Yit({open:e,onOpenChange:t,helperId:r,helperName:n}){const[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(null),[d,f]=_.useState([]),[m,p]=_.useState({total_earned:0,store_referrals:0,product_sales:0,network_bonus:0}),[y,g]=_.useState(null),[v,w]=_.useState(null);_.useEffect(()=>{e&&r&&b()},[e,r]);const b=async()=>{i(!0);try{await Promise.all([j(),E(),S(),C()])}catch(A){console.error("Error loading helper data:",A),lt.error("Failed to load helper details")}finally{i(!1)}},j=async()=>{const{data:A,error:R}=await Y.from("helpers").select("*").eq("id",r).single();if(R)throw R;l(A)},E=async()=>{const{data:A,error:R}=await Y.from("helper_applications").select("*").eq("user_id",r).single();if(R){console.warn("No application found for helper");return}if(u(A),A.recruited_by_helper_id){const{data:F}=await Y.from("helpers").select("full_name").eq("id",A.recruited_by_helper_id).single();F&&g(F.full_name)}if(A.approved_by_admin){const{data:F}=await Y.from("profiles").select("full_name").eq("user_id",A.approved_by_admin).single();F&&w(F.full_name)}},S=async()=>{const{data:A,error:R}=await Y.from("store_referrals").select(`
        store_id,
        store_owner_name,
        created_at,
        stores (
          name,
          slug
        )
      `).eq("helper_id",r);if(R){console.error("Error loading recruited stores:",R);return}const F=(A||[]).map(L=>({store_id:L.store_id,store_name:L.stores?.name||"Unknown Store",store_slug:L.stores?.slug||"",store_owner_name:L.store_owner_name,created_at:L.created_at}));f(F)},C=async()=>{const{data:A,error:R}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status").eq("earning_helper_id",r);if(R){console.error("Error loading commission data:",R);return}let F=0,L=0,W=0,V=0;(A||[]).forEach(H=>{const G=H.amount||0;F+=G,H.commission_type==="store_referral"?L+=G:H.commission_type==="product_sale"?W+=G:H.commission_type==="network_bonus"&&(V+=G)}),p({total_earned:F,store_referrals:L,product_sales:W,network_bonus:V})},k=(A,R)=>{navigator.clipboard.writeText(A),lt.success(`${R} copied to clipboard!`)},D=()=>{const A=`/helper/dashboard?impersonate=${r}`;window.open(A,"_blank")},O=()=>{lt.info("PDF export feature coming soon!")};if(a||!o)return s.jsx(wn,{open:e,onOpenChange:t,children:s.jsx(gn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper details..."})]})})})});const P=Math.floor((new Date().getTime()-new Date(o.created_at).getTime())/(1e3*60*60*24));return s.jsx(wn,{open:e,onOpenChange:t,children:s.jsxs(gn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_n,{children:s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(o0,{className:"h-5 w-5"}),"Helper Details - ",n]})}),s.jsxs(od,{defaultValue:"overview",className:"w-full",children:[s.jsxs(cu,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"overview",children:"Overview"}),s.jsx(mn,{value:"performance",children:"Performance"}),s.jsxs(mn,{value:"stores",children:["Recruited Stores (",d.length,")"]}),s.jsx(mn,{value:"activity",children:"Activity"})]}),s.jsxs(pn,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-sm flex items-center gap-2",children:[s.jsx(o0,{className:"h-4 w-4"}),"Personal Information"]})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:o.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:o.email}),s.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(o.email,"Email"),children:s.jsx(lc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:o.phone}),s.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(o.phone,"Phone"),children:s.jsx(lc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helper ID"}),s.jsx("p",{className:"font-mono text-sm",children:o.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),s.jsx(wt,{variant:o.status==="Active"?"default":"destructive",children:o.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono font-medium",children:o.referral_code}),s.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(o.referral_code,"Referral Code"),children:s.jsx(lc,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-sm flex items-center gap-2",children:[s.jsx(In,{className:"h-4 w-4"}),"Bank Account Details"]})}),s.jsx(Te,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Name"}),s.jsx("p",{className:"font-medium",children:c.bank_account_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_account_number}),s.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(c.bank_account_number,"Account Number"),children:s.jsx(lc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"IFSC Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_ifsc_code}),s.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k(c.bank_ifsc_code,"IFSC Code"),children:s.jsx(lc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:c.bank_name})]}),s.jsx("div",{className:"pt-2",children:s.jsx(wt,{variant:"outline",className:"bg-green-50",children:" Verified"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No bank details available"})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-sm flex items-center gap-2",children:[s.jsx(Kc,{className:"h-4 w-4"}),"Application Information"]})}),s.jsx(Te,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Applied On"}),s.jsx("p",{className:"font-medium text-sm",children:jr(new Date(c.created_at),"PPp")})]}),c.approved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved On"}),s.jsx("p",{className:"font-medium text-sm",children:jr(new Date(c.approved_at),"PPp")})]}),v&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved By"}),s.jsx("p",{className:"font-medium",children:v})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:c.why_helper||"Not provided"})]}),y&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recruited By"}),s.jsx("p",{className:"font-medium",children:y})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No application details available"})})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-sm",children:"Quick Statistics"})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",m.total_earned.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total Earned"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stores Recruited"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:P}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days Active"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[o.direct_commission_rate,"% / ",o.network_commission_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct / Network Rate"})]})]})})]})]}),s.jsxs(pn,{value:"performance",className:"space-y-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-sm flex items-center gap-2",children:[s.jsx(Dl,{className:"h-4 w-4"}),"Commission Breakdown"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(em,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Store Referrals"})]}),s.jsxs("span",{className:"font-bold text-blue-600",children:["",m.store_referrals.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Product Sales"})]}),s.jsxs("span",{className:"font-bold text-green-600",children:["",m.product_sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm",children:"Network Bonus"})]}),s.jsxs("span",{className:"font-bold text-purple-600",children:["",m.network_bonus.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2 border-primary",children:[s.jsx("span",{className:"font-semibold",children:"Total Earned"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",m.total_earned.toLocaleString()]})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-sm",children:"Status History"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[jr(new Date(o.created_at),"PPp"),v&&` (Approved by ${v})`]})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Application Received"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:jr(new Date(c.created_at),"PPp")})]})]})]})})]})]}),s.jsx(pn,{value:"stores",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(et,{className:"text-sm flex items-center gap-2",children:[s.jsx(em,{className:"h-4 w-4"}),"Recruited Stores (",d.length," Total)"]}),d.length>0&&s.jsxs(wt,{variant:"outline",children:["Avg. Commission: ",d.length>0?Math.round(m.store_referrals/d.length):0]})]})}),s.jsx(Te,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(em,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No recruited stores yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Helper hasn't referred any stores"})]}):s.jsx("div",{className:"space-y-3",children:d.map((A,R)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-semibold",children:[R+1,". ",A.store_name]}),s.jsx(wt,{variant:"outline",className:"text-xs",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Owner: ",A.store_owner_name," | Joined:"," ",jr(new Date(A.created_at),"PP")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>window.open(`/store/${A.store_id}`,"_blank"),children:[s.jsx($s,{className:"h-3 w-3 mr-1"}),"View Store"]}),A.store_slug&&s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>window.open(`https://${A.store_slug}.digitaldukandar.in`,"_blank"),children:[s.jsx(ya,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]})})},A.store_id))})})]})}),s.jsx(pn,{value:"activity",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-sm flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4"}),"Recent Activity"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(A=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsxs("p",{children:["Recruited store ",s.jsxs("span",{className:"font-semibold",children:['"',A.store_name,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:jr(new Date(A.created_at),"PPp")})]})]},A.store_id)),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Approved as helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.approved_at?jr(new Date(c.approved_at),"PPp"):"N/A"})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Applied for helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:jr(new Date(c.created_at),"PPp")})]})]})]})})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end mt-4 pt-4 border-t",children:[s.jsxs(oe,{variant:"outline",onClick:D,children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"View as Helper"]}),s.jsxs(oe,{variant:"outline",onClick:O,children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsx(oe,{variant:"outline",onClick:()=>t(!1),children:"Close"})]})]})})}function Xit(){const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState("pending"),[i,o]=_.useState(""),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState(!1),[p,y]=_.useState(!1),[g,v]=_.useState(!1),[w,b]=_.useState(!1),[j,E]=_.useState(!1),[S,C]=_.useState(null),[k,D]=_.useState(null),[O,P]=_.useState(""),[A,R]=_.useState({direct_rate:10,network_rate:5,reason:""});_.useEffect(()=>{F()},[]);const F=async()=>{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await L(),r(!1)},L=async()=>{await Promise.all([W(),V()])},W=async()=>{try{const{data:pe,error:K}=await Y.from("helper_applications").select("*").order("created_at",{ascending:!1});if(K)throw K;c(pe||[])}catch(pe){console.error("Error loading applications:",pe),lt.error("Failed to load applications")}},V=async()=>{try{const{data:pe,error:K}=await Y.from("helpers").select("*").order("created_at",{ascending:!1});if(K)throw K;d(pe||[])}catch(pe){console.error("Error loading helpers:",pe),lt.error("Failed to load helpers")}},G={total:l.filter(pe=>pe.application_status!=="Approved").length+u.length,pending:l.filter(pe=>pe.application_status==="Pending").length,approved:u.filter(pe=>pe.status==="Active").length,rejected:l.filter(pe=>pe.application_status==="Rejected").length,suspended:u.filter(pe=>pe.status==="Suspended").length},I=()=>{let pe=[];switch(n){case"pending":pe=l.filter(K=>K.application_status==="Pending").map(K=>({...K,type:"application"}));break;case"approved":pe=u.map(K=>({...K,type:"helper"}));break;case"rejected":pe=l.filter(K=>K.application_status==="Rejected").map(K=>({...K,type:"application"}));break;case"all":pe=[...l.filter(K=>K.application_status!=="Approved").map(K=>({...K,type:"application"})),...u.map(K=>({...K,type:"helper"}))];break}return i&&(pe=pe.filter(K=>K.full_name?.toLowerCase().includes(i.toLowerCase())||K.email?.toLowerCase().includes(i.toLowerCase())||K.phone?.includes(i))),pe},U=async pe=>{try{const{data:K,error:ee}=await Y.rpc("approve_helper_application",{p_application_id:pe.id});if(ee)throw console.error("Error calling approve RPC:",ee),new Error(ee.message||"Failed to approve helper");const se=K;if(!se?.success)throw console.error("Approve helper failed:",K),new Error(se?.error||"Approval operation failed");lt.success(`Helper approved! Referral code: ${se.referralCode}`),await L()}catch(K){console.error("Error approving application:",K),lt.error(K.message||"Failed to approve application")}},X=async()=>{if(!O.trim()||!S){lt.error("Please provide a rejection reason");return}try{const{error:pe}=await Y.from("helper_applications").update({application_status:"Rejected",rejection_reason:O}).eq("id",S.id);if(pe)throw pe;lt.success("Application rejected"),v(!1),P(""),C(null),await L()}catch(pe){console.error("Error rejecting application:",pe),lt.error("Failed to reject application")}},z=async pe=>{try{const{error:K}=await Y.from("helper_applications").update({application_status:"Pending",rejection_reason:null}).eq("id",pe.id);if(K)throw K;lt.success("Application moved to pending"),await L()}catch(K){console.error("Error reconsidering application:",K),lt.error("Failed to reconsider application")}},Z=async pe=>{try{const K=pe.status==="Active"?"Suspended":"Active",{error:ee}=await Y.from("helpers").update({status:K}).eq("id",pe.id);if(ee)throw ee;lt.success(`Helper ${K.toLowerCase()}`),await L()}catch(K){console.error("Error updating helper status:",K),lt.error("Failed to update helper status")}},J=async()=>{if(!(!S&&!k))try{const pe=S?.user_id||k?.id,K=S?"application":"helper";if(!pe){lt.error("Cannot delete: User ID not found");return}const{data:ee,error:se}=await Y.functions.invoke("delete-helper",{body:{userId:pe,deleteType:K}});if(se){if(se.message?.includes("BLOCKED")||se.message?.includes("store owner")){lt.error(` ${se.message}`,{duration:8e3}),b(!1);return}throw new Error(se.message||"Failed to delete")}if(!ee?.success){if(ee?.error?.includes("BLOCKED")||ee?.error?.includes("store owner")){lt.error(` ${ee.error}`,{duration:8e3}),b(!1);return}throw new Error(ee?.error||"Delete operation failed")}S?await Y.from("helper_applications").delete().eq("id",S.id):k&&await Y.from("helpers").delete().eq("id",k.id),lt.success("Deleted successfully"),b(!1),C(null),D(null),await L()}catch(pe){console.error("Error deleting:",pe),lt.error(pe.message||"Failed to delete")}},Q=async()=>{if(!A.reason||!k){lt.error("Please provide a reason for changing rates");return}try{const{error:pe}=await Y.from("helpers").update({direct_commission_rate:A.direct_rate,network_commission_rate:A.network_rate,updated_at:new Date().toISOString()}).eq("id",k.id);if(pe)throw pe;lt.success("Commission rates updated successfully"),E(!1),await L()}catch(pe){console.error("Error updating rates:",pe),lt.error("Failed to update commission rates")}},de=pe=>{let K="",ee="";if(pe.type==="application")switch(K=pe.application_status,K){case"Pending":ee="bg-yellow-500";break;case"Rejected":ee="bg-red-500";break;case"Approved":ee="bg-green-500";break;default:ee="bg-gray-500"}else switch(K=pe.status,K){case"Active":ee="bg-green-500";break;case"Suspended":ee="bg-orange-500";break;default:ee="bg-gray-500"}return s.jsx(wt,{className:ee,children:K})};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper management..."})]})});const fe=I();return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(_i,{className:"h-8 w-8"}),"Helper Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all helper applications and approved helpers in one place"})]}),s.jsx(oe,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("all"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full",children:s.jsx(_i,{className:"h-5 w-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:G.total})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("pending"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-full",children:s.jsx(Kc,{className:"h-5 w-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:G.pending})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("approved"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:s.jsx(Ns,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:G.approved})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("rejected"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 rounded-full",children:s.jsx(Kn,{className:"h-5 w-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:G.rejected})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-full",children:s.jsx(Aj,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:G.suspended})]})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Ve,{placeholder:"Search by name, email, or phone...",value:i,onChange:pe=>o(pe.target.value),className:"pl-10"})]})})}),s.jsxs(od,{value:n,onValueChange:a,className:"space-y-4",children:[s.jsxs(cu,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(mn,{value:"pending",className:"gap-2",children:[s.jsx(Kc,{className:"h-4 w-4"}),"Pending ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:G.pending})]}),s.jsxs(mn,{value:"approved",className:"gap-2",children:[s.jsx(Ns,{className:"h-4 w-4"}),"Approved ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:G.approved+G.suspended})]}),s.jsxs(mn,{value:"rejected",className:"gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),"Rejected ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:G.rejected})]}),s.jsxs(mn,{value:"all",className:"gap-2",children:[s.jsx(_i,{className:"h-4 w-4"}),"All ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:G.total})]})]}),s.jsx(pn,{value:"pending",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Kc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Applied On"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(pe=>{const K=pe;return s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:K.full_name}),s.jsx(Xe,{children:K.email}),s.jsx(Xe,{children:K.phone}),s.jsx(Xe,{children:jr(new Date(K.created_at),"PP")}),s.jsx(Xe,{children:de(pe)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{C(K),m(!0)},children:[s.jsx($s,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(oe,{size:"sm",variant:"default",onClick:()=>U(K),children:[s.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(oe,{size:"sm",variant:"destructive",onClick:()=>{C(K),v(!0)},children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(oe,{size:"sm",variant:"destructive",onClick:()=>{C(K),b(!0)},children:[s.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},K.id)})})]})})})})}),s.jsx(pn,{value:"approved",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No approved helpers"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Helper ID"}),s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Referral Code"}),s.jsx(tt,{children:"Commission Rates"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(pe=>{const K=pe;return s.jsxs(Nr,{children:[s.jsxs(Xe,{className:"font-mono",children:[K.id.slice(0,8),"..."]}),s.jsx(Xe,{className:"font-medium",children:K.full_name}),s.jsx(Xe,{children:K.email}),s.jsx(Xe,{children:K.phone}),s.jsx(Xe,{className:"font-mono",children:K.referral_code}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Direct: ",K.direct_commission_rate,"%"]}),s.jsxs("div",{children:["Network: ",K.network_commission_rate,"%"]})]})}),s.jsx(Xe,{children:de(pe)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(oe,{size:"sm",variant:K.status==="Active"?"destructive":"default",onClick:()=>Z(K),children:K.status==="Active"?s.jsxs(s.Fragment,{children:[s.jsx(Aj,{className:"h-4 w-4 mr-1"}),"Suspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(UR,{className:"h-4 w-4 mr-1"}),"Activate"]})}),s.jsx(oe,{size:"sm",variant:"destructive",onClick:()=>{D(K),b(!0)},children:s.jsx(Fn,{className:"h-4 w-4"})})]})})]},K.id)})})]})})})})}),s.jsx(pn,{value:"rejected",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Kn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No rejected applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Rejected On"}),s.jsx(tt,{children:"Reason"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(pe=>{const K=pe;return s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:K.full_name}),s.jsx(Xe,{children:K.email}),s.jsx(Xe,{children:K.phone}),s.jsx(Xe,{children:jr(new Date(K.created_at),"PP")}),s.jsx(Xe,{className:"max-w-xs truncate",children:K.rejection_reason||"No reason provided"}),s.jsx(Xe,{children:de(pe)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{C(K),m(!0)},children:[s.jsx($s,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(oe,{size:"sm",variant:"default",onClick:()=>z(K),children:[s.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Reconsider"]}),s.jsxs(oe,{size:"sm",variant:"destructive",onClick:()=>{C(K),b(!0)},children:[s.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},K.id)})})]})})})})}),s.jsx(pn,{value:"all",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_i,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No helpers or applications found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Type"}),s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Date"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(pe=>{const K=pe.type==="helper",ee=K?pe:null,se=K?null:pe;return s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(wt,{variant:"outline",children:K?"Helper":"Application"})}),s.jsx(Xe,{className:"font-medium",children:pe.full_name}),s.jsx(Xe,{children:pe.email}),s.jsx(Xe,{children:pe.phone}),s.jsx(Xe,{children:jr(new Date(pe.created_at),"PP")}),s.jsx(Xe,{children:de(pe)}),s.jsx(Xe,{className:"text-right",children:s.jsx("div",{className:"flex gap-2 justify-end",children:K?s.jsxs(s.Fragment,{children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{D(ee),y(!0)},children:[s.jsx($s,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{D(ee),R({direct_rate:ee.direct_commission_rate,network_rate:ee.network_commission_rate,reason:""}),E(!0)},children:s.jsx(Xu,{className:"h-4 w-4"})}),s.jsx(oe,{size:"sm",variant:ee.status==="Active"?"destructive":"default",onClick:()=>Z(ee),children:ee.status==="Active"?s.jsx(Aj,{className:"h-4 w-4"}):s.jsx(UR,{className:"h-4 w-4"})}),s.jsx(oe,{size:"sm",variant:"destructive",onClick:()=>{D(ee),b(!0)},children:s.jsx(Fn,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{C(se),m(!0)},children:s.jsx($s,{className:"h-4 w-4"})}),se.application_status==="Pending"&&s.jsxs(s.Fragment,{children:[s.jsx(oe,{size:"sm",variant:"default",onClick:()=>U(se),children:s.jsx(Ns,{className:"h-4 w-4"})}),s.jsx(oe,{size:"sm",variant:"destructive",onClick:()=>{C(se),v(!0)},children:s.jsx(Kn,{className:"h-4 w-4"})})]}),se.application_status==="Rejected"&&s.jsx(oe,{size:"sm",variant:"default",onClick:()=>z(se),children:s.jsx(Ns,{className:"h-4 w-4"})}),s.jsx(oe,{size:"sm",variant:"destructive",onClick:()=>{C(se),b(!0)},children:s.jsx(Fn,{className:"h-4 w-4"})})]})})})]},K?ee.id:se.id)})})]})})})})})]}),s.jsx(wn,{open:f,onOpenChange:m,children:s.jsxs(gn,{className:"max-w-2xl",children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Application Details"}),s.jsxs(ls,{children:[S?.full_name," - ",S?.email]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Full Name"}),s.jsx("p",{className:"text-sm",children:S.full_name})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Email"}),s.jsx("p",{className:"text-sm",children:S.email})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Phone"}),s.jsx("p",{className:"text-sm",children:S.phone})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Applied On"}),s.jsx("p",{className:"text-sm",children:jr(new Date(S.created_at),"PPP")})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:S.why_helper||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Bank Account Name"}),s.jsx("p",{className:"text-sm",children:S.bank_account_name})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Bank Name"}),s.jsx("p",{className:"text-sm",children:S.bank_name})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Account Number"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_account_number})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"IFSC Code"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_ifsc_code})]})]}),S.rejection_reason&&s.jsxs("div",{children:[s.jsx(Ce,{children:"Rejection Reason"}),s.jsx("p",{className:"text-sm mt-1 text-red-500",children:S.rejection_reason})]})]})]})}),s.jsx(wn,{open:g,onOpenChange:v,children:s.jsxs(gn,{children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Reject Application"}),s.jsxs(ls,{children:["Provide a reason for rejecting ",S?.full_name,"'s application"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Ce,{children:"Rejection Reason *"}),s.jsx(Na,{value:O,onChange:pe=>P(pe.target.value),placeholder:"Enter the reason for rejection...",className:"mt-2"})]})}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(oe,{variant:"destructive",onClick:X,children:"Reject Application"})]})]})}),s.jsx(wn,{open:j,onOpenChange:E,children:s.jsxs(gn,{children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Edit Commission Rates"}),s.jsxs(ls,{children:["Update commission rates for ",k?.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Direct Commission Rate (%)"}),s.jsx(Ve,{type:"number",value:A.direct_rate,onChange:pe=>R({...A,direct_rate:parseFloat(pe.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Network Commission Rate (%)"}),s.jsx(Ve,{type:"number",value:A.network_rate,onChange:pe=>R({...A,network_rate:parseFloat(pe.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Reason for Change *"}),s.jsx(Na,{value:A.reason,onChange:pe=>R({...A,reason:pe.target.value}),placeholder:"Explain why rates are being changed..."})]})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),s.jsx(oe,{onClick:Q,children:"Save Changes"})]})]})}),s.jsx(j0,{open:w,onOpenChange:b,children:s.jsxs(Am,{children:[s.jsxs(Pm,{children:[s.jsx(Rm,{children:" Permanently Delete?"}),s.jsxs(Dm,{children:["This will permanently delete"," ",s.jsx("strong",{children:S?.full_name||k?.full_name})," and ALL related data:",s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[k?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Helper account and profile"}),s.jsx("li",{children:"All store referrals"}),s.jsx("li",{children:"All commission records"}),s.jsx("li",{children:"All network connections"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Application record"}),s.jsx("li",{children:"Profile information"})]}),s.jsx("li",{children:"User authentication account"})]}),s.jsx("p",{className:"mt-3 font-bold text-destructive",children:"This action cannot be undone!"})]})]}),s.jsxs(Om,{children:[s.jsx(Mm,{children:"Cancel"}),s.jsx(Im,{onClick:J,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Permanently"})]})]})}),k&&s.jsx(Yit,{open:p,onOpenChange:y,helperId:k.id,helperName:k.full_name})]})})}function Jit(){const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[p,y]=_.useState(!1),[g,v]=_.useState("direct"),[w,b]=_.useState({payment_date:jr(new Date,"yyyy-MM-dd"),payment_reference:""}),[j,E]=_.useState({direct:{total:0,count:0,oldestDays:0},network:{total:0,count:0,oldestDays:0},paid:{total:0,count:0}});_.useEffect(()=>{S()},[]);const S=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await C(),r(!1)}catch(R){console.error("Error checking super admin access:",R),e("/superadmin/login")}},C=async()=>{try{const{data:R,error:F}=await Y.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("direct_commission_amount",0).order("created_at",{ascending:!0});if(F)throw F;const L=(R||[]).map(de=>({id:de.id,helper_name:de.helper?.full_name||"N/A",helper_id:de.helper?.id||"N/A",store_owner_name:de.store_referral?.store_owner_name||"N/A",plan_name:de.store_referral?.subscription_plan||"N/A",plan_amount:de.store_referral?.subscription_amount||0,commission_amount:de.direct_commission_amount,earned_date:de.created_at,days_pending:QS(new Date,new Date(de.created_at))}));a(L);const{data:W,error:V}=await Y.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("network_commission_amount",0).order("created_at",{ascending:!0});if(V)throw V;const H=(W||[]).map(de=>({id:de.id,helper_name:de.helper?.full_name||"N/A",helper_id:de.helper?.id||"N/A",store_owner_name:de.store_referral?.store_owner_name||"N/A",plan_name:de.store_referral?.subscription_plan||"N/A",plan_amount:de.store_referral?.subscription_amount||0,commission_amount:de.network_commission_amount,earned_date:de.created_at,days_pending:QS(new Date,new Date(de.created_at))}));o(H);const{data:G,error:I}=await Y.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Paid").order("payment_date",{ascending:!1}).limit(100);if(I)throw I;const U=(G||[]).map(de=>({id:de.id,helper_name:de.helper?.full_name||"N/A",helper_id:de.helper?.id||"N/A",store_owner_name:de.store_referral?.store_owner_name||"N/A",plan_name:de.store_referral?.subscription_plan||"N/A",plan_amount:de.store_referral?.subscription_amount||0,commission_amount:(de.direct_commission_amount||0)+(de.network_commission_amount||0),earned_date:de.created_at,days_pending:0,payment_date:de.payment_date,payment_reference:de.payment_reference}));c(U);const X=L.reduce((de,fe)=>de+fe.commission_amount,0),z=L.length>0?Math.max(...L.map(de=>de.days_pending)):0,Z=H.reduce((de,fe)=>de+fe.commission_amount,0),J=H.length>0?Math.max(...H.map(de=>de.days_pending)):0,Q=U.reduce((de,fe)=>de+fe.commission_amount,0);E({direct:{total:X,count:L.length,oldestDays:z},network:{total:Z,count:H.length,oldestDays:J},paid:{total:Q,count:U.length}})}catch(R){console.error("Error loading commissions:",R),lt.error("Failed to load commissions")}},k=(R,F)=>{R==="direct"?d(F?n.map(L=>L.id):[]):m(F?i.map(L=>L.id):[])},D=(R,F,L)=>{R==="direct"?d(L?[...u,F]:u.filter(W=>W!==F)):m(L?[...f,F]:f.filter(W=>W!==F))},O=async()=>{const R=g==="direct"?u:f;if(R.length===0){lt.error("Please select at least one commission");return}if(!w.payment_reference){lt.error("Please enter payment reference");return}try{const{error:F}=await Y.from("network_commissions").update({commission_status:"Paid",payment_date:w.payment_date,payment_reference:w.payment_reference,updated_at:new Date().toISOString()}).in("id",R);if(F)throw F;lt.success(`Successfully marked ${R.length} commission(s) as paid`),y(!1),d([]),m([]),b({payment_date:jr(new Date,"yyyy-MM-dd"),payment_reference:""}),await C()}catch(F){console.error("Error marking commissions as paid:",F),lt.error("Failed to mark commissions as paid")}},P=R=>{try{let F=[],L="";R==="direct"?(F=n,L="Pending Direct Commissions"):R==="network"?(F=i,L="Pending Network Commissions"):(F=l,L="Paid Commissions");const W=F.map(I=>({"Helper Name":I.helper_name,"Helper ID":I.helper_id,"Store Owner":I.store_owner_name,Plan:I.plan_name,"Plan Amount":`${I.plan_amount.toLocaleString()}`,"Commission Amount":`${I.commission_amount.toLocaleString()}`,"Earned Date":jr(new Date(I.earned_date),"PPP"),...R==="paid"?{"Payment Date":I.payment_date?jr(new Date(I.payment_date),"PPP"):"N/A","Payment Reference":I.payment_reference||"N/A"}:{"Days Pending":I.days_pending}})),V=na.book_new(),H=na.json_to_sheet(W);na.book_append_sheet(V,H,L);const G=`${L.toLowerCase().replace(/ /g,"_")}_${jr(new Date,"yyyy-MM-dd")}.xlsx`;qm(V,G),lt.success("Export successful!")}catch(F){console.error("Error exporting:",F),lt.error("Failed to export data")}},A=()=>{try{const R=[{Category:"Pending Direct Commissions",Count:j.direct.count,Amount:`${j.direct.total.toLocaleString()}`},{Category:"Pending Network Commissions",Count:j.network.count,Amount:`${j.network.total.toLocaleString()}`},{Category:"Total Pending",Count:j.direct.count+j.network.count,Amount:`${(j.direct.total+j.network.total).toLocaleString()}`},{Category:"",Count:"",Amount:""},{Category:"Paid Commissions (Last 100)",Count:j.paid.count,Amount:`${j.paid.total.toLocaleString()}`}],F=na.book_new(),L=na.json_to_sheet(R);na.book_append_sheet(F,L,"Payment Report");const W=`payment_report_${jr(new Date,"yyyy-MM-dd")}.xlsx`;qm(F,W),lt.success("Payment report generated!")}catch(R){console.error("Error generating report:",R),lt.error("Failed to generate report")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commissions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Qa,{className:"h-8 w-8"}),"Commission Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage pending and paid commission payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",onClick:A,children:[s.jsx(Kc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsx(oe,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Direct"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",j.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count," payments"]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Network"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",j.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.network.count," payments"]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:["",(j.direct.total+j.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count+j.network.count," payments"]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid (Last 100)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",j.paid.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.paid.count," payments"]})]})})]}),s.jsxs(od,{defaultValue:"direct",onValueChange:R=>v(R),children:[s.jsxs(cu,{className:"grid w-full grid-cols-4",children:[s.jsxs(mn,{value:"direct",children:["Pending Direct (",j.direct.count,")"]}),s.jsxs(mn,{value:"network",children:["Pending Network (",j.network.count,")"]}),s.jsxs(mn,{value:"paid",children:["Paid History (",j.paid.count,")"]}),s.jsx(mn,{value:"reports",children:"Reports"})]}),s.jsx(pn,{value:"direct",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(et,{children:"Pending Direct Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",j.direct.total.toLocaleString()," | Oldest: ",j.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>P("direct"),disabled:n.length===0,children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(oe,{size:"sm",onClick:()=>{v("direct"),y(!0)},disabled:u.length===0,children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",u.length,")"]})]})]})}),s.jsx(Te,{className:"p-0",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending direct commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-12",children:s.jsx(vi,{checked:u.length===n.length,onCheckedChange:R=>k("direct",R)})}),s.jsx(tt,{children:"Helper"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Plan Amount"}),s.jsx(tt,{children:"Commission"}),s.jsx(tt,{children:"Earned Date"}),s.jsx(tt,{children:"Days Pending"})]})}),s.jsx(oa,{children:n.map(R=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(vi,{checked:u.includes(R.id),onCheckedChange:F=>D("direct",R.id,F)})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:R.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.helper_id})]})}),s.jsx(Xe,{children:R.store_owner_name}),s.jsx(Xe,{children:R.plan_name}),s.jsxs(Xe,{children:["",R.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",R.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:jr(new Date(R.earned_date),"PP")}),s.jsx(Xe,{children:s.jsxs(wt,{variant:R.days_pending>30?"destructive":"secondary",children:[R.days_pending," days"]})})]},R.id))})]})})})]})}),s.jsx(pn,{value:"network",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(et,{children:"Pending Network Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",j.network.total.toLocaleString()," | Oldest: ",j.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>P("network"),disabled:i.length===0,children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(oe,{size:"sm",onClick:()=>{v("network"),y(!0)},disabled:f.length===0,children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",f.length,")"]})]})]})}),s.jsx(Te,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending network commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-12",children:s.jsx(vi,{checked:f.length===i.length,onCheckedChange:R=>k("network",R)})}),s.jsx(tt,{children:"Helper"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Plan Amount"}),s.jsx(tt,{children:"Commission"}),s.jsx(tt,{children:"Earned Date"}),s.jsx(tt,{children:"Days Pending"})]})}),s.jsx(oa,{children:i.map(R=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(vi,{checked:f.includes(R.id),onCheckedChange:F=>D("network",R.id,F)})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:R.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.helper_id})]})}),s.jsx(Xe,{children:R.store_owner_name}),s.jsx(Xe,{children:R.plan_name}),s.jsxs(Xe,{children:["",R.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-blue-500",children:["",R.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:jr(new Date(R.earned_date),"PP")}),s.jsx(Xe,{children:s.jsxs(wt,{variant:R.days_pending>30?"destructive":"secondary",children:[R.days_pending," days"]})})]},R.id))})]})})})]})}),s.jsx(pn,{value:"paid",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(et,{children:"Paid Commissions (Last 100)"}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>P("paid"),disabled:l.length===0,children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsx(Te,{className:"p-0",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ks,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No paid commissions yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Helper"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Commission"}),s.jsx(tt,{children:"Earned Date"}),s.jsx(tt,{children:"Payment Date"}),s.jsx(tt,{children:"Reference"})]})}),s.jsx(oa,{children:l.map(R=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:R.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.helper_id})]})}),s.jsx(Xe,{children:R.store_owner_name}),s.jsx(Xe,{children:R.plan_name}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",R.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:jr(new Date(R.earned_date),"PP")}),s.jsx(Xe,{children:R.payment_date&&jr(new Date(R.payment_date),"PP")}),s.jsx(Xe,{className:"text-sm",children:R.payment_reference})]},R.id))})]})})})]})}),s.jsx(pn,{value:"reports",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Pending Commissions Summary"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",j.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count," payments"]})]}),s.jsx(ks,{className:"h-8 w-8 text-yellow-500"})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Network Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",j.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.network.count," payments"]})]}),s.jsx(ks,{className:"h-8 w-8 text-yellow-500"})]}),s.jsx("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-500",children:["",(j.direct.total+j.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs",children:[j.direct.count+j.network.count," payments"]})]})})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{children:"Payment Analytics"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Direct)"}),s.jsxs("span",{className:"font-semibold",children:[j.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Network)"}),s.jsxs("span",{className:"font-semibold",children:[j.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Paid (Last 100)"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",j.paid.total.toLocaleString()]})]})]}),s.jsxs(oe,{className:"w-full mt-4",onClick:A,children:[s.jsx(Kc,{className:"h-4 w-4 mr-2"}),"Download Full Report"]})]})]})]})})]})]}),s.jsx(wn,{open:p,onOpenChange:y,children:s.jsxs(gn,{children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Mark Commissions as Paid"}),s.jsxs(ls,{children:["Mark ",g==="direct"?u.length:f.length," selected commission(s) as paid"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Date"}),s.jsx(Ve,{type:"date",value:w.payment_date,onChange:R=>b({...w,payment_date:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Reference / Transaction ID *"}),s.jsx(Ve,{value:w.payment_reference,onChange:R=>b({...w,payment_reference:R.target.value}),placeholder:"Enter transaction ID or reference number"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:s.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[s.jsx(Ns,{className:"inline w-4 h-4 mr-2"}),'This will update the commission status to "Paid" and record the payment details.']})})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(oe,{onClick:O,children:"Mark as Paid"})]})]})})]})}var Ec="Accordion",Zit=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[a8,Qit,eot]=sx(Ec),[uC]=zs(Ec,[eot,sne]),i8=sne(),Zhe=ce.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(a8.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(sot,{...i,ref:t}):s.jsx(not,{...a,ref:t})})});Zhe.displayName=Ec;var[Qhe,tot]=uC(Ec),[eme,rot]=uC(Ec,{collapsible:!1}),not=ce.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Ci({prop:r,defaultProp:n??"",onChange:a,caller:Ec});return s.jsx(Qhe,{scope:e.__scopeAccordion,value:ce.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ce.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(eme,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(tme,{...o,ref:t})})})}),sot=ce.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Ci({prop:r,defaultProp:n??[],onChange:a,caller:Ec}),c=ce.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=ce.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return s.jsx(Qhe,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(eme,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(tme,{...i,ref:t})})})}),[aot,dC]=uC(Ec),tme=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=ce.useRef(null),c=Qt(l,t),u=Qit(r),f=Kf(a)==="ltr",m=ht(e.onKeyDown,p=>{if(!Zit.includes(p.key))return;const y=p.target,g=u().filter(D=>!D.ref.current?.disabled),v=g.findIndex(D=>D.ref.current===y),w=g.length;if(v===-1)return;p.preventDefault();let b=v;const j=0,E=w-1,S=()=>{b=v+1,b>E&&(b=j)},C=()=>{b=v-1,b<j&&(b=E)};switch(p.key){case"Home":b=j;break;case"End":b=E;break;case"ArrowRight":i==="horizontal"&&(f?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const k=b%w;g[k].ref.current?.focus()});return s.jsx(aot,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(a8.Slot,{scope:r,children:s.jsx(At.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),d2="AccordionItem",[iot,o8]=uC(d2),rme=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=dC(d2,r),o=tot(d2,r),l=i8(r),c=go(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(iot,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(one,{"data-orientation":i.orientation,"data-state":lme(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});rme.displayName=d2;var nme="AccordionHeader",sme=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=dC(Ec,r),i=o8(nme,r);return s.jsx(At.h3,{"data-orientation":a.orientation,"data-state":lme(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});sme.displayName=nme;var fM="AccordionTrigger",ame=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=dC(Ec,r),i=o8(fM,r),o=rot(fM,r),l=i8(r);return s.jsx(a8.ItemSlot,{scope:r,children:s.jsx(Zke,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});ame.displayName=fM;var ime="AccordionContent",ome=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=dC(Ec,r),i=o8(ime,r),o=i8(r);return s.jsx(Qke,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ome.displayName=ime;function lme(e){return e?"open":"closed"}var oot=Zhe,lot=rme,cot=sme,cme=ame,ume=ome;const uot=oot,dme=_.forwardRef(({className:e,...t},r)=>s.jsx(lot,{ref:r,className:ft("border-b",e),...t}));dme.displayName="AccordionItem";const fme=_.forwardRef(({className:e,children:t,...r},n)=>s.jsx(cot,{className:"flex",children:s.jsxs(cme,{ref:n,className:ft("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(zu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));fme.displayName=cme.displayName;const hme=_.forwardRef(({className:e,children:t,...r},n)=>s.jsx(ume,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ft("pb-4 pt-0",e),children:t})}));hme.displayName=ume.displayName;function dot(){const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[l,c]=_.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[u,d]=_.useState("monthly"),[f,m]=_.useState([]),[p,y]=_.useState({}),[g,v]=_.useState(!0),[w,b]=_.useState(!1),[j,E]=_.useState(!0),[S,C]=_.useState(!0),[k,D]=_.useState(500),[O,P]=_.useState("monthly"),[A,R]=_.useState("1st"),[F,L]=_.useState(-1),[W,V]=_.useState("HELP"),[H,G]=_.useState(!0),[I,U]=_.useState([]),[X,z]=_.useState(!1),[Z,J]=_.useState({}),[Q,de]=_.useState(!1),[fe,pe]=_.useState({commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]}),[K,ee]=_.useState(null),se=te=>{y(_e=>({..._e,[te]:{..._e[te],enabled:!_e[te].enabled}}))},B=(te,_e,he,Re)=>{y(De=>({...De,[te]:{...De[te],[_e]:{...De[te][_e],[he]:Re}}}))},ie=(te,_e,he)=>{let Re="";switch(te){case"networkMonthlyOnetimeValue":case"networkYearlyOnetimeValue":he==="percentage"&&(_e<0||_e>100)?Re="Percentage must be between 0-100%":he==="fixed"&&_e<0&&(Re="Amount cannot be negative");break;case"networkMonthlyRecurringValue":case"networkYearlyRecurringValue":he==="percentage"&&(_e<0||_e>100)?Re="Percentage must be between 0-100%":he==="fixed"&&_e<0&&(Re="Amount cannot be negative");break;case"networkMonthlyRecurringDuration":case"networkYearlyRecurringDuration":(_e<1||_e>24)&&(Re="Duration must be between 1-24 months");break;case"minPayoutThreshold":_e<0&&(Re="Minimum payout cannot be negative");break;case"referralCodePrefix":!_e||_e.trim()===""?Re="Referral code prefix is required":_e.length>6&&(Re="Prefix must be 6 characters or less");break;case"maxHelpersPerRecruiter":_e<-1&&(Re="Value must be -1 (unlimited) or greater");break}return J(De=>{const Fe={...De};return Re?Fe[te]=Re:delete Fe[te],Fe}),Re===""};_.useEffect(()=>{ae()},[]);const ae=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await ue(),r(!1)}catch(te){console.error("Error checking super admin access:",te),e("/superadmin/login")}},Ne=async()=>{try{const{data:te,error:_e}=await Y.from("subscription_plans").select("id, name, slug, monthly_price, yearly_price, is_active").eq("is_active",!0).order("display_order");if(_e)throw _e;const he=te||[];m(he);const Re={};he.forEach(De=>{Re[De.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),y(Re)}catch(te){console.error("Error fetching subscription plans:",te),lt.error("Failed to load subscription plans")}},Ee=async()=>{try{const{data:te,error:_e}=await Y.from("commission_audit").select("*").order("created_at",{ascending:!1}).limit(50);if(_e){if(_e.message.includes("does not exist")){console.info("Audit trail table not yet created"),U([]);return}throw _e}U(te||[])}catch(te){console.error("Error fetching audit records:",te),String(te).includes("does not exist")||lt.error("Failed to load audit trail")}},ue=async()=>{try{await Ne();const{data:te,error:_e}=await Y.from("commission_settings").select("*").eq("is_active",!0).single();if(_e){console.error("Error loading commission settings:",_e),lt.error("Failed to load commission settings");return}if(te){v(te.enable_multi_tier),b(te.auto_approve_applications),E(te.send_welcome_email),C(te.send_commission_notifications),D(te.min_payout_threshold),P(te.payment_schedule),R(te.payment_day),L(te.max_helpers_per_recruiter),V(te.referral_code_prefix),G(te.auto_generate_codes);const{data:he,error:Re}=await Y.from("network_commission").select("*").eq("settings_id",te.id);let De={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},Fe={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12};!Re&&he&&he.forEach(_t=>{const at={model:_t.commission_model,onetimeType:_t.onetime_type,onetimeValue:_t.onetime_value,recurringType:_t.recurring_type,recurringValue:_t.recurring_value,recurringDuration:_t.recurring_duration};_t.subscription_type==="monthly"?(o(at),De=at):_t.subscription_type==="yearly"&&(c(at),Fe=at)});const{data:xe,error:He}=await Y.from("plan_commission").select("*").eq("settings_id",te.id);let ot={};if(!He&&xe){const _t={};f.forEach(at=>{_t[at.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),xe.forEach(at=>{_t[at.plan_id]||(_t[at.plan_id]={enabled:at.enabled,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}});const Xt={model:at.commission_model,onetimeType:at.onetime_type,onetimeValue:at.onetime_value,recurringType:at.recurring_type,recurringValue:at.recurring_value,recurringDuration:at.recurring_duration};at.subscription_type==="monthly"?(_t[at.plan_id].monthly=Xt,_t[at.plan_id].enabled=at.enabled):at.subscription_type==="yearly"&&(_t[at.plan_id].yearly=Xt)}),ot=_t,y(_t)}lt.success("Settings loaded successfully"),ee({networkMonthly:De,networkYearly:Fe,planCommissions:JSON.parse(JSON.stringify(ot)),enableMultiTier:te.enable_multi_tier,autoApproveApplications:te.auto_approve_applications,sendWelcomeEmail:te.send_welcome_email,sendCommissionNotifications:te.send_commission_notifications,minPayoutThreshold:te.min_payout_threshold,paymentSchedule:te.payment_schedule,paymentDay:te.payment_day,maxHelpersPerRecruiter:te.max_helpers_per_recruiter,referralCodePrefix:te.referral_code_prefix,autoGenerateCodes:te.auto_generate_codes})}}catch(te){console.error("Error loading settings:",te),lt.error("Failed to load settings")}},qe=()=>{const te=[];return(i.model==="onetime"||i.model==="hybrid")&&(i.onetimeType==="percentage"&&(i.onetimeValue<0||i.onetimeValue>100)&&te.push("Network Monthly: One-time percentage must be between 0-100%"),i.onetimeType==="fixed"&&i.onetimeValue<0&&te.push("Network Monthly: One-time fixed amount cannot be negative")),(i.model==="recurring"||i.model==="hybrid")&&(i.recurringType==="percentage"&&(i.recurringValue<0||i.recurringValue>100)&&te.push("Network Monthly: Recurring percentage must be between 0-100%"),i.recurringType==="fixed"&&i.recurringValue<0&&te.push("Network Monthly: Recurring fixed amount cannot be negative"),(i.recurringDuration<1||i.recurringDuration>24)&&te.push("Network Monthly: Duration must be between 1-24 months")),(l.model==="onetime"||l.model==="hybrid")&&(l.onetimeType==="percentage"&&(l.onetimeValue<0||l.onetimeValue>100)&&te.push("Network Yearly: One-time percentage must be between 0-100%"),l.onetimeType==="fixed"&&l.onetimeValue<0&&te.push("Network Yearly: One-time fixed amount cannot be negative")),(l.model==="recurring"||l.model==="hybrid")&&(l.recurringType==="percentage"&&(l.recurringValue<0||l.recurringValue>100)&&te.push("Network Yearly: Recurring percentage must be between 0-100%"),l.recurringType==="fixed"&&l.recurringValue<0&&te.push("Network Yearly: Recurring fixed amount cannot be negative"),(l.recurringDuration<1||l.recurringDuration>24)&&te.push("Network Yearly: Duration must be between 1-24 months")),Object.entries(p).forEach(([_e,he])=>{if(he.enabled){const De=f.find(He=>He.id===_e)?.name||"Unknown Plan";(he.monthly.model==="onetime"||he.monthly.model==="hybrid")&&(he.monthly.onetimeType==="percentage"&&(he.monthly.onetimeValue<0||he.monthly.onetimeValue>100)&&te.push(`${De} (Monthly): One-time percentage must be between 0-100%`),he.monthly.onetimeType==="fixed"&&he.monthly.onetimeValue<0&&te.push(`${De} (Monthly): One-time fixed amount cannot be negative`)),(he.monthly.model==="recurring"||he.monthly.model==="hybrid")&&(he.monthly.recurringType==="percentage"&&(he.monthly.recurringValue<0||he.monthly.recurringValue>100)&&te.push(`${De} (Monthly): Recurring percentage must be between 0-100%`),he.monthly.recurringType==="fixed"&&he.monthly.recurringValue<0&&te.push(`${De} (Monthly): Recurring fixed amount cannot be negative`),(he.monthly.recurringDuration<1||he.monthly.recurringDuration>24)&&te.push(`${De} (Monthly): Duration must be between 1-24 months`)),(he.yearly.model==="onetime"||he.yearly.model==="hybrid")&&(he.yearly.onetimeType==="percentage"&&(he.yearly.onetimeValue<0||he.yearly.onetimeValue>100)&&te.push(`${De} (Yearly): One-time percentage must be between 0-100%`),he.yearly.onetimeType==="fixed"&&he.yearly.onetimeValue<0&&te.push(`${De} (Yearly): One-time fixed amount cannot be negative`)),(he.yearly.model==="recurring"||he.yearly.model==="hybrid")&&(he.yearly.recurringType==="percentage"&&(he.yearly.recurringValue<0||he.yearly.recurringValue>100)&&te.push(`${De} (Yearly): Recurring percentage must be between 0-100%`),he.yearly.recurringType==="fixed"&&he.yearly.recurringValue<0&&te.push(`${De} (Yearly): Recurring fixed amount cannot be negative`),(he.yearly.recurringDuration<1||he.yearly.recurringDuration>24)&&te.push(`${De} (Yearly): Duration must be between 1-24 months`));const Fe=he.monthly.model==="onetime"&&he.monthly.onetimeValue>0||he.monthly.model==="recurring"&&he.monthly.recurringValue>0||he.monthly.model==="hybrid"&&(he.monthly.onetimeValue>0||he.monthly.recurringValue>0),xe=he.yearly.model==="onetime"&&he.yearly.onetimeValue>0||he.yearly.model==="recurring"&&he.yearly.recurringValue>0||he.yearly.model==="hybrid"&&(he.yearly.onetimeValue>0||he.yearly.recurringValue>0);!Fe&&!xe&&te.push(`${De}: Commission is enabled but all values are 0 - helpers will not earn anything`)}}),k<0&&te.push("Minimum Payout Threshold cannot be negative"),(!W||W.trim()==="")&&te.push("Referral Code Prefix cannot be empty"),W.length>6&&te.push("Referral Code Prefix must be 6 characters or less"),F<-1&&te.push("Max Helpers Per Recruiter must be -1 (unlimited) or a positive number"),{isValid:te.length===0,errors:te}},Je=(te,_e)=>{const he={..._e};return te==="onetime"?(he.recurring_value=0,he.recurring_duration=12):te==="recurring"&&(he.onetime_value=0),he},le=()=>{if(!K)return{commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]};const te={commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]},_e=(Re,De)=>Re==="percentage"?`${De}%`:`${De}`,he={onetime:"One-time",recurring:"Recurring",hybrid:"Hybrid"};if(JSON.stringify(i)!==JSON.stringify(K.networkMonthly)&&(i.model!==K.networkMonthly.model&&te.commissionModel.push(`Monthly: ${he[K.networkMonthly.model]}  ${he[i.model]}`),i.onetimeValue!==K.networkMonthly.onetimeValue&&te.commissionRates.push(`Monthly One-time: ${_e(K.networkMonthly.onetimeType,K.networkMonthly.onetimeValue)}  ${_e(i.onetimeType,i.onetimeValue)}`),i.recurringValue!==K.networkMonthly.recurringValue&&te.commissionRates.push(`Monthly Recurring: ${_e(K.networkMonthly.recurringType,K.networkMonthly.recurringValue)}  ${_e(i.recurringType,i.recurringValue)}`),i.recurringDuration!==K.networkMonthly.recurringDuration&&te.commissionRates.push(`Monthly Duration: ${K.networkMonthly.recurringDuration}  ${i.recurringDuration} months`)),JSON.stringify(l)!==JSON.stringify(K.networkYearly)&&(l.model!==K.networkYearly.model&&te.commissionModel.push(`Yearly: ${he[K.networkYearly.model]}  ${he[l.model]}`),l.onetimeValue!==K.networkYearly.onetimeValue&&te.commissionRates.push(`Yearly One-time: ${_e(K.networkYearly.onetimeType,K.networkYearly.onetimeValue)}  ${_e(l.onetimeType,l.onetimeValue)}`),l.recurringValue!==K.networkYearly.recurringValue&&te.commissionRates.push(`Yearly Recurring: ${_e(K.networkYearly.recurringType,K.networkYearly.recurringValue)}  ${_e(l.recurringType,l.recurringValue)}`)),Object.keys(p).forEach(Re=>{const De=f.find(He=>He.id===Re);if(!De)return;const Fe=p[Re],xe=K.planCommissions?.[Re];xe&&(Fe.enabled!==xe.enabled&&te.featureToggles.push(`${De.name}: ${Fe.enabled?"Enabled":"Disabled"}`),JSON.stringify(Fe.monthly)!==JSON.stringify(xe.monthly)&&(Fe.monthly.model!==xe.monthly.model&&te.commissionModel.push(`${De.name} Monthly: ${he[xe.monthly.model]}  ${he[Fe.monthly.model]}`),Fe.monthly.onetimeValue!==xe.monthly.onetimeValue&&te.commissionRates.push(`${De.name} Monthly: ${_e(xe.monthly.onetimeType,xe.monthly.onetimeValue)}  ${_e(Fe.monthly.onetimeType,Fe.monthly.onetimeValue)}`)),JSON.stringify(Fe.yearly)!==JSON.stringify(xe.yearly)&&(Fe.yearly.onetimeValue!==xe.yearly.onetimeValue||Fe.yearly.recurringValue!==xe.yearly.recurringValue)&&te.commissionRates.push(`${De.name} Yearly: Commission updated`))}),g!==K.enableMultiTier&&te.featureToggles.push(`Multi-Tier Program: ${g?"Enabled":"Disabled"}`),w!==K.autoApproveApplications&&te.featureToggles.push(`Auto-approve Applications: ${w?"Enabled":"Disabled"}`),j!==K.sendWelcomeEmail&&te.featureToggles.push(`Welcome Email: ${j?"Enabled":"Disabled"}`),S!==K.sendCommissionNotifications&&te.featureToggles.push(`Commission Notifications: ${S?"Enabled":"Disabled"}`),k!==K.minPayoutThreshold&&te.paymentSettings.push(`Minimum Payout: ${K.minPayoutThreshold}  ${k}`),O!==K.paymentSchedule&&te.paymentSettings.push(`Schedule: ${K.paymentSchedule}  ${O}`),A!==K.paymentDay&&te.paymentSettings.push(`Payment Day: ${K.paymentDay}  ${A}`),F!==K.maxHelpersPerRecruiter){const Re=K.maxHelpersPerRecruiter===-1?"Unlimited":K.maxHelpersPerRecruiter,De=F===-1?"Unlimited":F;te.recruitmentSettings.push(`Max Helpers: ${Re}  ${De}`)}return W!==K.referralCodePrefix&&te.recruitmentSettings.push(`Code Prefix: ${K.referralCodePrefix}  ${W}`),te},we=async()=>{if(Object.keys(Z).length>0){lt.error("Please fix all field errors before saving",{description:"Check the red-highlighted fields above",duration:4e3});return}const _e=qe();if(!_e.isValid){_e.errors.forEach((he,Re)=>{setTimeout(()=>{lt.error(he,{duration:5e3})},Re*100)});return}a(!0);try{const{data:he}=await Y.from("commission_settings").select("id, version").eq("is_active",!0).single(),Re=he?he.version+1:1;he&&await Y.from("commission_settings").update({is_active:!1}).eq("id",he.id);const{data:De,error:Fe}=await Y.from("commission_settings").insert({version:Re,enable_multi_tier:g,auto_approve_applications:w,send_welcome_email:j,send_commission_notifications:S,min_payout_threshold:k,payment_schedule:O,payment_day:A,max_helpers_per_recruiter:F,referral_code_prefix:W,auto_generate_codes:H,is_active:!0}).select().single();if(Fe)throw Fe;const xe=Je(i.model,{onetime_type:i.onetimeType,onetime_value:i.onetimeValue,recurring_type:i.recurringType,recurring_value:i.recurringValue,recurring_duration:i.recurringDuration}),{error:He}=await Y.from("network_commission").insert({settings_id:De.id,subscription_type:"monthly",commission_model:i.model,...xe});if(He)throw He;const ot=Je(l.model,{onetime_type:l.onetimeType,onetime_value:l.onetimeValue,recurring_type:l.recurringType,recurring_value:l.recurringValue,recurring_duration:l.recurringDuration}),{error:_t}=await Y.from("network_commission").insert({settings_id:De.id,subscription_type:"yearly",commission_model:l.model,...ot});if(_t)throw _t;for(const[Xt,Mt]of Object.entries(p)){const jt=Je(Mt.monthly.model,{onetime_type:Mt.monthly.onetimeType,onetime_value:Mt.monthly.onetimeValue,recurring_type:Mt.monthly.recurringType,recurring_value:Mt.monthly.recurringValue,recurring_duration:Mt.monthly.recurringDuration}),{error:Pr}=await Y.from("plan_commission").insert({settings_id:De.id,plan_id:Xt,subscription_type:"monthly",enabled:Mt.enabled,commission_model:Mt.monthly.model,...jt});if(Pr)throw Pr;const tr=Je(Mt.yearly.model,{onetime_type:Mt.yearly.onetimeType,onetime_value:Mt.yearly.onetimeValue,recurring_type:Mt.yearly.recurringType,recurring_value:Mt.yearly.recurringValue,recurring_duration:Mt.yearly.recurringDuration}),{error:Sr}=await Y.from("plan_commission").insert({settings_id:De.id,plan_id:Xt,subscription_type:"yearly",enabled:Mt.enabled,commission_model:Mt.yearly.model,...tr});if(Sr)throw Sr}const at=le();pe(at),de(!0),lt.success(`Settings saved successfully! (Version ${Re})`),a(!1),ee({networkMonthly:{...i},networkYearly:{...l},planCommissions:JSON.parse(JSON.stringify(p)),enableMultiTier:g,autoApproveApplications:w,sendWelcomeEmail:j,sendCommissionNotifications:S,minPayoutThreshold:k,paymentSchedule:O,paymentDay:A,maxHelpersPerRecruiter:F,referralCodePrefix:W,autoGenerateCodes:H})}catch(he){console.error("Error saving settings:",he),lt.error("Failed to save settings"),a(!1)}};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})});const Oe=[{label:"1 month",value:1},{label:"3 months",value:3},{label:"6 months",value:6},{label:"12 months",value:12},{label:"24 months",value:24}],Ge=100,Ze=1e3,Se=(te,_e=!1)=>{const he=_e?Ze:Ge,Re=_e?l:i;if(Re.model==="onetime")return te===1?Re.onetimeType==="percentage"?he*Re.onetimeValue/100:Re.onetimeValue:0;if(Re.model==="recurring")return te<=Re.recurringDuration?Re.recurringType==="percentage"?he*Re.recurringValue/100:Re.recurringValue:0;{const De=te===1?Re.onetimeType==="percentage"?he*Re.onetimeValue/100:Re.onetimeValue:0,Fe=te>1&&te<=Re.recurringDuration+1?Re.recurringType==="percentage"?he*Re.recurringValue/100:Re.recurringValue:0;return De+Fe}};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(ba,{className:"h-8 w-8"}),"Commission Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure commission rates, payment settings, and helper program rules"})]}),s.jsx(oe,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Network Commission Settings"}),s.jsx(Er,{children:"Commission when helper recruits a another helper (multi-tier)"})]}),s.jsx(Te,{children:s.jsxs(od,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(cu,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(mn,{value:"monthly",children:"Monthly Subscription"}),s.jsx(mn,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(pn,{value:"monthly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-onetime",name:"network-monthly-model",checked:i.model==="onetime",onChange:()=>o(te=>({...te,model:"onetime"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-monthly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-recurring",name:"network-monthly-model",checked:i.model==="recurring",onChange:()=>o(te=>({...te,model:"recurring"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-monthly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-hybrid",name:"network-monthly-model",checked:i.model==="hybrid",onChange:()=>o(te=>({...te,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-monthly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(br,{value:i.onetimeType,onValueChange:te=>o(_e=>({..._e,onetimeType:te})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:i.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:i.onetimeValue,onChange:te=>{const _e=te.target.value===""?0:Number(te.target.value);o(he=>({...he,onetimeValue:_e})),ie("networkMonthlyOnetimeValue",_e,i.onetimeType)},onBlur:()=>ie("networkMonthlyOnetimeValue",i.onetimeValue,i.onetimeType),min:0,max:i.onetimeType==="percentage"?100:void 0,className:Z.networkMonthlyOnetimeValue?"border-red-500 focus-visible:ring-red-500":""}),Z.networkMonthlyOnetimeValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.networkMonthlyOnetimeValue]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store completes onboarding and first subscription payment"})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(br,{value:i.recurringType,onValueChange:te=>o(_e=>({..._e,recurringType:te})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:i.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:i.recurringValue,onChange:te=>{const _e=te.target.value===""?0:Number(te.target.value);o(he=>({...he,recurringValue:_e})),ie("networkMonthlyRecurringValue",_e,i.recurringType)},onBlur:()=>ie("networkMonthlyRecurringValue",i.recurringValue,i.recurringType),min:0,max:i.recurringType==="percentage"?100:void 0,className:Z.networkMonthlyRecurringValue?"border-red-500 focus-visible:ring-red-500":""}),Z.networkMonthlyRecurringValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.networkMonthlyRecurringValue]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Months)"}),s.jsxs(br,{value:i.recurringDuration.toString(),onValueChange:te=>o(_e=>({..._e,recurringDuration:parseInt(te)})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsx(pr,{children:Oe.map(te=>s.jsx(Ye,{value:te.value.toString(),children:te.label},te.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid monthly for the specified duration while store remains active"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(fc,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:["Earnings Preview (Store pays ",Ge,"/month):"]}),s.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 space-y-1",children:[s.jsxs("p",{children:[" Month 1: ",Se(1,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 2: ",Se(2,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 12: ",Se(12,!1).toFixed(2)]}),i.recurringDuration>12&&s.jsxs("p",{children:[" Month ",i.recurringDuration+1,": ",Se(i.recurringDuration+1,!1).toFixed(2)]})]})]})]})})]}),s.jsxs(pn,{value:"yearly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-onetime",name:"network-yearly-model",checked:l.model==="onetime",onChange:()=>c(te=>({...te,model:"onetime"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-yearly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-recurring",name:"network-yearly-model",checked:l.model==="recurring",onChange:()=>c(te=>({...te,model:"recurring"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-yearly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-hybrid",name:"network-yearly-model",checked:l.model==="hybrid",onChange:()=>c(te=>({...te,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-yearly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(br,{value:l.onetimeType,onValueChange:te=>c(_e=>({..._e,onetimeType:te})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:l.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:l.onetimeValue,onChange:te=>c(_e=>({..._e,onetimeValue:te.target.value===""?0:Number(te.target.value)})),min:0,max:l.onetimeType==="percentage"?100:void 0})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store purchases yearly subscription (higher to incentivize yearly sales)"})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(br,{value:l.recurringType,onValueChange:te=>c(_e=>({..._e,recurringType:te})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:l.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:l.recurringValue,onChange:te=>c(_e=>({..._e,recurringValue:te.target.value===""?0:Number(te.target.value)})),min:0,max:l.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Years)"}),s.jsxs(br,{value:l.recurringDuration.toString(),onValueChange:te=>c(_e=>({..._e,recurringDuration:parseInt(te)})),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsx(pr,{children:Oe.map(te=>s.jsxs(Ye,{value:te.value.toString(),children:[te.label," ",te.value>1?"years":"year"]},te.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid yearly for the specified duration while store renews subscription"})]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(fc,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:["Earnings Preview (Store pays ",Ze,"/year):"]}),s.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200 space-y-1",children:[s.jsxs("p",{children:[" Year 1: ",Se(1,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 2: ",Se(2,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 12: ",Se(12,!0).toFixed(2)]}),l.recurringDuration>12&&s.jsxs("p",{children:[" Year ",l.recurringDuration+1,": ",Se(l.recurringDuration+1,!0).toFixed(2)]})]})]})]})})]})]})})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Plan-Specific Commission"}),s.jsx(Er,{children:"Customize commission rates for specific subscription plans. When disabled, global settings apply."})]}),s.jsx(Te,{children:f.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(ba,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No subscription plans found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please create subscription plans first before configuring plan-specific commissions."})]}):s.jsx(uot,{type:"multiple",className:"w-full",children:f.map(te=>{const _e=p[te.id];return _e?s.jsxs(dme,{value:te.id,children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(fme,{className:"flex-1 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`font-semibold ${_e.enabled?"":"text-red-600 dark:text-red-400"}`,children:te.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",te.monthly_price,"/month  ",te.yearly_price,"/year"]})]})}),s.jsxs("div",{className:"flex items-center gap-2 pr-4",children:[s.jsx(Gr,{checked:_e.enabled,onCheckedChange:()=>se(te.id)}),s.jsx("span",{className:`text-sm ${_e.enabled?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:_e.enabled?"Enabled":"Disabled"})]})]}),s.jsx(hme,{children:_e.enabled?s.jsxs(od,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(cu,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(mn,{value:"monthly",children:"Monthly Subscription"}),s.jsx(mn,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(pn,{value:"monthly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(he=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${te.id}-monthly-${he}`,name:`${te.id}-monthly-model`,checked:_e.monthly.model===he,onChange:()=>B(te.id,"monthly","model",he),className:"h-4 w-4"}),s.jsxs(Ce,{htmlFor:`${te.id}-monthly-${he}`,className:"font-normal cursor-pointer",children:["Model ",he==="onetime"?"1":he==="recurring"?"2":"3",":",he==="onetime"?" One-time Only":he==="recurring"?" Recurring Only":" Hybrid"]})]},he))})]}),(_e.monthly.model==="onetime"||_e.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(br,{value:_e.monthly.onetimeType,onValueChange:he=>B(te.id,"monthly","onetimeType",he),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.monthly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.monthly.onetimeValue,onChange:he=>B(te.id,"monthly","onetimeValue",he.target.value===""?0:Number(he.target.value)),min:0,max:_e.monthly.onetimeType==="percentage"?100:void 0})]})]})]}),(_e.monthly.model==="recurring"||_e.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(br,{value:_e.monthly.recurringType,onValueChange:he=>B(te.id,"monthly","recurringType",he),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.monthly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.monthly.recurringValue,onChange:he=>B(te.id,"monthly","recurringValue",he.target.value===""?0:Number(he.target.value)),min:0,max:_e.monthly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Months)"}),s.jsxs(br,{value:_e.monthly.recurringDuration.toString(),onValueChange:he=>B(te.id,"monthly","recurringDuration",parseInt(he)),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsx(pr,{children:Oe.map(he=>s.jsx(Ye,{value:he.value.toString(),children:he.label},he.value))})]})]})]})]})]}),s.jsxs(pn,{value:"yearly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(he=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${te.id}-yearly-${he}`,name:`${te.id}-yearly-model`,checked:_e.yearly.model===he,onChange:()=>B(te.id,"yearly","model",he),className:"h-4 w-4"}),s.jsxs(Ce,{htmlFor:`${te.id}-yearly-${he}`,className:"font-normal cursor-pointer",children:["Model ",he==="onetime"?"1":he==="recurring"?"2":"3",":",he==="onetime"?" One-time Only":he==="recurring"?" Recurring Only":" Hybrid"]})]},he))})]}),(_e.yearly.model==="onetime"||_e.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(br,{value:_e.yearly.onetimeType,onValueChange:he=>B(te.id,"yearly","onetimeType",he),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.yearly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.yearly.onetimeValue,onChange:he=>B(te.id,"yearly","onetimeValue",he.target.value===""?0:Number(he.target.value)),min:0,max:_e.yearly.onetimeType==="percentage"?100:void 0})]})]})]}),(_e.yearly.model==="recurring"||_e.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(br,{value:_e.yearly.recurringType,onValueChange:he=>B(te.id,"yearly","recurringType",he),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ye,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.yearly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.yearly.recurringValue,onChange:he=>B(te.id,"yearly","recurringValue",he.target.value===""?0:Number(he.target.value)),min:0,max:_e.yearly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Years)"}),s.jsxs(br,{value:_e.yearly.recurringDuration.toString(),onValueChange:he=>B(te.id,"yearly","recurringDuration",parseInt(he)),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsx(pr,{children:Oe.map(he=>s.jsxs(Ye,{value:he.value.toString(),children:[he.label," ",he.value>1?"years":"year"]},he.value))})]})]})]})]})]})]}):s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-900 dark:text-red-100 font-semibold",children:" Commission Disabled"}),s.jsxs("p",{className:"text-red-700 dark:text-red-300 text-sm mt-2",children:["Helpers will receive ",s.jsx("strong",{children:"NO commission"})," for recruiting store owners on this plan. Enable commission above to set rates."]})]})})]},te.id):null})})})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Feature Controls"}),s.jsx(Er,{children:"Enable or disable helper program features"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Enable Multi-Tier Helper Program"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow helpers to recruit other helpers and earn network commissions"})]}),s.jsx(Gr,{checked:g,onCheckedChange:v})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Auto-approve Helper Applications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve all helper applications without manual review"})]}),s.jsx(Gr,{checked:w,onCheckedChange:b})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Send Helper Welcome Email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send welcome email when helper application is approved"})]}),s.jsx(Gr,{checked:j,onCheckedChange:E})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Send Commission Earned Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify helpers when they earn new commissions"})]}),s.jsx(Gr,{checked:S,onCheckedChange:C})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Payment Settings"}),s.jsx(Er,{children:"Configure payment schedules and thresholds"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Minimum Payout Threshold ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{type:"number",value:k,onChange:te=>{const _e=parseFloat(te.target.value);D(_e),ie("minPayoutThreshold",_e)},onBlur:()=>ie("minPayoutThreshold",k),min:0,className:Z.minPayoutThreshold?"border-red-500 focus-visible:ring-red-500":""}),Z.minPayoutThreshold&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.minPayoutThreshold]})]}),!Z.minPayoutThreshold&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helpers must earn at least this amount before payment is processed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Schedule"}),s.jsxs(br,{value:O,onValueChange:P,children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"weekly",children:"Weekly"}),s.jsx(Ye,{value:"biweekly",children:"Bi-weekly"}),s.jsx(Ye,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Day"}),s.jsxs(br,{value:A,onValueChange:R,children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsx(pr,{children:O==="weekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{value:"monday",children:"Every Monday"}),s.jsx(Ye,{value:"tuesday",children:"Every Tuesday"}),s.jsx(Ye,{value:"wednesday",children:"Every Wednesday"}),s.jsx(Ye,{value:"thursday",children:"Every Thursday"}),s.jsx(Ye,{value:"friday",children:"Every Friday"})]}):O==="biweekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{value:"1st-15th",children:"1st and 15th of month"}),s.jsx(Ye,{value:"monday",children:"Every other Monday"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{value:"1st",children:"1st of month"}),s.jsx(Ye,{value:"15th",children:"15th of month"}),s.jsx(Ye,{value:"last",children:"Last day of month"})]})})]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Helper Recruitment Settings"}),s.jsx(Er,{children:"Configure helper recruitment rules and referral codes"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Maximum Helpers Per Recruiter"}),s.jsx(Ve,{type:"number",value:F===-1?"":F,onChange:te=>L(te.target.value?parseInt(te.target.value):-1),placeholder:"Leave empty for unlimited",min:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty or enter -1 for unlimited recruitment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Referral Code Prefix"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{value:W,onChange:te=>{const _e=te.target.value.toUpperCase();V(_e),ie("referralCodePrefix",_e)},onBlur:()=>ie("referralCodePrefix",W),placeholder:"HELP",maxLength:6,className:Z.referralCodePrefix?"border-red-500 focus-visible:ring-red-500":""}),Z.referralCodePrefix&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",Z.referralCodePrefix]})]}),!Z.referralCodePrefix&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix for auto-generated referral codes (e.g., HELP001, HELP002)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Auto-generate Referral Codes"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate unique referral codes for new helpers"})]}),s.jsx(Gr,{checked:H,onCheckedChange:G})]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(KB,{className:"h-5 w-5"}),"Audit Trail"]}),s.jsx(Er,{children:"Track all changes to commission settings"})]}),s.jsxs(oe,{variant:"outline",onClick:()=>{z(!X),X||Ee()},children:[X?"Hide":"Show"," History"]})]})}),X&&s.jsx(Te,{children:I.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(KB,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No audit records yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Changes to commission settings will appear here"})]}):s.jsx("div",{className:"space-y-3",children:I.map(te=>{let _e="",he="";return te.table_name==="plan_commission"&&te.new_value?.plan_id?(_e=f.find(De=>De.id===te.new_value.plan_id)?.name||"Unknown Plan",he=te.new_value.subscription_type?` - ${te.new_value.subscription_type.charAt(0).toUpperCase()+te.new_value.subscription_type.slice(1)}`:""):te.table_name==="network_commission"&&te.new_value?.subscription_type&&(he=` - ${te.new_value.subscription_type.charAt(0).toUpperCase()+te.new_value.subscription_type.slice(1)}`),s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${te.action==="created"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":te.action==="updated"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":te.action==="deleted"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:te.action.toUpperCase()}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[te.table_name.replace(/_/g," ").replace(/\b\w/g,Re=>Re.toUpperCase()),_e&&` - "${_e}"${he}`,!_e&&he]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx($l,{className:"h-3 w-3"}),new Date(te.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(o0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:te.changed_by_email||"Unknown User"})]}),te.field_changed&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Field:"})," ",s.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:te.field_changed})]}),(te.old_value||te.new_value)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[te.old_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Previous Values:"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-3 text-xs space-y-1",children:Object.entries(te.old_value).map(([Re,De])=>{if(["id","created_at","settings_id","plan_id"].includes(Re))return null;const Fe=Re.split("_").map(He=>He.charAt(0).toUpperCase()+He.slice(1)).join(" ");let xe=De;if(Re==="commission_model")xe=De==="onetime"?"One-time":De==="recurring"?"Recurring":"Hybrid";else if(Re==="subscription_type")xe=De.charAt(0).toUpperCase()+De.slice(1);else if(Re.includes("_type")&&(De==="percentage"||De==="fixed"))xe=De==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Re.includes("_value")&&Re.includes("onetime")){const He=Re.replace("value","type");xe=te.old_value[He]==="percentage"?`${De}%`:`${De}`}else if(Re.includes("_value")&&Re.includes("recurring")){const He=Re.replace("value","type");xe=te.old_value[He]==="percentage"?`${De}%`:`${De}`}else Re.includes("duration")?xe=`${De} months`:typeof De=="boolean"&&(xe=De?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-red-200 dark:border-red-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Fe,":"]}),s.jsx("span",{className:"font-medium",children:String(xe)})]},Re)})})]}),te.new_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"New Values:"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3 text-xs space-y-1",children:Object.entries(te.new_value).map(([Re,De])=>{if(["id","created_at","settings_id","plan_id"].includes(Re))return null;const Fe=Re.split("_").map(He=>He.charAt(0).toUpperCase()+He.slice(1)).join(" ");let xe=De;if(Re==="commission_model")xe=De==="onetime"?"One-time":De==="recurring"?"Recurring":"Hybrid";else if(Re==="subscription_type")xe=De.charAt(0).toUpperCase()+De.slice(1);else if(Re.includes("_type")&&(De==="percentage"||De==="fixed"))xe=De==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Re.includes("_value")&&Re.includes("onetime")){const He=Re.replace("value","type");xe=te.new_value[He]==="percentage"?`${De}%`:`${De}`}else if(Re.includes("_value")&&Re.includes("recurring")){const He=Re.replace("value","type");xe=te.new_value[He]==="percentage"?`${De}%`:`${De}`}else Re.includes("duration")?xe=`${De} months`:typeof De=="boolean"&&(xe=De?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-green-200 dark:border-green-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Fe,":"]}),s.jsx("span",{className:"font-medium",children:String(xe)})]},Re)})})]})]}),te.change_reason&&s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reason:"})," ",s.jsx("span",{className:"italic",children:te.change_reason})]})]},te.id)})})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Object.keys(Z).length>0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[s.jsx("span",{children:""})," Fix ",Object.keys(Z).length," error",Object.keys(Z).length>1?"s":""," before saving"]}),s.jsxs(oe,{size:"lg",onClick:we,disabled:n||Object.keys(Z).length>0,className:Object.keys(Z).length>0?"opacity-50 cursor-not-allowed":"",children:[s.jsx(_c,{className:"h-5 w-5 mr-2"}),n?"Saving...":"Save All Settings"]})]}),s.jsx(wn,{open:Q,onOpenChange:de,children:s.jsxs(gn,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsxs(jn,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(en,{className:"h-6 w-6 text-green-600"}),"Settings Saved Successfully"]}),s.jsxs(ls,{className:"text-base",children:[fe.commissionModel.length+fe.commissionRates.length+fe.featureToggles.length+fe.paymentSettings.length+fe.recruitmentSettings.length," changes applied to your commission settings"]})]}),s.jsx("div",{className:"mt-6 space-y-6",children:fe.commissionModel.length+fe.commissionRates.length+fe.featureToggles.length+fe.paymentSettings.length+fe.recruitmentSettings.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(fc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No changes detected"})]}):s.jsxs(s.Fragment,{children:[K&&(JSON.stringify(i)!==JSON.stringify(K.networkMonthly)||JSON.stringify(l)!==JSON.stringify(K.networkYearly))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),K&&K.planCommissions&&Object.keys(p).some(te=>{const _e=K.planCommissions[te];return _e&&JSON.stringify(p[te])!==JSON.stringify(_e)})&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(te=>{const _e=f.find(De=>De.id===te),he=p[te],Re=K?.planCommissions?.[te];return!_e||!Re||JSON.stringify(he)===JSON.stringify(Re)?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:_e.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${he.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:he.enabled?"Enabled":"Disabled"})]}),he.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.monthly.model==="onetime"?"One-time":he.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.monthly.model==="onetime"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.onetimeType==="percentage"?`${he.monthly.onetimeValue}%`:`${he.monthly.onetimeValue}`})]})]}),(he.monthly.model==="recurring"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.recurringType==="percentage"?`${he.monthly.recurringValue}%`:`${he.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.yearly.model==="onetime"?"One-time":he.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.yearly.model==="onetime"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.onetimeType==="percentage"?`${he.yearly.onetimeValue}%`:`${he.yearly.onetimeValue}`})]})]}),(he.yearly.model==="recurring"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.recurringType==="percentage"?`${he.yearly.recurringValue}%`:`${he.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.yearly.recurringDuration," months"]})]})]})]})]})]})]},te)})})]}),(fe.commissionModel.length>0||fe.commissionRates.length>0)&&(!K||JSON.stringify(i)===JSON.stringify(K.networkMonthly)&&JSON.stringify(l)===JSON.stringify(K.networkYearly)&&!Object.keys(p).some(te=>{const _e=K.planCommissions?.[te];return _e&&JSON.stringify(p[te])!==JSON.stringify(_e)}))&&s.jsxs(s.Fragment,{children:[(fe.commissionModel.some(te=>te.startsWith("Monthly:")||te.startsWith("Yearly:"))||fe.commissionRates.some(te=>te.startsWith("Monthly")||te.startsWith("Yearly")))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),Object.keys(p).filter(te=>{const _e=f.find(he=>he.id===te);return _e&&(fe.commissionModel.some(he=>he.includes(_e.name))||fe.commissionRates.some(he=>he.includes(_e.name))||fe.featureToggles.some(he=>he.includes(_e.name)))}).length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(te=>{const _e=f.find(Re=>Re.id===te),he=p[te];return!_e||!(fe.commissionModel.some(Re=>Re.includes(_e.name))||fe.commissionRates.some(Re=>Re.includes(_e.name))||fe.featureToggles.some(Re=>Re.includes(_e.name)))?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:_e.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${he.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:he.enabled?"Enabled":"Disabled"})]}),he.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.monthly.model==="onetime"?"One-time":he.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.monthly.model==="onetime"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.onetimeType==="percentage"?`${he.monthly.onetimeValue}%`:`${he.monthly.onetimeValue}`})]})]}),(he.monthly.model==="recurring"||he.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.monthly.recurringType==="percentage"?`${he.monthly.recurringValue}%`:`${he.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:he.yearly.model==="onetime"?"One-time":he.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(he.yearly.model==="onetime"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.onetimeType==="percentage"?`${he.yearly.onetimeValue}%`:`${he.yearly.onetimeValue}`})]})]}),(he.yearly.model==="recurring"||he.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:he.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:he.yearly.recurringType==="percentage"?`${he.yearly.recurringValue}%`:`${he.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[he.yearly.recurringDuration," months"]})]})]})]})]})]})]},te)})})]})]}),(fe.featureToggles.length>0||fe.paymentSettings.length>0||fe.recruitmentSettings.length>0)&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Other Settings Updated"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[fe.featureToggles.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Feature Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:fe.featureToggles.map((te,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(en,{className:"h-4 w-4 text-green-600"}),te]},_e))})]}),fe.paymentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Payment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:fe.paymentSettings.map((te,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(en,{className:"h-4 w-4 text-green-600"}),te]},_e))})]}),fe.recruitmentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recruitment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:fe.recruitmentSettings.map((te,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(en,{className:"h-4 w-4 text-green-600"}),te]},_e))})]})]})]})]})}),s.jsx("div",{className:"mt-6 flex justify-end border-t pt-4",children:s.jsx(oe,{onClick:()=>de(!1),size:"lg",children:"Close"})})]})})]})})}const fot=()=>{const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState(null),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[p,y]=_.useState({start:"",end:""}),[g,v]=_.useState({applications:!0,approvals:!0,referrals:!0,commissions:!0,payments:!0,networkStats:!0}),[w,b]=_.useState("month");_.useEffect(()=>{j()},[]);const j=async()=>{if(!(sessionStorage.getItem("isSuperAdmin")==="true")){lt.error("Access denied. Super Admin only."),e("/superadmin/login");return}await E()},E=async()=>{r(!0);try{await Promise.all([S(),C(),k(),D(),O()])}catch(F){console.error("Error loading analytics data:",F),lt.error("Failed to load analytics data")}finally{r(!1)}},S=async()=>{const{data:F}=await Y.from("helper_applications").select("id, application_status"),L=F?.length||0,W=F?.filter(le=>le.application_status==="Pending").length||0,V=F?.filter(le=>le.application_status==="Rejected").length||0,{data:H}=await Y.from("helpers").select("id, status"),G=H?.length||0,I=H?.filter(le=>le.status==="Active").length||0,U=H?.filter(le=>le.status==="Suspended").length||0,{data:X}=await Y.from("store_referrals").select("id, trial_status, subscription_purchased"),z=X?.length||0,Z=X?.filter(le=>le.trial_status==="Active").length||0,J=X?.filter(le=>le.subscription_purchased===!0).length||0,Q=z>0?J/z*100:0,{data:de}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status, created_at"),fe=de?.reduce((le,we)=>le+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,pe=de?.reduce((le,we)=>le+(we.direct_commission_amount||0),0)||0,K=de?.reduce((le,we)=>le+(we.network_commission_amount||0),0)||0,ee=de?.filter(le=>le.commission_status==="Earned-Pending").reduce((le,we)=>le+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,se=JY(new Date),B=de?.filter(le=>le.commission_status==="Paid"&&new Date(le.created_at)>=se).reduce((le,we)=>le+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,{data:ie}=await Y.from("helpers").select("id, recruited_by_helper_id"),ae=ie?.filter(le=>le.recruited_by_helper_id)||[],Ne=new Set(ae.map(le=>le.recruited_by_helper_id)).size,Ee=new Map;ae.forEach(le=>{const we=Ee.get(le.recruited_by_helper_id)||0;Ee.set(le.recruited_by_helper_id,we+1)});const ue=Ee.size>0?Math.max(...Array.from(Ee.values())):0,qe=Ne>0?ae.length/Ne:0,Je=de?.filter(le=>le.commission_status==="Paid").reduce((le,we)=>le+(we.network_commission_amount||0),0)||0;a({helperProgram:{totalApplications:L,pendingApplications:W,approvedHelpers:G,rejectedApplications:V,activeHelpers:I,suspendedHelpers:U},referralPerformance:{totalReferrals:z,onTrial:Z,convertedToPaid:J,conversionRate:Q},commissionOverview:{totalEarned:fe,directCommissions:pe,networkCommissions:K,pendingPayment:ee,paidThisMonth:B},networkGrowth:{totalNetworks:Ne,largestNetwork:ue,averageNetworkSize:qe,networkCommissionsPaid:Je}})},C=async()=>{const F=[];for(let L=11;L>=0;L--){const W=NQe(new Date,L),V=JY(W),H=vue(W),{data:G}=await Y.from("helper_applications").select("id, application_status, created_at").gte("created_at",V.toISOString()).lte("created_at",H.toISOString()),I=G?.length||0,U=G?.filter(Q=>Q.application_status==="Approved").length||0,X=G?.filter(Q=>Q.application_status==="Rejected").length||0,{data:z}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").gte("date_earned",V.toISOString()).lte("date_earned",H.toISOString()),Z=z?.reduce((Q,de)=>Q+(de.direct_commission_amount||0),0)||0,J=z?.reduce((Q,de)=>Q+(de.network_commission_amount||0),0)||0;F.push({month:jr(W,"MMM yyyy"),applications:I,approved:U,rejected:X,directCommissions:Z,networkCommissions:J,total:Z+J})}o(F)},k=async()=>{const{data:F}=await Y.from("helpers").select("id, full_name, created_at");if(!F)return;const W=(await Promise.all(F.map(async V=>{const{data:H}=await Y.from("store_referrals").select("id").eq("helper_id",V.id),{data:G}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",V.id),I=G?.reduce((z,Z)=>z+(Z.direct_commission_amount||0),0)||0,U=G?.reduce((z,Z)=>z+(Z.network_commission_amount||0),0)||0,{data:X}=await Y.from("helpers").select("id").eq("recruited_by_helper_id",V.id);return{id:V.id,name:V.full_name,directCommissions:I,referralCount:H?.length||0,networkSize:X?.length||0,totalEarnings:I+U,joinedDate:V.created_at}}))).sort((V,H)=>H.totalEarnings-V.totalEarnings).slice(0,20);c(W)},D=async()=>{const{data:F}=await Y.from("helpers").select("id");if(!F)return;const L=await Promise.all(F.map(async X=>{const{data:z}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",X.id);return z?.reduce((Z,J)=>Z+(J.direct_commission_amount||0)+(J.network_commission_amount||0),0)||0}));L.sort((X,z)=>z-X);const W=L.length,V=Math.ceil(W*.1),H=Math.ceil(W*.4),G=L.slice(0,V),I=L.slice(V,V+H),U=L.slice(V+H);d([{name:"Top 10%",value:G.length,earnings:G.reduce((X,z)=>X+z,0)},{name:"Middle 40%",value:I.length,earnings:I.reduce((X,z)=>X+z,0)},{name:"Bottom 50%",value:U.length,earnings:U.reduce((X,z)=>X+z,0)}])},O=async()=>{const{data:F}=await Y.from("helper_applications").select("id, status"),{data:L}=await Y.from("helpers").select("id"),W=await Promise.all((L||[]).map(async V=>{const{data:H}=await Y.from("store_referrals").select("id, subscription_purchased").eq("helper_id",V.id),G=H?.some(U=>U.subscription_purchased===!0),{data:I}=await Y.from("helpers").select("id").eq("recruited_by_helper_id",V.id);return{hasReferrals:(H?.length||0)>0,hasPaidReferrals:G,hasRecruited:(I?.length||0)>0}}));m([{stage:"Applications Submitted",count:F?.length||0,percentage:100},{stage:"Applications Approved",count:L?.length||0,percentage:F?.length?(L?.length||0)/F.length*100:0},{stage:"Helpers with Referrals",count:W.filter(V=>V.hasReferrals).length,percentage:L?.length?W.filter(V=>V.hasReferrals).length/L.length*100:0},{stage:"Helpers with Paid Referrals",count:W.filter(V=>V.hasPaidReferrals).length,percentage:L?.length?W.filter(V=>V.hasPaidReferrals).length/L.length*100:0},{stage:"Helpers who Recruited",count:W.filter(V=>V.hasRecruited).length,percentage:L?.length?W.filter(V=>V.hasRecruited).length/L.length*100:0}])},P=()=>{try{const F=l.map((H,G)=>({Rank:G+1,"Helper Name":H.name,"Helper ID":H.id,"Direct Commissions":`${H.directCommissions.toLocaleString()}`,"Referral Count":H.referralCount,"Network Size":H.networkSize,"Total Earnings":`${H.totalEarnings.toLocaleString()}`,"Joined Date":jr(new Date(H.joinedDate),"PPP")})),L=na.json_to_sheet(F),W=na.book_new();na.book_append_sheet(W,L,"Top Performers");const V=`top_helpers_${jr(new Date,"yyyy-MM-dd")}.xlsx`;qm(W,V),lt.success("Report exported successfully!")}catch{lt.error("Failed to export report")}},A=()=>{if(!p.start||!p.end){lt.error("Please select date range");return}lt.success("Custom report generated!")},R=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(jw,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive insights into helper program performance"})]})]}),s.jsx(wt,{variant:"default",className:"text-sm px-3 py-1",children:"Super Admin"})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-base flex items-center gap-2",children:[s.jsx(_i,{className:"h-5 w-5 text-blue-500"}),"Helper Program Stats"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total applications:"}),s.jsx("span",{className:"font-semibold",children:n?.helperProgram.totalApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:n?.helperProgram.pendingApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.approvedHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rejected:"}),s.jsx("span",{className:"font-semibold text-red-600",children:n?.helperProgram.rejectedApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.activeHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Suspended:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:n?.helperProgram.suspendedHelpers})]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-base flex items-center gap-2",children:[s.jsx(UR,{className:"h-5 w-5 text-green-500"}),"Referral Performance"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total referrals:"}),s.jsx("span",{className:"font-semibold",children:n?.referralPerformance.totalReferrals})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Currently on trial:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:n?.referralPerformance.onTrial})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Converted to paid:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.referralPerformance.convertedToPaid})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversion rate:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[n?.referralPerformance.conversionRate.toFixed(1),"%"]})]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-base flex items-center gap-2",children:[s.jsx(Qa,{className:"h-5 w-5 text-green-500"}),"Commission Overview"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total earned:"}),s.jsxs("span",{className:"font-bold",children:["",n?.commissionOverview.totalEarned.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Direct:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Network:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending payment:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid this month:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"text-base flex items-center gap-2",children:[s.jsx($R,{className:"h-5 w-5 text-purple-500"}),"Network Growth"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest network:"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[n?.networkGrowth.largestNetwork," helpers"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Network commissions:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Performance Charts"}),s.jsx(Er,{children:"Visual representation of key metrics over time"})]}),s.jsx(Te,{children:s.jsxs(od,{defaultValue:"applications",children:[s.jsxs(cu,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"applications",children:"Applications"}),s.jsx(mn,{value:"commissions",children:"Commissions"}),s.jsx(mn,{value:"distribution",children:"Distribution"}),s.jsx(mn,{value:"funnel",children:"Funnel"})]}),s.jsx(pn,{value:"applications",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications Over Time"}),s.jsx(Py,{width:"100%",height:400,children:s.jsxs($I,{data:i,children:[s.jsx(lw,{strokeDasharray:"3 3"}),s.jsx(Bf,{dataKey:"month"}),s.jsx(Uf,{}),s.jsx(fo,{}),s.jsx(yf,{}),s.jsx(Uo,{dataKey:"applications",fill:"#8884d8",name:"Total Applications"}),s.jsx(Uo,{dataKey:"approved",fill:"#82ca9d",name:"Approved"}),s.jsx(Uo,{dataKey:"rejected",fill:"#ff8042",name:"Rejected"})]})})]})}),s.jsx(pn,{value:"commissions",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commission Payouts"}),s.jsx(Py,{width:"100%",height:400,children:s.jsxs($I,{data:i,children:[s.jsx(lw,{strokeDasharray:"3 3"}),s.jsx(Bf,{dataKey:"month"}),s.jsx(Uf,{}),s.jsx(fo,{}),s.jsx(yf,{}),s.jsx(Uo,{dataKey:"directCommissions",fill:"#0088FE",name:"Direct Commissions"}),s.jsx(Uo,{dataKey:"networkCommissions",fill:"#00C49F",name:"Network Commissions"}),s.jsx(Uo,{dataKey:"total",fill:"#FFBB28",name:"Total"})]})})]})}),s.jsx(pn,{value:"distribution",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Helper Performance Distribution"}),s.jsx(Py,{width:"100%",height:400,children:s.jsxs(GJe,{children:[s.jsx(vd,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:F=>`${F.name}: ${F.value} helpers`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:u.map((F,L)=>s.jsx(Sk,{fill:R[L%R.length]},`cell-${L}`))}),s.jsx(fo,{})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:u.map((F,L)=>s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R[L%R.length]}}),s.jsx("span",{className:"font-semibold",children:F.name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.value," helpers"]}),s.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",F.earnings?.toLocaleString()," earned"]})]})},L))})]})}),s.jsx(pn,{value:"funnel",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversion Funnel"}),s.jsx("div",{className:"space-y-3",children:f.map((F,L)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:F.stage}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[F.percentage.toFixed(1),"%"]}),s.jsx("span",{className:"font-bold",children:F.count})]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-8 relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full flex items-center justify-center text-white text-sm font-semibold transition-all",style:{width:`${F.percentage}%`},children:F.percentage>20&&`${F.count} helpers`})})]},L))})]})})]})})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Detailed Reports"}),s.jsx(Er,{children:"In-depth analysis and performance reports"})]}),s.jsx(Te,{children:s.jsxs(od,{defaultValue:"top-performers",children:[s.jsxs(cu,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"top-performers",children:"Top Performers"}),s.jsx(mn,{value:"network",children:"Network Analytics"}),s.jsx(mn,{value:"payments",children:"Payment Reports"}),s.jsx(mn,{value:"applications",children:"Applications"})]}),s.jsxs(pn,{value:"top-performers",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Top 20 Performing Helpers"}),s.jsxs(oe,{onClick:P,children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-16",children:"Rank"}),s.jsx(tt,{children:"Helper Name"}),s.jsx(tt,{children:"Direct Commissions"}),s.jsx(tt,{children:"Referral Count"}),s.jsx(tt,{children:"Network Size"}),s.jsx(tt,{children:"Total Earnings"}),s.jsx(tt,{children:"Joined Date"})]})}),s.jsx(oa,{children:l.map((F,L)=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs(wt,{variant:L<3?"default":"secondary",children:["#",L+1]})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:F.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:F.id})]})}),s.jsxs(Xe,{className:"font-semibold",children:["",F.directCommissions.toLocaleString()]}),s.jsx(Xe,{children:F.referralCount}),s.jsx(Xe,{children:F.networkSize}),s.jsxs(Xe,{className:"font-bold text-green-600",children:["",F.totalEarnings.toLocaleString()]}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:jr(new Date(F.joinedDate),"PP")})]},F.id))})]})})]}),s.jsxs(pn,{value:"network",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Helper Network Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Network Distribution"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average Size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.largestNetwork})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Network Commissions"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Paid:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Growth Metrics"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Recruiters:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Recruitment Rate:"}),s.jsxs("span",{className:"font-semibold",children:[n?.helperProgram.approvedHelpers&&n?.networkGrowth.totalNetworks?(n.networkGrowth.totalNetworks/n.helperProgram.approvedHelpers*100).toFixed(1):0,"%"]})]})]})})]})]})]}),s.jsxs(pn,{value:"payments",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reports"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Commission Type Breakdown"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Direct Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.directCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Network Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.networkCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Payment Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Paid This Month"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Pending Payment"}),s.jsxs("span",{className:"font-bold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]})]})]}),s.jsxs(pn,{value:"applications",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Application Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Total Applications"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold",children:n?.helperProgram.totalApplications})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Approval Rate"})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.approvedHelpers/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Rejection Rate"})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.rejectedApplications/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx(et,{className:"text-base",children:"Pending Review"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?.helperProgram.pendingApplications})})]})]})]})]})})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Custom Report Builder"}),s.jsx(Er,{children:"Generate custom reports based on your requirements"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Start Date"}),s.jsx("input",{type:"date",value:p.start,onChange:F=>y({...p,start:F.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"End Date"}),s.jsx("input",{type:"date",value:p.end,onChange:F=>y({...p,end:F.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Select Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"metric-applications",checked:g.applications,onCheckedChange:F=>v({...g,applications:F})}),s.jsx("label",{htmlFor:"metric-applications",className:"text-sm",children:"Applications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"metric-approvals",checked:g.approvals,onCheckedChange:F=>v({...g,approvals:F})}),s.jsx("label",{htmlFor:"metric-approvals",className:"text-sm",children:"Approvals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"metric-referrals",checked:g.referrals,onCheckedChange:F=>v({...g,referrals:F})}),s.jsx("label",{htmlFor:"metric-referrals",className:"text-sm",children:"Referrals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"metric-commissions",checked:g.commissions,onCheckedChange:F=>v({...g,commissions:F})}),s.jsx("label",{htmlFor:"metric-commissions",className:"text-sm",children:"Commissions"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"metric-payments",checked:g.payments,onCheckedChange:F=>v({...g,payments:F})}),s.jsx("label",{htmlFor:"metric-payments",className:"text-sm",children:"Payments"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vi,{id:"metric-network",checked:g.networkStats,onCheckedChange:F=>v({...g,networkStats:F})}),s.jsx("label",{htmlFor:"metric-network",className:"text-sm",children:"Network Stats"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Group By"}),s.jsxs(br,{value:w,onValueChange:b,children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"day",children:"By Day"}),s.jsx(Ye,{value:"week",children:"By Week"}),s.jsx(Ye,{value:"month",children:"By Month"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(oe,{onClick:A,className:"flex-1",children:[s.jsx(Kc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsxs(oe,{variant:"outline",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export to Excel"]}),s.jsxs(oe,{variant:"outline",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export to PDF"]}),s.jsxs(oe,{variant:"outline",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]})]})]})]})},hot=ip({name:sn().min(1,"Name is required"),slug:sn().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase with hyphens only"),description:sn().optional(),monthly_price:Ud.number().min(0,"Price must be 0 or greater"),yearly_price:Ud.number().min(0,"Price must be 0 or greater").optional(),max_products:Ud.number().optional(),enable_whatsapp_orders:Dc().default(!1),whatsapp_orders_limit:Ud.number().optional(),enable_website_orders:Dc().default(!1),website_orders_limit:Ud.number().optional(),trial_days:Ud.number().min(0).default(14),is_active:Dc().default(!0),is_popular:Dc().default(!1),badge_text:sn().optional(),badge_color:sn().optional(),display_order:Ud.number().default(0),enable_location_sharing:Dc().default(!1),enable_analytics:Dc().default(!1),enable_custom_domain:Dc().default(!1),enable_order_emails:Dc().default(!1),enable_ai_voice:Dc().default(!1),google_reviews_calls_limit:Ud.number().min(0).default(15),google_reviews_period:Q2(["monthly","yearly"]).default("monthly")}),mot=({open:e,onOpenChange:t,onSubmit:r,defaultValues:n,mode:a})=>{const i=zw({resolver:qw(hot),defaultValues:{name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"}});_.useEffect(()=>{e&&n?i.reset(n):e&&!n&&i.reset({name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"})},[e,n,i]);const o=async l=>{await r(l),i.reset()};return s.jsx(wn,{open:e,onOpenChange:t,children:s.jsxs(gn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsx(jn,{children:a==="add"?"Add New Plan":"Edit Plan"}),s.jsx(ls,{children:a==="add"?"Create a new subscription plan with custom features.":"Update the subscription plan details and features."})]}),s.jsx(Ww,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"}),s.jsx(vr,{control:i.control,name:"name",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Plan Name"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"e.g., Free, Pro, Business",...l})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"slug",render:({field:l})=>s.jsxs(fr,{children:[s.jsxs(yr,{className:"flex items-center gap-2",children:["Slug",s.jsx(Uh,{children:s.jsxs(wg,{children:[s.jsx(_g,{asChild:!0,children:s.jsx(fc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Vh,{children:s.jsx("p",{className:"max-w-xs",children:"Unique identifier used in URLs and code. Must be lowercase with hyphens only."})})]})})]}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"e.g., free, pro, business",...l})}),s.jsx(Ga,{children:"Lowercase letters, numbers, and hyphens only"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"description",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Description"}),s.jsx(hr,{children:s.jsx(Na,{placeholder:"Brief description of the plan",...l,value:l.value||""})}),s.jsx(Br,{})]})})]}),s.jsx($h,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:i.control,name:"monthly_price",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Monthly Price ()"}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",placeholder:"0",...l})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"yearly_price",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Yearly Price ()"}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",placeholder:"0",...l,value:l.value||""})}),s.jsx(Br,{})]})})]})]}),s.jsx($h,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Limits & Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:i.control,name:"max_products",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Max Products"}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(Ga,{children:"Empty = Unlimited"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"trial_days",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Trial Days"}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",...l})}),s.jsx(Br,{})]})})]}),s.jsx(vr,{control:i.control,name:"display_order",render:({field:l})=>s.jsxs(fr,{children:[s.jsxs(yr,{className:"flex items-center gap-2",children:["Display Order",s.jsx(Uh,{children:s.jsxs(wg,{children:[s.jsx(_g,{asChild:!0,children:s.jsx(fc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Vh,{children:s.jsx("p",{className:"max-w-xs",children:"Controls the order in which plans appear on the pricing page. Lower numbers (0, 1, 2...) appear first."})})]})})]}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",...l})}),s.jsx(Ga,{children:"Lower numbers appear first"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"enable_whatsapp_orders",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"WhatsApp Orders Limit"}),s.jsx(Ga,{children:"Set a monthly limit for WhatsApp orders"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_whatsapp_orders")&&s.jsx(vr,{control:i.control,name:"whatsapp_orders_limit",render:({field:l})=>s.jsxs(fr,{children:[s.jsxs(yr,{className:"flex items-center gap-2",children:["WhatsApp Orders per Month",s.jsx(Uh,{children:s.jsxs(wg,{children:[s.jsx(_g,{asChild:!0,children:s.jsx(fc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Vh,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via WhatsApp per billing period."})})]})})]}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(Ga,{children:"Empty = Unlimited"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"enable_website_orders",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Website Orders Limit"}),s.jsx(Ga,{children:"Set a monthly limit for website orders"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_website_orders")&&s.jsx(vr,{control:i.control,name:"website_orders_limit",render:({field:l})=>s.jsxs(fr,{children:[s.jsxs(yr,{className:"flex items-center gap-2",children:["Website Orders per Month",s.jsx(Uh,{children:s.jsxs(wg,{children:[s.jsx(_g,{asChild:!0,children:s.jsx(fc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Vh,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via website per billing period."})})]})})]}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(Ga,{children:"Empty = Unlimited"}),s.jsx(Br,{})]})})]}),s.jsx($h,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Features"}),s.jsx(vr,{control:i.control,name:"enable_location_sharing",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Location Sharing"}),s.jsx(Ga,{children:"Allow users to share delivery locations"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(vr,{control:i.control,name:"enable_analytics",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Analytics"}),s.jsx(Ga,{children:"Access to analytics dashboard and reports"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(vr,{control:i.control,name:"enable_custom_domain",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Custom Domain"}),s.jsx(Ga,{children:"Allow store owners to connect their own domain"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(vr,{control:i.control,name:"enable_order_emails",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Order Email Notifications"}),s.jsx(Ga,{children:"Send email notifications to store owners when new orders arrive"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(vr,{control:i.control,name:"enable_ai_voice",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"AI Voice Assistant"}),s.jsx(Ga,{children:"Allow store owners to add ElevenLabs AI voice embed code"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsx($h,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Google Reviews API Quota"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:i.control,name:"google_reviews_calls_limit",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"API Calls Limit"}),s.jsx(hr,{children:s.jsx(Ve,{type:"number",placeholder:"15",...l})}),s.jsx(Ga,{children:"Number of API calls allowed per period"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"google_reviews_period",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Period"}),s.jsx(hr,{children:s.jsxs("select",{className:"w-full h-10 px-3 rounded-md border border-input bg-background",...l,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"})]})}),s.jsx(Ga,{children:"Quota reset period"}),s.jsx(Br,{})]})})]})]}),s.jsx($h,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Badge & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vr,{control:i.control,name:"badge_text",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Badge Text"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"e.g., Most Popular",...l,value:l.value||""})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:i.control,name:"badge_color",render:({field:l})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Badge Color"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"e.g., blue, green",...l,value:l.value||""})}),s.jsx(Br,{})]})})]}),s.jsx(vr,{control:i.control,name:"is_popular",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Mark as Popular"}),s.jsx(Ga,{children:"Highlight this plan with a special border"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(vr,{control:i.control,name:"is_active",render:({field:l})=>s.jsxs(fr,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(yr,{className:"text-base",children:"Active"}),s.jsx(Ga,{children:"Make this plan available to users"})]}),s.jsx(hr,{children:s.jsx(Gr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(oe,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(oe,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":a==="add"?"Create Plan":"Update Plan"})]})]})})]})})},pot=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState("add"),[d,f]=_.useState(null),[m,p]=_.useState(!1),[y,g]=_.useState(null),[v,w]=_.useState(0),[b,j]=_.useState(!1);_.useEffect(()=>{(async()=>{const{data:{user:R}}=await Y.auth.getUser();if(!R&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(R){const{data:F}=await Y.from("user_roles").select("role").eq("user_id",R.id).eq("role","super_admin");if(!F||F.length===0){e("/superadmin/login");return}}E()})()},[e]);const E=async()=>{try{const{data:A,error:R}=await Y.from("subscription_plans").select("*").order("display_order");if(R)throw R;n(A||[])}catch{t({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{i(!1)}},S=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(A),C=()=>{u("add"),f(null),l(!0)},k=A=>{u("edit");const R={...A,enable_whatsapp_orders:A.whatsapp_orders_limit!==null,enable_website_orders:A.website_orders_limit!==null};f(R),l(!0)},D=async A=>{g(A),j(!0),p(!0);try{const{count:R,error:F}=await Y.from("subscriptions").select("*",{count:"exact",head:!0}).eq("plan_id",A).in("status",["active","trial"]);if(F)throw F;w(R||0)}catch(R){console.error("Error checking active subscribers:",R),w(0)}finally{j(!1)}},O=async()=>{if(y){if(v>0){t({title:"Cannot Delete Plan",description:`This plan has ${v} active subscriber${v>1?"s":""}. Please deactivate the plan instead or migrate users to another plan first.`,variant:"destructive"}),p(!1),g(null);return}try{const{error:A}=await Y.from("subscription_plans").delete().eq("id",y);if(A)throw A;n(r.filter(R=>R.id!==y)),t({title:"Success",description:"Plan deleted successfully"})}catch{t({title:"Error",description:"Failed to delete plan",variant:"destructive"}),E()}finally{p(!1),g(null),w(0)}}},P=async A=>{try{const R={...A,whatsapp_orders_limit:A.enable_whatsapp_orders?A.whatsapp_orders_limit||0:null,website_orders_limit:A.enable_website_orders?A.website_orders_limit||0:null};if(delete R.enable_whatsapp_orders,delete R.enable_website_orders,c==="add"){const{data:F,error:L}=await Y.from("subscription_plans").insert([R]).select().single();if(L)throw L;n([...r,F]),t({title:"Success",description:"Plan created successfully"})}else if(d){const{data:F,error:L}=await Y.from("subscription_plans").update(R).eq("id",d.id).select().single();if(L)throw L;n(r.map(W=>W.id===d.id?F:W)),t({title:"Success",description:"Plan updated successfully"})}l(!1)}catch{t({title:"Error",description:`Failed to ${c} plan`,variant:"destructive"}),E()}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Plans"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscription plans and pricing"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(oe,{onClick:C,children:[s.jsx(Yi,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading plans..."}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(A=>s.jsxs(ke,{className:A.is_popular?"border-primary":"",children:[s.jsxs(Qe,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(et,{children:A.name}),s.jsx(Er,{className:"mt-2",children:A.description})]}),A.is_popular&&s.jsx(wt,{variant:"default",children:"Popular"})]}),A.badge_text&&s.jsx(wt,{variant:"outline",className:"w-fit",children:A.badge_text})]}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold",children:S(A.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"}),A.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[S(A.yearly_price),"/year"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:["Max Products: ",A.max_products===0||A.max_products===null?"Unlimited":A.max_products]}),s.jsxs("p",{children:["WhatsApp Orders: ",A.whatsapp_orders_limit===0||A.whatsapp_orders_limit===null?"Unlimited":A.whatsapp_orders_limit]}),s.jsxs("p",{children:["Website Orders: ",A.website_orders_limit===0||A.website_orders_limit===null?"Unlimited":A.website_orders_limit]}),s.jsxs("p",{children:["Status: ",A.is_active?"Active":"Inactive"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[A.enable_location_sharing&&s.jsx(wt,{variant:"secondary",children:"Location"}),A.enable_analytics&&s.jsx(wt,{variant:"secondary",children:"Analytics"}),A.enable_custom_domain&&s.jsx(wt,{variant:"secondary",children:"Custom Domain"}),A.enable_ai_voice&&s.jsx(wt,{variant:"secondary",children:"AI Voice"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(oe,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>k(A),children:[s.jsx(Xu,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>D(A.id),children:s.jsx(Fn,{className:"h-4 w-4"})})]})]})})]},A.id))})}),s.jsx(mot,{open:o,onOpenChange:l,onSubmit:P,mode:c,defaultValues:d||void 0}),s.jsx(j0,{open:m,onOpenChange:p,children:s.jsxs(Am,{children:[s.jsxs(Pm,{children:[s.jsx(Rm,{children:b?"Checking Active Subscribers...":"Delete Subscription Plan"}),s.jsx(Dm,{className:"space-y-3",children:b?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{children:"Checking for active subscribers..."})]}):s.jsx(s.Fragment,{children:v>0?s.jsxs("div",{className:"rounded-lg border-2 border-destructive bg-destructive/10 p-4",children:[s.jsx("p",{className:"font-semibold text-destructive",children:" Cannot Delete This Plan"}),s.jsxs("p",{className:"mt-2 text-sm",children:["This plan currently has"," ",s.jsx("span",{className:"font-bold",children:v})," ","active subscriber",v>1?"s":"","."]}),s.jsxs("p",{className:"mt-2 text-sm",children:[s.jsx("strong",{children:"Recommended:"}),' Use the "Active" toggle to deactivate this plan instead. This will hide it from new users while keeping existing subscriptions working.']})]}):s.jsxs("div",{className:"rounded-lg border border-green-500 bg-green-50 p-4 dark:bg-green-950",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Safe to Delete"}),s.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["This plan has ",s.jsx("span",{className:"font-bold",children:"0 active subscribers"}),"."]}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this subscription plan? This action cannot be undone."})]})})})]}),s.jsxs(Om,{children:[s.jsx(Mm,{children:"Cancel"}),s.jsx(Im,{onClick:O,disabled:b||v>0,className:v>0?"bg-gray-400 hover:bg-gray-400":"bg-destructive hover:bg-destructive/90",children:v>0?"Cannot Delete":"Delete Plan"})]})]})})]})},got=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState([]),[a,i]=_.useState(!0);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:m}}=await Y.auth.getUser();if(!m){e("/superadmin/login");return}const{data:p}=await Y.from("user_roles").select("role").eq("user_id",m.id).eq("role","super_admin");if(!p||p.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:d,error:f}=await Y.from("transactions").select("*").order("created_at",{ascending:!1});if(f)throw f;const m=[...new Set(d?.map(g=>g.user_id)||[])],{data:p}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",m),y=d?.map(g=>({...g,profiles:p?.find(v=>v.user_id===g.user_id)||{email:"",full_name:""}}))||[];n(y)}catch{t({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{i(!1)}},l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),c=d=>new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{const f={completed:"default",pending:"secondary",failed:"destructive"};return s.jsx(wt,{variant:f[d]||"secondary",children:d})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View all payment transactions"})]})]}),s.jsx(si,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading transactions..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Invoice"}),s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Gateway"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Date"})]})}),s.jsx(oa,{children:r.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground",children:"No transactions found"})}):r.map(d=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:d.invoice_number||"N/A"}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.profiles?.email})]})}),s.jsx(Xe,{children:l(d.total_amount)}),s.jsx(Xe,{children:d.payment_gateway}),s.jsx(Xe,{children:u(d.status)}),s.jsx(Xe,{children:c(d.created_at)})]},d.id))})]})})})]})};function xot(){const e=ur(),[t,r]=_.useState(!0),[n,a]=_.useState({totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState(""),[p,y]=_.useState("all"),[g,v]=_.useState("30"),[w,b]=_.useState(!1);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){j();return}const{data:{user:R}}=await Y.auth.getUser();if(!R){Me({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:F}=await Y.from("user_roles").select("role").eq("user_id",R.id).eq("role","super_admin");if(!F||F.length===0){Me({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}j()})()},[e]);const j=async()=>{try{r(!0);const{data:P,error:A}=await Y.from("subscriptions").select(`
          id,
          user_id,
          plan_id,
          status,
          billing_cycle,
          created_at,
          current_period_end,
          trial_ends_at,
          subscription_plans (
            name,
            monthly_price,
            yearly_price
          )
        `).order("created_at",{ascending:!1});if(A)throw A;const R=[...new Set(P?.map(se=>se.user_id)||[])],{data:F}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",R),L=P?.map(se=>({...se,profiles:F?.find(B=>B.user_id===se.user_id)||{email:"",full_name:null}}))||[];o(L);const W=L.filter(se=>se.status==="pending_payment");d(W);const{data:V,error:H}=await Y.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(H)throw H;const G=[...new Set(V?.map(se=>se.user_id)||[])],{data:I}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",G),U=V?.map(se=>({...se,profiles:I?.find(B=>B.user_id===se.user_id)||{email:"",full_name:null}}))||[];c(U);const X=new Date,z=new Date(X.getTime()-720*60*60*1e3),Z=new Date(X.getTime()-1440*60*60*1e3),J=U.filter(se=>se.status==="success"||se.status==="completed").reduce((se,B)=>se+(B.total_amount||0),0),Q=U.filter(se=>(se.status==="success"||se.status==="completed")&&new Date(se.created_at)>=z).reduce((se,B)=>se+(B.total_amount||0),0),de=U.filter(se=>(se.status==="success"||se.status==="completed")&&new Date(se.created_at)>=Z&&new Date(se.created_at)<z).reduce((se,B)=>se+(B.total_amount||0),0),fe=de>0?(Q-de)/de*100:0,pe=L.filter(se=>se.status==="active").length,K=W.length,ee=U.filter(se=>se.status==="failed").length;a({totalRevenue:J,monthlyRevenue:Q,revenueGrowth:fe,activeSubscriptions:pe,pendingPayments:K,failedPayments:ee})}catch(P){Me({title:"Error",description:P.message,variant:"destructive"})}finally{r(!1)}},E=async()=>{try{b(!0);const P=new Date(Date.now()-1440*60*1e3),{error:A}=await Y.from("subscriptions").delete().eq("status","pending_payment").lt("created_at",P.toISOString());if(A)throw A;Me({title:"Success",description:"Old pending payments cleaned up successfully"}),j()}catch(P){Me({title:"Error",description:P.message,variant:"destructive"})}finally{b(!1)}},S=async()=>{try{const P=await sp(()=>Promise.resolve().then(()=>qie),void 0),A=C.map(L=>({Invoice:L.invoice_number||"N/A","User Email":L.profiles?.email||"N/A","User Name":L.profiles?.full_name||"N/A",Amount:`${L.total_amount}`,Gateway:L.payment_gateway,Method:L.payment_method||"N/A",Status:L.status,Date:new Date(L.created_at).toLocaleString()})),R=P.utils.json_to_sheet(A),F=P.utils.book_new();P.utils.book_append_sheet(F,R,"Transactions"),P.writeFile(F,`transactions_${new Date().toISOString().split("T")[0]}.xlsx`),Me({title:"Success",description:`Exported ${A.length} transactions`})}catch(P){Me({title:"Error",description:P.message,variant:"destructive"})}},C=l.filter(P=>{const A=P.profiles?.email?.toLowerCase().includes(f.toLowerCase())||P.invoice_number?.toLowerCase().includes(f.toLowerCase()),R=p==="all"||P.status===p,F=parseInt(g),L=new Date(Date.now()-F*24*60*60*1e3),W=new Date(P.created_at)>=L;return A&&R&&W}),k=i.filter(P=>{const A=P.profiles?.email?.toLowerCase().includes(f.toLowerCase())||P.subscription_plans?.name?.toLowerCase().includes(f.toLowerCase()),R=p==="all"||P.status===p;return A&&R}),D=P=>{const R={success:{variant:"default",icon:Ns,label:"Success"},completed:{variant:"default",icon:Ns,label:"Completed"},pending:{variant:"secondary",icon:ks,label:"Pending"},pending_payment:{variant:"outline",icon:Ls,label:"Pending Payment"},failed:{variant:"destructive",icon:Kn,label:"Failed"},active:{variant:"default",icon:Ns,label:"Active"},trial:{variant:"secondary",icon:ks,label:"Trial"},expired:{variant:"destructive",icon:Kn,label:"Expired"},cancelled:{variant:"outline",icon:Kn,label:"Cancelled"}}[P]||{variant:"secondary",icon:ks,label:P},F=R.icon;return s.jsxs(wt,{variant:R.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(F,{className:"w-3 h-3"}),R.label]})},O=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P);return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ni,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading billing data..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Revenue"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscriptions, transactions, and revenue"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(si,{}),s.jsxs(oe,{variant:"outline",onClick:j,children:[s.jsx(ni,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(ke,{children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(et,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Qa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O(n.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(et,{className:"text-sm font-medium",children:"Monthly Revenue"}),s.jsx(Dl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O(n.monthlyRevenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.revenueGrowth>=0?"+":"",n.revenueGrowth.toFixed(1),"% from last month"]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(et,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(_i,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(et,{className:"text-sm font-medium",children:"Pending Payments"}),s.jsx(Ls,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.pendingPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(et,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(Kn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unsuccessful transactions"})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(et,{className:"text-sm font-medium",children:"Total Subscriptions"}),s.jsx(In,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscriptions"})]})]})]}),n.pendingPayments>0&&s.jsxs(ke,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[s.jsxs(Qe,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"h-5 w-5 text-orange-500"}),s.jsxs(et,{className:"text-orange-700 dark:text-orange-300",children:[n.pendingPayments," Pending Payment",n.pendingPayments>1?"s":""]})]}),s.jsxs(oe,{variant:"destructive",size:"sm",onClick:E,disabled:w,children:[s.jsx(Fn,{className:"w-4 h-4 mr-2"}),w?"Cleaning...":"Clean Old (>24h)"]})]}),s.jsx(Er,{className:"text-orange-600 dark:text-orange-400",children:"These subscriptions are awaiting payment. Old pending payments (>24 hours) are automatically cleaned up every hour."})]}),u.length>0&&s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2",children:[u.slice(0,5).map(P=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:P.profiles?.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.subscription_plans?.name," - ",O(P.billing_cycle==="yearly"&&P.subscription_plans?.yearly_price?P.subscription_plans.yearly_price:P.subscription_plans?.monthly_price||0)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:a0(new Date(P.created_at),{addSuffix:!0})})})]},P.id)),u.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",u.length-5," more pending"]})]})})]}),s.jsxs(od,{defaultValue:"transactions",className:"w-full",children:[s.jsxs(cu,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsx(mn,{value:"transactions",children:"Transactions"}),s.jsx(mn,{value:"subscriptions",children:"Subscriptions"})]}),s.jsx(pn,{value:"transactions",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(et,{children:"Transaction History"}),s.jsx(Er,{children:"View and manage all payment transactions"})]}),s.jsxs(oe,{variant:"outline",onClick:S,children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ve,{placeholder:"Search by email or invoice...",value:f,onChange:P=>m(P.target.value),className:"pl-10"})]}),s.jsxs(br,{value:p,onValueChange:y,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Status"}),s.jsx(Ye,{value:"success",children:"Success"}),s.jsx(Ye,{value:"completed",children:"Completed"}),s.jsx(Ye,{value:"pending",children:"Pending"}),s.jsx(Ye,{value:"failed",children:"Failed"})]})]}),s.jsxs(br,{value:g,onValueChange:v,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Date Range"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"7",children:"Last 7 days"}),s.jsx(Ye,{value:"30",children:"Last 30 days"}),s.jsx(Ye,{value:"90",children:"Last 90 days"}),s.jsx(Ye,{value:"365",children:"Last year"}),s.jsx(Ye,{value:"9999",children:"All time"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Invoice"}),s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Gateway"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Date"})]})}),s.jsx(oa,{children:C.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No transactions found"})}):C.map(P=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:P.invoice_number||"N/A"}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.profiles?.email})]})}),s.jsx(Xe,{className:"font-medium",children:O(P.total_amount)}),s.jsx(Xe,{children:s.jsx(wt,{variant:"outline",children:P.payment_gateway})}),s.jsx(Xe,{children:D(P.status)}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(P.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a0(new Date(P.created_at),{addSuffix:!0})})]})})]},P.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",C.length," of ",l.length," transactions"]})]})]})}),s.jsx(pn,{value:"subscriptions",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(et,{children:"All Subscriptions"}),s.jsx(Er,{children:"Manage all user subscriptions"})]})})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ve,{placeholder:"Search by email or plan...",value:f,onChange:P=>m(P.target.value),className:"pl-10"})]}),s.jsxs(br,{value:p,onValueChange:y,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Status"}),s.jsx(Ye,{value:"active",children:"Active"}),s.jsx(Ye,{value:"trial",children:"Trial"}),s.jsx(Ye,{value:"pending_payment",children:"Pending Payment"}),s.jsx(Ye,{value:"expired",children:"Expired"}),s.jsx(Ye,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Billing Cycle"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Period End"})]})}),s.jsx(oa,{children:k.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No subscriptions found"})}):k.map(P=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.profiles?.email})]})}),s.jsx(Xe,{children:s.jsx(wt,{variant:"outline",children:P.subscription_plans?.name})}),s.jsx(Xe,{className:"font-medium",children:O(P.billing_cycle==="yearly"&&P.subscription_plans?.yearly_price?P.subscription_plans.yearly_price:P.subscription_plans?.monthly_price||0)}),s.jsx(Xe,{children:s.jsx(wt,{variant:"secondary",children:P.billing_cycle})}),s.jsx(Xe,{children:D(P.status)}),s.jsx(Xe,{children:P.current_period_end?s.jsxs("div",{children:[s.jsx("p",{children:new Date(P.current_period_end).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a0(new Date(P.current_period_end),{addSuffix:!0})})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},P.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",k.length," of ",i.length," subscriptions"]})]})]})})]})]})]})}const vot=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState([]),[a,i]=_.useState(!0);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:u}}=await Y.auth.getUser();if(!u){e("/superadmin/login");return}const{data:d}=await Y.from("user_roles").select("role").eq("user_id",u.id).eq("role","super_admin");if(!d||d.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:l,error:c}=await Y.from("stores").select("id, name, slug, custom_domain, user_id").not("custom_domain","is",null).order("name");if(c)throw c;const u=[...new Set(l?.map(m=>m.user_id)||[])],{data:d}=await Y.from("profiles").select("user_id, email, full_name").in("user_id",u),f=l?.map(m=>({id:m.id,name:m.name,slug:m.slug,custom_domain:m.custom_domain,profiles:d?.find(p=>p.user_id===m.user_id)||{email:"",full_name:""}}))||[];n(f)}catch{t({title:"Error",description:"Failed to load custom domains",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Custom Domains"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage custom domains for stores"})]})]}),s.jsx(si,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading domains..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Store"}),s.jsx(tt,{children:"Owner"}),s.jsx(tt,{children:"Domain"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Actions"})]})}),s.jsx(oa,{children:r.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:5,className:"text-center text-muted-foreground",children:"No custom domains found"})}):r.map(l=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.slug})]})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.profiles?.email})]})}),s.jsx(Xe,{children:s.jsxs("a",{href:`https://${l.custom_domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.custom_domain,s.jsx(ya,{className:"h-3 w-3"})]})}),s.jsx(Xe,{children:s.jsx(wt,{variant:"default",children:"Active"})}),s.jsx(Xe,{children:s.jsx(oe,{variant:"outline",size:"sm",onClick:()=>t({title:"Coming soon",description:"Domain management features"}),children:"Manage"})})]},l.id))})]})})})]})},NJ="00000000-0000-0000-0000-000000000000",yot=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState({sender_email:"",sender_name:"",platform_name:"",auto_cleanup_orders:!1,orders_cleanup_months:6,auto_cleanup_active_logs:!1,active_logs_cleanup_months:6,auto_cleanup_inactive_logs:!1,inactive_logs_cleanup_months:6,razorpay_key_id:"",razorpay_key_secret:"",razorpay_test_mode:!1}),[a,i]=_.useState(!1),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState([]),[m,p]=_.useState(""),[y,g]=_.useState(""),[v,w]=_.useState(""),[b,j]=_.useState(""),[E,S]=_.useState(!1),[C,k]=_.useState(!1);_.useEffect(()=>{const A=async()=>{if(sessionStorage.getItem("superadmin_session")){await Promise.all([R(),F()]);return}const{data:{user:W}}=await Y.auth.getUser();if(!W){e("/superadmin/login");return}const{data:V}=await Y.from("user_roles").select("role").eq("user_id",W.id).eq("role","super_admin");!V||V.length===0?e("/superadmin/login"):await Promise.all([R(),F()])},R=async()=>{const{data:L}=await Y.from("subscription_plans").select("*").eq("is_active",!0).order("display_order");if(L){f(L);const W=L.find(V=>V.is_default_plan);W&&p(W.id)}},F=async()=>{try{const{data:L,error:W}=await Y.from("platform_settings").select("*").eq("id",NJ).single();if(W)throw W;L&&n({sender_email:L.sender_email||"",sender_name:L.sender_name||"",platform_name:L.platform_name||"",auto_cleanup_orders:L.auto_cleanup_orders||!1,orders_cleanup_months:L.orders_cleanup_months||6,auto_cleanup_active_logs:L.auto_cleanup_active_logs||!1,active_logs_cleanup_months:L.active_logs_cleanup_months||6,auto_cleanup_inactive_logs:L.auto_cleanup_inactive_logs||!1,inactive_logs_cleanup_months:L.inactive_logs_cleanup_months||6,razorpay_key_id:L.razorpay_key_id||"",razorpay_key_secret:L.razorpay_key_secret||"",razorpay_test_mode:L.razorpay_test_mode||!1})}catch(L){console.error("Error loading settings:",L),t({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{l(!1)}};A()},[e,t]);const D=async()=>{i(!0);try{const{error:A}=await Y.from("platform_settings").update({sender_email:r.sender_email,sender_name:r.sender_name,platform_name:r.platform_name,auto_cleanup_orders:r.auto_cleanup_orders,orders_cleanup_months:r.orders_cleanup_months,auto_cleanup_active_logs:r.auto_cleanup_active_logs,active_logs_cleanup_months:r.active_logs_cleanup_months,auto_cleanup_inactive_logs:r.auto_cleanup_inactive_logs,inactive_logs_cleanup_months:r.inactive_logs_cleanup_months,razorpay_key_id:r.razorpay_key_id,razorpay_key_secret:r.razorpay_key_secret,razorpay_test_mode:r.razorpay_test_mode}).eq("id",NJ);if(A)throw A;m&&(await Y.from("subscription_plans").update({is_default_plan:!1}).neq("id",m),await Y.from("subscription_plans").update({is_default_plan:!0}).eq("id",m)),t({title:"Settings saved",description:"Platform settings have been updated successfully."})}catch(A){console.error("Save error:",A),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{i(!1)}},O=async A=>{u(!0);try{const R={ordersMonths:9999,activeLogsMonths:9999,inactiveLogsMonths:9999,cleanupOrders:A==="all"||A==="orders",cleanupActiveLogs:A==="all"||A==="activeLogs",cleanupInactiveLogs:A==="all"||A==="inactiveLogs"},{data:F,error:L}=await Y.functions.invoke("cleanup-old-orders",{body:R});if(L)throw L;const W=[];F.results.orders?.deleted&&W.push(`${F.results.orders.deleted} orders`),F.results.activeLogs?.deleted&&W.push(`${F.results.activeLogs.deleted} active logs`),F.results.inactiveLogs?.deleted&&W.push(`${F.results.inactiveLogs.deleted} inactive logs`),t({title:"Cleanup completed",description:`Successfully deleted: ${W.join(", ")}`})}catch(R){t({title:"Cleanup failed",description:R.message||"Failed to cleanup data.",variant:"destructive"})}finally{u(!1)}},P=async()=>{if(!y||!v||!b){t({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(v!==b){t({title:"Validation Error",description:"New password and confirm password do not match",variant:"destructive"});return}if(v.length<8){t({title:"Validation Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}S(!0);try{const{data:{user:A}}=await Y.auth.getUser();if(!A?.email)throw new Error("User not authenticated");const{error:R}=await Y.auth.signInWithPassword({email:A.email,password:y});if(R)throw new Error("Current password is incorrect");const{error:F}=await Y.auth.updateUser({password:v});if(F)throw F;g(""),w(""),j(""),t({title:"Password Changed",description:"Your password has been updated successfully"})}catch(A){t({title:"Error",description:A.message||"Failed to change password",variant:"destructive"})}finally{S(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-wide settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(oe,{onClick:D,disabled:a,children:[s.jsx(_c,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Email Settings"}),s.jsx(Er,{children:"Configure the sender information for emails sent to users"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"senderEmail",children:"Sender Email"}),s.jsx(Ve,{id:"senderEmail",type:"email",placeholder:"onboarding@resend.dev",value:r.sender_email,onChange:A=>n({...r,sender_email:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This email will be used as the sender when sending emails to users"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"senderName",children:"Sender Name"}),s.jsx(Ve,{id:"senderName",type:"text",placeholder:"Super Admin",value:r.sender_name,onChange:A=>n({...r,sender_name:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'The name that will appear in the "From" field of emails'})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"General Settings"}),s.jsx(Er,{children:"Configure general platform settings"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"platformName",children:"Platform Name"}),s.jsx(Ve,{id:"platformName",type:"text",placeholder:"Vendy Platform",value:r.platform_name,onChange:A=>n({...r,platform_name:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The name of your platform"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"defaultPlan",children:"Default Subscription Plan"}),s.jsxs(br,{value:m,onValueChange:p,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Select default plan for new stores"})}),s.jsx(pr,{children:d.map(A=>s.jsxs(Ye,{value:A.id,children:[A.name," - ",A.monthly_price>0?`${A.monthly_price}/mo`:"Free"]},A.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This plan will be automatically assigned to new store owners"})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Account Security"}),s.jsx(Er,{children:"Change your super admin password"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(Ve,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:y,onChange:A=>g(A.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Ve,{id:"newPassword",type:"password",placeholder:"Enter new password (min 8 characters)",value:v,onChange:A=>w(A.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(Ve,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:b,onChange:A=>j(A.target.value)})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(oe,{onClick:P,disabled:E||!y||!v||!b,className:"w-full",children:[s.jsx(bg,{className:"mr-2 h-4 w-4"}),E?"Changing Password...":"Change Password"]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Razorpay Payment Gateway"}),s.jsx(Er,{children:"Configure Razorpay API credentials for subscription payments"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"razorpayKeyId",children:"Razorpay API Key ID"}),s.jsx(Ve,{id:"razorpayKeyId",type:"text",placeholder:"rzp_live_xxxxxxxxxxxxxx or rzp_test_xxxxxxxxxxxxxx",value:r.razorpay_key_id,onChange:A=>n({...r,razorpay_key_id:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key ID (starts with rzp_live_ for production or rzp_test_ for testing)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"razorpayKeySecret",children:"Razorpay API Key Secret"}),s.jsx(Ve,{id:"razorpayKeySecret",type:"password",placeholder:"Enter your Razorpay Key Secret",value:r.razorpay_key_secret,onChange:A=>n({...r,razorpay_key_secret:A.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key Secret (keep this secure and never share)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"razorpayTestMode",children:"Test Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable only if using test credentials (rzp_test_)"})]}),s.jsx(Gr,{id:"razorpayTestMode",checked:r.razorpay_test_mode,onCheckedChange:A=>n({...r,razorpay_test_mode:A})})]}),s.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-foreground",children:[s.jsx("strong",{children:" Production Credentials:"})," Use your LIVE Razorpay credentials (rzp_live_) to accept real payments. These credentials will process actual subscription payments from store owners. Keep them secure and ensure your Razorpay account is properly configured with bank details."]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Data Cleanup Management"}),s.jsx(Er,{children:"Configure automatic cleanup settings and manually clean data"})]}),s.jsx(Te,{children:s.jsxs(Hj,{open:C,onOpenChange:k,children:[s.jsx(Gj,{asChild:!0,children:s.jsxs(oe,{variant:"outline",className:"w-full justify-between mb-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),C?"Hide Cleanup Settings":"Show Cleanup Settings"]}),C?s.jsx(aZ,{className:"h-4 w-4"}):s.jsx(zu,{className:"h-4 w-4"})]})}),s.jsxs(Kj,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Orders Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"autoCleanupOrders",children:"Auto Cleanup Orders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old orders"})]}),s.jsx(Gr,{id:"autoCleanupOrders",checked:r.auto_cleanup_orders,onCheckedChange:A=>n({...r,auto_cleanup_orders:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"ordersCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Ve,{id:"ordersCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.orders_cleanup_months,onChange:A=>n({...r,orders_cleanup_months:parseInt(A.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete orders older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Active Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"autoCleanupActiveLogs",children:"Auto Cleanup Active Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old active store logs"})]}),s.jsx(Gr,{id:"autoCleanupActiveLogs",checked:r.auto_cleanup_active_logs,onCheckedChange:A=>n({...r,auto_cleanup_active_logs:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"activeLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Ve,{id:"activeLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.active_logs_cleanup_months,onChange:A=>n({...r,active_logs_cleanup_months:parseInt(A.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete active logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Inactive Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"autoCleanupInactiveLogs",children:"Auto Cleanup Inactive Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old inactive store logs"})]}),s.jsx(Gr,{id:"autoCleanupInactiveLogs",checked:r.auto_cleanup_inactive_logs,onCheckedChange:A=>n({...r,auto_cleanup_inactive_logs:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"inactiveLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Ve,{id:"inactiveLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.inactive_logs_cleanup_months,onChange:A=>n({...r,inactive_logs_cleanup_months:parseInt(A.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete inactive logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Manual Cleanup Actions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a cleanup action to execute immediately"}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"destructive",className:"w-full",disabled:c,children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),c?"Cleaning up...":"Select Cleanup Action",s.jsx(zu,{className:"ml-2 h-4 w-4"})]})}),s.jsxs(hu,{className:"w-full",align:"center",children:[s.jsxs($n,{onClick:()=>O("orders"),disabled:c||!r.auto_cleanup_orders,className:"cursor-pointer",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Cleanup Orders Only"]}),s.jsxs($n,{onClick:()=>O("activeLogs"),disabled:c||!r.auto_cleanup_active_logs,className:"cursor-pointer",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Cleanup Active Logs Only"]}),s.jsxs($n,{onClick:()=>O("inactiveLogs"),disabled:c||!r.auto_cleanup_inactive_logs,className:"cursor-pointer",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Cleanup Inactive Logs Only"]}),s.jsxs($n,{onClick:()=>O("all"),disabled:c||!r.auto_cleanup_orders||!r.auto_cleanup_active_logs||!r.auto_cleanup_inactive_logs,className:"cursor-pointer text-destructive",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Cleanup All Data"]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable the corresponding auto-cleanup toggle above to activate each cleanup action"})]})]})]})})]})]})})]})},bot="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",wot="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google";function _ot(){const[e,t]=_.useState(!1),[r,n]=_.useState([]),[a,i]=_.useState(!1),[o,l]=_.useState([]),{toast:c}=ss(),u=async()=>{try{t(!0),n([]),c({title:"Submitting sitemaps...",description:"This may take a few minutes for all stores."});const{data:{session:f}}=await Y.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(bot,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)n(p.results),c({title:"Sitemaps submitted!",description:`Successfully processed ${p.processed} stores.`});else throw new Error(p.error||"Failed to submit sitemaps")}catch(f){console.error("Error submitting sitemaps:",f),c({title:"Error",description:f.message||"Failed to submit sitemaps",variant:"destructive"})}finally{t(!1)}},d=async()=>{try{i(!0),l([]),c({title:"Indexing URLs...",description:"Submitting URLs to Google for immediate indexing. This may take a few minutes."});const{data:{session:f}}=await Y.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(wot,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)l(p.results),c({title:"URLs indexed!",description:`Successfully: ${p.successful} | Failed: ${p.failed} | Total: ${p.processed}`});else throw new Error(p.error||"Failed to index URLs")}catch(f){console.error("Error indexing URLs:",f),c({title:"Error",description:f.message||"Failed to index URLs",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Google Search Console Sitemap Manager"}),s.jsx(Er,{children:"Automatically submit sitemaps for all stores to Google Search Console"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool will automatically submit sitemaps for all stores with subdomains or custom domains to Google Search Console. New stores will automatically get their sitemaps submitted."}),s.jsx(oe,{onClick:u,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Sitemaps..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ni,{className:"mr-2 h-4 w-4"}),"Submit All Sitemaps to Google"]})})]}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Submission Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:f.domain}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:f.sitemapUrl}),f.message&&s.jsx("p",{className:"text-xs mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(Ns,{className:"h-5 w-5 text-green-500"}):s.jsx(Kn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Automatically submits sitemaps when new stores are created"}),s.jsx("li",{children:"Automatically re-submits when subdomain or custom domain changes"}),s.jsx("li",{children:"Uses Google Search Console API for instant submission"}),s.jsx("li",{children:"No manual work needed for each store"}),s.jsx("li",{children:"Tracks submission status in database"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Create Google Cloud Project"}),s.jsx("li",{children:"Enable Google Search Console API"}),s.jsx("li",{children:"Create Service Account and download JSON key"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase environment variables:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]})]})]}),s.jsxs(ke,{className:"mt-6",children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Google Indexing API - Immediate URL Indexing"}),s.jsx(Er,{children:"Submit URLs for immediate indexing in Google Search (faster than sitemap submission)"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool uses the Google Web Search Indexing API to request immediate indexing of store homepages only. Unlike sitemaps which can take days or weeks, this API can get your pages indexed within hours."}),s.jsx(oe,{onClick:d,disabled:a,className:"w-full",variant:"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-4 w-4 animate-spin"}),"Indexing URLs..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wM,{className:"mr-2 h-4 w-4"}),"Index All URLs to Google"]})})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Indexing Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:o.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:f.url}),f.message&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(Ns,{className:"h-5 w-5 text-green-500"}):s.jsx(Kn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Submits URLs directly to Google for immediate indexing"}),s.jsx("li",{children:"Much faster than sitemap submission (hours vs days/weeks)"}),s.jsx("li",{children:"Indexes only store homepages (not product pages)"}),s.jsx("li",{children:"Processes up to 20 stores at a time to avoid rate limits"}),s.jsx("li",{children:"Rate limited to prevent API quota issues"})]})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Enable Google Web Search Indexing API in Google Cloud"}),s.jsx("li",{children:"Create Service Account for indexing"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase secrets:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 list-disc list-inside mt-2",children:[s.jsx("li",{children:"This is for immediate indexing of important updates"}),s.jsx("li",{children:"Google has daily quotas - use wisely for critical pages"}),s.jsx("li",{children:"Sitemap submission is still important for comprehensive crawling"}),s.jsx("li",{children:"Don't spam this - Google may penalize excessive usage"})]})]})]})]})]})}const jot=[{value:"Truck",label:"Truck (Shipping)",icon:gc},{value:"BarChart3",label:"Chart (Analytics)",icon:jw},{value:"MessageSquare",label:"Chat (Live Chat)",icon:g2},{value:"Mail",label:"Mail (Email)",icon:wc},{value:"Target",label:"Target (Ads)",icon:x2},{value:"Package",label:"Package (Default)",icon:Un}],Not=e=>({Truck:gc,BarChart3:jw,MessageSquare:g2,Mail:wc,Target:x2,Package:Un})[e]||Un,Sot=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState("add"),[d,f]=_.useState(null),[m,p]=_.useState(!1),[y,g]=_.useState(null),[v,w]=_.useState(!1),[b,j]=_.useState({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:0,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"});_.useEffect(()=>{(async()=>{const{data:{user:A}}=await Y.auth.getUser();if(!A&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(A){const{data:R}=await Y.from("user_roles").select("role").eq("user_id",A.id).eq("role","super_admin");if(!R||R.length===0){e("/superadmin/login");return}}E()})()},[e]);const E=async()=>{try{const{data:P,error:A}=await Y.from("marketplace_features").select("*").order("menu_order");if(A)throw A;n(P||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{i(!1)}},S=()=>{u("add"),f(null),j({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:r.length+1,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"}),l(!0)},C=P=>{u("edit"),f(P),j({name:P.name,slug:P.slug,description:P.description||"",icon:P.icon,is_free:P.is_free,price:P.price,is_active:P.is_active,menu_order:P.menu_order,pricing_model:P.pricing_model||"onetime",price_onetime:P.price_onetime||0,price_monthly:P.price_monthly||0,price_yearly:P.price_yearly||0,quota_onetime:P.quota_onetime||15,quota_monthly:P.quota_monthly||30,quota_yearly:P.quota_yearly||50,quota_period:P.quota_period||"monthly"}),l(!0)},k=async()=>{if(!b.name||!b.slug){t({title:"Error",description:"Name and slug are required",variant:"destructive"});return}w(!0);try{if(c==="add"){const{error:P}=await Y.from("marketplace_features").insert({name:b.name,slug:b.slug.toLowerCase().replace(/\s+/g,"-"),description:b.description,icon:b.icon,is_free:b.is_free,price:b.is_free?0:b.price,is_active:b.is_active,menu_order:b.menu_order,pricing_model:b.pricing_model,price_onetime:b.price_onetime,price_monthly:b.price_monthly,price_yearly:b.price_yearly,quota_onetime:b.quota_onetime,quota_monthly:b.quota_monthly,quota_yearly:b.quota_yearly,quota_period:b.quota_period});if(P)throw P;t({title:"Success",description:"Feature added to marketplace"})}else{const{error:P}=await Y.from("marketplace_features").update({name:b.name,slug:b.slug.toLowerCase().replace(/\s+/g,"-"),description:b.description,icon:b.icon,is_free:b.is_free,price:b.is_free?0:b.price,is_active:b.is_active,menu_order:b.menu_order,pricing_model:b.pricing_model,price_onetime:b.price_onetime,price_monthly:b.price_monthly,price_yearly:b.price_yearly,quota_onetime:b.quota_onetime,quota_monthly:b.quota_monthly,quota_yearly:b.quota_yearly,quota_period:b.quota_period}).eq("id",d?.id);if(P)throw P;t({title:"Success",description:"Feature updated successfully"})}l(!1),E()}catch(P){t({title:"Error",description:P.message||"Failed to save feature",variant:"destructive"})}finally{w(!1)}},D=async()=>{if(y)try{const{error:P}=await Y.from("marketplace_features").delete().eq("id",y);if(P)throw P;t({title:"Success",description:"Feature deleted from marketplace"}),p(!1),g(null),E()}catch(P){t({title:"Error",description:P.message||"Failed to delete feature",variant:"destructive"})}},O=P=>P.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin"),children:s.jsx(za,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Marketplace Features"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage features available to store owners"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(si,{}),s.jsxs(oe,{onClick:S,children:[s.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?s.jsx(ke,{children:s.jsxs(Te,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Un,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first marketplace feature"}),s.jsxs(oe,{onClick:S,children:[s.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(P=>{const A=Not(P.icon);return s.jsxs(ke,{className:P.is_active?"":"opacity-60",children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(A,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(et,{className:"text-lg",children:P.name}),s.jsx("code",{className:"text-xs text-muted-foreground",children:P.slug})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>C(P),children:s.jsx(Xu,{className:"h-4 w-4"})}),s.jsx(oe,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{g(P.id),p(!0)},children:s.jsx(Fn,{className:"h-4 w-4"})})]})]})}),s.jsxs(Te,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:P.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[P.is_free?s.jsx(wt,{variant:"secondary",children:"Free"}):s.jsxs(wt,{variant:"default",children:["",P.price]}),P.is_active?s.jsx(wt,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"}):s.jsx(wt,{variant:"outline",className:"text-red-600 border-red-600",children:"Inactive"})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Order: ",P.menu_order]})]})]})]},P.id)})})}),s.jsx(wn,{open:o,onOpenChange:l,children:s.jsxs(gn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(_n,{children:[s.jsx(jn,{children:c==="add"?"Add Feature":"Edit Feature"}),s.jsx(ls,{children:c==="add"?"Add a new feature to the marketplace":"Update feature details"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"name",children:"Feature Name"}),s.jsx(Ve,{id:"name",value:b.name,onChange:P=>{j({...b,name:P.target.value,slug:c==="add"?O(P.target.value):b.slug})},placeholder:"e.g., Shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"slug",children:"Slug (URL identifier)"}),s.jsx(Ve,{id:"slug",value:b.slug,onChange:P=>j({...b,slug:P.target.value}),placeholder:"e.g., shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"description",children:"Description"}),s.jsx(Na,{id:"description",value:b.description,onChange:P=>j({...b,description:P.target.value}),placeholder:"Describe what this feature does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"icon",children:"Icon"}),s.jsxs(br,{value:b.icon,onValueChange:P=>j({...b,icon:P}),children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Select an icon"})}),s.jsx(pr,{children:jot.map(P=>{const A=P.icon;return s.jsx(Ye,{value:P.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A,{className:"h-4 w-4"}),P.label]})},P.value)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:"is_free",children:"Free Feature"}),s.jsx(Gr,{id:"is_free",checked:b.is_free,onCheckedChange:P=>j({...b,is_free:P})})]}),!b.is_free&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price",children:"Price ()"}),s.jsx(Ve,{id:"price",type:"number",value:b.price,onChange:P=>j({...b,price:parseFloat(P.target.value)||0}),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:"is_active",children:"Active"}),s.jsx(Gr,{id:"is_active",checked:b.is_active,onCheckedChange:P=>j({...b,is_active:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"menu_order",children:"Menu Order"}),s.jsx(Ve,{id:"menu_order",type:"number",value:b.menu_order,onChange:P=>j({...b,menu_order:parseInt(P.target.value)||0}),placeholder:"1"})]}),b.slug==="google-reviews"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Google Reviews Pricing & API Quota"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"pricing_model",children:"Pricing Model"}),s.jsxs(br,{value:b.pricing_model,onValueChange:P=>j({...b,pricing_model:P}),children:[s.jsx(mr,{children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"onetime",children:"One-time Only"}),s.jsx(Ye,{value:"monthly",children:"Monthly Only"}),s.jsx(Ye,{value:"yearly",children:"Yearly Only"}),s.jsx(Ye,{value:"mixed",children:"Mixed (All Options)"})]})]})]}),(b.pricing_model==="onetime"||b.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price_onetime",children:"One-time Price ()"}),s.jsx(Ve,{id:"price_onetime",type:"number",value:b.price_onetime,onChange:P=>j({...b,price_onetime:parseFloat(P.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"quota_onetime",children:"API Calls/Month"}),s.jsx(Ve,{id:"quota_onetime",type:"number",value:b.quota_onetime,onChange:P=>j({...b,quota_onetime:parseInt(P.target.value)||0})})]})]}),(b.pricing_model==="monthly"||b.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price_monthly",children:"Monthly Price ()"}),s.jsx(Ve,{id:"price_monthly",type:"number",value:b.price_monthly,onChange:P=>j({...b,price_monthly:parseFloat(P.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"quota_monthly",children:"API Calls/Month"}),s.jsx(Ve,{id:"quota_monthly",type:"number",value:b.quota_monthly,onChange:P=>j({...b,quota_monthly:parseInt(P.target.value)||0})})]})]}),(b.pricing_model==="yearly"||b.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price_yearly",children:"Yearly Price ()"}),s.jsx(Ve,{id:"price_yearly",type:"number",value:b.price_yearly,onChange:P=>j({...b,price_yearly:parseFloat(P.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"quota_yearly",children:"API Calls/Month"}),s.jsx(Ve,{id:"quota_yearly",type:"number",value:b.quota_yearly,onChange:P=>j({...b,quota_yearly:parseInt(P.target.value)||0})})]})]})]})})]}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(oe,{onClick:k,disabled:v,children:[v&&s.jsx(Wt,{className:"h-4 w-4 mr-2 animate-spin"}),c==="add"?"Add Feature":"Save Changes"]})]})]})}),s.jsx(j0,{open:m,onOpenChange:p,children:s.jsxs(Am,{children:[s.jsxs(Pm,{children:[s.jsx(Rm,{children:"Delete Feature?"}),s.jsx(Dm,{children:"This will remove the feature from the marketplace. Store owners who have enabled this feature will lose access."})]}),s.jsxs(Om,{children:[s.jsx(Mm,{children:"Cancel"}),s.jsx(Im,{onClick:D,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})};function kot(){const[e,t]=_.useState(!1),[r,n]=_.useState(!1),a=fu();return _.useEffect(()=>{(async()=>{console.log("[SuperAdminGuard] Checking session...");try{const{data:{session:o}}=await Y.auth.getSession();if(o?.user){console.log("[SuperAdminGuard] Current user:",o.user.id);const{data:c}=await Y.from("user_roles").select("role").eq("user_id",o.user.id).eq("role","super_admin").maybeSingle();if(c){console.log("[SuperAdminGuard] Valid superadmin session found"),n(!0),t(!0);return}}const l=localStorage.getItem("superadmin_session");if(console.log("[SuperAdminGuard] Stored session found:",!!l),l)try{const c=JSON.parse(l);if(!c.access_token||!c.refresh_token){console.warn("[SuperAdminGuard] Invalid stored session structure"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}const u=c.saved_at||0,d=(Date.now()-u)/(1e3*60*60);if(d>24){console.warn("[SuperAdminGuard] Stored session too old:",d,"hours"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] Restoring superadmin session...");const{error:f}=await Y.auth.setSession({access_token:c.access_token,refresh_token:c.refresh_token});if(f){console.error("[SuperAdminGuard] Session restoration failed:",f),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}localStorage.removeItem("superadmin_session"),await new Promise(p=>setTimeout(p,100));const{data:{session:m}}=await Y.auth.getSession();if(m?.user){const{data:p}=await Y.from("user_roles").select("role").eq("user_id",m.user.id).eq("role","super_admin").maybeSingle();if(p){console.log("[SuperAdminGuard] Session restored and verified successfully"),n(!0),t(!0);return}}console.warn("[SuperAdminGuard] Restored session is not superadmin"),n(!1),t(!0);return}catch(c){console.error("[SuperAdminGuard] Error during restoration:",c),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] No valid superadmin session"),n(!1),t(!0)}catch(o){console.error("[SuperAdminGuard] Unexpected error:",o),n(!1),t(!0)}})()},[a.key]),e?r?s.jsx(Ybe,{}):s.jsx(Kbe,{to:"/superadmin/login",replace:!0}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Restoring admin session..."})]})})}function Cot({children:e}){const t=ur(),[r,n]=_.useState("loading"),[a,i]=_.useState(!1);return _.useEffect(()=>{let o=!1;return(async()=>{try{const{data:{session:c}}=await Y.auth.getSession();if(!c){console.log("[StoreGuard] No session - redirecting to auth"),t("/auth",{replace:!0});return}console.log("[StoreGuard] Session found, checking store...");const{data:u,error:d}=await Y.from("stores").select("id").eq("user_id",c.user.id).maybeSingle();if(o)return;if(d){console.error("[StoreGuard] Error checking store:",d),n("deleted"),i(!0);return}if(!u){console.log("[StoreGuard] Store not found - store was deleted"),n("deleted"),i(!0);return}console.log("[StoreGuard] Store found - access granted"),n("ok"),i(!0)}catch(c){console.error("[StoreGuard] Error in checkStore:",c),o||(n("deleted"),i(!0))}})(),()=>{o=!0}},[t]),r==="loading"?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Wt,{className:"w-10 h-10 animate-spin text-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your store..."})]})}):r==="deleted"&&a?s.jsx(wn,{open:!0,onOpenChange:()=>{},children:s.jsxs(gn,{className:"sm:max-w-md",children:[s.jsxs(_n,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Ls,{className:"h-8 w-8 text-red-600"})})}),s.jsx(jn,{className:"text-center text-xl font-bold",children:"Your Store Has Been Deleted"}),s.jsx(ls,{className:"text-center pt-4",children:"Your store has been deleted by the platform admin. You will be redirected to create a new store or you can logout."})]}),s.jsxs("div",{className:"space-y-3 flex flex-col pt-4",children:[s.jsx(oe,{onClick:()=>{t("/onboarding/store-setup",{replace:!0})},className:"w-full",children:"Create New Store"}),s.jsx(oe,{variant:"outline",onClick:async()=>{await Y.auth.signOut(),t("/auth",{replace:!0})},className:"w-full",children:"Logout"})]})]})}):r==="ok"?s.jsx(s.Fragment,{children:e}):null}const Eot=[{name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation and superior sound quality. Perfect for music lovers and professionals.",category:"Electronics",base_price:2999,price_range:"2,999 - 3,499",stock:50,status:"published",images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&q=80"],variants:[{name:"Black",price:2999,sku:"WH-BLK"},{name:"White",price:3199,sku:"WH-WHT"},{name:"Blue",price:3499,sku:"WH-BLU"}]},{name:"Smart Watch",description:"Feature-rich smartwatch with fitness tracking, heart rate monitor, and notification support. Stay connected on the go.",category:"Electronics",base_price:4999,price_range:"4,999 - 5,999",stock:30,status:"published",images:["https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80","https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=800&q=80"],variants:[{name:"Black Band",price:4999,sku:"SW-BLK"},{name:"Sport Band",price:5499,sku:"SW-SPT"},{name:"Leather Band",price:5999,sku:"SW-LTH"}]},{name:"Classic T-Shirt",description:"Comfortable cotton t-shirt perfect for everyday wear. Made from premium quality fabric that lasts.",category:"Fashion",base_price:599,price_range:"599 - 699",stock:100,status:"published",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1503341504253-dff4815485f1?w=800&q=80"],variants:[{name:"Small",price:599,sku:"TS-S"},{name:"Medium",price:599,sku:"TS-M"},{name:"Large",price:649,sku:"TS-L"},{name:"XL",price:699,sku:"TS-XL"}]},{name:"Denim Jeans",description:"Stylish and durable denim jeans with a perfect fit. Essential wardrobe staple for any occasion.",category:"Fashion",base_price:1499,price_range:"1,499 - 1,799",stock:75,status:"published",images:["https://images.unsplash.com/photo-1542272604-787c3835535d?w=800&q=80","https://images.unsplash.com/photo-1475178626620-a4d074967452?w=800&q=80"],variants:[{name:"30",price:1499,sku:"DJ-30"},{name:"32",price:1599,sku:"DJ-32"},{name:"34",price:1699,sku:"DJ-34"},{name:"36",price:1799,sku:"DJ-36"}]},{name:"Leather Wallet",description:"Genuine leather wallet with multiple card slots and compartments. Sleek design meets functionality.",category:"Accessories",base_price:899,price_range:"899 - 1,099",stock:60,status:"published",images:["https://images.unsplash.com/photo-1627123424574-724758594e93?w=800&q=80","https://images.unsplash.com/photo-1608666619878-e5f5c9c6ff04?w=800&q=80"],variants:[{name:"Brown",price:899,sku:"LW-BRN"},{name:"Black",price:999,sku:"LW-BLK"},{name:"Tan",price:1099,sku:"LW-TAN"}]},{name:"Sunglasses",description:"UV protection sunglasses with polarized lenses. Stylish eyewear for sunny days.",category:"Accessories",base_price:1299,price_range:"1,299 - 1,599",stock:45,status:"published",images:["https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80","https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=800&q=80"],variants:[{name:"Classic Black",price:1299,sku:"SG-BLK"},{name:"Aviator Gold",price:1499,sku:"SG-GLD"},{name:"Sport Blue",price:1599,sku:"SG-BLU"}]},{name:"Coffee Maker",description:"Automatic coffee maker for perfect brew every time. Start your morning right with fresh coffee.",category:"Home & Kitchen",base_price:3499,price_range:"3,499",stock:25,status:"published",images:["https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=800&q=80"],variants:[]},{name:"Yoga Mat",description:"Non-slip yoga mat with extra cushioning. Perfect for yoga, pilates, and home workouts.",category:"Sports",base_price:799,price_range:"799 - 999",stock:80,status:"published",images:["https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80"],variants:[{name:"Purple",price:799,sku:"YM-PUR"},{name:"Blue",price:899,sku:"YM-BLU"},{name:"Pink",price:999,sku:"YM-PNK"}]}],Tot=[{name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&q=80"},{name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&q=80"},{name:"Accessories",image_url:"https://images.unsplash.com/photo-1523293182086-7651a899d37f?w=400&q=80"},{name:"Home & Kitchen",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400&q=80"},{name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&q=80"},{name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&q=80"}],Aot=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Pot=async e=>{try{console.log("Seeding demo data for store:",e);const t=Tot.map(i=>({...i,store_id:e})),{error:r}=await Y.from("categories").insert(t);r&&console.error("Error inserting demo categories:",r);const n=Eot.map(i=>({...i,store_id:e,slug:Aot(i.name)}));console.log(`[SEED] Inserting ${n.length} demo products with slugs...`);const{error:a}=await Y.from("products").insert(n);return a?(console.error("[SEED] Error inserting demo products:",a),!1):(console.log(`[SEED]  Successfully seeded ${n.length} demo products`),console.log("Demo data seeded successfully"),!0)}catch(t){return console.error("Error seeding demo data:",t),!1}},Oot=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[o,l]=_.useState(""),[c,u]=_.useState(!1),[d,f]=_.useState(""),[m,p]=_.useState({storeName:"",storeSlug:"",description:"",whatsappNumber:"",countryCode:"+91"}),[y,g]=_.useState("idle");_.useEffect(()=>{v();const C=sessionStorage.getItem("storeSetupFormData");if(C)try{const k=JSON.parse(C);p(k),sessionStorage.removeItem("storeSetupFormData")}catch(k){console.error("Error restoring form data:",k)}},[e]);const v=async()=>{const{data:{user:C}}=await Y.auth.getUser();if(!C){t({title:"Authentication required",description:"Please log in to continue with onboarding",variant:"destructive"}),e("/auth");return}const{data:k}=await Y.from("helpers").select("id, full_name, status").eq("id",C.id).maybeSingle();if(k){f("You are registered as a helper. Helpers cannot create stores. Please contact support if you need assistance."),u(!0),setTimeout(()=>e("/helper/dashboard"),3e3);return}const{data:D}=await Y.from("helper_applications").select("id, application_status").eq("user_id",C.id).maybeSingle();if(D){f("You have applied or are registered as a helper. Helpers cannot create stores."),u(!0),setTimeout(()=>e("/application-status"),3e3);return}const{data:O}=await Y.from("profiles").select("full_name").eq("user_id",C.id).maybeSingle();l(O?.full_name||C.email||"Guest")},w=C=>C.toLowerCase().trim().replace(/[^a-z0-9]/g,"").substring(0,30),b=C=>{p(k=>({...k,storeName:C,storeSlug:w(C)})),C&&j(w(C))},j=async C=>{if(C.length<3){g("idle");return}i(!0);const{data:k}=await Y.from("stores").select("slug").eq("slug",C).maybeSingle();g(k?"taken":"available"),i(!1)},E=()=>m.storeName.length>=2&&m.storeName.length<=50&&m.storeSlug.length>=3&&m.storeSlug.length<=30&&y==="available"&&m.whatsappNumber.length>=10,S=async()=>{if(E()){n(!0);try{const{data:{user:C}}=await Y.auth.getUser();if(!C)throw new Error("No user found");const{data:{session:k}}=await Y.auth.getSession(),D=k?.provider_token,O=k?.provider_refresh_token,P=D?new Date(Date.now()+3600*1e3).toISOString():null,{data:A,error:R}=await Y.from("stores").insert({user_id:C.id,name:m.storeName,slug:m.storeSlug,subdomain:m.storeSlug,description:m.description||null,whatsapp_number:`${m.countryCode}${m.whatsappNumber}`,google_access_token:D||null,google_refresh_token:O||null,google_token_expiry:P}).select();if(R)throw R;const F=A&&A.length>0?A[0].id:null;F&&await Pot(F);const L=sessionStorage.getItem("referral_code");if(L&&F){console.log("[StoreSetup] Processing referral code:",L);const{data:V}=await Y.from("helpers").select("id").eq("referral_code",L).eq("status","Active").maybeSingle();if(V){const{data:H}=await Y.from("profiles").select("full_name, email, phone").eq("user_id",C.id).maybeSingle(),G=new Date;G.setDate(G.getDate()+14);const{error:I}=await Y.from("store_referrals").insert({helper_id:V.id,store_id:F,store_owner_name:H?.full_name||m.storeName,store_owner_email:H?.email||C.email||"",store_owner_phone:m.whatsappNumber,trial_start_date:new Date().toISOString().split("T")[0],trial_end_date:G.toISOString().split("T")[0],trial_status:"Active",subscription_purchased:!1,commission_status:"Not Applicable"});I?console.error("[StoreSetup] Error creating referral record:",I):console.log("[StoreSetup] Referral record created successfully"),sessionStorage.removeItem("referral_code")}else console.log("[StoreSetup] No active helper found for referral code:",L)}const{data:W}=await Y.from("subscription_plans").select("*").eq("is_default_plan",!0).maybeSingle();if(W){const V=new Date;V.setDate(V.getDate()+(W.trial_days||14)),await Y.from("subscriptions").insert({user_id:C.id,plan_id:W.id,status:"trial",trial_ends_at:V.toISOString(),current_period_start:new Date().toISOString(),current_period_end:V.toISOString()})}t({title:"Store created!",description:"Your store is ready with demo products."}),e("/onboarding/google-drive")}catch(C){t({title:"Error",description:C.message,variant:"destructive"})}finally{n(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-1/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2].map(C=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${C===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:C}),C<2&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${C<1?"bg-primary":"bg-muted"}`})]},C))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 1 of 2"})]}),s.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(em,{className:"w-8 h-8 text-primary"})}),s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome, ",o,"! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Let's set up your online store"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"storeName",children:["Store Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ve,{id:"storeName",placeholder:"My Awesome Store",value:m.storeName,onChange:C=>b(C.target.value),maxLength:50}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed to your customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"storeSlug",children:["Store Domain ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ve,{id:"storeSlug",value:m.storeSlug,readOnly:!0,disabled:!0,maxLength:30,className:"pr-8 bg-muted cursor-not-allowed"}),a&&s.jsx(Wt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),!a&&y==="available"&&s.jsx(nn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!a&&y==="taken"&&s.jsx(Ua,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]})}),y==="available"&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(nn,{className:"w-3 h-3"})," Available"]}),y==="taken"&&s.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[s.jsx(Ua,{className:"w-3 h-3"})," Already taken"]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:" 3-30 characters"}),s.jsx("p",{children:" Lowercase letters and numbers only"}),s.jsx("p",{children:" Must start with letter"}),s.jsx("p",{children:" Auto-generated from store name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"description",children:"Store Description"}),s.jsx(Na,{id:"description",placeholder:"Tell customers about your store...",value:m.description,onChange:C=>p(k=>({...k,description:C.target.value})),maxLength:500,rows:4}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.description.length,"/500"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"whatsapp",children:["WhatsApp Business Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(br,{value:m.countryCode,onValueChange:C=>p(k=>({...k,countryCode:C})),children:[s.jsx(mr,{className:"w-24",children:s.jsx(wr,{})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"+91",children:" +91"}),s.jsx(Ye,{value:"+1",children:" +1"}),s.jsx(Ye,{value:"+44",children:" +44"}),s.jsx(Ye,{value:"+971",children:" +971"})]})]}),s.jsx(Ve,{id:"whatsapp",type:"tel",placeholder:"9876543210",value:m.whatsappNumber,onChange:C=>p(k=>({...k,whatsappNumber:C.target.value.replace(/\D/g,"")})),className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers will place orders via WhatsApp to this number"})]})]}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-8 pt-6 border-t",children:s.jsx(oe,{onClick:S,disabled:!E()||r,className:"w-full sm:w-auto",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):"Continue"})})]})}),s.jsx(wn,{open:c,onOpenChange:u,children:s.jsxs(gn,{className:"sm:max-w-md",children:[s.jsxs(_n,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Kn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(jn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(ls,{className:"text-center text-base pt-4",children:d})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(oe,{onClick:()=>u(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})},Rot=()=>{const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[o,l]=_.useState(!0),[c,u]=_.useState(null);_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:g}}=await Y.auth.getUser();if(!g){e("/onboarding/store-setup");return}const{data:{session:v}}=await Y.auth.getSession(),w=v?.provider_token,b=v?.provider_refresh_token,{data:j,error:E}=await Y.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",g.id).single();if(E||!j){console.error("Store not found"),e("/onboarding/store-setup");return}if(u(j.id),w&&!j.google_access_token){const S={google_access_token:w};if(b){const C=new Date(Date.now()+36e5).toISOString();S.google_refresh_token=b,S.google_token_expiry=C}await Y.from("stores").update(S).eq("id",j.id)}await f()}catch(g){console.error("Error loading store:",g),l(!1)}},f=async()=>{try{const{data:{session:g}}=await Y.auth.getSession();if(!g){n(!1),l(!1);return}const{data:v,error:w}=await Y.functions.invoke("verify-drive-connection",{headers:{Authorization:`Bearer ${g.access_token}`}});if(w){console.error("Drive verification error:",w),n(!1),l(!1);return}if(v?.connected){n(!0);const{data:{session:b}}=await Y.auth.getSession();b?.provider_token&&t({title:"Google Drive Connected",description:"You can now upload images from your device."})}else n(!1),console.log("Drive not connected:",v?.reason)}catch(g){console.error("Error verifying Drive connection:",g),n(!1)}finally{l(!1)}},m=async()=>{i(!0);try{const{error:g}=await Y.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:`${window.location.origin}/onboarding/google-drive`,queryParams:{access_type:"offline",prompt:"consent"}}});if(g)throw g}catch(g){t({title:"Connection Failed",description:g.message,variant:"destructive"}),i(!1)}},p=async()=>{try{e("/admin/dashboard")}catch(g){t({title:"Error",description:g.message,variant:"destructive"})}},y=[{title:"Unlimited Storage",description:"No storage limits on product images"},{title:"Automatic Backup",description:"Your images are safely backed up by Google"},{title:"Easy Management",description:"View and organize images directly in Google Drive"},{title:"Fast Delivery",description:"Images served through Google's CDN for quick loading"},{title:"No VPS Costs",description:"Save on server storage and bandwidth costs"},{title:"Version Control",description:"Google Drive keeps previous versions of your images"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-2/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2].map(g=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${g<=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:g}),g<2&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${g<2?"bg-primary":"bg-muted"}`})]},g))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 2 of 2"})]}),s.jsx("div",{className:"container max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-4",children:s.jsx(Zd,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Connect Google Drive"}),s.jsx("span",{className:"inline-block px-3 py-1 bg-amber-100 text-amber-800 text-xs font-semibold rounded-full",children:"Recommended"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Store and manage product images securely in your Google Drive (optional)"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:y.map((g,v)=>s.jsxs("div",{className:"flex gap-3 p-4 rounded-lg bg-muted/50 border",children:[s.jsx(en,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:g.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g.description})]})]},v))}),s.jsxs(ke,{className:`admin-card ${r?"border-green-500 border-2":"border-amber-500 border-2"}`,children:[s.jsx(Qe,{children:s.jsxs(et,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${r?"bg-green-500/10":"bg-blue-500/10"}`,children:s.jsx(Zd,{className:`w-5 h-5 ${r?"text-green-600":"text-blue-600"}`})}),"Connection Status (Optional)"]})}),s.jsx(Te,{className:"space-y-4",children:s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${r?"border-green-500 bg-green-50 dark:bg-green-950":"border-border bg-muted/50"}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:`font-medium text-sm ${r?"text-green-700 dark:text-green-400":""}`,children:o?"Checking...":r?" Connected":"Not Connected"}),s.jsx("p",{className:`text-xs ${r?"text-green-600 dark:text-green-500":"text-muted-foreground"}`,children:r?"Your Google Drive is ready for image uploads":"Optional: Connect to enable Google Drive storage, or continue with VPS storage"})]}),s.jsx(oe,{onClick:m,disabled:a||o,variant:r?"outline":"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):r?s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t",children:[s.jsxs(oe,{variant:"ghost",onClick:()=>e("/onboarding/store-setup"),className:"order-2 sm:order-1",children:[s.jsx(za,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(oe,{onClick:p,disabled:o,className:"w-full sm:w-auto order-1 sm:order-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"w-4 h-4 animate-spin mr-2"}),"Checking..."]}):"Continue"})]})]})})]})},Dot=({storeId:e,settings:t,instagramUsername:r})=>{const[n,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{t?.enabled?u():o(!1)},[e,t?.enabled]);const u=async()=>{try{o(!0),c(null);const f=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?store_id=${e}`)).json();f.success?a(f.reels||[]):(console.log("Failed to fetch reels:",f.error),t?.manual_reels?.length&&a(t.manual_reels.map(m=>({id:m.url,type:"manual",permalink:m.url,thumbnail_url:m.thumbnail_url,caption:m.caption}))))}catch(d){console.error("Error fetching reels:",d),t?.manual_reels?.length&&a(t.manual_reels.map(f=>({id:f.url,type:"manual",permalink:f.url,thumbnail_url:f.thumbnail_url,caption:f.caption})))}finally{o(!1)}};return t?.enabled?i?s.jsx("section",{className:"py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Rl,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((d,f)=>s.jsx("div",{className:"aspect-[9/16] bg-muted animate-pulse rounded-lg"},f))})]})}):n.length===0?null:s.jsx("section",{className:"py-12 px-4 bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Rl,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]}),r&&s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-pink-500 transition-colors inline-flex items-center gap-1",children:["@",r,s.jsx(ya,{className:"w-3 h-3"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4",children:n.slice(0,t?.max_reels||6).map(d=>s.jsx(Iot,{reel:d},d.id))}),r&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-medium rounded-full hover:opacity-90 transition-opacity",children:[s.jsx(Rl,{className:"w-5 h-5"}),"Follow on Instagram"]})})]})}):null},Iot=({reel:e})=>{const[t,r]=_.useState(!1);return s.jsxs("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-[9/16] rounded-lg overflow-hidden bg-muted group cursor-pointer",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.thumbnail_url?s.jsx("img",{src:e.thumbnail_url,alt:e.caption||"Instagram Reel",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-orange-500/20",children:s.jsx(Rl,{className:"w-12 h-12 text-pink-500/50"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx(x0e,{className:"w-6 h-6 text-pink-500 ml-1",fill:"currentColor"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 rounded bg-black/50 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})})}),e.caption&&s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent transition-opacity ${t?"opacity-100":"opacity-0"}`,children:s.jsx("p",{className:"text-white text-xs line-clamp-2",children:e.caption})})]})},SJ=({averageRating:e,totalReviews:t,variant:r="default"})=>r==="compact"?s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full shadow-sm",children:[s.jsx(Ki,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.toFixed(1)}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",t,")"]})]}):s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ki,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.toFixed(1)})]}),s.jsx("div",{className:"border-l border-gray-300 dark:border-gray-600 h-6"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 leading-tight",children:"Google reviews"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 leading-tight",children:[t," reviews"]})]})]}),Mot=({reviews:e,autoPlay:t=!0,autoPlayInterval:r=5e3})=>{const[n,a]=_.useState({}),i=m=>{a(p=>({...p,[m]:!0}))},o=m=>{const p=m.trim().split(" ");return p.length===1?p[0].substring(0,2).toUpperCase():(p[0][0]+p[p.length-1][0]).toUpperCase()},l=m=>{const p=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],y=m.split("").reduce((g,v)=>g+v.charCodeAt(0),0);return p[y%p.length]},c=m=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(p=>s.jsx(Ki,{className:`h-4 w-4 ${p<=m?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},p))});if(!e||e.length===0)return null;const u=[...e,...e],f=30*1e3;return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"review-marquee-container overflow-hidden",children:s.jsx("div",{className:"review-marquee-track flex gap-4",style:{animationDuration:`${f}ms`,animationPlayState:t?"running":"paused"},children:u.map((m,p)=>s.jsx(ke,{className:"review-card flex-shrink-0 w-full sm:w-[calc(50%-0.5rem)] md:w-[calc(33.333%-0.667rem)] lg:w-[calc(20%-0.8rem)] border-0 shadow-md hover:shadow-lg transition-shadow",children:s.jsxs(Te,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate flex-1",children:m.author_name})}),c(m.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[m.profile_photo_url&&!n[p%e.length]?s.jsx("img",{src:m.profile_photo_url,alt:m.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(p%e.length),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(m.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(m.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:m.relative_time_description})]}),m.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',m.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},`${p}-${m.author_name}`))})}),s.jsx("div",{className:"text-center mt-4 md:hidden",children:s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Swipe to see more reviews "})})]})},Fot=({reviews:e,maxReviews:t=6})=>{const[r,n]=_.useState({}),a=u=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(d=>s.jsx(Ki,{className:`h-4 w-4 ${d<=u?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},d))}),i=u=>{n(d=>({...d,[u]:!0}))},o=u=>{const d=u.trim().split(" ");return d.length===1?d[0].substring(0,2).toUpperCase():(d[0][0]+d[d.length-1][0]).toUpperCase()},l=u=>{const d=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],f=u.split("").reduce((m,p)=>m+p.charCodeAt(0),0);return d[f%d.length]};if(!e||e.length===0)return null;const c=e.slice(0,t);return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:c.map((u,d)=>s.jsx(ke,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:s.jsxs(Te,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate",children:u.author_name}),a(u.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[u.profile_photo_url&&!r[d]?s.jsx("img",{src:u.profile_photo_url,alt:u.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(d),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(u.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(u.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:u.relative_time_description})]}),u.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',u.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},d))})},Lot=({reviews:e,maxReviews:t=5,showAllReviews:r=!1})=>{const[n,a]=_.useState({}),i=d=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx(Ki,{className:`h-4 w-4 ${f<=d?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},f))}),o=d=>{a(f=>({...f,[d]:!0}))},l=d=>{const f=d.trim().split(" ");return f.length===1?f[0].substring(0,2).toUpperCase():(f[0][0]+f[f.length-1][0]).toUpperCase()},c=d=>{const f=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],m=d.split("").reduce((p,y)=>p+y.charCodeAt(0),0);return f[m%f.length]};if(!e||e.length===0)return null;const u=r?e:e.slice(0,t);return s.jsxs("div",{className:"space-y-4",children:[u.map((d,f)=>s.jsx("div",{className:"p-4 md:p-6 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[d.profile_photo_url&&!n[f]?s.jsx("img",{src:d.profile_photo_url,alt:d.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover",onError:()=>o(f),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${c(d.author_name)} flex items-center justify-center`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:l(d.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:d.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.relative_time_description}),s.jsx("div",{className:"mt-1",children:i(d.rating)})]})]}),s.jsx("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded",children:s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})})]}),d.text&&s.jsx("p",{className:"text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:d.text})]})},f)),!r&&e.length>t&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center pt-2",children:["+ ",e.length-t," more reviews"]})]})},$ot=({storeId:e,googleMapsUrl:t})=>{const[r,n]=_.useState([]),[a,i]=_.useState(0),[o,l]=_.useState(0),[c,u]=_.useState({}),[d,f]=_.useState(!0);_.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:w,error:b}=await Y.from("google_reviews_cache").select("*").eq("store_id",e).single();if(b){console.error("Error loading reviews:",b);return}w&&(n(w.reviews||[]),i(w.average_rating||0),l(w.total_reviews||0))}catch(w){console.error("Error in loadReviews:",w)}finally{f(!1)}},p=w=>{u(b=>({...b,[w]:!0}))},y=w=>{const b=w.trim().split(" ");return b.length===1?b[0].substring(0,2).toUpperCase():(b[0][0]+b[b.length-1][0]).toUpperCase()},g=w=>{const b=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],j=w.split("").reduce((E,S)=>E+S.charCodeAt(0),0);return b[j%b.length]},v=w=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(b=>s.jsx(Ki,{className:`h-4 w-4 ${b<=w?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},b))});return d?s.jsx("div",{className:"text-center py-12",children:"Loading reviews..."}):!r||r.length===0?s.jsx("div",{className:"w-full max-w-2xl mx-auto",children:s.jsx(ke,{className:"border-0 shadow-xl overflow-hidden",children:s.jsxs(Te,{className:"p-0",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"white",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"white",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"white",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"white",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-2xl md:text-3xl font-bold",children:"Customer Reviews"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"See what our customers are saying"})]}),s.jsx("div",{className:"p-8 bg-white dark:bg-gray-800 text-center",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>s.jsx(Ki,{className:"h-8 w-8 fill-yellow-400 text-yellow-400"},w))})}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Read authentic reviews from our verified customers"}),s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-all hover:shadow-lg",children:[s.jsx("span",{children:"View All Reviews on Google"}),s.jsx(ya,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verified by Google  100% Authentic Customer Feedback"})]})})]})})}):s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>s.jsx(Ki,{className:`h-6 w-6 ${w<=Math.round(a)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},w))}),s.jsx("span",{className:"text-xl font-bold",children:a.toFixed(1)})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Based on ",o," Google reviews"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.map((w,b)=>s.jsx(ke,{className:"hover:shadow-xl transition-shadow border-0 shadow-md",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[w.profile_photo_url&&!c[b]?s.jsx("img",{src:w.profile_photo_url,alt:w.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>p(b),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${g(w.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:y(w.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:w.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w.relative_time_description})]})]}),s.jsx("div",{className:"mb-3",children:v(w.rating)}),w.text&&s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-4 leading-relaxed",children:['"',w.text,'"']}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]})]})},b))}),s.jsxs("div",{className:"text-center",children:[s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all hover:shadow-lg",children:[s.jsxs("span",{children:["View All ",o," Reviews on Google"]}),s.jsx(ya,{className:"h-5 w-5"})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:["Verified by Google  ",o," authentic customer reviews"]})]})]})},Bot=({storeId:e,variant:t,maxReviews:r,autoPlay:n=!0,showAllReviews:a=!1})=>{const[i,o]=_.useState(null),[l,c]=_.useState(!0),[u,d]=_.useState(!1),[f,m]=_.useState("carousel"),[p,y]=_.useState(null);_.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:w}=await Y.from("stores").select("google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("id",e).single();if(!w?.google_reviews_enabled){d(!1),c(!1);return}d(!0),m(w.google_reviews_display_type||"carousel"),y(w.google_maps_url||null);try{const{data:b,error:j}=await Y.from("google_reviews_cache").select("*").eq("store_id",e).single();b&&o({average_rating:b.average_rating||0,total_reviews:b.total_reviews||0,reviews:b.reviews||[]}),j&&console.warn("Warning loading reviews (continuing):",j)}catch(b){console.warn("Cache load error (continuing):",b)}}catch(w){console.error("Error in loadReviews:",w)}finally{c(!1)}};if(l||!u)return null;const v=t||(f==="google-widget"?"google-widget":f==="carousel"?"carousel":"grid");if(v==="google-widget"){if(!p)return null}else if(!i||i.reviews.length===0)return null;switch(v){case"badge":return s.jsx(SJ,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"default"});case"badge-compact":return s.jsx(SJ,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"compact"});case"carousel":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real reviews from Google"})]}),s.jsx(Mot,{reviews:i.reviews,autoPlay:n})]});case"grid":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," reviews"]})]})]}),s.jsx(Fot,{reviews:i.reviews,maxReviews:r})]});case"list":return s.jsxs("div",{className:"py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," Google reviews"]})]})]}),s.jsx(Lot,{reviews:i.reviews,maxReviews:r,showAllReviews:a})]});case"google-widget":return p?s.jsx("div",{className:"py-8 md:py-12",children:s.jsx($ot,{storeId:e,googleMapsUrl:p})}):null;default:return null}};Ln.registerPlugin(Rr);function kj({children:e,className:t="",animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}){const u=_.useRef(null);return _.useEffect(()=>{if(!u.current)return;const d=u.current;let f={opacity:0};switch(r){case"fadeSlideUp":f={opacity:0,y:i};break;case"fadeSlideDown":f={opacity:0,y:-i};break;case"fadeSlideLeft":f={opacity:0,x:i};break;case"fadeSlideRight":f={opacity:0,x:-i};break;case"fadeIn":f={opacity:0};break;case"scaleUp":f={opacity:0,scale:.8};break;case"slideUp":f={y:i};break}return Ln.set(d,f),Ln.to(d,{opacity:1,x:0,y:0,scale:1,duration:n,delay:a,ease:"power2.out",scrollTrigger:{trigger:d,start:`top ${100-o*100}%`,toggleActions:"play none none none"},stagger:l>0?l:void 0,...c}),()=>{Rr.getAll().forEach(m=>{m.trigger===d&&m.kill()})}},[r,n,a,i,o,l,c]),s.jsx("div",{ref:u,className:t,children:e})}Ln.registerPlugin(Rr);function OR(e={}){const t=_.useRef(null),{animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}=e;return _.useEffect(()=>{const u=t.current;if(!u)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){Ln.set(u,{opacity:1,x:0,y:0,scale:1}),u.children.length>0&&Ln.set(Array.from(u.children),{opacity:1,x:0,y:0,scale:1});return}const f={fadeIn:{from:{opacity:0},to:{opacity:1,duration:n,delay:a}},slideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideDown:{from:{opacity:0,y:-i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideLeft:{from:{opacity:0,x:i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},slideRight:{from:{opacity:0,x:-i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},scale:{from:{opacity:0,scale:.8},to:{opacity:1,scale:1,duration:n,delay:a,ease:"back.out(1.2)"}},fadeSlideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}}},m=f[r]||f.fadeSlideUp,p=l>0&&u.children.length>0,y=p?Array.from(u.children):u;Ln.set(y,m.from);const g=Ln.context(()=>{u.getBoundingClientRect().top<window.innerHeight*.9?Ln.to(y,{...m.to,stagger:p?l:0,...c}):Rr.create({trigger:u,start:"top 90%",once:!0,onEnter:()=>{Ln.to(y,{...m.to,stagger:p?l:0,...c})}})});return()=>{g.revert(),Rr.getAll().forEach(v=>{v.trigger===u&&v.kill()})}},[r,n,a,i,o,l,c]),t}const kJ=({slug:e}={})=>{const{slug:t}=ld(),r=e||t,[n,a]=_.useState(null),[i,o]=_.useState(null),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[p,y]=_.useState([]),[g,v]=_.useState(!0),[w,b]=_.useState(!1),j=OR({animation:"slideUp",duration:.6,stagger:.1,delay:.2}),E=OR({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),S=OR({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),C=su(),k=C?"/products":`/${r}/products`;_.useEffect(()=>{D()},[r]),_.useEffect(()=>{if(!n?.ai_voice_embed_code)return;if(document.querySelector('script[src*="elevenlabs"]')){b(!0);return}const P=document.createElement("script");return P.src="https://unpkg.com/@elevenlabs/convai-widget-embed",P.async=!0,P.type="text/javascript",P.onload=()=>{console.log("ElevenLabs widget script loaded successfully"),b(!0)},P.onerror=A=>{console.error("Failed to load ElevenLabs widget script:",A)},document.body.appendChild(P),()=>{P.parentNode&&P.parentNode.removeChild(P)}},[n?.ai_voice_embed_code]),_it(n&&i?{store:{id:n.id,name:n.name,slug:n.slug,description:n.description,logo_url:n.logo_url,address:n.address,whatsapp_number:n.whatsapp_number,social_links:n.social_links,alternate_names:n.alternate_names,seo_description:n.seo_description,business_phone:n.business_phone,business_email:n.business_email,street_address:n.street_address,city:n.city,state:n.state,postal_code:n.postal_code,country:n.country,opening_hours:n.opening_hours,facebook_url:n.facebook_url,instagram_url:n.instagram_url,twitter_url:n.twitter_url,price_range:n.price_range},email:i.email||void 0,breadcrumbs:[{name:"Home",url:window.location.origin},{name:n.name,url:window.location.href}]}:null);const D=async()=>{try{v(!0);const O=su();let P=Y.from("stores").select("*").eq("is_active",!0);O&&r?r.includes(".")?P=P.or(`custom_domain.eq.${r},subdomain.eq.${r}`):P=P.or(`subdomain.eq.${r},slug.eq.${r}`):P=P.eq("slug",r);const{data:A,error:R}=await P.maybeSingle();if(R)throw R;if(!A){Me({title:"Store not found",description:"The store you're looking for doesn't exist or is inactive.",variant:"destructive"});return}a({...A,social_links:A.social_links,policies:A.policies,instagram_reels_settings:A.instagram_reels_settings});const{data:F}=await Y.from("profiles").select("phone, email").eq("user_id",A.user_id).maybeSingle();F&&o(F);const{data:L,error:W}=await Y.from("categories").select("*").eq("store_id",A.id).order("name");W?console.error("Error fetching categories:",W):L&&y(L);const V=await fb(A.id);c(V),d(V.slice(0,16));const H=[...V].sort((G,I)=>new Date(I.created_at||"").getTime()-new Date(G.created_at||"").getTime());m(H.slice(0,4))}catch(O){console.error("Error loading store:",O),Me({title:"Error",description:O.message,variant:"destructive"})}finally{v(!1)}};return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Wt,{className:"h-8 w-8 animate-spin"})}):n?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(e8,{title:`${n.name} - Online Store | Shop Quality Products`,description:n.description||`Browse ${n.name}'s collection of quality products. ${p.length>0?"Explore categories: "+p.map(O=>O.name).slice(0,3).join(", "):""}`,canonical:uhe(n.slug,n.subdomain,n.custom_domain),image:n.logo_url||n.hero_banner_url||"https://digitaldukandar.in/logo.png",keywords:p.map(O=>O.name).concat([n.name,"online store","shop"]),type:"website"}),s.jsx(po,{storeSlug:n.slug,storeId:n.id}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Lfe,{bannerUrls:n.hero_banner_urls&&n.hero_banner_urls.length>0?n.hero_banner_urls:n.hero_banner_url?[n.hero_banner_url]:[],storeName:n.name,logoUrl:n.logo_url,storeDescription:n.description}),p.length>0&&s.jsx("section",{className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsx(kj,{animation:"fadeSlideUp",duration:.8,children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]})}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{ref:j,className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:p.map((O,P)=>{const A=l.filter(R=>R.category===O.name&&R.status==="published").length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",children:s.jsx(BL,{name:O.name,image_url:O.image_url,productCount:A,slug:C?void 0:n?.slug})},O.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(kj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(Ct,{to:k,children:s.jsxs(oe,{variant:"outline",children:["See All",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})}),u.length>0?s.jsx("div",{ref:E,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(O=>s.jsx(rx,{id:O.id,slug:O.slug,name:O.name,category:O.category,priceRange:O.price_range||"",images:O.images,status:O.status,storeSlug:C?void 0:n.slug},O.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),n.instagram_reels_settings?.enabled&&n.instagram_reels_settings?.show_on_homepage&&s.jsx(Dot,{storeId:n.id,settings:n.instagram_reels_settings,instagramUsername:n.instagram_username||void 0}),s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(Bot,{storeId:n.id,autoPlay:!0})})}),f.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(kj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx(Ct,{to:k,children:s.jsxs(oe,{variant:"outline",children:["See All",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("div",{ref:S,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(O=>s.jsx(rx,{id:O.id,slug:O.slug,name:O.name,category:O.category,priceRange:O.price_range||"",images:O.images,status:O.status,storeSlug:C?void 0:n.slug},O.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground mb-0",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(kj,{animation:"scaleUp",duration:.8,children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore our full collection of amazing products"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Ct,{to:k,children:s.jsxs(oe,{size:"lg",variant:"secondary",children:["Browse All Products",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})}),n.whatsapp_number&&s.jsx("a",{href:`https://wa.me/${n.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(oe,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["Contact on WhatsApp",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})})})]}),s.jsx(ww,{storeName:n.name,storeDescription:n.description,whatsappNumber:n.whatsapp_number,phone:i?.phone,email:i?.email,address:n.address,facebookUrl:n.facebook_url,instagramUrl:n.instagram_url,twitterUrl:n.twitter_url,youtubeUrl:n.youtube_url,linkedinUrl:n.linkedin_url,socialLinks:n.social_links,policies:n.policies}),n.ai_voice_embed_code&&w&&(()=>{const O=n.ai_voice_embed_code.match(/agent-id="([^"]+)"/),P=O?O[1]:null;return P?s.jsx("elevenlabs-convai",{"agent-id":P,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999}}):(console.error("No agent-id found in ai_voice_embed_code"),null)})()]}):s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Store Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you're looking for doesn't exist."}),s.jsx(Ct,{to:"/",children:s.jsx(oe,{children:"Go Home"})})]})},CJ=({slug:e}={})=>{const{slug:t}=ld(),r=e||t,n=ur(),[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(null);_.useEffect(()=>{d()},[r]),_.useEffect(()=>{if(window.location.hash){const m=document.querySelector(window.location.hash);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[a]);const d=async()=>{try{i(!0);const{data:m,error:p}=await Y.from("stores").select("*").eq("slug",r).eq("is_active",!0).single();if(p||!m){lt.error("Store not found"),n("/");return}l(m);const{data:y}=await Y.from("profiles").select("phone, email").eq("user_id",m.user_id).single();y&&u(y)}catch(m){console.error("Error loading store:",m),lt.error("Failed to load store information")}finally{i(!1)}};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return null;const f=o.policies||{};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(po,{storeSlug:r}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[s.jsxs(oe,{variant:"ghost",onClick:()=>n(`/${r}`),className:"mb-6",children:[s.jsx(za,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Store Policies"}),s.jsx("p",{className:"text-muted-foreground",children:"Learn about our policies and terms of service"})]}),s.jsx("section",{id:"terms",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.termsConditions||"Terms and conditions will be available soon."})]})}),s.jsx("section",{id:"return-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Return Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.returnPolicy||"Return policy will be available soon."})]})}),s.jsx("section",{id:"shipping-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Shipping Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.shippingPolicy||"Shipping policy will be available soon."})]})}),s.jsx("section",{id:"privacy-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Privacy Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.privacyPolicy||"Privacy policy will be available soon."})]})}),f.deliveryAreas&&s.jsx("section",{id:"delivery-areas",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Delivery Areas"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.deliveryAreas})]})}),o.address&&s.jsx("section",{id:"address",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Store Address"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:o.address})]})})]})]}),s.jsx(ww,{storeName:o.name,storeDescription:o.description,whatsappNumber:o.whatsapp_number,phone:c?.phone,email:c?.email,address:o.address,facebookUrl:o.facebook_url,instagramUrl:o.instagram_url,twitterUrl:o.twitter_url,youtubeUrl:o.youtube_url,linkedinUrl:o.linkedin_url,socialLinks:o.social_links,policies:o.policies})]})},Uot=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(Ct,{to:"/",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['Welcome to Digital Dukandar ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ',s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"})," and use our multi-vendor store platform services."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Personal Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Register for an account (name, email address, phone number)"}),s.jsx("li",{children:"Create a store or product listing"}),s.jsx("li",{children:"Make a purchase through our platform"}),s.jsx("li",{children:"Contact our customer support"}),s.jsx("li",{children:"Sign in using Google OAuth (email, profile picture, name)"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"2.2 Automatically Collected Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you visit our website, we automatically collect certain information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Device information (browser type, operating system)"}),s.jsx("li",{children:"IP address and location data"}),s.jsx("li",{children:"Usage data (pages visited, time spent on pages)"}),s.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To process transactions and deliver products/services"}),s.jsx("li",{children:"To send order confirmations and updates"}),s.jsx("li",{children:"To provide customer support"}),s.jsx("li",{children:"To improve our platform and user experience"}),s.jsx("li",{children:"To send promotional communications (with your consent)"}),s.jsx("li",{children:"To comply with legal obligations"}),s.jsx("li",{children:"To detect and prevent fraud or abuse"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may share your information in the following situations:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"With Store Owners:"})," When you make a purchase, we share your order details with the relevant store owner"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Providers:"})," We may share data with third-party service providers (payment processors, hosting services, analytics providers)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not sell your personal information to third parties."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Your Privacy Rights"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the following rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Cookies and Tracking Technologies"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our platform. Cookies help us remember your preferences, analyze site usage, and provide personalized content. You can control cookie settings through your browser preferences."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with third-party services:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google OAuth:"})," For authentication (subject to Google's Privacy Policy)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase:"})," For database and authentication services"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"WhatsApp:"})," For order notifications"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies, and we encourage you to review them."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our services are not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),Vot=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(Ct,{to:"/",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["By accessing or using Digital Dukandar's services available at ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"}),' ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.']})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"YesGive is a multi-vendor e-commerce platform that enables:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Store owners to create and manage online stores"}),s.jsx("li",{children:"Product listing and inventory management"}),s.jsx("li",{children:"Order processing through WhatsApp and website checkouts"}),s.jsx("li",{children:"Customer management and analytics"}),s.jsx("li",{children:"Subscription-based access to platform features"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Account Creation"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate, current, and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Notify us immediately of any unauthorized access"}),s.jsx("li",{children:"Be responsible for all activities under your account"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"3.2 Account Types"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Store Owners:"})," Can create stores, manage products, and process orders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Customers:"})," Can browse stores, place orders, and manage their profiles"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Super Admin:"})," Platform administrators with full access"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription Plans and Payments"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.1 Subscription Tiers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer various subscription plans (Free, Basic, Pro, Enterprise) with different features and limits. Plan details are available on our Pricing page."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.2 Payment Terms"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Subscriptions are billed monthly or yearly in advance"}),s.jsx("li",{children:"Payments are non-refundable except as required by law"}),s.jsx("li",{children:"You authorize automatic renewal unless cancelled before the renewal date"}),s.jsx("li",{children:"We reserve the right to change pricing with 30 days' notice"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"4.3 Free Trials"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Free trial periods are subject to terms disclosed at sign-up. We may require payment information upfront but won't charge until the trial ends unless you cancel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Store Owner Responsibilities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"As a store owner, you agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate product descriptions and pricing"}),s.jsx("li",{children:"Honor all orders placed through your store"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"}),s.jsx("li",{children:"Not sell prohibited items (illegal goods, counterfeit products, etc.)"}),s.jsx("li",{children:"Handle customer data responsibly and securely"}),s.jsx("li",{children:"Respond to customer inquiries in a timely manner"}),s.jsx("li",{children:"Process refunds and returns according to your stated policies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may not use our Platform to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Infringe on intellectual property rights"}),s.jsx("li",{children:"Transmit harmful code, viruses, or malware"}),s.jsx("li",{children:"Engage in fraudulent activities or scams"}),s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Scrape or copy content without permission"}),s.jsx("li",{children:"Interfere with the Platform's operation"}),s.jsx("li",{children:"Create fake accounts or impersonate others"}),s.jsx("li",{children:"Manipulate prices, reviews, or ratings"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Content and Intellectual Property"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.1 Your Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You retain ownership of content you upload (products, images, descriptions). By uploading content, you grant us a license to display, store, and distribute it as necessary to provide our services."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.2 Our Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Platform, including its design, features, and code, is protected by copyright and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Order Processing and Transactions"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8.1 Order Placement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orders placed through the Platform constitute an offer to purchase. Store owners reserve the right to accept or decline orders."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.2 Payment Processing"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Currently, orders are processed via Cash on Delivery (COD) or direct WhatsApp communication. Future payment integrations may be added."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.3 Disputes"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"YesGive acts as a platform provider. Disputes regarding orders, refunds, or product quality should be resolved directly between customers and store owners. We may assist in mediation but are not responsible for transaction outcomes."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Termination"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate these Terms"}),s.jsx("li",{children:"Engage in fraudulent or illegal activities"}),s.jsx("li",{children:"Fail to pay subscription fees"}),s.jsx("li",{children:"Create risk or legal liability for us"})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You may cancel your account at any time through account settings. Upon termination, you lose access to your store and data."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimers and Limitations of Liability"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"10.1 Service Availability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We strive for 99.9% uptime but do not guarantee uninterrupted service. We are not liable for downtime, data loss, or service interruptions."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.2 No Warranty"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Platform is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the service will be error-free or secure.'}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.3 Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, YesGive shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Indemnification"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to indemnify and hold YesGive harmless from any claims, damages, or expenses arising from your use of the Platform, violation of these Terms, or infringement of any rights."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. Changes will be effective upon posting. Continued use of the Platform constitutes acceptance of modified Terms. Material changes will be communicated via email or platform notifications."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law and Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"These Terms are governed by the laws of India. Any disputes shall be resolved through:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Informal negotiation (30 days)"}),s.jsx("li",{children:"Binding arbitration (if negotiation fails)"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions about these Terms, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Severability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full effect."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Entire Agreement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and YesGive regarding use of the Platform."})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),zot=ip({full_name:sn().min(2,"Name must be at least 2 characters"),email:sn().email("Invalid email address"),phone:sn().regex(/^\d{10}$/,"Phone number must be 10 digits"),why_helper:sn().optional(),bank_account_name:sn().min(2,"Account holder name is required"),bank_account_number:sn().min(8,"Invalid account number"),bank_ifsc_code:sn().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),bank_name:sn().min(2,"Bank name is required"),terms:Dc().refine(e=>e===!0,"You must agree to terms and conditions")});function qot(){const[e]=Ew(),[t,r]=_.useState(!1),[n,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[f,m]=_.useState(null),[p,y]=_.useState(!1),[g,v]=_.useState(""),w=e.get("ref"),b=zw({resolver:qw(zot),defaultValues:{full_name:"",email:"",phone:"",why_helper:"",bank_account_name:"",bank_account_number:"",bank_ifsc_code:"",bank_name:"",terms:!1}});_.useEffect(()=>{(async()=>{const{data:{session:C}}=await Y.auth.getSession();if(C?.user){const k=C.user;k.app_metadata?.provider==="google"&&(d(!0),m(k.id),b.setValue("email",k.email||""),b.setValue("full_name",k.user_metadata?.full_name||k.user_metadata?.name||""),lt.info("Signed in with Google! Please complete the remaining fields."))}})()},[]),_.useEffect(()=>{w&&Y.from("helpers").select("full_name").eq("referral_code",w).single().then(({data:S})=>{S&&o(S.full_name)})},[w]);const j=async()=>{try{c(!0),console.log("[BecomeHelper] Starting Google sign up...");const S=w?`${window.location.origin}/become-helper?ref=${w}`:`${window.location.origin}/become-helper`,{error:C}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:S}});C?(console.error("[BecomeHelper] Google sign up error:",C),lt.error(C.message||"Failed to sign up with Google")):console.log("[BecomeHelper] Google OAuth redirect initiated")}catch(S){console.error("[BecomeHelper] Unexpected error:",S),lt.error(S.message||"An unexpected error occurred")}finally{c(!1)}},E=async S=>{try{const{data:C}=await Y.from("stores").select("id, name, user_id").eq("user_id",await Y.from("profiles").select("user_id").eq("email",S.email).maybeSingle().then(({data:W})=>W?.user_id)).maybeSingle();if(C){v(`This email (${S.email}) is already registered as a store owner of "${C.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}const{data:k}=await Y.from("profiles").select("user_id").eq("email",S.email).maybeSingle();if(k){const{data:W}=await Y.from("stores").select("id, name").eq("user_id",k.user_id).maybeSingle();if(W){v(`This email is registered as store owner of "${W.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}}const{data:D}=await Y.from("stores").select("id, name, whatsapp_number").eq("whatsapp_number",S.phone).maybeSingle();if(D){v(`This phone number is already registered for store "${D.name}". Store owners cannot become helpers. Please use a different phone number.`),y(!0);return}const{data:O}=await Y.from("helper_applications").select("email").eq("email",S.email).maybeSingle();if(O){lt.error("This email is already registered as a helper");return}const{data:P}=await Y.from("helper_applications").select("phone").eq("phone",S.phone).maybeSingle();if(P){lt.error("This phone number is already registered as a helper");return}if(!u||!f){lt.error("Please sign in with Google first to submit your application");return}const A=f;let R=null;if(w){const{data:W}=await Y.from("helpers").select("id").eq("referral_code",w).single();W&&(R=W.id)}const{data:F,error:L}=await Y.from("helper_applications").insert({user_id:A,full_name:S.full_name,email:S.email,phone:S.phone,why_helper:S.why_helper,bank_account_name:S.bank_account_name,bank_account_number:S.bank_account_number,bank_ifsc_code:S.bank_ifsc_code,bank_name:S.bank_name,recruited_by_helper_id:R}).select().single();if(L)throw L;a(F.id.slice(0,8).toUpperCase()),r(!0),lt.success("Account created! Application submitted successfully!")}catch(C){console.error("Error submitting application:",C),lt.error(C.message||"Failed to submit application. Please try again.")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ke,{className:"max-w-2xl w-full",children:[s.jsxs(Qe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ns,{className:"w-10 h-10 text-white"})}),s.jsx(et,{className:"text-3xl",children:"Application Submitted Successfully! "}),s.jsx(Er,{className:"text-lg mt-4",children:"We'll review your application within 2-3 business days and notify you via email"})]}),s.jsxs(Te,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Application ID"}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",n]})]}),s.jsx(Ct,{to:"/application-status",children:s.jsx(oe,{className:"w-full",children:"Check Application Status"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Join Our Helper Program & Earn Commissions"}),s.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Help businesses grow and earn money for every paying customer you bring"}),i&&s.jsx("div",{className:"bg-primary-foreground text-primary p-4 rounded-lg inline-block mb-8",children:s.jsxs("p",{className:"font-semibold",children:["You're applying via ",s.jsxs("span",{className:"text-primary",children:[i,"'s"]})," referral"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Qa,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Earn 10% commission on every subscription you refer"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(_i,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Build your own helper network and earn additional 5%"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(kf,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Flexible working - work from anywhere"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Ns,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"No investment required - completely free to join"})]})]})]})}),s.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4",children:s.jsxs(ke,{children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Application Form"}),s.jsx(Er,{children:"Fill in your details to become a helper"})]}),s.jsxs(Te,{children:[!u&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Please sign in with Google to continue with your application"}),s.jsx(oe,{type:"button",onClick:j,disabled:l,variant:"outline",className:"w-full",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing up..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),u&&s.jsx(Ww,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-6",children:[s.jsx(vr,{control:b.control,name:"full_name",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Full Name *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Enter your full name",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:b.control,name:"email",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Email Address *"}),s.jsx(hr,{children:s.jsx(Ve,{type:"email",placeholder:"Enter your email",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Br,{})]})}),s.jsx(vr,{control:b.control,name:"phone",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"UPI Phone Number *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Enter 10-digit phone number",...S})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:b.control,name:"why_helper",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Why do you want to become a helper?"}),s.jsx(hr,{children:s.jsx(Na,{placeholder:"Tell us why you want to join our helper program",className:"min-h-32",...S})}),s.jsx(Br,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Bank Account Details"}),s.jsx(vr,{control:b.control,name:"bank_account_name",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Account Holder Name *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"As per bank records",...S})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:b.control,name:"bank_account_number",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Account Number *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Enter account number",...S})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:b.control,name:"bank_ifsc_code",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"IFSC Code *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"e.g., SBIN0001234",...S})}),s.jsx(Br,{})]})}),s.jsx(vr,{control:b.control,name:"bank_name",render:({field:S})=>s.jsxs(fr,{children:[s.jsx(yr,{children:"Bank Name *"}),s.jsx(hr,{children:s.jsx(Ve,{placeholder:"Enter your bank name",...S})}),s.jsx(Br,{})]})})]}),s.jsx(vr,{control:b.control,name:"terms",render:({field:S})=>s.jsxs(fr,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(hr,{children:s.jsx(vi,{checked:S.value,onCheckedChange:S.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(yr,{children:"I agree to terms and conditions *"}),s.jsx(Br,{})]})]})}),s.jsx(oe,{type:"submit",className:"w-full",size:"lg",children:"Apply Now"})]})})]})]})}),s.jsx(wn,{open:p,onOpenChange:y,children:s.jsxs(gn,{className:"sm:max-w-md",children:[s.jsxs(_n,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Kn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(jn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(ls,{className:"text-center text-base pt-4",children:g})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(oe,{onClick:()=>y(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})}function Wot(){const[e,t]=_.useState(""),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(!1),c=async()=>{if(!e.trim()){lt.error("Please enter an email or phone number");return}i(!0),l(!0);try{const{data:d,error:f}=await Y.from("helper_applications").select("*").or(`email.eq.${e},phone.eq.${e}`).single();if(f||!d){n(null);return}n(d)}catch(d){console.error("Error searching application:",d),lt.error("Failed to search application")}finally{i(!1)}},u=d=>{switch(d){case"Pending":return s.jsxs(wt,{className:"bg-yellow-500 text-white",children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),"Application Pending"]});case"Approved":return s.jsxs(wt,{className:"bg-green-500 text-white",children:[s.jsx(Ns,{className:"w-4 h-4 mr-1"}),"Application Approved!"]});case"Rejected":return s.jsxs(wt,{className:"bg-red-500 text-white",children:[s.jsx(Kn,{className:"w-4 h-4 mr-1"}),"Application Not Approved"]});default:return null}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Check Application Status"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter your email or phone number to check your helper application status"})]}),s.jsxs(ke,{className:"mb-8",children:[s.jsxs(Qe,{children:[s.jsx(et,{children:"Search Your Application"}),s.jsx(Er,{children:"Enter the email or phone number you used to apply"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Ve,{placeholder:"Enter email or phone number",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),s.jsxs(oe,{onClick:c,disabled:a,children:[s.jsx(Bl,{className:"w-4 h-4 mr-2"}),a?"Searching...":"Check Status"]})]})})]}),o&&!a&&s.jsx(s.Fragment,{children:r?s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(et,{children:"Application Details"}),u(r.application_status)]})}),s.jsxs(Te,{className:"space-y-6",children:[r.application_status==="Pending"&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg mb-2 text-yellow-900 dark:text-yellow-100",children:"Your application is under review. We'll notify you within 2-3 business days."}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Application ID:"})," ",r.id.slice(0,8).toUpperCase()]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Applied on:"})," ",jr(new Date(r.created_at),"PPP")]})]})]}),r.application_status==="Approved"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Congratulations! Your application has been approved."}),s.jsx("div",{className:"mt-4 space-y-2 text-sm text-green-800 dark:text-green-200",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Approved on:"})," ",r.approved_at?jr(new Date(r.approved_at),"PPP"):"N/A"]})}),s.jsx(Ct,{to:"/auth",children:s.jsx(oe,{className:"mt-4 w-full",children:"Login to Dashboard"})})]}),r.application_status==="Rejected"&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-4",children:"Your application was not approved at this time."}),r.rejection_reason&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-1 text-red-900 dark:text-red-100",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.rejection_reason})]}),s.jsxs("div",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Rejected on:"})," ",jr(new Date(r.created_at),"PPP")]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Can reapply on:"})," ",jr(KJe(new Date(r.created_at),30),"PPP")]})]}),s.jsx("p",{className:"mt-4 text-sm text-red-700 dark:text-red-300",children:"You can reapply after 30 days from rejection date"})]})]})]}):s.jsx(ke,{children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(Kn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Application Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find an application with this email or phone number"}),s.jsx(Ct,{to:"/become-helper",children:s.jsx(oe,{children:"Apply Now"})})]})})})]})})}function Hot(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState({directReferrals:{total:0,trial:0,paid:0,conversionRate:0},helperNetwork:{total:0,pending:0,approved:0,suspended:0},directCommission:{total:0,pending:0,paid:0},networkCommission:{total:0,pending:0,paid:0}});_.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:y}}=await Y.auth.getUser();if(!y){e("/auth");return}const{data:g,error:v}=await Y.from("helpers").select("*").eq("email",y.email).single();if(v||!g){const{data:w}=await Y.from("helper_applications").select("*").eq("email",y.email).single();if(w){if(w.application_status==="Pending"){e("/application-status");return}else if(w.application_status==="Rejected"){t({title:"Application Rejected",description:w.rejection_reason||"Your application was not approved",variant:"destructive"}),e("/application-status");return}}else{e("/become-helper");return}}if(g.status==="Suspended"){t({title:"Account Suspended",description:"Your helper account has been suspended. Please contact support.",variant:"destructive"});return}i(g),await u(g.id),n(!1)}catch(y){console.error("Error checking helper access:",y),e("/auth")}},u=async y=>{try{const{data:g}=await Y.from("store_referrals").select("*").eq("helper_id",y),v=g?.length||0,w=g?.filter(V=>!V.subscription_purchased).length||0,b=g?.filter(V=>V.subscription_purchased).length||0,j=v>0?b/v*100:0,{data:E}=await Y.from("helpers").select("*, helper_applications!inner(*)").eq("recruited_by_helper_id",y),S=E?.length||0,{data:C}=await Y.from("helper_applications").select("*").eq("recruited_by_helper_id",y).eq("application_status","Pending"),k=E?.filter(V=>V.status==="Active").length||0,D=E?.filter(V=>V.status==="Suspended").length||0,{data:O}=await Y.from("network_commissions").select("*").eq("earning_helper_id",y),P=O?.reduce((V,H)=>V+(H.direct_commission_amount||0),0)||0,A=O?.reduce((V,H)=>V+(H.network_commission_amount||0),0)||0,R=O?.filter(V=>V.commission_status.includes("Pending")).reduce((V,H)=>V+(H.direct_commission_amount||0),0)||0,F=O?.filter(V=>V.commission_status==="Paid").reduce((V,H)=>V+(H.direct_commission_amount||0),0)||0,L=O?.filter(V=>V.commission_status.includes("Pending")).reduce((V,H)=>V+(H.network_commission_amount||0),0)||0,W=O?.filter(V=>V.commission_status==="Paid").reduce((V,H)=>V+(H.network_commission_amount||0),0)||0;l({directReferrals:{total:v,trial:w,paid:b,conversionRate:Math.round(j)},helperNetwork:{total:S,pending:C?.length||0,approved:k,suspended:D},directCommission:{total:P,pending:R,paid:F},networkCommission:{total:A,pending:L,paid:W}})}catch(g){console.error("Error loading stats:",g)}},d=(y,g)=>{navigator.clipboard.writeText(y),lt.success(`${g} link copied to clipboard!`)},f=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!a)return null;const m=`${window.location.origin}/auth?ref=${a.referral_code}`,p=`${window.location.origin}/become-helper?ref=${a.referral_code}`;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qf,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Helper Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),s.jsx("span",{children:a.full_name})]})}),s.jsxs(hu,{align:"end",className:"w-56",children:[s.jsxs($n,{onClick:()=>e("/helper/profile"),children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(np,{}),s.jsxs($n,{onClick:f,className:"text-destructive",children:[s.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome back, ",a.full_name,"!"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(wt,{variant:"outline",className:"font-mono",children:["ID: ",a.referral_code]}),s.jsx(wt,{className:a.status==="Active"?"bg-green-500":"bg-yellow-500",children:a.status})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Direct Referrals"}),s.jsx(_i,{className:"h-5 w-5 text-blue-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:o.directReferrals.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.directReferrals.trial," on trial"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.directReferrals.paid," paid customers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"h-3 w-3"}),s.jsxs("span",{children:["Conversion: ",o.directReferrals.conversionRate,"%"]})]})]})]})]}),s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Helper Network"}),s.jsx(xm,{className:"h-5 w-5 text-purple-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o.helperNetwork.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.helperNetwork.pending," pending approval"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.helperNetwork.approved," approved & active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{children:[o.helperNetwork.suspended," suspended"]})]})]})]})]}),s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Direct Commission"}),s.jsx(Qa,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:["",o.directCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.directCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.directCommission.paid.toLocaleString()," paid"]})]})]})]})]}),s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Qe,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Network Commission"}),s.jsx(XB,{className:"h-5 w-5 text-orange-500"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:["",o.networkCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.networkCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.networkCommission.paid.toLocaleString()," paid"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-referrals"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Store Referrals"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.directReferrals.total," store owners you've referred"]})]}),s.jsx(sa,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-helper-network"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Helper Network"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.helperNetwork.total," helpers you've recruited"]})]}),s.jsx(sa,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/commission-history"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Commission History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings & payment details"})]}),s.jsx(sa,{className:"h-6 w-6 text-primary"})]})})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(XB,{className:"h-5 w-5"}),"Your Referral Links"]})}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Store Owner Referral Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to refer store owners"})]}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(QB,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:m}),s.jsxs(oe,{onClick:()=>d(m,"Store referral"),className:"gap-2",children:[s.jsx(lc,{className:"h-4 w-4"}),"Copy"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Helper Recruitment Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to recruit helpers"})]}),s.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(QB,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:p}),s.jsxs(oe,{onClick:()=>d(p,"Helper recruitment"),className:"gap-2",children:[s.jsx(lc,{className:"h-4 w-4"}),"Copy"]})]})]})]})]})]})]})}function Got(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(""),[m,p]=_.useState("all"),[y,g]=_.useState(""),[v,w]=_.useState(""),[b,j]=_.useState({totalReferrals:0,onTrial:0,convertedToPaid:0,conversionRate:0,totalCommission:0,pendingPayment:0,alreadyPaid:0});_.useEffect(()=>{E()},[]),_.useEffect(()=>{C()},[o,d,m,y,v]);const E=async()=>{try{const{data:{user:P}}=await Y.auth.getUser();if(!P){e("/auth");return}const{data:A,error:R}=await Y.from("helpers").select("*").eq("email",P.email).single();if(R||!A){e("/helper/dashboard");return}i(A),await S(A.id),n(!1)}catch(P){console.error("Error checking helper access:",P),e("/auth")}},S=async P=>{try{const{data:A,error:R}=await Y.from("store_referrals").select("*").eq("helper_id",P).order("signup_date",{ascending:!1});if(R)throw R;const F=A?.length||0,L=A?.filter(z=>z.trial_status==="Active"&&!z.subscription_purchased).length||0,W=A?.filter(z=>z.subscription_purchased).length||0,V=F>0?W/F*100:0,{data:H}=await Y.from("network_commissions").select("*").eq("earning_helper_id",P).in("store_referral_id",A?.map(z=>z.id)||[]),G=H?.reduce((z,Z)=>z+(Z.direct_commission_amount||0),0)||0,I=H?.filter(z=>z.commission_status.includes("Pending")).reduce((z,Z)=>z+(Z.direct_commission_amount||0),0)||0,U=H?.filter(z=>z.commission_status==="Paid").reduce((z,Z)=>z+(Z.direct_commission_amount||0),0)||0;j({totalReferrals:F,onTrial:L,convertedToPaid:W,conversionRate:Math.round(V),totalCommission:G,pendingPayment:I,alreadyPaid:U});const X=A?.map(z=>{const Z=H?.find(J=>J.store_referral_id===z.id);return{...z,commissionEarned:Z?.direct_commission_amount||0,commissionStatus:Z?.commission_status||"Not Earned",paymentDate:Z?.payment_date||null}})||[];l(X),u(X)}catch(A){console.error("Error loading referrals:",A),lt.error("Failed to load referrals")}},C=()=>{let P=[...o];d&&(P=P.filter(A=>A.store_owner_name?.toLowerCase().includes(d.toLowerCase())||A.store_owner_email?.toLowerCase().includes(d.toLowerCase()))),m==="paid"?P=P.filter(A=>A.subscription_purchased):m==="trial"&&(P=P.filter(A=>!A.subscription_purchased)),y&&(P=P.filter(A=>new Date(A.signup_date)>=new Date(y))),v&&(P=P.filter(A=>new Date(A.signup_date)<=new Date(v))),u(P)},k=P=>{if(P.subscription_purchased)return{label:"Purchased",color:"bg-green-500",icon:en};if(P.trial_status==="Active"){const A=P.trial_end_date?QS(new Date(P.trial_end_date),new Date):0;return A>0?{label:`Active Trial (${A}d left)`,color:"bg-yellow-500",icon:ks}:{label:"Trial Expired",color:"bg-red-500",icon:Kn}}return{label:"Trial Expired",color:"bg-red-500",icon:Kn}},D=P=>P==="Paid"?s.jsx(wt,{className:"bg-blue-500",children:"Paid"}):P.includes("Pending")?s.jsx(wt,{className:"bg-yellow-500",children:"Pending"}):P.includes("Earned")?s.jsx(wt,{className:"bg-green-500",children:"Earned"}):s.jsx(wt,{variant:"outline",children:"Not Earned"}),O=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading referrals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ct,{to:"/helper/dashboard",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qf,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Referrals"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(hu,{align:"end",className:"w-56",children:[s.jsxs($n,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(np,{}),s.jsxs($n,{onClick:O,className:"text-destructive",children:[s.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"})}),s.jsx(Te,{children:s.jsx("div",{className:"text-3xl font-bold",children:b.totalReferrals})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"On Trial / Paid"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[s.jsx("span",{className:"text-yellow-500",children:b.onTrial})," / ",s.jsx("span",{className:"text-green-500",children:b.convertedToPaid})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Conversion: ",b.conversionRate,"%"]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"})}),s.jsx(Te,{children:s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",b.totalCommission.toLocaleString()]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",b.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",b.alreadyPaid.toLocaleString()]})]})]})})]})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Ve,{placeholder:"Search by name or email...",value:d,onChange:P=>f(P.target.value),className:"pl-10"})]}),s.jsxs(br,{value:m,onValueChange:p,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Filter by status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"Show All"}),s.jsx(Ye,{value:"paid",children:"Show Only Paid"}),s.jsx(Ye,{value:"trial",children:"Show Only Trials"})]})]}),s.jsx(Ve,{type:"date",placeholder:"From date",value:y,onChange:P=>g(P.target.value)}),s.jsx(Ve,{type:"date",placeholder:"To date",value:v,onChange:P=>w(P.target.value)})]})})}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{children:["Store Referrals (",c.length,")"]})}),s.jsx(Te,{children:c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_i,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No referrals found"})]}):s.jsx("div",{className:"space-y-4",children:c.map(P=>{const A=k(P),R=A.icon;return s.jsx(ke,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:P.store_owner_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:P.store_owner_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:P.store_owner_phone}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx($l,{className:"inline w-3 h-3 mr-1"}),"Signed up: ",jr(new Date(P.signup_date),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Status"}),s.jsxs(wt,{className:`${A.color} flex items-center gap-1 w-fit`,children:[s.jsx(R,{className:"w-3 h-3"}),A.label]}),P.subscription_purchased&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("div",{className:"text-muted-foreground",children:["Plan: ",P.subscription_plan]}),s.jsxs("div",{className:"text-muted-foreground",children:["Amount: ",P.subscription_amount?.toLocaleString()]}),P.purchase_date&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Purchased: ",jr(new Date(P.purchase_date),"PP")]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500",children:["",P.commissionEarned.toLocaleString()]}),s.jsx("div",{className:"mt-2",children:D(P.commissionStatus)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Payment"}),P.paymentDate?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Paid on:"}),s.jsx("div",{className:"font-medium",children:jr(new Date(P.paymentDate),"PPP")})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not paid yet"})]})]})})},P.id)})})})]})]})]})}function Kot(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState({totalRecruited:0,pendingApproval:0,active:0,suspended:0,totalNetworkCommission:0,pendingCommission:0,paidCommission:0,bestPerformer:{name:"",earned:0}});_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:v}}=await Y.auth.getUser();if(!v){e("/auth");return}const{data:w,error:b}=await Y.from("helpers").select("*").eq("email",v.email).single();if(b||!w){e("/helper/dashboard");return}i(w),await f(w.id),n(!1)}catch(v){console.error("Error checking helper access:",v),e("/auth")}},f=async v=>{try{const{data:w,error:b}=await Y.from("helpers").select(`
          *,
          helper_applications!inner(application_status)
        `).eq("recruited_by_helper_id",v).order("created_at",{ascending:!1});if(b)throw b;const j=await Promise.all((w||[]).map(async R=>{const{data:F}=await Y.from("store_referrals").select("id").eq("helper_id",R.id),{data:L}=await Y.from("network_commissions").select("direct_commission_amount, commission_status").eq("earning_helper_id",R.id),W=L?.reduce((I,U)=>I+(U.direct_commission_amount||0),0)||0,{data:V}=await Y.from("network_commissions").select("network_commission_amount, commission_status").eq("earning_helper_id",R.id).eq("recruiting_helper_id",v),H=V?.reduce((I,U)=>I+(U.network_commission_amount||0),0)||0;let G="Not Earned";if(V&&V.length>0){const I=V.some(X=>X.commission_status.includes("Pending"));V.every(X=>X.commission_status==="Paid")?G="Paid":I?G="Pending":G="Earned"}return{...R,store_referrals_count:F?.length||0,total_commission_earned:W,network_commission_to_recruiter:H,commission_status:G,application_status:R.helper_applications?.application_status||"Pending"}}));l(j);const E=j.length,S=j.filter(R=>R.application_status==="Pending").length,C=j.filter(R=>R.status==="Active").length,k=j.filter(R=>R.status==="Suspended").length,D=j.reduce((R,F)=>R+F.network_commission_to_recruiter,0),O=j.filter(R=>R.commission_status==="Pending").reduce((R,F)=>R+F.network_commission_to_recruiter,0),P=j.filter(R=>R.commission_status==="Paid").reduce((R,F)=>R+F.network_commission_to_recruiter,0),A=j.reduce((R,F)=>F.network_commission_to_recruiter>R.earned?{name:F.full_name,earned:F.network_commission_to_recruiter}:R,{name:"",earned:0});u({totalRecruited:E,pendingApproval:S,active:C,suspended:k,totalNetworkCommission:D,pendingCommission:O,paidCommission:P,bestPerformer:A})}catch(w){console.error("Error loading recruited helpers:",w),lt.error("Failed to load network data")}},m=(v,w)=>w==="Pending"?s.jsxs(wt,{className:"bg-yellow-500",children:[s.jsx(ks,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}):v==="Active"?s.jsxs(wt,{className:"bg-green-500",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),"Active"]}):v==="Suspended"?s.jsxs(wt,{className:"bg-red-500",children:[s.jsx(Kn,{className:"w-3 h-3 mr-1"}),"Suspended"]}):s.jsx(wt,{variant:"outline",children:"Unknown"}),p=v=>v==="Paid"?s.jsx(wt,{className:"bg-blue-500",children:"Paid"}):v==="Pending"?s.jsx(wt,{className:"bg-yellow-500",children:"Pending"}):v==="Earned"?s.jsx(wt,{className:"bg-green-500",children:"Earned"}):s.jsx(wt,{variant:"outline",children:"Not Earned"}),y=(v,w)=>{navigator.clipboard.writeText(v),lt.success(`${w} copied to clipboard!`)},g=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading network..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ct,{to:"/helper/dashboard",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($R,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Helper Network"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(hu,{align:"end",className:"w-56",children:[s.jsxs($n,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(np,{}),s.jsxs($n,{onClick:g,className:"text-destructive",children:[s.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Network Size"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:c.totalRecruited}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Pending: ",c.pendingApproval," | Active: ",c.active]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Total Network Commission"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",c.totalNetworkCommission.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["From ",c.active," active helpers"]})]})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Commission Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",c.pendingCommission.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",c.paidCommission.toLocaleString()]})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{className:"pb-2",children:s.jsx(et,{className:"text-sm font-medium text-muted-foreground",children:"Best Performer"})}),s.jsx(Te,{children:c.bestPerformer.name?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-lg truncate",children:c.bestPerformer.name}),s.jsxs("p",{className:"text-sm text-green-500",children:["Earned you ",c.bestPerformer.earned.toLocaleString()]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet"})})]})]}),o.length===0?s.jsx(ke,{children:s.jsx(Te,{className:"py-16",children:s.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[s.jsx($R,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Build Your Helper Network"}),s.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"You haven't recruited any helpers yet. Start building your network to earn 5% network commission on their earnings!"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Qa,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Passive Income"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 5% of everything your recruited helpers earn"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Dl,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Unlimited Potential"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No limit on how many helpers you can recruit"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(FR,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Build Your Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a strong network and grow together"})]})]}),s.jsxs("div",{className:"bg-primary/5 border-2 border-primary/20 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center justify-center gap-2",children:[s.jsx(lZ,{className:"h-5 w-5"}),"Your Helper Recruitment Link"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-4 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(oe,{onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(lc,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this link with people interested in becoming helpers"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(ke,{className:"bg-primary/5 border-primary/20",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(Sf,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:["You (",a?.full_name," - ",a?.helper_id,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Network Builder | ",o.length," Helper",o.length!==1?"s":""," Recruited"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(oe,{size:"sm",onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(lc,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Your Recruited Helpers (",o.length,")"]}),o.map((v,w)=>s.jsx(ke,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(_i,{className:"h-4 w-4 text-primary"})}),w<o.length-1&&s.jsx("div",{className:"w-0.5 h-full bg-primary/20 mt-2"})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:v.full_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.id," | ",v.referral_code]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx($l,{className:"inline w-3 h-3 mr-1"}),"Joined: ",jr(new Date(v.created_at),"PPP")]}),s.jsx("div",{className:"mt-2",children:m(v.status,v.application_status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Their Performance"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qf,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Store Referrals:"}),s.jsx("span",{className:"font-semibold",children:v.store_referrals_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Their Earnings:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",v.total_commission_earned.toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Your Network Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500 mb-2",children:["",v.network_commission_to_recruiter.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["5% of their ",v.total_commission_earned.toLocaleString()]}),p(v.commission_status)]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(oe,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})]})})},v.id))]})]})]})]})}function Yot(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState([]),[m,p]=_.useState([]),[y,g]=_.useState(""),[v,w]=_.useState(""),[b,j]=_.useState("all"),[E,S]=_.useState("all"),[C,k]=_.useState({direct:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},network:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},grand:{total:0,pending:0,paid:0,nextPaymentDate:""}});_.useEffect(()=>{D()},[]),_.useEffect(()=>{P()},[o,c,y,v,b,E]);const D=async()=>{try{const{data:{user:L}}=await Y.auth.getUser();if(!L){e("/auth");return}const{data:W,error:V}=await Y.from("helpers").select("*").eq("email",L.email).single();if(V||!W){e("/helper/dashboard");return}i(W),await O(W.id),n(!1)}catch(L){console.error("Error checking helper access:",L),e("/auth")}},O=async L=>{try{const{data:W,error:V}=await Y.from("network_commissions").select(`
          *,
          store_referral:store_referrals(
            store_owner_name,
            store_owner_email,
            subscription_plan,
            subscription_amount
          )
        `).eq("earning_helper_id",L).order("created_at",{ascending:!1});if(V)throw V;const H=[],G=[];for(const se of W||[])if(se.direct_commission_amount>0&&H.push({id:se.id,date_earned:se.created_at,store_owner_name:se.store_referral?.store_owner_name||"N/A",subscription_plan:se.store_referral?.subscription_plan||"N/A",plan_amount:se.store_referral?.subscription_amount||0,commission_amount:se.direct_commission_amount,commission_status:se.commission_status,payment_date:se.payment_date,payment_reference:se.payment_reference}),se.network_commission_amount>0&&se.recruiting_helper_id){const{data:B}=await Y.from("helpers").select("full_name").eq("id",se.earning_helper_id).single();G.push({id:se.id,date_earned:se.created_at,helper_name:B?.full_name||"N/A",customer_name:se.store_referral?.store_owner_name||"N/A",helper_commission:se.direct_commission_amount,network_commission:se.network_commission_amount,commission_status:se.commission_status,payment_date:se.payment_date,payment_reference:se.payment_reference})}l(H),u(G);const I=H.reduce((se,B)=>se+B.commission_amount,0),U=H.filter(se=>se.commission_status.includes("Pending")).reduce((se,B)=>se+B.commission_amount,0),X=H.filter(se=>se.commission_status==="Paid").reduce((se,B)=>se+B.commission_amount,0),z=H.filter(se=>se.commission_status.includes("Pending")).length,Z=H.filter(se=>se.commission_status==="Paid").length,J=G.reduce((se,B)=>se+B.network_commission,0),Q=G.filter(se=>se.commission_status.includes("Pending")).reduce((se,B)=>se+B.network_commission,0),de=G.filter(se=>se.commission_status==="Paid").reduce((se,B)=>se+B.network_commission,0),fe=G.filter(se=>se.commission_status.includes("Pending")).length,pe=G.filter(se=>se.commission_status==="Paid").length,K=[...H,...G].filter(se=>se.commission_status.includes("Pending")&&se.payment_date).map(se=>new Date(se.payment_date).getTime()).sort((se,B)=>se-B),ee=K.length>0?jr(new Date(K[0]),"PPP"):"TBD";k({direct:{total:I,pending:U,paid:X,pendingCount:z,paidCount:Z},network:{total:J,pending:Q,paid:de,pendingCount:fe,paidCount:pe},grand:{total:I+J,pending:U+Q,paid:X+de,nextPaymentDate:ee}})}catch(W){console.error("Error loading commissions:",W),lt.error("Failed to load commission history")}},P=()=>{let L=[...o],W=[...c];y&&(L=L.filter(V=>new Date(V.date_earned)>=new Date(y)),W=W.filter(V=>new Date(V.date_earned)>=new Date(y))),v&&(L=L.filter(V=>new Date(V.date_earned)<=new Date(v)),W=W.filter(V=>new Date(V.date_earned)<=new Date(v))),b==="pending"?(L=L.filter(V=>V.commission_status.includes("Pending")),W=W.filter(V=>V.commission_status.includes("Pending"))):b==="paid"&&(L=L.filter(V=>V.commission_status==="Paid"),W=W.filter(V=>V.commission_status==="Paid")),E==="direct"?W=[]:E==="network"&&(L=[]),f(L),p(W)},A=L=>L==="Paid"?s.jsxs(wt,{className:"bg-green-500",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),"Paid"]}):L.includes("Pending")?s.jsxs(wt,{className:"bg-yellow-500",children:[s.jsx(ks,{className:"w-3 h-3 mr-1"}),"Pending"]}):s.jsx(wt,{variant:"outline",children:L}),R=()=>{try{const L=d.map(U=>({"Date Earned":jr(new Date(U.date_earned),"PPP"),"Store Owner":U.store_owner_name,"Subscription Plan":U.subscription_plan,"Plan Amount":`${U.plan_amount.toLocaleString()}`,"Your Commission (10%)":`${U.commission_amount.toLocaleString()}`,Status:U.commission_status,"Payment Date":U.payment_date?jr(new Date(U.payment_date),"PPP"):"N/A","Payment Reference":U.payment_reference||"N/A"})),W=m.map(U=>({"Date Earned":jr(new Date(U.date_earned),"PPP"),"Helper Name":U.helper_name,"Their Customer":U.customer_name,"Their Commission":`${U.helper_commission.toLocaleString()}`,"Your Network Commission (5%)":`${U.network_commission.toLocaleString()}`,Status:U.commission_status,"Payment Date":U.payment_date?jr(new Date(U.payment_date),"PPP"):"N/A","Payment Reference":U.payment_reference||"N/A"})),V=na.book_new();if(L.length>0){const U=na.json_to_sheet(L);na.book_append_sheet(V,U,"Direct Commissions")}if(W.length>0){const U=na.json_to_sheet(W);na.book_append_sheet(V,U,"Network Commissions")}const H=[{Category:"Direct Commissions",Total:`${C.direct.total.toLocaleString()}`,Pending:`${C.direct.pending.toLocaleString()}`,Paid:`${C.direct.paid.toLocaleString()}`},{Category:"Network Commissions",Total:`${C.network.total.toLocaleString()}`,Pending:`${C.network.pending.toLocaleString()}`,Paid:`${C.network.paid.toLocaleString()}`},{Category:"GRAND TOTAL",Total:`${C.grand.total.toLocaleString()}`,Pending:`${C.grand.pending.toLocaleString()}`,Paid:`${C.grand.paid.toLocaleString()}`}],G=na.json_to_sheet(H);na.book_append_sheet(V,G,"Summary");const I=`commission_history_${jr(new Date,"yyyy-MM-dd")}.xlsx`;qm(V,I),lt.success("Commission history exported successfully!")}catch(L){console.error("Error exporting to Excel:",L),lt.error("Failed to export commission history")}},F=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commission history..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ct,{to:"/helper/dashboard",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Commission History"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(hu,{align:"end",className:"w-56",children:[s.jsxs($n,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(np,{}),s.jsxs($n,{onClick:F,className:"text-destructive",children:[s.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(ke,{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500/20",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earned"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",C.grand.total.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct + Network"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-500",children:["",C.grand.pending.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-500",children:["",C.grand.paid.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Received"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Next Payment"}),s.jsx("p",{className:"text-xl font-bold",children:C.grand.nextPaymentDate}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected date"})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Ve,{type:"date",placeholder:"From date",value:y,onChange:L=>g(L.target.value)}),s.jsx(Ve,{type:"date",placeholder:"To date",value:v,onChange:L=>w(L.target.value)}),s.jsxs(br,{value:b,onValueChange:j,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Status"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Status"}),s.jsx(Ye,{value:"pending",children:"Pending Only"}),s.jsx(Ye,{value:"paid",children:"Paid Only"})]})]}),s.jsxs(br,{value:E,onValueChange:S,children:[s.jsx(mr,{children:s.jsx(wr,{placeholder:"Type"})}),s.jsxs(pr,{children:[s.jsx(Ye,{value:"all",children:"All Types"}),s.jsx(Ye,{value:"direct",children:"Direct Only"}),s.jsx(Ye,{value:"network",children:"Network Only"})]})]}),s.jsxs(oe,{onClick:R,className:"w-full",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]})})}),E!=="network"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Direct Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Store Owners You Referred)"})]}),s.jsx(ke,{className:"bg-green-500/5 border-green-500/20",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Direct Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",C.direct.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.direct.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.pendingCount," customer",C.direct.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-blue-500",children:["",C.direct.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.paidCount," customer",C.direct.paidCount!==1?"s":""]})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No direct commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Date Earned"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Subscription Plan"}),s.jsx(tt,{children:"Plan Amount"}),s.jsx(tt,{children:"Your Commission (10%)"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Payment Date"}),s.jsx(tt,{children:"Reference"})]})}),s.jsx(oa,{children:d.map(L=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),jr(new Date(L.date_earned),"PP")]})}),s.jsx(Xe,{className:"font-medium",children:L.store_owner_name}),s.jsx(Xe,{children:L.subscription_plan}),s.jsxs(Xe,{children:["",L.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",L.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:A(L.commission_status)}),s.jsx(Xe,{children:L.payment_date?jr(new Date(L.payment_date),"PP"):"-"}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:L.payment_reference||"-"})]},L.id))})]})})})})]}),E!=="direct"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Network Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Helpers You Recruited)"})]}),s.jsx(ke,{className:"bg-blue-500/5 border-blue-500/20",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Network Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",C.network.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.network.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.pendingCount," helper",C.network.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",C.network.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.paidCount," helper",C.network.paidCount!==1?"s":""]})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Qa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No network commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Date Earned"}),s.jsx(tt,{children:"Helper Name"}),s.jsx(tt,{children:"Their Customer"}),s.jsx(tt,{children:"Their Commission"}),s.jsx(tt,{children:"Your Network Commission (5%)"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Payment Date"}),s.jsx(tt,{children:"Reference"})]})}),s.jsx(oa,{children:m.map(L=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),jr(new Date(L.date_earned),"PP")]})}),s.jsx(Xe,{className:"font-medium",children:L.helper_name}),s.jsx(Xe,{children:L.customer_name}),s.jsxs(Xe,{children:["",L.helper_commission.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-blue-500",children:["",L.network_commission.toLocaleString()]}),s.jsx(Xe,{children:A(L.commission_status)}),s.jsx(Xe,{children:L.payment_date?jr(new Date(L.payment_date),"PP"):"-"}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:L.payment_reference||"-"})]},L.id))})]})})})})]})]})]})}function Xot(){const e=ur(),{toast:t}=ss(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(null),[y,g]=_.useState({full_name:"",phone:""}),[v,w]=_.useState({account_holder_name:"",account_number:"",ifsc_code:"",bank_name:""}),[b,j]=_.useState(""),[E,S]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,k]=_.useState({memberSince:"",daysActive:0,totalEarnings:0,rank:"Bronze",badges:[]});_.useEffect(()=>{D()},[]);const D=async()=>{try{const{data:{user:V}}=await Y.auth.getUser();if(!V){e("/auth");return}const{data:H,error:G}=await Y.from("helpers").select("*").eq("email",V.email).single();if(G||!H){e("/helper/dashboard");return}if(i(H),g({full_name:H.full_name,phone:H.phone}),H.application_id){const{data:I}=await Y.from("helper_applications").select("bank_account_name, bank_account_number, bank_ifsc_code, bank_name").eq("id",H.application_id).single();I&&w({account_holder_name:I.bank_account_name||"",account_number:I.bank_account_number||"",ifsc_code:I.bank_ifsc_code||"",bank_name:I.bank_name||""})}await O(H.id,H.created_at),n(!1)}catch(V){console.error("Error checking helper access:",V),e("/auth")}},O=async(V,H)=>{try{const G=QS(new Date,new Date(H)),{data:I}=await Y.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",V),U=I?.reduce((Z,J)=>Z+(J.direct_commission_amount||0)+(J.network_commission_amount||0),0)||0;let X="Bronze";const z=[];U>=1e5?(X="Gold",z.push("Gold Member","Top Performer","Network Builder")):U>=5e4?(X="Silver",z.push("Silver Member","Rising Star")):(X="Bronze",G>=30&&z.push("Consistent Helper"),U>0&&z.push("First Earnings")),k({memberSince:jr(new Date(H),"PPP"),daysActive:G,totalEarnings:U,rank:X,badges:z})}catch(G){console.error("Error loading performance:",G)}},P=async()=>{try{const{error:V}=await Y.from("helpers").update({full_name:y.full_name,phone:y.phone,updated_at:new Date().toISOString()}).eq("id",a.id);if(V)throw V;i({...a,full_name:y.full_name,phone:y.phone}),l(!1),lt.success("Profile updated successfully!")}catch(V){console.error("Error updating profile:",V),lt.error("Failed to update profile")}},A=()=>{p(v),f(!0)},R=async()=>{try{const{data:{user:V}}=await Y.auth.getUser();if(!V?.email)throw new Error("User not found");const{error:H}=await Y.auth.signInWithPassword({email:V.email,password:b});if(H){lt.error("Incorrect password");return}const{error:G}=await Y.from("helper_applications").update({bank_account_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}).eq("id",a.application_id);if(G)throw G;i({...a,bank_account_holder_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}),u(!1),f(!1),j(""),p(null),lt.success("Bank details updated successfully!")}catch(V){console.error("Error updating bank details:",V),lt.error("Failed to update bank details")}},F=async()=>{if(E.newPassword!==E.confirmPassword){lt.error("New passwords do not match");return}if(E.newPassword.length<6){lt.error("Password must be at least 6 characters");return}try{const{data:{user:V}}=await Y.auth.getUser();if(!V?.email)throw new Error("User not found");const{error:H}=await Y.auth.signInWithPassword({email:V.email,password:E.currentPassword});if(H){lt.error("Current password is incorrect");return}const{error:G}=await Y.auth.updateUser({password:E.newPassword});if(G)throw G;S({currentPassword:"",newPassword:"",confirmPassword:""}),lt.success("Password changed successfully!")}catch(V){console.error("Error changing password:",V),lt.error("Failed to change password")}},L=V=>{const H={Bronze:"bg-orange-500",Silver:"bg-gray-400",Gold:"bg-yellow-500"};return s.jsxs(wt,{className:`${H[V]} text-white text-lg px-4 py-1`,children:[s.jsx(FR,{className:"w-4 h-4 mr-2"}),V]})},W=async()=>{await Y.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ct,{to:"/helper/dashboard",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ba,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Profile & Settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(si,{}),s.jsxs(cd,{children:[s.jsx(ud,{asChild:!0,children:s.jsxs(oe,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(hu,{align:"end",className:"w-56",children:[s.jsxs($n,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(np,{}),s.jsxs($n,{onClick:W,className:"text-destructive",children:[s.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsx("main",{className:"container mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(Sf,{className:"h-5 w-5"}),"Profile Information"]}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{l(!1),g({full_name:a.full_name,phone:a.phone})},children:[s.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(oe,{size:"sm",onClick:P,children:[s.jsx(_c,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[s.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Te,{className:"space-y-4",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Full Name"}),s.jsx(Ve,{value:y.full_name,onChange:V=>g({...y,full_name:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Phone"}),s.jsx(Ve,{value:y.phone,onChange:V=>g({...y,phone:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Email (Cannot be changed)"}),s.jsx(Ve,{value:a.email,disabled:!0})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Full Name"}),s.jsx("p",{className:"font-semibold",children:a.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(wc,{className:"h-4 w-4"}),a.email]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(pc,{className:"h-4 w-4"}),a.phone]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Helper ID"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(qf,{className:"h-4 w-4"}),a.helper_id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Referral Code"}),s.jsx("p",{className:"font-semibold text-primary",children:a.referral_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Joined Date"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4"}),jr(new Date(a.created_at),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(wt,{className:a.status==="Active"?"bg-green-500":"bg-red-500",children:a.status})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),"Bank Details"]}),c?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>{u(!1),w({account_holder_name:a.bank_account_holder_name||"",account_number:a.bank_account_number||"",ifsc_code:a.bank_ifsc_code||"",bank_name:a.bank_name||""})},children:[s.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(oe,{size:"sm",onClick:A,children:[s.jsx(_c,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>u(!0),children:[s.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Te,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Account Holder Name"}),s.jsx(Ve,{value:v.account_holder_name,onChange:V=>w({...v,account_holder_name:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Account Number"}),s.jsx(Ve,{value:v.account_number,onChange:V=>w({...v,account_number:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"IFSC Code"}),s.jsx(Ve,{value:v.ifsc_code,onChange:V=>w({...v,ifsc_code:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Bank Name"}),s.jsx(Ve,{value:v.bank_name,onChange:V=>w({...v,bank_name:V.target.value})})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.bank_account_holder_name?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Holder Name"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_holder_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Number"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_number?`****${a.bank_account_number.slice(-4)}`:"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"IFSC Code"}),s.jsx("p",{className:"font-semibold",children:a.bank_ifsc_code||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Bank Name"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(l0e,{className:"h-4 w-4"}),a.bank_name||"Not provided"]})]})]}):s.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[s.jsx(In,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No bank details added yet"})]})})})]}),s.jsxs(ke,{children:[s.jsx(Qe,{children:s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"h-5 w-5"}),"Change Password"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Current Password"}),s.jsx(Ve,{type:"password",value:E.currentPassword,onChange:V=>S({...E,currentPassword:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"New Password"}),s.jsx(Ve,{type:"password",value:E.newPassword,onChange:V=>S({...E,newPassword:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Confirm New Password"}),s.jsx(Ve,{type:"password",value:E.confirmPassword,onChange:V=>S({...E,confirmPassword:V.target.value})})]}),s.jsx(oe,{onClick:F,children:"Update Password"})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(ke,{className:"bg-gradient-to-br from-primary/10 to-purple-500/10",children:[s.jsx(Qe,{children:s.jsxs(et,{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"h-5 w-5"}),"Your Performance"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"text-center py-4",children:L(C.rank)}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Member Since"}),s.jsx("span",{className:"font-semibold",children:C.memberSince})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Days Active"}),s.jsxs("span",{className:"font-semibold text-blue-500",children:[C.daysActive," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),s.jsxs("span",{className:"font-bold text-green-500 text-lg",children:["",C.totalEarnings.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),s.jsx("span",{className:"font-semibold",children:C.rank})]})]}),C.badges.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(FR,{className:"h-4 w-4"}),"Achievement Badges"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.badges.map((V,H)=>s.jsxs(wt,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(en,{className:"h-3 w-3"}),V]},H))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Rank Progression"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bronze"}),s.jsx("span",{className:"text-muted-foreground",children:"0+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Silver"}),s.jsx("span",{className:"text-muted-foreground",children:"50,000+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Gold"}),s.jsx("span",{className:"text-muted-foreground",children:"100,000+"})]})]})]})]})]})})]})}),s.jsx(wn,{open:d,onOpenChange:f,children:s.jsxs(gn,{children:[s.jsxs(_n,{children:[s.jsx(jn,{children:"Verify Password"}),s.jsx(ls,{children:"Please enter your password to confirm bank details update"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Password"}),s.jsx(Ve,{type:"password",value:b,onChange:V=>j(V.target.value),placeholder:"Enter your password"})]})}),s.jsxs(Ma,{children:[s.jsx(oe,{variant:"outline",onClick:()=>{f(!1),j(""),p(null)},children:"Cancel"}),s.jsx(oe,{onClick:R,children:"Verify & Update"})]})]})})]})}function Jot(){const e=ur(),[t,r]=_.useState(!1),[n,a]=_.useState(!0);_.useEffect(()=>{const o=async c=>{try{console.log("[HelperLogin] Checking helper status for user:",c);const{data:u,error:d}=await Y.from("helpers").select("*").eq("id",c).maybeSingle();if(d){console.error("[HelperLogin] Error checking helper status:",d);return}if(u){console.log("[HelperLogin] Approved helper found, redirecting to dashboard"),lt.success("Welcome back!"),e("/helper/dashboard");return}const{data:f,error:m}=await Y.from("helper_applications").select("*").eq("user_id",c).maybeSingle();if(m){console.error("[HelperLogin] Error checking application:",m);return}if(f){console.log("[HelperLogin] Application found with status:",f.application_status),f.application_status==="Pending"?lt.info("Your application is under review"):f.application_status==="Rejected"?lt.error("Your helper application was rejected"):lt.info("Checking your application status..."),e("/application-status");return}console.log("[HelperLogin] No helper or application found"),lt.error("You are not registered as a helper. Please apply to become a helper first."),await Y.auth.signOut()}catch(u){console.error("[HelperLogin] Error in session check:",u)}};Y.auth.getSession().then(async({data:{session:c}})=>{c&&(console.log("[HelperLogin] Existing session found"),await o(c.user.id)),a(!1)});const{data:{subscription:l}}=Y.auth.onAuthStateChange(async(c,u)=>{console.log("[HelperLogin] Auth state changed:",c),c==="SIGNED_IN"&&u&&(console.log("[HelperLogin] User signed in, checking helper status"),a(!0),setTimeout(async()=>{await o(u.user.id),a(!1)},100))});return()=>l.unsubscribe()},[e]);const i=async()=>{try{r(!0),console.log("[HelperLogin] Starting Google sign in for helper...");const{error:o}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/helper/login`}});o?(console.error("[HelperLogin] Google sign in error:",o),lt.error(o.message||"Failed to sign in with Google")):console.log("[HelperLogin] Google OAuth redirect initiated")}catch(o){console.error("[HelperLogin] Unexpected error:",o),lt.error(o.message||"An unexpected error occurred")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Ct,{to:"/",children:s.jsxs(oe,{variant:"ghost",size:"sm",children:[s.jsx(za,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),s.jsxs(ke,{className:"shadow-xl",children:[s.jsxs(Qe,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:s.jsx(_i,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx(et,{className:"text-2xl font-bold",children:"Helper Login"}),s.jsx(Er,{children:"Sign in to access your helper dashboard"})]}),s.jsx(Te,{children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[s.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(oe,{onClick:i,disabled:t,variant:"outline",className:"w-full",size:"lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't have a helper account?"}),s.jsx(Ct,{to:"/become-helper",children:s.jsx(oe,{variant:"link",className:"text-blue-600 dark:text-blue-400",children:"Apply to become a helper"})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Are you a store owner?"," ",s.jsx(Ct,{to:"/auth",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]})})]})})]}),s.jsx(ke,{className:"mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:s.jsx(Te,{className:"pt-4",children:s.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-200 text-center",children:[s.jsx("strong",{children:"Note:"})," This login is exclusively for helpers. Store owners should use the main login page."]})})})]})})}function EJ(){const[e,t]=_.useState(""),[r,n]=_.useState(!0);return _.useEffect(()=>{const a=async(l,c)=>{console.log("[SITEMAP] Generating store-specific sitemap for:",l);const{data:u,error:d}=await Y.from("stores").select("id, slug, subdomain, custom_domain, updated_at").or(`slug.eq.${l},subdomain.eq.${l},custom_domain.eq.${l}`).single();if(d||!u){console.error("[SITEMAP] Store not found:",d),t(`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
</urlset>`);return}let f="";u.custom_domain?f=`https://${u.custom_domain}`:u.subdomain?f=`https://${u.subdomain}.digitaldukandar.in`:f=`https://digitaldukandar.in/${u.slug}`;const{data:m,error:p}=await Y.from("products").select("id, name, slug, updated_at").eq("store_id",u.id).eq("status","published").order("created_at",{ascending:!1});p&&console.error("[SITEMAP] Error fetching products:",p),console.log("[SITEMAP] Store products found:",m?.length||0);let y=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Store Home -->
  <url>
    <loc>${f}</loc>
    <lastmod>${u.updated_at?new Date(u.updated_at).toISOString().split("T")[0]:c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Store Pages -->
  <url>
    <loc>${f}/products</loc>
    <lastmod>${c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>${f}/categories</loc>
    <lastmod>${c}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>${f}/policies</loc>
    <lastmod>${c}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- Individual Products (${m?.length||0} products) -->`;if(m&&m.length>0)for(const g of m){const v=g.slug||g.id,w=`${f}/products/${v}`,b=g.updated_at?new Date(g.updated_at).toISOString().split("T")[0]:c;y+=`
  <url>
    <loc>${w}</loc>
    <lastmod>${b}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>`}y+=`
</urlset>`,t(y)},i=async l=>{console.log("[SITEMAP] Generating platform-wide sitemap");const{data:c,error:u}=await Y.from("stores").select("slug, subdomain, custom_domain, updated_at").order("created_at",{ascending:!1});console.log("[SITEMAP] Stores query result:",{stores:c,error:u}),console.log("[SITEMAP] Number of stores:",c?.length||0);let d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Platform Pages -->
  <url>
    <loc>https://digitaldukandar.in/</loc>
    <lastmod>${l}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/pricing</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/auth</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.6</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/become-helper</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/privacy-policy</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/terms-of-service</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>

  <!-- Store Pages (${c?.length||0} stores found) -->`;if(c&&c.length>0){console.log("[SITEMAP] Adding",c.length,"stores to sitemap");for(const f of c){let m="";f.custom_domain?(m=`https://${f.custom_domain}`,console.log(`[SITEMAP] Store ${f.slug}: using custom_domain -> ${m}`)):f.subdomain?(m=`https://${f.subdomain}.digitaldukandar.in`,console.log(`[SITEMAP] Store ${f.slug}: using subdomain -> ${m}`)):(m=`https://digitaldukandar.in/${f.slug}`,console.log(`[SITEMAP] Store ${f.slug}: using slug fallback -> ${m}`));const p=f.updated_at?new Date(f.updated_at).toISOString().split("T")[0]:l;d+=`
  <url>
    <loc>${m}</loc>
    <lastmod>${p}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>`}}d+=`
</urlset>`,t(d)};(async()=>{try{n(!0);const l=A2(),c=AQ(),u=new Date().toISOString().split("T")[0];console.log("[SITEMAP] Domain Info:",l),console.log("[SITEMAP] Store Identifier:",c),l.isStoreSpecific&&c?await a(c,u):await i(u)}catch(l){console.error("[SITEMAP] Error generating sitemap:",l)}finally{n(!1)}})()},[]),_.useEffect(()=>{e&&document.querySelector('meta[http-equiv="Content-Type"]')?.setAttribute("content","application/xml")},[e]),r?s.jsx("div",{style:{padding:"20px"},children:"Generating sitemap..."}):s.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e})}const Zot=new $ye,Qot=()=>{const e=A2(),t=AQ();return console.log("Domain Info:",e),console.log("Store Identifier:",t),s.jsx(qye,{client:Zot,children:s.jsx(EQ,{children:s.jsx(sxe,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(Uh,{children:s.jsxs(pwe,{children:[s.jsx(txe,{}),s.jsx(Mxe,{}),s.jsxs(swe,{children:[s.jsx(Vwe,{}),s.jsx(R9,{children:e.isStoreSpecific&&t?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{path:"/",element:s.jsx(kJ,{slug:t})}),s.jsx(Pt,{path:"/policies",element:s.jsx(CJ,{slug:t})}),s.jsx(Pt,{path:"/categories",element:s.jsx(SR,{slug:t})}),s.jsx(Pt,{path:"/products",element:s.jsx(NR,{slug:t})}),s.jsx(Pt,{path:"/products/:slug",element:s.jsx(kR,{slug:t})}),s.jsx(Pt,{path:"/cart",element:s.jsx(CR,{slug:t})}),s.jsx(Pt,{path:"/checkout",element:s.jsx(ER,{slug:t})}),s.jsx(Pt,{path:"/payment-success",element:s.jsx(TR,{})}),s.jsx(Pt,{path:"/sitemap.xml",element:s.jsx(EJ,{})}),s.jsx(Pt,{path:"*",element:s.jsx(BU,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Pt,{path:"/",element:s.jsx(oSe,{})}),s.jsx(Pt,{path:"/pricing",element:s.jsx(Cit,{})}),s.jsx(Pt,{path:"/auth",element:s.jsx(Eit,{})}),s.jsx(Pt,{path:"/sitemap.xml",element:s.jsx(EJ,{})}),s.jsx(Pt,{path:"/privacy-policy",element:s.jsx(Uot,{})}),s.jsx(Pt,{path:"/terms-of-service",element:s.jsx(Vot,{})}),s.jsx(Pt,{path:"/become-helper",element:s.jsx(qot,{})}),s.jsx(Pt,{path:"/application-status",element:s.jsx(Wot,{})}),s.jsx(Pt,{path:"/helper/login",element:s.jsx(Jot,{})}),s.jsx(Pt,{path:"/helper/dashboard",element:s.jsx(Hot,{})}),s.jsx(Pt,{path:"/helper/my-referrals",element:s.jsx(Got,{})}),s.jsx(Pt,{path:"/helper/my-helper-network",element:s.jsx(Kot,{})}),s.jsx(Pt,{path:"/helper/commission-history",element:s.jsx(Yot,{})}),s.jsx(Pt,{path:"/helper/profile",element:s.jsx(Xot,{})}),s.jsx(Pt,{path:"/home",element:s.jsx(Bat,{})}),s.jsx(Pt,{path:"/categories",element:s.jsx(SR,{})}),s.jsx(Pt,{path:"/products",element:s.jsx(NR,{})}),s.jsx(Pt,{path:"/products/:slug",element:s.jsx(kR,{})}),s.jsx(Pt,{path:"/cart",element:s.jsx(CR,{})}),s.jsx(Pt,{path:"/checkout",element:s.jsx(ER,{})}),s.jsx(Pt,{path:"/payment-success",element:s.jsx(TR,{})}),s.jsx(Pt,{path:"/admin/*",element:s.jsx(Cot,{children:s.jsx(Xn,{children:s.jsxs(R9,{children:[s.jsx(Pt,{path:"dashboard",element:s.jsx(Uke,{})}),s.jsx(Pt,{path:"products",element:s.jsx(UCe,{})}),s.jsx(Pt,{path:"products/add",element:s.jsx(nTe,{})}),s.jsx(Pt,{path:"products/edit/:id",element:s.jsx(iTe,{})}),s.jsx(Pt,{path:"categories",element:s.jsx(cst,{})}),s.jsx(Pt,{path:"orders",element:s.jsx(m6e,{})}),s.jsx(Pt,{path:"analytics",element:s.jsx(ost,{})}),s.jsx(Pt,{path:"subscription",element:s.jsx(ust,{})}),s.jsx(Pt,{path:"growth/seo",element:s.jsx(dst,{})}),s.jsx(Pt,{path:"growth/social-media",element:s.jsx(fst,{})}),s.jsx(Pt,{path:"growth/instagram",element:s.jsx(hst,{})}),s.jsx(Pt,{path:"marketplace",element:s.jsx(wst,{})}),s.jsx(Pt,{path:"shipping",element:s.jsx(_st,{})}),s.jsx(Pt,{path:"google-reviews",element:s.jsx(jst,{})}),s.jsx(Pt,{path:"settings",element:s.jsx(oCe,{})})]})})})}),s.jsx(Pt,{path:"/superadmin/login",element:s.jsx(Tit,{})}),s.jsxs(Pt,{path:"/superadmin",element:s.jsx(kot,{}),children:[s.jsx(Pt,{path:"dashboard",element:s.jsx(Pit,{})}),s.jsx(Pt,{path:"users",element:s.jsx(Kit,{})}),s.jsx(Pt,{path:"helpers",element:s.jsx(Xit,{})}),s.jsx(Pt,{path:"commissions",element:s.jsx(Jit,{})}),s.jsx(Pt,{path:"commission-settings",element:s.jsx(dot,{})}),s.jsx(Pt,{path:"reports-analytics",element:s.jsx(fot,{})}),s.jsx(Pt,{path:"subscription-plans",element:s.jsx(pot,{})}),s.jsx(Pt,{path:"transactions",element:s.jsx(got,{})}),s.jsx(Pt,{path:"billing",element:s.jsx(xot,{})}),s.jsx(Pt,{path:"custom-domains",element:s.jsx(vot,{})}),s.jsx(Pt,{path:"settings",element:s.jsx(yot,{})}),s.jsx(Pt,{path:"sitemaps",element:s.jsx(_ot,{})}),s.jsx(Pt,{path:"marketplace",element:s.jsx(Sot,{})})]}),s.jsx(Pt,{path:"/onboarding/store-setup",element:s.jsx(Oot,{})}),s.jsx(Pt,{path:"/onboarding/google-drive",element:s.jsx(Rot,{})}),s.jsx(Pt,{path:"/:slug",element:s.jsx(kJ,{})}),s.jsx(Pt,{path:"/:slug/policies",element:s.jsx(CJ,{})}),s.jsx(Pt,{path:"/:slug/categories",element:s.jsx(SR,{})}),s.jsx(Pt,{path:"/:slug/products",element:s.jsx(NR,{})}),s.jsx(Pt,{path:"/:slug/products/:productSlug",element:s.jsx(kR,{})}),s.jsx(Pt,{path:"/:slug/cart",element:s.jsx(CR,{})}),s.jsx(Pt,{path:"/:slug/checkout",element:s.jsx(ER,{})}),s.jsx(Pt,{path:"/:slug/payment-success",element:s.jsx(TR,{})}),s.jsx(Pt,{path:"*",element:s.jsx(BU,{})})]})})]})]})})})})})};oge.createRoot(document.getElementById("root")).render(s.jsx(Qot,{}));
