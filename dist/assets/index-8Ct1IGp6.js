function Cpe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Epe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var PE={exports:{}},rv={},OE={exports:{}},Ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pB;function Tpe(){if(pB)return Ur;pB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v(Y,z,J){this.props=Y,this.context=z,this.refs=g,this.updater=J||p}v.prototype.isReactComponent={},v.prototype.setState=function(Y,z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,z,"setState")},v.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=v.prototype;function b(Y,z,J){this.props=Y,this.context=z,this.refs=g,this.updater=J||p}var j=b.prototype=new w;j.constructor=b,y(j,v.prototype),j.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(Y,z,J){var X,ee={},he=null,fe=null;if(z!=null)for(X in z.ref!==void 0&&(fe=z.ref),z.key!==void 0&&(he=""+z.key),z)S.call(z,X)&&!k.hasOwnProperty(X)&&(ee[X]=z[X]);var ge=arguments.length-2;if(ge===1)ee.children=J;else if(1<ge){for(var U=Array(ge),ne=0;ne<ge;ne++)U[ne]=arguments[ne+2];ee.children=U}if(Y&&Y.defaultProps)for(X in ge=Y.defaultProps,ge)ee[X]===void 0&&(ee[X]=ge[X]);return{$$typeof:e,type:Y,key:he,ref:fe,props:ee,_owner:C.current}}function O(Y,z){return{$$typeof:e,type:Y.type,key:z,ref:Y.ref,props:Y.props,_owner:Y._owner}}function A(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function P(Y){var z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(J){return z[J]})}var D=/\/+/g;function F(Y,z){return typeof Y=="object"&&Y!==null&&Y.key!=null?P(""+Y.key):z.toString(36)}function L(Y,z,J,X,ee){var he=typeof Y;(he==="undefined"||he==="boolean")&&(Y=null);var fe=!1;if(Y===null)fe=!0;else switch(he){case"string":case"number":fe=!0;break;case"object":switch(Y.$$typeof){case e:case t:fe=!0}}if(fe)return fe=Y,ee=ee(fe),Y=X===""?"."+F(fe,0):X,E(ee)?(J="",Y!=null&&(J=Y.replace(D,"$&/")+"/"),L(ee,z,J,"",function(ne){return ne})):ee!=null&&(A(ee)&&(ee=O(ee,J+(!ee.key||fe&&fe.key===ee.key?"":(""+ee.key).replace(D,"$&/")+"/")+Y)),z.push(ee)),1;if(fe=0,X=X===""?".":X+":",E(Y))for(var ge=0;ge<Y.length;ge++){he=Y[ge];var U=X+F(he,ge);fe+=L(he,z,J,U,ee)}else if(U=m(Y),typeof U=="function")for(Y=U.call(Y),ge=0;!(he=Y.next()).done;)he=he.value,U=X+F(he,ge++),fe+=L(he,z,J,U,ee);else if(he==="object")throw z=String(Y),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return fe}function H(Y,z,J){if(Y==null)return Y;var X=[],ee=0;return L(Y,X,"","",function(he){return z.call(J,he,ee++)}),X}function W(Y){if(Y._status===-1){var z=Y._result;z=z(),z.then(function(J){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=J)},function(J){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=J)}),Y._status===-1&&(Y._status=0,Y._result=z)}if(Y._status===1)return Y._result.default;throw Y._result}var G={current:null},K={transition:null},I={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:K,ReactCurrentOwner:C};function B(){throw Error("act(...) is not supported in production builds of React.")}return Ur.Children={map:H,forEach:function(Y,z,J){H(Y,function(){z.apply(this,arguments)},J)},count:function(Y){var z=0;return H(Y,function(){z++}),z},toArray:function(Y){return H(Y,function(z){return z})||[]},only:function(Y){if(!A(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ur.Component=v,Ur.Fragment=r,Ur.Profiler=a,Ur.PureComponent=b,Ur.StrictMode=n,Ur.Suspense=c,Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,Ur.act=B,Ur.cloneElement=function(Y,z,J){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var X=y({},Y.props),ee=Y.key,he=Y.ref,fe=Y._owner;if(z!=null){if(z.ref!==void 0&&(he=z.ref,fe=C.current),z.key!==void 0&&(ee=""+z.key),Y.type&&Y.type.defaultProps)var ge=Y.type.defaultProps;for(U in z)S.call(z,U)&&!k.hasOwnProperty(U)&&(X[U]=z[U]===void 0&&ge!==void 0?ge[U]:z[U])}var U=arguments.length-2;if(U===1)X.children=J;else if(1<U){ge=Array(U);for(var ne=0;ne<U;ne++)ge[ne]=arguments[ne+2];X.children=ge}return{$$typeof:e,type:Y.type,key:ee,ref:he,props:X,_owner:fe}},Ur.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:i,_context:Y},Y.Consumer=Y},Ur.createElement=R,Ur.createFactory=function(Y){var z=R.bind(null,Y);return z.type=Y,z},Ur.createRef=function(){return{current:null}},Ur.forwardRef=function(Y){return{$$typeof:l,render:Y}},Ur.isValidElement=A,Ur.lazy=function(Y){return{$$typeof:d,_payload:{_status:-1,_result:Y},_init:W}},Ur.memo=function(Y,z){return{$$typeof:u,type:Y,compare:z===void 0?null:z}},Ur.startTransition=function(Y){var z=K.transition;K.transition={};try{Y()}finally{K.transition=z}},Ur.unstable_act=B,Ur.useCallback=function(Y,z){return G.current.useCallback(Y,z)},Ur.useContext=function(Y){return G.current.useContext(Y)},Ur.useDebugValue=function(){},Ur.useDeferredValue=function(Y){return G.current.useDeferredValue(Y)},Ur.useEffect=function(Y,z){return G.current.useEffect(Y,z)},Ur.useId=function(){return G.current.useId()},Ur.useImperativeHandle=function(Y,z,J){return G.current.useImperativeHandle(Y,z,J)},Ur.useInsertionEffect=function(Y,z){return G.current.useInsertionEffect(Y,z)},Ur.useLayoutEffect=function(Y,z){return G.current.useLayoutEffect(Y,z)},Ur.useMemo=function(Y,z){return G.current.useMemo(Y,z)},Ur.useReducer=function(Y,z,J){return G.current.useReducer(Y,z,J)},Ur.useRef=function(Y){return G.current.useRef(Y)},Ur.useState=function(Y){return G.current.useState(Y)},Ur.useSyncExternalStore=function(Y,z,J){return G.current.useSyncExternalStore(Y,z,J)},Ur.useTransition=function(){return G.current.useTransition()},Ur.version="18.3.1",Ur}var gB;function JS(){return gB||(gB=1,OE.exports=Tpe()),OE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xB;function Ape(){if(xB)return rv;xB=1;var e=JS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:p,props:f,_owner:a.current}}return rv.Fragment=r,rv.jsx=o,rv.jsxs=o,rv}var vB;function Ppe(){return vB||(vB=1,PE.exports=Ape()),PE.exports}var s=Ppe(),u_={},RE={exports:{}},no={},DE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yB;function Ope(){return yB||(yB=1,(function(e){function t(K,I){var B=K.length;K.push(I);e:for(;0<B;){var Y=B-1>>>1,z=K[Y];if(0<a(z,I))K[Y]=I,K[B]=z,B=Y;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var I=K[0],B=K.pop();if(B!==I){K[0]=B;e:for(var Y=0,z=K.length,J=z>>>1;Y<J;){var X=2*(Y+1)-1,ee=K[X],he=X+1,fe=K[he];if(0>a(ee,B))he<z&&0>a(fe,ee)?(K[Y]=fe,K[he]=B,Y=he):(K[Y]=ee,K[X]=B,Y=X);else if(he<z&&0>a(fe,B))K[Y]=fe,K[he]=B,Y=he;else break e}}return I}function a(K,I){var B=K.sortIndex-I.sortIndex;return B!==0?B:K.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(K){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=K)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function E(K){if(g=!1,j(K),!y)if(r(c)!==null)y=!0,W(S);else{var I=r(u);I!==null&&G(E,I.startTime-K)}}function S(K,I){y=!1,g&&(g=!1,w(R),R=-1),p=!0;var B=m;try{for(j(I),f=r(c);f!==null&&(!(f.expirationTime>I)||K&&!P());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var z=Y(f.expirationTime<=I);I=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),j(I)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var X=r(u);X!==null&&G(E,X.startTime-I),J=!1}return J}finally{f=null,m=B,p=!1}}var C=!1,k=null,R=-1,O=5,A=-1;function P(){return!(e.unstable_now()-A<O)}function D(){if(k!==null){var K=e.unstable_now();A=K;var I=!0;try{I=k(!0,K)}finally{I?F():(C=!1,k=null)}}else C=!1}var F;if(typeof b=="function")F=function(){b(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=D,F=function(){H.postMessage(null)}}else F=function(){v(D,0)};function W(K){k=K,C||(C=!0,F())}function G(K,I){R=v(function(){K(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,W(S))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var B=m;m=I;try{return K()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,I){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var B=m;m=K;try{return I()}finally{m=B}},e.unstable_scheduleCallback=function(K,I,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,K={id:d++,callback:I,priorityLevel:K,startTime:B,expirationTime:z,sortIndex:-1},B>Y?(K.sortIndex=B,t(u,K),r(c)===null&&K===r(u)&&(g?(w(R),R=-1):g=!0,G(E,B-Y))):(K.sortIndex=z,t(c,K),y||p||(y=!0,W(S))),K},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(K){var I=m;return function(){var B=m;m=I;try{return K.apply(this,arguments)}finally{m=B}}}})(IE)),IE}var bB;function Rpe(){return bB||(bB=1,DE.exports=Ope()),DE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB;function Dpe(){if(wB)return no;wB=1;var e=JS(),t=Rpe();function r(h){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+h,N=1;N<arguments.length;N++)x+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(h,x){o(h,x),o(h+"Capture",x)}function o(h,x){for(a[h]=x,h=0;h<x.length;h++)n.add(x[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function p(h,x,N,T){if(N!==null&&N.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return T?!1:N!==null?!N.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,x,N,T){if(x===null||typeof x>"u"||p(h,x,N,T))return!0;if(T)return!1;if(N!==null)switch(N.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(h,x,N,T,M,q,se){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=N,this.propertyName=h,this.type=x,this.sanitizeURL=q,this.removeEmptyString=se}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new g(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var x=h[0];v[x]=new g(x,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new g(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new g(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new g(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new g(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new g(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new g(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new g(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function b(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var x=h.replace(w,b);v[x]=new g(x,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var x=h.replace(w,b);v[x]=new g(x,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var x=h.replace(w,b);v[x]=new g(x,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new g(h,1,!1,h.toLowerCase(),null,!0,!0)});function j(h,x,N,T){var M=v.hasOwnProperty(x)?v[x]:null;(M!==null?M.type!==0:T||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,N,M,T)&&(N=null),T||M===null?m(x)&&(N===null?h.removeAttribute(x):h.setAttribute(x,""+N)):M.mustUseProperty?h[M.propertyName]=N===null?M.type===3?!1:"":N:(x=M.attributeName,T=M.attributeNamespace,N===null?h.removeAttribute(x):(M=M.type,N=M===3||M===4&&N===!0?"":""+N,T?h.setAttributeNS(T,x,N):h.setAttribute(x,N))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),K=Symbol.iterator;function I(h){return h===null||typeof h!="object"?null:(h=K&&h[K]||h["@@iterator"],typeof h=="function"?h:null)}var B=Object.assign,Y;function z(h){if(Y===void 0)try{throw Error()}catch(N){var x=N.stack.trim().match(/\n( *(at )?)/);Y=x&&x[1]||""}return`
`+Y+h}var J=!1;function X(h,x){if(!h||J)return"";J=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Ge){var T=Ge}Reflect.construct(h,[],x)}else{try{x.call()}catch(Ge){T=Ge}h.call(x.prototype)}else{try{throw Error()}catch(Ge){T=Ge}h()}}catch(Ge){if(Ge&&T&&typeof Ge.stack=="string"){for(var M=Ge.stack.split(`
`),q=T.stack.split(`
`),se=M.length-1,je=q.length-1;1<=se&&0<=je&&M[se]!==q[je];)je--;for(;1<=se&&0<=je;se--,je--)if(M[se]!==q[je]){if(se!==1||je!==1)do if(se--,je--,0>je||M[se]!==q[je]){var Ae=`
`+M[se].replace(" at new "," at ");return h.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",h.displayName)),Ae}while(1<=se&&0<=je);break}}}finally{J=!1,Error.prepareStackTrace=N}return(h=h?h.displayName||h.name:"")?z(h):""}function ee(h){switch(h.tag){case 5:return z(h.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return h=X(h.type,!1),h;case 11:return h=X(h.type.render,!1),h;case 1:return h=X(h.type,!0),h;default:return""}}function he(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case k:return"Fragment";case C:return"Portal";case O:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case L:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case P:return(h.displayName||"Context")+".Consumer";case A:return(h._context.displayName||"Context")+".Provider";case D:var x=h.render;return h=h.displayName,h||(h=x.displayName||x.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case H:return x=h.displayName||null,x!==null?x:he(h.type)||"Memo";case W:x=h._payload,h=h._init;try{return he(h(x))}catch{}}return null}function fe(h){var x=h.type;switch(h.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=x.render,h=h.displayName||h.name||"",x.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(x);case 8:return x===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function ge(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function U(h){var x=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function ne(h){var x=U(h)?"checked":"value",N=Object.getOwnPropertyDescriptor(h.constructor.prototype,x),T=""+h[x];if(!h.hasOwnProperty(x)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var M=N.get,q=N.set;return Object.defineProperty(h,x,{configurable:!0,get:function(){return M.call(this)},set:function(se){T=""+se,q.call(this,se)}}),Object.defineProperty(h,x,{enumerable:N.enumerable}),{getValue:function(){return T},setValue:function(se){T=""+se},stopTracking:function(){h._valueTracker=null,delete h[x]}}}}function Q(h){h._valueTracker||(h._valueTracker=ne(h))}function V(h){if(!h)return!1;var x=h._valueTracker;if(!x)return!0;var N=x.getValue(),T="";return h&&(T=U(h)?h.checked?"true":"false":h.value),h=T,h!==N?(x.setValue(h),!0):!1}function ue(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function oe(h,x){var N=x.checked;return B({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??h._wrapperState.initialChecked})}function Se(h,x){var N=x.defaultValue==null?"":x.defaultValue,T=x.checked!=null?x.checked:x.defaultChecked;N=ge(x.value!=null?x.value:N),h._wrapperState={initialChecked:T,initialValue:N,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Ee(h,x){x=x.checked,x!=null&&j(h,"checked",x,!1)}function ie(h,x){Ee(h,x);var N=ge(x.value),T=x.type;if(N!=null)T==="number"?(N===0&&h.value===""||h.value!=N)&&(h.value=""+N):h.value!==""+N&&(h.value=""+N);else if(T==="submit"||T==="reset"){h.removeAttribute("value");return}x.hasOwnProperty("value")?He(h,x.type,N):x.hasOwnProperty("defaultValue")&&He(h,x.type,ge(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(h.defaultChecked=!!x.defaultChecked)}function qe(h,x,N){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var T=x.type;if(!(T!=="submit"&&T!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+h._wrapperState.initialValue,N||x===h.value||(h.value=x),h.defaultValue=x}N=h.name,N!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,N!==""&&(h.name=N)}function He(h,x,N){(x!=="number"||ue(h.ownerDocument)!==h)&&(N==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+N&&(h.defaultValue=""+N))}var de=Array.isArray;function we(h,x,N,T){if(h=h.options,x){x={};for(var M=0;M<N.length;M++)x["$"+N[M]]=!0;for(N=0;N<h.length;N++)M=x.hasOwnProperty("$"+h[N].value),h[N].selected!==M&&(h[N].selected=M),M&&T&&(h[N].defaultSelected=!0)}else{for(N=""+ge(N),x=null,M=0;M<h.length;M++){if(h[M].value===N){h[M].selected=!0,T&&(h[M].defaultSelected=!0);return}x!==null||h[M].disabled||(x=h[M])}x!==null&&(x.selected=!0)}}function Oe(h,x){if(x.dangerouslySetInnerHTML!=null)throw Error(r(91));return B({},x,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ye(h,x){var N=x.value;if(N==null){if(N=x.children,x=x.defaultValue,N!=null){if(x!=null)throw Error(r(92));if(de(N)){if(1<N.length)throw Error(r(93));N=N[0]}x=N}x==null&&(x=""),N=x}h._wrapperState={initialValue:ge(N)}}function Je(h,x){var N=ge(x.value),T=ge(x.defaultValue);N!=null&&(N=""+N,N!==h.value&&(h.value=N),x.defaultValue==null&&h.defaultValue!==N&&(h.defaultValue=N)),T!=null&&(h.defaultValue=""+T)}function Ne(h){var x=h.textContent;x===h._wrapperState.initialValue&&x!==""&&x!==null&&(h.value=x)}function te(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(h,x){return h==null||h==="http://www.w3.org/1999/xhtml"?te(x):h==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var pe,Ie=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,N,T,M){MSApp.execUnsafeLocalFunction(function(){return h(x,N,T,M)})}:h})(function(h,x){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=x;else{for(pe=pe||document.createElement("div"),pe.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=pe.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;x.firstChild;)h.appendChild(x.firstChild)}});function De(h,x){if(x){var N=h.firstChild;if(N&&N===h.lastChild&&N.nodeType===3){N.nodeValue=x;return}}h.textContent=x}var le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","ms","Moz","O"];Object.keys(le).forEach(function(h){Re.forEach(function(x){x=x+h.charAt(0).toUpperCase()+h.substring(1),le[x]=le[h]})});function et(h,x,N){return x==null||typeof x=="boolean"||x===""?"":N||typeof x!="number"||x===0||le.hasOwnProperty(h)&&le[h]?(""+x).trim():x+"px"}function xt(h,x){h=h.style;for(var N in x)if(x.hasOwnProperty(N)){var T=N.indexOf("--")===0,M=et(N,x[N],T);N==="float"&&(N="cssFloat"),T?h.setProperty(N,M):h[N]=M}}var at=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(h,x){if(x){if(at[h]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(r(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(r(61))}if(x.style!=null&&typeof x.style!="object")throw Error(r(62))}}function Xt(h,x){if(h.indexOf("-")===-1)return typeof x.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Pt(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var lr=null,Pr=null,Mr=null;function en(h){if(h=Ux(h)){if(typeof lr!="function")throw Error(r(280));var x=h.stateNode;x&&(x=N1(x),lr(h.stateNode,h.type,x))}}function An(h){Pr?Mr?Mr.push(h):Mr=[h]:Pr=h}function Mt(){if(Pr){var h=Pr,x=Mr;if(Mr=Pr=null,en(h),x)for(h=0;h<x.length;h++)en(x[h])}}function ar(h,x){return h(x)}function Or(){}var zt=!1;function It(h,x,N){if(zt)return h(x,N);zt=!0;try{return ar(h,x,N)}finally{zt=!1,(Pr!==null||Mr!==null)&&(Or(),Mt())}}function er(h,x){var N=h.stateNode;if(N===null)return null;var T=N1(N);if(T===null)return null;N=T[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(h=h.type,T=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(N&&typeof N!="function")throw Error(r(231,x,typeof N));return N}var vt=!1;if(l)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){vt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{vt=!1}function Ft(h,x,N,T,M,q,se,je,Ae){var Ge=Array.prototype.slice.call(arguments,3);try{x.apply(N,Ge)}catch(ht){this.onError(ht)}}var Qt=!1,Yn=null,re=!1,ve=null,me={onError:function(h){Qt=!0,Yn=h}};function xe(h,x,N,T,M,q,se,je,Ae){Qt=!1,Yn=null,Ft.apply(me,arguments)}function be(h,x,N,T,M,q,se,je,Ae){if(xe.apply(this,arguments),Qt){if(Qt){var Ge=Yn;Qt=!1,Yn=null}else throw Error(r(198));re||(re=!0,ve=Ge)}}function ye(h){var x=h,N=h;if(h.alternate)for(;x.return;)x=x.return;else{h=x;do x=h,(x.flags&4098)!==0&&(N=x.return),h=x.return;while(h)}return x.tag===3?N:null}function Le(h){if(h.tag===13){var x=h.memoizedState;if(x===null&&(h=h.alternate,h!==null&&(x=h.memoizedState)),x!==null)return x.dehydrated}return null}function We(h){if(ye(h)!==h)throw Error(r(188))}function Me(h){var x=h.alternate;if(!x){if(x=ye(h),x===null)throw Error(r(188));return x!==h?null:h}for(var N=h,T=x;;){var M=N.return;if(M===null)break;var q=M.alternate;if(q===null){if(T=M.return,T!==null){N=T;continue}break}if(M.child===q.child){for(q=M.child;q;){if(q===N)return We(M),h;if(q===T)return We(M),x;q=q.sibling}throw Error(r(188))}if(N.return!==T.return)N=M,T=q;else{for(var se=!1,je=M.child;je;){if(je===N){se=!0,N=M,T=q;break}if(je===T){se=!0,T=M,N=q;break}je=je.sibling}if(!se){for(je=q.child;je;){if(je===N){se=!0,N=q,T=M;break}if(je===T){se=!0,T=q,N=M;break}je=je.sibling}if(!se)throw Error(r(189))}}if(N.alternate!==T)throw Error(r(190))}if(N.tag!==3)throw Error(r(188));return N.stateNode.current===N?h:x}function Ue(h){return h=Me(h),h!==null?$e(h):null}function $e(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var x=$e(h);if(x!==null)return x;h=h.sibling}return null}var st=t.unstable_scheduleCallback,mt=t.unstable_cancelCallback,Ct=t.unstable_shouldYield,gt=t.unstable_requestPaint,it=t.unstable_now,Ut=t.unstable_getCurrentPriorityLevel,Br=t.unstable_ImmediatePriority,pn=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,_o=t.unstable_LowPriority,ua=t.unstable_IdlePriority,ri=null,us=null;function Ji(h){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(ri,h,void 0,(h.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:Whe,zhe=Math.log,qhe=Math.LN2;function Whe(h){return h>>>=0,h===0?32:31-(zhe(h)/qhe|0)|0}var i1=64,o1=4194304;function jx(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function l1(h,x){var N=h.pendingLanes;if(N===0)return 0;var T=0,M=h.suspendedLanes,q=h.pingedLanes,se=N&268435455;if(se!==0){var je=se&~M;je!==0?T=jx(je):(q&=se,q!==0&&(T=jx(q)))}else se=N&~M,se!==0?T=jx(se):q!==0&&(T=jx(q));if(T===0)return 0;if(x!==0&&x!==T&&(x&M)===0&&(M=T&-T,q=x&-x,M>=q||M===16&&(q&4194240)!==0))return x;if((T&4)!==0&&(T|=N&16),x=h.entangledLanes,x!==0)for(h=h.entanglements,x&=T;0<x;)N=31-Os(x),M=1<<N,T|=h[N],x&=~M;return T}function Hhe(h,x){switch(h){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ghe(h,x){for(var N=h.suspendedLanes,T=h.pingedLanes,M=h.expirationTimes,q=h.pendingLanes;0<q;){var se=31-Os(q),je=1<<se,Ae=M[se];Ae===-1?((je&N)===0||(je&T)!==0)&&(M[se]=Hhe(je,x)):Ae<=x&&(h.expiredLanes|=je),q&=~je}}function Zk(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function HL(){var h=i1;return i1<<=1,(i1&4194240)===0&&(i1=64),h}function Qk(h){for(var x=[],N=0;31>N;N++)x.push(h);return x}function Nx(h,x,N){h.pendingLanes|=x,x!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,x=31-Os(x),h[x]=N}function Khe(h,x){var N=h.pendingLanes&~x;h.pendingLanes=x,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=x,h.mutableReadLanes&=x,h.entangledLanes&=x,x=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<N;){var M=31-Os(N),q=1<<M;x[M]=0,T[M]=-1,h[M]=-1,N&=~q}}function eC(h,x){var N=h.entangledLanes|=x;for(h=h.entanglements;N;){var T=31-Os(N),M=1<<T;M&x|h[T]&x&&(h[T]|=x),N&=~M}}var bn=0;function GL(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var KL,tC,YL,XL,JL,rC=!1,c1=[],pd=null,gd=null,xd=null,Sx=new Map,kx=new Map,vd=[],Yhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZL(h,x){switch(h){case"focusin":case"focusout":pd=null;break;case"dragenter":case"dragleave":gd=null;break;case"mouseover":case"mouseout":xd=null;break;case"pointerover":case"pointerout":Sx.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":kx.delete(x.pointerId)}}function Cx(h,x,N,T,M,q){return h===null||h.nativeEvent!==q?(h={blockedOn:x,domEventName:N,eventSystemFlags:T,nativeEvent:q,targetContainers:[M]},x!==null&&(x=Ux(x),x!==null&&tC(x)),h):(h.eventSystemFlags|=T,x=h.targetContainers,M!==null&&x.indexOf(M)===-1&&x.push(M),h)}function Xhe(h,x,N,T,M){switch(x){case"focusin":return pd=Cx(pd,h,x,N,T,M),!0;case"dragenter":return gd=Cx(gd,h,x,N,T,M),!0;case"mouseover":return xd=Cx(xd,h,x,N,T,M),!0;case"pointerover":var q=M.pointerId;return Sx.set(q,Cx(Sx.get(q)||null,h,x,N,T,M)),!0;case"gotpointercapture":return q=M.pointerId,kx.set(q,Cx(kx.get(q)||null,h,x,N,T,M)),!0}return!1}function QL(h){var x=rh(h.target);if(x!==null){var N=ye(x);if(N!==null){if(x=N.tag,x===13){if(x=Le(N),x!==null){h.blockedOn=x,JL(h.priority,function(){YL(N)});return}}else if(x===3&&N.stateNode.current.memoizedState.isDehydrated){h.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}h.blockedOn=null}function u1(h){if(h.blockedOn!==null)return!1;for(var x=h.targetContainers;0<x.length;){var N=sC(h.domEventName,h.eventSystemFlags,x[0],h.nativeEvent);if(N===null){N=h.nativeEvent;var T=new N.constructor(N.type,N);At=T,N.target.dispatchEvent(T),At=null}else return x=Ux(N),x!==null&&tC(x),h.blockedOn=N,!1;x.shift()}return!0}function e8(h,x,N){u1(h)&&N.delete(x)}function Jhe(){rC=!1,pd!==null&&u1(pd)&&(pd=null),gd!==null&&u1(gd)&&(gd=null),xd!==null&&u1(xd)&&(xd=null),Sx.forEach(e8),kx.forEach(e8)}function Ex(h,x){h.blockedOn===x&&(h.blockedOn=null,rC||(rC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jhe)))}function Tx(h){function x(M){return Ex(M,h)}if(0<c1.length){Ex(c1[0],h);for(var N=1;N<c1.length;N++){var T=c1[N];T.blockedOn===h&&(T.blockedOn=null)}}for(pd!==null&&Ex(pd,h),gd!==null&&Ex(gd,h),xd!==null&&Ex(xd,h),Sx.forEach(x),kx.forEach(x),N=0;N<vd.length;N++)T=vd[N],T.blockedOn===h&&(T.blockedOn=null);for(;0<vd.length&&(N=vd[0],N.blockedOn===null);)QL(N),N.blockedOn===null&&vd.shift()}var hp=E.ReactCurrentBatchConfig,d1=!0;function Zhe(h,x,N,T){var M=bn,q=hp.transition;hp.transition=null;try{bn=1,nC(h,x,N,T)}finally{bn=M,hp.transition=q}}function Qhe(h,x,N,T){var M=bn,q=hp.transition;hp.transition=null;try{bn=4,nC(h,x,N,T)}finally{bn=M,hp.transition=q}}function nC(h,x,N,T){if(d1){var M=sC(h,x,N,T);if(M===null)wC(h,x,T,f1,N),ZL(h,T);else if(Xhe(M,h,x,N,T))T.stopPropagation();else if(ZL(h,T),x&4&&-1<Yhe.indexOf(h)){for(;M!==null;){var q=Ux(M);if(q!==null&&KL(q),q=sC(h,x,N,T),q===null&&wC(h,x,T,f1,N),q===M)break;M=q}M!==null&&T.stopPropagation()}else wC(h,x,T,null,N)}}var f1=null;function sC(h,x,N,T){if(f1=null,h=Pt(T),h=rh(h),h!==null)if(x=ye(h),x===null)h=null;else if(N=x.tag,N===13){if(h=Le(x),h!==null)return h;h=null}else if(N===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;h=null}else x!==h&&(h=null);return f1=h,null}function t8(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ut()){case Br:return 1;case pn:return 4;case ss:case _o:return 16;case ua:return 536870912;default:return 16}default:return 16}}var yd=null,aC=null,h1=null;function r8(){if(h1)return h1;var h,x=aC,N=x.length,T,M="value"in yd?yd.value:yd.textContent,q=M.length;for(h=0;h<N&&x[h]===M[h];h++);var se=N-h;for(T=1;T<=se&&x[N-T]===M[q-T];T++);return h1=M.slice(h,1<T?1-T:void 0)}function m1(h){var x=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&x===13&&(h=13)):h=x,h===10&&(h=13),32<=h||h===13?h:0}function p1(){return!0}function n8(){return!1}function jo(h){function x(N,T,M,q,se){this._reactName=N,this._targetInst=M,this.type=T,this.nativeEvent=q,this.target=se,this.currentTarget=null;for(var je in h)h.hasOwnProperty(je)&&(N=h[je],this[je]=N?N(q):q[je]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?p1:n8,this.isPropagationStopped=n8,this}return B(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=p1)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=p1)},persist:function(){},isPersistent:p1}),x}var mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iC=jo(mp),Ax=B({},mp,{view:0,detail:0}),eme=jo(Ax),oC,lC,Px,g1=B({},Ax,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uC,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Px&&(Px&&h.type==="mousemove"?(oC=h.screenX-Px.screenX,lC=h.screenY-Px.screenY):lC=oC=0,Px=h),oC)},movementY:function(h){return"movementY"in h?h.movementY:lC}}),s8=jo(g1),tme=B({},g1,{dataTransfer:0}),rme=jo(tme),nme=B({},Ax,{relatedTarget:0}),cC=jo(nme),sme=B({},mp,{animationName:0,elapsedTime:0,pseudoElement:0}),ame=jo(sme),ime=B({},mp,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),ome=jo(ime),lme=B({},mp,{data:0}),a8=jo(lme),cme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ume={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fme(h){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(h):(h=dme[h])?!!x[h]:!1}function uC(){return fme}var hme=B({},Ax,{key:function(h){if(h.key){var x=cme[h.key]||h.key;if(x!=="Unidentified")return x}return h.type==="keypress"?(h=m1(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?ume[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uC,charCode:function(h){return h.type==="keypress"?m1(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?m1(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),mme=jo(hme),pme=B({},g1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i8=jo(pme),gme=B({},Ax,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uC}),xme=jo(gme),vme=B({},mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),yme=jo(vme),bme=B({},g1,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),wme=jo(bme),_me=[9,13,27,32],dC=l&&"CompositionEvent"in window,Ox=null;l&&"documentMode"in document&&(Ox=document.documentMode);var jme=l&&"TextEvent"in window&&!Ox,o8=l&&(!dC||Ox&&8<Ox&&11>=Ox),l8=" ",c8=!1;function u8(h,x){switch(h){case"keyup":return _me.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d8(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var pp=!1;function Nme(h,x){switch(h){case"compositionend":return d8(x);case"keypress":return x.which!==32?null:(c8=!0,l8);case"textInput":return h=x.data,h===l8&&c8?null:h;default:return null}}function Sme(h,x){if(pp)return h==="compositionend"||!dC&&u8(h,x)?(h=r8(),h1=aC=yd=null,pp=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return o8&&x.locale!=="ko"?null:x.data;default:return null}}var kme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f8(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x==="input"?!!kme[h.type]:x==="textarea"}function h8(h,x,N,T){An(T),x=w1(x,"onChange"),0<x.length&&(N=new iC("onChange","change",null,N,T),h.push({event:N,listeners:x}))}var Rx=null,Dx=null;function Cme(h){P8(h,0)}function x1(h){var x=bp(h);if(V(x))return h}function Eme(h,x){if(h==="change")return x}var m8=!1;if(l){var fC;if(l){var hC="oninput"in document;if(!hC){var p8=document.createElement("div");p8.setAttribute("oninput","return;"),hC=typeof p8.oninput=="function"}fC=hC}else fC=!1;m8=fC&&(!document.documentMode||9<document.documentMode)}function g8(){Rx&&(Rx.detachEvent("onpropertychange",x8),Dx=Rx=null)}function x8(h){if(h.propertyName==="value"&&x1(Dx)){var x=[];h8(x,Dx,h,Pt(h)),It(Cme,x)}}function Tme(h,x,N){h==="focusin"?(g8(),Rx=x,Dx=N,Rx.attachEvent("onpropertychange",x8)):h==="focusout"&&g8()}function Ame(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return x1(Dx)}function Pme(h,x){if(h==="click")return x1(x)}function Ome(h,x){if(h==="input"||h==="change")return x1(x)}function Rme(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var zl=typeof Object.is=="function"?Object.is:Rme;function Ix(h,x){if(zl(h,x))return!0;if(typeof h!="object"||h===null||typeof x!="object"||x===null)return!1;var N=Object.keys(h),T=Object.keys(x);if(N.length!==T.length)return!1;for(T=0;T<N.length;T++){var M=N[T];if(!c.call(x,M)||!zl(h[M],x[M]))return!1}return!0}function v8(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function y8(h,x){var N=v8(h);h=0;for(var T;N;){if(N.nodeType===3){if(T=h+N.textContent.length,h<=x&&T>=x)return{node:N,offset:x-h};h=T}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=v8(N)}}function b8(h,x){return h&&x?h===x?!0:h&&h.nodeType===3?!1:x&&x.nodeType===3?b8(h,x.parentNode):"contains"in h?h.contains(x):h.compareDocumentPosition?!!(h.compareDocumentPosition(x)&16):!1:!1}function w8(){for(var h=window,x=ue();x instanceof h.HTMLIFrameElement;){try{var N=typeof x.contentWindow.location.href=="string"}catch{N=!1}if(N)h=x.contentWindow;else break;x=ue(h.document)}return x}function mC(h){var x=h&&h.nodeName&&h.nodeName.toLowerCase();return x&&(x==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||x==="textarea"||h.contentEditable==="true")}function Dme(h){var x=w8(),N=h.focusedElem,T=h.selectionRange;if(x!==N&&N&&N.ownerDocument&&b8(N.ownerDocument.documentElement,N)){if(T!==null&&mC(N)){if(x=T.start,h=T.end,h===void 0&&(h=x),"selectionStart"in N)N.selectionStart=x,N.selectionEnd=Math.min(h,N.value.length);else if(h=(x=N.ownerDocument||document)&&x.defaultView||window,h.getSelection){h=h.getSelection();var M=N.textContent.length,q=Math.min(T.start,M);T=T.end===void 0?q:Math.min(T.end,M),!h.extend&&q>T&&(M=T,T=q,q=M),M=y8(N,q);var se=y8(N,T);M&&se&&(h.rangeCount!==1||h.anchorNode!==M.node||h.anchorOffset!==M.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(x=x.createRange(),x.setStart(M.node,M.offset),h.removeAllRanges(),q>T?(h.addRange(x),h.extend(se.node,se.offset)):(x.setEnd(se.node,se.offset),h.addRange(x)))}}for(x=[],h=N;h=h.parentNode;)h.nodeType===1&&x.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<x.length;N++)h=x[N],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Ime=l&&"documentMode"in document&&11>=document.documentMode,gp=null,pC=null,Mx=null,gC=!1;function _8(h,x,N){var T=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;gC||gp==null||gp!==ue(T)||(T=gp,"selectionStart"in T&&mC(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Mx&&Ix(Mx,T)||(Mx=T,T=w1(pC,"onSelect"),0<T.length&&(x=new iC("onSelect","select",null,x,N),h.push({event:x,listeners:T}),x.target=gp)))}function v1(h,x){var N={};return N[h.toLowerCase()]=x.toLowerCase(),N["Webkit"+h]="webkit"+x,N["Moz"+h]="moz"+x,N}var xp={animationend:v1("Animation","AnimationEnd"),animationiteration:v1("Animation","AnimationIteration"),animationstart:v1("Animation","AnimationStart"),transitionend:v1("Transition","TransitionEnd")},xC={},j8={};l&&(j8=document.createElement("div").style,"AnimationEvent"in window||(delete xp.animationend.animation,delete xp.animationiteration.animation,delete xp.animationstart.animation),"TransitionEvent"in window||delete xp.transitionend.transition);function y1(h){if(xC[h])return xC[h];if(!xp[h])return h;var x=xp[h],N;for(N in x)if(x.hasOwnProperty(N)&&N in j8)return xC[h]=x[N];return h}var N8=y1("animationend"),S8=y1("animationiteration"),k8=y1("animationstart"),C8=y1("transitionend"),E8=new Map,T8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bd(h,x){E8.set(h,x),i(x,[h])}for(var vC=0;vC<T8.length;vC++){var yC=T8[vC],Mme=yC.toLowerCase(),Fme=yC[0].toUpperCase()+yC.slice(1);bd(Mme,"on"+Fme)}bd(N8,"onAnimationEnd"),bd(S8,"onAnimationIteration"),bd(k8,"onAnimationStart"),bd("dblclick","onDoubleClick"),bd("focusin","onFocus"),bd("focusout","onBlur"),bd(C8,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lme=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fx));function A8(h,x,N){var T=h.type||"unknown-event";h.currentTarget=N,be(T,x,void 0,h),h.currentTarget=null}function P8(h,x){x=(x&4)!==0;for(var N=0;N<h.length;N++){var T=h[N],M=T.event;T=T.listeners;e:{var q=void 0;if(x)for(var se=T.length-1;0<=se;se--){var je=T[se],Ae=je.instance,Ge=je.currentTarget;if(je=je.listener,Ae!==q&&M.isPropagationStopped())break e;A8(M,je,Ge),q=Ae}else for(se=0;se<T.length;se++){if(je=T[se],Ae=je.instance,Ge=je.currentTarget,je=je.listener,Ae!==q&&M.isPropagationStopped())break e;A8(M,je,Ge),q=Ae}}}if(re)throw h=ve,re=!1,ve=null,h}function Xn(h,x){var N=x[CC];N===void 0&&(N=x[CC]=new Set);var T=h+"__bubble";N.has(T)||(O8(x,h,2,!1),N.add(T))}function bC(h,x,N){var T=0;x&&(T|=4),O8(N,h,T,x)}var b1="_reactListening"+Math.random().toString(36).slice(2);function Lx(h){if(!h[b1]){h[b1]=!0,n.forEach(function(N){N!=="selectionchange"&&(Lme.has(N)||bC(N,!1,h),bC(N,!0,h))});var x=h.nodeType===9?h:h.ownerDocument;x===null||x[b1]||(x[b1]=!0,bC("selectionchange",!1,x))}}function O8(h,x,N,T){switch(t8(x)){case 1:var M=Zhe;break;case 4:M=Qhe;break;default:M=nC}N=M.bind(null,x,N,h),M=void 0,!vt||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(M=!0),T?M!==void 0?h.addEventListener(x,N,{capture:!0,passive:M}):h.addEventListener(x,N,!0):M!==void 0?h.addEventListener(x,N,{passive:M}):h.addEventListener(x,N,!1)}function wC(h,x,N,T,M){var q=T;if((x&1)===0&&(x&2)===0&&T!==null)e:for(;;){if(T===null)return;var se=T.tag;if(se===3||se===4){var je=T.stateNode.containerInfo;if(je===M||je.nodeType===8&&je.parentNode===M)break;if(se===4)for(se=T.return;se!==null;){var Ae=se.tag;if((Ae===3||Ae===4)&&(Ae=se.stateNode.containerInfo,Ae===M||Ae.nodeType===8&&Ae.parentNode===M))return;se=se.return}for(;je!==null;){if(se=rh(je),se===null)return;if(Ae=se.tag,Ae===5||Ae===6){T=q=se;continue e}je=je.parentNode}}T=T.return}It(function(){var Ge=q,ht=Pt(N),pt=[];e:{var ct=E8.get(h);if(ct!==void 0){var Rt=iC,qt=h;switch(h){case"keypress":if(m1(N)===0)break e;case"keydown":case"keyup":Rt=mme;break;case"focusin":qt="focus",Rt=cC;break;case"focusout":qt="blur",Rt=cC;break;case"beforeblur":case"afterblur":Rt=cC;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=s8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=rme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=xme;break;case N8:case S8:case k8:Rt=ame;break;case C8:Rt=yme;break;case"scroll":Rt=eme;break;case"wheel":Rt=wme;break;case"copy":case"cut":case"paste":Rt=ome;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=i8}var Wt=(x&4)!==0,Rs=!Wt&&h==="scroll",Be=Wt?ct!==null?ct+"Capture":null:ct;Wt=[];for(var Pe=Ge,ze;Pe!==null;){ze=Pe;var yt=ze.stateNode;if(ze.tag===5&&yt!==null&&(ze=yt,Be!==null&&(yt=er(Pe,Be),yt!=null&&Wt.push($x(Pe,yt,ze)))),Rs)break;Pe=Pe.return}0<Wt.length&&(ct=new Rt(ct,qt,null,N,ht),pt.push({event:ct,listeners:Wt}))}}if((x&7)===0){e:{if(ct=h==="mouseover"||h==="pointerover",Rt=h==="mouseout"||h==="pointerout",ct&&N!==At&&(qt=N.relatedTarget||N.fromElement)&&(rh(qt)||qt[mu]))break e;if((Rt||ct)&&(ct=ht.window===ht?ht:(ct=ht.ownerDocument)?ct.defaultView||ct.parentWindow:window,Rt?(qt=N.relatedTarget||N.toElement,Rt=Ge,qt=qt?rh(qt):null,qt!==null&&(Rs=ye(qt),qt!==Rs||qt.tag!==5&&qt.tag!==6)&&(qt=null)):(Rt=null,qt=Ge),Rt!==qt)){if(Wt=s8,yt="onMouseLeave",Be="onMouseEnter",Pe="mouse",(h==="pointerout"||h==="pointerover")&&(Wt=i8,yt="onPointerLeave",Be="onPointerEnter",Pe="pointer"),Rs=Rt==null?ct:bp(Rt),ze=qt==null?ct:bp(qt),ct=new Wt(yt,Pe+"leave",Rt,N,ht),ct.target=Rs,ct.relatedTarget=ze,yt=null,rh(ht)===Ge&&(Wt=new Wt(Be,Pe+"enter",qt,N,ht),Wt.target=ze,Wt.relatedTarget=Rs,yt=Wt),Rs=yt,Rt&&qt)t:{for(Wt=Rt,Be=qt,Pe=0,ze=Wt;ze;ze=vp(ze))Pe++;for(ze=0,yt=Be;yt;yt=vp(yt))ze++;for(;0<Pe-ze;)Wt=vp(Wt),Pe--;for(;0<ze-Pe;)Be=vp(Be),ze--;for(;Pe--;){if(Wt===Be||Be!==null&&Wt===Be.alternate)break t;Wt=vp(Wt),Be=vp(Be)}Wt=null}else Wt=null;Rt!==null&&R8(pt,ct,Rt,Wt,!1),qt!==null&&Rs!==null&&R8(pt,Rs,qt,Wt,!0)}}e:{if(ct=Ge?bp(Ge):window,Rt=ct.nodeName&&ct.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&ct.type==="file")var Kt=Eme;else if(f8(ct))if(m8)Kt=Ome;else{Kt=Ame;var tr=Tme}else(Rt=ct.nodeName)&&Rt.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(Kt=Pme);if(Kt&&(Kt=Kt(h,Ge))){h8(pt,Kt,N,ht);break e}tr&&tr(h,ct,Ge),h==="focusout"&&(tr=ct._wrapperState)&&tr.controlled&&ct.type==="number"&&He(ct,"number",ct.value)}switch(tr=Ge?bp(Ge):window,h){case"focusin":(f8(tr)||tr.contentEditable==="true")&&(gp=tr,pC=Ge,Mx=null);break;case"focusout":Mx=pC=gp=null;break;case"mousedown":gC=!0;break;case"contextmenu":case"mouseup":case"dragend":gC=!1,_8(pt,N,ht);break;case"selectionchange":if(Ime)break;case"keydown":case"keyup":_8(pt,N,ht)}var rr;if(dC)e:{switch(h){case"compositionstart":var gr="onCompositionStart";break e;case"compositionend":gr="onCompositionEnd";break e;case"compositionupdate":gr="onCompositionUpdate";break e}gr=void 0}else pp?u8(h,N)&&(gr="onCompositionEnd"):h==="keydown"&&N.keyCode===229&&(gr="onCompositionStart");gr&&(o8&&N.locale!=="ko"&&(pp||gr!=="onCompositionStart"?gr==="onCompositionEnd"&&pp&&(rr=r8()):(yd=ht,aC="value"in yd?yd.value:yd.textContent,pp=!0)),tr=w1(Ge,gr),0<tr.length&&(gr=new a8(gr,h,null,N,ht),pt.push({event:gr,listeners:tr}),rr?gr.data=rr:(rr=d8(N),rr!==null&&(gr.data=rr)))),(rr=jme?Nme(h,N):Sme(h,N))&&(Ge=w1(Ge,"onBeforeInput"),0<Ge.length&&(ht=new a8("onBeforeInput","beforeinput",null,N,ht),pt.push({event:ht,listeners:Ge}),ht.data=rr))}P8(pt,x)})}function $x(h,x,N){return{instance:h,listener:x,currentTarget:N}}function w1(h,x){for(var N=x+"Capture",T=[];h!==null;){var M=h,q=M.stateNode;M.tag===5&&q!==null&&(M=q,q=er(h,N),q!=null&&T.unshift($x(h,q,M)),q=er(h,x),q!=null&&T.push($x(h,q,M))),h=h.return}return T}function vp(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function R8(h,x,N,T,M){for(var q=x._reactName,se=[];N!==null&&N!==T;){var je=N,Ae=je.alternate,Ge=je.stateNode;if(Ae!==null&&Ae===T)break;je.tag===5&&Ge!==null&&(je=Ge,M?(Ae=er(N,q),Ae!=null&&se.unshift($x(N,Ae,je))):M||(Ae=er(N,q),Ae!=null&&se.push($x(N,Ae,je)))),N=N.return}se.length!==0&&h.push({event:x,listeners:se})}var $me=/\r\n?/g,Bme=/\u0000|\uFFFD/g;function D8(h){return(typeof h=="string"?h:""+h).replace($me,`
`).replace(Bme,"")}function _1(h,x,N){if(x=D8(x),D8(h)!==x&&N)throw Error(r(425))}function j1(){}var _C=null,jC=null;function NC(h,x){return h==="textarea"||h==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var SC=typeof setTimeout=="function"?setTimeout:void 0,Ume=typeof clearTimeout=="function"?clearTimeout:void 0,I8=typeof Promise=="function"?Promise:void 0,Vme=typeof queueMicrotask=="function"?queueMicrotask:typeof I8<"u"?function(h){return I8.resolve(null).then(h).catch(zme)}:SC;function zme(h){setTimeout(function(){throw h})}function kC(h,x){var N=x,T=0;do{var M=N.nextSibling;if(h.removeChild(N),M&&M.nodeType===8)if(N=M.data,N==="/$"){if(T===0){h.removeChild(M),Tx(x);return}T--}else N!=="$"&&N!=="$?"&&N!=="$!"||T++;N=M}while(N);Tx(x)}function wd(h){for(;h!=null;h=h.nextSibling){var x=h.nodeType;if(x===1||x===3)break;if(x===8){if(x=h.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return h}function M8(h){h=h.previousSibling;for(var x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="$"||N==="$!"||N==="$?"){if(x===0)return h;x--}else N==="/$"&&x++}h=h.previousSibling}return null}var yp=Math.random().toString(36).slice(2),Sc="__reactFiber$"+yp,Bx="__reactProps$"+yp,mu="__reactContainer$"+yp,CC="__reactEvents$"+yp,qme="__reactListeners$"+yp,Wme="__reactHandles$"+yp;function rh(h){var x=h[Sc];if(x)return x;for(var N=h.parentNode;N;){if(x=N[mu]||N[Sc]){if(N=x.alternate,x.child!==null||N!==null&&N.child!==null)for(h=M8(h);h!==null;){if(N=h[Sc])return N;h=M8(h)}return x}h=N,N=h.parentNode}return null}function Ux(h){return h=h[Sc]||h[mu],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function bp(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function N1(h){return h[Bx]||null}var EC=[],wp=-1;function _d(h){return{current:h}}function Jn(h){0>wp||(h.current=EC[wp],EC[wp]=null,wp--)}function Vn(h,x){wp++,EC[wp]=h.current,h.current=x}var jd={},ni=_d(jd),Zi=_d(!1),nh=jd;function _p(h,x){var N=h.type.contextTypes;if(!N)return jd;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===x)return T.__reactInternalMemoizedMaskedChildContext;var M={},q;for(q in N)M[q]=x[q];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=x,h.__reactInternalMemoizedMaskedChildContext=M),M}function Qi(h){return h=h.childContextTypes,h!=null}function S1(){Jn(Zi),Jn(ni)}function F8(h,x,N){if(ni.current!==jd)throw Error(r(168));Vn(ni,x),Vn(Zi,N)}function L8(h,x,N){var T=h.stateNode;if(x=x.childContextTypes,typeof T.getChildContext!="function")return N;T=T.getChildContext();for(var M in T)if(!(M in x))throw Error(r(108,fe(h)||"Unknown",M));return B({},N,T)}function k1(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||jd,nh=ni.current,Vn(ni,h),Vn(Zi,Zi.current),!0}function $8(h,x,N){var T=h.stateNode;if(!T)throw Error(r(169));N?(h=L8(h,x,nh),T.__reactInternalMemoizedMergedChildContext=h,Jn(Zi),Jn(ni),Vn(ni,h)):Jn(Zi),Vn(Zi,N)}var pu=null,C1=!1,TC=!1;function B8(h){pu===null?pu=[h]:pu.push(h)}function Hme(h){C1=!0,B8(h)}function Nd(){if(!TC&&pu!==null){TC=!0;var h=0,x=bn;try{var N=pu;for(bn=1;h<N.length;h++){var T=N[h];do T=T(!0);while(T!==null)}pu=null,C1=!1}catch(M){throw pu!==null&&(pu=pu.slice(h+1)),st(Br,Nd),M}finally{bn=x,TC=!1}}return null}var jp=[],Np=0,E1=null,T1=0,Qo=[],el=0,sh=null,gu=1,xu="";function ah(h,x){jp[Np++]=T1,jp[Np++]=E1,E1=h,T1=x}function U8(h,x,N){Qo[el++]=gu,Qo[el++]=xu,Qo[el++]=sh,sh=h;var T=gu;h=xu;var M=32-Os(T)-1;T&=~(1<<M),N+=1;var q=32-Os(x)+M;if(30<q){var se=M-M%5;q=(T&(1<<se)-1).toString(32),T>>=se,M-=se,gu=1<<32-Os(x)+M|N<<M|T,xu=q+h}else gu=1<<q|N<<M|T,xu=h}function AC(h){h.return!==null&&(ah(h,1),U8(h,1,0))}function PC(h){for(;h===E1;)E1=jp[--Np],jp[Np]=null,T1=jp[--Np],jp[Np]=null;for(;h===sh;)sh=Qo[--el],Qo[el]=null,xu=Qo[--el],Qo[el]=null,gu=Qo[--el],Qo[el]=null}var No=null,So=null,as=!1,ql=null;function V8(h,x){var N=sl(5,null,null,0);N.elementType="DELETED",N.stateNode=x,N.return=h,x=h.deletions,x===null?(h.deletions=[N],h.flags|=16):x.push(N)}function z8(h,x){switch(h.tag){case 5:var N=h.type;return x=x.nodeType!==1||N.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(h.stateNode=x,No=h,So=wd(x.firstChild),!0):!1;case 6:return x=h.pendingProps===""||x.nodeType!==3?null:x,x!==null?(h.stateNode=x,No=h,So=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(N=sh!==null?{id:gu,overflow:xu}:null,h.memoizedState={dehydrated:x,treeContext:N,retryLane:1073741824},N=sl(18,null,null,0),N.stateNode=x,N.return=h,h.child=N,No=h,So=null,!0):!1;default:return!1}}function OC(h){return(h.mode&1)!==0&&(h.flags&128)===0}function RC(h){if(as){var x=So;if(x){var N=x;if(!z8(h,x)){if(OC(h))throw Error(r(418));x=wd(N.nextSibling);var T=No;x&&z8(h,x)?V8(T,N):(h.flags=h.flags&-4097|2,as=!1,No=h)}}else{if(OC(h))throw Error(r(418));h.flags=h.flags&-4097|2,as=!1,No=h}}}function q8(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;No=h}function A1(h){if(h!==No)return!1;if(!as)return q8(h),as=!0,!1;var x;if((x=h.tag!==3)&&!(x=h.tag!==5)&&(x=h.type,x=x!=="head"&&x!=="body"&&!NC(h.type,h.memoizedProps)),x&&(x=So)){if(OC(h))throw W8(),Error(r(418));for(;x;)V8(h,x),x=wd(x.nextSibling)}if(q8(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,x=0;h;){if(h.nodeType===8){var N=h.data;if(N==="/$"){if(x===0){So=wd(h.nextSibling);break e}x--}else N!=="$"&&N!=="$!"&&N!=="$?"||x++}h=h.nextSibling}So=null}}else So=No?wd(h.stateNode.nextSibling):null;return!0}function W8(){for(var h=So;h;)h=wd(h.nextSibling)}function Sp(){So=No=null,as=!1}function DC(h){ql===null?ql=[h]:ql.push(h)}var Gme=E.ReactCurrentBatchConfig;function Vx(h,x,N){if(h=N.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(r(309));var T=N.stateNode}if(!T)throw Error(r(147,h));var M=T,q=""+h;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===q?x.ref:(x=function(se){var je=M.refs;se===null?delete je[q]:je[q]=se},x._stringRef=q,x)}if(typeof h!="string")throw Error(r(284));if(!N._owner)throw Error(r(290,h))}return h}function P1(h,x){throw h=Object.prototype.toString.call(x),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":h))}function H8(h){var x=h._init;return x(h._payload)}function G8(h){function x(Be,Pe){if(h){var ze=Be.deletions;ze===null?(Be.deletions=[Pe],Be.flags|=16):ze.push(Pe)}}function N(Be,Pe){if(!h)return null;for(;Pe!==null;)x(Be,Pe),Pe=Pe.sibling;return null}function T(Be,Pe){for(Be=new Map;Pe!==null;)Pe.key!==null?Be.set(Pe.key,Pe):Be.set(Pe.index,Pe),Pe=Pe.sibling;return Be}function M(Be,Pe){return Be=Od(Be,Pe),Be.index=0,Be.sibling=null,Be}function q(Be,Pe,ze){return Be.index=ze,h?(ze=Be.alternate,ze!==null?(ze=ze.index,ze<Pe?(Be.flags|=2,Pe):ze):(Be.flags|=2,Pe)):(Be.flags|=1048576,Pe)}function se(Be){return h&&Be.alternate===null&&(Be.flags|=2),Be}function je(Be,Pe,ze,yt){return Pe===null||Pe.tag!==6?(Pe=SE(ze,Be.mode,yt),Pe.return=Be,Pe):(Pe=M(Pe,ze),Pe.return=Be,Pe)}function Ae(Be,Pe,ze,yt){var Kt=ze.type;return Kt===k?ht(Be,Pe,ze.props.children,yt,ze.key):Pe!==null&&(Pe.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===W&&H8(Kt)===Pe.type)?(yt=M(Pe,ze.props),yt.ref=Vx(Be,Pe,ze),yt.return=Be,yt):(yt=t_(ze.type,ze.key,ze.props,null,Be.mode,yt),yt.ref=Vx(Be,Pe,ze),yt.return=Be,yt)}function Ge(Be,Pe,ze,yt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==ze.containerInfo||Pe.stateNode.implementation!==ze.implementation?(Pe=kE(ze,Be.mode,yt),Pe.return=Be,Pe):(Pe=M(Pe,ze.children||[]),Pe.return=Be,Pe)}function ht(Be,Pe,ze,yt,Kt){return Pe===null||Pe.tag!==7?(Pe=hh(ze,Be.mode,yt,Kt),Pe.return=Be,Pe):(Pe=M(Pe,ze),Pe.return=Be,Pe)}function pt(Be,Pe,ze){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=SE(""+Pe,Be.mode,ze),Pe.return=Be,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case S:return ze=t_(Pe.type,Pe.key,Pe.props,null,Be.mode,ze),ze.ref=Vx(Be,null,Pe),ze.return=Be,ze;case C:return Pe=kE(Pe,Be.mode,ze),Pe.return=Be,Pe;case W:var yt=Pe._init;return pt(Be,yt(Pe._payload),ze)}if(de(Pe)||I(Pe))return Pe=hh(Pe,Be.mode,ze,null),Pe.return=Be,Pe;P1(Be,Pe)}return null}function ct(Be,Pe,ze,yt){var Kt=Pe!==null?Pe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return Kt!==null?null:je(Be,Pe,""+ze,yt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:return ze.key===Kt?Ae(Be,Pe,ze,yt):null;case C:return ze.key===Kt?Ge(Be,Pe,ze,yt):null;case W:return Kt=ze._init,ct(Be,Pe,Kt(ze._payload),yt)}if(de(ze)||I(ze))return Kt!==null?null:ht(Be,Pe,ze,yt,null);P1(Be,ze)}return null}function Rt(Be,Pe,ze,yt,Kt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Be=Be.get(ze)||null,je(Pe,Be,""+yt,Kt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case S:return Be=Be.get(yt.key===null?ze:yt.key)||null,Ae(Pe,Be,yt,Kt);case C:return Be=Be.get(yt.key===null?ze:yt.key)||null,Ge(Pe,Be,yt,Kt);case W:var tr=yt._init;return Rt(Be,Pe,ze,tr(yt._payload),Kt)}if(de(yt)||I(yt))return Be=Be.get(ze)||null,ht(Pe,Be,yt,Kt,null);P1(Pe,yt)}return null}function qt(Be,Pe,ze,yt){for(var Kt=null,tr=null,rr=Pe,gr=Pe=0,Ea=null;rr!==null&&gr<ze.length;gr++){rr.index>gr?(Ea=rr,rr=null):Ea=rr.sibling;var ln=ct(Be,rr,ze[gr],yt);if(ln===null){rr===null&&(rr=Ea);break}h&&rr&&ln.alternate===null&&x(Be,rr),Pe=q(ln,Pe,gr),tr===null?Kt=ln:tr.sibling=ln,tr=ln,rr=Ea}if(gr===ze.length)return N(Be,rr),as&&ah(Be,gr),Kt;if(rr===null){for(;gr<ze.length;gr++)rr=pt(Be,ze[gr],yt),rr!==null&&(Pe=q(rr,Pe,gr),tr===null?Kt=rr:tr.sibling=rr,tr=rr);return as&&ah(Be,gr),Kt}for(rr=T(Be,rr);gr<ze.length;gr++)Ea=Rt(rr,Be,gr,ze[gr],yt),Ea!==null&&(h&&Ea.alternate!==null&&rr.delete(Ea.key===null?gr:Ea.key),Pe=q(Ea,Pe,gr),tr===null?Kt=Ea:tr.sibling=Ea,tr=Ea);return h&&rr.forEach(function(Rd){return x(Be,Rd)}),as&&ah(Be,gr),Kt}function Wt(Be,Pe,ze,yt){var Kt=I(ze);if(typeof Kt!="function")throw Error(r(150));if(ze=Kt.call(ze),ze==null)throw Error(r(151));for(var tr=Kt=null,rr=Pe,gr=Pe=0,Ea=null,ln=ze.next();rr!==null&&!ln.done;gr++,ln=ze.next()){rr.index>gr?(Ea=rr,rr=null):Ea=rr.sibling;var Rd=ct(Be,rr,ln.value,yt);if(Rd===null){rr===null&&(rr=Ea);break}h&&rr&&Rd.alternate===null&&x(Be,rr),Pe=q(Rd,Pe,gr),tr===null?Kt=Rd:tr.sibling=Rd,tr=Rd,rr=Ea}if(ln.done)return N(Be,rr),as&&ah(Be,gr),Kt;if(rr===null){for(;!ln.done;gr++,ln=ze.next())ln=pt(Be,ln.value,yt),ln!==null&&(Pe=q(ln,Pe,gr),tr===null?Kt=ln:tr.sibling=ln,tr=ln);return as&&ah(Be,gr),Kt}for(rr=T(Be,rr);!ln.done;gr++,ln=ze.next())ln=Rt(rr,Be,gr,ln.value,yt),ln!==null&&(h&&ln.alternate!==null&&rr.delete(ln.key===null?gr:ln.key),Pe=q(ln,Pe,gr),tr===null?Kt=ln:tr.sibling=ln,tr=ln);return h&&rr.forEach(function(kpe){return x(Be,kpe)}),as&&ah(Be,gr),Kt}function Rs(Be,Pe,ze,yt){if(typeof ze=="object"&&ze!==null&&ze.type===k&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:e:{for(var Kt=ze.key,tr=Pe;tr!==null;){if(tr.key===Kt){if(Kt=ze.type,Kt===k){if(tr.tag===7){N(Be,tr.sibling),Pe=M(tr,ze.props.children),Pe.return=Be,Be=Pe;break e}}else if(tr.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===W&&H8(Kt)===tr.type){N(Be,tr.sibling),Pe=M(tr,ze.props),Pe.ref=Vx(Be,tr,ze),Pe.return=Be,Be=Pe;break e}N(Be,tr);break}else x(Be,tr);tr=tr.sibling}ze.type===k?(Pe=hh(ze.props.children,Be.mode,yt,ze.key),Pe.return=Be,Be=Pe):(yt=t_(ze.type,ze.key,ze.props,null,Be.mode,yt),yt.ref=Vx(Be,Pe,ze),yt.return=Be,Be=yt)}return se(Be);case C:e:{for(tr=ze.key;Pe!==null;){if(Pe.key===tr)if(Pe.tag===4&&Pe.stateNode.containerInfo===ze.containerInfo&&Pe.stateNode.implementation===ze.implementation){N(Be,Pe.sibling),Pe=M(Pe,ze.children||[]),Pe.return=Be,Be=Pe;break e}else{N(Be,Pe);break}else x(Be,Pe);Pe=Pe.sibling}Pe=kE(ze,Be.mode,yt),Pe.return=Be,Be=Pe}return se(Be);case W:return tr=ze._init,Rs(Be,Pe,tr(ze._payload),yt)}if(de(ze))return qt(Be,Pe,ze,yt);if(I(ze))return Wt(Be,Pe,ze,yt);P1(Be,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Pe!==null&&Pe.tag===6?(N(Be,Pe.sibling),Pe=M(Pe,ze),Pe.return=Be,Be=Pe):(N(Be,Pe),Pe=SE(ze,Be.mode,yt),Pe.return=Be,Be=Pe),se(Be)):N(Be,Pe)}return Rs}var kp=G8(!0),K8=G8(!1),O1=_d(null),R1=null,Cp=null,IC=null;function MC(){IC=Cp=R1=null}function FC(h){var x=O1.current;Jn(O1),h._currentValue=x}function LC(h,x,N){for(;h!==null;){var T=h.alternate;if((h.childLanes&x)!==x?(h.childLanes|=x,T!==null&&(T.childLanes|=x)):T!==null&&(T.childLanes&x)!==x&&(T.childLanes|=x),h===N)break;h=h.return}}function Ep(h,x){R1=h,IC=Cp=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&x)!==0&&(eo=!0),h.firstContext=null)}function tl(h){var x=h._currentValue;if(IC!==h)if(h={context:h,memoizedValue:x,next:null},Cp===null){if(R1===null)throw Error(r(308));Cp=h,R1.dependencies={lanes:0,firstContext:h}}else Cp=Cp.next=h;return x}var ih=null;function $C(h){ih===null?ih=[h]:ih.push(h)}function Y8(h,x,N,T){var M=x.interleaved;return M===null?(N.next=N,$C(x)):(N.next=M.next,M.next=N),x.interleaved=N,vu(h,T)}function vu(h,x){h.lanes|=x;var N=h.alternate;for(N!==null&&(N.lanes|=x),N=h,h=h.return;h!==null;)h.childLanes|=x,N=h.alternate,N!==null&&(N.childLanes|=x),N=h,h=h.return;return N.tag===3?N.stateNode:null}var Sd=!1;function BC(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X8(h,x){h=h.updateQueue,x.updateQueue===h&&(x.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function yu(h,x){return{eventTime:h,lane:x,tag:0,payload:null,callback:null,next:null}}function kd(h,x,N){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(tn&2)!==0){var M=T.pending;return M===null?x.next=x:(x.next=M.next,M.next=x),T.pending=x,vu(h,N)}return M=T.interleaved,M===null?(x.next=x,$C(T)):(x.next=M.next,M.next=x),T.interleaved=x,vu(h,N)}function D1(h,x,N){if(x=x.updateQueue,x!==null&&(x=x.shared,(N&4194240)!==0)){var T=x.lanes;T&=h.pendingLanes,N|=T,x.lanes=N,eC(h,N)}}function J8(h,x){var N=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,N===T)){var M=null,q=null;if(N=N.firstBaseUpdate,N!==null){do{var se={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};q===null?M=q=se:q=q.next=se,N=N.next}while(N!==null);q===null?M=q=x:q=q.next=x}else M=q=x;N={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:q,shared:T.shared,effects:T.effects},h.updateQueue=N;return}h=N.lastBaseUpdate,h===null?N.firstBaseUpdate=x:h.next=x,N.lastBaseUpdate=x}function I1(h,x,N,T){var M=h.updateQueue;Sd=!1;var q=M.firstBaseUpdate,se=M.lastBaseUpdate,je=M.shared.pending;if(je!==null){M.shared.pending=null;var Ae=je,Ge=Ae.next;Ae.next=null,se===null?q=Ge:se.next=Ge,se=Ae;var ht=h.alternate;ht!==null&&(ht=ht.updateQueue,je=ht.lastBaseUpdate,je!==se&&(je===null?ht.firstBaseUpdate=Ge:je.next=Ge,ht.lastBaseUpdate=Ae))}if(q!==null){var pt=M.baseState;se=0,ht=Ge=Ae=null,je=q;do{var ct=je.lane,Rt=je.eventTime;if((T&ct)===ct){ht!==null&&(ht=ht.next={eventTime:Rt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var qt=h,Wt=je;switch(ct=x,Rt=N,Wt.tag){case 1:if(qt=Wt.payload,typeof qt=="function"){pt=qt.call(Rt,pt,ct);break e}pt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Wt.payload,ct=typeof qt=="function"?qt.call(Rt,pt,ct):qt,ct==null)break e;pt=B({},pt,ct);break e;case 2:Sd=!0}}je.callback!==null&&je.lane!==0&&(h.flags|=64,ct=M.effects,ct===null?M.effects=[je]:ct.push(je))}else Rt={eventTime:Rt,lane:ct,tag:je.tag,payload:je.payload,callback:je.callback,next:null},ht===null?(Ge=ht=Rt,Ae=pt):ht=ht.next=Rt,se|=ct;if(je=je.next,je===null){if(je=M.shared.pending,je===null)break;ct=je,je=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(!0);if(ht===null&&(Ae=pt),M.baseState=Ae,M.firstBaseUpdate=Ge,M.lastBaseUpdate=ht,x=M.shared.interleaved,x!==null){M=x;do se|=M.lane,M=M.next;while(M!==x)}else q===null&&(M.shared.lanes=0);ch|=se,h.lanes=se,h.memoizedState=pt}}function Z8(h,x,N){if(h=x.effects,x.effects=null,h!==null)for(x=0;x<h.length;x++){var T=h[x],M=T.callback;if(M!==null){if(T.callback=null,T=N,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var zx={},kc=_d(zx),qx=_d(zx),Wx=_d(zx);function oh(h){if(h===zx)throw Error(r(174));return h}function UC(h,x){switch(Vn(Wx,x),Vn(qx,h),Vn(kc,zx),h=x.nodeType,h){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:_e(null,"");break;default:h=h===8?x.parentNode:x,x=h.namespaceURI||null,h=h.tagName,x=_e(x,h)}Jn(kc),Vn(kc,x)}function Tp(){Jn(kc),Jn(qx),Jn(Wx)}function Q8(h){oh(Wx.current);var x=oh(kc.current),N=_e(x,h.type);x!==N&&(Vn(qx,h),Vn(kc,N))}function VC(h){qx.current===h&&(Jn(kc),Jn(qx))}var ds=_d(0);function M1(h){for(var x=h;x!==null;){if(x.tag===13){var N=x.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var zC=[];function qC(){for(var h=0;h<zC.length;h++)zC[h]._workInProgressVersionPrimary=null;zC.length=0}var F1=E.ReactCurrentDispatcher,WC=E.ReactCurrentBatchConfig,lh=0,fs=null,da=null,ka=null,L1=!1,Hx=!1,Gx=0,Kme=0;function si(){throw Error(r(321))}function HC(h,x){if(x===null)return!1;for(var N=0;N<x.length&&N<h.length;N++)if(!zl(h[N],x[N]))return!1;return!0}function GC(h,x,N,T,M,q){if(lh=q,fs=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,F1.current=h===null||h.memoizedState===null?Zme:Qme,h=N(T,M),Hx){q=0;do{if(Hx=!1,Gx=0,25<=q)throw Error(r(301));q+=1,ka=da=null,x.updateQueue=null,F1.current=epe,h=N(T,M)}while(Hx)}if(F1.current=U1,x=da!==null&&da.next!==null,lh=0,ka=da=fs=null,L1=!1,x)throw Error(r(300));return h}function KC(){var h=Gx!==0;return Gx=0,h}function Cc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ka===null?fs.memoizedState=ka=h:ka=ka.next=h,ka}function rl(){if(da===null){var h=fs.alternate;h=h!==null?h.memoizedState:null}else h=da.next;var x=ka===null?fs.memoizedState:ka.next;if(x!==null)ka=x,da=h;else{if(h===null)throw Error(r(310));da=h,h={memoizedState:da.memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},ka===null?fs.memoizedState=ka=h:ka=ka.next=h}return ka}function Kx(h,x){return typeof x=="function"?x(h):x}function YC(h){var x=rl(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var T=da,M=T.baseQueue,q=N.pending;if(q!==null){if(M!==null){var se=M.next;M.next=q.next,q.next=se}T.baseQueue=M=q,N.pending=null}if(M!==null){q=M.next,T=T.baseState;var je=se=null,Ae=null,Ge=q;do{var ht=Ge.lane;if((lh&ht)===ht)Ae!==null&&(Ae=Ae.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),T=Ge.hasEagerState?Ge.eagerState:h(T,Ge.action);else{var pt={lane:ht,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};Ae===null?(je=Ae=pt,se=T):Ae=Ae.next=pt,fs.lanes|=ht,ch|=ht}Ge=Ge.next}while(Ge!==null&&Ge!==q);Ae===null?se=T:Ae.next=je,zl(T,x.memoizedState)||(eo=!0),x.memoizedState=T,x.baseState=se,x.baseQueue=Ae,N.lastRenderedState=T}if(h=N.interleaved,h!==null){M=h;do q=M.lane,fs.lanes|=q,ch|=q,M=M.next;while(M!==h)}else M===null&&(N.lanes=0);return[x.memoizedState,N.dispatch]}function XC(h){var x=rl(),N=x.queue;if(N===null)throw Error(r(311));N.lastRenderedReducer=h;var T=N.dispatch,M=N.pending,q=x.memoizedState;if(M!==null){N.pending=null;var se=M=M.next;do q=h(q,se.action),se=se.next;while(se!==M);zl(q,x.memoizedState)||(eo=!0),x.memoizedState=q,x.baseQueue===null&&(x.baseState=q),N.lastRenderedState=q}return[q,T]}function e$(){}function t$(h,x){var N=fs,T=rl(),M=x(),q=!zl(T.memoizedState,M);if(q&&(T.memoizedState=M,eo=!0),T=T.queue,JC(s$.bind(null,N,T,h),[h]),T.getSnapshot!==x||q||ka!==null&&ka.memoizedState.tag&1){if(N.flags|=2048,Yx(9,n$.bind(null,N,T,M,x),void 0,null),Ca===null)throw Error(r(349));(lh&30)!==0||r$(N,x,M)}return M}function r$(h,x,N){h.flags|=16384,h={getSnapshot:x,value:N},x=fs.updateQueue,x===null?(x={lastEffect:null,stores:null},fs.updateQueue=x,x.stores=[h]):(N=x.stores,N===null?x.stores=[h]:N.push(h))}function n$(h,x,N,T){x.value=N,x.getSnapshot=T,a$(x)&&i$(h)}function s$(h,x,N){return N(function(){a$(x)&&i$(h)})}function a$(h){var x=h.getSnapshot;h=h.value;try{var N=x();return!zl(h,N)}catch{return!0}}function i$(h){var x=vu(h,1);x!==null&&Kl(x,h,1,-1)}function o$(h){var x=Cc();return typeof h=="function"&&(h=h()),x.memoizedState=x.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:h},x.queue=h,h=h.dispatch=Jme.bind(null,fs,h),[x.memoizedState,h]}function Yx(h,x,N,T){return h={tag:h,create:x,destroy:N,deps:T,next:null},x=fs.updateQueue,x===null?(x={lastEffect:null,stores:null},fs.updateQueue=x,x.lastEffect=h.next=h):(N=x.lastEffect,N===null?x.lastEffect=h.next=h:(T=N.next,N.next=h,h.next=T,x.lastEffect=h)),h}function l$(){return rl().memoizedState}function $1(h,x,N,T){var M=Cc();fs.flags|=h,M.memoizedState=Yx(1|x,N,void 0,T===void 0?null:T)}function B1(h,x,N,T){var M=rl();T=T===void 0?null:T;var q=void 0;if(da!==null){var se=da.memoizedState;if(q=se.destroy,T!==null&&HC(T,se.deps)){M.memoizedState=Yx(x,N,q,T);return}}fs.flags|=h,M.memoizedState=Yx(1|x,N,q,T)}function c$(h,x){return $1(8390656,8,h,x)}function JC(h,x){return B1(2048,8,h,x)}function u$(h,x){return B1(4,2,h,x)}function d$(h,x){return B1(4,4,h,x)}function f$(h,x){if(typeof x=="function")return h=h(),x(h),function(){x(null)};if(x!=null)return h=h(),x.current=h,function(){x.current=null}}function h$(h,x,N){return N=N!=null?N.concat([h]):null,B1(4,4,f$.bind(null,x,h),N)}function ZC(){}function m$(h,x){var N=rl();x=x===void 0?null:x;var T=N.memoizedState;return T!==null&&x!==null&&HC(x,T[1])?T[0]:(N.memoizedState=[h,x],h)}function p$(h,x){var N=rl();x=x===void 0?null:x;var T=N.memoizedState;return T!==null&&x!==null&&HC(x,T[1])?T[0]:(h=h(),N.memoizedState=[h,x],h)}function g$(h,x,N){return(lh&21)===0?(h.baseState&&(h.baseState=!1,eo=!0),h.memoizedState=N):(zl(N,x)||(N=HL(),fs.lanes|=N,ch|=N,h.baseState=!0),x)}function Yme(h,x){var N=bn;bn=N!==0&&4>N?N:4,h(!0);var T=WC.transition;WC.transition={};try{h(!1),x()}finally{bn=N,WC.transition=T}}function x$(){return rl().memoizedState}function Xme(h,x,N){var T=Ad(h);if(N={lane:T,action:N,hasEagerState:!1,eagerState:null,next:null},v$(h))y$(x,N);else if(N=Y8(h,x,N,T),N!==null){var M=Ti();Kl(N,h,T,M),b$(N,x,T)}}function Jme(h,x,N){var T=Ad(h),M={lane:T,action:N,hasEagerState:!1,eagerState:null,next:null};if(v$(h))y$(x,M);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=x.lastRenderedReducer,q!==null))try{var se=x.lastRenderedState,je=q(se,N);if(M.hasEagerState=!0,M.eagerState=je,zl(je,se)){var Ae=x.interleaved;Ae===null?(M.next=M,$C(x)):(M.next=Ae.next,Ae.next=M),x.interleaved=M;return}}catch{}finally{}N=Y8(h,x,M,T),N!==null&&(M=Ti(),Kl(N,h,T,M),b$(N,x,T))}}function v$(h){var x=h.alternate;return h===fs||x!==null&&x===fs}function y$(h,x){Hx=L1=!0;var N=h.pending;N===null?x.next=x:(x.next=N.next,N.next=x),h.pending=x}function b$(h,x,N){if((N&4194240)!==0){var T=x.lanes;T&=h.pendingLanes,N|=T,x.lanes=N,eC(h,N)}}var U1={readContext:tl,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},Zme={readContext:tl,useCallback:function(h,x){return Cc().memoizedState=[h,x===void 0?null:x],h},useContext:tl,useEffect:c$,useImperativeHandle:function(h,x,N){return N=N!=null?N.concat([h]):null,$1(4194308,4,f$.bind(null,x,h),N)},useLayoutEffect:function(h,x){return $1(4194308,4,h,x)},useInsertionEffect:function(h,x){return $1(4,2,h,x)},useMemo:function(h,x){var N=Cc();return x=x===void 0?null:x,h=h(),N.memoizedState=[h,x],h},useReducer:function(h,x,N){var T=Cc();return x=N!==void 0?N(x):x,T.memoizedState=T.baseState=x,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:x},T.queue=h,h=h.dispatch=Xme.bind(null,fs,h),[T.memoizedState,h]},useRef:function(h){var x=Cc();return h={current:h},x.memoizedState=h},useState:o$,useDebugValue:ZC,useDeferredValue:function(h){return Cc().memoizedState=h},useTransition:function(){var h=o$(!1),x=h[0];return h=Yme.bind(null,h[1]),Cc().memoizedState=h,[x,h]},useMutableSource:function(){},useSyncExternalStore:function(h,x,N){var T=fs,M=Cc();if(as){if(N===void 0)throw Error(r(407));N=N()}else{if(N=x(),Ca===null)throw Error(r(349));(lh&30)!==0||r$(T,x,N)}M.memoizedState=N;var q={value:N,getSnapshot:x};return M.queue=q,c$(s$.bind(null,T,q,h),[h]),T.flags|=2048,Yx(9,n$.bind(null,T,q,N,x),void 0,null),N},useId:function(){var h=Cc(),x=Ca.identifierPrefix;if(as){var N=xu,T=gu;N=(T&~(1<<32-Os(T)-1)).toString(32)+N,x=":"+x+"R"+N,N=Gx++,0<N&&(x+="H"+N.toString(32)),x+=":"}else N=Kme++,x=":"+x+"r"+N.toString(32)+":";return h.memoizedState=x},unstable_isNewReconciler:!1},Qme={readContext:tl,useCallback:m$,useContext:tl,useEffect:JC,useImperativeHandle:h$,useInsertionEffect:u$,useLayoutEffect:d$,useMemo:p$,useReducer:YC,useRef:l$,useState:function(){return YC(Kx)},useDebugValue:ZC,useDeferredValue:function(h){var x=rl();return g$(x,da.memoizedState,h)},useTransition:function(){var h=YC(Kx)[0],x=rl().memoizedState;return[h,x]},useMutableSource:e$,useSyncExternalStore:t$,useId:x$,unstable_isNewReconciler:!1},epe={readContext:tl,useCallback:m$,useContext:tl,useEffect:JC,useImperativeHandle:h$,useInsertionEffect:u$,useLayoutEffect:d$,useMemo:p$,useReducer:XC,useRef:l$,useState:function(){return XC(Kx)},useDebugValue:ZC,useDeferredValue:function(h){var x=rl();return da===null?x.memoizedState=h:g$(x,da.memoizedState,h)},useTransition:function(){var h=XC(Kx)[0],x=rl().memoizedState;return[h,x]},useMutableSource:e$,useSyncExternalStore:t$,useId:x$,unstable_isNewReconciler:!1};function Wl(h,x){if(h&&h.defaultProps){x=B({},x),h=h.defaultProps;for(var N in h)x[N]===void 0&&(x[N]=h[N]);return x}return x}function QC(h,x,N,T){x=h.memoizedState,N=N(T,x),N=N==null?x:B({},x,N),h.memoizedState=N,h.lanes===0&&(h.updateQueue.baseState=N)}var V1={isMounted:function(h){return(h=h._reactInternals)?ye(h)===h:!1},enqueueSetState:function(h,x,N){h=h._reactInternals;var T=Ti(),M=Ad(h),q=yu(T,M);q.payload=x,N!=null&&(q.callback=N),x=kd(h,q,M),x!==null&&(Kl(x,h,M,T),D1(x,h,M))},enqueueReplaceState:function(h,x,N){h=h._reactInternals;var T=Ti(),M=Ad(h),q=yu(T,M);q.tag=1,q.payload=x,N!=null&&(q.callback=N),x=kd(h,q,M),x!==null&&(Kl(x,h,M,T),D1(x,h,M))},enqueueForceUpdate:function(h,x){h=h._reactInternals;var N=Ti(),T=Ad(h),M=yu(N,T);M.tag=2,x!=null&&(M.callback=x),x=kd(h,M,T),x!==null&&(Kl(x,h,T,N),D1(x,h,T))}};function w$(h,x,N,T,M,q,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,q,se):x.prototype&&x.prototype.isPureReactComponent?!Ix(N,T)||!Ix(M,q):!0}function _$(h,x,N){var T=!1,M=jd,q=x.contextType;return typeof q=="object"&&q!==null?q=tl(q):(M=Qi(x)?nh:ni.current,T=x.contextTypes,q=(T=T!=null)?_p(h,M):jd),x=new x(N,q),h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=V1,h.stateNode=x,x._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=q),x}function j$(h,x,N,T){h=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(N,T),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(N,T),x.state!==h&&V1.enqueueReplaceState(x,x.state,null)}function eE(h,x,N,T){var M=h.stateNode;M.props=N,M.state=h.memoizedState,M.refs={},BC(h);var q=x.contextType;typeof q=="object"&&q!==null?M.context=tl(q):(q=Qi(x)?nh:ni.current,M.context=_p(h,q)),M.state=h.memoizedState,q=x.getDerivedStateFromProps,typeof q=="function"&&(QC(h,x,q,N),M.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(x=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),x!==M.state&&V1.enqueueReplaceState(M,M.state,null),I1(h,N,M,T),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}function Ap(h,x){try{var N="",T=x;do N+=ee(T),T=T.return;while(T);var M=N}catch(q){M=`
Error generating stack: `+q.message+`
`+q.stack}return{value:h,source:x,stack:M,digest:null}}function tE(h,x,N){return{value:h,source:null,stack:N??null,digest:x??null}}function rE(h,x){try{console.error(x.value)}catch(N){setTimeout(function(){throw N})}}var tpe=typeof WeakMap=="function"?WeakMap:Map;function N$(h,x,N){N=yu(-1,N),N.tag=3,N.payload={element:null};var T=x.value;return N.callback=function(){Y1||(Y1=!0,xE=T),rE(h,x)},N}function S$(h,x,N){N=yu(-1,N),N.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var M=x.value;N.payload=function(){return T(M)},N.callback=function(){rE(h,x)}}var q=h.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(N.callback=function(){rE(h,x),typeof T!="function"&&(Ed===null?Ed=new Set([this]):Ed.add(this));var se=x.stack;this.componentDidCatch(x.value,{componentStack:se!==null?se:""})}),N}function k$(h,x,N){var T=h.pingCache;if(T===null){T=h.pingCache=new tpe;var M=new Set;T.set(x,M)}else M=T.get(x),M===void 0&&(M=new Set,T.set(x,M));M.has(N)||(M.add(N),h=ppe.bind(null,h,x,N),x.then(h,h))}function C$(h){do{var x;if((x=h.tag===13)&&(x=h.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return h;h=h.return}while(h!==null);return null}function E$(h,x,N,T,M){return(h.mode&1)===0?(h===x?h.flags|=65536:(h.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(x=yu(-1,1),x.tag=2,kd(N,x,1))),N.lanes|=1),h):(h.flags|=65536,h.lanes=M,h)}var rpe=E.ReactCurrentOwner,eo=!1;function Ei(h,x,N,T){x.child=h===null?K8(x,null,N,T):kp(x,h.child,N,T)}function T$(h,x,N,T,M){N=N.render;var q=x.ref;return Ep(x,M),T=GC(h,x,N,T,q,M),N=KC(),h!==null&&!eo?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~M,bu(h,x,M)):(as&&N&&AC(x),x.flags|=1,Ei(h,x,T,M),x.child)}function A$(h,x,N,T,M){if(h===null){var q=N.type;return typeof q=="function"&&!NE(q)&&q.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(x.tag=15,x.type=q,P$(h,x,q,T,M)):(h=t_(N.type,null,T,x,x.mode,M),h.ref=x.ref,h.return=x,x.child=h)}if(q=h.child,(h.lanes&M)===0){var se=q.memoizedProps;if(N=N.compare,N=N!==null?N:Ix,N(se,T)&&h.ref===x.ref)return bu(h,x,M)}return x.flags|=1,h=Od(q,T),h.ref=x.ref,h.return=x,x.child=h}function P$(h,x,N,T,M){if(h!==null){var q=h.memoizedProps;if(Ix(q,T)&&h.ref===x.ref)if(eo=!1,x.pendingProps=T=q,(h.lanes&M)!==0)(h.flags&131072)!==0&&(eo=!0);else return x.lanes=h.lanes,bu(h,x,M)}return nE(h,x,N,T,M)}function O$(h,x,N){var T=x.pendingProps,M=T.children,q=h!==null?h.memoizedState:null;if(T.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(Op,ko),ko|=N;else{if((N&1073741824)===0)return h=q!==null?q.baseLanes|N:N,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:h,cachePool:null,transitions:null},x.updateQueue=null,Vn(Op,ko),ko|=h,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=q!==null?q.baseLanes:N,Vn(Op,ko),ko|=T}else q!==null?(T=q.baseLanes|N,x.memoizedState=null):T=N,Vn(Op,ko),ko|=T;return Ei(h,x,M,N),x.child}function R$(h,x){var N=x.ref;(h===null&&N!==null||h!==null&&h.ref!==N)&&(x.flags|=512,x.flags|=2097152)}function nE(h,x,N,T,M){var q=Qi(N)?nh:ni.current;return q=_p(x,q),Ep(x,M),N=GC(h,x,N,T,q,M),T=KC(),h!==null&&!eo?(x.updateQueue=h.updateQueue,x.flags&=-2053,h.lanes&=~M,bu(h,x,M)):(as&&T&&AC(x),x.flags|=1,Ei(h,x,N,M),x.child)}function D$(h,x,N,T,M){if(Qi(N)){var q=!0;k1(x)}else q=!1;if(Ep(x,M),x.stateNode===null)q1(h,x),_$(x,N,T),eE(x,N,T,M),T=!0;else if(h===null){var se=x.stateNode,je=x.memoizedProps;se.props=je;var Ae=se.context,Ge=N.contextType;typeof Ge=="object"&&Ge!==null?Ge=tl(Ge):(Ge=Qi(N)?nh:ni.current,Ge=_p(x,Ge));var ht=N.getDerivedStateFromProps,pt=typeof ht=="function"||typeof se.getSnapshotBeforeUpdate=="function";pt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(je!==T||Ae!==Ge)&&j$(x,se,T,Ge),Sd=!1;var ct=x.memoizedState;se.state=ct,I1(x,T,se,M),Ae=x.memoizedState,je!==T||ct!==Ae||Zi.current||Sd?(typeof ht=="function"&&(QC(x,N,ht,T),Ae=x.memoizedState),(je=Sd||w$(x,N,je,T,ct,Ae,Ge))?(pt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(x.flags|=4194308)):(typeof se.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=T,x.memoizedState=Ae),se.props=T,se.state=Ae,se.context=Ge,T=je):(typeof se.componentDidMount=="function"&&(x.flags|=4194308),T=!1)}else{se=x.stateNode,X8(h,x),je=x.memoizedProps,Ge=x.type===x.elementType?je:Wl(x.type,je),se.props=Ge,pt=x.pendingProps,ct=se.context,Ae=N.contextType,typeof Ae=="object"&&Ae!==null?Ae=tl(Ae):(Ae=Qi(N)?nh:ni.current,Ae=_p(x,Ae));var Rt=N.getDerivedStateFromProps;(ht=typeof Rt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(je!==pt||ct!==Ae)&&j$(x,se,T,Ae),Sd=!1,ct=x.memoizedState,se.state=ct,I1(x,T,se,M);var qt=x.memoizedState;je!==pt||ct!==qt||Zi.current||Sd?(typeof Rt=="function"&&(QC(x,N,Rt,T),qt=x.memoizedState),(Ge=Sd||w$(x,N,Ge,T,ct,qt,Ae)||!1)?(ht||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(T,qt,Ae),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(T,qt,Ae)),typeof se.componentDidUpdate=="function"&&(x.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof se.componentDidUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=1024),x.memoizedProps=T,x.memoizedState=qt),se.props=T,se.state=qt,se.context=Ae,T=Ge):(typeof se.componentDidUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||je===h.memoizedProps&&ct===h.memoizedState||(x.flags|=1024),T=!1)}return sE(h,x,N,T,q,M)}function sE(h,x,N,T,M,q){R$(h,x);var se=(x.flags&128)!==0;if(!T&&!se)return M&&$8(x,N,!1),bu(h,x,q);T=x.stateNode,rpe.current=x;var je=se&&typeof N.getDerivedStateFromError!="function"?null:T.render();return x.flags|=1,h!==null&&se?(x.child=kp(x,h.child,null,q),x.child=kp(x,null,je,q)):Ei(h,x,je,q),x.memoizedState=T.state,M&&$8(x,N,!0),x.child}function I$(h){var x=h.stateNode;x.pendingContext?F8(h,x.pendingContext,x.pendingContext!==x.context):x.context&&F8(h,x.context,!1),UC(h,x.containerInfo)}function M$(h,x,N,T,M){return Sp(),DC(M),x.flags|=256,Ei(h,x,N,T),x.child}var aE={dehydrated:null,treeContext:null,retryLane:0};function iE(h){return{baseLanes:h,cachePool:null,transitions:null}}function F$(h,x,N){var T=x.pendingProps,M=ds.current,q=!1,se=(x.flags&128)!==0,je;if((je=se)||(je=h!==null&&h.memoizedState===null?!1:(M&2)!==0),je?(q=!0,x.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),Vn(ds,M&1),h===null)return RC(x),h=x.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((x.mode&1)===0?x.lanes=1:h.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(se=T.children,h=T.fallback,q?(T=x.mode,q=x.child,se={mode:"hidden",children:se},(T&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=se):q=r_(se,T,0,null),h=hh(h,T,N,null),q.return=x,h.return=x,q.sibling=h,x.child=q,x.child.memoizedState=iE(N),x.memoizedState=aE,h):oE(x,se));if(M=h.memoizedState,M!==null&&(je=M.dehydrated,je!==null))return npe(h,x,se,T,je,M,N);if(q){q=T.fallback,se=x.mode,M=h.child,je=M.sibling;var Ae={mode:"hidden",children:T.children};return(se&1)===0&&x.child!==M?(T=x.child,T.childLanes=0,T.pendingProps=Ae,x.deletions=null):(T=Od(M,Ae),T.subtreeFlags=M.subtreeFlags&14680064),je!==null?q=Od(je,q):(q=hh(q,se,N,null),q.flags|=2),q.return=x,T.return=x,T.sibling=q,x.child=T,T=q,q=x.child,se=h.child.memoizedState,se=se===null?iE(N):{baseLanes:se.baseLanes|N,cachePool:null,transitions:se.transitions},q.memoizedState=se,q.childLanes=h.childLanes&~N,x.memoizedState=aE,T}return q=h.child,h=q.sibling,T=Od(q,{mode:"visible",children:T.children}),(x.mode&1)===0&&(T.lanes=N),T.return=x,T.sibling=null,h!==null&&(N=x.deletions,N===null?(x.deletions=[h],x.flags|=16):N.push(h)),x.child=T,x.memoizedState=null,T}function oE(h,x){return x=r_({mode:"visible",children:x},h.mode,0,null),x.return=h,h.child=x}function z1(h,x,N,T){return T!==null&&DC(T),kp(x,h.child,null,N),h=oE(x,x.pendingProps.children),h.flags|=2,x.memoizedState=null,h}function npe(h,x,N,T,M,q,se){if(N)return x.flags&256?(x.flags&=-257,T=tE(Error(r(422))),z1(h,x,se,T)):x.memoizedState!==null?(x.child=h.child,x.flags|=128,null):(q=T.fallback,M=x.mode,T=r_({mode:"visible",children:T.children},M,0,null),q=hh(q,M,se,null),q.flags|=2,T.return=x,q.return=x,T.sibling=q,x.child=T,(x.mode&1)!==0&&kp(x,h.child,null,se),x.child.memoizedState=iE(se),x.memoizedState=aE,q);if((x.mode&1)===0)return z1(h,x,se,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var je=T.dgst;return T=je,q=Error(r(419)),T=tE(q,T,void 0),z1(h,x,se,T)}if(je=(se&h.childLanes)!==0,eo||je){if(T=Ca,T!==null){switch(se&-se){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|se))!==0?0:M,M!==0&&M!==q.retryLane&&(q.retryLane=M,vu(h,M),Kl(T,h,M,-1))}return jE(),T=tE(Error(r(421))),z1(h,x,se,T)}return M.data==="$?"?(x.flags|=128,x.child=h.child,x=gpe.bind(null,h),M._reactRetry=x,null):(h=q.treeContext,So=wd(M.nextSibling),No=x,as=!0,ql=null,h!==null&&(Qo[el++]=gu,Qo[el++]=xu,Qo[el++]=sh,gu=h.id,xu=h.overflow,sh=x),x=oE(x,T.children),x.flags|=4096,x)}function L$(h,x,N){h.lanes|=x;var T=h.alternate;T!==null&&(T.lanes|=x),LC(h.return,x,N)}function lE(h,x,N,T,M){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:T,tail:N,tailMode:M}:(q.isBackwards=x,q.rendering=null,q.renderingStartTime=0,q.last=T,q.tail=N,q.tailMode=M)}function $$(h,x,N){var T=x.pendingProps,M=T.revealOrder,q=T.tail;if(Ei(h,x,T.children,N),T=ds.current,(T&2)!==0)T=T&1|2,x.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=x.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&L$(h,N,x);else if(h.tag===19)L$(h,N,x);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===x)break e;for(;h.sibling===null;){if(h.return===null||h.return===x)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(Vn(ds,T),(x.mode&1)===0)x.memoizedState=null;else switch(M){case"forwards":for(N=x.child,M=null;N!==null;)h=N.alternate,h!==null&&M1(h)===null&&(M=N),N=N.sibling;N=M,N===null?(M=x.child,x.child=null):(M=N.sibling,N.sibling=null),lE(x,!1,M,N,q);break;case"backwards":for(N=null,M=x.child,x.child=null;M!==null;){if(h=M.alternate,h!==null&&M1(h)===null){x.child=M;break}h=M.sibling,M.sibling=N,N=M,M=h}lE(x,!0,N,null,q);break;case"together":lE(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function q1(h,x){(x.mode&1)===0&&h!==null&&(h.alternate=null,x.alternate=null,x.flags|=2)}function bu(h,x,N){if(h!==null&&(x.dependencies=h.dependencies),ch|=x.lanes,(N&x.childLanes)===0)return null;if(h!==null&&x.child!==h.child)throw Error(r(153));if(x.child!==null){for(h=x.child,N=Od(h,h.pendingProps),x.child=N,N.return=x;h.sibling!==null;)h=h.sibling,N=N.sibling=Od(h,h.pendingProps),N.return=x;N.sibling=null}return x.child}function spe(h,x,N){switch(x.tag){case 3:I$(x),Sp();break;case 5:Q8(x);break;case 1:Qi(x.type)&&k1(x);break;case 4:UC(x,x.stateNode.containerInfo);break;case 10:var T=x.type._context,M=x.memoizedProps.value;Vn(O1,T._currentValue),T._currentValue=M;break;case 13:if(T=x.memoizedState,T!==null)return T.dehydrated!==null?(Vn(ds,ds.current&1),x.flags|=128,null):(N&x.child.childLanes)!==0?F$(h,x,N):(Vn(ds,ds.current&1),h=bu(h,x,N),h!==null?h.sibling:null);Vn(ds,ds.current&1);break;case 19:if(T=(N&x.childLanes)!==0,(h.flags&128)!==0){if(T)return $$(h,x,N);x.flags|=128}if(M=x.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Vn(ds,ds.current),T)break;return null;case 22:case 23:return x.lanes=0,O$(h,x,N)}return bu(h,x,N)}var B$,cE,U$,V$;B$=function(h,x){for(var N=x.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===x)break;for(;N.sibling===null;){if(N.return===null||N.return===x)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},cE=function(){},U$=function(h,x,N,T){var M=h.memoizedProps;if(M!==T){h=x.stateNode,oh(kc.current);var q=null;switch(N){case"input":M=oe(h,M),T=oe(h,T),q=[];break;case"select":M=B({},M,{value:void 0}),T=B({},T,{value:void 0}),q=[];break;case"textarea":M=Oe(h,M),T=Oe(h,T),q=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=j1)}St(N,T);var se;N=null;for(Ge in M)if(!T.hasOwnProperty(Ge)&&M.hasOwnProperty(Ge)&&M[Ge]!=null)if(Ge==="style"){var je=M[Ge];for(se in je)je.hasOwnProperty(se)&&(N||(N={}),N[se]="")}else Ge!=="dangerouslySetInnerHTML"&&Ge!=="children"&&Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(a.hasOwnProperty(Ge)?q||(q=[]):(q=q||[]).push(Ge,null));for(Ge in T){var Ae=T[Ge];if(je=M?.[Ge],T.hasOwnProperty(Ge)&&Ae!==je&&(Ae!=null||je!=null))if(Ge==="style")if(je){for(se in je)!je.hasOwnProperty(se)||Ae&&Ae.hasOwnProperty(se)||(N||(N={}),N[se]="");for(se in Ae)Ae.hasOwnProperty(se)&&je[se]!==Ae[se]&&(N||(N={}),N[se]=Ae[se])}else N||(q||(q=[]),q.push(Ge,N)),N=Ae;else Ge==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,je=je?je.__html:void 0,Ae!=null&&je!==Ae&&(q=q||[]).push(Ge,Ae)):Ge==="children"?typeof Ae!="string"&&typeof Ae!="number"||(q=q||[]).push(Ge,""+Ae):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ge)?(Ae!=null&&Ge==="onScroll"&&Xn("scroll",h),q||je===Ae||(q=[])):(q=q||[]).push(Ge,Ae))}N&&(q=q||[]).push("style",N);var Ge=q;(x.updateQueue=Ge)&&(x.flags|=4)}},V$=function(h,x,N,T){N!==T&&(x.flags|=4)};function Xx(h,x){if(!as)switch(h.tailMode){case"hidden":x=h.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?h.tail=null:N.sibling=null;break;case"collapsed":N=h.tail;for(var T=null;N!==null;)N.alternate!==null&&(T=N),N=N.sibling;T===null?x||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function ai(h){var x=h.alternate!==null&&h.alternate.child===h.child,N=0,T=0;if(x)for(var M=h.child;M!==null;)N|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)N|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=T,h.childLanes=N,x}function ape(h,x,N){var T=x.pendingProps;switch(PC(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(x),null;case 1:return Qi(x.type)&&S1(),ai(x),null;case 3:return T=x.stateNode,Tp(),Jn(Zi),Jn(ni),qC(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(A1(x)?x.flags|=4:h===null||h.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,ql!==null&&(bE(ql),ql=null))),cE(h,x),ai(x),null;case 5:VC(x);var M=oh(Wx.current);if(N=x.type,h!==null&&x.stateNode!=null)U$(h,x,N,T,M),h.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!T){if(x.stateNode===null)throw Error(r(166));return ai(x),null}if(h=oh(kc.current),A1(x)){T=x.stateNode,N=x.type;var q=x.memoizedProps;switch(T[Sc]=x,T[Bx]=q,h=(x.mode&1)!==0,N){case"dialog":Xn("cancel",T),Xn("close",T);break;case"iframe":case"object":case"embed":Xn("load",T);break;case"video":case"audio":for(M=0;M<Fx.length;M++)Xn(Fx[M],T);break;case"source":Xn("error",T);break;case"img":case"image":case"link":Xn("error",T),Xn("load",T);break;case"details":Xn("toggle",T);break;case"input":Se(T,q),Xn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!q.multiple},Xn("invalid",T);break;case"textarea":Ye(T,q),Xn("invalid",T)}St(N,q),M=null;for(var se in q)if(q.hasOwnProperty(se)){var je=q[se];se==="children"?typeof je=="string"?T.textContent!==je&&(q.suppressHydrationWarning!==!0&&_1(T.textContent,je,h),M=["children",je]):typeof je=="number"&&T.textContent!==""+je&&(q.suppressHydrationWarning!==!0&&_1(T.textContent,je,h),M=["children",""+je]):a.hasOwnProperty(se)&&je!=null&&se==="onScroll"&&Xn("scroll",T)}switch(N){case"input":Q(T),qe(T,q,!0);break;case"textarea":Q(T),Ne(T);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(T.onclick=j1)}T=M,x.updateQueue=T,T!==null&&(x.flags|=4)}else{se=M.nodeType===9?M:M.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=te(N)),h==="http://www.w3.org/1999/xhtml"?N==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=se.createElement(N,{is:T.is}):(h=se.createElement(N),N==="select"&&(se=h,T.multiple?se.multiple=!0:T.size&&(se.size=T.size))):h=se.createElementNS(h,N),h[Sc]=x,h[Bx]=T,B$(h,x,!1,!1),x.stateNode=h;e:{switch(se=Xt(N,T),N){case"dialog":Xn("cancel",h),Xn("close",h),M=T;break;case"iframe":case"object":case"embed":Xn("load",h),M=T;break;case"video":case"audio":for(M=0;M<Fx.length;M++)Xn(Fx[M],h);M=T;break;case"source":Xn("error",h),M=T;break;case"img":case"image":case"link":Xn("error",h),Xn("load",h),M=T;break;case"details":Xn("toggle",h),M=T;break;case"input":Se(h,T),M=oe(h,T),Xn("invalid",h);break;case"option":M=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},M=B({},T,{value:void 0}),Xn("invalid",h);break;case"textarea":Ye(h,T),M=Oe(h,T),Xn("invalid",h);break;default:M=T}St(N,M),je=M;for(q in je)if(je.hasOwnProperty(q)){var Ae=je[q];q==="style"?xt(h,Ae):q==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,Ae!=null&&Ie(h,Ae)):q==="children"?typeof Ae=="string"?(N!=="textarea"||Ae!=="")&&De(h,Ae):typeof Ae=="number"&&De(h,""+Ae):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?Ae!=null&&q==="onScroll"&&Xn("scroll",h):Ae!=null&&j(h,q,Ae,se))}switch(N){case"input":Q(h),qe(h,T,!1);break;case"textarea":Q(h),Ne(h);break;case"option":T.value!=null&&h.setAttribute("value",""+ge(T.value));break;case"select":h.multiple=!!T.multiple,q=T.value,q!=null?we(h,!!T.multiple,q,!1):T.defaultValue!=null&&we(h,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(h.onclick=j1)}switch(N){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return ai(x),null;case 6:if(h&&x.stateNode!=null)V$(h,x,h.memoizedProps,T);else{if(typeof T!="string"&&x.stateNode===null)throw Error(r(166));if(N=oh(Wx.current),oh(kc.current),A1(x)){if(T=x.stateNode,N=x.memoizedProps,T[Sc]=x,(q=T.nodeValue!==N)&&(h=No,h!==null))switch(h.tag){case 3:_1(T.nodeValue,N,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&_1(T.nodeValue,N,(h.mode&1)!==0)}q&&(x.flags|=4)}else T=(N.nodeType===9?N:N.ownerDocument).createTextNode(T),T[Sc]=x,x.stateNode=T}return ai(x),null;case 13:if(Jn(ds),T=x.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(as&&So!==null&&(x.mode&1)!==0&&(x.flags&128)===0)W8(),Sp(),x.flags|=98560,q=!1;else if(q=A1(x),T!==null&&T.dehydrated!==null){if(h===null){if(!q)throw Error(r(318));if(q=x.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(r(317));q[Sc]=x}else Sp(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;ai(x),q=!1}else ql!==null&&(bE(ql),ql=null),q=!0;if(!q)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=N,x):(T=T!==null,T!==(h!==null&&h.memoizedState!==null)&&T&&(x.child.flags|=8192,(x.mode&1)!==0&&(h===null||(ds.current&1)!==0?fa===0&&(fa=3):jE())),x.updateQueue!==null&&(x.flags|=4),ai(x),null);case 4:return Tp(),cE(h,x),h===null&&Lx(x.stateNode.containerInfo),ai(x),null;case 10:return FC(x.type._context),ai(x),null;case 17:return Qi(x.type)&&S1(),ai(x),null;case 19:if(Jn(ds),q=x.memoizedState,q===null)return ai(x),null;if(T=(x.flags&128)!==0,se=q.rendering,se===null)if(T)Xx(q,!1);else{if(fa!==0||h!==null&&(h.flags&128)!==0)for(h=x.child;h!==null;){if(se=M1(h),se!==null){for(x.flags|=128,Xx(q,!1),T=se.updateQueue,T!==null&&(x.updateQueue=T,x.flags|=4),x.subtreeFlags=0,T=N,N=x.child;N!==null;)q=N,h=T,q.flags&=14680066,se=q.alternate,se===null?(q.childLanes=0,q.lanes=h,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=se.childLanes,q.lanes=se.lanes,q.child=se.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=se.memoizedProps,q.memoizedState=se.memoizedState,q.updateQueue=se.updateQueue,q.type=se.type,h=se.dependencies,q.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),N=N.sibling;return Vn(ds,ds.current&1|2),x.child}h=h.sibling}q.tail!==null&&it()>Rp&&(x.flags|=128,T=!0,Xx(q,!1),x.lanes=4194304)}else{if(!T)if(h=M1(se),h!==null){if(x.flags|=128,T=!0,N=h.updateQueue,N!==null&&(x.updateQueue=N,x.flags|=4),Xx(q,!0),q.tail===null&&q.tailMode==="hidden"&&!se.alternate&&!as)return ai(x),null}else 2*it()-q.renderingStartTime>Rp&&N!==1073741824&&(x.flags|=128,T=!0,Xx(q,!1),x.lanes=4194304);q.isBackwards?(se.sibling=x.child,x.child=se):(N=q.last,N!==null?N.sibling=se:x.child=se,q.last=se)}return q.tail!==null?(x=q.tail,q.rendering=x,q.tail=x.sibling,q.renderingStartTime=it(),x.sibling=null,N=ds.current,Vn(ds,T?N&1|2:N&1),x):(ai(x),null);case 22:case 23:return _E(),T=x.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(x.flags|=8192),T&&(x.mode&1)!==0?(ko&1073741824)!==0&&(ai(x),x.subtreeFlags&6&&(x.flags|=8192)):ai(x),null;case 24:return null;case 25:return null}throw Error(r(156,x.tag))}function ipe(h,x){switch(PC(x),x.tag){case 1:return Qi(x.type)&&S1(),h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 3:return Tp(),Jn(Zi),Jn(ni),qC(),h=x.flags,(h&65536)!==0&&(h&128)===0?(x.flags=h&-65537|128,x):null;case 5:return VC(x),null;case 13:if(Jn(ds),h=x.memoizedState,h!==null&&h.dehydrated!==null){if(x.alternate===null)throw Error(r(340));Sp()}return h=x.flags,h&65536?(x.flags=h&-65537|128,x):null;case 19:return Jn(ds),null;case 4:return Tp(),null;case 10:return FC(x.type._context),null;case 22:case 23:return _E(),null;case 24:return null;default:return null}}var W1=!1,ii=!1,ope=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Pp(h,x){var N=h.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(T){ws(h,x,T)}else N.current=null}function uE(h,x,N){try{N()}catch(T){ws(h,x,T)}}var z$=!1;function lpe(h,x){if(_C=d1,h=w8(),mC(h)){if("selectionStart"in h)var N={start:h.selectionStart,end:h.selectionEnd};else e:{N=(N=h.ownerDocument)&&N.defaultView||window;var T=N.getSelection&&N.getSelection();if(T&&T.rangeCount!==0){N=T.anchorNode;var M=T.anchorOffset,q=T.focusNode;T=T.focusOffset;try{N.nodeType,q.nodeType}catch{N=null;break e}var se=0,je=-1,Ae=-1,Ge=0,ht=0,pt=h,ct=null;t:for(;;){for(var Rt;pt!==N||M!==0&&pt.nodeType!==3||(je=se+M),pt!==q||T!==0&&pt.nodeType!==3||(Ae=se+T),pt.nodeType===3&&(se+=pt.nodeValue.length),(Rt=pt.firstChild)!==null;)ct=pt,pt=Rt;for(;;){if(pt===h)break t;if(ct===N&&++Ge===M&&(je=se),ct===q&&++ht===T&&(Ae=se),(Rt=pt.nextSibling)!==null)break;pt=ct,ct=pt.parentNode}pt=Rt}N=je===-1||Ae===-1?null:{start:je,end:Ae}}else N=null}N=N||{start:0,end:0}}else N=null;for(jC={focusedElem:h,selectionRange:N},d1=!1,$t=x;$t!==null;)if(x=$t,h=x.child,(x.subtreeFlags&1028)!==0&&h!==null)h.return=x,$t=h;else for(;$t!==null;){x=$t;try{var qt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(qt!==null){var Wt=qt.memoizedProps,Rs=qt.memoizedState,Be=x.stateNode,Pe=Be.getSnapshotBeforeUpdate(x.elementType===x.type?Wt:Wl(x.type,Wt),Rs);Be.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var ze=x.stateNode.containerInfo;ze.nodeType===1?ze.textContent="":ze.nodeType===9&&ze.documentElement&&ze.removeChild(ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(yt){ws(x,x.return,yt)}if(h=x.sibling,h!==null){h.return=x.return,$t=h;break}$t=x.return}return qt=z$,z$=!1,qt}function Jx(h,x,N){var T=x.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&h)===h){var q=M.destroy;M.destroy=void 0,q!==void 0&&uE(x,N,q)}M=M.next}while(M!==T)}}function H1(h,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&h)===h){var T=N.create;N.destroy=T()}N=N.next}while(N!==x)}}function dE(h){var x=h.ref;if(x!==null){var N=h.stateNode;switch(h.tag){case 5:h=N;break;default:h=N}typeof x=="function"?x(h):x.current=h}}function q$(h){var x=h.alternate;x!==null&&(h.alternate=null,q$(x)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(x=h.stateNode,x!==null&&(delete x[Sc],delete x[Bx],delete x[CC],delete x[qme],delete x[Wme])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function W$(h){return h.tag===5||h.tag===3||h.tag===4}function H$(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||W$(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function fE(h,x,N){var T=h.tag;if(T===5||T===6)h=h.stateNode,x?N.nodeType===8?N.parentNode.insertBefore(h,x):N.insertBefore(h,x):(N.nodeType===8?(x=N.parentNode,x.insertBefore(h,N)):(x=N,x.appendChild(h)),N=N._reactRootContainer,N!=null||x.onclick!==null||(x.onclick=j1));else if(T!==4&&(h=h.child,h!==null))for(fE(h,x,N),h=h.sibling;h!==null;)fE(h,x,N),h=h.sibling}function hE(h,x,N){var T=h.tag;if(T===5||T===6)h=h.stateNode,x?N.insertBefore(h,x):N.appendChild(h);else if(T!==4&&(h=h.child,h!==null))for(hE(h,x,N),h=h.sibling;h!==null;)hE(h,x,N),h=h.sibling}var Va=null,Hl=!1;function Cd(h,x,N){for(N=N.child;N!==null;)G$(h,x,N),N=N.sibling}function G$(h,x,N){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(ri,N)}catch{}switch(N.tag){case 5:ii||Pp(N,x);case 6:var T=Va,M=Hl;Va=null,Cd(h,x,N),Va=T,Hl=M,Va!==null&&(Hl?(h=Va,N=N.stateNode,h.nodeType===8?h.parentNode.removeChild(N):h.removeChild(N)):Va.removeChild(N.stateNode));break;case 18:Va!==null&&(Hl?(h=Va,N=N.stateNode,h.nodeType===8?kC(h.parentNode,N):h.nodeType===1&&kC(h,N),Tx(h)):kC(Va,N.stateNode));break;case 4:T=Va,M=Hl,Va=N.stateNode.containerInfo,Hl=!0,Cd(h,x,N),Va=T,Hl=M;break;case 0:case 11:case 14:case 15:if(!ii&&(T=N.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var q=M,se=q.destroy;q=q.tag,se!==void 0&&((q&2)!==0||(q&4)!==0)&&uE(N,x,se),M=M.next}while(M!==T)}Cd(h,x,N);break;case 1:if(!ii&&(Pp(N,x),T=N.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=N.memoizedProps,T.state=N.memoizedState,T.componentWillUnmount()}catch(je){ws(N,x,je)}Cd(h,x,N);break;case 21:Cd(h,x,N);break;case 22:N.mode&1?(ii=(T=ii)||N.memoizedState!==null,Cd(h,x,N),ii=T):Cd(h,x,N);break;default:Cd(h,x,N)}}function K$(h){var x=h.updateQueue;if(x!==null){h.updateQueue=null;var N=h.stateNode;N===null&&(N=h.stateNode=new ope),x.forEach(function(T){var M=xpe.bind(null,h,T);N.has(T)||(N.add(T),T.then(M,M))})}}function Gl(h,x){var N=x.deletions;if(N!==null)for(var T=0;T<N.length;T++){var M=N[T];try{var q=h,se=x,je=se;e:for(;je!==null;){switch(je.tag){case 5:Va=je.stateNode,Hl=!1;break e;case 3:Va=je.stateNode.containerInfo,Hl=!0;break e;case 4:Va=je.stateNode.containerInfo,Hl=!0;break e}je=je.return}if(Va===null)throw Error(r(160));G$(q,se,M),Va=null,Hl=!1;var Ae=M.alternate;Ae!==null&&(Ae.return=null),M.return=null}catch(Ge){ws(M,x,Ge)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)Y$(x,h),x=x.sibling}function Y$(h,x){var N=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Gl(x,h),Ec(h),T&4){try{Jx(3,h,h.return),H1(3,h)}catch(Wt){ws(h,h.return,Wt)}try{Jx(5,h,h.return)}catch(Wt){ws(h,h.return,Wt)}}break;case 1:Gl(x,h),Ec(h),T&512&&N!==null&&Pp(N,N.return);break;case 5:if(Gl(x,h),Ec(h),T&512&&N!==null&&Pp(N,N.return),h.flags&32){var M=h.stateNode;try{De(M,"")}catch(Wt){ws(h,h.return,Wt)}}if(T&4&&(M=h.stateNode,M!=null)){var q=h.memoizedProps,se=N!==null?N.memoizedProps:q,je=h.type,Ae=h.updateQueue;if(h.updateQueue=null,Ae!==null)try{je==="input"&&q.type==="radio"&&q.name!=null&&Ee(M,q),Xt(je,se);var Ge=Xt(je,q);for(se=0;se<Ae.length;se+=2){var ht=Ae[se],pt=Ae[se+1];ht==="style"?xt(M,pt):ht==="dangerouslySetInnerHTML"?Ie(M,pt):ht==="children"?De(M,pt):j(M,ht,pt,Ge)}switch(je){case"input":ie(M,q);break;case"textarea":Je(M,q);break;case"select":var ct=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!q.multiple;var Rt=q.value;Rt!=null?we(M,!!q.multiple,Rt,!1):ct!==!!q.multiple&&(q.defaultValue!=null?we(M,!!q.multiple,q.defaultValue,!0):we(M,!!q.multiple,q.multiple?[]:"",!1))}M[Bx]=q}catch(Wt){ws(h,h.return,Wt)}}break;case 6:if(Gl(x,h),Ec(h),T&4){if(h.stateNode===null)throw Error(r(162));M=h.stateNode,q=h.memoizedProps;try{M.nodeValue=q}catch(Wt){ws(h,h.return,Wt)}}break;case 3:if(Gl(x,h),Ec(h),T&4&&N!==null&&N.memoizedState.isDehydrated)try{Tx(x.containerInfo)}catch(Wt){ws(h,h.return,Wt)}break;case 4:Gl(x,h),Ec(h);break;case 13:Gl(x,h),Ec(h),M=h.child,M.flags&8192&&(q=M.memoizedState!==null,M.stateNode.isHidden=q,!q||M.alternate!==null&&M.alternate.memoizedState!==null||(gE=it())),T&4&&K$(h);break;case 22:if(ht=N!==null&&N.memoizedState!==null,h.mode&1?(ii=(Ge=ii)||ht,Gl(x,h),ii=Ge):Gl(x,h),Ec(h),T&8192){if(Ge=h.memoizedState!==null,(h.stateNode.isHidden=Ge)&&!ht&&(h.mode&1)!==0)for($t=h,ht=h.child;ht!==null;){for(pt=$t=ht;$t!==null;){switch(ct=$t,Rt=ct.child,ct.tag){case 0:case 11:case 14:case 15:Jx(4,ct,ct.return);break;case 1:Pp(ct,ct.return);var qt=ct.stateNode;if(typeof qt.componentWillUnmount=="function"){T=ct,N=ct.return;try{x=T,qt.props=x.memoizedProps,qt.state=x.memoizedState,qt.componentWillUnmount()}catch(Wt){ws(T,N,Wt)}}break;case 5:Pp(ct,ct.return);break;case 22:if(ct.memoizedState!==null){Z$(pt);continue}}Rt!==null?(Rt.return=ct,$t=Rt):Z$(pt)}ht=ht.sibling}e:for(ht=null,pt=h;;){if(pt.tag===5){if(ht===null){ht=pt;try{M=pt.stateNode,Ge?(q=M.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(je=pt.stateNode,Ae=pt.memoizedProps.style,se=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null,je.style.display=et("display",se))}catch(Wt){ws(h,h.return,Wt)}}}else if(pt.tag===6){if(ht===null)try{pt.stateNode.nodeValue=Ge?"":pt.memoizedProps}catch(Wt){ws(h,h.return,Wt)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===h)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===h)break e;for(;pt.sibling===null;){if(pt.return===null||pt.return===h)break e;ht===pt&&(ht=null),pt=pt.return}ht===pt&&(ht=null),pt.sibling.return=pt.return,pt=pt.sibling}}break;case 19:Gl(x,h),Ec(h),T&4&&K$(h);break;case 21:break;default:Gl(x,h),Ec(h)}}function Ec(h){var x=h.flags;if(x&2){try{e:{for(var N=h.return;N!==null;){if(W$(N)){var T=N;break e}N=N.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(De(M,""),T.flags&=-33);var q=H$(h);hE(h,q,M);break;case 3:case 4:var se=T.stateNode.containerInfo,je=H$(h);fE(h,je,se);break;default:throw Error(r(161))}}catch(Ae){ws(h,h.return,Ae)}h.flags&=-3}x&4096&&(h.flags&=-4097)}function cpe(h,x,N){$t=h,X$(h)}function X$(h,x,N){for(var T=(h.mode&1)!==0;$t!==null;){var M=$t,q=M.child;if(M.tag===22&&T){var se=M.memoizedState!==null||W1;if(!se){var je=M.alternate,Ae=je!==null&&je.memoizedState!==null||ii;je=W1;var Ge=ii;if(W1=se,(ii=Ae)&&!Ge)for($t=M;$t!==null;)se=$t,Ae=se.child,se.tag===22&&se.memoizedState!==null?Q$(M):Ae!==null?(Ae.return=se,$t=Ae):Q$(M);for(;q!==null;)$t=q,X$(q),q=q.sibling;$t=M,W1=je,ii=Ge}J$(h)}else(M.subtreeFlags&8772)!==0&&q!==null?(q.return=M,$t=q):J$(h)}}function J$(h){for(;$t!==null;){var x=$t;if((x.flags&8772)!==0){var N=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ii||H1(5,x);break;case 1:var T=x.stateNode;if(x.flags&4&&!ii)if(N===null)T.componentDidMount();else{var M=x.elementType===x.type?N.memoizedProps:Wl(x.type,N.memoizedProps);T.componentDidUpdate(M,N.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var q=x.updateQueue;q!==null&&Z8(x,q,T);break;case 3:var se=x.updateQueue;if(se!==null){if(N=null,x.child!==null)switch(x.child.tag){case 5:N=x.child.stateNode;break;case 1:N=x.child.stateNode}Z8(x,se,N)}break;case 5:var je=x.stateNode;if(N===null&&x.flags&4){N=je;var Ae=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ae.autoFocus&&N.focus();break;case"img":Ae.src&&(N.src=Ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Ge=x.alternate;if(Ge!==null){var ht=Ge.memoizedState;if(ht!==null){var pt=ht.dehydrated;pt!==null&&Tx(pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ii||x.flags&512&&dE(x)}catch(ct){ws(x,x.return,ct)}}if(x===h){$t=null;break}if(N=x.sibling,N!==null){N.return=x.return,$t=N;break}$t=x.return}}function Z$(h){for(;$t!==null;){var x=$t;if(x===h){$t=null;break}var N=x.sibling;if(N!==null){N.return=x.return,$t=N;break}$t=x.return}}function Q$(h){for(;$t!==null;){var x=$t;try{switch(x.tag){case 0:case 11:case 15:var N=x.return;try{H1(4,x)}catch(Ae){ws(x,N,Ae)}break;case 1:var T=x.stateNode;if(typeof T.componentDidMount=="function"){var M=x.return;try{T.componentDidMount()}catch(Ae){ws(x,M,Ae)}}var q=x.return;try{dE(x)}catch(Ae){ws(x,q,Ae)}break;case 5:var se=x.return;try{dE(x)}catch(Ae){ws(x,se,Ae)}}}catch(Ae){ws(x,x.return,Ae)}if(x===h){$t=null;break}var je=x.sibling;if(je!==null){je.return=x.return,$t=je;break}$t=x.return}}var upe=Math.ceil,G1=E.ReactCurrentDispatcher,mE=E.ReactCurrentOwner,nl=E.ReactCurrentBatchConfig,tn=0,Ca=null,qs=null,za=0,ko=0,Op=_d(0),fa=0,Zx=null,ch=0,K1=0,pE=0,Qx=null,to=null,gE=0,Rp=1/0,wu=null,Y1=!1,xE=null,Ed=null,X1=!1,Td=null,J1=0,ev=0,vE=null,Z1=-1,Q1=0;function Ti(){return(tn&6)!==0?it():Z1!==-1?Z1:Z1=it()}function Ad(h){return(h.mode&1)===0?1:(tn&2)!==0&&za!==0?za&-za:Gme.transition!==null?(Q1===0&&(Q1=HL()),Q1):(h=bn,h!==0||(h=window.event,h=h===void 0?16:t8(h.type)),h)}function Kl(h,x,N,T){if(50<ev)throw ev=0,vE=null,Error(r(185));Nx(h,N,T),((tn&2)===0||h!==Ca)&&(h===Ca&&((tn&2)===0&&(K1|=N),fa===4&&Pd(h,za)),ro(h,T),N===1&&tn===0&&(x.mode&1)===0&&(Rp=it()+500,C1&&Nd()))}function ro(h,x){var N=h.callbackNode;Ghe(h,x);var T=l1(h,h===Ca?za:0);if(T===0)N!==null&&mt(N),h.callbackNode=null,h.callbackPriority=0;else if(x=T&-T,h.callbackPriority!==x){if(N!=null&&mt(N),x===1)h.tag===0?Hme(tB.bind(null,h)):B8(tB.bind(null,h)),Vme(function(){(tn&6)===0&&Nd()}),N=null;else{switch(GL(T)){case 1:N=Br;break;case 4:N=pn;break;case 16:N=ss;break;case 536870912:N=ua;break;default:N=ss}N=cB(N,eB.bind(null,h))}h.callbackPriority=x,h.callbackNode=N}}function eB(h,x){if(Z1=-1,Q1=0,(tn&6)!==0)throw Error(r(327));var N=h.callbackNode;if(Dp()&&h.callbackNode!==N)return null;var T=l1(h,h===Ca?za:0);if(T===0)return null;if((T&30)!==0||(T&h.expiredLanes)!==0||x)x=e_(h,T);else{x=T;var M=tn;tn|=2;var q=nB();(Ca!==h||za!==x)&&(wu=null,Rp=it()+500,dh(h,x));do try{hpe();break}catch(je){rB(h,je)}while(!0);MC(),G1.current=q,tn=M,qs!==null?x=0:(Ca=null,za=0,x=fa)}if(x!==0){if(x===2&&(M=Zk(h),M!==0&&(T=M,x=yE(h,M))),x===1)throw N=Zx,dh(h,0),Pd(h,T),ro(h,it()),N;if(x===6)Pd(h,T);else{if(M=h.current.alternate,(T&30)===0&&!dpe(M)&&(x=e_(h,T),x===2&&(q=Zk(h),q!==0&&(T=q,x=yE(h,q))),x===1))throw N=Zx,dh(h,0),Pd(h,T),ro(h,it()),N;switch(h.finishedWork=M,h.finishedLanes=T,x){case 0:case 1:throw Error(r(345));case 2:fh(h,to,wu);break;case 3:if(Pd(h,T),(T&130023424)===T&&(x=gE+500-it(),10<x)){if(l1(h,0)!==0)break;if(M=h.suspendedLanes,(M&T)!==T){Ti(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=SC(fh.bind(null,h,to,wu),x);break}fh(h,to,wu);break;case 4:if(Pd(h,T),(T&4194240)===T)break;for(x=h.eventTimes,M=-1;0<T;){var se=31-Os(T);q=1<<se,se=x[se],se>M&&(M=se),T&=~q}if(T=M,T=it()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*upe(T/1960))-T,10<T){h.timeoutHandle=SC(fh.bind(null,h,to,wu),T);break}fh(h,to,wu);break;case 5:fh(h,to,wu);break;default:throw Error(r(329))}}}return ro(h,it()),h.callbackNode===N?eB.bind(null,h):null}function yE(h,x){var N=Qx;return h.current.memoizedState.isDehydrated&&(dh(h,x).flags|=256),h=e_(h,x),h!==2&&(x=to,to=N,x!==null&&bE(x)),h}function bE(h){to===null?to=h:to.push.apply(to,h)}function dpe(h){for(var x=h;;){if(x.flags&16384){var N=x.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var T=0;T<N.length;T++){var M=N[T],q=M.getSnapshot;M=M.value;try{if(!zl(q(),M))return!1}catch{return!1}}}if(N=x.child,x.subtreeFlags&16384&&N!==null)N.return=x,x=N;else{if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Pd(h,x){for(x&=~pE,x&=~K1,h.suspendedLanes|=x,h.pingedLanes&=~x,h=h.expirationTimes;0<x;){var N=31-Os(x),T=1<<N;h[N]=-1,x&=~T}}function tB(h){if((tn&6)!==0)throw Error(r(327));Dp();var x=l1(h,0);if((x&1)===0)return ro(h,it()),null;var N=e_(h,x);if(h.tag!==0&&N===2){var T=Zk(h);T!==0&&(x=T,N=yE(h,T))}if(N===1)throw N=Zx,dh(h,0),Pd(h,x),ro(h,it()),N;if(N===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=x,fh(h,to,wu),ro(h,it()),null}function wE(h,x){var N=tn;tn|=1;try{return h(x)}finally{tn=N,tn===0&&(Rp=it()+500,C1&&Nd())}}function uh(h){Td!==null&&Td.tag===0&&(tn&6)===0&&Dp();var x=tn;tn|=1;var N=nl.transition,T=bn;try{if(nl.transition=null,bn=1,h)return h()}finally{bn=T,nl.transition=N,tn=x,(tn&6)===0&&Nd()}}function _E(){ko=Op.current,Jn(Op)}function dh(h,x){h.finishedWork=null,h.finishedLanes=0;var N=h.timeoutHandle;if(N!==-1&&(h.timeoutHandle=-1,Ume(N)),qs!==null)for(N=qs.return;N!==null;){var T=N;switch(PC(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&S1();break;case 3:Tp(),Jn(Zi),Jn(ni),qC();break;case 5:VC(T);break;case 4:Tp();break;case 13:Jn(ds);break;case 19:Jn(ds);break;case 10:FC(T.type._context);break;case 22:case 23:_E()}N=N.return}if(Ca=h,qs=h=Od(h.current,null),za=ko=x,fa=0,Zx=null,pE=K1=ch=0,to=Qx=null,ih!==null){for(x=0;x<ih.length;x++)if(N=ih[x],T=N.interleaved,T!==null){N.interleaved=null;var M=T.next,q=N.pending;if(q!==null){var se=q.next;q.next=M,T.next=se}N.pending=T}ih=null}return h}function rB(h,x){do{var N=qs;try{if(MC(),F1.current=U1,L1){for(var T=fs.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}L1=!1}if(lh=0,ka=da=fs=null,Hx=!1,Gx=0,mE.current=null,N===null||N.return===null){fa=1,Zx=x,qs=null;break}e:{var q=h,se=N.return,je=N,Ae=x;if(x=za,je.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Ge=Ae,ht=je,pt=ht.tag;if((ht.mode&1)===0&&(pt===0||pt===11||pt===15)){var ct=ht.alternate;ct?(ht.updateQueue=ct.updateQueue,ht.memoizedState=ct.memoizedState,ht.lanes=ct.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Rt=C$(se);if(Rt!==null){Rt.flags&=-257,E$(Rt,se,je,q,x),Rt.mode&1&&k$(q,Ge,x),x=Rt,Ae=Ge;var qt=x.updateQueue;if(qt===null){var Wt=new Set;Wt.add(Ae),x.updateQueue=Wt}else qt.add(Ae);break e}else{if((x&1)===0){k$(q,Ge,x),jE();break e}Ae=Error(r(426))}}else if(as&&je.mode&1){var Rs=C$(se);if(Rs!==null){(Rs.flags&65536)===0&&(Rs.flags|=256),E$(Rs,se,je,q,x),DC(Ap(Ae,je));break e}}q=Ae=Ap(Ae,je),fa!==4&&(fa=2),Qx===null?Qx=[q]:Qx.push(q),q=se;do{switch(q.tag){case 3:q.flags|=65536,x&=-x,q.lanes|=x;var Be=N$(q,Ae,x);J8(q,Be);break e;case 1:je=Ae;var Pe=q.type,ze=q.stateNode;if((q.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Ed===null||!Ed.has(ze)))){q.flags|=65536,x&=-x,q.lanes|=x;var yt=S$(q,je,x);J8(q,yt);break e}}q=q.return}while(q!==null)}aB(N)}catch(Kt){x=Kt,qs===N&&N!==null&&(qs=N=N.return);continue}break}while(!0)}function nB(){var h=G1.current;return G1.current=U1,h===null?U1:h}function jE(){(fa===0||fa===3||fa===2)&&(fa=4),Ca===null||(ch&268435455)===0&&(K1&268435455)===0||Pd(Ca,za)}function e_(h,x){var N=tn;tn|=2;var T=nB();(Ca!==h||za!==x)&&(wu=null,dh(h,x));do try{fpe();break}catch(M){rB(h,M)}while(!0);if(MC(),tn=N,G1.current=T,qs!==null)throw Error(r(261));return Ca=null,za=0,fa}function fpe(){for(;qs!==null;)sB(qs)}function hpe(){for(;qs!==null&&!Ct();)sB(qs)}function sB(h){var x=lB(h.alternate,h,ko);h.memoizedProps=h.pendingProps,x===null?aB(h):qs=x,mE.current=null}function aB(h){var x=h;do{var N=x.alternate;if(h=x.return,(x.flags&32768)===0){if(N=ape(N,x,ko),N!==null){qs=N;return}}else{if(N=ipe(N,x),N!==null){N.flags&=32767,qs=N;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{fa=6,qs=null;return}}if(x=x.sibling,x!==null){qs=x;return}qs=x=h}while(x!==null);fa===0&&(fa=5)}function fh(h,x,N){var T=bn,M=nl.transition;try{nl.transition=null,bn=1,mpe(h,x,N,T)}finally{nl.transition=M,bn=T}return null}function mpe(h,x,N,T){do Dp();while(Td!==null);if((tn&6)!==0)throw Error(r(327));N=h.finishedWork;var M=h.finishedLanes;if(N===null)return null;if(h.finishedWork=null,h.finishedLanes=0,N===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var q=N.lanes|N.childLanes;if(Khe(h,q),h===Ca&&(qs=Ca=null,za=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||X1||(X1=!0,cB(ss,function(){return Dp(),null})),q=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||q){q=nl.transition,nl.transition=null;var se=bn;bn=1;var je=tn;tn|=4,mE.current=null,lpe(h,N),Y$(N,h),Dme(jC),d1=!!_C,jC=_C=null,h.current=N,cpe(N),gt(),tn=je,bn=se,nl.transition=q}else h.current=N;if(X1&&(X1=!1,Td=h,J1=M),q=h.pendingLanes,q===0&&(Ed=null),Ji(N.stateNode),ro(h,it()),x!==null)for(T=h.onRecoverableError,N=0;N<x.length;N++)M=x[N],T(M.value,{componentStack:M.stack,digest:M.digest});if(Y1)throw Y1=!1,h=xE,xE=null,h;return(J1&1)!==0&&h.tag!==0&&Dp(),q=h.pendingLanes,(q&1)!==0?h===vE?ev++:(ev=0,vE=h):ev=0,Nd(),null}function Dp(){if(Td!==null){var h=GL(J1),x=nl.transition,N=bn;try{if(nl.transition=null,bn=16>h?16:h,Td===null)var T=!1;else{if(h=Td,Td=null,J1=0,(tn&6)!==0)throw Error(r(331));var M=tn;for(tn|=4,$t=h.current;$t!==null;){var q=$t,se=q.child;if(($t.flags&16)!==0){var je=q.deletions;if(je!==null){for(var Ae=0;Ae<je.length;Ae++){var Ge=je[Ae];for($t=Ge;$t!==null;){var ht=$t;switch(ht.tag){case 0:case 11:case 15:Jx(8,ht,q)}var pt=ht.child;if(pt!==null)pt.return=ht,$t=pt;else for(;$t!==null;){ht=$t;var ct=ht.sibling,Rt=ht.return;if(q$(ht),ht===Ge){$t=null;break}if(ct!==null){ct.return=Rt,$t=ct;break}$t=Rt}}}var qt=q.alternate;if(qt!==null){var Wt=qt.child;if(Wt!==null){qt.child=null;do{var Rs=Wt.sibling;Wt.sibling=null,Wt=Rs}while(Wt!==null)}}$t=q}}if((q.subtreeFlags&2064)!==0&&se!==null)se.return=q,$t=se;else e:for(;$t!==null;){if(q=$t,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:Jx(9,q,q.return)}var Be=q.sibling;if(Be!==null){Be.return=q.return,$t=Be;break e}$t=q.return}}var Pe=h.current;for($t=Pe;$t!==null;){se=$t;var ze=se.child;if((se.subtreeFlags&2064)!==0&&ze!==null)ze.return=se,$t=ze;else e:for(se=Pe;$t!==null;){if(je=$t,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:H1(9,je)}}catch(Kt){ws(je,je.return,Kt)}if(je===se){$t=null;break e}var yt=je.sibling;if(yt!==null){yt.return=je.return,$t=yt;break e}$t=je.return}}if(tn=M,Nd(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(ri,h)}catch{}T=!0}return T}finally{bn=N,nl.transition=x}}return!1}function iB(h,x,N){x=Ap(N,x),x=N$(h,x,1),h=kd(h,x,1),x=Ti(),h!==null&&(Nx(h,1,x),ro(h,x))}function ws(h,x,N){if(h.tag===3)iB(h,h,N);else for(;x!==null;){if(x.tag===3){iB(x,h,N);break}else if(x.tag===1){var T=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Ed===null||!Ed.has(T))){h=Ap(N,h),h=S$(x,h,1),x=kd(x,h,1),h=Ti(),x!==null&&(Nx(x,1,h),ro(x,h));break}}x=x.return}}function ppe(h,x,N){var T=h.pingCache;T!==null&&T.delete(x),x=Ti(),h.pingedLanes|=h.suspendedLanes&N,Ca===h&&(za&N)===N&&(fa===4||fa===3&&(za&130023424)===za&&500>it()-gE?dh(h,0):pE|=N),ro(h,x)}function oB(h,x){x===0&&((h.mode&1)===0?x=1:(x=o1,o1<<=1,(o1&130023424)===0&&(o1=4194304)));var N=Ti();h=vu(h,x),h!==null&&(Nx(h,x,N),ro(h,N))}function gpe(h){var x=h.memoizedState,N=0;x!==null&&(N=x.retryLane),oB(h,N)}function xpe(h,x){var N=0;switch(h.tag){case 13:var T=h.stateNode,M=h.memoizedState;M!==null&&(N=M.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(x),oB(h,N)}var lB;lB=function(h,x,N){if(h!==null)if(h.memoizedProps!==x.pendingProps||Zi.current)eo=!0;else{if((h.lanes&N)===0&&(x.flags&128)===0)return eo=!1,spe(h,x,N);eo=(h.flags&131072)!==0}else eo=!1,as&&(x.flags&1048576)!==0&&U8(x,T1,x.index);switch(x.lanes=0,x.tag){case 2:var T=x.type;q1(h,x),h=x.pendingProps;var M=_p(x,ni.current);Ep(x,N),M=GC(null,x,T,h,M,N);var q=KC();return x.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Qi(T)?(q=!0,k1(x)):q=!1,x.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,BC(x),M.updater=V1,x.stateNode=M,M._reactInternals=x,eE(x,T,h,N),x=sE(null,x,T,!0,q,N)):(x.tag=0,as&&q&&AC(x),Ei(null,x,M,N),x=x.child),x;case 16:T=x.elementType;e:{switch(q1(h,x),h=x.pendingProps,M=T._init,T=M(T._payload),x.type=T,M=x.tag=ype(T),h=Wl(T,h),M){case 0:x=nE(null,x,T,h,N);break e;case 1:x=D$(null,x,T,h,N);break e;case 11:x=T$(null,x,T,h,N);break e;case 14:x=A$(null,x,T,Wl(T.type,h),N);break e}throw Error(r(306,T,""))}return x;case 0:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Wl(T,M),nE(h,x,T,M,N);case 1:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Wl(T,M),D$(h,x,T,M,N);case 3:e:{if(I$(x),h===null)throw Error(r(387));T=x.pendingProps,q=x.memoizedState,M=q.element,X8(h,x),I1(x,T,null,N);var se=x.memoizedState;if(T=se.element,q.isDehydrated)if(q={element:T,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},x.updateQueue.baseState=q,x.memoizedState=q,x.flags&256){M=Ap(Error(r(423)),x),x=M$(h,x,T,N,M);break e}else if(T!==M){M=Ap(Error(r(424)),x),x=M$(h,x,T,N,M);break e}else for(So=wd(x.stateNode.containerInfo.firstChild),No=x,as=!0,ql=null,N=K8(x,null,T,N),x.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Sp(),T===M){x=bu(h,x,N);break e}Ei(h,x,T,N)}x=x.child}return x;case 5:return Q8(x),h===null&&RC(x),T=x.type,M=x.pendingProps,q=h!==null?h.memoizedProps:null,se=M.children,NC(T,M)?se=null:q!==null&&NC(T,q)&&(x.flags|=32),R$(h,x),Ei(h,x,se,N),x.child;case 6:return h===null&&RC(x),null;case 13:return F$(h,x,N);case 4:return UC(x,x.stateNode.containerInfo),T=x.pendingProps,h===null?x.child=kp(x,null,T,N):Ei(h,x,T,N),x.child;case 11:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Wl(T,M),T$(h,x,T,M,N);case 7:return Ei(h,x,x.pendingProps,N),x.child;case 8:return Ei(h,x,x.pendingProps.children,N),x.child;case 12:return Ei(h,x,x.pendingProps.children,N),x.child;case 10:e:{if(T=x.type._context,M=x.pendingProps,q=x.memoizedProps,se=M.value,Vn(O1,T._currentValue),T._currentValue=se,q!==null)if(zl(q.value,se)){if(q.children===M.children&&!Zi.current){x=bu(h,x,N);break e}}else for(q=x.child,q!==null&&(q.return=x);q!==null;){var je=q.dependencies;if(je!==null){se=q.child;for(var Ae=je.firstContext;Ae!==null;){if(Ae.context===T){if(q.tag===1){Ae=yu(-1,N&-N),Ae.tag=2;var Ge=q.updateQueue;if(Ge!==null){Ge=Ge.shared;var ht=Ge.pending;ht===null?Ae.next=Ae:(Ae.next=ht.next,ht.next=Ae),Ge.pending=Ae}}q.lanes|=N,Ae=q.alternate,Ae!==null&&(Ae.lanes|=N),LC(q.return,N,x),je.lanes|=N;break}Ae=Ae.next}}else if(q.tag===10)se=q.type===x.type?null:q.child;else if(q.tag===18){if(se=q.return,se===null)throw Error(r(341));se.lanes|=N,je=se.alternate,je!==null&&(je.lanes|=N),LC(se,N,x),se=q.sibling}else se=q.child;if(se!==null)se.return=q;else for(se=q;se!==null;){if(se===x){se=null;break}if(q=se.sibling,q!==null){q.return=se.return,se=q;break}se=se.return}q=se}Ei(h,x,M.children,N),x=x.child}return x;case 9:return M=x.type,T=x.pendingProps.children,Ep(x,N),M=tl(M),T=T(M),x.flags|=1,Ei(h,x,T,N),x.child;case 14:return T=x.type,M=Wl(T,x.pendingProps),M=Wl(T.type,M),A$(h,x,T,M,N);case 15:return P$(h,x,x.type,x.pendingProps,N);case 17:return T=x.type,M=x.pendingProps,M=x.elementType===T?M:Wl(T,M),q1(h,x),x.tag=1,Qi(T)?(h=!0,k1(x)):h=!1,Ep(x,N),_$(x,T,M),eE(x,T,M,N),sE(null,x,T,!0,h,N);case 19:return $$(h,x,N);case 22:return O$(h,x,N)}throw Error(r(156,x.tag))};function cB(h,x){return st(h,x)}function vpe(h,x,N,T){this.tag=h,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sl(h,x,N,T){return new vpe(h,x,N,T)}function NE(h){return h=h.prototype,!(!h||!h.isReactComponent)}function ype(h){if(typeof h=="function")return NE(h)?1:0;if(h!=null){if(h=h.$$typeof,h===D)return 11;if(h===H)return 14}return 2}function Od(h,x){var N=h.alternate;return N===null?(N=sl(h.tag,x,h.key,h.mode),N.elementType=h.elementType,N.type=h.type,N.stateNode=h.stateNode,N.alternate=h,h.alternate=N):(N.pendingProps=x,N.type=h.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=h.flags&14680064,N.childLanes=h.childLanes,N.lanes=h.lanes,N.child=h.child,N.memoizedProps=h.memoizedProps,N.memoizedState=h.memoizedState,N.updateQueue=h.updateQueue,x=h.dependencies,N.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},N.sibling=h.sibling,N.index=h.index,N.ref=h.ref,N}function t_(h,x,N,T,M,q){var se=2;if(T=h,typeof h=="function")NE(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case k:return hh(N.children,M,q,x);case R:se=8,M|=8;break;case O:return h=sl(12,N,x,M|2),h.elementType=O,h.lanes=q,h;case F:return h=sl(13,N,x,M),h.elementType=F,h.lanes=q,h;case L:return h=sl(19,N,x,M),h.elementType=L,h.lanes=q,h;case G:return r_(N,M,q,x);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case A:se=10;break e;case P:se=9;break e;case D:se=11;break e;case H:se=14;break e;case W:se=16,T=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return x=sl(se,N,x,M),x.elementType=h,x.type=T,x.lanes=q,x}function hh(h,x,N,T){return h=sl(7,h,T,x),h.lanes=N,h}function r_(h,x,N,T){return h=sl(22,h,T,x),h.elementType=G,h.lanes=N,h.stateNode={isHidden:!1},h}function SE(h,x,N){return h=sl(6,h,null,x),h.lanes=N,h}function kE(h,x,N){return x=sl(4,h.children!==null?h.children:[],h.key,x),x.lanes=N,x.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},x}function bpe(h,x,N,T,M){this.tag=x,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qk(0),this.expirationTimes=Qk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qk(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function CE(h,x,N,T,M,q,se,je,Ae){return h=new bpe(h,x,N,je,Ae),x===1?(x=1,q===!0&&(x|=8)):x=0,q=sl(3,null,null,x),h.current=q,q.stateNode=h,q.memoizedState={element:T,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},BC(q),h}function wpe(h,x,N){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:T==null?null:""+T,children:h,containerInfo:x,implementation:N}}function uB(h){if(!h)return jd;h=h._reactInternals;e:{if(ye(h)!==h||h.tag!==1)throw Error(r(170));var x=h;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Qi(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(r(171))}if(h.tag===1){var N=h.type;if(Qi(N))return L8(h,N,x)}return x}function dB(h,x,N,T,M,q,se,je,Ae){return h=CE(N,T,!0,h,M,q,se,je,Ae),h.context=uB(null),N=h.current,T=Ti(),M=Ad(N),q=yu(T,M),q.callback=x??null,kd(N,q,M),h.current.lanes=M,Nx(h,M,T),ro(h,T),h}function n_(h,x,N,T){var M=x.current,q=Ti(),se=Ad(M);return N=uB(N),x.context===null?x.context=N:x.pendingContext=N,x=yu(q,se),x.payload={element:h},T=T===void 0?null:T,T!==null&&(x.callback=T),h=kd(M,x,se),h!==null&&(Kl(h,M,se,q),D1(h,M,se)),se}function s_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function fB(h,x){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var N=h.retryLane;h.retryLane=N!==0&&N<x?N:x}}function EE(h,x){fB(h,x),(h=h.alternate)&&fB(h,x)}function _pe(){return null}var hB=typeof reportError=="function"?reportError:function(h){console.error(h)};function TE(h){this._internalRoot=h}a_.prototype.render=TE.prototype.render=function(h){var x=this._internalRoot;if(x===null)throw Error(r(409));n_(h,x,null,null)},a_.prototype.unmount=TE.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var x=h.containerInfo;uh(function(){n_(null,h,null,null)}),x[mu]=null}};function a_(h){this._internalRoot=h}a_.prototype.unstable_scheduleHydration=function(h){if(h){var x=XL();h={blockedOn:null,target:h,priority:x};for(var N=0;N<vd.length&&x!==0&&x<vd[N].priority;N++);vd.splice(N,0,h),N===0&&QL(h)}};function AE(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function i_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function mB(){}function jpe(h,x,N,T,M){if(M){if(typeof T=="function"){var q=T;T=function(){var Ge=s_(se);q.call(Ge)}}var se=dB(x,T,h,0,null,!1,!1,"",mB);return h._reactRootContainer=se,h[mu]=se.current,Lx(h.nodeType===8?h.parentNode:h),uh(),se}for(;M=h.lastChild;)h.removeChild(M);if(typeof T=="function"){var je=T;T=function(){var Ge=s_(Ae);je.call(Ge)}}var Ae=CE(h,0,!1,null,null,!1,!1,"",mB);return h._reactRootContainer=Ae,h[mu]=Ae.current,Lx(h.nodeType===8?h.parentNode:h),uh(function(){n_(x,Ae,N,T)}),Ae}function o_(h,x,N,T,M){var q=N._reactRootContainer;if(q){var se=q;if(typeof M=="function"){var je=M;M=function(){var Ae=s_(se);je.call(Ae)}}n_(x,se,h,M)}else se=jpe(N,x,h,M,T);return s_(se)}KL=function(h){switch(h.tag){case 3:var x=h.stateNode;if(x.current.memoizedState.isDehydrated){var N=jx(x.pendingLanes);N!==0&&(eC(x,N|1),ro(x,it()),(tn&6)===0&&(Rp=it()+500,Nd()))}break;case 13:uh(function(){var T=vu(h,1);if(T!==null){var M=Ti();Kl(T,h,1,M)}}),EE(h,1)}},tC=function(h){if(h.tag===13){var x=vu(h,134217728);if(x!==null){var N=Ti();Kl(x,h,134217728,N)}EE(h,134217728)}},YL=function(h){if(h.tag===13){var x=Ad(h),N=vu(h,x);if(N!==null){var T=Ti();Kl(N,h,x,T)}EE(h,x)}},XL=function(){return bn},JL=function(h,x){var N=bn;try{return bn=h,x()}finally{bn=N}},lr=function(h,x,N){switch(x){case"input":if(ie(h,N),x=N.name,N.type==="radio"&&x!=null){for(N=h;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<N.length;x++){var T=N[x];if(T!==h&&T.form===h.form){var M=N1(T);if(!M)throw Error(r(90));V(T),ie(T,M)}}}break;case"textarea":Je(h,N);break;case"select":x=N.value,x!=null&&we(h,!!N.multiple,x,!1)}},ar=wE,Or=uh;var Npe={usingClientEntryPoint:!1,Events:[Ux,bp,N1,An,Mt,wE]},tv={findFiberByHostInstance:rh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Spe={bundleType:tv.bundleType,version:tv.version,rendererPackageName:tv.rendererPackageName,rendererConfig:tv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ue(h),h===null?null:h.stateNode},findFiberByHostInstance:tv.findFiberByHostInstance||_pe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{ri=l_.inject(Spe),us=l_}catch{}}return no.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Npe,no.createPortal=function(h,x){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AE(x))throw Error(r(200));return wpe(h,x,null,N)},no.createRoot=function(h,x){if(!AE(h))throw Error(r(299));var N=!1,T="",M=hB;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onRecoverableError!==void 0&&(M=x.onRecoverableError)),x=CE(h,1,!1,null,null,N,!1,T,M),h[mu]=x.current,Lx(h.nodeType===8?h.parentNode:h),new TE(x)},no.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var x=h._reactInternals;if(x===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Ue(x),h=h===null?null:h.stateNode,h},no.flushSync=function(h){return uh(h)},no.hydrate=function(h,x,N){if(!i_(x))throw Error(r(200));return o_(null,h,x,!0,N)},no.hydrateRoot=function(h,x,N){if(!AE(h))throw Error(r(405));var T=N!=null&&N.hydratedSources||null,M=!1,q="",se=hB;if(N!=null&&(N.unstable_strictMode===!0&&(M=!0),N.identifierPrefix!==void 0&&(q=N.identifierPrefix),N.onRecoverableError!==void 0&&(se=N.onRecoverableError)),x=dB(x,null,h,1,N??null,M,!1,q,se),h[mu]=x.current,Lx(h),T)for(h=0;h<T.length;h++)N=T[h],M=N._getVersion,M=M(N._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[N,M]:x.mutableSourceEagerHydrationData.push(N,M);return new a_(x)},no.render=function(h,x,N){if(!i_(x))throw Error(r(200));return o_(null,h,x,!1,N)},no.unmountComponentAtNode=function(h){if(!i_(h))throw Error(r(40));return h._reactRootContainer?(uh(function(){o_(null,null,h,!1,function(){h._reactRootContainer=null,h[mu]=null})}),!0):!1},no.unstable_batchedUpdates=wE,no.unstable_renderSubtreeIntoContainer=function(h,x,N,T){if(!i_(N))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return o_(h,x,N,!1,T)},no.version="18.3.1-next-f1338f8080-20240426",no}var _B;function cJ(){if(_B)return RE.exports;_B=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),RE.exports=Dpe(),RE.exports}var jB;function Ipe(){if(jB)return u_;jB=1;var e=cJ();return u_.createRoot=e.createRoot,u_.hydrateRoot=e.hydrateRoot,u_}var Mpe=Ipe(),_=JS();const ce=Qr(_),JI=Cpe({__proto__:null,default:ce},[_]),Fpe=1,Lpe=1e6;let ME=0;function $pe(){return ME=(ME+1)%Number.MAX_SAFE_INTEGER,ME.toString()}const FE=new Map,NB=e=>{if(FE.has(e))return;const t=setTimeout(()=>{FE.delete(e),Yv({type:"REMOVE_TOAST",toastId:e})},Lpe);FE.set(e,t)},Bpe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Fpe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?NB(r):e.toasts.forEach(n=>{NB(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},pj=[];let gj={toasts:[]};function Yv(e){gj=Bpe(gj,e),pj.forEach(t=>{t(gj)})}function Fe({...e}){const t=$pe(),r=a=>Yv({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Yv({type:"DISMISS_TOAST",toastId:t});return Yv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function cs(){const[e,t]=_.useState(gj);return _.useEffect(()=>(pj.push(t),()=>{const r=pj.indexOf(t);r>-1&&pj.splice(r,1)}),[e]),{...e,toast:Fe,dismiss:r=>Yv({type:"DISMISS_TOAST",toastId:r})}}var Y0=cJ();const uJ=Qr(Y0);function ft(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function SB(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ZS(...e){return t=>{let r=!1;const n=e.map(a=>{const i=SB(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():SB(e[a],null)}}}}function Zt(...e){return _.useCallback(ZS(...e),e)}function Upe(e,t){const r=_.createContext(t),n=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Vs(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:m,children:p,...y}=f,g=m?.[e]?.[c]||l,v=_.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,m){const p=m?.[e]?.[c]||l,y=_.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=l?.[e]||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Vpe(a,...t)]}function Vpe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function bf(e){const t=zpe(e),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,l=_.Children.toArray(i),c=l.find(qpe);if(c){const u=c.props.children,d=l.map(f=>f===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var dJ=bf("Slot");function zpe(e){const t=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=Hpe(a),l=Wpe(i,a.props);return a.type!==_.Fragment&&(l.ref=n?ZS(n,o):o),_.cloneElement(a,l)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fJ=Symbol("radix.slottable");function hJ(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=fJ,t}function qpe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fJ}function Wpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Hpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function X0(e){const t=e+"CollectionProvider",[r,n]=Vs(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:w}=g,b=ce.useRef(null),j=ce.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:j,collectionRef:b,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=bf(l),u=ce.forwardRef((g,v)=>{const{scope:w,children:b}=g,j=i(l,w),E=Zt(v,j.collectionRef);return s.jsx(c,{ref:E,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=bf(d),p=ce.forwardRef((g,v)=>{const{scope:w,children:b,...j}=g,E=ce.useRef(null),S=Zt(v,E),C=i(d,w);return ce.useEffect(()=>(C.itemMap.set(E,{ref:E,...j}),()=>void C.itemMap.delete(E))),s.jsx(m,{[f]:"",ref:S,children:b})});p.displayName=d;function y(g){const v=i(e+"CollectionConsumer",g);return ce.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,k)=>j.indexOf(C.ref.current)-j.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,n]}var Gpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=Gpe.reduce((e,t)=>{const r=bf(`Primitive.${t}`),n=_.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ZI(e,t){e&&Y0.flushSync(()=>e.dispatchEvent(t))}function ks(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function Kpe(e,t=globalThis?.document){const r=ks(e);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ype="DismissableLayer",vR="dismissableLayer.update",Xpe="dismissableLayer.pointerDownOutside",Jpe="dismissableLayer.focusOutside",kB,mJ=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gm=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=_.useContext(mJ),[d,f]=_.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=_.useState({}),y=Zt(t,k=>f(k)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(v),b=d?g.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,E=b>=w,S=Qpe(k=>{const R=k.target,O=[...u.branches].some(A=>A.contains(R));!E||O||(a?.(k),o?.(k),k.defaultPrevented||l?.())},m),C=ege(k=>{const R=k.target;[...u.branches].some(A=>A.contains(R))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},m);return Kpe(k=>{b===u.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kB=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),CB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=kB)}},[d,m,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),CB())},[d,u]),_.useEffect(()=>{const k=()=>p({});return document.addEventListener(vR,k),()=>document.removeEventListener(vR,k)},[]),s.jsx(Tt.div,{...c,ref:y,style:{pointerEvents:j?E?"auto":"none":void 0,...e.style},onFocusCapture:ft(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ft(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ft(e.onPointerDownCapture,S.onPointerDownCapture)})});Gm.displayName=Ype;var Zpe="DismissableLayerBranch",pJ=_.forwardRef((e,t)=>{const r=_.useContext(mJ),n=_.useRef(null),a=Zt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Tt.div,{...e,ref:a})});pJ.displayName=Zpe;function Qpe(e,t=globalThis?.document){const r=ks(e),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){gJ(Xpe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ege(e,t=globalThis?.document){const r=ks(e),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&gJ(Jpe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CB(){const e=new CustomEvent(vR);document.dispatchEvent(e)}function gJ(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ZI(a,i):a.dispatchEvent(i)}var tge=Gm,rge=pJ,As=globalThis?.document?_.useLayoutEffect:()=>{},nge="Portal",J0=_.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=_.useState(!1);As(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?uJ.createPortal(s.jsx(Tt.div,{...n,ref:t}),o):null});J0.displayName=nge;function sge(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var ca=e=>{const{present:t,children:r}=e,n=age(t),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=Zt(n.ref,ige(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};ca.displayName="Presence";function age(e){const[t,r]=_.useState(),n=_.useRef(null),a=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=sge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=d_(n.current);i.current=l==="mounted"?u:"none"},[l]),As(()=>{const u=n.current,d=a.current;if(d!==e){const m=i.current,p=d_(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),As(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=d_(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(i.current=d_(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function d_(e){return e?.animationName||"none"}function ige(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var oge=JI[" useInsertionEffect ".trim().toString()]||As;function Si({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=lge({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=_.useCallback(d=>{if(l){const f=cge(d)?d(e):d;f!==e&&o.current?.(f)}else i(d)},[l,e,i,o]);return[c,u]}function lge({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),a=_.useRef(r),i=_.useRef(t);return oge(()=>{i.current=t},[t]),_.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function cge(e){return typeof e=="function"}var xJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uge="VisuallyHidden",QS=_.forwardRef((e,t)=>s.jsx(Tt.span,{...e,ref:t,style:{...xJ,...e.style}}));QS.displayName=uge;var dge=QS,QI="ToastProvider",[eM,fge,hge]=X0("Toast"),[vJ]=Vs("Toast",[hge]),[mge,e2]=vJ(QI),yJ=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=_.useState(null),[u,d]=_.useState(0),f=_.useRef(!1),m=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${QI}\`. Expected non-empty \`string\`.`),s.jsx(eM.Provider,{scope:t,children:s.jsx(mge,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};yJ.displayName=QI;var bJ="ToastViewport",pge=["F8"],yR="toast.viewportPause",bR="toast.viewportResume",wJ=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=pge,label:a="Notifications ({hotkey})",...i}=e,o=e2(bJ,r),l=fge(r),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),f=_.useRef(null),m=Zt(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;_.useEffect(()=>{const v=w=>{n.length!==0&&n.every(j=>w[j]||w.code===j)&&f.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),_.useEffect(()=>{const v=c.current,w=f.current;if(y&&v&&w){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(yR);w.dispatchEvent(C),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(bR);w.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!v.contains(C.relatedTarget)&&j()},S=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",b),v.addEventListener("focusout",E),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",E),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[y,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:v})=>{const b=l().map(j=>{const E=j.ref.current,S=[E,...Ege(E)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return _.useEffect(()=>{const v=f.current;if(v){const w=b=>{const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const S=document.activeElement,C=b.shiftKey;if(b.target===v&&C){u.current?.focus();return}const O=g({tabbingDirection:C?"backwards":"forwards"}),A=O.findIndex(P=>P===S);LE(O.slice(A+1))?b.preventDefault():C?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,g]),s.jsxs(rge,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(wR,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});LE(v)}}),s.jsx(eM.Slot,{scope:r,children:s.jsx(Tt.ol,{tabIndex:-1,...i,ref:m})}),y&&s.jsx(wR,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});LE(v)}})]})});wJ.displayName=bJ;var _J="ToastFocusProxy",wR=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=e2(_J,r);return s.jsx(QS,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});wR.displayName=_J;var fw="Toast",gge="toast.swipeStart",xge="toast.swipeMove",vge="toast.swipeCancel",yge="toast.swipeEnd",jJ=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Si({prop:n,defaultProp:a??!0,onChange:i,caller:fw});return s.jsx(ca,{present:r||l,children:s.jsx(_ge,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ks(e.onPause),onResume:ks(e.onResume),onSwipeStart:ft(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ft(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});jJ.displayName=fw;var[bge,wge]=vJ(fw,{onClose(){}}),_ge=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=e2(fw,r),[v,w]=_.useState(null),b=Zt(t,L=>w(L)),j=_.useRef(null),E=_.useRef(null),S=a||g.duration,C=_.useRef(0),k=_.useRef(S),R=_.useRef(0),{onToastAdd:O,onToastRemove:A}=g,P=ks(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),D=_.useCallback(L=>{!L||L===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(P,L))},[P]);_.useEffect(()=>{const L=g.viewport;if(L){const H=()=>{D(k.current),u?.()},W=()=>{const G=new Date().getTime()-C.current;k.current=k.current-G,window.clearTimeout(R.current),c?.()};return L.addEventListener(yR,W),L.addEventListener(bR,H),()=>{L.removeEventListener(yR,W),L.removeEventListener(bR,H)}}},[g.viewport,S,c,u,D]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(S)},[i,S,g.isClosePausedRef,D]),_.useEffect(()=>(O(),()=>A()),[O,A]);const F=_.useMemo(()=>v?AJ(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(jge,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(bge,{scope:r,onClose:P,children:Y0.createPortal(s.jsx(eM.ItemSlot,{scope:r,children:s.jsx(tge,{asChild:!0,onEscapeKeyDown:ft(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ft(e.onKeyDown,L=>{L.key==="Escape"&&(l?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ft(e.onPointerDown,L=>{L.button===0&&(j.current={x:L.clientX,y:L.clientY})}),onPointerMove:ft(e.onPointerMove,L=>{if(!j.current)return;const H=L.clientX-j.current.x,W=L.clientY-j.current.y,G=!!E.current,K=["left","right"].includes(g.swipeDirection),I=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=K?I(0,H):0,Y=K?0:I(0,W),z=L.pointerType==="touch"?10:2,J={x:B,y:Y},X={originalEvent:L,delta:J};G?(E.current=J,f_(xge,f,X,{discrete:!1})):EB(J,g.swipeDirection,z)?(E.current=J,f_(gge,d,X,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(H)>z||Math.abs(W)>z)&&(j.current=null)}),onPointerUp:ft(e.onPointerUp,L=>{const H=E.current,W=L.target;if(W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),E.current=null,j.current=null,H){const G=L.currentTarget,K={originalEvent:L,delta:H};EB(H,g.swipeDirection,g.swipeThreshold)?f_(yge,p,K,{discrete:!0}):f_(vge,m,K,{discrete:!0}),G.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),jge=e=>{const{__scopeToast:t,children:r,...n}=e,a=e2(fw,t),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return kge(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(J0,{asChild:!0,children:s.jsx(QS,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Nge="ToastTitle",NJ=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Tt.div,{...n,ref:t})});NJ.displayName=Nge;var Sge="ToastDescription",SJ=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Tt.div,{...n,ref:t})});SJ.displayName=Sge;var kJ="ToastAction",CJ=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(TJ,{altText:r,asChild:!0,children:s.jsx(tM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kJ}\`. Expected non-empty \`string\`.`),null)});CJ.displayName=kJ;var EJ="ToastClose",tM=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=wge(EJ,r);return s.jsx(TJ,{asChild:!0,children:s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:ft(e.onClick,a.onClose)})})});tM.displayName=EJ;var TJ=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function AJ(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Cge(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...AJ(n))}}),t}function f_(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ZI(a,i):a.dispatchEvent(i)}var EB=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function kge(e=()=>{}){const t=ks(e);As(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Cge(e){return e.nodeType===e.ELEMENT_NODE}function Ege(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function LE(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Tge=yJ,PJ=wJ,OJ=jJ,RJ=NJ,DJ=SJ,IJ=CJ,MJ=tM;function FJ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=FJ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ir(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=FJ(e))&&(n&&(n+=" "),n+=t);return n}const TB=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,AB=Ir,Z0=(e,t)=>r=>{var n;if(t?.variants==null)return AB(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const m=TB(d)||TB(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,f,m]:u},[]);return AB(e,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LJ=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...Pge,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:LJ("lucide",a),...l},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(Oge,{ref:i,iconNode:t,className:LJ(`lucide-${Age(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=dt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=dt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=dt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ige=dt("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=dt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=dt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mge=dt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=dt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=dt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=dt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=dt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=dt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=dt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=dt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=dt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=dt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=dt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zge=dt("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=dt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=dt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=dt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=dt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=dt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=dt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=dt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=dt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=dt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=dt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=dt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=dt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=dt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=dt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=dt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=dt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=dt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=dt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=dt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=dt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=dt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=dt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=dt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=dt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=dt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=dt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),iM="-",Yge=e=>{const t=Jge(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(iM);return l[0]===""&&l.length!==1&&l.shift(),YJ(l,t)||Xge(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},YJ=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?YJ(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(iM);return t.validators.find(({validator:o})=>o(i))?.classGroupId},UB=/^\[(.+)\]$/,Xge=e=>{if(UB.test(e)){const t=UB.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Jge=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Qge(Object.entries(e.classGroups),r).forEach(([i,o])=>{CR(o,n,i,t)}),n},CR=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:VB(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Zge(a)){CR(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{CR(o,VB(t,i),r,n)})})},VB=(e,t)=>{let r=e;return t.split(iM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Zge=e=>e.isThemeGetter,Qge=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,e0e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},XJ="!",t0e=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let w=l[v];if(u===0){if(w===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(w==="/"){f=v;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(XJ),y=p?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},r0e=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},n0e=e=>({cache:e0e(e.cacheSize),parseClassName:t0e(e),...Yge(e)}),s0e=/\s+/,a0e=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(s0e);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let y=!!p,g=n(y?m.substring(0,p):m);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=r0e(d).join(":"),w=f?v+XJ:v,b=w+g;if(i.includes(b))continue;i.push(b);const j=a(g,y);for(let E=0;E<j.length;++E){const S=j[E];i.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function i0e(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=JJ(t))&&(n&&(n+=" "),n+=r);return n}const JJ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=JJ(e[n]))&&(r&&(r+=" "),r+=t);return r};function o0e(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=n0e(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=a0e(c,r);return a(c,d),d}return function(){return i(i0e.apply(null,arguments))}}const Zn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ZJ=/^\[(?:([a-z-]+):)?(.+)\]$/i,l0e=/^\d+\/\d+$/,c0e=new Set(["px","full","screen"]),u0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_u=e=>Og(e)||c0e.has(e)||l0e.test(e),Dd=e=>Q0(e,"length",_0e),Og=e=>!!e&&!Number.isNaN(Number(e)),$E=e=>Q0(e,"number",Og),nv=e=>!!e&&Number.isInteger(Number(e)),p0e=e=>e.endsWith("%")&&Og(e.slice(0,-1)),Rr=e=>ZJ.test(e),Id=e=>u0e.test(e),g0e=new Set(["length","size","percentage"]),x0e=e=>Q0(e,g0e,QJ),v0e=e=>Q0(e,"position",QJ),y0e=new Set(["image","url"]),b0e=e=>Q0(e,y0e,N0e),w0e=e=>Q0(e,"",j0e),sv=()=>!0,Q0=(e,t,r)=>{const n=ZJ.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},_0e=e=>d0e.test(e)&&!f0e.test(e),QJ=()=>!1,j0e=e=>h0e.test(e),N0e=e=>m0e.test(e),S0e=()=>{const e=Zn("colors"),t=Zn("spacing"),r=Zn("blur"),n=Zn("brightness"),a=Zn("borderColor"),i=Zn("borderRadius"),o=Zn("borderSpacing"),l=Zn("borderWidth"),c=Zn("contrast"),u=Zn("grayscale"),d=Zn("hueRotate"),f=Zn("invert"),m=Zn("gap"),p=Zn("gradientColorStops"),y=Zn("gradientColorStopPositions"),g=Zn("inset"),v=Zn("margin"),w=Zn("opacity"),b=Zn("padding"),j=Zn("saturate"),E=Zn("scale"),S=Zn("sepia"),C=Zn("skew"),k=Zn("space"),R=Zn("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Rr,t],D=()=>[Rr,t],F=()=>["",_u,Dd],L=()=>["auto",Og,Rr],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Rr],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Og,Rr];return{cacheSize:500,separator:":",theme:{colors:[sv],spacing:[_u,Dd],blur:["none","",Id,Rr],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Id,Rr],borderSpacing:D(),borderWidth:F(),contrast:Y(),grayscale:I(),hueRotate:Y(),invert:I(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[p0e,Dd],inset:P(),margin:P(),opacity:Y(),padding:D(),saturate:Y(),scale:Y(),sepia:I(),skew:Y(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Rr]}],container:["container"],columns:[{columns:[Id]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Rr]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nv,Rr]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rr]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",nv,Rr]}],"grid-cols":[{"grid-cols":[sv]}],"col-start-end":[{col:["auto",{span:["full",nv,Rr]},Rr]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[sv]}],"row-start-end":[{row:["auto",{span:[nv,Rr]},Rr]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rr,t]}],"min-w":[{"min-w":[Rr,t,"min","max","fit"]}],"max-w":[{"max-w":[Rr,t,"none","full","min","max","fit","prose",{screen:[Id]},Id]}],h:[{h:[Rr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Id,Dd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$E]}],"font-family":[{font:[sv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rr]}],"line-clamp":[{"line-clamp":["none",Og,$E]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_u,Rr]}],"list-image":[{"list-image":["none",Rr]}],"list-style-type":[{list:["none","disc","decimal",Rr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_u,Dd]}],"underline-offset":[{"underline-offset":["auto",_u,Rr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),v0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b0e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[_u,Rr]}],"outline-w":[{outline:[_u,Dd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[_u,Dd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Id,w0e]}],"shadow-color":[{shadow:[sv]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Id,Rr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rr]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Rr]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[nv,Rr]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[_u,Dd,$E]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k0e=o0e(S0e);function ut(...e){return k0e(Ir(e))}const C0e=Tge,eZ=_.forwardRef(({className:e,...t},r)=>s.jsx(PJ,{ref:r,className:ut("fixed top-4 right-4 z-[100] flex max-h-screen max-w-[420px] flex-col gap-2 p-4",e),...t}));eZ.displayName=PJ.displayName;const E0e=Z0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-lg border-2 p-4 pr-8 shadow-xl transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border-emerald-400 bg-emerald-50 dark:bg-emerald-950 text-emerald-900 dark:text-emerald-100",destructive:"border-red-500 bg-red-50 dark:bg-red-950 text-red-900 dark:text-red-100"}},defaultVariants:{variant:"default"}}),tZ=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(OJ,{ref:n,className:ut(E0e({variant:t}),e),...r}));tZ.displayName=OJ.displayName;const T0e=_.forwardRef(({className:e,...t},r)=>s.jsx(IJ,{ref:r,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));T0e.displayName=IJ.displayName;const rZ=_.forwardRef(({className:e,...t},r)=>s.jsx(MJ,{ref:r,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx($a,{className:"h-4 w-4"})}));rZ.displayName=MJ.displayName;const nZ=_.forwardRef(({className:e,...t},r)=>s.jsx(RJ,{ref:r,className:ut("text-sm font-semibold",e),...t}));nZ.displayName=RJ.displayName;const sZ=_.forwardRef(({className:e,...t},r)=>s.jsx(DJ,{ref:r,className:ut("text-sm opacity-90",e),...t}));sZ.displayName=DJ.displayName;function A0e(){const{toasts:e,dismiss:t}=cs(),r=_.useRef(null);return _.useEffect(()=>{const n=a=>{e.length!==0&&r.current&&!r.current.contains(a.target)&&e.forEach(i=>{t(i.id)})};if(e.length>0){const a=setTimeout(()=>{document.addEventListener("click",n)},100);return()=>{clearTimeout(a),document.removeEventListener("click",n)}}},[e,t]),s.jsxs(C0e,{children:[e.map(function({id:n,title:a,description:i,action:o,...l}){return s.jsxs(tZ,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[a&&s.jsx(nZ,{children:a}),i&&s.jsx(sZ,{children:i})]}),o,s.jsx(rZ,{})]},n)}),s.jsx(eZ,{ref:r})]})}var Wj=["light","dark"],oM="(prefers-color-scheme: dark)",P0e=typeof window>"u",lM=_.createContext(void 0),O0e={setTheme:e=>{},themes:[]},aZ=()=>{var e;return(e=_.useContext(lM))!=null?e:O0e},R0e=e=>_.useContext(lM)?e.children:_.createElement(I0e,{...e}),D0e=["light","dark"],I0e=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=D0e,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=_.useState(()=>zB(a,o)),[p,y]=_.useState(()=>zB(a)),g=c?Object.values(c):i,v=_.useCallback(E=>{let S=E;if(!S)return;E==="system"&&r&&(S=qB());let C=c?c[S]:S,k=t?F0e():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...g),C&&R.classList.add(C)):C?R.setAttribute(l,C):R.removeAttribute(l),n){let O=Wj.includes(o)?o:null,A=Wj.includes(S)?S:O;R.style.colorScheme=A}k?.()},[]),w=_.useCallback(E=>{let S=typeof E=="function"?E(E):E;m(S);try{localStorage.setItem(a,S)}catch{}},[e]),b=_.useCallback(E=>{let S=qB(E);y(S),f==="system"&&r&&!e&&v("system")},[f,e]);_.useEffect(()=>{let E=window.matchMedia(oM);return E.addListener(b),b(E),()=>E.removeListener(b)},[b]),_.useEffect(()=>{let E=S=>{if(S.key!==a)return;let C=S.newValue||o;w(C)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[w]),_.useEffect(()=>{v(e??f)},[e,f]);let j=_.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:r?[...i,"system"]:i,systemTheme:r?p:void 0}),[f,w,e,p,r,i]);return _.createElement(lM.Provider,{value:j},_.createElement(M0e,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},M0e=_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Wj.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,g=!1,v=!0)=>{let w=o?o[y]:y,b=g?y+"|| ''":`'${w}'`,j="";return a&&v&&!g&&Wj.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),r==="class"?g||w?j+=`c.add(${b})`:j+="null":w&&(j+=`d[s](n,${b})`),j},p=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${oM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),zB=(e,t)=>{if(P0e)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},F0e=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},qB=e=>(e||(e=window.matchMedia(oM)),e.matches?"dark":"light"),L0e=e=>{switch(e){case"success":return U0e;case"info":return z0e;case"warning":return V0e;case"error":return q0e;default:return null}},$0e=Array(12).fill(0),B0e=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},$0e.map((r,n)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),U0e=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V0e=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z0e=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),q0e=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),W0e=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H0e=()=>{let[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},ER=1,G0e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ER++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],ce.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(Y0e(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||ER++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},io=new G0e,K0e=(e,t)=>{let r=t?.id||ER++;return io.addToast({title:e,...t,id:r}),r},Y0e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",X0e=K0e,J0e=()=>io.toasts,Z0e=()=>io.getActiveToasts(),ot=Object.assign(X0e,{success:io.success,info:io.info,warning:io.warning,error:io.error,custom:io.custom,message:io.message,promise:io.promise,dismiss:io.dismiss,loading:io.loading},{getHistory:J0e,getToasts:Z0e});function Q0e(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Q0e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function m_(e){return e.label!==void 0}var exe=3,txe="32px",rxe="16px",WB=4e3,nxe=356,sxe=14,axe=20,ixe=200;function Yl(...e){return e.filter(Boolean).join(" ")}function oxe(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var lxe=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:m,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:w,heights:b,index:j,toasts:E,expanded:S,removeToast:C,defaultRichColors:k,closeButton:R,style:O,cancelButtonStyle:A,actionButtonStyle:P,className:D="",descriptionClassName:F="",duration:L,position:H,gap:W,loadingIcon:G,expandByDefault:K,classNames:I,icons:B,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:z}=e,[J,X]=ce.useState(null),[ee,he]=ce.useState(null),[fe,ge]=ce.useState(!1),[U,ne]=ce.useState(!1),[Q,V]=ce.useState(!1),[ue,oe]=ce.useState(!1),[Se,Ee]=ce.useState(!1),[ie,qe]=ce.useState(0),[He,de]=ce.useState(0),we=ce.useRef(p.duration||L||WB),Oe=ce.useRef(null),Ye=ce.useRef(null),Je=j===0,Ne=j+1<=w,te=p.type,_e=p.dismissible!==!1,pe=p.className||"",Ie=p.descriptionClassName||"",De=ce.useMemo(()=>b.findIndex(Mt=>Mt.toastId===p.id)||0,[b,p.id]),le=ce.useMemo(()=>{var Mt;return(Mt=p.closeButton)!=null?Mt:R},[p.closeButton,R]),Re=ce.useMemo(()=>p.duration||L||WB,[p.duration,L]),et=ce.useRef(0),xt=ce.useRef(0),at=ce.useRef(0),St=ce.useRef(null),[Xt,At]=H.split("-"),Pt=ce.useMemo(()=>b.reduce((Mt,ar,Or)=>Or>=De?Mt:Mt+ar.height,0),[b,De]),lr=H0e(),Pr=p.invert||m,Mr=te==="loading";xt.current=ce.useMemo(()=>De*W+Pt,[De,Pt]),ce.useEffect(()=>{we.current=Re},[Re]),ce.useEffect(()=>{ge(!0)},[]),ce.useEffect(()=>{let Mt=Ye.current;if(Mt){let ar=Mt.getBoundingClientRect().height;return de(ar),v(Or=>[{toastId:p.id,height:ar,position:p.position},...Or]),()=>v(Or=>Or.filter(zt=>zt.toastId!==p.id))}},[v,p.id]),ce.useLayoutEffect(()=>{if(!fe)return;let Mt=Ye.current,ar=Mt.style.height;Mt.style.height="auto";let Or=Mt.getBoundingClientRect().height;Mt.style.height=ar,de(Or),v(zt=>zt.find(It=>It.toastId===p.id)?zt.map(It=>It.toastId===p.id?{...It,height:Or}:It):[{toastId:p.id,height:Or,position:p.position},...zt])},[fe,p.title,p.description,v,p.id]);let en=ce.useCallback(()=>{ne(!0),qe(xt.current),v(Mt=>Mt.filter(ar=>ar.toastId!==p.id)),setTimeout(()=>{C(p)},ixe)},[p,C,v,xt]);ce.useEffect(()=>{if(p.promise&&te==="loading"||p.duration===1/0||p.type==="loading")return;let Mt;return S||g||z&&lr?(()=>{if(at.current<et.current){let ar=new Date().getTime()-et.current;we.current=we.current-ar}at.current=new Date().getTime()})():we.current!==1/0&&(et.current=new Date().getTime(),Mt=setTimeout(()=>{var ar;(ar=p.onAutoClose)==null||ar.call(p,p),en()},we.current)),()=>clearTimeout(Mt)},[S,g,p,te,z,lr,en]),ce.useEffect(()=>{p.delete&&en()},[en,p.delete]);function An(){var Mt,ar,Or;return B!=null&&B.loading?ce.createElement("div",{className:Yl(I?.loader,(Mt=p?.classNames)==null?void 0:Mt.loader,"sonner-loader"),"data-visible":te==="loading"},B.loading):G?ce.createElement("div",{className:Yl(I?.loader,(ar=p?.classNames)==null?void 0:ar.loader,"sonner-loader"),"data-visible":te==="loading"},G):ce.createElement(B0e,{className:Yl(I?.loader,(Or=p?.classNames)==null?void 0:Or.loader),visible:te==="loading"})}return ce.createElement("li",{tabIndex:0,ref:Ye,className:Yl(D,pe,I?.toast,(t=p?.classNames)==null?void 0:t.toast,I?.default,I?.[te],(r=p?.classNames)==null?void 0:r[te]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":fe,"data-promise":!!p.promise,"data-swiped":Se,"data-removed":U,"data-visible":Ne,"data-y-position":Xt,"data-x-position":At,"data-index":j,"data-front":Je,"data-swiping":Q,"data-dismissible":_e,"data-type":te,"data-invert":Pr,"data-swipe-out":ue,"data-swipe-direction":ee,"data-expanded":!!(S||K&&fe),style:{"--index":j,"--toasts-before":j,"--z-index":E.length-j,"--offset":`${U?ie:xt.current}px`,"--initial-height":K?"auto":`${He}px`,...O,...p.style},onDragEnd:()=>{V(!1),X(null),St.current=null},onPointerDown:Mt=>{Mr||!_e||(Oe.current=new Date,qe(xt.current),Mt.target.setPointerCapture(Mt.pointerId),Mt.target.tagName!=="BUTTON"&&(V(!0),St.current={x:Mt.clientX,y:Mt.clientY}))},onPointerUp:()=>{var Mt,ar,Or,zt;if(ue||!_e)return;St.current=null;let It=Number(((Mt=Ye.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((ar=Ye.current)==null?void 0:ar.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vt=new Date().getTime()-((Or=Oe.current)==null?void 0:Or.getTime()),Lt=J==="x"?It:er,Ft=Math.abs(Lt)/vt;if(Math.abs(Lt)>=axe||Ft>.11){qe(xt.current),(zt=p.onDismiss)==null||zt.call(p,p),he(J==="x"?It>0?"right":"left":er>0?"down":"up"),en(),oe(!0),Ee(!1);return}V(!1),X(null)},onPointerMove:Mt=>{var ar,Or,zt,It;if(!St.current||!_e||((ar=window.getSelection())==null?void 0:ar.toString().length)>0)return;let er=Mt.clientY-St.current.y,vt=Mt.clientX-St.current.x,Lt=(Or=e.swipeDirections)!=null?Or:oxe(H);!J&&(Math.abs(vt)>1||Math.abs(er)>1)&&X(Math.abs(vt)>Math.abs(er)?"x":"y");let Ft={x:0,y:0};J==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&er<0||Lt.includes("bottom")&&er>0)&&(Ft.y=er):J==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&vt<0||Lt.includes("right")&&vt>0)&&(Ft.x=vt),(Math.abs(Ft.x)>0||Math.abs(Ft.y)>0)&&Ee(!0),(zt=Ye.current)==null||zt.style.setProperty("--swipe-amount-x",`${Ft.x}px`),(It=Ye.current)==null||It.style.setProperty("--swipe-amount-y",`${Ft.y}px`)}},le&&!p.jsx?ce.createElement("button",{"aria-label":Y,"data-disabled":Mr,"data-close-button":!0,onClick:Mr||!_e?()=>{}:()=>{var Mt;en(),(Mt=p.onDismiss)==null||Mt.call(p,p)},className:Yl(I?.closeButton,(a=p?.classNames)==null?void 0:a.closeButton)},(i=B?.close)!=null?i:W0e):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ce.createElement(ce.Fragment,null,te||p.icon||p.promise?ce.createElement("div",{"data-icon":"",className:Yl(I?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||An():null,p.type!=="loading"?p.icon||B?.[te]||L0e(te):null):null,ce.createElement("div",{"data-content":"",className:Yl(I?.content,(l=p?.classNames)==null?void 0:l.content)},ce.createElement("div",{"data-title":"",className:Yl(I?.title,(c=p?.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ce.createElement("div",{"data-description":"",className:Yl(F,Ie,I?.description,(u=p?.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&m_(p.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Mt=>{var ar,Or;m_(p.cancel)&&_e&&((Or=(ar=p.cancel).onClick)==null||Or.call(ar,Mt),en())},className:Yl(I?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&m_(p.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:Mt=>{var ar,Or;m_(p.action)&&((Or=(ar=p.action).onClick)==null||Or.call(ar,Mt),!Mt.defaultPrevented&&en())},className:Yl(I?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function HB(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function cxe(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?rxe:txe;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var uxe=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:y=exe,toastOptions:g,dir:v=HB(),gap:w=sxe,loadingIcon:b,icons:j,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:S}=e,[C,k]=ce.useState([]),R=ce.useMemo(()=>Array.from(new Set([n].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,n]),[O,A]=ce.useState([]),[P,D]=ce.useState(!1),[F,L]=ce.useState(!1),[H,W]=ce.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=ce.useRef(null),K=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ce.useRef(null),B=ce.useRef(!1),Y=ce.useCallback(z=>{k(J=>{var X;return(X=J.find(ee=>ee.id===z.id))!=null&&X.delete||io.dismiss(z.id),J.filter(({id:ee})=>ee!==z.id)})},[]);return ce.useEffect(()=>io.subscribe(z=>{if(z.dismiss){k(J=>J.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{uJ.flushSync(()=>{k(J=>{let X=J.findIndex(ee=>ee.id===z.id);return X!==-1?[...J.slice(0,X),{...J[X],...z},...J.slice(X+1)]:[z,...J]})})})}),[]),ce.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:J})=>{W(J?"dark":"light")})}catch{z.addListener(({matches:X})=>{try{W(X?"dark":"light")}catch(ee){console.error(ee)}})}},[d]),ce.useEffect(()=>{C.length<=1&&D(!1)},[C]),ce.useEffect(()=>{let z=J=>{var X,ee;a.every(he=>J[he]||J.code===he)&&(D(!0),(X=G.current)==null||X.focus()),J.code==="Escape"&&(document.activeElement===G.current||(ee=G.current)!=null&&ee.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),ce.useEffect(()=>{if(G.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,B.current=!1)}},[G.current]),ce.createElement("section",{ref:t,"aria-label":`${E} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((z,J)=>{var X;let[ee,he]=z.split("-");return C.length?ce.createElement("ol",{key:z,dir:v==="auto"?HB():v,tabIndex:-1,ref:G,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ee,"data-lifted":P&&C.length>1&&!i,"data-x-position":he,style:{"--front-toast-height":`${((X=O[0])==null?void 0:X.height)||0}px`,"--width":`${nxe}px`,"--gap":`${w}px`,...p,...cxe(c,u)},onBlur:fe=>{B.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(B.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||B.current||(B.current=!0,I.current=fe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},C.filter(fe=>!fe.position&&J===0||fe.position===z).map((fe,ge)=>{var U,ne;return ce.createElement(lxe,{key:fe.id,icons:j,index:ge,toast:fe,defaultRichColors:f,duration:(U=g?.duration)!=null?U:m,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(ne=g?.closeButton)!=null?ne:o,interacting:F,position:z,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:Y,toasts:C.filter(Q=>Q.position==fe.position),heights:O.filter(Q=>Q.position==fe.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const dxe=({...e})=>{const{theme:t="system"}=aZ();return s.jsx(uxe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var fxe=JI[" useId ".trim().toString()]||(()=>{}),hxe=0;function mo(e){const[t,r]=_.useState(fxe());return As(()=>{r(n=>n??String(hxe++))},[e]),t?`radix-${t}`:""}const mxe=["top","right","bottom","left"],Sf=Math.min,Do=Math.max,Hj=Math.round,p_=Math.floor,Wc=e=>({x:e,y:e}),pxe={left:"right",right:"left",bottom:"top",top:"bottom"},gxe={start:"end",end:"start"};function TR(e,t,r){return Do(e,Sf(t,r))}function Hu(e,t){return typeof e=="function"?e(t):e}function Gu(e){return e.split("-")[0]}function ex(e){return e.split("-")[1]}function cM(e){return e==="x"?"y":"x"}function uM(e){return e==="y"?"height":"width"}const xxe=new Set(["top","bottom"]);function Lc(e){return xxe.has(Gu(e))?"y":"x"}function dM(e){return cM(Lc(e))}function vxe(e,t,r){r===void 0&&(r=!1);const n=ex(e),a=dM(e),i=uM(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Gj(o)),[o,Gj(o)]}function yxe(e){const t=Gj(e);return[AR(e),t,AR(t)]}function AR(e){return e.replace(/start|end/g,t=>gxe[t])}const GB=["left","right"],KB=["right","left"],bxe=["top","bottom"],wxe=["bottom","top"];function _xe(e,t,r){switch(e){case"top":case"bottom":return r?t?KB:GB:t?GB:KB;case"left":case"right":return t?bxe:wxe;default:return[]}}function jxe(e,t,r,n){const a=ex(e);let i=_xe(Gu(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(AR)))),i}function Gj(e){return e.replace(/left|right|bottom|top/g,t=>pxe[t])}function Nxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function iZ(e){return typeof e!="number"?Nxe(e):{top:e,right:e,bottom:e,left:e}}function Kj(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function YB(e,t,r){let{reference:n,floating:a}=e;const i=Lc(t),o=dM(t),l=uM(o),c=Gu(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ex(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const Sxe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=YB(u,n,c),m=n,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:w}=l[g],{x:b,y:j,data:E,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=j??f,p={...p,[v]:{...p[v],...E}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=YB(u,m,c)),g=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:p}};async function Iy(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Hu(t,e),y=iZ(p),v=l[m?f==="floating"?"reference":"floating":f],w=Kj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=Kj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(w.top-S.top+y.top)/E.y,bottom:(S.bottom-w.bottom+y.bottom)/E.y,left:(w.left-S.left+y.left)/E.x,right:(S.right-w.right+y.right)/E.x}}const kxe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Hu(e,t)||{};if(u==null)return{};const f=iZ(d),m={x:r,y:n},p=dM(a),y=uM(p),g=await o.getDimensions(u),v=p==="y",w=v?"top":"left",b=v?"bottom":"right",j=v?"clientHeight":"clientWidth",E=i.reference[y]+i.reference[p]-m[p]-i.floating[y],S=m[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=C?C[j]:0;(!k||!await(o.isElement==null?void 0:o.isElement(C)))&&(k=l.floating[j]||i.floating[y]);const R=E/2-S/2,O=k/2-g[y]/2-1,A=Sf(f[w],O),P=Sf(f[b],O),D=A,F=k-g[y]-P,L=k/2-g[y]/2+R,H=TR(D,L,F),W=!c.arrow&&ex(a)!=null&&L!==H&&i.reference[y]/2-(L<D?A:P)-g[y]/2<0,G=W?L<D?L-D:L-F:0;return{[p]:m[p]+G,data:{[p]:H,centerOffset:L-H-G,...W&&{alignmentOffset:G}},reset:W}}}),Cxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Hu(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Gu(a),b=Lc(l),j=Gu(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(j||!g?[Gj(l)]:yxe(l)),C=y!=="none";!m&&C&&S.push(...jxe(l,g,y,E));const k=[l,...S],R=await Iy(t,v),O=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(R[w]),f){const L=vxe(a,o,E);O.push(R[L[0]],R[L[1]])}if(A=[...A,{placement:a,overflows:O}],!O.every(L=>L<=0)){var P,D;const L=(((P=i.flip)==null?void 0:P.index)||0)+1,H=k[L];if(H&&(!(f==="alignment"?b!==Lc(H):!1)||A.every(K=>K.overflows[0]>0&&Lc(K.placement)===b)))return{data:{index:L,overflows:A},reset:{placement:H}};let W=(D=A.filter(G=>G.overflows[0]<=0).sort((G,K)=>G.overflows[1]-K.overflows[1])[0])==null?void 0:D.placement;if(!W)switch(p){case"bestFit":{var F;const G=(F=A.filter(K=>{if(C){const I=Lc(K.placement);return I===b||I==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(I=>I>0).reduce((I,B)=>I+B,0)]).sort((K,I)=>K[1]-I[1])[0])==null?void 0:F[0];G&&(W=G);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function XB(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function JB(e){return mxe.some(t=>e[t]>=0)}const Exe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Hu(e,t);switch(n){case"referenceHidden":{const i=await Iy(t,{...a,elementContext:"reference"}),o=XB(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JB(o)}}}case"escaped":{const i=await Iy(t,{...a,altBoundary:!0}),o=XB(i,r.floating);return{data:{escapedOffsets:o,escaped:JB(o)}}}default:return{}}}}},oZ=new Set(["left","top"]);async function Txe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Gu(r),l=ex(r),c=Lc(r)==="y",u=oZ.has(o)?-1:1,d=i&&c?-1:1,f=Hu(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const Axe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Txe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Pxe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y:b}=v;return{x:w,y:b}}},...c}=Hu(e,t),u={x:r,y:n},d=await Iy(t,c),f=Lc(Gu(a)),m=cM(f);let p=u[m],y=u[f];if(i){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",b=p+d[v],j=p-d[w];p=TR(b,p,j)}if(o){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=y+d[v],j=y-d[w];y=TR(b,y,j)}const g=l.fn({...t,[m]:p,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[m]:i,[f]:o}}}}}},Oxe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Hu(e,t),d={x:r,y:n},f=Lc(a),m=cM(f);let p=d[m],y=d[f];const g=Hu(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=m==="y"?"height":"width",E=i.reference[m]-i.floating[j]+v.mainAxis,S=i.reference[m]+i.reference[j]-v.mainAxis;p<E?p=E:p>S&&(p=S)}if(u){var w,b;const j=m==="y"?"width":"height",E=oZ.has(Gu(a)),S=i.reference[f]-i.floating[j]+(E&&((w=o.offset)==null?void 0:w[f])||0)+(E?0:v.crossAxis),C=i.reference[f]+i.reference[j]+(E?0:((b=o.offset)==null?void 0:b[f])||0)-(E?v.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[m]:p,[f]:y}}}},Rxe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Hu(e,t),d=await Iy(t,u),f=Gu(a),m=ex(a),p=Lc(a)==="y",{width:y,height:g}=i.floating;let v,w;f==="top"||f==="bottom"?(v=f,w=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,v=m==="end"?"top":"bottom");const b=g-d.top-d.bottom,j=y-d.left-d.right,E=Sf(g-d[v],b),S=Sf(y-d[w],j),C=!t.middlewareData.shift;let k=E,R=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),C&&!m){const A=Do(d.left,0),P=Do(d.right,0),D=Do(d.top,0),F=Do(d.bottom,0);p?R=y-2*(A!==0||P!==0?A+P:Do(d.left,d.right)):k=g-2*(D!==0||F!==0?D+F:Do(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:k});const O=await o.getDimensions(l.floating);return y!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function n2(){return typeof window<"u"}function tx(e){return lZ(e)?(e.nodeName||"").toLowerCase():"#document"}function qo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function au(e){var t;return(t=(lZ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lZ(e){return n2()?e instanceof Node||e instanceof qo(e).Node:!1}function yc(e){return n2()?e instanceof Element||e instanceof qo(e).Element:!1}function Qc(e){return n2()?e instanceof HTMLElement||e instanceof qo(e).HTMLElement:!1}function ZB(e){return!n2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qo(e).ShadowRoot}const Dxe=new Set(["inline","contents"]);function mw(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=bc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Dxe.has(a)}const Ixe=new Set(["table","td","th"]);function Mxe(e){return Ixe.has(tx(e))}const Fxe=[":popover-open",":modal"];function s2(e){return Fxe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Lxe=["transform","translate","scale","rotate","perspective"],$xe=["transform","translate","scale","rotate","perspective","filter"],Bxe=["paint","layout","strict","content"];function fM(e){const t=hM(),r=yc(e)?bc(e):e;return Lxe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$xe.some(n=>(r.willChange||"").includes(n))||Bxe.some(n=>(r.contain||"").includes(n))}function Uxe(e){let t=kf(e);for(;Qc(t)&&!t0(t);){if(fM(t))return t;if(s2(t))return null;t=kf(t)}return null}function hM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vxe=new Set(["html","body","#document"]);function t0(e){return Vxe.has(tx(e))}function bc(e){return qo(e).getComputedStyle(e)}function a2(e){return yc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kf(e){if(tx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZB(e)&&e.host||au(e);return ZB(t)?t.host:t}function cZ(e){const t=kf(e);return t0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qc(t)&&mw(t)?t:cZ(t)}function My(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=cZ(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=qo(a);if(i){const l=PR(o);return t.concat(o,o.visualViewport||[],mw(a)?a:[],l&&r?My(l):[])}return t.concat(a,My(a,[],r))}function PR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uZ(e){const t=bc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Qc(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Hj(r)!==i||Hj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function mM(e){return yc(e)?e:e.contextElement}function Rg(e){const t=mM(e);if(!Qc(t))return Wc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=uZ(t);let o=(i?Hj(r.width):r.width)/n,l=(i?Hj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zxe=Wc(0);function dZ(e){const t=qo(e);return!hM()||!t.visualViewport?zxe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qxe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==qo(e)?!1:t}function hm(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=mM(e);let o=Wc(1);t&&(n?yc(n)&&(o=Rg(n)):o=Rg(e));const l=qxe(i,r,n)?dZ(i):Wc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=qo(i),p=n&&yc(n)?qo(n):n;let y=m,g=PR(y);for(;g&&n&&p!==y;){const v=Rg(g),w=g.getBoundingClientRect(),b=bc(g),j=w.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,E=w.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=j,u+=E,y=qo(g),g=PR(y)}}return Kj({width:d,height:f,x:c,y:u})}function pM(e,t){const r=a2(e).scrollLeft;return t?t.left+r:hm(au(e)).left+r}function fZ(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:pM(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Wxe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=au(n),l=t?s2(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Wc(1);const d=Wc(0),f=Qc(n);if((f||!f&&!i)&&((tx(n)!=="body"||mw(o))&&(c=a2(n)),Qc(n))){const p=hm(n);u=Rg(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const m=o&&!f&&!i?fZ(o,c,!0):Wc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Hxe(e){return Array.from(e.getClientRects())}function Gxe(e){const t=au(e),r=a2(e),n=e.ownerDocument.body,a=Do(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Do(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+pM(e);const l=-r.scrollTop;return bc(n).direction==="rtl"&&(o+=Do(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Kxe(e,t){const r=qo(e),n=au(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=hM();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Yxe=new Set(["absolute","fixed"]);function Xxe(e,t){const r=hm(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Qc(e)?Rg(e):Wc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function QB(e,t,r){let n;if(t==="viewport")n=Kxe(e,r);else if(t==="document")n=Gxe(au(e));else if(yc(t))n=Xxe(t,r);else{const a=dZ(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Kj(n)}function hZ(e,t){const r=kf(e);return r===t||!yc(r)||t0(r)?!1:bc(r).position==="fixed"||hZ(r,t)}function Jxe(e,t){const r=t.get(e);if(r)return r;let n=My(e,[],!1).filter(l=>yc(l)&&tx(l)!=="body"),a=null;const i=bc(e).position==="fixed";let o=i?kf(e):e;for(;yc(o)&&!t0(o);){const l=bc(o),c=fM(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Yxe.has(a.position)||mw(o)&&!c&&hZ(e,o))?n=n.filter(d=>d!==o):a=l,o=kf(o)}return t.set(e,n),n}function Zxe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?s2(t)?[]:Jxe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=QB(t,d,a);return u.top=Do(f.top,u.top),u.right=Sf(f.right,u.right),u.bottom=Sf(f.bottom,u.bottom),u.left=Do(f.left,u.left),u},QB(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Qxe(e){const{width:t,height:r}=uZ(e);return{width:t,height:r}}function eve(e,t,r){const n=Qc(t),a=au(t),i=r==="fixed",o=hm(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Wc(0);function u(){c.x=pM(a)}if(n||!n&&!i)if((tx(t)!=="body"||mw(a))&&(l=a2(t)),n){const p=hm(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?fZ(a,l):Wc(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function BE(e){return bc(e).position==="static"}function e9(e,t){if(!Qc(e)||bc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return au(e)===r&&(r=r.ownerDocument.body),r}function mZ(e,t){const r=qo(e);if(s2(e))return r;if(!Qc(e)){let a=kf(e);for(;a&&!t0(a);){if(yc(a)&&!BE(a))return a;a=kf(a)}return r}let n=e9(e,t);for(;n&&Mxe(n)&&BE(n);)n=e9(n,t);return n&&t0(n)&&BE(n)&&!fM(n)?r:n||Uxe(e)||r}const tve=async function(e){const t=this.getOffsetParent||mZ,r=this.getDimensions,n=await r(e.floating);return{reference:eve(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rve(e){return bc(e).direction==="rtl"}const nve={convertOffsetParentRelativeRectToViewportRelativeRect:Wxe,getDocumentElement:au,getClippingRect:Zxe,getOffsetParent:mZ,getElementRects:tve,getClientRects:Hxe,getDimensions:Qxe,getScale:Rg,isElement:yc,isRTL:rve};function pZ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sve(e,t){let r=null,n;const a=au(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||t(),!m||!p)return;const y=p_(f),g=p_(a.clientWidth-(d+m)),v=p_(a.clientHeight-(f+p)),w=p_(d),j={rootMargin:-y+"px "+-g+"px "+-v+"px "+-w+"px",threshold:Do(0,Sf(1,c))||1};let E=!0;function S(C){const k=C[0].intersectionRatio;if(k!==c){if(!E)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!pZ(u,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(S,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,j)}r.observe(e)}return o(!0),i}function ave(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=mM(e),d=a||i?[...u?My(u):[],...My(t)]:[];d.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=u&&l?sve(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?hm(e):null;c&&v();function v(){const w=hm(e);g&&!pZ(g,w)&&r(),g=w,y=requestAnimationFrame(v)}return r(),()=>{var w;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f?.(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const ive=Axe,ove=Pxe,lve=Cxe,cve=Rxe,uve=Exe,t9=kxe,dve=Oxe,fve=(e,t,r)=>{const n=new Map,a={platform:nve,...r},i={...a.platform,_c:n};return Sxe(e,t,{...a,platform:i})};var hve=typeof document<"u",mve=function(){},yj=hve?_.useLayoutEffect:mve;function Yj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Yj(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Yj(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gZ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r9(e,t){const r=gZ(e);return Math.round(t*r)/r}function UE(e){const t=_.useRef(e);return yj(()=>{t.current=e}),t}function pve(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=_.useState(n);Yj(m,n)||p(n);const[y,g]=_.useState(null),[v,w]=_.useState(null),b=_.useCallback(K=>{K!==C.current&&(C.current=K,g(K))},[]),j=_.useCallback(K=>{K!==k.current&&(k.current=K,w(K))},[]),E=i||y,S=o||v,C=_.useRef(null),k=_.useRef(null),R=_.useRef(d),O=c!=null,A=UE(c),P=UE(a),D=UE(u),F=_.useCallback(()=>{if(!C.current||!k.current)return;const K={placement:t,strategy:r,middleware:m};P.current&&(K.platform=P.current),fve(C.current,k.current,K).then(I=>{const B={...I,isPositioned:D.current!==!1};L.current&&!Yj(R.current,B)&&(R.current=B,Y0.flushSync(()=>{f(B)}))})},[m,t,r,P,D]);yj(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[u]);const L=_.useRef(!1);yj(()=>(L.current=!0,()=>{L.current=!1}),[]),yj(()=>{if(E&&(C.current=E),S&&(k.current=S),E&&S){if(A.current)return A.current(E,S,F);F()}},[E,S,F,A,O]);const H=_.useMemo(()=>({reference:C,floating:k,setReference:b,setFloating:j}),[b,j]),W=_.useMemo(()=>({reference:E,floating:S}),[E,S]),G=_.useMemo(()=>{const K={position:r,left:0,top:0};if(!W.floating)return K;const I=r9(W.floating,d.x),B=r9(W.floating,d.y);return l?{...K,transform:"translate("+I+"px, "+B+"px)",...gZ(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:B}},[r,l,W.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:F,refs:H,elements:W,floatingStyles:G}),[d,F,H,W,G])}const gve=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?t9({element:n.current,padding:a}).fn(r):{}:n?t9({element:n,padding:a}).fn(r):{}}}},xve=(e,t)=>({...ive(e),options:[e,t]}),vve=(e,t)=>({...ove(e),options:[e,t]}),yve=(e,t)=>({...dve(e),options:[e,t]}),bve=(e,t)=>({...lve(e),options:[e,t]}),wve=(e,t)=>({...cve(e),options:[e,t]}),_ve=(e,t)=>({...uve(e),options:[e,t]}),jve=(e,t)=>({...gve(e),options:[e,t]});var Nve="Arrow",xZ=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Tt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});xZ.displayName=Nve;var Sve=xZ;function pw(e){const[t,r]=_.useState(void 0);return As(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var gM="Popper",[vZ,Bf]=Vs(gM),[kve,yZ]=vZ(gM),bZ=e=>{const{__scopePopper:t,children:r}=e,[n,a]=_.useState(null);return s.jsx(kve,{scope:t,anchor:n,onAnchorChange:a,children:r})};bZ.displayName=gM;var wZ="PopperAnchor",_Z=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=yZ(wZ,r),o=_.useRef(null),l=Zt(t,o);return _.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(Tt.div,{...a,ref:l})});_Z.displayName=wZ;var xM="PopperContent",[Cve,Eve]=vZ(xM),jZ=_.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,v=yZ(xM,r),[w,b]=_.useState(null),j=Zt(t,fe=>b(fe)),[E,S]=_.useState(null),C=pw(E),k=C?.width??0,R=C?.height??0,O=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],D=P.length>0,F={padding:A,boundary:P.filter(Ave),altBoundary:D},{refs:L,floatingStyles:H,placement:W,isPositioned:G,middlewareData:K}=pve({strategy:"fixed",placement:O,whileElementsMounted:(...fe)=>ave(...fe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[xve({mainAxis:a+R,alignmentAxis:o}),c&&vve({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yve():void 0,...F}),c&&bve({...F}),wve({...F,apply:({elements:fe,rects:ge,availableWidth:U,availableHeight:ne})=>{const{width:Q,height:V}=ge.reference,ue=fe.floating.style;ue.setProperty("--radix-popper-available-width",`${U}px`),ue.setProperty("--radix-popper-available-height",`${ne}px`),ue.setProperty("--radix-popper-anchor-width",`${Q}px`),ue.setProperty("--radix-popper-anchor-height",`${V}px`)}}),E&&jve({element:E,padding:l}),Pve({arrowWidth:k,arrowHeight:R}),m&&_ve({strategy:"referenceHidden",...F})]}),[I,B]=kZ(W),Y=ks(y);As(()=>{G&&Y?.()},[G,Y]);const z=K.arrow?.x,J=K.arrow?.y,X=K.arrow?.centerOffset!==0,[ee,he]=_.useState();return As(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Cve,{scope:r,placedSide:I,onArrowChange:S,arrowX:z,arrowY:J,shouldHideArrow:X,children:s.jsx(Tt.div,{"data-side":I,"data-align":B,...g,ref:j,style:{...g.style,animation:G?void 0:"none"}})})})});jZ.displayName=xM;var NZ="PopperArrow",Tve={top:"bottom",right:"left",bottom:"top",left:"right"},SZ=_.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Eve(NZ,n),o=Tve[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Sve,{...a,ref:r,style:{...a.style,display:"block"}})})});SZ.displayName=NZ;function Ave(e){return e!==null}var Pve=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=kZ(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(a.arrow?.x??0)+l/2,p=(a.arrow?.y??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${m}px`,g=`${-c}px`):u==="top"?(y=o?f:`${m}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function kZ(e){const[t,r="center"]=e.split("-");return[t,r]}var i2=bZ,gw=_Z,o2=jZ,l2=SZ,[c2]=Vs("Tooltip",[Bf]),u2=Bf(),CZ="TooltipProvider",Ove=700,OR="tooltip.open",[Rve,vM]=c2(CZ),EZ=e=>{const{__scopeTooltip:t,delayDuration:r=Ove,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Rve,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};EZ.displayName=CZ;var Fy="Tooltip",[Dve,d2]=c2(Fy),TZ=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=vM(Fy,e.__scopeTooltip),u=u2(t),[d,f]=_.useState(null),m=mo(),p=_.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,v=_.useRef(!1),[w,b]=Si({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(OR))):c.onClose(),i?.(k)},caller:Fy}),j=_.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),E=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,b(!0)},[b]),S=_.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),C=_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,b(!0),p.current=0},g)},[g,b]);return _.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(i2,{...u,children:s.jsx(Dve,{scope:t,contentId:m,open:w,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?C():E()},[c.isOpenDelayedRef,C,E]),onTriggerLeave:_.useCallback(()=>{y?S():(window.clearTimeout(p.current),p.current=0)},[S,y]),onOpen:E,onClose:S,disableHoverableContent:y,children:r})})};TZ.displayName=Fy;var RR="TooltipTrigger",AZ=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=d2(RR,r),i=vM(RR,r),o=u2(r),l=_.useRef(null),c=Zt(t,l,a.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(gw,{asChild:!0,...o,children:s.jsx(Tt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ft(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ft(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ft(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ft(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ft(e.onBlur,a.onClose),onClick:ft(e.onClick,a.onClose)})})});AZ.displayName=RR;var Ive="TooltipPortal",[Jit,Mve]=c2(Ive,{forceMount:void 0}),r0="TooltipContent",PZ=_.forwardRef((e,t)=>{const r=Mve(r0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=d2(r0,e.__scopeTooltip);return s.jsx(ca,{present:n||o.open,children:o.disableHoverableContent?s.jsx(OZ,{side:a,...i,ref:t}):s.jsx(Fve,{side:a,...i,ref:t})})}),Fve=_.forwardRef((e,t)=>{const r=d2(r0,e.__scopeTooltip),n=vM(r0,e.__scopeTooltip),a=_.useRef(null),i=Zt(t,a),[o,l]=_.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,m=_.useCallback(()=>{l(null),f(!1)},[f]),p=_.useCallback((y,g)=>{const v=y.currentTarget,w={x:y.clientX,y:y.clientY},b=Vve(w,v.getBoundingClientRect()),j=zve(w,b),E=qve(g.getBoundingClientRect()),S=Hve([...j,...E]);l(S),f(!0)},[f]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,m]),_.useEffect(()=>{if(o){const y=g=>{const v=g.target,w={x:g.clientX,y:g.clientY},b=c?.contains(v)||d?.contains(v),j=!Wve(w,o);b?m():j&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),s.jsx(OZ,{...e,ref:i})}),[Lve,$ve]=c2(Fy,{isInside:!1}),Bve=hJ("TooltipContent"),OZ=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=d2(r0,r),u=u2(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(OR,d),()=>document.removeEventListener(OR,d)),[d]),_.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Gm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(o2,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Bve,{children:n}),s.jsx(Lve,{scope:r,isInside:!0,children:s.jsx(dge,{id:c.contentId,role:"tooltip",children:a||n})})]})})});PZ.displayName=r0;var RZ="TooltipArrow",Uve=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=u2(r);return $ve(RZ,r).isInside?null:s.jsx(l2,{...a,...n,ref:t})});Uve.displayName=RZ;function Vve(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function zve(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function qve(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Wve(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function Hve(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Gve(t)}function Gve(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Kve=EZ,Yve=TZ,Xve=AZ,DZ=PZ;const Mh=Kve,mg=Yve,pg=Xve,Fh=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(DZ,{ref:n,sideOffset:t,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Fh.displayName=DZ.displayName;var xw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mm=typeof window>"u"||"Deno"in globalThis;function co(){}function Jve(e,t){return typeof e=="function"?e(t):e}function DR(e){return typeof e=="number"&&e>=0&&e!==1/0}function IZ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lf(e,t){return typeof e=="function"?e(t):e}function vl(e,t){return typeof e=="function"?e(t):e}function n9(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yM(o,t.options))return!1}else if(!$y(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function s9(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ly(t.options.mutationKey)!==Ly(i))return!1}else if(!$y(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yM(e,t){return(t?.queryKeyHashFn||Ly)(e)}function Ly(e){return JSON.stringify(e,(t,r)=>MR(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function $y(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>$y(e[r],t[r])):!1}function MZ(e,t){if(e===t)return e;const r=a9(e)&&a9(t);if(r||MR(e)&&MR(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=MZ(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function IR(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function a9(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function MR(e){if(!i9(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!i9(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function i9(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zve(e){return new Promise(t=>{setTimeout(t,e)})}function FR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?MZ(e,t):t}function Qve(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function eye(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var bM=Symbol();function FZ(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===bM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tye(e,t){return typeof e=="function"?e(...t):!!e}var rye=class extends xw{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!mm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},wM=new rye,nye=class extends xw{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!mm&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},Xj=new nye;function LR(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function sye(e){return Math.min(1e3*2**e,3e4)}function LZ(e){return(e??"online")==="online"?Xj.isOnline():!0}var $Z=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function VE(e){return e instanceof $Z}function BZ(e){let t=!1,r=0,n=!1,a;const i=LR(),o=g=>{n||(m(new $Z(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>wM.isFocused()&&(e.networkMode==="always"||Xj.isOnline())&&e.canRun(),d=()=>LZ(e.networkMode)&&e.canRun(),f=g=>{n||(n=!0,e.onSuccess?.(g),a?.(),i.resolve(g))},m=g=>{n||(n=!0,e.onError?.(g),a?.(),i.reject(g))},p=()=>new Promise(g=>{a=v=>{(n||u())&&g(v)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{if(n)return;const b=e.retry??(mm?0:3),j=e.retryDelay??sye,E=typeof j=="function"?j(r,w):j,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!S){m(w);return}r++,e.onFail?.(r,w),Zve(E).then(()=>u()?void 0:p()).then(()=>{t?m(w):y()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var aye=e=>setTimeout(e,0);function iye(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=aye;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ya=iye(),UZ=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),DR(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mm?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},oye=class extends UZ{#t;#e;#r;#n;#s;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=lye(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=FR(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(co).catch(co):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>vl(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>lf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!IZ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const c=FZ(this.options,t),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{VE(c)&&c.silent||this.#a({type:"error",error:c}),VE(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=BZ({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...VZ(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return VE(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ya.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function VZ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LZ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lye(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cye=class extends xw{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??yM(n,t);let i=this.get(a);return i||(i=new oye({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ya.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>n9(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>n9(e,r)):t}notify(e){Ya.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ya.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ya.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},uye=class extends UZ{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||dye(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=BZ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ya.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function dye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fye=class extends xw{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new uye({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=g_(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=g_(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=g_(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=g_(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ya.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>s9(t,r))}findAll(e={}){return this.getAll().filter(t=>s9(e,t))}notify(e){Ya.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ya.batch(()=>Promise.all(e.map(t=>t.continue().catch(co))))}};function g_(e){return e.options.scope?.id}function o9(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=FZ(t.options,t.fetchOptions),p=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return f(C),C})(),j=await m(b),{maxPages:E}=t.options,S=v?eye:Qve;return{pages:S(y.pages,j,E),pageParams:S(y.pageParams,g,E)}};if(a&&i.length){const y=a==="backward",g=y?hye:l9,v={pages:i,pageParams:o},w=g(n,v);l=await p(v,w,y)}else{const y=e??i.length;do{const g=c===0?o[0]??n.initialPageParam:l9(n,l);if(c>0&&g==null)break;l=await p(l,g),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function l9(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function hye(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var mye=class{#t;#e;#r;#n;#s;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new cye,this.#e=e.mutationCache||new fye,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=wM.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Xj.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(lf(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=Jve(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ya.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Ya.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Ya.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ya.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(co).catch(co)}invalidateQueries(e,t={}){return Ya.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ya.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(co)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(co)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(lf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(co).catch(co)}fetchInfiniteQuery(e){return e.behavior=o9(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(co).catch(co)}ensureInfiniteQueryData(e){return e.behavior=o9(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xj.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ly(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{$y(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(Ly(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{$y(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===bM&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},pye=class extends xw{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=LR(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),c9(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $R(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $R(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vl(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!IR(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&u9(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||vl(this.options.enabled,this.#e)!==vl(t.enabled,this.#e)||lf(this.options.staleTime,this.#e)!==lf(t.staleTime,this.#e))&&this.#g();const a=this.#x();n&&(this.#e!==r||vl(this.options.enabled,this.#e)!==vl(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return xye(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(co)),t}#g(){this.#b();const e=lf(this.options.staleTime,this.#e);if(mm||this.#n.isStale||!DR(e))return;const r=IZ(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(mm||vl(this.options.enabled,this.#e)===!1||!DR(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||wM.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#s,o=this.#o,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},f=!1,m;if(t._optimisticResults){const R=this.hasListeners(),O=!R&&c9(e,t),A=R&&u9(e,r,t,n);(O||A)&&(d={...d,...VZ(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:g}=d;m=d.data;let v=!1;if(t.placeholderData!==void 0&&m===void 0&&g==="pending"){let R;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(R=a.data,v=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(g="success",m=FR(a?.data,R,t),f=!0)}if(t.select&&m!==void 0&&!v)if(a&&m===i?.data&&t.select===this.#p)m=this.#f;else try{this.#p=t.select,m=t.select(m),m=FR(a?.data,m,t),this.#f=m,this.#a=null}catch(R){this.#a=R}this.#a&&(p=this.#a,m=this.#f,y=Date.now(),g="error");const w=d.fetchStatus==="fetching",b=g==="pending",j=g==="error",E=b&&w,S=m!==void 0,k={status:g,fetchStatus:d.fetchStatus,isPending:b,isSuccess:g==="success",isError:j,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:_M(e,t),refetch:this.refetch,promise:this.#i,isEnabled:vl(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=P=>{k.status==="error"?P.reject(k.error):k.data!==void 0&&P.resolve(k.data)},O=()=>{const P=this.#i=k.promise=LR();R(P)},A=this.#i;switch(A.status){case"pending":e.queryHash===r.queryHash&&R(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&O();break}}return k}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),IR(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){Ya.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function gye(e,t){return vl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function c9(e,t){return gye(e,t)||e.state.data!==void 0&&$R(e,t,t.refetchOnMount)}function $R(e,t,r){if(vl(t.enabled,e)!==!1&&lf(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&_M(e,t)}return!1}function u9(e,t,r,n){return(e!==t||vl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_M(e,r)}function _M(e,t){return vl(t.enabled,e)!==!1&&e.isStaleByTime(lf(t.staleTime,e))}function xye(e,t){return!IR(e.getCurrentResult(),t)}var zZ=_.createContext(void 0),vye=e=>{const t=_.useContext(zZ);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yye=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(zZ.Provider,{value:e,children:t})),qZ=_.createContext(!1),bye=()=>_.useContext(qZ);qZ.Provider;function wye(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _ye=_.createContext(wye()),jye=()=>_.useContext(_ye),Nye=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Sye=e=>{_.useEffect(()=>{e.clearReset()},[e])},kye=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||tye(r,[e.error,n])),Cye=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Eye=(e,t)=>e.isLoading&&e.isFetching&&!t,Tye=(e,t)=>e?.suspense&&t.isPending,d9=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Aye(e,t,r){const n=bye(),a=jye(),i=vye(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Cye(o),Nye(o,a),Sye(a);const l=!i.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(f=>{const m=d?c.subscribe(Ya.batchCalls(f)):co;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o)},[o,c]),Tye(o,u))throw d9(o,c,a);if(kye({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!mm&&Eye(u,n)&&(l?d9(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(co).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Pye(e,t){return Aye(e,pye)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(this,arguments)}var Xd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xd||(Xd={}));const f9="popstate";function Oye(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return BR("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Jj(a)}return Dye(t,r,null,e)}function Bs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WZ(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rye(){return Math.random().toString(36).substr(2,8)}function h9(e,t){return{usr:e.state,key:e.key,idx:t}}function BR(e,t,r,n){return r===void 0&&(r=null),By({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rx(t):t,{state:r,key:t&&t.key||n||Rye()})}function Jj(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rx(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Dye(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Xd.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(By({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Xd.Pop;let v=d(),w=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:w})}function m(v,w){l=Xd.Push;let b=BR(g.location,v,w);u=d()+1;let j=h9(b,u),E=g.createHref(b);try{o.pushState(j,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(E)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,w){l=Xd.Replace;let b=BR(g.location,v,w);u=d();let j=h9(b,u),E=g.createHref(b);o.replaceState(j,"",E),i&&c&&c({action:l,location:g.location,delta:0})}function y(v){let w=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Jj(v);return b=b.replace(/ $/,"%20"),Bs(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(f9,f),c=v,()=>{a.removeEventListener(f9,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(v){return o.go(v)}};return g}var m9;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(m9||(m9={}));function Iye(e,t,r){return r===void 0&&(r="/"),Mye(e,t,r)}function Mye(e,t,r,n){let a=typeof t=="string"?rx(t):t,i=jM(a.pathname||"/",r);if(i==null)return null;let o=HZ(e);Fye(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Yye(i);l=Hye(o[c],u)}return l}function HZ(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Bs(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=cf([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Bs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HZ(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:qye(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of GZ(i.path))a(i,o,c)}),t}function GZ(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=GZ(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Fye(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Wye(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Lye=/^:[\w-]+$/,$ye=3,Bye=2,Uye=1,Vye=10,zye=-2,p9=e=>e==="*";function qye(e,t){let r=e.split("/"),n=r.length;return r.some(p9)&&(n+=zye),t&&(n+=Bye),r.filter(a=>!p9(a)).reduce((a,i)=>a+(Lye.test(i)?$ye:i===""?Uye:Vye),n)}function Wye(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Hye(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Gye({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:cf([i,f.pathname]),pathnameBase:Qye(cf([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=cf([i,f.pathnameBase]))}return o}function Gye(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Kye(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Kye(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),WZ(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Yye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WZ(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jM(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xye(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?rx(e):e;return{pathname:r?r.startsWith("/")?r:Jye(r,t):t,search:ebe(n),hash:tbe(a)}}function Jye(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function zE(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zye(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function NM(e,t){let r=Zye(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function SM(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=rx(e):(a=By({},e),Bs(!a.pathname||!a.pathname.includes("?"),zE("?","pathname","search",a)),Bs(!a.pathname||!a.pathname.includes("#"),zE("#","pathname","hash",a)),Bs(!a.search||!a.search.includes("#"),zE("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Xye(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const cf=e=>e.join("/").replace(/\/\/+/g,"/"),Qye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ebe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tbe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rbe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KZ=["post","put","patch","delete"];new Set(KZ);const nbe=["get",...KZ];new Set(nbe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}const kM=_.createContext(null),sbe=_.createContext(null),Uf=_.createContext(null),f2=_.createContext(null),iu=_.createContext({outlet:null,matches:[],isDataRoute:!1}),YZ=_.createContext(null);function abe(e,t){let{relative:r}=t===void 0?{}:t;nx()||Bs(!1);let{basename:n,navigator:a}=_.useContext(Uf),{hash:i,pathname:o,search:l}=JZ(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:cf([n,o])),a.createHref({pathname:c,search:l,hash:i})}function nx(){return _.useContext(f2)!=null}function ou(){return nx()||Bs(!1),_.useContext(f2).location}function XZ(e){_.useContext(Uf).static||_.useLayoutEffect(e)}function wr(){let{isDataRoute:e}=_.useContext(iu);return e?bbe():ibe()}function ibe(){nx()||Bs(!1);let e=_.useContext(kM),{basename:t,future:r,navigator:n}=_.useContext(Uf),{matches:a}=_.useContext(iu),{pathname:i}=ou(),o=JSON.stringify(NM(a,r.v7_relativeSplatPath)),l=_.useRef(!1);return XZ(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=SM(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:cf([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const obe=_.createContext(null);function lbe(e){let t=_.useContext(iu).outlet;return t&&_.createElement(obe.Provider,{value:e},t)}function sd(){let{matches:e}=_.useContext(iu),t=e[e.length-1];return t?t.params:{}}function JZ(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Uf),{matches:a}=_.useContext(iu),{pathname:i}=ou(),o=JSON.stringify(NM(a,n.v7_relativeSplatPath));return _.useMemo(()=>SM(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function cbe(e,t){return ube(e,t)}function ube(e,t,r,n){nx()||Bs(!1);let{navigator:a}=_.useContext(Uf),{matches:i}=_.useContext(iu),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ou(),d;if(t){var f;let v=typeof t=="string"?rx(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Bs(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Iye(e,{pathname:p}),g=pbe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:cf([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:cf([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?_.createElement(f2.Provider,{value:{location:Uy({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xd.Pop}},g):g}function dbe(){let e=ybe(),t=rbe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const fbe=_.createElement(dbe,null);class hbe extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(iu.Provider,{value:this.props.routeContext},_.createElement(YZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mbe(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(kM);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(iu.Provider,{value:t},n)}function pbe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Bs(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,y=!1,g=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||fbe,c&&(u<0&&m===0?(wbe("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),b=()=>{let j;return p?j=g:y?j=v:f.route.Component?j=_.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,_.createElement(mbe,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?_.createElement(hbe,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var ZZ=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(ZZ||{}),QZ=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(QZ||{});function gbe(e){let t=_.useContext(kM);return t||Bs(!1),t}function xbe(e){let t=_.useContext(sbe);return t||Bs(!1),t}function vbe(e){let t=_.useContext(iu);return t||Bs(!1),t}function eQ(e){let t=vbe(),r=t.matches[t.matches.length-1];return r.route.id||Bs(!1),r.route.id}function ybe(){var e;let t=_.useContext(YZ),r=xbe(),n=eQ();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bbe(){let{router:e}=gbe(ZZ.UseNavigateStable),t=eQ(QZ.UseNavigateStable),r=_.useRef(!1);return XZ(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Uy({fromRouteId:t},i)))},[e,t])}const g9={};function wbe(e,t,r){g9[e]||(g9[e]=!0)}function _be(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function jbe(e){let{to:t,replace:r,state:n,relative:a}=e;nx()||Bs(!1);let{future:i,static:o}=_.useContext(Uf),{matches:l}=_.useContext(iu),{pathname:c}=ou(),u=wr(),d=SM(t,NM(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Nbe(e){return lbe(e.context)}function Ot(e){Bs(!1)}function Sbe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Xd.Pop,navigator:i,static:o=!1,future:l}=e;nx()&&Bs(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:Uy({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=rx(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,g=_.useMemo(()=>{let v=jM(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:a}},[c,d,f,m,p,y,a]);return g==null?null:_.createElement(Uf.Provider,{value:u},_.createElement(f2.Provider,{children:r,value:g}))}function kbe(e){let{children:t,location:r}=e;return cbe(UR(t),r)}new Promise(()=>{});function UR(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let i=[...t,a];if(n.type===_.Fragment){r.push.apply(r,UR(n.props.children,i));return}n.type!==Ot&&Bs(!1),!n.props.index||!n.props.children||Bs(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=UR(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VR(){return VR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VR.apply(this,arguments)}function Cbe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ebe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tbe(e,t){return e.button===0&&(!t||t==="_self")&&!Ebe(e)}function zR(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Abe(e,t){let r=zR(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Pbe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Obe="6";try{window.__reactRouterVersion=Obe}catch{}const Rbe="startTransition",x9=JI[Rbe];function Dbe(e){let{basename:t,children:r,future:n,window:a}=e,i=_.useRef();i.current==null&&(i.current=Oye({window:a,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&x9?x9(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>_be(n),[n]),_.createElement(Sbe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ibe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mbe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kt=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Cbe(t,Pbe),{basename:p}=_.useContext(Uf),y,g=!1;if(typeof u=="string"&&Mbe.test(u)&&(y=u,Ibe))try{let j=new URL(window.location.href),E=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=jM(E.pathname,p);E.origin===j.origin&&S!=null?u=S+E.search+E.hash:g=!0}catch{}let v=abe(u,{relative:a}),w=Fbe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(j){n&&n(j),j.defaultPrevented||w(j)}return _.createElement("a",VR({},m,{href:y||v,onClick:g||i?n:b,ref:r,target:c}))});var v9;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v9||(v9={}));var y9;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y9||(y9={}));function Fbe(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=wr(),u=ou(),d=JZ(e,{relative:o});return _.useCallback(f=>{if(Tbe(f,r)){f.preventDefault();let m=n!==void 0?n:Jj(u)===Jj(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function vw(e){let t=_.useRef(zR(e)),r=_.useRef(!1),n=ou(),a=_.useMemo(()=>Abe(n.search,r.current?null:t.current),[n.search]),i=wr(),o=_.useCallback((l,c)=>{const u=zR(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const CM="shopping_cart",h2=()=>{const e=localStorage.getItem(CM);return e?JSON.parse(e):[]},EM=e=>{localStorage.setItem(CM,JSON.stringify(e))},Lbe=e=>{const t=h2(),r=t.findIndex(n=>n.productId===e.productId&&n.variant===e.variant);return r>-1?t[r].quantity+=e.quantity:t.push(e),EM(t),t},$be=(e,t,r)=>{const n=h2(),a=n.findIndex(i=>i.productId===e&&i.variant===t);return a>-1&&(r<=0?n.splice(a,1):n[a].quantity=r),EM(n),n},Bbe=(e,t)=>{const r=h2().filter(n=>!(n.productId===e&&n.variant===t));return EM(r),r},Ube=()=>{localStorage.removeItem(CM)},Vbe=e=>e.reduce((t,r)=>t+r.price*r.quantity,0),zbe=e=>e.reduce((t,r)=>t+r.quantity,0),qbe=({animationState:e,onComplete:t})=>{const[r,n]=_.useState(!1),{imageSrc:a,startRect:i,endRect:o}=e;_.useEffect(()=>{const u=setTimeout(()=>{n(!0)},10),d=setTimeout(()=>{t()},1500);return()=>{clearTimeout(u),clearTimeout(d)}},[t]);const l={position:"fixed",top:i.top,left:i.left,width:i.width,height:i.height,zIndex:9999,pointerEvents:"none",transition:"all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)",borderRadius:"8px",objectFit:"cover"},c={...l,top:o.top+o.height/2,left:o.left+o.width/2,width:0,height:0,transform:"rotate(360deg) scale(0.1)",opacity:.5};return s.jsx("img",{src:a,alt:"Flying product",style:r?c:l})},tQ=_.createContext(void 0),Wbe=({children:e})=>{const[t,r]=_.useState([]),[n,a]=_.useState(null);_.useEffect(()=>{r(h2())},[]);const i=p=>{const y=Lbe(p);r(y)},o=(p,y)=>{const g=y.getBoundingClientRect(),v=document.querySelector("[data-cart-icon]");if(!v){console.warn("Cart icon not found for animation");return}const w=v.getBoundingClientRect();a({imageSrc:p,startRect:g,endRect:w})},l=()=>{a(null)},c=(p,y,g)=>{const v=$be(p,y,g);r(v)},u=(p,y)=>{const g=Bbe(p,y);r(g)},d=()=>{Ube(),r([])},f=zbe(t),m=Vbe(t);return s.jsxs(tQ.Provider,{value:{cart:t,cartCount:f,cartTotal:m,addToCart:i,updateQuantity:c,removeItem:u,clearCart:d,triggerFlyAnimation:o},children:[e,n&&s.jsx(qbe,{animationState:n,onComplete:l})]})},m2=()=>{const e=_.useContext(tQ);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};var qE,b9;function Hbe(){if(b9)return qE;b9=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!a(i[c],o[c]))return!1;return!0}var d;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=i.entries();!(c=d.next()).done;)if(!a(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(e&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!a(i[u[c]],o[u[c]]))return!1;return!0}return i!==i&&o!==o}return qE=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},qE}var Gbe=Hbe();const Kbe=Qr(Gbe);var WE,w9;function Ybe(){if(w9)return WE;w9=1;var e=function(t,r,n,a,i,o,l,c){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,i,o,l,c],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return WE=e,WE}var Xbe=Ybe();const _9=Qr(Xbe);var HE,j9;function Jbe(){return j9||(j9=1,HE=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],m=r[d];if(i=n?n.call(a,f,m,d):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),HE}var Zbe=Jbe();const Qbe=Qr(Zbe);var rQ=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(rQ||{}),GE={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},N9=Object.values(rQ),TM={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ewe=Object.entries(TM).reduce((e,[t,r])=>(e[r]=t,e),{}),cc="data-rh",Dg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ig=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},twe=e=>{let t=Ig(e,"title");const r=Ig(e,Dg.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Ig(e,Dg.DEFAULT_TITLE);return t||n||void 0},rwe=e=>Ig(e,Dg.ON_CHANGE_CLIENT_STATE)||(()=>{}),KE=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),nwe=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),swe=e=>console&&typeof console.warn=="function"&&console.warn(e),av=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&swe(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const p=d[m],y=p.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return a},[]).reverse()},awe=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},iwe=e=>({baseTag:nwe(["href"],e),bodyAttributes:KE("bodyAttributes",e),defer:Ig(e,Dg.DEFER),encode:Ig(e,Dg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:KE("htmlAttributes",e),linkTags:av("link",["rel","href"],e),metaTags:av("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:av("noscript",["innerHTML"],e),onChangeClientState:rwe(e),scriptTags:av("script",["src","innerHTML"],e),styleTags:av("style",["cssText"],e),title:twe(e),titleAttributes:KE("titleAttributes",e),prioritizeSeoTags:awe(e,Dg.PRIORITIZE_SEO_TAGS)}),nQ=e=>Array.isArray(e)?e.join(""):e,owe=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},YE=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(owe(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},S9=(e,t)=>({...e,[t]:void 0}),lwe=["noscript","script","style"],qR=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),sQ=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),cwe=(e,t,r,n)=>{const a=sQ(r),i=nQ(t);return a?`<${e} ${cc}="true" ${a}>${qR(i,n)}</${e}>`:`<${e} ${cc}="true">${qR(i,n)}</${e}>`},uwe=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof i[d]>"u"?d:`${d}="${qR(i[d],r)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=lwe.indexOf(e)===-1;return`${n}<${e} ${cc}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),aQ=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=TM[n];return r[a||n]=e[n],r},t),dwe=(e,t,r)=>{const n={key:t,[cc]:!0},a=aQ(r,n);return[ce.createElement("title",a,t)]},bj=(e,t)=>t.map((r,n)=>{const a={key:n,[cc]:!0};return Object.keys(r).forEach(i=>{const l=TM[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),ce.createElement(e,a)}),pl=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>dwe(e,t.title,t.titleAttributes),toString:()=>cwe(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>aQ(t),toString:()=>sQ(t)};default:return{toComponent:()=>bj(e,t),toString:()=>uwe(e,t,r)}}},fwe=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=YE(e,GE.meta),i=YE(t,GE.link),o=YE(r,GE.script);return{priorityMethods:{toComponent:()=>[...bj("meta",a.priority),...bj("link",i.priority),...bj("script",o.priority)],toString:()=>`${pl("meta",a.priority,n)} ${pl("link",i.priority,n)} ${pl("script",o.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},hwe=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:m}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:m}=fwe(e)),{priority:p,base:pl("base",t,n),bodyAttributes:pl("bodyAttributes",r,n),htmlAttributes:pl("htmlAttributes",a,n),link:pl("link",d,n),meta:pl("meta",f,n),noscript:pl("noscript",i,n),script:pl("script",m,n),style:pl("style",o,n),title:pl("title",{title:l,titleAttributes:c},n)}},WR=hwe,x_=[],iQ=!!(typeof window<"u"&&window.document&&window.document.createElement),HR=class{instances=[];canUseDOM=iQ;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?x_:this.instances,add:e=>{(this.canUseDOM?x_:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?x_:this.instances).indexOf(e);(this.canUseDOM?x_:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=WR({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},mwe={},oQ=ce.createContext(mwe),lQ=class cQ extends _.Component{static canUseDOM=iQ;helmetData;constructor(t){super(t),this.helmetData=new HR(this.props.context||{},cQ.canUseDOM)}render(){return ce.createElement(oQ.Provider,{value:this.helmetData.value},this.props.children)}},Ip=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${cc}]`),a=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(cc,"true"),a.some((u,d)=>(o=d,c.isEqualNode(u)))?a.splice(o,1):i.push(c)}),a.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},GR=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(cc),a=n?n.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(cc):r.getAttribute(cc)!==o.join(",")&&r.setAttribute(cc,o.join(","))},pwe=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=nQ(e)),GR("title",t)},k9=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=e;GR("body",n),GR("html",a),pwe(f,m);const p={baseTag:Ip("base",r),linkTags:Ip("link",i),metaTags:Ip("meta",o),noscriptTags:Ip("noscript",l),scriptTags:Ip("script",u),styleTags:Ip("style",d)},y={},g={};Object.keys(p).forEach(v=>{const{newTags:w,oldTags:b}=p[v];w.length&&(y[v]=w),b.length&&(g[v]=p[v].oldTags)}),t&&t(),c(e,y,g)},iv=null,gwe=e=>{iv&&cancelAnimationFrame(iv),e.defer?iv=requestAnimationFrame(()=>{k9(e,()=>{iv=null})}):(k9(e),iv=null)},xwe=gwe,C9=class extends _.Component{rendered=!1;shouldComponentUpdate(e){return!Qbe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=iwe(e.get().map(a=>{const i={...a.props};return delete i.context,i}));lQ.canUseDOM?xwe(n):WR&&(r=WR(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},AM=class extends _.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!Kbe(S9(this.props,"helmetData"),S9(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return _9(N9.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${N9.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),_9(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return ce.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[ewe[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,a);break;default:t=this.mapObjectTypeChildren(n,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof HR)){const a=n;n=new HR(a.context,!0),delete r.helmetData}return n?ce.createElement(C9,{...r,context:n.value}):ce.createElement(oQ.Consumer,null,a=>ce.createElement(C9,{...r,context:a}))}};function vwe(){const{pathname:e}=ou();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const wj="digitaldukandar.in",E9=window.location.protocol;function p2(){const e=window.location.hostname;if(e.endsWith(".lovable.app")||e.endsWith(".lovableproject.com"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(".localhost")){const t=e.replace(".localhost","");return["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}if(e==="localhost"||e.startsWith("127.0.0.1"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(`.${wj}`)){const t=e.replace(`.${wj}`,"");return t===""||t==="www"?{type:"main",isStoreSpecific:!1}:["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}return e===wj?{type:"main",isStoreSpecific:!1}:{type:"custom",customDomain:e,isStoreSpecific:!0}}function uQ(){const e=p2();return e.isStoreSpecific&&(e.subdomain||e.customDomain)||null}function ywe(e,t){return t?`${E9}//${t}`:`${E9}//${e}.${wj}`}function eu(){return p2().isStoreSpecific}const g2=Z0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?dJ:"button";return s.jsx(o,{className:ut(g2({variant:t,size:r,className:e})),ref:i,...a})});ae.displayName="Button";const ke=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ke.displayName="Card";const Ze=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("flex flex-col space-y-1.5 p-6",e),...t}));Ze.displayName="CardHeader";const Qe=_.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ut("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qe.displayName="CardTitle";const Cr=_.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));Cr.displayName="CardDescription";const Te=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("p-6 pt-0",e),...t}));Te.displayName="CardContent";const dQ=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("flex items-center p-6 pt-0",e),...t}));dQ.displayName="CardFooter";function Su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Wo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},n0={duration:.5,overwrite:!1,delay:0},PM,Qa,is,Nl=1e8,In=1/Nl,KR=Math.PI*2,bwe=KR/4,wwe=0,hQ=Math.sqrt,_we=Math.cos,jwe=Math.sin,Ba=function(t){return typeof t=="string"},Cs=function(t){return typeof t=="function"},Ku=function(t){return typeof t=="number"},OM=function(t){return typeof t>"u"},tu=function(t){return typeof t=="object"},po=function(t){return t!==!1},RM=function(){return typeof window<"u"},v_=function(t){return Cs(t)||Ba(t)},mQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_i=Array.isArray,Nwe=/random\([^)]+\)/g,Swe=/,\s*/g,T9=/(?:-?\.?\d|\.)+/gi,pQ=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,gg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,XE=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,gQ=/[+-]=-?[.\d]+/,kwe=/[^,'"\[\]\s]+/gi,Cwe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ms,Dc,YR,DM,Ko={},Zj={},xQ,vQ=function(t){return(Zj=s0(t,Ko))&&bo},IM=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},Vy=function(t,r){return!r&&console.warn(t)},yQ=function(t,r){return t&&(Ko[t]=r)&&Zj&&(Zj[t]=r)||Ko},zy=function(){return 0},Ewe={suppressEvents:!0,isStart:!0,kill:!1},_j={suppressEvents:!0,kill:!1},Twe={suppressEvents:!0},MM={},uf=[],XR={},bQ,Oo={},JE={},A9=30,jj=[],FM="",LM=function(t){var r=t[0],n,a;if(tu(r)||Cs(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(a=jj.length;a--&&!jj[a].targetTest(r););n=jj[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new qQ(t[a],n)))||t.splice(a,1);return t},Xh=function(t){return t._gsap||LM(Sl(t))[0]._gsap},wQ=function(t,r,n){return(n=t[r])&&Cs(n)?t[r]():OM(n)&&t.getAttribute&&t.getAttribute(r)||n},go=function(t,r){return(t=t.split(",")).forEach(r)||t},Ms=function(t){return Math.round(t*1e5)/1e5||0},hs=function(t){return Math.round(t*1e7)/1e7||0},Mg=function(t,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},Awe=function(t,r){for(var n=r.length,a=0;t.indexOf(r[a])<0&&++a<n;);return a<n},Qj=function(){var t=uf.length,r=uf.slice(0),n,a;for(XR={},uf.length=0,n=0;n<t;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},$M=function(t){return!!(t._initted||t._startAt||t.add)},_Q=function(t,r,n,a){uf.length&&!Qa&&Qj(),t.render(r,n,!!(Qa&&r<0&&$M(t))),uf.length&&!Qa&&Qj()},jQ=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(kwe).length<2?r:Ba(t)?t.trim():t},NQ=function(t){return t},Yo=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},Pwe=function(t){return function(r,n){for(var a in n)a in r||a==="duration"&&t||a==="ease"||(r[a]=n[a])}},s0=function(t,r){for(var n in r)t[n]=r[n];return t},P9=function e(t,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=tu(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},eN=function(t,r){var n={},a;for(a in t)a in r||(n[a]=t[a]);return n},Xv=function(t){var r=t.parent||ms,n=t.keyframes?Pwe(_i(t.keyframes)):Yo;if(po(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},Owe=function(t,r){for(var n=t.length,a=n===r.length;a&&n--&&t[n]===r[n];);return n<0},SQ=function(t,r,n,a,i){var o=t[a],l;if(i)for(l=r[i];o&&o[i]>l;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=t[n],t[n]=r),r._next?r._next._prev=r:t[a]=r,r._prev=o,r.parent=r._dp=t,r},x2=function(t,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=r._prev,o=r._next;i?i._next=o:t[n]===r&&(t[n]=o),o?o._prev=i:t[a]===r&&(t[a]=i),r._next=r._prev=r.parent=null},Cf=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Jh=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Rwe=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},JR=function(t,r,n,a){return t._startAt&&(Qa?t._startAt.revert(_j):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,a))},Dwe=function e(t){return!t||t._ts&&e(t.parent)},O9=function(t){return t._repeat?a0(t._tTime,t=t.duration()+t._rDelay)*t:0},a0=function(t,r){var n=Math.floor(t=hs(t/r));return t&&n===t?n-1:n},tN=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},v2=function(t){return t._end=hs(t._start+(t._tDur/Math.abs(t._ts||t._rts||In)||0))},y2=function(t,r){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=hs(n._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),v2(t),n._dirty||Jh(n,t)),t},kQ=function(t,r){var n;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(n=tN(t.rawTime(),r),(!r._dur||yw(0,r.totalDuration(),n)-r._tTime>In)&&r.render(n,!0)),Jh(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-In}},Mc=function(t,r,n,a){return r.parent&&Cf(r),r._start=hs((Ku(n)?n:n||t!==ms?hl(t,n,r):t._time)+r._delay),r._end=hs(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),SQ(t,r,"_first","_last",t._sort?"_start":0),ZR(r)||(t._recent=r),a||kQ(t,r),t._ts<0&&y2(t,t._tTime),t},CQ=function(t,r){return(Ko.ScrollTrigger||IM("scrollTrigger",r))&&Ko.ScrollTrigger.create(r,t)},EQ=function(t,r,n,a,i){if(UM(t,r,i),!t._initted)return 1;if(!n&&t._pt&&!Qa&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&bQ!==Fo.frame)return uf.push(t),t._lazy=[i,a],1},Iwe=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},ZR=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},Mwe=function(t,r,n,a){var i=t.ratio,o=r<0||!r&&(!t._start&&Iwe(t)&&!(!t._initted&&ZR(t))||(t._ts<0||t._dp._ts<0)&&!ZR(t))?0:1,l=t._rDelay,c=0,u,d,f;if(l&&t._repeat&&(c=yw(0,t._tDur,r),d=a0(c,l),t._yoyo&&d&1&&(o=1-o),d!==a0(t._tTime,l)&&(i=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==i||Qa||a||t._zTime===In||!r&&t._zTime){if(!t._initted&&EQ(t,r,a,n,c))return;for(f=t._zTime,t._zTime=r||(n?In:0),n||(n=r&&!f),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,u=t._pt;u;)u.r(o,u.d),u=u._next;r<0&&JR(t,r,n,!0),t._onUpdate&&!n&&Vo(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&Vo(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===o&&(o&&Cf(t,1),!n&&!Qa&&(Vo(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},Fwe=function(t,r,n){var a;if(n>r)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},i0=function(t,r,n,a){var i=t._repeat,o=hs(r)||0,l=t._tTime/t._tDur;return l&&!a&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:hs(o*(i+1)+t._rDelay*i):o,l>0&&!a&&y2(t,t._tTime=t._tDur*l),t.parent&&v2(t),n||Jh(t.parent,t),t},R9=function(t){return t instanceof Li?Jh(t):i0(t,t._dur)},Lwe={_start:0,endTime:zy,totalDuration:zy},hl=function e(t,r,n){var a=t.labels,i=t._recent||Lwe,o=t.duration()>=Nl?i.endTime(!1):t._dur,l,c,u;return Ba(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),u=r.substr(-1)==="%",l=r.indexOf("="),c==="<"||c===">"?(l>=0&&(r=r.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(l<0?i:n).totalDuration()/100:1)):l<0?(r in a||(a[r]=o),a[r]):(c=parseFloat(r.charAt(l-1)+r.substr(l+1)),u&&n&&(c=c/100*(_i(n)?n[0]:n).totalDuration()),l>1?e(t,r.substr(0,l-1),n)+c:o+c)):r==null?o:+r},Jv=function(t,r,n){var a=Ku(r[1]),i=(a?2:1)+(t<2?0:1),o=r[i],l,c;if(a&&(o.duration=r[1]),o.parent=n,t){for(l=o,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=po(c.vars.inherit)&&c.parent;o.immediateRender=po(l.immediateRender),t<2?o.runBackwards=1:o.startAt=r[i-1]}return new ta(r[0],o,r[i+1])},Vf=function(t,r){return t||t===0?r(t):r},yw=function(t,r,n){return n<t?t:n>r?r:n},gi=function(t,r){return!Ba(t)||!(r=Cwe.exec(t))?"":r[1]},$we=function(t,r,n){return Vf(n,function(a){return yw(t,r,a)})},QR=[].slice,TQ=function(t,r){return t&&tu(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&tu(t[0]))&&!t.nodeType&&t!==Dc},Bwe=function(t,r,n){return n===void 0&&(n=[]),t.forEach(function(a){var i;return Ba(a)&&!r||TQ(a,1)?(i=n).push.apply(i,Sl(a)):n.push(a)})||n},Sl=function(t,r,n){return is&&!r&&is.selector?is.selector(t):Ba(t)&&!n&&(YR||!o0())?QR.call((r||DM).querySelectorAll(t),0):_i(t)?Bwe(t,n):TQ(t)?QR.call(t,0):t?[t]:[]},eD=function(t){return t=Sl(t)[0]||Vy("Invalid scope")||{},function(r){var n=t.current||t.nativeElement||t;return Sl(r,n.querySelectorAll?n:n===t?Vy("Invalid scope")||DM.createElement("div"):t)}},AQ=function(t){return t.sort(function(){return .5-Math.random()})},PQ=function(t){if(Cs(t))return t;var r=tu(t)?t:{each:t},n=Zh(r.ease),a=r.from||0,i=parseFloat(r.base)||0,o={},l=a>0&&a<1,c=isNaN(a)||l,u=r.axis,d=a,f=a;return Ba(a)?d=f={center:.5,edges:.5,end:1}[a]||0:!l&&c&&(d=a[0],f=a[1]),function(m,p,y){var g=(y||r).length,v=o[g],w,b,j,E,S,C,k,R,O;if(!v){if(O=r.grid==="auto"?0:(r.grid||[1,Nl])[1],!O){for(k=-Nl;k<(k=y[O++].getBoundingClientRect().left)&&O<g;);O<g&&O--}for(v=o[g]=[],w=c?Math.min(O,g)*d-.5:a%O,b=O===Nl?0:c?g*f/O-.5:a/O|0,k=0,R=Nl,C=0;C<g;C++)j=C%O-w,E=b-(C/O|0),v[C]=S=u?Math.abs(u==="y"?E:j):hQ(j*j+E*E),S>k&&(k=S),S<R&&(R=S);a==="random"&&AQ(v),v.max=k-R,v.min=R,v.v=g=(parseFloat(r.amount)||parseFloat(r.each)*(O>g?g-1:u?u==="y"?g/O:O:Math.max(O,g/O))||0)*(a==="edges"?-1:1),v.b=g<0?i-g:i,v.u=gi(r.amount||r.each)||0,n=n&&g<0?UQ(n):n}return g=(v[m]-v.min)/v.max||0,hs(v.b+(n?n(g):g)*v.v)+v.u}},tD=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=hs(Math.round(parseFloat(n)/t)*t*r);return(a-a%1)/r+(Ku(n)?0:gi(n))}},OQ=function(t,r){var n=_i(t),a,i;return!n&&tu(t)&&(a=n=t.radius||Nl,t.values?(t=Sl(t.values),(i=!Ku(t[0]))&&(a*=a)):t=tD(t.increment)),Vf(r,n?Cs(t)?function(o){return i=t(o),Math.abs(i-o)<=a?i:o}:function(o){for(var l=parseFloat(i?o.x:o),c=parseFloat(i?o.y:0),u=Nl,d=0,f=t.length,m,p;f--;)i?(m=t[f].x-l,p=t[f].y-c,m=m*m+p*p):m=Math.abs(t[f]-l),m<u&&(u=m,d=f);return d=!a||u<=a?t[d]:o,i||d===o||Ku(o)?d:d+gi(o)}:tD(t))},RQ=function(t,r,n,a){return Vf(_i(t)?!r:n===!0?!!(n=0):!a,function(){return _i(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(r-t+n*.99))/n)*n*a)/a})},Uwe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduce(function(i,o){return o(i)},a)}},Vwe=function(t,r){return function(n){return t(parseFloat(n))+(r||gi(n))}},zwe=function(t,r,n){return IQ(t,r,0,1,n)},DQ=function(t,r,n){return Vf(n,function(a){return t[~~r(a)]})},qwe=function e(t,r,n){var a=r-t;return _i(t)?DQ(t,e(0,t.length),r):Vf(n,function(i){return(a+(i-t)%a)%a+t})},Wwe=function e(t,r,n){var a=r-t,i=a*2;return _i(t)?DQ(t,e(0,t.length-1),r):Vf(n,function(o){return o=(i+(o-t)%i)%i||0,t+(o>a?i-o:o)})},qy=function(t){return t.replace(Nwe,function(r){var n=r.indexOf("[")+1,a=r.substring(n||7,n?r.indexOf("]"):r.length-1).split(Swe);return RQ(n?a:+a[0],n?0:+a[1],+a[2]||1e-5)})},IQ=function(t,r,n,a,i){var o=r-t,l=a-n;return Vf(i,function(c){return n+((c-t)/o*l||0)})},Hwe=function e(t,r,n,a){var i=isNaN(t+r)?0:function(p){return(1-p)*t+p*r};if(!i){var o=Ba(t),l={},c,u,d,f,m;if(n===!0&&(a=1)&&(n=null),o)t={p:t},r={p:r};else if(_i(t)&&!_i(r)){for(d=[],f=t.length,m=f-2,u=1;u<f;u++)d.push(e(t[u-1],t[u]));f--,i=function(y){y*=f;var g=Math.min(m,~~y);return d[g](y-g)},n=r}else a||(t=s0(_i(t)?[]:{},t));if(!d){for(c in r)BM.call(l,t,c,"get",r[c]);i=function(y){return qM(y,l)||(o?t.p:t)}}}return Vf(n,i)},D9=function(t,r,n){var a=t.labels,i=Nl,o,l,c;for(o in a)l=a[o]-r,l<0==!!n&&l&&i>(l=Math.abs(l))&&(c=o,i=l);return c},Vo=function(t,r,n){var a=t.vars,i=a[r],o=is,l=t._ctx,c,u,d;if(i)return c=a[r+"Params"],u=a.callbackScope||t,n&&uf.length&&Qj(),l&&(is=l),d=c?i.apply(u,c):i.call(u),is=o,d},Tv=function(t){return Cf(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Qa),t.progress()<1&&Vo(t,"onInterrupt"),t},xg,MQ=[],FQ=function(t){if(t)if(t=!t.name&&t.default||t,RM()||t.headless){var r=t.name,n=Cs(t),a=r&&!n&&t.init?function(){this._props=[]}:t,i={init:zy,render:qM,add:BM,kill:l1e,modifier:o1e,rawVars:0},o={targetTest:0,get:0,getSetter:zM,aliases:{},register:0};if(o0(),t!==a){if(Oo[r])return;Yo(a,Yo(eN(t,i),o)),s0(a.prototype,s0(i,eN(t,o))),Oo[a.prop=r]=a,t.targetTest&&(jj.push(a),MM[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}yQ(r,a),t.register&&t.register(bo,a,xo)}else MQ.push(t)},Rn=255,Av={aqua:[0,Rn,Rn],lime:[0,Rn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Rn],navy:[0,0,128],white:[Rn,Rn,Rn],olive:[128,128,0],yellow:[Rn,Rn,0],orange:[Rn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Rn,0,0],pink:[Rn,192,203],cyan:[0,Rn,Rn],transparent:[Rn,Rn,Rn,0]},ZE=function(t,r,n){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(n-r)*t*6:t<.5?n:t*3<2?r+(n-r)*(2/3-t)*6:r)*Rn+.5|0},LQ=function(t,r,n){var a=t?Ku(t)?[t>>16,t>>8&Rn,t&Rn]:0:Av.black,i,o,l,c,u,d,f,m,p,y;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Av[t])a=Av[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),o=t.charAt(2),l=t.charAt(3),t="#"+i+i+o+o+l+l+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&Rn,a&Rn,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&Rn,t&Rn]}else if(t.substr(0,3)==="hsl"){if(a=y=t.match(T9),!r)c=+a[0]%360/360,u=+a[1]/100,d=+a[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,a.length>3&&(a[3]*=1),a[0]=ZE(c+1/3,i,o),a[1]=ZE(c,i,o),a[2]=ZE(c-1/3,i,o);else if(~t.indexOf("="))return a=t.match(pQ),n&&a.length<4&&(a[3]=1),a}else a=t.match(T9)||Av.transparent;a=a.map(Number)}return r&&!y&&(i=a[0]/Rn,o=a[1]/Rn,l=a[2]/Rn,f=Math.max(i,o,l),m=Math.min(i,o,l),d=(f+m)/2,f===m?c=u=0:(p=f-m,u=d>.5?p/(2-f-m):p/(f+m),c=f===i?(o-l)/p+(o<l?6:0):f===o?(l-i)/p+2:(i-o)/p+4,c*=60),a[0]=~~(c+.5),a[1]=~~(u*100+.5),a[2]=~~(d*100+.5)),n&&a.length<4&&(a[3]=1),a},$Q=function(t){var r=[],n=[],a=-1;return t.split(df).forEach(function(i){var o=i.match(gg)||[];r.push.apply(r,o),n.push(a+=o.length+1)}),r.c=n,r},I9=function(t,r,n){var a="",i=(t+a).match(df),o=r?"hsla(":"rgba(",l=0,c,u,d,f;if(!i)return t;if(i=i.map(function(m){return(m=LQ(m,r,1))&&o+(r?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),n&&(d=$Q(t),c=n.c,c.join(a)!==d.c.join(a)))for(u=t.replace(df,"1").split(gg),f=u.length-1;l<f;l++)a+=u[l]+(~c.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:n).shift());if(!u)for(u=t.split(df),f=u.length-1;l<f;l++)a+=u[l]+i[l];return a+u[f]},df=(function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Av)e+="|"+t+"\\b";return new RegExp(e+")","gi")})(),Gwe=/hsl[a]?\(/,BQ=function(t){var r=t.join(" "),n;if(df.lastIndex=0,df.test(r))return n=Gwe.test(r),t[1]=I9(t[1],n),t[0]=I9(t[0],n,$Q(t[1])),!0},Wy,Fo=(function(){var e=Date.now,t=500,r=33,n=e(),a=n,i=1e3/240,o=i,l=[],c,u,d,f,m,p,y=function g(v){var w=e()-a,b=v===!0,j,E,S,C;if((w>t||w<0)&&(n+=w-r),a+=w,S=a-n,j=S-o,(j>0||b)&&(C=++f.frame,m=S-f.time*1e3,f.time=S=S/1e3,o+=j+(j>=i?4:i-j),E=1),b||(c=u(g)),E)for(p=0;p<l.length;p++)l[p](S,m,C,v)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(v){return m/(1e3/(v||60))},wake:function(){xQ&&(!YR&&RM()&&(Dc=YR=window,DM=Dc.document||{},Ko.gsap=bo,(Dc.gsapVersions||(Dc.gsapVersions=[])).push(bo.version),vQ(Zj||Dc.GreenSockGlobals||!Dc.gsap&&Dc||{}),MQ.forEach(FQ)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(v){return setTimeout(v,o-f.time*1e3+1|0)},Wy=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),Wy=0,u=zy},lagSmoothing:function(v,w){t=v||1/0,r=Math.min(w||33,t)},fps:function(v){i=1e3/(v||240),o=f.time*1e3+i},add:function(v,w,b){var j=w?function(E,S,C,k){v(E,S,C,k),f.remove(j)}:v;return f.remove(v),l[b?"unshift":"push"](j),o0(),j},remove:function(v,w){~(w=l.indexOf(v))&&l.splice(w,1)&&p>=w&&p--},_listeners:l},f})(),o0=function(){return!Wy&&Fo.wake()},Jr={},Kwe=/^[\d.\-M][\d.\-,\s]/,Ywe=/["']/g,Xwe=function(t){for(var r={},n=t.substr(1,t.length-3).split(":"),a=n[0],i=1,o=n.length,l,c,u;i<o;i++)c=n[i],l=i!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),r[a]=isNaN(u)?u.replace(Ywe,"").trim():+u,a=c.substr(l+1).trim();return r},Jwe=function(t){var r=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",r);return t.substring(r,~a&&a<n?t.indexOf(")",n+1):n)},Zwe=function(t){var r=(t+"").split("("),n=Jr[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Xwe(r[1])]:Jwe(t).split(",").map(jQ)):Jr._CE&&Kwe.test(t)?Jr._CE("",t):n},UQ=function(t){return function(r){return 1-t(1-r)}},VQ=function e(t,r){for(var n=t._first,a;n;)n instanceof Li?e(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?e(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},Zh=function(t,r){return t&&(Cs(t)?t:Jr[t]||Zwe(t))||r},Ym=function(t,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:a},o;return go(t,function(l){Jr[l]=Ko[l]=i,Jr[o=l.toLowerCase()]=n;for(var c in i)Jr[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Jr[l+"."+c]=i[c]}),i},zQ=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},QE=function e(t,r,n){var a=r>=1?r:1,i=(n||(t?.3:.45))/(r<1?r:1),o=i/KR*(Math.asin(1/a)||0),l=function(d){return d===1?1:a*Math.pow(2,-10*d)*jwe((d-o)*i)+1},c=t==="out"?l:t==="in"?function(u){return 1-l(1-u)}:zQ(l);return i=KR/i,c.config=function(u,d){return e(t,u,d)},c},eT=function e(t,r){r===void 0&&(r=1.70158);var n=function(o){return o?--o*o*((r+1)*o+r)+1:0},a=t==="out"?n:t==="in"?function(i){return 1-n(1-i)}:zQ(n);return a.config=function(i){return e(t,i)},a};go("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;Ym(e+",Power"+(r-1),t?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});Jr.Linear.easeNone=Jr.none=Jr.Linear.easeIn;Ym("Elastic",QE("in"),QE("out"),QE());(function(e,t){var r=1/t,n=2*r,a=2.5*r,i=function(l){return l<r?e*l*l:l<n?e*Math.pow(l-1.5/t,2)+.75:l<a?e*(l-=2.25/t)*l+.9375:e*Math.pow(l-2.625/t,2)+.984375};Ym("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Ym("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)});Ym("Circ",function(e){return-(hQ(1-e*e)-1)});Ym("Sine",function(e){return e===1?1:-_we(e*bwe)+1});Ym("Back",eT("in"),eT("out"),eT());Jr.SteppedEase=Jr.steps=Ko.SteppedEase={config:function(t,r){t===void 0&&(t=1);var n=1/t,a=t+(r?0:1),i=r?1:0,o=1-In;return function(l){return((a*yw(0,o,l)|0)+i)*n}}};n0.ease=Jr["quad.out"];go("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return FM+=e+","+e+"Params,"});var qQ=function(t,r){this.id=wwe++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:wQ,this.set=r?r.getSetter:zM},Hy=(function(){function e(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,i0(this,+r.duration,1,1),this.data=r.data,is&&(this._ctx=is,is.data.push(this)),Wy||Fo.wake()}var t=e.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,i0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(o0(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(y2(this,n),!i._dp||i.parent||kQ(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Mc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===In||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),_Q(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+O9(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+O9(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?a0(this._tTime,i)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-In?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?tN(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-In?0:this._rts,this.totalTime(yw(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),v2(this),Rwe(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(o0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==In&&(this._tTime-=In)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=hs(n);var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Mc(a,this,this._start-this._delay),this}return this._start},t.endTime=function(n){return this._start+(po(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?tN(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=Twe);var a=Qa;return Qa=n,$M(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Qa=a,this},t.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,R9(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,R9(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(hl(this,n),po(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,po(a)),this._dur||(this._zTime=-In),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-In:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-In,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-In)},t.eventCallback=function(n,a,i){var o=this.vars;return arguments.length>1?(a?(o[n]=a,i&&(o[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete o[n],this):o[n]},t.then=function(n){var a=this,i=a._prom;return new Promise(function(o){var l=Cs(n)?n:NQ,c=function(){var d=a.then;a.then=null,i&&i(),Cs(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),o(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?c():a._prom=c})},t.kill=function(){Tv(this)},e})();Yo(Hy.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-In,_prom:0,_ps:!1,_rts:1});var Li=(function(e){fQ(t,e);function t(n,a){var i;return n===void 0&&(n={}),i=e.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=po(n.sortChildren),ms&&Mc(n.parent||ms,Su(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&CQ(Su(i),n.scrollTrigger),i}var r=t.prototype;return r.to=function(a,i,o){return Jv(0,arguments,this),this},r.from=function(a,i,o){return Jv(1,arguments,this),this},r.fromTo=function(a,i,o,l){return Jv(2,arguments,this),this},r.set=function(a,i,o){return i.duration=0,i.parent=this,Xv(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new ta(a,i,hl(this,o),1),this},r.call=function(a,i,o){return Mc(this,ta.delayedCall(0,a,i),o)},r.staggerTo=function(a,i,o,l,c,u,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new ta(a,o,hl(this,c)),this},r.staggerFrom=function(a,i,o,l,c,u,d){return o.runBackwards=1,Xv(o).immediateRender=po(o.immediateRender),this.staggerTo(a,i,o,l,c,u,d)},r.staggerFromTo=function(a,i,o,l,c,u,d,f){return l.startAt=o,Xv(l).immediateRender=po(l.immediateRender),this.staggerTo(a,i,l,c,u,d,f)},r.render=function(a,i,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=a<=0?0:hs(a),f=this._zTime<0!=a<0&&(this._initted||!u),m,p,y,g,v,w,b,j,E,S,C,k;if(this!==ms&&d>c&&a>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,a+=this._time-l),m=d,E=this._start,j=this._ts,w=!j,f&&(u||(l=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(C=this._yoyo,v=u+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(v*100+a,i,o);if(m=hs(d%v),d===c?(g=this._repeat,m=u):(S=hs(d/v),g=~~S,g&&g===S&&(m=u,g--),m>u&&(m=u)),S=a0(this._tTime,v),!l&&this._tTime&&S!==g&&this._tTime-S*v-this._dur<=0&&(S=g),C&&g&1&&(m=u-m,k=1),g!==S&&!this._lock){var R=C&&S&1,O=R===(C&&g&1);if(g<S&&(R=!R),l=R?0:d%u?u:d,this._lock=1,this.render(l||(k?0:hs(g*v)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Vo(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1,S=g),l&&l!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,O&&(this._lock=2,l=R?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;VQ(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=Fwe(this,hs(l),hs(m)),b&&(d-=m-(m=b._start))),this._tTime=d,this._time=m,this._act=!j,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,l=0),!l&&d&&u&&!i&&!S&&(Vo(this,"onStart"),this._tTime!==d))return this;if(m>=l&&a>=0)for(p=this._first;p;){if(y=p._next,(p._act||m>=p._start)&&p._ts&&b!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(m-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(m-p._start)*p._ts,i,o),m!==this._time||!this._ts&&!w){b=0,y&&(d+=this._zTime=-In);break}}p=y}else{p=this._last;for(var A=a<0?a:m;p;){if(y=p._prev,(p._act||A<=p._end)&&p._ts&&b!==p){if(p.parent!==this)return this.render(a,i,o);if(p.render(p._ts>0?(A-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(A-p._start)*p._ts,i,o||Qa&&$M(p)),m!==this._time||!this._ts&&!w){b=0,y&&(d+=this._zTime=A?-In:In);break}}p=y}}if(b&&!i&&(this.pause(),b.render(m>=l?0:-In)._zTime=m>=l?1:-1,this._ts))return this._start=E,v2(this),this.render(a,i,o);this._onUpdate&&!i&&Vo(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(E===this._start||Math.abs(j)!==Math.abs(this._ts))&&(this._lock||((a||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Cf(this,1),!i&&!(a<0&&!l)&&(d||l||!c)&&(Vo(this,d===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,i){var o=this;if(Ku(i)||(i=hl(this,i,a)),!(a instanceof Hy)){if(_i(a))return a.forEach(function(l){return o.add(l,i)}),this;if(Ba(a))return this.addLabel(a,i);if(Cs(a))a=ta.delayedCall(0,a);else return this}return this!==a?Mc(this,a,i):this},r.getChildren=function(a,i,o,l){a===void 0&&(a=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-Nl);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof ta?i&&c.push(u):(o&&c.push(u),a&&c.push.apply(c,u.getChildren(!0,i,o)))),u=u._next;return c},r.getById=function(a){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===a)return i[o]},r.remove=function(a){return Ba(a)?this.removeLabel(a):Cs(a)?this.killTweensOf(a):(a.parent===this&&x2(this,a),a===this._recent&&(this._recent=this._last),Jh(this))},r.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=hs(Fo.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),e.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},r.addLabel=function(a,i){return this.labels[a]=hl(this,i),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,i,o){var l=ta.delayedCall(0,i||zy,o);return l.data="isPause",this._hasPause=1,Mc(this,l,hl(this,a))},r.removePause=function(a){var i=this._first;for(a=hl(this,a);i;)i._start===a&&i.data==="isPause"&&Cf(i),i=i._next},r.killTweensOf=function(a,i,o){for(var l=this.getTweensOf(a,o),c=l.length;c--;)Jd!==l[c]&&l[c].kill(a,i);return this},r.getTweensOf=function(a,i){for(var o=[],l=Sl(a),c=this._first,u=Ku(i),d;c;)c instanceof ta?Awe(c._targets,l)&&(u?(!Jd||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&o.push(c):(d=c.getTweensOf(l,i)).length&&o.push.apply(o,d),c=c._next;return o},r.tweenTo=function(a,i){i=i||{};var o=this,l=hl(o,a),c=i,u=c.startAt,d=c.onStart,f=c.onStartParams,m=c.immediateRender,p,y=ta.to(o,Yo({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||In,onStart:function(){if(o.pause(),!p){var v=i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==v&&i0(y,v,0,1).render(y._time,!0,!0),p=1}d&&d.apply(y,f||[])}},i));return m?y.render(0):y},r.tweenFromTo=function(a,i,o){return this.tweenTo(i,Yo({startAt:{time:hl(this,a)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),D9(this,hl(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),D9(this,hl(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+In)},r.shiftChildren=function(a,i,o){o===void 0&&(o=0);var l=this._first,c=this.labels,u;for(a=hs(a);l;)l._start>=o&&(l._start+=a,l._end+=a),l=l._next;if(i)for(u in c)c[u]>=o&&(c[u]+=a);return Jh(this)},r.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return e.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Jh(this)},r.totalDuration=function(a){var i=0,o=this,l=o._last,c=Nl,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-a:a));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,Mc(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(i-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=hs(d/o._ts),o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=u;i0(o,o===ms&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(a){if(ms._ts&&(_Q(ms,tN(a,ms)),bQ=Fo.frame),Fo.frame>=A9){A9+=Wo.autoSleep||120;var i=ms._first;if((!i||!i._ts)&&Wo.autoSleep&&Fo._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Fo.sleep()}}},t})(Hy);Yo(Li.prototype,{_lock:0,_hasPause:0,_forcing:0});var Qwe=function(t,r,n,a,i,o,l){var c=new xo(this._pt,t,r,0,1,XQ,null,i),u=0,d=0,f,m,p,y,g,v,w,b;for(c.b=n,c.e=a,n+="",a+="",(w=~a.indexOf("random("))&&(a=qy(a)),o&&(b=[n,a],o(b,t,r),n=b[0],a=b[1]),m=n.match(XE)||[];f=XE.exec(a);)y=f[0],g=a.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),y!==m[d++]&&(v=parseFloat(m[d-1])||0,c._pt={_next:c._pt,p:g||d===1?g:",",s:v,c:y.charAt(1)==="="?Mg(v,y)-v:parseFloat(y)-v,m:p&&p<4?Math.round:0},u=XE.lastIndex);return c.c=u<a.length?a.substring(u,a.length):"",c.fp=l,(gQ.test(a)||w)&&(c.e=0),this._pt=c,c},BM=function(t,r,n,a,i,o,l,c,u,d){Cs(a)&&(a=a(i||0,t,o));var f=t[r],m=n!=="get"?n:Cs(f)?u?t[r.indexOf("set")||!Cs(t["get"+r.substr(3)])?r:"get"+r.substr(3)](u):t[r]():f,p=Cs(f)?u?s1e:KQ:VM,y;if(Ba(a)&&(~a.indexOf("random(")&&(a=qy(a)),a.charAt(1)==="="&&(y=Mg(m,a)+(gi(m)||0),(y||y===0)&&(a=y))),!d||m!==a||rD)return!isNaN(m*a)&&a!==""?(y=new xo(this._pt,t,r,+m||0,a-(m||0),typeof f=="boolean"?i1e:YQ,0,p),u&&(y.fp=u),l&&y.modifier(l,this,t),this._pt=y):(!f&&!(r in t)&&IM(r,a),Qwe.call(this,t,r,m,a,p,c||Wo.stringFilter,u))},e1e=function(t,r,n,a,i){if(Cs(t)&&(t=Zv(t,i,r,n,a)),!tu(t)||t.style&&t.nodeType||_i(t)||mQ(t))return Ba(t)?Zv(t,i,r,n,a):t;var o={},l;for(l in t)o[l]=Zv(t[l],i,r,n,a);return o},WQ=function(t,r,n,a,i,o){var l,c,u,d;if(Oo[t]&&(l=new Oo[t]).init(i,l.rawVars?r[t]:e1e(r[t],a,i,o,n),n,a,o)!==!1&&(n._pt=c=new xo(n._pt,i,t,0,1,l.render,l,0,l.priority),n!==xg))for(u=n._ptLookup[n._targets.indexOf(i)],d=l._props.length;d--;)u[l._props[d]]=c;return l},Jd,rD,UM=function e(t,r,n){var a=t.vars,i=a.ease,o=a.startAt,l=a.immediateRender,c=a.lazy,u=a.onUpdate,d=a.runBackwards,f=a.yoyoEase,m=a.keyframes,p=a.autoRevert,y=t._dur,g=t._startAt,v=t._targets,w=t.parent,b=w&&w.data==="nested"?w.vars.targets:v,j=t._overwrite==="auto"&&!PM,E=t.timeline,S,C,k,R,O,A,P,D,F,L,H,W,G;if(E&&(!m||!i)&&(i="none"),t._ease=Zh(i,n0.ease),t._yEase=f?UQ(Zh(f===!0?i:f,n0.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!E&&!!a.runBackwards,!E||m&&!a.stagger){if(D=v[0]?Xh(v[0]).harness:0,W=D&&a[D.prop],S=eN(a,MM),g&&(g._zTime<0&&g.progress(1),r<0&&d&&l&&!p?g.render(-1,!0):g.revert(d&&y?_j:Ewe),g._lazy=0),o){if(Cf(t._startAt=ta.set(v,Yo({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!g&&po(c),startAt:null,delay:0,onUpdate:u&&function(){return Vo(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Qa||!l&&!p)&&t._startAt.revert(_j),l&&y&&r<=0&&n<=0){r&&(t._zTime=r);return}}else if(d&&y&&!g){if(r&&(l=!1),k=Yo({overwrite:!1,data:"isFromStart",lazy:l&&!g&&po(c),immediateRender:l,stagger:0,parent:w},S),W&&(k[D.prop]=W),Cf(t._startAt=ta.set(v,k)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Qa?t._startAt.revert(_j):t._startAt.render(-1,!0)),t._zTime=r,!l)e(t._startAt,In,In);else if(!r)return}for(t._pt=t._ptCache=0,c=y&&po(c)||c&&!y,C=0;C<v.length;C++){if(O=v[C],P=O._gsap||LM(v)[C]._gsap,t._ptLookup[C]=L={},XR[P.id]&&uf.length&&Qj(),H=b===v?C:b.indexOf(O),D&&(F=new D).init(O,W||S,t,H,b)!==!1&&(t._pt=R=new xo(t._pt,O,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(K){L[K]=R}),F.priority&&(A=1)),!D||W)for(k in S)Oo[k]&&(F=WQ(k,S,t,H,O,b))?F.priority&&(A=1):L[k]=R=BM.call(t,O,k,"get",S[k],H,b,0,a.stringFilter);t._op&&t._op[C]&&t.kill(O,t._op[C]),j&&t._pt&&(Jd=t,ms.killTweensOf(O,L,t.globalTime(r)),G=!t.parent,Jd=0),t._pt&&c&&(XR[P.id]=1)}A&&JQ(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!G,m&&r<=0&&E.render(Nl,!0,!0)},t1e=function(t,r,n,a,i,o,l,c){var u=(t._pt&&t._ptCache||(t._ptCache={}))[r],d,f,m,p;if(!u)for(u=t._ptCache[r]=[],m=t._ptLookup,p=t._targets.length;p--;){if(d=m[p][r],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==r&&d.fp!==r;)d=d._next;if(!d)return rD=1,t.vars[r]="+=0",UM(t,l),rD=0,c?Vy(r+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)f=u[p],d=f._pt||f,d.s=(a||a===0)&&!i?a:d.s+(a||0)+o*d.c,d.c=n-d.s,f.e&&(f.e=Ms(n)+gi(f.e)),f.b&&(f.b=d.s+gi(f.b))},r1e=function(t,r){var n=t[0]?Xh(t[0]).harness:0,a=n&&n.aliases,i,o,l,c;if(!a)return r;i=s0({},r);for(o in a)if(o in i)for(c=a[o].split(","),l=c.length;l--;)i[c[l]]=i[o];return i},n1e=function(t,r,n,a){var i=r.ease||a||"power1.inOut",o,l;if(_i(r))l=n[t]||(n[t]=[]),r.forEach(function(c,u){return l.push({t:u/(r.length-1)*100,v:c,e:i})});else for(o in r)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(t),v:r[o],e:i})},Zv=function(t,r,n,a,i){return Cs(t)?t.call(r,n,a,i):Ba(t)&&~t.indexOf("random(")?qy(t):t},HQ=FM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",GQ={};go(HQ+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return GQ[e]=1});var ta=(function(e){fQ(t,e);function t(n,a,i,o){var l;typeof a=="number"&&(i.duration=a,a=i,i=null),l=e.call(this,o?a:Xv(a))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,m=c.stagger,p=c.overwrite,y=c.keyframes,g=c.defaults,v=c.scrollTrigger,w=c.yoyoEase,b=a.parent||ms,j=(_i(n)||mQ(n)?Ku(n[0]):"length"in a)?[n]:Sl(n),E,S,C,k,R,O,A,P;if(l._targets=j.length?LM(j):Vy("GSAP target "+n+" not found. https://gsap.com",!Wo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=p,y||m||v_(u)||v_(d)){if(a=l.vars,E=l.timeline=new Li({data:"nested",defaults:g||{},targets:b&&b.data==="nested"?b.vars.targets:j}),E.kill(),E.parent=E._dp=Su(l),E._start=0,m||v_(u)||v_(d)){if(k=j.length,A=m&&PQ(m),tu(m))for(R in m)~HQ.indexOf(R)&&(P||(P={}),P[R]=m[R]);for(S=0;S<k;S++)C=eN(a,GQ),C.stagger=0,w&&(C.yoyoEase=w),P&&s0(C,P),O=j[S],C.duration=+Zv(u,Su(l),S,O,j),C.delay=(+Zv(d,Su(l),S,O,j)||0)-l._delay,!m&&k===1&&C.delay&&(l._delay=d=C.delay,l._start+=d,C.delay=0),E.to(O,C,A?A(S,O,j):0),E._ease=Jr.none;E.duration()?u=d=0:l.timeline=0}else if(y){Xv(Yo(E.vars.defaults,{ease:"none"})),E._ease=Zh(y.ease||a.ease||"none");var D=0,F,L,H;if(_i(y))y.forEach(function(W){return E.to(j,W,">")}),E.duration();else{C={};for(R in y)R==="ease"||R==="easeEach"||n1e(R,y[R],C,y.easeEach);for(R in C)for(F=C[R].sort(function(W,G){return W.t-G.t}),D=0,S=0;S<F.length;S++)L=F[S],H={ease:L.e,duration:(L.t-(S?F[S-1].t:0))/100*u},H[R]=L.v,E.to(j,H,D),D+=H.duration;E.duration()<u&&E.to({},{duration:u-E.duration()})}}u||l.duration(u=E.duration())}else l.timeline=0;return p===!0&&!PM&&(Jd=Su(l),ms.killTweensOf(j),Jd=0),Mc(b,Su(l),i),a.reversed&&l.reverse(),a.paused&&l.paused(!0),(f||!u&&!y&&l._start===hs(b._time)&&po(f)&&Dwe(Su(l))&&b.data!=="nested")&&(l._tTime=-In,l.render(Math.max(0,-d)||0)),v&&CQ(Su(l),v),l}var r=t.prototype;return r.render=function(a,i,o){var l=this._time,c=this._tDur,u=this._dur,d=a<0,f=a>c-In&&!d?c:a<In?0:a,m,p,y,g,v,w,b,j,E;if(!u)Mwe(this,a,i,o);else if(f!==this._tTime||!a||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(m=f,j=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+a,i,o);if(m=hs(f%g),f===c?(y=this._repeat,m=u):(v=hs(f/g),y=~~v,y&&y===v?(m=u,y--):m>u&&(m=u)),w=this._yoyo&&y&1,w&&(E=this._yEase,m=u-m),v=a0(this._tTime,g),m===l&&!o&&this._initted&&y===v)return this._tTime=f,this;y!==v&&(j&&this._yEase&&VQ(j,w),this.vars.repeatRefresh&&!w&&!this._lock&&m!==g&&this._initted&&(this._lock=o=1,this.render(hs(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(EQ(this,d?a:m,o,i,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&y!==v))return this;if(u!==this._dur)return this.render(a,i,o)}if(this._tTime=f,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(E||this._ease)(m/u),this._from&&(this.ratio=b=1-b),!l&&f&&!i&&!v&&(Vo(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(b,p.d),p=p._next;j&&j.render(a<0?a:j._dur*j._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(d&&JR(this,a,i,o),Vo(this,"onUpdate")),this._repeat&&y!==v&&this.vars.onRepeat&&!i&&this.parent&&Vo(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&JR(this,a,!0,!0),(a||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Cf(this,1),!i&&!(d&&!l)&&(f||l||w)&&(Vo(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),e.prototype.invalidate.call(this,a)},r.resetTo=function(a,i,o,l,c){Wy||Fo.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||UM(this,u),d=this._ease(u/this._dur),t1e(this,a,i,o,l,d,u,c)?this.resetTo(a,i,o,l,1):(y2(this,0),this.parent||SQ(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Tv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Qa),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,Jd&&Jd.vars.overwrite!==!0)._first||Tv(this),this.parent&&o!==this.timeline.totalDuration()&&i0(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=a?Sl(a):l,u=this._ptLookup,d=this._pt,f,m,p,y,g,v,w;if((!i||i==="all")&&Owe(l,c))return i==="all"&&(this._pt=0),Tv(this);for(f=this._op=this._op||[],i!=="all"&&(Ba(i)&&(g={},go(i,function(b){return g[b]=1}),i=g),i=r1e(l,i)),w=l.length;w--;)if(~c.indexOf(l[w])){m=u[w],i==="all"?(f[w]=i,y=m,p={}):(p=f[w]=f[w]||{},y=i);for(g in y)v=m&&m[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&x2(this,v,"_pt"),delete m[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&Tv(this),this},t.to=function(a,i){return new t(a,i,arguments[2])},t.from=function(a,i){return Jv(1,arguments)},t.delayedCall=function(a,i,o,l){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},t.fromTo=function(a,i,o){return Jv(2,arguments)},t.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(a,i)},t.killTweensOf=function(a,i,o){return ms.killTweensOf(a,i,o)},t})(Hy);Yo(ta.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});go("staggerTo,staggerFrom,staggerFromTo",function(e){ta[e]=function(){var t=new Li,r=QR.call(arguments,0);return r.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,r)}});var VM=function(t,r,n){return t[r]=n},KQ=function(t,r,n){return t[r](n)},s1e=function(t,r,n,a){return t[r](a.fp,n)},a1e=function(t,r,n){return t.setAttribute(r,n)},zM=function(t,r){return Cs(t[r])?KQ:OM(t[r])&&t.setAttribute?a1e:VM},YQ=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},i1e=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},XQ=function(t,r){var n=r._pt,a="";if(!t&&r.b)a=r.b;else if(t===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},qM=function(t,r){for(var n=r._pt;n;)n.r(t,n.d),n=n._next},o1e=function(t,r,n,a){for(var i=this._pt,o;i;)o=i._next,i.p===a&&i.modifier(t,r,n),i=o},l1e=function(t){for(var r=this._pt,n,a;r;)a=r._next,r.p===t&&!r.op||r.op===t?x2(this,r,"_pt"):r.dep||(n=1),r=a;return!n},c1e=function(t,r,n,a){a.mSet(t,r,a.m.call(a.tween,n,a.mt),a)},JQ=function(t){for(var r=t._pt,n,a,i,o;r;){for(n=r._next,a=i;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:o)?r._prev._next=r:i=r,(r._next=a)?a._prev=r:o=r,r=n}t._pt=i},xo=(function(){function e(r,n,a,i,o,l,c,u,d){this.t=n,this.s=i,this.c=o,this.p=a,this.r=l||YQ,this.d=c||this,this.set=u||VM,this.pr=d||0,this._next=r,r&&(r._prev=this)}var t=e.prototype;return t.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=c1e,this.m=n,this.mt=i,this.tween=a},e})();go(FM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return MM[e]=1});Ko.TweenMax=Ko.TweenLite=ta;Ko.TimelineLite=Ko.TimelineMax=Li;ms=new Li({sortChildren:!1,defaults:n0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Wo.stringFilter=BQ;var Qh=[],Nj={},u1e=[],M9=0,d1e=0,tT=function(t){return(Nj[t]||u1e).map(function(r){return r()})},nD=function(){var t=Date.now(),r=[];t-M9>2&&(tT("matchMediaInit"),Qh.forEach(function(n){var a=n.queries,i=n.conditions,o,l,c,u;for(l in a)o=Dc.matchMedia(a[l]).matches,o&&(c=1),o!==i[l]&&(i[l]=o,u=1);u&&(n.revert(),c&&r.push(n))}),tT("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),M9=t,tT("matchMedia"))},ZQ=(function(){function e(r,n){this.selector=n&&eD(n),this.data=[],this._r=[],this.isReverted=!1,this.id=d1e++,r&&this.add(r)}var t=e.prototype;return t.add=function(n,a,i){Cs(n)&&(i=a,a=n,n=Cs);var o=this,l=function(){var u=is,d=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=eD(i)),is=o,f=a.apply(o,arguments),Cs(f)&&o._r.push(f),is=u,o.selector=d,o.isReverted=!1,f};return o.last=l,n===Cs?l(o,function(c){return o.add(null,c)}):n?o[n]=l:l},t.ignore=function(n){var a=is;is=null,n(this),is=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof e?n.push.apply(n,a.getTweens()):a instanceof ta&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var i=this;if(n?(function(){for(var l=i.getTweens(),c=i.data.length,u;c--;)u=i.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(n)}),c=i.data.length;c--;)u=i.data[c],u instanceof Li?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ta)&&u.revert&&u.revert(n);i._r.forEach(function(d){return d(n,i)}),i.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),a)for(var o=Qh.length;o--;)Qh[o].id===this.id&&Qh.splice(o,1)},t.revert=function(n){this.kill(n||{})},e})(),f1e=(function(){function e(r){this.contexts=[],this.scope=r,is&&is.data.push(this)}var t=e.prototype;return t.add=function(n,a,i){tu(n)||(n={matches:n});var o=new ZQ(0,i||this.scope),l=o.conditions={},c,u,d;is&&!o.selector&&(o.selector=is.selector),this.contexts.push(o),a=o.add("onMatch",a),o.queries=n;for(u in n)u==="all"?d=1:(c=Dc.matchMedia(n[u]),c&&(Qh.indexOf(o)<0&&Qh.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(nD):c.addEventListener("change",nD)));return d&&a(o,function(f){return o.add(null,f)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},e})(),rN={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(a){return FQ(a)})},timeline:function(t){return new Li(t)},getTweensOf:function(t,r){return ms.getTweensOf(t,r)},getProperty:function(t,r,n,a){Ba(t)&&(t=Sl(t)[0]);var i=Xh(t||{}).get,o=n?NQ:jQ;return n==="native"&&(n=""),t&&(r?o((Oo[r]&&Oo[r].get||i)(t,r,n,a)):function(l,c,u){return o((Oo[l]&&Oo[l].get||i)(t,l,c,u))})},quickSetter:function(t,r,n){if(t=Sl(t),t.length>1){var a=t.map(function(d){return bo.quickSetter(d,r,n)}),i=a.length;return function(d){for(var f=i;f--;)a[f](d)}}t=t[0]||{};var o=Oo[r],l=Xh(t),c=l.harness&&(l.harness.aliases||{})[r]||r,u=o?function(d){var f=new o;xg._pt=0,f.init(t,n?d+n:d,xg,0,[t]),f.render(1,f),xg._pt&&qM(1,xg)}:l.set(t,c);return o?u:function(d){return u(t,c,n?d+n:d,l,1)}},quickTo:function(t,r,n){var a,i=bo.to(t,Yo((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),o=function(c,u,d){return i.resetTo(r,c,u,d)};return o.tween=i,o},isTweening:function(t){return ms.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Zh(t.ease,n0.ease)),P9(n0,t||{})},config:function(t){return P9(Wo,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,a=t.plugins,i=t.defaults,o=t.extendTimeline;(a||"").split(",").forEach(function(l){return l&&!Oo[l]&&!Ko[l]&&Vy(r+" effect requires "+l+" plugin.")}),JE[r]=function(l,c,u){return n(Sl(l),Yo(c||{},i),u)},o&&(Li.prototype[r]=function(l,c,u){return this.add(JE[r](l,tu(c)?c:(u=c)&&{},this),u)})},registerEase:function(t,r){Jr[t]=Zh(r)},parseEase:function(t,r){return arguments.length?Zh(t,r):Jr},getById:function(t){return ms.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var n=new Li(t),a,i;for(n.smoothChildTiming=po(t.smoothChildTiming),ms.remove(n),n._dp=0,n._time=n._tTime=ms._time,a=ms._first;a;)i=a._next,(r||!(!a._dur&&a instanceof ta&&a.vars.onComplete===a._targets[0]))&&Mc(n,a,a._start-a._delay),a=i;return Mc(ms,n,0),n},context:function(t,r){return t?new ZQ(t,r):is},matchMedia:function(t){return new f1e(t)},matchMediaRefresh:function(){return Qh.forEach(function(t){var r=t.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&t.revert()})||nD()},addEventListener:function(t,r){var n=Nj[t]||(Nj[t]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(t,r){var n=Nj[t],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:qwe,wrapYoyo:Wwe,distribute:PQ,random:RQ,snap:OQ,normalize:zwe,getUnit:gi,clamp:$we,splitColor:LQ,toArray:Sl,selector:eD,mapRange:IQ,pipe:Uwe,unitize:Vwe,interpolate:Hwe,shuffle:AQ},install:vQ,effects:JE,ticker:Fo,updateRoot:Li.updateRoot,plugins:Oo,globalTimeline:ms,core:{PropTween:xo,globals:yQ,Tween:ta,Timeline:Li,Animation:Hy,getCache:Xh,_removeLinkedListItem:x2,reverting:function(){return Qa},context:function(t){return t&&is&&(is.data.push(t),t._ctx=is),is},suppressOverwrites:function(t){return PM=t}}};go("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return rN[e]=ta[e]});Fo.add(Li.updateRoot);xg=rN.to({},{duration:0});var h1e=function(t,r){for(var n=t._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},m1e=function(t,r){var n=t._targets,a,i,o;for(a in r)for(i=n.length;i--;)o=t._ptLookup[i][a],o&&(o=o.d)&&(o._pt&&(o=h1e(o,a)),o&&o.modifier&&o.modifier(r[a],t,n[i],a))},rT=function(t,r){return{name:t,headless:1,rawVars:1,init:function(a,i,o){o._onInit=function(l){var c,u;if(Ba(i)&&(c={},go(i,function(d){return c[d]=1}),i=c),r){c={};for(u in i)c[u]=r(i[u]);i=c}m1e(l,i)}}}},bo=rN.registerPlugin({name:"attr",init:function(t,r,n,a,i){var o,l,c;this.tween=n;for(o in r)c=t.getAttribute(o)||"",l=this.add(t,"setAttribute",(c||0)+"",r[o],a,i,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(t,r){for(var n=r._pt;n;)Qa?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,r){for(var n=r.length;n--;)this.add(t,n,t[n]||0,r[n],0,0,0,0,0,1)}},rT("roundProps",tD),rT("modifiers"),rT("snap",OQ))||rN;ta.version=Li.version=bo.version="3.14.2";xQ=1;RM()&&o0();Jr.Power0;Jr.Power1;Jr.Power2;Jr.Power3;Jr.Power4;Jr.Linear;Jr.Quad;Jr.Cubic;Jr.Quart;Jr.Quint;Jr.Strong;Jr.Elastic;Jr.Back;Jr.SteppedEase;Jr.Bounce;Jr.Sine;Jr.Expo;Jr.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var F9,Zd,Fg,WM,Lh,L9,HM,p1e=function(){return typeof window<"u"},Yu={},jh=180/Math.PI,Lg=Math.PI/180,Mp=Math.atan2,$9=1e8,GM=/([A-Z])/g,g1e=/(left|right|width|margin|padding|x)/i,x1e=/[\s,\(]\S/,$c={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},sD=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},v1e=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},y1e=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},b1e=function(t,r){return r.set(r.t,r.p,t===1?r.e:t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},w1e=function(t,r){var n=r.s+r.c*t;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},QQ=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},eee=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},_1e=function(t,r,n){return t.style[r]=n},j1e=function(t,r,n){return t.style.setProperty(r,n)},N1e=function(t,r,n){return t._gsap[r]=n},S1e=function(t,r,n){return t._gsap.scaleX=t._gsap.scaleY=n},k1e=function(t,r,n,a,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},C1e=function(t,r,n,a,i){var o=t._gsap;o[r]=n,o.renderTransform(i,o)},gs="transform",vo=gs+"Origin",E1e=function e(t,r){var n=this,a=this.target,i=a.style,o=a._gsap;if(t in Yu&&i){if(this.tfm=this.tfm||{},t!=="transform")t=$c[t]||t,~t.indexOf(",")?t.split(",").forEach(function(l){return n.tfm[l]=Tu(a,l)}):this.tfm[t]=o.x?o[t]:Tu(a,t),t===vo&&(this.tfm.zOrigin=o.zOrigin);else return $c.transform.split(",").forEach(function(l){return e.call(n,l,r)});if(this.props.indexOf(gs)>=0)return;o.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(vo,r,"")),t=gs}(i||r)&&this.props.push(t,r,i[t])},tee=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},T1e=function(){var t=this.props,r=this.target,n=r.style,a=r._gsap,i,o;for(i=0;i<t.length;i+=3)t[i+1]?t[i+1]===2?r[t[i]](t[i+2]):r[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].substr(0,2)==="--"?t[i]:t[i].replace(GM,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)a[o]=this.tfm[o];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=HM(),(!i||!i.isStart)&&!n[gs]&&(tee(n),a.zOrigin&&n[vo]&&(n[vo]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},ree=function(t,r){var n={target:t,props:[],revert:T1e,save:E1e};return t._gsap||bo.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},nee,aD=function(t,r){var n=Zd.createElementNS?Zd.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Zd.createElement(t);return n&&n.style?n:Zd.createElement(t)},zo=function e(t,r,n){var a=getComputedStyle(t);return a[r]||a.getPropertyValue(r.replace(GM,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&e(t,l0(r)||r,1)||""},B9="O,Moz,ms,Ms,Webkit".split(","),l0=function(t,r,n){var a=r||Lh,i=a.style,o=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(B9[o]+t in i););return o<0?null:(o===3?"ms":o>=0?B9[o]:"")+t},iD=function(){p1e()&&window.document&&(F9=window,Zd=F9.document,Fg=Zd.documentElement,Lh=aD("div")||{style:{}},aD("div"),gs=l0(gs),vo=gs+"Origin",Lh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",nee=!!l0("perspective"),HM=bo.core.reverting,WM=1)},U9=function(t){var r=t.ownerSVGElement,n=aD("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),i;a.style.display="block",n.appendChild(a),Fg.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),Fg.removeChild(n),i},V9=function(t,r){for(var n=r.length;n--;)if(t.hasAttribute(r[n]))return t.getAttribute(r[n])},see=function(t){var r,n;try{r=t.getBBox()}catch{r=U9(t),n=1}return r&&(r.width||r.height)||n||(r=U9(t)),r&&!r.width&&!r.x&&!r.y?{x:+V9(t,["x","cx","x1"])||0,y:+V9(t,["y","cy","y1"])||0,width:0,height:0}:r},aee=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&see(t))},Ef=function(t,r){if(r){var n=t.style,a;r in Yu&&r!==vo&&(r=gs),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(GM,"-$1").toLowerCase())):n.removeAttribute(r)}},Qd=function(t,r,n,a,i,o){var l=new xo(t._pt,r,n,0,1,o?eee:QQ);return t._pt=l,l.b=a,l.e=i,t._props.push(n),l},z9={deg:1,rad:1,turn:1},A1e={grid:1,flex:1},Tf=function e(t,r,n,a){var i=parseFloat(n)||0,o=(n+"").trim().substr((i+"").length)||"px",l=Lh.style,c=g1e.test(r),u=t.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,m=a==="px",p=a==="%",y,g,v,w;if(a===o||!i||z9[a]||z9[o])return i;if(o!=="px"&&!m&&(i=e(t,r,n,"px")),w=t.getCTM&&aee(t),(p||o==="%")&&(Yu[r]||~r.indexOf("adius")))return y=w?t.getBBox()[c?"width":"height"]:t[d],Ms(p?i/y*f:i/100*y);if(l[c?"width":"height"]=f+(m?o:a),g=a!=="rem"&&~r.indexOf("adius")||a==="em"&&t.appendChild&&!u?t:t.parentNode,w&&(g=(t.ownerSVGElement||{}).parentNode),(!g||g===Zd||!g.appendChild)&&(g=Zd.body),v=g._gsap,v&&p&&v.width&&c&&v.time===Fo.time&&!v.uncache)return Ms(i/v.width*f);if(p&&(r==="height"||r==="width")){var b=t.style[r];t.style[r]=f+a,y=t[d],b?t.style[r]=b:Ef(t,r)}else(p||o==="%")&&!A1e[zo(g,"display")]&&(l.position=zo(t,"position")),g===t&&(l.position="static"),g.appendChild(Lh),y=Lh[d],g.removeChild(Lh),l.position="absolute";return c&&p&&(v=Xh(g),v.time=Fo.time,v.width=g[d]),Ms(m?y*i/f:y&&i?f/y*i:0)},Tu=function(t,r,n,a){var i;return WM||iD(),r in $c&&r!=="transform"&&(r=$c[r],~r.indexOf(",")&&(r=r.split(",")[0])),Yu[r]&&r!=="transform"?(i=Ky(t,a),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:sN(zo(t,vo))+" "+i.zOrigin+"px"):(i=t.style[r],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=nN[r]&&nN[r](t,r,n)||zo(t,r)||wQ(t,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?Tf(t,r,i,n)+n:i},P1e=function(t,r,n,a){if(!n||n==="none"){var i=l0(r,t,1),o=i&&zo(t,i,1);o&&o!==n?(r=i,n=o):r==="borderColor"&&(n=zo(t,"borderTopColor"))}var l=new xo(this._pt,t.style,r,0,1,XQ),c=0,u=0,d,f,m,p,y,g,v,w,b,j,E,S;if(l.b=n,l.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=zo(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(g=t.style[r],t.style[r]=a,a=zo(t,r)||a,g?t.style[r]=g:Ef(t,r)),d=[n,a],BQ(d),n=d[0],a=d[1],m=n.match(gg)||[],S=a.match(gg)||[],S.length){for(;f=gg.exec(a);)v=f[0],b=a.substring(c,f.index),y?y=(y+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(y=1),v!==(g=m[u++]||"")&&(p=parseFloat(g)||0,E=g.substr((p+"").length),v.charAt(1)==="="&&(v=Mg(p,v)+E),w=parseFloat(v),j=v.substr((w+"").length),c=gg.lastIndex-j.length,j||(j=j||Wo.units[r]||E,c===a.length&&(a+=j,l.e+=j)),E!==j&&(p=Tf(t,r,g,j)||0),l._pt={_next:l._pt,p:b||u===1?b:",",s:p,c:w-p,m:y&&y<4||r==="zIndex"?Math.round:0});l.c=c<a.length?a.substring(c,a.length):""}else l.r=r==="display"&&a==="none"?eee:QQ;return gQ.test(a)&&(l.e=0),this._pt=l,l},q9={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},O1e=function(t){var r=t.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),r[0]=q9[n]||n,r[1]=q9[a]||a,r.join(" ")},R1e=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,i=r.u,o=n._gsap,l,c,u;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),u=i.length;--u>-1;)l=i[u],Yu[l]&&(c=1,l=l==="transformOrigin"?vo:gs),Ef(n,l);c&&(Ef(n,gs),o&&(o.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Ky(n,1),o.uncache=1,tee(a)))}},nN={clearProps:function(t,r,n,a,i){if(i.data!=="isFromStart"){var o=t._pt=new xo(t._pt,r,n,0,0,R1e);return o.u=a,o.pr=-10,o.tween=i,t._props.push(n),1}}},Gy=[1,0,0,1,0,0],iee={},oee=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},W9=function(t){var r=zo(t,gs);return oee(r)?Gy:r.substr(7).match(pQ).map(Ms)},KM=function(t,r){var n=t._gsap||Xh(t),a=t.style,i=W9(t),o,l,c,u;return n.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?Gy:i):(i===Gy&&!t.offsetParent&&t!==Fg&&!n.svg&&(c=a.display,a.display="block",o=t.parentNode,(!o||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,l=t.nextElementSibling,Fg.appendChild(t)),i=W9(t),c?a.display=c:Ef(t,"display"),u&&(l?o.insertBefore(t,l):o?o.appendChild(t):Fg.removeChild(t))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},oD=function(t,r,n,a,i,o){var l=t._gsap,c=i||KM(t,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,m=l.yOffset||0,p=c[0],y=c[1],g=c[2],v=c[3],w=c[4],b=c[5],j=r.split(" "),E=parseFloat(j[0])||0,S=parseFloat(j[1])||0,C,k,R,O;n?c!==Gy&&(k=p*v-y*g)&&(R=E*(v/k)+S*(-g/k)+(g*b-v*w)/k,O=E*(-y/k)+S*(p/k)-(p*b-y*w)/k,E=R,S=O):(C=see(t),E=C.x+(~j[0].indexOf("%")?E/100*C.width:E),S=C.y+(~(j[1]||j[0]).indexOf("%")?S/100*C.height:S)),a||a!==!1&&l.smooth?(w=E-u,b=S-d,l.xOffset=f+(w*p+b*g)-w,l.yOffset=m+(w*y+b*v)-b):l.xOffset=l.yOffset=0,l.xOrigin=E,l.yOrigin=S,l.smooth=!!a,l.origin=r,l.originIsAbsolute=!!n,t.style[vo]="0px 0px",o&&(Qd(o,l,"xOrigin",u,E),Qd(o,l,"yOrigin",d,S),Qd(o,l,"xOffset",f,l.xOffset),Qd(o,l,"yOffset",m,l.yOffset)),t.setAttribute("data-svg-origin",E+" "+S)},Ky=function(t,r){var n=t._gsap||new qQ(t);if("x"in n&&!r&&!n.uncache)return n;var a=t.style,i=n.scaleX<0,o="px",l="deg",c=getComputedStyle(t),u=zo(t,vo)||"0",d,f,m,p,y,g,v,w,b,j,E,S,C,k,R,O,A,P,D,F,L,H,W,G,K,I,B,Y,z,J,X,ee;return d=f=m=g=v=w=b=j=E=0,p=y=1,n.svg=!!(t.getCTM&&aee(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[gs]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[gs]!=="none"?c[gs]:"")),a.scale=a.rotate=a.translate="none"),k=KM(t,n.svg),n.svg&&(n.uncache?(K=t.getBBox(),u=n.xOrigin-K.x+"px "+(n.yOrigin-K.y)+"px",G=""):G=!r&&t.getAttribute("data-svg-origin"),oD(t,G||u,!!G||n.originIsAbsolute,n.smooth!==!1,k)),S=n.xOrigin||0,C=n.yOrigin||0,k!==Gy&&(P=k[0],D=k[1],F=k[2],L=k[3],d=H=k[4],f=W=k[5],k.length===6?(p=Math.sqrt(P*P+D*D),y=Math.sqrt(L*L+F*F),g=P||D?Mp(D,P)*jh:0,b=F||L?Mp(F,L)*jh+g:0,b&&(y*=Math.abs(Math.cos(b*Lg))),n.svg&&(d-=S-(S*P+C*F),f-=C-(S*D+C*L))):(ee=k[6],J=k[7],B=k[8],Y=k[9],z=k[10],X=k[11],d=k[12],f=k[13],m=k[14],R=Mp(ee,z),v=R*jh,R&&(O=Math.cos(-R),A=Math.sin(-R),G=H*O+B*A,K=W*O+Y*A,I=ee*O+z*A,B=H*-A+B*O,Y=W*-A+Y*O,z=ee*-A+z*O,X=J*-A+X*O,H=G,W=K,ee=I),R=Mp(-F,z),w=R*jh,R&&(O=Math.cos(-R),A=Math.sin(-R),G=P*O-B*A,K=D*O-Y*A,I=F*O-z*A,X=L*A+X*O,P=G,D=K,F=I),R=Mp(D,P),g=R*jh,R&&(O=Math.cos(R),A=Math.sin(R),G=P*O+D*A,K=H*O+W*A,D=D*O-P*A,W=W*O-H*A,P=G,H=K),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,w=180-w),p=Ms(Math.sqrt(P*P+D*D+F*F)),y=Ms(Math.sqrt(W*W+ee*ee)),R=Mp(H,W),b=Math.abs(R)>2e-4?R*jh:0,E=X?1/(X<0?-X:X):0),n.svg&&(G=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!oee(zo(t,gs)),G&&t.setAttribute("transform",G))),Math.abs(b)>90&&Math.abs(b)<270&&(i?(p*=-1,b+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,b+=b<=0?180:-180)),r=r||n.uncache,n.x=d-((n.xPercent=d&&(!r&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-d)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+o,n.y=f-((n.yPercent=f&&(!r&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-f)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+o,n.z=m+o,n.scaleX=Ms(p),n.scaleY=Ms(y),n.rotation=Ms(g)+l,n.rotationX=Ms(v)+l,n.rotationY=Ms(w)+l,n.skewX=b+l,n.skewY=j+l,n.transformPerspective=E+o,(n.zOrigin=parseFloat(u.split(" ")[2])||!r&&n.zOrigin||0)&&(a[vo]=sN(u)),n.xOffset=n.yOffset=0,n.force3D=Wo.force3D,n.renderTransform=n.svg?I1e:nee?lee:D1e,n.uncache=0,n},sN=function(t){return(t=t.split(" "))[0]+" "+t[1]},nT=function(t,r,n){var a=gi(r);return Ms(parseFloat(r)+parseFloat(Tf(t,"x",n+"px",a)))+a},D1e=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,lee(t,r)},mh="0deg",ov="0px",ph=") ",lee=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.z,u=n.rotation,d=n.rotationY,f=n.rotationX,m=n.skewX,p=n.skewY,y=n.scaleX,g=n.scaleY,v=n.transformPerspective,w=n.force3D,b=n.target,j=n.zOrigin,E="",S=w==="auto"&&t&&t!==1||w===!0;if(j&&(f!==mh||d!==mh)){var C=parseFloat(d)*Lg,k=Math.sin(C),R=Math.cos(C),O;C=parseFloat(f)*Lg,O=Math.cos(C),o=nT(b,o,k*O*-j),l=nT(b,l,-Math.sin(C)*-j),c=nT(b,c,R*O*-j+j)}v!==ov&&(E+="perspective("+v+ph),(a||i)&&(E+="translate("+a+"%, "+i+"%) "),(S||o!==ov||l!==ov||c!==ov)&&(E+=c!==ov||S?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+ph),u!==mh&&(E+="rotate("+u+ph),d!==mh&&(E+="rotateY("+d+ph),f!==mh&&(E+="rotateX("+f+ph),(m!==mh||p!==mh)&&(E+="skew("+m+", "+p+ph),(y!==1||g!==1)&&(E+="scale("+y+", "+g+ph),b.style[gs]=E||"translate(0, 0)"},I1e=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,o=n.x,l=n.y,c=n.rotation,u=n.skewX,d=n.skewY,f=n.scaleX,m=n.scaleY,p=n.target,y=n.xOrigin,g=n.yOrigin,v=n.xOffset,w=n.yOffset,b=n.forceCSS,j=parseFloat(o),E=parseFloat(l),S,C,k,R,O;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=Lg,u*=Lg,S=Math.cos(c)*f,C=Math.sin(c)*f,k=Math.sin(c-u)*-m,R=Math.cos(c-u)*m,u&&(d*=Lg,O=Math.tan(u-d),O=Math.sqrt(1+O*O),k*=O,R*=O,d&&(O=Math.tan(d),O=Math.sqrt(1+O*O),S*=O,C*=O)),S=Ms(S),C=Ms(C),k=Ms(k),R=Ms(R)):(S=f,R=m,C=k=0),(j&&!~(o+"").indexOf("px")||E&&!~(l+"").indexOf("px"))&&(j=Tf(p,"x",o,"px"),E=Tf(p,"y",l,"px")),(y||g||v||w)&&(j=Ms(j+y-(y*S+g*k)+v),E=Ms(E+g-(y*C+g*R)+w)),(a||i)&&(O=p.getBBox(),j=Ms(j+a/100*O.width),E=Ms(E+i/100*O.height)),O="matrix("+S+","+C+","+k+","+R+","+j+","+E+")",p.setAttribute("transform",O),b&&(p.style[gs]=O)},M1e=function(t,r,n,a,i){var o=360,l=Ba(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?jh:1),u=c-a,d=a+u+"deg",f,m;return l&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*$9)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*$9)%o-~~(u/o)*o)),t._pt=m=new xo(t._pt,r,n,a,u,v1e),m.e=d,m.u="deg",t._props.push(n),m},H9=function(t,r){for(var n in r)t[n]=r[n];return t},F1e=function(t,r,n){var a=H9({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,c,u,d,f,m,p,y;a.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),o[gs]=r,l=Ky(n,1),Ef(n,gs),n.setAttribute("transform",u)):(u=getComputedStyle(n)[gs],o[gs]=r,l=Ky(n,1),o[gs]=u);for(c in Yu)u=a[c],d=l[c],u!==d&&i.indexOf(c)<0&&(p=gi(u),y=gi(d),f=p!==y?Tf(n,c,u,y):parseFloat(u),m=parseFloat(d),t._pt=new xo(t._pt,l,c,f,m-f,sD),t._pt.u=y||0,t._props.push(c));H9(l,a)};go("padding,margin,Width,Radius",function(e,t){var r="Top",n="Right",a="Bottom",i="Left",o=(t<3?[r,n,a,i]:[r+i,r+n,a+n,a+i]).map(function(l){return t<2?e+l:"border"+l+e});nN[t>1?"border"+e:e]=function(l,c,u,d,f){var m,p;if(arguments.length<4)return m=o.map(function(y){return Tu(l,y,u)}),p=m.join(" "),p.split(m[0]).length===5?m[0]:p;m=(d+"").split(" "),p={},o.forEach(function(y,g){return p[y]=m[g]=m[g]||m[(g-1)/2|0]}),l.init(c,p,f)}});var cee={name:"css",register:iD,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,n,a,i){var o=this._props,l=t.style,c=n.vars.startAt,u,d,f,m,p,y,g,v,w,b,j,E,S,C,k,R,O;WM||iD(),this.styles=this.styles||ree(t),R=this.styles.props,this.tween=n;for(g in r)if(g!=="autoRound"&&(d=r[g],!(Oo[g]&&WQ(g,r,n,a,t,i)))){if(p=typeof d,y=nN[g],p==="function"&&(d=d.call(n,a,t,i),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=qy(d)),y)y(this,t,g,d,n)&&(k=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(g)+"").trim(),d+="",df.lastIndex=0,df.test(u)||(v=gi(u),w=gi(d),w?v!==w&&(u=Tf(t,g,u,w)+w):v&&(d+=v)),this.add(l,"setProperty",u,d,a,i,0,0,g),o.push(g),R.push(g,0,l[g]);else if(p!=="undefined"){if(c&&g in c?(u=typeof c[g]=="function"?c[g].call(n,a,t,i):c[g],Ba(u)&&~u.indexOf("random(")&&(u=qy(u)),gi(u+"")||u==="auto"||(u+=Wo.units[g]||gi(Tu(t,g))||""),(u+"").charAt(1)==="="&&(u=Tu(t,g))):u=Tu(t,g),m=parseFloat(u),b=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),b&&(d=d.substr(2)),f=parseFloat(d),g in $c&&(g==="autoAlpha"&&(m===1&&Tu(t,"visibility")==="hidden"&&f&&(m=0),R.push("visibility",0,l.visibility),Qd(this,l,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=$c[g],~g.indexOf(",")&&(g=g.split(",")[0]))),j=g in Yu,j){if(this.styles.save(g),O=d,p==="string"&&d.substring(0,6)==="var(--"){if(d=zo(t,d.substring(4,d.indexOf(")"))),d.substring(0,5)==="calc("){var A=t.style.perspective;t.style.perspective=d,d=zo(t,"perspective"),A?t.style.perspective=A:Ef(t,"perspective")}f=parseFloat(d)}if(E||(S=t._gsap,S.renderTransform&&!r.parseTransform||Ky(t,r.parseTransform),C=r.smoothOrigin!==!1&&S.smooth,E=this._pt=new xo(this._pt,l,gs,0,1,S.renderTransform,S,0,-1),E.dep=1),g==="scale")this._pt=new xo(this._pt,S,"scaleY",S.scaleY,(b?Mg(S.scaleY,b+f):f)-S.scaleY||0,sD),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){R.push(vo,0,l[vo]),d=O1e(d),S.svg?oD(t,d,0,C,0,this):(w=parseFloat(d.split(" ")[2])||0,w!==S.zOrigin&&Qd(this,S,"zOrigin",S.zOrigin,w),Qd(this,l,g,sN(u),sN(d)));continue}else if(g==="svgOrigin"){oD(t,d,1,C,0,this);continue}else if(g in iee){M1e(this,S,g,m,b?Mg(m,b+d):d);continue}else if(g==="smoothOrigin"){Qd(this,S,"smooth",S.smooth,d);continue}else if(g==="force3D"){S[g]=d;continue}else if(g==="transform"){F1e(this,d,t);continue}}else g in l||(g=l0(g)||g);if(j||(f||f===0)&&(m||m===0)&&!x1e.test(d)&&g in l)v=(u+"").substr((m+"").length),f||(f=0),w=gi(d)||(g in Wo.units?Wo.units[g]:v),v!==w&&(m=Tf(t,g,u,w)),this._pt=new xo(this._pt,j?S:l,g,m,(b?Mg(m,b+f):f)-m,!j&&(w==="px"||g==="zIndex")&&r.autoRound!==!1?w1e:sD),this._pt.u=w||0,j&&O!==d?(this._pt.b=u,this._pt.e=O,this._pt.r=b1e):v!==w&&w!=="%"&&(this._pt.b=u,this._pt.r=y1e);else if(g in l)P1e.call(this,t,g,u,b?b+d:d);else if(g in t)this.add(t,g,u||t[g],b?b+d:d,a,i);else if(g!=="parseTransform"){IM(g,d);continue}j||(g in l?R.push(g,0,l[g]):typeof t[g]=="function"?R.push(g,2,t[g]()):R.push(g,1,u||t[g])),o.push(g)}}k&&JQ(this)},render:function(t,r){if(r.tween._time||!HM())for(var n=r._pt;n;)n.r(t,n.d),n=n._next;else r.styles.revert()},get:Tu,aliases:$c,getSetter:function(t,r,n){var a=$c[r];return a&&a.indexOf(",")<0&&(r=a),r in Yu&&r!==vo&&(t._gsap.x||Tu(t,"x"))?n&&L9===n?r==="scale"?S1e:N1e:(L9=n||{})&&(r==="scale"?k1e:C1e):t.style&&!OM(t.style[r])?_1e:~r.indexOf("-")?j1e:zM(t,r)},core:{_removeProperty:Ef,_getMatrix:KM}};bo.utils.checkPrefix=l0;bo.core.getStyleSaver=ree;(function(e,t,r,n){var a=go(e+","+t+","+r,function(i){Yu[i]=1});go(t,function(i){Wo.units[i]="deg",iee[i]=1}),$c[a[13]]=e+","+t,go(n,function(i){var o=i.split(":");$c[o[1]]=a[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");go("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Wo.units[e]="px"});bo.registerPlugin(cee);var Fn=bo.registerPlugin(cee)||bo;Fn.core.Tween;function L1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $1e(e,t,r){return t&&L1e(e.prototype,t),e}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Za,Sj,Lo,ef,tf,$g,uee,Nh,Qv,dee,Ou,Zl,fee,hee=function(){return Za||typeof window<"u"&&(Za=window.gsap)&&Za.registerPlugin&&Za},mee=1,vg=[],zr=[],Hc=[],ey=Date.now,lD=function(t,r){return r},B1e=function(){var t=Qv.core,r=t.bridge||{},n=t._scrollers,a=t._proxies;n.push.apply(n,zr),a.push.apply(a,Hc),zr=n,Hc=a,lD=function(o,l){return r[o](l)}},ff=function(t,r){return~Hc.indexOf(t)&&Hc[Hc.indexOf(t)+1][r]},ty=function(t){return!!~dee.indexOf(t)},Pi=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:a!==!1,capture:!!i})},Ai=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},y_="scrollLeft",b_="scrollTop",cD=function(){return Ou&&Ou.isPressed||zr.cache++},aN=function(t,r){var n=function a(i){if(i||i===0){mee&&(Lo.history.scrollRestoration="manual");var o=Ou&&Ou.isPressed;i=a.v=Math.round(i)||(Ou&&Ou.iOS?1:0),t(i),a.cacheID=zr.cache,o&&lD("ss",i)}else(r||zr.cache!==a.cacheID||lD("ref"))&&(a.cacheID=zr.cache,a.v=t());return a.v+a.offset};return n.offset=0,t&&n},$i={s:y_,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:aN(function(e){return arguments.length?Lo.scrollTo(e,va.sc()):Lo.pageXOffset||ef[y_]||tf[y_]||$g[y_]||0})},va={s:b_,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:$i,sc:aN(function(e){return arguments.length?Lo.scrollTo($i.sc(),e):Lo.pageYOffset||ef[b_]||tf[b_]||$g[b_]||0})},oo=function(t,r){return(r&&r._ctx&&r._ctx.selector||Za.utils.toArray)(t)[0]||(typeof t=="string"&&Za.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},U1e=function(t,r){for(var n=r.length;n--;)if(r[n]===t||r[n].contains(t))return!0;return!1},Af=function(t,r){var n=r.s,a=r.sc;ty(t)&&(t=ef.scrollingElement||tf);var i=zr.indexOf(t),o=a===va.sc?1:2;!~i&&(i=zr.push(t)-1),zr[i+o]||Pi(t,"scroll",cD);var l=zr[i+o],c=l||(zr[i+o]=aN(ff(t,n),!0)||(ty(t)?a:aN(function(u){return arguments.length?t[n]=u:t[n]})));return c.target=t,l||(c.smooth=Za.getProperty(t,"scrollBehavior")==="smooth"),c},uD=function(t,r,n){var a=t,i=t,o=ey(),l=o,c=r||50,u=Math.max(500,c*3),d=function(y,g){var v=ey();g||v-o>c?(i=a,a=y,l=o,o=v):n?a+=y:a=i+(y-i)/(v-l)*(o-l)},f=function(){i=a=n?0:a,l=o=0},m=function(y){var g=l,v=i,w=ey();return(y||y===0)&&y!==a&&d(y),o===l||w-l>u?0:(a+(n?v:-v))/((n?w:o)-g)*1e3};return{update:d,reset:f,getVelocity:m}},lv=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},G9=function(t){var r=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(n)?r:n},pee=function(){Qv=Za.core.globals().ScrollTrigger,Qv&&Qv.core&&B1e()},gee=function(t){return Za=t||hee(),!Sj&&Za&&typeof document<"u"&&document.body&&(Lo=window,ef=document,tf=ef.documentElement,$g=ef.body,dee=[Lo,ef,tf,$g],Za.utils.clamp,fee=Za.core.context||function(){},Nh="onpointerenter"in $g?"pointer":"mouse",uee=$s.isTouch=Lo.matchMedia&&Lo.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Lo||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Zl=$s.eventTypes=("ontouchstart"in tf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in tf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return mee=0},500),pee(),Sj=1),Sj};$i.op=va;zr.cache=0;var $s=(function(){function e(r){this.init(r)}var t=e.prototype;return t.init=function(n){Sj||gee(Za)||console.warn("Please gsap.registerPlugin(Observer)"),Qv||pee();var a=n.tolerance,i=n.dragMinimum,o=n.type,l=n.target,c=n.lineHeight,u=n.debounce,d=n.preventDefault,f=n.onStop,m=n.onStopDelay,p=n.ignore,y=n.wheelSpeed,g=n.event,v=n.onDragStart,w=n.onDragEnd,b=n.onDrag,j=n.onPress,E=n.onRelease,S=n.onRight,C=n.onLeft,k=n.onUp,R=n.onDown,O=n.onChangeX,A=n.onChangeY,P=n.onChange,D=n.onToggleX,F=n.onToggleY,L=n.onHover,H=n.onHoverEnd,W=n.onMove,G=n.ignoreCheck,K=n.isNormalizer,I=n.onGestureStart,B=n.onGestureEnd,Y=n.onWheel,z=n.onEnable,J=n.onDisable,X=n.onClick,ee=n.scrollSpeed,he=n.capture,fe=n.allowClicks,ge=n.lockAxis,U=n.onLockAxis;this.target=l=oo(l)||tf,this.vars=n,p&&(p=Za.utils.toArray(p)),a=a||1e-9,i=i||0,y=y||1,ee=ee||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(Lo.getComputedStyle($g).lineHeight)||22);var ne,Q,V,ue,oe,Se,Ee,ie=this,qe=0,He=0,de=n.passive||!d&&n.passive!==!1,we=Af(l,$i),Oe=Af(l,va),Ye=we(),Je=Oe(),Ne=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Zl[0]==="pointerdown",te=ty(l),_e=l.ownerDocument||ef,pe=[0,0,0],Ie=[0,0,0],De=0,le=function(){return De=ey()},Re=function(It,er){return(ie.event=It)&&p&&U1e(It.target,p)||er&&Ne&&It.pointerType!=="touch"||G&&G(It,er)},et=function(){ie._vx.reset(),ie._vy.reset(),Q.pause(),f&&f(ie)},xt=function(){var It=ie.deltaX=G9(pe),er=ie.deltaY=G9(Ie),vt=Math.abs(It)>=a,Lt=Math.abs(er)>=a;P&&(vt||Lt)&&P(ie,It,er,pe,Ie),vt&&(S&&ie.deltaX>0&&S(ie),C&&ie.deltaX<0&&C(ie),O&&O(ie),D&&ie.deltaX<0!=qe<0&&D(ie),qe=ie.deltaX,pe[0]=pe[1]=pe[2]=0),Lt&&(R&&ie.deltaY>0&&R(ie),k&&ie.deltaY<0&&k(ie),A&&A(ie),F&&ie.deltaY<0!=He<0&&F(ie),He=ie.deltaY,Ie[0]=Ie[1]=Ie[2]=0),(ue||V)&&(W&&W(ie),V&&(v&&V===1&&v(ie),b&&b(ie),V=0),ue=!1),Se&&!(Se=!1)&&U&&U(ie),oe&&(Y(ie),oe=!1),ne=0},at=function(It,er,vt){pe[vt]+=It,Ie[vt]+=er,ie._vx.update(It),ie._vy.update(er),u?ne||(ne=requestAnimationFrame(xt)):xt()},St=function(It,er){ge&&!Ee&&(ie.axis=Ee=Math.abs(It)>Math.abs(er)?"x":"y",Se=!0),Ee!=="y"&&(pe[2]+=It,ie._vx.update(It,!0)),Ee!=="x"&&(Ie[2]+=er,ie._vy.update(er,!0)),u?ne||(ne=requestAnimationFrame(xt)):xt()},Xt=function(It){if(!Re(It,1)){It=lv(It,d);var er=It.clientX,vt=It.clientY,Lt=er-ie.x,Ft=vt-ie.y,Qt=ie.isDragging;ie.x=er,ie.y=vt,(Qt||(Lt||Ft)&&(Math.abs(ie.startX-er)>=i||Math.abs(ie.startY-vt)>=i))&&(V||(V=Qt?2:1),Qt||(ie.isDragging=!0),St(Lt,Ft))}},At=ie.onPress=function(zt){Re(zt,1)||zt&&zt.button||(ie.axis=Ee=null,Q.pause(),ie.isPressed=!0,zt=lv(zt),qe=He=0,ie.startX=ie.x=zt.clientX,ie.startY=ie.y=zt.clientY,ie._vx.reset(),ie._vy.reset(),Pi(K?l:_e,Zl[1],Xt,de,!0),ie.deltaX=ie.deltaY=0,j&&j(ie))},Pt=ie.onRelease=function(zt){if(!Re(zt,1)){Ai(K?l:_e,Zl[1],Xt,!0);var It=!isNaN(ie.y-ie.startY),er=ie.isDragging,vt=er&&(Math.abs(ie.x-ie.startX)>3||Math.abs(ie.y-ie.startY)>3),Lt=lv(zt);!vt&&It&&(ie._vx.reset(),ie._vy.reset(),d&&fe&&Za.delayedCall(.08,function(){if(ey()-De>300&&!zt.defaultPrevented){if(zt.target.click)zt.target.click();else if(_e.createEvent){var Ft=_e.createEvent("MouseEvents");Ft.initMouseEvent("click",!0,!0,Lo,1,Lt.screenX,Lt.screenY,Lt.clientX,Lt.clientY,!1,!1,!1,!1,0,null),zt.target.dispatchEvent(Ft)}}})),ie.isDragging=ie.isGesturing=ie.isPressed=!1,f&&er&&!K&&Q.restart(!0),V&&xt(),w&&er&&w(ie),E&&E(ie,vt)}},lr=function(It){return It.touches&&It.touches.length>1&&(ie.isGesturing=!0)&&I(It,ie.isDragging)},Pr=function(){return(ie.isGesturing=!1)||B(ie)},Mr=function(It){if(!Re(It)){var er=we(),vt=Oe();at((er-Ye)*ee,(vt-Je)*ee,1),Ye=er,Je=vt,f&&Q.restart(!0)}},en=function(It){if(!Re(It)){It=lv(It,d),Y&&(oe=!0);var er=(It.deltaMode===1?c:It.deltaMode===2?Lo.innerHeight:1)*y;at(It.deltaX*er,It.deltaY*er,0),f&&!K&&Q.restart(!0)}},An=function(It){if(!Re(It)){var er=It.clientX,vt=It.clientY,Lt=er-ie.x,Ft=vt-ie.y;ie.x=er,ie.y=vt,ue=!0,f&&Q.restart(!0),(Lt||Ft)&&St(Lt,Ft)}},Mt=function(It){ie.event=It,L(ie)},ar=function(It){ie.event=It,H(ie)},Or=function(It){return Re(It)||lv(It,d)&&X(ie)};Q=ie._dc=Za.delayedCall(m||.25,et).pause(),ie.deltaX=ie.deltaY=0,ie._vx=uD(0,50,!0),ie._vy=uD(0,50,!0),ie.scrollX=we,ie.scrollY=Oe,ie.isDragging=ie.isGesturing=ie.isPressed=!1,fee(this),ie.enable=function(zt){return ie.isEnabled||(Pi(te?_e:l,"scroll",cD),o.indexOf("scroll")>=0&&Pi(te?_e:l,"scroll",Mr,de,he),o.indexOf("wheel")>=0&&Pi(l,"wheel",en,de,he),(o.indexOf("touch")>=0&&uee||o.indexOf("pointer")>=0)&&(Pi(l,Zl[0],At,de,he),Pi(_e,Zl[2],Pt),Pi(_e,Zl[3],Pt),fe&&Pi(l,"click",le,!0,!0),X&&Pi(l,"click",Or),I&&Pi(_e,"gesturestart",lr),B&&Pi(_e,"gestureend",Pr),L&&Pi(l,Nh+"enter",Mt),H&&Pi(l,Nh+"leave",ar),W&&Pi(l,Nh+"move",An)),ie.isEnabled=!0,ie.isDragging=ie.isGesturing=ie.isPressed=ue=V=!1,ie._vx.reset(),ie._vy.reset(),Ye=we(),Je=Oe(),zt&&zt.type&&At(zt),z&&z(ie)),ie},ie.disable=function(){ie.isEnabled&&(vg.filter(function(zt){return zt!==ie&&ty(zt.target)}).length||Ai(te?_e:l,"scroll",cD),ie.isPressed&&(ie._vx.reset(),ie._vy.reset(),Ai(K?l:_e,Zl[1],Xt,!0)),Ai(te?_e:l,"scroll",Mr,he),Ai(l,"wheel",en,he),Ai(l,Zl[0],At,he),Ai(_e,Zl[2],Pt),Ai(_e,Zl[3],Pt),Ai(l,"click",le,!0),Ai(l,"click",Or),Ai(_e,"gesturestart",lr),Ai(_e,"gestureend",Pr),Ai(l,Nh+"enter",Mt),Ai(l,Nh+"leave",ar),Ai(l,Nh+"move",An),ie.isEnabled=ie.isPressed=ie.isDragging=!1,J&&J(ie))},ie.kill=ie.revert=function(){ie.disable();var zt=vg.indexOf(ie);zt>=0&&vg.splice(zt,1),Ou===ie&&(Ou=0)},vg.push(ie),K&&ty(l)&&(Ou=ie),ie.enable(g)},$1e(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e})();$s.version="3.14.2";$s.create=function(e){return new $s(e)};$s.register=gee;$s.getAll=function(){return vg.slice()};$s.getById=function(e){return vg.filter(function(t){return t.vars.id===e})[0]};hee()&&Za.registerPlugin($s);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vt,og,Vr,qn,Io,vn,YM,iN,Yy,ry,Pv,w_,li,b2,dD,Ri,K9,Y9,lg,xee,sT,vee,Oi,fD,yee,bee,Bd,hD,XM,Bg,JM,ny,mD,aT,__=1,ui=Date.now,iT=ui(),Pl=0,Ov=0,X9=function(t,r,n){var a=Ao(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?t.substr(6,t.length-7):t},J9=function(t,r){return r&&(!Ao(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},V1e=function e(){return Ov&&requestAnimationFrame(e)},Z9=function(){return b2=1},Q9=function(){return b2=0},Ic=function(t){return t},Rv=function(t){return Math.round(t*1e5)/1e5||0},wee=function(){return typeof window<"u"},_ee=function(){return Vt||wee()&&(Vt=window.gsap)&&Vt.registerPlugin&&Vt},pm=function(t){return!!~YM.indexOf(t)},jee=function(t){return(t==="Height"?JM:Vr["inner"+t])||Io["client"+t]||vn["client"+t]},Nee=function(t){return ff(t,"getBoundingClientRect")||(pm(t)?function(){return Aj.width=Vr.innerWidth,Aj.height=JM,Aj}:function(){return Au(t)})},z1e=function(t,r,n){var a=n.d,i=n.d2,o=n.a;return(o=ff(t,"getBoundingClientRect"))?function(){return o()[a]}:function(){return(r?jee(i):t["client"+i])||0}},q1e=function(t,r){return!r||~Hc.indexOf(t)?Nee(t):function(){return Aj}},Bc=function(t,r){var n=r.s,a=r.d2,i=r.d,o=r.a;return Math.max(0,(n="scroll"+a)&&(o=ff(t,n))?o()-Nee(t)()[i]:pm(t)?(Io[n]||vn[n])-jee(a):t[n]-t["offset"+a])},j_=function(t,r){for(var n=0;n<lg.length;n+=3)(!r||~r.indexOf(lg[n+1]))&&t(lg[n],lg[n+1],lg[n+2])},Ao=function(t){return typeof t=="string"},xi=function(t){return typeof t=="function"},Dv=function(t){return typeof t=="number"},Sh=function(t){return typeof t=="object"},cv=function(t,r,n){return t&&t.progress(r?0:1)&&n&&t.pause()},oT=function(t,r){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return r(t)}):r(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Fp=Math.abs,See="left",kee="top",ZM="right",QM="bottom",em="width",tm="height",sy="Right",ay="Left",iy="Top",oy="Bottom",Js="padding",bl="margin",c0="Width",e5="Height",xa="px",wl=function(t){return Vr.getComputedStyle(t)},W1e=function(t){var r=wl(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},eU=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},Au=function(t,r){var n=r&&wl(t)[dD]!=="matrix(1, 0, 0, 1, 0, 0)"&&Vt.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=t.getBoundingClientRect();return n&&n.progress(0).kill(),a},oN=function(t,r){var n=r.d2;return t["offset"+n]||t["client"+n]||0},Cee=function(t){var r=[],n=t.labels,a=t.duration(),i;for(i in n)r.push(n[i]/a);return r},H1e=function(t){return function(r){return Vt.utils.snap(Cee(t),r)}},t5=function(t){var r=Vt.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(a,i){return a-i});return n?function(a,i,o){o===void 0&&(o=.001);var l;if(!i)return r(a);if(i>0){for(a-=o,l=0;l<n.length;l++)if(n[l]>=a)return n[l];return n[l-1]}else for(l=n.length,a+=o;l--;)if(n[l]<=a)return n[l];return n[0]}:function(a,i,o){o===void 0&&(o=.001);var l=r(a);return!i||Math.abs(l-a)<o||l-a<0==i<0?l:r(i<0?a-t:a+t)}},G1e=function(t){return function(r,n){return t5(Cee(t))(r,n.direction)}},N_=function(t,r,n,a){return n.split(",").forEach(function(i){return t(r,i,a)})},Pa=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:!a,capture:!!i})},Aa=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},S_=function(t,r,n){n=n&&n.wheelHandler,n&&(t(r,"wheel",n),t(r,"touchmove",n))},tU={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},k_={toggleActions:"play",anticipatePin:0},lN={top:0,left:0,center:.5,bottom:1,right:1},kj=function(t,r){if(Ao(t)){var n=t.indexOf("="),a=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(a*=r/100),t=t.substr(0,n-1)),t=a+(t in lN?lN[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},C_=function(t,r,n,a,i,o,l,c){var u=i.startColor,d=i.endColor,f=i.fontSize,m=i.indent,p=i.fontWeight,y=qn.createElement("div"),g=pm(n)||ff(n,"pinType")==="fixed",v=t.indexOf("scroller")!==-1,w=g?vn:n,b=t.indexOf("start")!==-1,j=b?u:d,E="border-color:"+j+";font-size:"+f+";color:"+j+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(E+=(a===va?ZM:QM)+":"+(o+parseFloat(m))+"px;"),l&&(E+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),y._isStart=b,y.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),y.style.cssText=E,y.innerText=r||r===0?t+"-"+r:t,w.children[0]?w.insertBefore(y,w.children[0]):w.appendChild(y),y._offset=y["offset"+a.op.d2],Cj(y,0,a,b),y},Cj=function(t,r,n,a){var i={display:"block"},o=n[a?"os2":"p2"],l=n[a?"p2":"os2"];t._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+o+c0]=1,i["border"+l+c0]=0,i[n.p]=r+"px",Vt.set(t,i)},Fr=[],pD={},Xy,rU=function(){return ui()-Pl>34&&(Xy||(Xy=requestAnimationFrame(Bu)))},Lp=function(){(!Oi||!Oi.isPressed||Oi.startX>vn.clientWidth)&&(zr.cache++,Oi?Xy||(Xy=requestAnimationFrame(Bu)):Bu(),Pl||xm("scrollStart"),Pl=ui())},lT=function(){bee=Vr.innerWidth,yee=Vr.innerHeight},Iv=function(t){zr.cache++,(t===!0||!li&&!vee&&!qn.fullscreenElement&&!qn.webkitFullscreenElement&&(!fD||bee!==Vr.innerWidth||Math.abs(Vr.innerHeight-yee)>Vr.innerHeight*.25))&&iN.restart(!0)},gm={},K1e=[],Eee=function e(){return Aa(Tr,"scrollEnd",e)||$h(!0)},xm=function(t){return gm[t]&&gm[t].map(function(r){return r()})||K1e},To=[],Tee=function(t){for(var r=0;r<To.length;r+=5)(!t||To[r+4]&&To[r+4].query===t)&&(To[r].style.cssText=To[r+1],To[r].getBBox&&To[r].setAttribute("transform",To[r+2]||""),To[r+3].uncache=1)},Aee=function(){return zr.forEach(function(t){return xi(t)&&++t.cacheID&&(t.rec=t())})},r5=function(t,r){var n;for(Ri=0;Ri<Fr.length;Ri++)n=Fr[Ri],n&&(!r||n._ctx===r)&&(t?n.kill(1):n.revert(!0,!0));ny=!0,r&&Tee(r),r||xm("revert")},Pee=function(t,r){zr.cache++,(r||!Di)&&zr.forEach(function(n){return xi(n)&&n.cacheID++&&(n.rec=0)}),Ao(t)&&(Vr.history.scrollRestoration=XM=t)},Di,rm=0,nU,Y1e=function(){if(nU!==rm){var t=nU=rm;requestAnimationFrame(function(){return t===rm&&$h(!0)})}},Oee=function(){vn.appendChild(Bg),JM=!Oi&&Bg.offsetHeight||Vr.innerHeight,vn.removeChild(Bg)},sU=function(t){return Yy(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},$h=function(t,r){if(Io=qn.documentElement,vn=qn.body,YM=[Vr,qn,Io,vn],Pl&&!t&&!ny){Pa(Tr,"scrollEnd",Eee);return}Oee(),Di=Tr.isRefreshing=!0,ny||Aee();var n=xm("refreshInit");xee&&Tr.sort(),r||r5(),zr.forEach(function(a){xi(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),Fr.slice(0).forEach(function(a){return a.refresh()}),ny=!1,Fr.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",o=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-o),a.refresh()}}),mD=1,sU(!0),Fr.forEach(function(a){var i=Bc(a.scroller,a._dir),o=a.vars.end==="max"||a._endClamp&&a.end>i,l=a._startClamp&&a.start>=i;(o||l)&&a.setPositions(l?i-1:a.start,o?Math.max(l?i:a.start+1,i):a.end,!0)}),sU(!1),mD=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),zr.forEach(function(a){xi(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),Pee(XM,1),iN.pause(),rm++,Di=2,Bu(2),Fr.forEach(function(a){return xi(a.vars.onRefresh)&&a.vars.onRefresh(a)}),Di=Tr.isRefreshing=!1,xm("refresh")},gD=0,Ej=1,ly,Bu=function(t){if(t===2||!Di&&!ny){Tr.isUpdating=!0,ly&&ly.update(0);var r=Fr.length,n=ui(),a=n-iT>=50,i=r&&Fr[0].scroll();if(Ej=gD>i?-1:1,Di||(gD=i),a&&(Pl&&!b2&&n-Pl>200&&(Pl=0,xm("scrollEnd")),Pv=iT,iT=n),Ej<0){for(Ri=r;Ri-- >0;)Fr[Ri]&&Fr[Ri].update(0,a);Ej=1}else for(Ri=0;Ri<r;Ri++)Fr[Ri]&&Fr[Ri].update(0,a);Tr.isUpdating=!1}Xy=0},xD=[See,kee,QM,ZM,bl+oy,bl+sy,bl+iy,bl+ay,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Tj=xD.concat([em,tm,"boxSizing","max"+c0,"max"+e5,"position",bl,Js,Js+iy,Js+sy,Js+oy,Js+ay]),X1e=function(t,r,n){Ug(n);var a=t._gsap;if(a.spacerIsNative)Ug(a.spacerState);else if(t._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(t,r),i.removeChild(r))}t._gsap.swappedIn=!1},cT=function(t,r,n,a){if(!t._gsap.swappedIn){for(var i=xD.length,o=r.style,l=t.style,c;i--;)c=xD[i],o[c]=n[c];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),l[QM]=l[ZM]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[em]=oN(t,$i)+xa,o[tm]=oN(t,va)+xa,o[Js]=l[bl]=l[kee]=l[See]="0",Ug(a),l[em]=l["max"+c0]=n[em],l[tm]=l["max"+e5]=n[tm],l[Js]=n[Js],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},J1e=/([A-Z])/g,Ug=function(t){if(t){var r=t.t.style,n=t.length,a=0,i,o;for((t.t._gsap||Vt.core.getCache(t.t)).uncache=1;a<n;a+=2)o=t[a+1],i=t[a],o?r[i]=o:r[i]&&r.removeProperty(i.replace(J1e,"-$1").toLowerCase())}},E_=function(t){for(var r=Tj.length,n=t.style,a=[],i=0;i<r;i++)a.push(Tj[i],n[Tj[i]]);return a.t=t,a},Z1e=function(t,r,n){for(var a=[],i=t.length,o=n?8:0,l;o<i;o+=2)l=t[o],a.push(l,l in r?r[l]:t[o+1]);return a.t=t.t,a},Aj={left:0,top:0},aU=function(t,r,n,a,i,o,l,c,u,d,f,m,p,y){xi(t)&&(t=t(c)),Ao(t)&&t.substr(0,3)==="max"&&(t=m+(t.charAt(4)==="="?kj("0"+t.substr(3),n):0));var g=p?p.time():0,v,w,b;if(p&&p.seek(0),isNaN(t)||(t=+t),Dv(t))p&&(t=Vt.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,m,t)),l&&Cj(l,n,a,!0);else{xi(r)&&(r=r(c));var j=(t||"0").split(" "),E,S,C,k;b=oo(r,c)||vn,E=Au(b)||{},(!E||!E.left&&!E.top)&&wl(b).display==="none"&&(k=b.style.display,b.style.display="block",E=Au(b),k?b.style.display=k:b.style.removeProperty("display")),S=kj(j[0],E[a.d]),C=kj(j[1]||"0",n),t=E[a.p]-u[a.p]-d+S+i-C,l&&Cj(l,C,a,n-C<20||l._isStart&&C>20),n-=n-C}if(y&&(c[y]=t||-.001,t<0&&(t=0)),o){var R=t+n,O=o._isStart;v="scroll"+a.d2,Cj(o,R,a,O&&R>20||!O&&(f?Math.max(vn[v],Io[v]):o.parentNode[v])<=R+1),f&&(u=Au(l),f&&(o.style[a.op.p]=u[a.op.p]-a.op.m-o._offset+xa))}return p&&b&&(v=Au(b),p.seek(m),w=Au(b),p._caScrollDist=v[a.p]-w[a.p],t=t/p._caScrollDist*m),p&&p.seek(g),p?t:Math.round(t)},Q1e=/(webkit|moz|length|cssText|inset)/i,iU=function(t,r,n,a){if(t.parentNode!==r){var i=t.style,o,l;if(r===vn){t._stOrig=i.cssText,l=wl(t);for(o in l)!+o&&!Q1e.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=n,i.left=a}else i.cssText=t._stOrig;Vt.core.getCache(t).uncache=1,r.appendChild(t)}},Ree=function(t,r,n){var a=r,i=a;return function(o){var l=Math.round(t());return l!==a&&l!==i&&Math.abs(l-a)>3&&Math.abs(l-i)>3&&(o=l,n&&n()),i=a,a=Math.round(o),a}},T_=function(t,r,n){var a={};a[r.p]="+="+n,Vt.set(t,a)},oU=function(t,r){var n=Af(t,r),a="_scroll"+r.p2,i=function o(l,c,u,d,f){var m=o.tween,p=c.onComplete,y={};u=u||n();var g=Ree(n,u,function(){m.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,m&&m.kill(),c[a]=l,c.inherit=!1,c.modifiers=y,y[a]=function(){return g(u+d*m.ratio+f*m.ratio*m.ratio)},c.onUpdate=function(){zr.cache++,o.tween&&Bu()},c.onComplete=function(){o.tween=0,p&&p.call(m)},m=o.tween=Vt.to(t,c),m};return t[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Pa(t,"wheel",n.wheelHandler),Tr.isTouch&&Pa(t,"touchmove",n.wheelHandler),i},Tr=(function(){function e(r,n){og||e.register(Vt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),hD(this),this.init(r,n)}var t=e.prototype;return t.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Ov){this.update=this.refresh=this.kill=Ic;return}n=eU(Ao(n)||Dv(n)||n.nodeType?{trigger:n}:n,k_);var i=n,o=i.onUpdate,l=i.toggleClass,c=i.id,u=i.onToggle,d=i.onRefresh,f=i.scrub,m=i.trigger,p=i.pin,y=i.pinSpacing,g=i.invalidateOnRefresh,v=i.anticipatePin,w=i.onScrubComplete,b=i.onSnapComplete,j=i.once,E=i.snap,S=i.pinReparent,C=i.pinSpacer,k=i.containerAnimation,R=i.fastScrollEnd,O=i.preventOverlaps,A=n.horizontal||n.containerAnimation&&n.horizontal!==!1?$i:va,P=!f&&f!==0,D=oo(n.scroller||Vr),F=Vt.core.getCache(D),L=pm(D),H=("pinType"in n?n.pinType:ff(D,"pinType")||L&&"fixed")==="fixed",W=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],G=P&&n.toggleActions.split(" "),K="markers"in n?n.markers:k_.markers,I=L?0:parseFloat(wl(D)["border"+A.p2+c0])||0,B=this,Y=n.onRefreshInit&&function(){return n.onRefreshInit(B)},z=z1e(D,L,A),J=q1e(D,L),X=0,ee=0,he=0,fe=Af(D,A),ge,U,ne,Q,V,ue,oe,Se,Ee,ie,qe,He,de,we,Oe,Ye,Je,Ne,te,_e,pe,Ie,De,le,Re,et,xt,at,St,Xt,At,Pt,lr,Pr,Mr,en,An,Mt,ar;if(B._startClamp=B._endClamp=!1,B._dir=A,v*=45,B.scroller=D,B.scroll=k?k.time.bind(k):fe,Q=fe(),B.vars=n,a=a||n.animation,"refreshPriority"in n&&(xee=1,n.refreshPriority===-9999&&(ly=B)),F.tweenScroll=F.tweenScroll||{top:oU(D,va),left:oU(D,$i)},B.tweenTo=ge=F.tweenScroll[A.p],B.scrubDuration=function(vt){lr=Dv(vt)&&vt,lr?Pt?Pt.duration(vt):Pt=Vt.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:lr,paused:!0,onComplete:function(){return w&&w(B)}}):(Pt&&Pt.progress(1).kill(),Pt=0)},a&&(a.vars.lazy=!1,a._initted&&!B.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),B.animation=a.pause(),a.scrollTrigger=B,B.scrubDuration(f),Xt=0,c||(c=a.vars.id)),E&&((!Sh(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in vn.style&&Vt.set(L?[vn,Io]:D,{scrollBehavior:"auto"}),zr.forEach(function(vt){return xi(vt)&&vt.target===(L?qn.scrollingElement||Io:D)&&(vt.smooth=!1)}),ne=xi(E.snapTo)?E.snapTo:E.snapTo==="labels"?H1e(a):E.snapTo==="labelsDirectional"?G1e(a):E.directional!==!1?function(vt,Lt){return t5(E.snapTo)(vt,ui()-ee<500?0:Lt.direction)}:Vt.utils.snap(E.snapTo),Pr=E.duration||{min:.1,max:2},Pr=Sh(Pr)?ry(Pr.min,Pr.max):ry(Pr,Pr),Mr=Vt.delayedCall(E.delay||lr/2||.1,function(){var vt=fe(),Lt=ui()-ee<500,Ft=ge.tween;if((Lt||Math.abs(B.getVelocity())<10)&&!Ft&&!b2&&X!==vt){var Qt=(vt-ue)/we,Yn=a&&!P?a.totalProgress():Qt,re=Lt?0:(Yn-At)/(ui()-Pv)*1e3||0,ve=Vt.utils.clamp(-Qt,1-Qt,Fp(re/2)*re/.185),me=Qt+(E.inertia===!1?0:ve),xe,be,ye=E,Le=ye.onStart,We=ye.onInterrupt,Me=ye.onComplete;if(xe=ne(me,B),Dv(xe)||(xe=me),be=Math.max(0,Math.round(ue+xe*we)),vt<=oe&&vt>=ue&&be!==vt){if(Ft&&!Ft._initted&&Ft.data<=Fp(be-vt))return;E.inertia===!1&&(ve=xe-Qt),ge(be,{duration:Pr(Fp(Math.max(Fp(me-Yn),Fp(xe-Yn))*.185/re/.05||0)),ease:E.ease||"power3",data:Fp(be-vt),onInterrupt:function(){return Mr.restart(!0)&&We&&We(B)},onComplete:function(){B.update(),X=fe(),a&&!P&&(Pt?Pt.resetTo("totalProgress",xe,a._tTime/a._tDur):a.progress(xe)),Xt=At=a&&!P?a.totalProgress():B.progress,b&&b(B),Me&&Me(B)}},vt,ve*we,be-vt-ve*we),Le&&Le(B,ge.tween)}}else B.isActive&&X!==vt&&Mr.restart(!0)}).pause()),c&&(pD[c]=B),m=B.trigger=oo(m||p!==!0&&p),ar=m&&m._gsap&&m._gsap.stRevert,ar&&(ar=ar(B)),p=p===!0?m:oo(p),Ao(l)&&(l={targets:m,className:l}),p&&(y===!1||y===bl||(y=!y&&p.parentNode&&p.parentNode.style&&wl(p.parentNode).display==="flex"?!1:Js),B.pin=p,U=Vt.core.getCache(p),U.spacer?Oe=U.pinState:(C&&(C=oo(C),C&&!C.nodeType&&(C=C.current||C.nativeElement),U.spacerIsNative=!!C,C&&(U.spacerState=E_(C))),U.spacer=Ne=C||qn.createElement("div"),Ne.classList.add("pin-spacer"),c&&Ne.classList.add("pin-spacer-"+c),U.pinState=Oe=E_(p)),n.force3D!==!1&&Vt.set(p,{force3D:!0}),B.spacer=Ne=U.spacer,St=wl(p),le=St[y+A.os2],_e=Vt.getProperty(p),pe=Vt.quickSetter(p,A.a,xa),cT(p,Ne,St),Je=E_(p)),K){He=Sh(K)?eU(K,tU):tU,ie=C_("scroller-start",c,D,A,He,0),qe=C_("scroller-end",c,D,A,He,0,ie),te=ie["offset"+A.op.d2];var Or=oo(ff(D,"content")||D);Se=this.markerStart=C_("start",c,Or,A,He,te,0,k),Ee=this.markerEnd=C_("end",c,Or,A,He,te,0,k),k&&(Mt=Vt.quickSetter([Se,Ee],A.a,xa)),!H&&!(Hc.length&&ff(D,"fixedMarkers")===!0)&&(W1e(L?vn:D),Vt.set([ie,qe],{force3D:!0}),et=Vt.quickSetter(ie,A.a,xa),at=Vt.quickSetter(qe,A.a,xa))}if(k){var zt=k.vars.onUpdate,It=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){B.update(0,0,1),zt&&zt.apply(k,It||[])})}if(B.previous=function(){return Fr[Fr.indexOf(B)-1]},B.next=function(){return Fr[Fr.indexOf(B)+1]},B.revert=function(vt,Lt){if(!Lt)return B.kill(!0);var Ft=vt!==!1||!B.enabled,Qt=li;Ft!==B.isReverted&&(Ft&&(en=Math.max(fe(),B.scroll.rec||0),he=B.progress,An=a&&a.progress()),Se&&[Se,Ee,ie,qe].forEach(function(Yn){return Yn.style.display=Ft?"none":"block"}),Ft&&(li=B,B.update(Ft)),p&&(!S||!B.isActive)&&(Ft?X1e(p,Ne,Oe):cT(p,Ne,wl(p),Re)),Ft||B.update(Ft),li=Qt,B.isReverted=Ft)},B.refresh=function(vt,Lt,Ft,Qt){if(!((li||!B.enabled)&&!Lt)){if(p&&vt&&Pl){Pa(e,"scrollEnd",Eee);return}!Di&&Y&&Y(B),li=B,ge.tween&&!Ft&&(ge.tween.kill(),ge.tween=0),Pt&&Pt.pause(),g&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren?a.getChildren(!0,!0,!1).forEach(function(Ji){return Ji.vars.immediateRender&&Ji.render(0,!0,!0)}):a.vars.immediateRender&&a.render(0,!0,!0)),B.isReverted||B.revert(!0,!0),B._subPinOffset=!1;var Yn=z(),re=J(),ve=k?k.duration():Bc(D,A),me=we<=.01||!we,xe=0,be=Qt||0,ye=Sh(Ft)?Ft.end:n.end,Le=n.endTrigger||m,We=Sh(Ft)?Ft.start:n.start||(n.start===0||!m?0:p?"0 0":"0 100%"),Me=B.pinnedContainer=n.pinnedContainer&&oo(n.pinnedContainer,B),Ue=m&&Math.max(0,Fr.indexOf(B))||0,$e=Ue,st,mt,Ct,gt,it,Ut,Br,pn,ss,_o,ua,ri,us;for(K&&Sh(Ft)&&(ri=Vt.getProperty(ie,A.p),us=Vt.getProperty(qe,A.p));$e-- >0;)Ut=Fr[$e],Ut.end||Ut.refresh(0,1)||(li=B),Br=Ut.pin,Br&&(Br===m||Br===p||Br===Me)&&!Ut.isReverted&&(_o||(_o=[]),_o.unshift(Ut),Ut.revert(!0,!0)),Ut!==Fr[$e]&&(Ue--,$e--);for(xi(We)&&(We=We(B)),We=X9(We,"start",B),ue=aU(We,m,Yn,A,fe(),Se,ie,B,re,I,H,ve,k,B._startClamp&&"_startClamp")||(p?-.001:0),xi(ye)&&(ye=ye(B)),Ao(ye)&&!ye.indexOf("+=")&&(~ye.indexOf(" ")?ye=(Ao(We)?We.split(" ")[0]:"")+ye:(xe=kj(ye.substr(2),Yn),ye=Ao(We)?We:(k?Vt.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,ue):ue)+xe,Le=m)),ye=X9(ye,"end",B),oe=Math.max(ue,aU(ye||(Le?"100% 0":ve),Le,Yn,A,fe()+xe,Ee,qe,B,re,I,H,ve,k,B._endClamp&&"_endClamp"))||-.001,xe=0,$e=Ue;$e--;)Ut=Fr[$e]||{},Br=Ut.pin,Br&&Ut.start-Ut._pinPush<=ue&&!k&&Ut.end>0&&(st=Ut.end-(B._startClamp?Math.max(0,Ut.start):Ut.start),(Br===m&&Ut.start-Ut._pinPush<ue||Br===Me)&&isNaN(We)&&(xe+=st*(1-Ut.progress)),Br===p&&(be+=st));if(ue+=xe,oe+=xe,B._startClamp&&(B._startClamp+=xe),B._endClamp&&!Di&&(B._endClamp=oe||-.001,oe=Math.min(oe,Bc(D,A))),we=oe-ue||(ue-=.01)&&.001,me&&(he=Vt.utils.clamp(0,1,Vt.utils.normalize(ue,oe,en))),B._pinPush=be,Se&&xe&&(st={},st[A.a]="+="+xe,Me&&(st[A.p]="-="+fe()),Vt.set([Se,Ee],st)),p&&!(mD&&B.end>=Bc(D,A)))st=wl(p),gt=A===va,Ct=fe(),Ie=parseFloat(_e(A.a))+be,!ve&&oe>1&&(ua=(L?qn.scrollingElement||Io:D).style,ua={style:ua,value:ua["overflow"+A.a.toUpperCase()]},L&&wl(vn)["overflow"+A.a.toUpperCase()]!=="scroll"&&(ua.style["overflow"+A.a.toUpperCase()]="scroll")),cT(p,Ne,st),Je=E_(p),mt=Au(p,!0),pn=H&&Af(D,gt?$i:va)(),y?(Re=[y+A.os2,we+be+xa],Re.t=Ne,$e=y===Js?oN(p,A)+we+be:0,$e&&(Re.push(A.d,$e+xa),Ne.style.flexBasis!=="auto"&&(Ne.style.flexBasis=$e+xa)),Ug(Re),Me&&Fr.forEach(function(Ji){Ji.pin===Me&&Ji.vars.pinSpacing!==!1&&(Ji._subPinOffset=!0)}),H&&fe(en)):($e=oN(p,A),$e&&Ne.style.flexBasis!=="auto"&&(Ne.style.flexBasis=$e+xa)),H&&(it={top:mt.top+(gt?Ct-ue:pn)+xa,left:mt.left+(gt?pn:Ct-ue)+xa,boxSizing:"border-box",position:"fixed"},it[em]=it["max"+c0]=Math.ceil(mt.width)+xa,it[tm]=it["max"+e5]=Math.ceil(mt.height)+xa,it[bl]=it[bl+iy]=it[bl+sy]=it[bl+oy]=it[bl+ay]="0",it[Js]=st[Js],it[Js+iy]=st[Js+iy],it[Js+sy]=st[Js+sy],it[Js+oy]=st[Js+oy],it[Js+ay]=st[Js+ay],Ye=Z1e(Oe,it,S),Di&&fe(0)),a?(ss=a._initted,sT(1),a.render(a.duration(),!0,!0),De=_e(A.a)-Ie+we+be,xt=Math.abs(we-De)>1,H&&xt&&Ye.splice(Ye.length-2,2),a.render(0,!0,!0),ss||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),sT(0)):De=we,ua&&(ua.value?ua.style["overflow"+A.a.toUpperCase()]=ua.value:ua.style.removeProperty("overflow-"+A.a));else if(m&&fe()&&!k)for(mt=m.parentNode;mt&&mt!==vn;)mt._pinOffset&&(ue-=mt._pinOffset,oe-=mt._pinOffset),mt=mt.parentNode;_o&&_o.forEach(function(Ji){return Ji.revert(!1,!0)}),B.start=ue,B.end=oe,Q=V=Di?en:fe(),!k&&!Di&&(Q<en&&fe(en),B.scroll.rec=0),B.revert(!1,!0),ee=ui(),Mr&&(X=-1,Mr.restart(!0)),li=0,a&&P&&(a._initted||An)&&a.progress()!==An&&a.progress(An||0,!0).render(a.time(),!0,!0),(me||he!==B.progress||k||g||a&&!a._initted)&&(a&&!P&&(a._initted||he||a.vars.immediateRender!==!1)&&a.totalProgress(k&&ue<-.001&&!he?Vt.utils.normalize(ue,oe,0):he,!0),B.progress=me||(Q-ue)/we===he?0:he),p&&y&&(Ne._pinOffset=Math.round(B.progress*De)),Pt&&Pt.invalidate(),isNaN(ri)||(ri-=Vt.getProperty(ie,A.p),us-=Vt.getProperty(qe,A.p),T_(ie,A,ri),T_(Se,A,ri-(Qt||0)),T_(qe,A,us),T_(Ee,A,us-(Qt||0))),me&&!Di&&B.update(),d&&!Di&&!de&&(de=!0,d(B),de=!1)}},B.getVelocity=function(){return(fe()-V)/(ui()-Pv)*1e3||0},B.endAnimation=function(){cv(B.callbackAnimation),a&&(Pt?Pt.progress(1):a.paused()?P||cv(a,B.direction<0,1):cv(a,a.reversed()))},B.labelToScroll=function(vt){return a&&a.labels&&(ue||B.refresh()||ue)+a.labels[vt]/a.duration()*we||0},B.getTrailing=function(vt){var Lt=Fr.indexOf(B),Ft=B.direction>0?Fr.slice(0,Lt).reverse():Fr.slice(Lt+1);return(Ao(vt)?Ft.filter(function(Qt){return Qt.vars.preventOverlaps===vt}):Ft).filter(function(Qt){return B.direction>0?Qt.end<=ue:Qt.start>=oe})},B.update=function(vt,Lt,Ft){if(!(k&&!Ft&&!vt)){var Qt=Di===!0?en:B.scroll(),Yn=vt?0:(Qt-ue)/we,re=Yn<0?0:Yn>1?1:Yn||0,ve=B.progress,me,xe,be,ye,Le,We,Me,Ue;if(Lt&&(V=Q,Q=k?fe():Qt,E&&(At=Xt,Xt=a&&!P?a.totalProgress():re)),v&&p&&!li&&!__&&Pl&&(!re&&ue<Qt+(Qt-V)/(ui()-Pv)*v?re=1e-4:re===1&&oe>Qt+(Qt-V)/(ui()-Pv)*v&&(re=.9999)),re!==ve&&B.enabled){if(me=B.isActive=!!re&&re<1,xe=!!ve&&ve<1,We=me!==xe,Le=We||!!re!=!!ve,B.direction=re>ve?1:-1,B.progress=re,Le&&!li&&(be=re&&!ve?0:re===1?1:ve===1?2:3,P&&(ye=!We&&G[be+1]!=="none"&&G[be+1]||G[be],Ue=a&&(ye==="complete"||ye==="reset"||ye in a))),O&&(We||Ue)&&(Ue||f||!a)&&(xi(O)?O(B):B.getTrailing(O).forEach(function(Ct){return Ct.endAnimation()})),P||(Pt&&!li&&!__?(Pt._dp._time-Pt._start!==Pt._time&&Pt.render(Pt._dp._time-Pt._start),Pt.resetTo?Pt.resetTo("totalProgress",re,a._tTime/a._tDur):(Pt.vars.totalProgress=re,Pt.invalidate().restart())):a&&a.totalProgress(re,!!(li&&(ee||vt)))),p){if(vt&&y&&(Ne.style[y+A.os2]=le),!H)pe(Rv(Ie+De*re));else if(Le){if(Me=!vt&&re>ve&&oe+1>Qt&&Qt+1>=Bc(D,A),S)if(!vt&&(me||Me)){var $e=Au(p,!0),st=Qt-ue;iU(p,vn,$e.top+(A===va?st:0)+xa,$e.left+(A===va?0:st)+xa)}else iU(p,Ne);Ug(me||Me?Ye:Je),xt&&re<1&&me||pe(Ie+(re===1&&!Me?De:0))}}E&&!ge.tween&&!li&&!__&&Mr.restart(!0),l&&(We||j&&re&&(re<1||!aT))&&Yy(l.targets).forEach(function(Ct){return Ct.classList[me||j?"add":"remove"](l.className)}),o&&!P&&!vt&&o(B),Le&&!li?(P&&(Ue&&(ye==="complete"?a.pause().totalProgress(1):ye==="reset"?a.restart(!0).pause():ye==="restart"?a.restart(!0):a[ye]()),o&&o(B)),(We||!aT)&&(u&&We&&oT(B,u),W[be]&&oT(B,W[be]),j&&(re===1?B.kill(!1,1):W[be]=0),We||(be=re===1?1:3,W[be]&&oT(B,W[be]))),R&&!me&&Math.abs(B.getVelocity())>(Dv(R)?R:2500)&&(cv(B.callbackAnimation),Pt?Pt.progress(1):cv(a,ye==="reverse"?1:!re,1))):P&&o&&!li&&o(B)}if(at){var mt=k?Qt/k.duration()*(k._caScrollDist||0):Qt;et(mt+(ie._isFlipped?1:0)),at(mt)}Mt&&Mt(-Qt/k.duration()*(k._caScrollDist||0))}},B.enable=function(vt,Lt){B.enabled||(B.enabled=!0,Pa(D,"resize",Iv),L||Pa(D,"scroll",Lp),Y&&Pa(e,"refreshInit",Y),vt!==!1&&(B.progress=he=0,Q=V=X=fe()),Lt!==!1&&B.refresh())},B.getTween=function(vt){return vt&&ge?ge.tween:Pt},B.setPositions=function(vt,Lt,Ft,Qt){if(k){var Yn=k.scrollTrigger,re=k.duration(),ve=Yn.end-Yn.start;vt=Yn.start+ve*vt/re,Lt=Yn.start+ve*Lt/re}B.refresh(!1,!1,{start:J9(vt,Ft&&!!B._startClamp),end:J9(Lt,Ft&&!!B._endClamp)},Qt),B.update()},B.adjustPinSpacing=function(vt){if(Re&&vt){var Lt=Re.indexOf(A.d)+1;Re[Lt]=parseFloat(Re[Lt])+vt+xa,Re[1]=parseFloat(Re[1])+vt+xa,Ug(Re)}},B.disable=function(vt,Lt){if(vt!==!1&&B.revert(!0,!0),B.enabled&&(B.enabled=B.isActive=!1,Lt||Pt&&Pt.pause(),en=0,U&&(U.uncache=1),Y&&Aa(e,"refreshInit",Y),Mr&&(Mr.pause(),ge.tween&&ge.tween.kill()&&(ge.tween=0)),!L)){for(var Ft=Fr.length;Ft--;)if(Fr[Ft].scroller===D&&Fr[Ft]!==B)return;Aa(D,"resize",Iv),L||Aa(D,"scroll",Lp)}},B.kill=function(vt,Lt){B.disable(vt,Lt),Pt&&!Lt&&Pt.kill(),c&&delete pD[c];var Ft=Fr.indexOf(B);Ft>=0&&Fr.splice(Ft,1),Ft===Ri&&Ej>0&&Ri--,Ft=0,Fr.forEach(function(Qt){return Qt.scroller===B.scroller&&(Ft=1)}),Ft||Di||(B.scroll.rec=0),a&&(a.scrollTrigger=null,vt&&a.revert({kill:!1}),Lt||a.kill()),Se&&[Se,Ee,ie,qe].forEach(function(Qt){return Qt.parentNode&&Qt.parentNode.removeChild(Qt)}),ly===B&&(ly=0),p&&(U&&(U.uncache=1),Ft=0,Fr.forEach(function(Qt){return Qt.pin===p&&Ft++}),Ft||(U.spacer=0)),n.onKill&&n.onKill(B)},Fr.push(B),B.enable(!1,!1),ar&&ar(B),a&&a.add&&!we){var er=B.update;B.update=function(){B.update=er,zr.cache++,ue||oe||B.refresh()},Vt.delayedCall(.01,B.update),we=.01,ue=oe=0}else B.refresh();p&&Y1e()},e.register=function(n){return og||(Vt=n||_ee(),wee()&&window.document&&e.enable(),og=Ov),og},e.defaults=function(n){if(n)for(var a in n)k_[a]=n[a];return k_},e.disable=function(n,a){Ov=0,Fr.forEach(function(o){return o[a?"kill":"disable"](n)}),Aa(Vr,"wheel",Lp),Aa(qn,"scroll",Lp),clearInterval(w_),Aa(qn,"touchcancel",Ic),Aa(vn,"touchstart",Ic),N_(Aa,qn,"pointerdown,touchstart,mousedown",Z9),N_(Aa,qn,"pointerup,touchend,mouseup",Q9),iN.kill(),j_(Aa);for(var i=0;i<zr.length;i+=3)S_(Aa,zr[i],zr[i+1]),S_(Aa,zr[i],zr[i+2])},e.enable=function(){if(Vr=window,qn=document,Io=qn.documentElement,vn=qn.body,Vt&&(Yy=Vt.utils.toArray,ry=Vt.utils.clamp,hD=Vt.core.context||Ic,sT=Vt.core.suppressOverwrites||Ic,XM=Vr.history.scrollRestoration||"auto",gD=Vr.pageYOffset||0,Vt.core.globals("ScrollTrigger",e),vn)){Ov=1,Bg=document.createElement("div"),Bg.style.height="100vh",Bg.style.position="absolute",Oee(),V1e(),$s.register(Vt),e.isTouch=$s.isTouch,Bd=$s.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),fD=$s.isTouch===1,Pa(Vr,"wheel",Lp),YM=[Vr,qn,Io,vn],Vt.matchMedia?(e.matchMedia=function(u){var d=Vt.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},Vt.addEventListener("matchMediaInit",function(){Aee(),r5()}),Vt.addEventListener("matchMediaRevert",function(){return Tee()}),Vt.addEventListener("matchMedia",function(){$h(0,1),xm("matchMedia")}),Vt.matchMedia().add("(orientation: portrait)",function(){return lT(),lT})):console.warn("Requires GSAP 3.11.0 or later"),lT(),Pa(qn,"scroll",Lp);var n=vn.hasAttribute("style"),a=vn.style,i=a.borderTopStyle,o=Vt.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",l=Au(vn),va.m=Math.round(l.top+va.sc())||0,$i.m=Math.round(l.left+$i.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(vn.setAttribute("style",""),vn.removeAttribute("style")),w_=setInterval(rU,250),Vt.delayedCall(.5,function(){return __=0}),Pa(qn,"touchcancel",Ic),Pa(vn,"touchstart",Ic),N_(Pa,qn,"pointerdown,touchstart,mousedown",Z9),N_(Pa,qn,"pointerup,touchend,mouseup",Q9),dD=Vt.utils.checkPrefix("transform"),Tj.push(dD),og=ui(),iN=Vt.delayedCall(.2,$h).pause(),lg=[qn,"visibilitychange",function(){var u=Vr.innerWidth,d=Vr.innerHeight;qn.hidden?(K9=u,Y9=d):(K9!==u||Y9!==d)&&Iv()},qn,"DOMContentLoaded",$h,Vr,"load",$h,Vr,"resize",Iv],j_(Pa),Fr.forEach(function(u){return u.enable(0,1)}),c=0;c<zr.length;c+=3)S_(Aa,zr[c],zr[c+1]),S_(Aa,zr[c],zr[c+2])}},e.config=function(n){"limitCallbacks"in n&&(aT=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(w_)||(w_=a)&&setInterval(rU,a),"ignoreMobileResize"in n&&(fD=e.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(j_(Aa)||j_(Pa,n.autoRefreshEvents||"none"),vee=(n.autoRefreshEvents+"").indexOf("resize")===-1)},e.scrollerProxy=function(n,a){var i=oo(n),o=zr.indexOf(i),l=pm(i);~o&&zr.splice(o,l?6:2),a&&(l?Hc.unshift(Vr,a,vn,a,Io,a):Hc.unshift(i,a))},e.clearMatchMedia=function(n){Fr.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},e.isInViewport=function(n,a,i){var o=(Ao(n)?oo(n):n).getBoundingClientRect(),l=o[i?em:tm]*a||0;return i?o.right-l>0&&o.left+l<Vr.innerWidth:o.bottom-l>0&&o.top+l<Vr.innerHeight},e.positionInViewport=function(n,a,i){Ao(n)&&(n=oo(n));var o=n.getBoundingClientRect(),l=o[i?em:tm],c=a==null?l/2:a in lN?lN[a]*l:~a.indexOf("%")?parseFloat(a)*l/100:parseFloat(a)||0;return i?(o.left+c)/Vr.innerWidth:(o.top+c)/Vr.innerHeight},e.killAll=function(n){if(Fr.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=gm.killAll||[];gm={},a.forEach(function(i){return i()})}},e})();Tr.version="3.14.2";Tr.saveStyles=function(e){return e?Yy(e).forEach(function(t){if(t&&t.style){var r=To.indexOf(t);r>=0&&To.splice(r,5),To.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Vt.core.getCache(t),hD())}}):To};Tr.revert=function(e,t){return r5(!e,t)};Tr.create=function(e,t){return new Tr(e,t)};Tr.refresh=function(e){return e?Iv(!0):(og||Tr.register())&&$h(!0)};Tr.update=function(e){return++zr.cache&&Bu(e===!0?2:0)};Tr.clearScrollMemory=Pee;Tr.maxScroll=function(e,t){return Bc(e,t?$i:va)};Tr.getScrollFunc=function(e,t){return Af(oo(e),t?$i:va)};Tr.getById=function(e){return pD[e]};Tr.getAll=function(){return Fr.filter(function(e){return e.vars.id!=="ScrollSmoother"})};Tr.isScrolling=function(){return!!Pl};Tr.snapDirectional=t5;Tr.addEventListener=function(e,t){var r=gm[e]||(gm[e]=[]);~r.indexOf(t)||r.push(t)};Tr.removeEventListener=function(e,t){var r=gm[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};Tr.batch=function(e,t){var r=[],n={},a=t.interval||.016,i=t.batchMax||1e9,o=function(u,d){var f=[],m=[],p=Vt.delayedCall(a,function(){d(f,m),f=[],m=[]}).pause();return function(y){f.length||p.restart(!0),f.push(y.trigger),m.push(y),i<=f.length&&p.progress(1)}},l;for(l in t)n[l]=l.substr(0,2)==="on"&&xi(t[l])&&l!=="onRefreshInit"?o(l,t[l]):t[l];return xi(i)&&(i=i(),Pa(Tr,"refresh",function(){return i=t.batchMax()})),Yy(e).forEach(function(c){var u={};for(l in n)u[l]=n[l];u.trigger=c,r.push(Tr.create(u))}),r};var lU=function(t,r,n,a){return r>a?t(a):r<0&&t(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},uT=function e(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+($s.isTouch?" pinch-zoom":""):"none",t===Io&&e(vn,r)},A_={auto:1,scroll:1},e_e=function(t){var r=t.event,n=t.target,a=t.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,o=i._gsap||Vt.core.getCache(i),l=ui(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==vn&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(A_[(c=wl(i)).overflowY]||A_[c.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==n&&!pm(i)&&(A_[(c=wl(i)).overflowY]||A_[c.overflowX]),o._isScrollT=l}(o._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},Dee=function(t,r,n,a){return $s.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&e_e,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&Pa(qn,$s.eventTypes[0],uU,!1,!0)},onDisable:function(){return Aa(qn,$s.eventTypes[0],uU,!0)}})},t_e=/(input|label|select|textarea)/i,cU,uU=function(t){var r=t_e.test(t.target.tagName);(r||cU)&&(t._gsapAllow=!0,cU=r)},r_e=function(t){Sh(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,n=r.normalizeScrollX,a=r.momentum,i=r.allowNestedScroll,o=r.onRelease,l,c,u=oo(t.target)||Io,d=Vt.core.globals().ScrollSmoother,f=d&&d.get(),m=Bd&&(t.content&&oo(t.content)||f&&t.content!==!1&&!f.smooth()&&f.content()),p=Af(u,va),y=Af(u,$i),g=1,v=($s.isTouch&&Vr.visualViewport?Vr.visualViewport.scale*Vr.visualViewport.width:Vr.outerWidth)/Vr.innerWidth,w=0,b=xi(a)?function(){return a(l)}:function(){return a||2.8},j,E,S=Dee(u,t.type,!0,i),C=function(){return E=!1},k=Ic,R=Ic,O=function(){c=Bc(u,va),R=ry(Bd?1:0,c),n&&(k=ry(0,Bc(u,$i))),j=rm},A=function(){m._gsap.y=Rv(parseFloat(m._gsap.y)+p.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},P=function(){if(E){requestAnimationFrame(C);var K=Rv(l.deltaY/2),I=R(p.v-K);if(m&&I!==p.v+p.offset){p.offset=I-p.v;var B=Rv((parseFloat(m&&m._gsap.y)||0)-p.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+B+", 0, 1)",m._gsap.y=B+"px",p.cacheID=zr.cache,Bu()}return!0}p.offset&&A(),E=!0},D,F,L,H,W=function(){O(),D.isActive()&&D.vars.scrollY>c&&(p()>c?D.progress(1)&&p(c):D.resetTo("scrollY",c))};return m&&Vt.set(m,{y:"+=0"}),t.ignoreCheck=function(G){return Bd&&G.type==="touchmove"&&P()||g>1.05&&G.type!=="touchstart"||l.isGesturing||G.touches&&G.touches.length>1},t.onPress=function(){E=!1;var G=g;g=Rv((Vr.visualViewport&&Vr.visualViewport.scale||1)/v),D.pause(),G!==g&&uT(u,g>1.01?!0:n?!1:"x"),F=y(),L=p(),O(),j=rm},t.onRelease=t.onGestureStart=function(G,K){if(p.offset&&A(),!K)H.restart(!0);else{zr.cache++;var I=b(),B,Y;n&&(B=y(),Y=B+I*.05*-G.velocityX/.227,I*=lU(y,B,Y,Bc(u,$i)),D.vars.scrollX=k(Y)),B=p(),Y=B+I*.05*-G.velocityY/.227,I*=lU(p,B,Y,Bc(u,va)),D.vars.scrollY=R(Y),D.invalidate().duration(I).play(.01),(Bd&&D.vars.scrollY>=c||B>=c-1)&&Vt.to({},{onUpdate:W,duration:I})}o&&o(G)},t.onWheel=function(){D._ts&&D.pause(),ui()-w>1e3&&(j=0,w=ui())},t.onChange=function(G,K,I,B,Y){if(rm!==j&&O(),K&&n&&y(k(B[2]===K?F+(G.startX-G.x):y()+K-B[1])),I){p.offset&&A();var z=Y[2]===I,J=z?L+G.startY-G.y:p()+I-Y[1],X=R(J);z&&J!==X&&(L+=X-J),p(X)}(I||K)&&Bu()},t.onEnable=function(){uT(u,n?!1:"x"),Tr.addEventListener("refresh",W),Pa(Vr,"resize",W),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),S.enable()},t.onDisable=function(){uT(u,!0),Aa(Vr,"resize",W),Tr.removeEventListener("refresh",W),S.kill()},t.lockAxis=t.lockAxis!==!1,l=new $s(t),l.iOS=Bd,Bd&&!p()&&p(1),Bd&&Vt.ticker.add(Ic),H=l._dc,D=Vt.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ree(p,p(),function(){return D.pause()})},onUpdate:Bu,onComplete:H.vars.onComplete}),l};Tr.sort=function(e){if(xi(e))return Fr.sort(e);var t=Vr.pageYOffset||0;return Tr.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+Vr.innerHeight}),Fr.sort(e||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Tr.observe=function(e){return new $s(e)};Tr.normalizeScroll=function(e){if(typeof e>"u")return Oi;if(e===!0&&Oi)return Oi.enable();if(e===!1){Oi&&Oi.kill(),Oi=e;return}var t=e instanceof $s?e:r_e(e);return Oi&&Oi.target===t.target&&Oi.kill(),pm(t.target)&&(Oi=t),t};Tr.core={_getVelocityProp:uD,_inputObserver:Dee,_scrollers:zr,_proxies:Hc,bridge:{ss:function(){Pl||xm("scrollStart"),Pl=ui()},ref:function(){return li}}};_ee()&&Vt.registerPlugin(Tr);Fn.registerPlugin(Tr);const n_e=()=>{const e=_.useRef(null),t=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{const n=i=>{i.preventDefault();const l=i.currentTarget.getAttribute("href");if(l&&l.startsWith("#")){const c=document.querySelector(l);if(c){const u=c.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:u,behavior:"smooth"})}}},a=document.querySelectorAll('a[href^="#"]');if(a.forEach(i=>{i.addEventListener("click",n)}),e.current){const i=e.current.querySelector(".hero-badge"),o=e.current.querySelector(".hero-heading"),l=e.current.querySelector(".hero-subheading"),c=e.current.querySelector(".hero-cta"),u=e.current.querySelector(".hero-trust");e.current.querySelectorAll(".hero-decorative").forEach((m,p)=>{Fn.to(m,{yPercent:p%2===0?30:-30,scrollTrigger:{trigger:e.current,start:"top top",end:"bottom top",scrub:1}})}),Fn.timeline({defaults:{ease:"power3.out"}}).fromTo(i,{opacity:0,y:-20},{opacity:1,y:0,duration:.8}).fromTo(o,{opacity:0,y:30,scale:.95},{opacity:1,y:0,scale:1,duration:1,stagger:.1},"-=0.4").fromTo(l,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.6").fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.8},"-=0.4").fromTo(u,{opacity:0},{opacity:1,duration:.8},"-=0.4")}if(t.current&&t.current.querySelectorAll(".feature-card").forEach((o,l)=>{Fn.fromTo(o,{opacity:0,y:60,scale:.9},{opacity:1,y:0,scale:1,duration:.3,ease:"power3.out",scrollTrigger:{trigger:o,start:"top bottom",end:"bottom 20%",toggleActions:"play none none reverse"},delay:0}),o.addEventListener("mouseenter",()=>{Fn.to(o,{y:-10,duration:.3,ease:"power2.out"})}),o.addEventListener("mouseleave",()=>{Fn.to(o,{y:0,duration:.3,ease:"power2.out"})})}),r.current){const i=r.current.querySelectorAll(".step-card");Fn.fromTo(i,{opacity:0,x:-50,scale:.95},{opacity:1,x:0,scale:1,duration:.8,ease:"power3.out",stagger:.15,scrollTrigger:{trigger:r.current,start:"top 70%",end:"bottom 20%",toggleActions:"play none none reverse"}})}return()=>{a.forEach(i=>{i.removeEventListener("click",n)}),Tr.getAll().forEach(i=>i.kill())}},[]),{heroRef:e,featuresRef:t,stepsRef:r}},s_e=()=>{const e=_.useRef(null);return _.useEffect(()=>{if(!e.current)return;e.current.querySelectorAll(".particle").forEach((r,n)=>{Fn.set(r,{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:Math.random()*.5+.5,opacity:Math.random()*.3+.1}),Fn.to(r,{y:`+=${Math.random()*200-100}`,x:`+=${Math.random()*200-100}`,duration:Math.random()*10+10,repeat:-1,yoyo:!0,ease:"sine.inOut",delay:Math.random()*2}),Fn.to(r,{rotation:Math.random()*360,duration:Math.random()*20+10,repeat:-1,ease:"none"}),Fn.to(r,{scale:`+=${Math.random()*.3}`,duration:Math.random()*3+2,repeat:-1,yoyo:!0,ease:"sine.inOut"})})},[]),s.jsx("div",{ref:e,className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:30}).map((t,r)=>s.jsx("div",{className:"particle absolute w-2 h-2 rounded-full",style:{background:`radial-gradient(circle, ${r%3===0?"rgba(59, 130, 246, 0.4)":r%3===1?"rgba(139, 92, 246, 0.4)":"rgba(236, 72, 153, 0.4)"}, transparent)`,filter:"blur(1px)"}},r))})},dU=({text:e,className:t="",delay:r=0,as:n="span",gradient:a=!1})=>{const i=_.useRef(null);return _.useEffect(()=>{if(!i.current)return;const o=e.split(" ");i.current.innerHTML=o.map(c=>`<span class="word inline-block mr-2">${c.split("").map(d=>`<span class="char inline-block ${a?"gradient-char":""}">${d===" "?"&nbsp;":d}</span>`).join("")}</span>`).join(" ");const l=i.current.querySelectorAll(".char");Fn.fromTo(l,{opacity:0,y:50,rotationX:-90},{opacity:1,y:0,rotationX:0,duration:.8,stagger:.02,ease:"back.out(1.7)",delay:r}),a&&Fn.to(l,{backgroundPosition:"200% center",duration:3,repeat:-1,ease:"none",stagger:{each:.1,repeat:-1}})},[e,r,a]),s.jsx(n,{ref:i,className:t})},dT=({color:e,size:t="md",position:r})=>{const n=_.useRef(null),a={blue:"from-blue-500/20 to-blue-600/10",purple:"from-purple-500/20 to-purple-600/10",pink:"from-pink-500/20 to-pink-600/10",green:"from-green-500/20 to-green-600/10"},i={sm:"w-64 h-64",md:"w-96 h-96",lg:"w-[600px] h-[600px]"};return _.useEffect(()=>{n.current&&(Fn.to(n.current,{scale:1.2,duration:8,repeat:-1,yoyo:!0,ease:"sine.inOut"}),Fn.to(n.current,{rotation:360,duration:20,repeat:-1,ease:"none"}),Fn.to(n.current,{x:"+=50",y:"+=30",duration:10,repeat:-1,yoyo:!0,ease:"sine.inOut"}))},[]),s.jsx("div",{ref:n,className:`absolute ${i[t]} bg-gradient-to-br ${a[e]} rounded-full blur-3xl opacity-30`,style:r})};var a_e=_.createContext(void 0);function zf(e){const t=_.useContext(a_e);return e||t||"ltr"}var fT=0;function w2(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fU()),document.body.insertAdjacentElement("beforeend",e[1]??fU()),fT++,()=>{fT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fT--}},[])}function fU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hT="focusScope.autoFocusOnMount",mT="focusScope.autoFocusOnUnmount",hU={bubbles:!1,cancelable:!0},i_e="FocusScope",bw=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),u=ks(a),d=ks(i),f=_.useRef(null),m=Zt(t,g=>c(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let g=function(j){if(p.paused||!l)return;const E=j.target;l.contains(E)?f.current=E:Ud(f.current,{select:!0})},v=function(j){if(p.paused||!l)return;const E=j.relatedTarget;E!==null&&(l.contains(E)||Ud(f.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Ud(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,p.paused]),_.useEffect(()=>{if(l){pU.add(p);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(hT,hU);l.addEventListener(hT,u),l.dispatchEvent(w),w.defaultPrevented||(o_e(f_e(Iee(l)),{select:!0}),document.activeElement===g&&Ud(l))}return()=>{l.removeEventListener(hT,u),setTimeout(()=>{const w=new CustomEvent(mT,hU);l.addEventListener(mT,d),l.dispatchEvent(w),w.defaultPrevented||Ud(g??document.body,{select:!0}),l.removeEventListener(mT,d),pU.remove(p)},0)}}},[l,u,d,p]);const y=_.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(v&&w){const b=g.currentTarget,[j,E]=l_e(b);j&&E?!g.shiftKey&&w===E?(g.preventDefault(),r&&Ud(j,{select:!0})):g.shiftKey&&w===j&&(g.preventDefault(),r&&Ud(E,{select:!0})):w===b&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(Tt.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});bw.displayName=i_e;function o_e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ud(n,{select:t}),document.activeElement!==r)return}function l_e(e){const t=Iee(e),r=mU(t,e),n=mU(t.reverse(),e);return[r,n]}function Iee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mU(e,t){for(const r of e)if(!c_e(r,{upTo:t}))return r}function c_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function u_e(e){return e instanceof HTMLInputElement&&"select"in e}function Ud(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&u_e(e)&&t&&e.select()}}var pU=d_e();function d_e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=gU(e,t),e.unshift(t)},remove(t){e=gU(e,t),e[0]?.resume()}}}function gU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function f_e(e){return e.filter(t=>t.tagName!=="A")}var pT="rovingFocusGroup.onEntryFocus",h_e={bubbles:!1,cancelable:!0},ww="RovingFocusGroup",[vD,Mee,m_e]=X0(ww),[p_e,sx]=Vs(ww,[m_e]),[g_e,x_e]=p_e(ww),Fee=_.forwardRef((e,t)=>s.jsx(vD.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vD.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(v_e,{...e,ref:t})})}));Fee.displayName=ww;var v_e=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=_.useRef(null),p=Zt(t,m),y=zf(i),[g,v]=Si({prop:o,defaultProp:l??null,onChange:c,caller:ww}),[w,b]=_.useState(!1),j=ks(u),E=Mee(r),S=_.useRef(!1),[C,k]=_.useState(0);return _.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(pT,j),()=>R.removeEventListener(pT,j)},[j]),s.jsx(g_e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:g,onItemFocus:_.useCallback(R=>v(R),[v]),onItemShiftTab:_.useCallback(()=>b(!0),[]),onFocusableItemAdd:_.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:_.useCallback(()=>k(R=>R-1),[]),children:s.jsx(Tt.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ft(e.onMouseDown,()=>{S.current=!0}),onFocus:ft(e.onFocus,R=>{const O=!S.current;if(R.target===R.currentTarget&&O&&!w){const A=new CustomEvent(pT,h_e);if(R.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=E().filter(W=>W.focusable),D=P.find(W=>W.active),F=P.find(W=>W.id===g),H=[D,F,...P].filter(Boolean).map(W=>W.ref.current);Bee(H,d)}}S.current=!1}),onBlur:ft(e.onBlur,()=>b(!1))})})}),Lee="RovingFocusGroupItem",$ee=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=mo(),u=i||c,d=x_e(Lee,r),f=d.currentTabStopId===u,m=Mee(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=d;return _.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),s.jsx(vD.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Tt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ft(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ft(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ft(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=w_e(v,d.orientation,d.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=m().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")j.reverse();else if(w==="prev"||w==="next"){w==="prev"&&j.reverse();const E=j.indexOf(v.currentTarget);j=d.loop?__e(j,E+1):j.slice(E+1)}setTimeout(()=>Bee(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});$ee.displayName=Lee;var y_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function w_e(e,t,r){const n=b_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return y_e[n]}function Bee(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function __e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var n5=Fee,s5=$ee,j_e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$p=new WeakMap,P_=new WeakMap,O_={},gT=0,Uee=function(e){return e&&(e.host||Uee(e.parentNode))},N_e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Uee(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},S_e=function(e,t,r,n){var a=N_e(t,Array.isArray(e)?e:[e]);O_[r]||(O_[r]=new WeakMap);var i=O_[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",g=($p.get(m)||0)+1,v=(i.get(m)||0)+1;$p.set(m,g),i.set(m,v),o.push(m),g===1&&y&&P_.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),gT++,function(){o.forEach(function(f){var m=$p.get(f)-1,p=i.get(f)-1;$p.set(f,m),i.set(f,p),m||(P_.has(f)||f.removeAttribute(n),P_.delete(f)),p||f.removeAttribute(r)}),gT--,gT||($p=new WeakMap,$p=new WeakMap,P_=new WeakMap,O_={})}},_2=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=j_e(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),S_e(n,a,r,"aria-hidden")):function(){return null}},Fc=function(){return Fc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fc.apply(this,arguments)};function Vee(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function k_e(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Pj="right-scroll-bar-position",Oj="width-before-scroll-bar",C_e="with-scroll-bars-hidden",E_e="--removed-body-scroll-bar-size";function xT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function T_e(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var A_e=typeof window<"u"?_.useLayoutEffect:_.useEffect,xU=new WeakMap;function P_e(e,t){var r=T_e(null,function(n){return e.forEach(function(a){return xT(a,n)})});return A_e(function(){var n=xU.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||xT(l,null)}),i.forEach(function(l){a.has(l)||xT(l,o)})}xU.set(r,e)},[e]),r}function O_e(e){return e}function R_e(e,t){t===void 0&&(t=O_e);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function D_e(e){e===void 0&&(e={});var t=R_e(null);return t.options=Fc({async:!0,ssr:!1},e),t}var zee=function(e){var t=e.sideCar,r=Vee(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Fc({},r))};zee.isSideCarExport=!0;function I_e(e,t){return e.useMedium(t),zee}var qee=D_e(),vT=function(){},j2=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:vT,onWheelCapture:vT,onTouchMoveCapture:vT}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,j=e.gapMode,E=Vee(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=P_e([r,t]),k=Fc(Fc({},E),a);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:qee,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:j}),o?_.cloneElement(_.Children.only(l),Fc(Fc({},k),{ref:C})):_.createElement(b,Fc({},k,{className:c,ref:C}),l))});j2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};j2.classNames={fullWidth:Oj,zeroRight:Pj};var M_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F_e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M_e();return t&&e.setAttribute("nonce",t),e}function L_e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $_e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var B_e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=F_e())&&(L_e(t,r),$_e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U_e=function(){var e=B_e();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Wee=function(){var e=U_e(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},V_e={left:0,top:0,right:0,gap:0},yT=function(e){return parseInt(e||"",10)||0},z_e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yT(r),yT(n),yT(a)]},q_e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V_e;var t=z_e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},W_e=Wee(),Vg="data-scroll-locked",H_e=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(C_e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Vg,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pj,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oj,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pj," .").concat(Pj,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Oj," .").concat(Oj,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vg,`] {
    `).concat(E_e,": ").concat(l,`px;
  }
`)},vU=function(){var e=parseInt(document.body.getAttribute(Vg)||"0",10);return isFinite(e)?e:0},G_e=function(){_.useEffect(function(){return document.body.setAttribute(Vg,(vU()+1).toString()),function(){var e=vU()-1;e<=0?document.body.removeAttribute(Vg):document.body.setAttribute(Vg,e.toString())}},[])},K_e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;G_e();var i=_.useMemo(function(){return q_e(a)},[a]);return _.createElement(W_e,{styles:H_e(i,!t,a,r?"":"!important")})},yD=!1;if(typeof window<"u")try{var R_=Object.defineProperty({},"passive",{get:function(){return yD=!0,!0}});window.addEventListener("test",R_,R_),window.removeEventListener("test",R_,R_)}catch{yD=!1}var Bp=yD?{passive:!1}:!1,Y_e=function(e){return e.tagName==="TEXTAREA"},Hee=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y_e(e)&&r[t]==="visible")},X_e=function(e){return Hee(e,"overflowY")},J_e=function(e){return Hee(e,"overflowX")},yU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Gee(e,n);if(a){var i=Kee(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Z_e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Q_e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Gee=function(e,t){return e==="v"?X_e(t):J_e(t)},Kee=function(e,t){return e==="v"?Z_e(t):Q_e(t)},eje=function(e,t){return e==="h"&&t==="rtl"?-1:1},tje=function(e,t,r,n,a){var i=eje(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var p=Kee(e,l),y=p[0],g=p[1],v=p[2],w=g-v-i*y;(y||w)&&Gee(e,l)&&(f+=w,m+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},D_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bU=function(e){return[e.deltaX,e.deltaY]},wU=function(e){return e&&"current"in e?e.current:e},rje=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nje=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sje=0,Up=[];function aje(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(sje++)[0],i=_.useState(Wee)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=k_e([e.lockRef.current],(e.shards||[]).map(wU),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=D_(g),b=r.current,j="deltaX"in g?g.deltaX:b[0]-w[0],E="deltaY"in g?g.deltaY:b[1]-w[1],S,C=g.target,k=Math.abs(j)>Math.abs(E)?"h":"v";if("touches"in g&&k==="h"&&C.type==="range")return!1;var R=yU(k,C);if(!R)return!0;if(R?S=k:(S=k==="v"?"h":"v",R=yU(k,C)),!R)return!1;if(!n.current&&"changedTouches"in g&&(j||E)&&(n.current=S),!S)return!0;var O=n.current||S;return tje(O,v,g,O==="h"?j:E)},[]),c=_.useCallback(function(g){var v=g;if(!(!Up.length||Up[Up.length-1]!==i)){var w="deltaY"in v?bU(v):D_(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&rje(S.delta,w)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(wU).filter(Boolean).filter(function(S){return S.contains(v.target)}),E=j.length>0?l(v,j[0]):!o.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(g,v,w,b){var j={name:g,delta:v,target:w,should:b,shadowParent:ije(w)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(E){return E!==j})},1)},[]),d=_.useCallback(function(g){r.current=D_(g),n.current=void 0},[]),f=_.useCallback(function(g){u(g.type,bU(g),g.target,l(g,e.lockRef.current))},[]),m=_.useCallback(function(g){u(g.type,D_(g),g.target,l(g,e.lockRef.current))},[]);_.useEffect(function(){return Up.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Bp),document.addEventListener("touchmove",c,Bp),document.addEventListener("touchstart",d,Bp),function(){Up=Up.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Bp),document.removeEventListener("touchmove",c,Bp),document.removeEventListener("touchstart",d,Bp)}},[]);var p=e.removeScrollBar,y=e.inert;return _.createElement(_.Fragment,null,y?_.createElement(i,{styles:nje(a)}):null,p?_.createElement(K_e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ije(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oje=I_e(qee,aje);var _w=_.forwardRef(function(e,t){return _.createElement(j2,Fc({},e,{ref:t,sideCar:oje}))});_w.classNames=j2.classNames;var bD=["Enter"," "],lje=["ArrowDown","PageUp","Home"],Yee=["ArrowUp","PageDown","End"],cje=[...lje,...Yee],uje={ltr:[...bD,"ArrowRight"],rtl:[...bD,"ArrowLeft"]},dje={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jw="Menu",[Jy,fje,hje]=X0(jw),[Xm,Xee]=Vs(jw,[hje,Bf,sx]),N2=Bf(),Jee=sx(),[mje,Jm]=Xm(jw),[pje,Nw]=Xm(jw),Zee=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=N2(t),[c,u]=_.useState(null),d=_.useRef(!1),f=ks(i),m=zf(a);return _.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(i2,{...l,children:s.jsx(mje,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(pje,{scope:t,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};Zee.displayName=jw;var gje="MenuAnchor",a5=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=N2(r);return s.jsx(gw,{...a,...n,ref:t})});a5.displayName=gje;var i5="MenuPortal",[xje,Qee]=Xm(i5,{forceMount:void 0}),ete=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Jm(i5,t);return s.jsx(xje,{scope:t,forceMount:r,children:s.jsx(ca,{present:r||i.open,children:s.jsx(J0,{asChild:!0,container:a,children:n})})})};ete.displayName=i5;var Ol="MenuContent",[vje,o5]=Xm(Ol),tte=_.forwardRef((e,t)=>{const r=Qee(Ol,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Jm(Ol,e.__scopeMenu),o=Nw(Ol,e.__scopeMenu);return s.jsx(Jy.Provider,{scope:e.__scopeMenu,children:s.jsx(ca,{present:n||i.open,children:s.jsx(Jy.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(yje,{...a,ref:t}):s.jsx(bje,{...a,ref:t})})})})}),yje=_.forwardRef((e,t)=>{const r=Jm(Ol,e.__scopeMenu),n=_.useRef(null),a=Zt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return _2(i)},[]),s.jsx(l5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ft(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),bje=_.forwardRef((e,t)=>{const r=Jm(Ol,e.__scopeMenu);return s.jsx(l5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),wje=bf("MenuContent.ScrollLock"),l5=_.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,v=Jm(Ol,r),w=Nw(Ol,r),b=N2(r),j=Jee(r),E=fje(r),[S,C]=_.useState(null),k=_.useRef(null),R=Zt(t,k,v.onContentChange),O=_.useRef(0),A=_.useRef(""),P=_.useRef(0),D=_.useRef(null),F=_.useRef("right"),L=_.useRef(0),H=y?_w:_.Fragment,W=y?{as:wje,allowPinchZoom:!0}:void 0,G=I=>{const B=A.current+I,Y=E().filter(fe=>!fe.disabled),z=document.activeElement,J=Y.find(fe=>fe.ref.current===z)?.textValue,X=Y.map(fe=>fe.textValue),ee=Rje(X,B,J),he=Y.find(fe=>fe.textValue===ee)?.ref.current;(function fe(ge){A.current=ge,window.clearTimeout(O.current),ge!==""&&(O.current=window.setTimeout(()=>fe(""),1e3))})(B),he&&setTimeout(()=>he.focus())};_.useEffect(()=>()=>window.clearTimeout(O.current),[]),w2();const K=_.useCallback(I=>F.current===D.current?.side&&Ije(I,D.current?.area),[]);return s.jsx(vje,{scope:r,searchRef:A,onItemEnter:_.useCallback(I=>{K(I)&&I.preventDefault()},[K]),onItemLeave:_.useCallback(I=>{K(I)||(k.current?.focus(),C(null))},[K]),onTriggerLeave:_.useCallback(I=>{K(I)&&I.preventDefault()},[K]),pointerGraceTimerRef:P,onPointerGraceIntentChange:_.useCallback(I=>{D.current=I},[]),children:s.jsx(H,{...W,children:s.jsx(bw,{asChild:!0,trapped:a,onMountAutoFocus:ft(i,I=>{I.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Gm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(n5,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:ft(c,I=>{w.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(o2,{role:"menu","aria-orientation":"vertical","data-state":xte(v.open),"data-radix-menu-content":"",dir:w.dir,...b,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:ft(g.onKeyDown,I=>{const Y=I.target.closest("[data-radix-menu-content]")===I.currentTarget,z=I.ctrlKey||I.altKey||I.metaKey,J=I.key.length===1;Y&&(I.key==="Tab"&&I.preventDefault(),!z&&J&&G(I.key));const X=k.current;if(I.target!==X||!cje.includes(I.key))return;I.preventDefault();const he=E().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);Yee.includes(I.key)&&he.reverse(),Pje(he)}),onBlur:ft(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(O.current),A.current="")}),onPointerMove:ft(e.onPointerMove,Zy(I=>{const B=I.target,Y=L.current!==I.clientX;if(I.currentTarget.contains(B)&&Y){const z=I.clientX>L.current?"right":"left";F.current=z,L.current=I.clientX}}))})})})})})})});tte.displayName=Ol;var _je="MenuGroup",c5=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Tt.div,{role:"group",...n,ref:t})});c5.displayName=_je;var jje="MenuLabel",rte=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Tt.div,{...n,ref:t})});rte.displayName=jje;var cN="MenuItem",_U="menu.itemSelect",S2=_.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=_.useRef(null),o=Nw(cN,e.__scopeMenu),l=o5(cN,e.__scopeMenu),c=Zt(t,i),u=_.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(_U,{bubbles:!0,cancelable:!0});f.addEventListener(_U,p=>n?.(p),{once:!0}),ZI(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(nte,{...a,ref:c,disabled:r,onClick:ft(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:ft(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:ft(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||bD.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});S2.displayName=cN;var nte=_.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=o5(cN,r),l=Jee(r),c=_.useRef(null),u=Zt(t,c),[d,f]=_.useState(!1),[m,p]=_.useState("");return _.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(Jy.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(s5,{asChild:!0,...l,focusable:!n,children:s.jsx(Tt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ft(e.onPointerMove,Zy(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(e.onPointerLeave,Zy(y=>o.onItemLeave(y))),onFocus:ft(e.onFocus,()=>f(!0)),onBlur:ft(e.onBlur,()=>f(!1))})})})}),Nje="MenuCheckboxItem",ste=_.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(cte,{scope:e.__scopeMenu,checked:r,children:s.jsx(S2,{role:"menuitemcheckbox","aria-checked":uN(r)?"mixed":r,...a,ref:t,"data-state":d5(r),onSelect:ft(a.onSelect,()=>n?.(uN(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ste.displayName=Nje;var ate="MenuRadioGroup",[Sje,kje]=Xm(ate,{value:void 0,onValueChange:()=>{}}),ite=_.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=ks(n);return s.jsx(Sje,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(c5,{...a,ref:t})})});ite.displayName=ate;var ote="MenuRadioItem",lte=_.forwardRef((e,t)=>{const{value:r,...n}=e,a=kje(ote,e.__scopeMenu),i=r===a.value;return s.jsx(cte,{scope:e.__scopeMenu,checked:i,children:s.jsx(S2,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":d5(i),onSelect:ft(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});lte.displayName=ote;var u5="MenuItemIndicator",[cte,Cje]=Xm(u5,{checked:!1}),ute=_.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Cje(u5,r);return s.jsx(ca,{present:n||uN(i.checked)||i.checked===!0,children:s.jsx(Tt.span,{...a,ref:t,"data-state":d5(i.checked)})})});ute.displayName=u5;var Eje="MenuSeparator",dte=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});dte.displayName=Eje;var Tje="MenuArrow",fte=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=N2(r);return s.jsx(l2,{...a,...n,ref:t})});fte.displayName=Tje;var Aje="MenuSub",[Zit,hte]=Xm(Aje),Mv="MenuSubTrigger",mte=_.forwardRef((e,t)=>{const r=Jm(Mv,e.__scopeMenu),n=Nw(Mv,e.__scopeMenu),a=hte(Mv,e.__scopeMenu),i=o5(Mv,e.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(a5,{asChild:!0,...u,children:s.jsx(nte,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":xte(r.open),...e,ref:ZS(t,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ft(e.onPointerMove,Zy(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ft(e.onPointerLeave,Zy(f=>{d();const m=r.content?.getBoundingClientRect();if(m){const p=r.content?.dataset.side,y=p==="right",g=y?-5:5,v=m[y?"left":"right"],w=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ft(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||uje[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});mte.displayName=Mv;var pte="MenuSubContent",gte=_.forwardRef((e,t)=>{const r=Qee(Ol,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Jm(Ol,e.__scopeMenu),o=Nw(Ol,e.__scopeMenu),l=hte(pte,e.__scopeMenu),c=_.useRef(null),u=Zt(t,c);return s.jsx(Jy.Provider,{scope:e.__scopeMenu,children:s.jsx(ca,{present:n||i.open,children:s.jsx(Jy.Slot,{scope:e.__scopeMenu,children:s.jsx(l5,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ft(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ft(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ft(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=dje[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});gte.displayName=pte;function xte(e){return e?"open":"closed"}function uN(e){return e==="indeterminate"}function d5(e){return uN(e)?"indeterminate":e?"checked":"unchecked"}function Pje(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Oje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Rje(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Oje(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Dje(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(a=!a)}return a}function Ije(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Dje(r,t)}function Zy(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Mje=Zee,Fje=a5,Lje=ete,$je=tte,Bje=c5,Uje=rte,Vje=S2,zje=ste,qje=ite,Wje=lte,Hje=ute,Gje=dte,Kje=fte,Yje=mte,Xje=gte,k2="DropdownMenu",[Jje]=Vs(k2,[Xee]),Xi=Xee(),[Zje,vte]=Jje(k2),yte=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Xi(t),u=_.useRef(null),[d,f]=Si({prop:a,defaultProp:i??!1,onChange:o,caller:k2});return s.jsx(Zje,{scope:t,triggerId:mo(),triggerRef:u,contentId:mo(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(Mje,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};yte.displayName=k2;var bte="DropdownMenuTrigger",wte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=vte(bte,r),o=Xi(r);return s.jsx(Fje,{asChild:!0,...o,children:s.jsx(Tt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ZS(t,i.triggerRef),onPointerDown:ft(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ft(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});wte.displayName=bte;var Qje="DropdownMenuPortal",_te=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Xi(t);return s.jsx(Lje,{...n,...r})};_te.displayName=Qje;var jte="DropdownMenuContent",Nte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=vte(jte,r),i=Xi(r),o=_.useRef(!1);return s.jsx($je,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:ft(e.onCloseAutoFocus,l=>{o.current||a.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ft(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nte.displayName=jte;var eNe="DropdownMenuGroup",tNe=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Bje,{...a,...n,ref:t})});tNe.displayName=eNe;var rNe="DropdownMenuLabel",Ste=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Uje,{...a,...n,ref:t})});Ste.displayName=rNe;var nNe="DropdownMenuItem",kte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Vje,{...a,...n,ref:t})});kte.displayName=nNe;var sNe="DropdownMenuCheckboxItem",Cte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(zje,{...a,...n,ref:t})});Cte.displayName=sNe;var aNe="DropdownMenuRadioGroup",iNe=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(qje,{...a,...n,ref:t})});iNe.displayName=aNe;var oNe="DropdownMenuRadioItem",Ete=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Wje,{...a,...n,ref:t})});Ete.displayName=oNe;var lNe="DropdownMenuItemIndicator",Tte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Hje,{...a,...n,ref:t})});Tte.displayName=lNe;var cNe="DropdownMenuSeparator",Ate=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Gje,{...a,...n,ref:t})});Ate.displayName=cNe;var uNe="DropdownMenuArrow",dNe=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Kje,{...a,...n,ref:t})});dNe.displayName=uNe;var fNe="DropdownMenuSubTrigger",Pte=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Yje,{...a,...n,ref:t})});Pte.displayName=fNe;var hNe="DropdownMenuSubContent",Ote=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Xi(r);return s.jsx(Xje,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ote.displayName=hNe;var mNe=yte,pNe=wte,gNe=_te,Rte=Nte,Dte=Ste,Ite=kte,Mte=Cte,Fte=Ete,Lte=Tte,$te=Ate,Bte=Pte,Ute=Ote;const ad=mNe,id=pNe,xNe=_.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(Bte,{ref:a,className:ut("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(wf,{className:"ml-auto h-4 w-4"})]}));xNe.displayName=Bte.displayName;const vNe=_.forwardRef(({className:e,...t},r)=>s.jsx(Ute,{ref:r,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));vNe.displayName=Ute.displayName;const lu=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(gNe,{children:s.jsx(Rte,{ref:n,sideOffset:t,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));lu.displayName=Rte.displayName;const Ln=_.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Ite,{ref:n,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ln.displayName=Ite.displayName;const yNe=_.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Mte,{ref:a,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Lte,{children:s.jsx(rn,{className:"h-4 w-4"})})}),t]}));yNe.displayName=Mte.displayName;const bNe=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Fte,{ref:n,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Lte,{children:s.jsx(BJ,{className:"h-2 w-2 fill-current"})})}),t]}));bNe.displayName=Fte.displayName;const wNe=_.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Dte,{ref:n,className:ut("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));wNe.displayName=Dte.displayName;const Zm=_.forwardRef(({className:e,...t},r)=>s.jsx($te,{ref:r,className:ut("-mx-1 my-1 h-px bg-muted",e),...t}));Zm.displayName=$te.displayName;function ti(){const{setTheme:e}=aZ();return s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"icon",className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:[s.jsx($B,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(IB,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(lu,{align:"end",children:[s.jsxs(Ln,{onClick:()=>e("light"),children:[s.jsx($B,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"})]}),s.jsxs(Ln,{onClick:()=>e("dark"),children:[s.jsx(IB,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"})]}),s.jsxs(Ln,{onClick:()=>e("system"),children:[s.jsx("span",{className:"mr-2 h-4 w-4",children:""}),s.jsx("span",{children:"System"})]})]})]})}const vm=({size:e=40,showBackground:t=!0,className:r=""})=>s.jsx("div",{className:`${t?"bg-blue-600 rounded-lg p-2":""} inline-flex items-center justify-center ${r}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.50",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",children:[s.jsx("path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"}),s.jsx("path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"}),s.jsx("path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"})]})});var C2="Dialog",[Vte,zte]=Vs(C2),[_Ne,_c]=Vte(C2),qte=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=Si({prop:n,defaultProp:a??!1,onChange:i,caller:C2});return s.jsx(_Ne,{scope:t,triggerRef:l,contentRef:c,contentId:mo(),titleId:mo(),descriptionId:mo(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};qte.displayName=C2;var Wte="DialogTrigger",Hte=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_c(Wte,r),i=Zt(t,a.triggerRef);return s.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":m5(a.open),...n,ref:i,onClick:ft(e.onClick,a.onOpenToggle)})});Hte.displayName=Wte;var f5="DialogPortal",[jNe,Gte]=Vte(f5,{forceMount:void 0}),Kte=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=_c(f5,t);return s.jsx(jNe,{scope:t,forceMount:r,children:_.Children.map(n,o=>s.jsx(ca,{present:r||i.open,children:s.jsx(J0,{asChild:!0,container:a,children:o})}))})};Kte.displayName=f5;var dN="DialogOverlay",Yte=_.forwardRef((e,t)=>{const r=Gte(dN,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=_c(dN,e.__scopeDialog);return i.modal?s.jsx(ca,{present:n||i.open,children:s.jsx(SNe,{...a,ref:t})}):null});Yte.displayName=dN;var NNe=bf("DialogOverlay.RemoveScroll"),SNe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_c(dN,r);return s.jsx(_w,{as:NNe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Tt.div,{"data-state":m5(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ym="DialogContent",Xte=_.forwardRef((e,t)=>{const r=Gte(ym,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=_c(ym,e.__scopeDialog);return s.jsx(ca,{present:n||i.open,children:i.modal?s.jsx(kNe,{...a,ref:t}):s.jsx(CNe,{...a,ref:t})})});Xte.displayName=ym;var kNe=_.forwardRef((e,t)=>{const r=_c(ym,e.__scopeDialog),n=_.useRef(null),a=Zt(t,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return _2(i)},[]),s.jsx(Jte,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ft(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ft(e.onFocusOutside,i=>i.preventDefault())})}),CNe=_.forwardRef((e,t)=>{const r=_c(ym,e.__scopeDialog),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(Jte,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Jte=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=_c(ym,r),c=_.useRef(null),u=Zt(t,c);return w2(),s.jsxs(s.Fragment,{children:[s.jsx(bw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Gm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":m5(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(TNe,{titleId:l.titleId}),s.jsx(PNe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),h5="DialogTitle",Zte=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_c(h5,r);return s.jsx(Tt.h2,{id:a.titleId,...n,ref:t})});Zte.displayName=h5;var Qte="DialogDescription",ere=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_c(Qte,r);return s.jsx(Tt.p,{id:a.descriptionId,...n,ref:t})});ere.displayName=Qte;var tre="DialogClose",rre=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_c(tre,r);return s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:ft(e.onClick,()=>a.onOpenChange(!1))})});rre.displayName=tre;function m5(e){return e?"open":"closed"}var nre="DialogTitleWarning",[ENe,sre]=Upe(nre,{contentName:ym,titleName:h5,docsSlug:"dialog"}),TNe=({titleId:e})=>{const t=sre(nre),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ANe="DialogDescriptionWarning",PNe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sre(ANe).contentName}}.`;return _.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},p5=qte,are=Hte,g5=Kte,Sw=Yte,kw=Xte,Cw=Zte,Ew=ere,E2=rre;const ONe=p5,RNe=are,DNe=g5,ire=_.forwardRef(({className:e,...t},r)=>s.jsx(Sw,{className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ire.displayName=Sw.displayName;const INe=Z0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ore=_.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(DNe,{children:[s.jsx(ire,{}),s.jsxs(kw,{ref:a,className:ut(INe({side:e}),t),...n,children:[r,s.jsxs(E2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx($a,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ore.displayName=kw.displayName;const lre=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col space-y-2 text-center sm:text-left",e),...t});lre.displayName="SheetHeader";const cre=_.forwardRef(({className:e,...t},r)=>s.jsx(Cw,{ref:r,className:ut("text-lg font-semibold text-foreground",e),...t}));cre.displayName=Cw.displayName;const MNe=_.forwardRef(({className:e,...t},r)=>s.jsx(Ew,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));MNe.displayName=Ew.displayName;const FNe=()=>{const[e,t]=_.useState(!1),{heroRef:r,featuresRef:n,stepsRef:a}=n_e(),i=[{icon:VJ,title:"Free Subdomain",description:"Get your own professional subdomain instantly. Launch your store without any domain costs.",gradient:"from-blue-500 to-cyan-500",size:"normal"},{icon:Ev,title:"Banner & Carousel",description:"Showcase offers with stunning banners and auto-rotating carousels that grab attention.",gradient:"from-purple-500 to-pink-500",size:"normal"},{icon:Kge,title:"Product Videos",description:"Engage customers with high-quality product videos that boost conversions.",gradient:"from-rose-500 to-orange-500",size:"normal"},{icon:Kh,title:"WhatsApp Orders",description:"Receive orders directly on WhatsApp. Chat with customers in real-time instantly.",gradient:"from-green-500 to-emerald-500",size:"normal"},{icon:Dn,title:"Online Payments",description:"Accept direct payments online with secure, trusted payment gateways.",gradient:"from-indigo-500 to-blue-500",size:"normal"},{icon:Fl,title:"SEO & Indexing",description:"Get found on Google with built-in SEO optimization and automatic indexing.",gradient:"from-yellow-500 to-orange-500",size:"normal"},{icon:t2,title:"Instagram Auto-Reply",description:"Never miss a customer inquiry with intelligent Instagram auto-reply features.",gradient:"from-pink-500 to-rose-500",size:"normal"},{icon:Hi,title:"Google Reviews",description:"Display authentic Google Reviews on your site to build trust and credibility.",gradient:"from-amber-500 to-yellow-500",size:"normal"},{icon:bi,title:"Advanced CRM",description:"Manage customer relationships with powerful CRM tools for growth.",gradient:"from-teal-500 to-cyan-500",size:"normal"},{icon:Mge,title:"Stock Management",description:"Track inventory in real-time. Never oversell with smart stock alerts.",gradient:"from-violet-500 to-purple-500",size:"normal"},{icon:Tl,title:"Instagram Videos",description:"Embed Instagram videos directly on your website for better engagement.",gradient:"from-fuchsia-500 to-pink-500",size:"normal"},{icon:Lge,title:"Business Analytics",description:"Advanced insights into sales, customers, and trends. Make data-driven decisions.",gradient:"from-emerald-500 to-teal-500",size:"normal"},{icon:Uge,title:"Order Management",description:"Streamline order processing from checkout to delivery with ease.",gradient:"from-sky-500 to-blue-500",size:"normal"}],o=[{number:"01",title:"Sign Up",description:"Create your account in seconds with Google"},{number:"02",title:"Add Products",description:"Build your product catalog easily"},{number:"03",title:"Customize",description:"Brand your store with colors and logo"},{number:"04",title:"Go Live",description:"Share your store link and start selling"}],l={"@context":"https://schema.org","@type":"SoftwareApplication",name:"DigitalDukandar",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR",description:"Free 14-day trial, no credit card required"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"10000",bestRating:"5",worstRating:"1"},description:"Create your online store in minutes. Launch a professional e-commerce website with custom subdomain, WhatsApp integration, and powerful analytics. No coding required.",url:"https://digitaldukandar.in",image:"https://digitaldukandar.in/logo.png",provider:{"@type":"Organization",name:"DigitalDukandar",url:"https://digitaldukandar.in"}};return s.jsxs("div",{className:"min-h-screen bg-background font-inter",children:[s.jsxs(AM,{children:[s.jsx("title",{children:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"title",content:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),s.jsx("meta",{name:"description",content:"Launch your professional online store in 5 minutes. Get free subdomain, WhatsApp integration, inventory management & analytics. No coding needed. Trusted by 10,000+ Indian entrepreneurs. Start free trial!"}),s.jsx("meta",{name:"keywords",content:"online store builder India, create online store, e-commerce platform India, free online store, sell online India, WhatsApp store, digital store maker, small business e-commerce, Indian online shopping platform, store builder no coding"}),s.jsx("link",{rel:"canonical",href:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{property:"og:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{property:"og:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{property:"og:site_name",content:"DigitalDukandar"}),s.jsx("meta",{property:"og:locale",content:"en_IN"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:"https://digitaldukandar.in"}),s.jsx("meta",{name:"twitter:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),s.jsx("meta",{name:"twitter:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),s.jsx("meta",{name:"googlebot",content:"index, follow"}),s.jsx("meta",{name:"language",content:"English"}),s.jsx("meta",{name:"geo.region",content:"IN"}),s.jsx("meta",{name:"geo.placename",content:"India"}),s.jsx("link",{rel:"sitemap",type:"application/xml",href:"/sitemap.xml"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8 h-16 sm:h-20 flex items-center justify-between gap-2",children:[s.jsxs(kt,{to:"/",className:"flex items-center gap-3 sm:gap-4 group flex-shrink-0","aria-label":"DigitalDukandar Home",children:[s.jsx(vm,{size:40,className:"transition-transform group-hover:scale-105"}),s.jsx("span",{className:"font-playfair font-bold text-2xl sm:text-3xl md:text-4xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),s.jsx(kt,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(kt,{to:"/demo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Demo Store"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[s.jsx(ti,{}),s.jsxs(ONe,{open:e,onOpenChange:t,children:[s.jsx(RNe,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"icon",className:"md:hidden h-11 w-11 min-h-[44px]","aria-label":"Open menu","aria-expanded":e,children:s.jsx(nM,{className:"h-5 w-5"})})}),s.jsxs(ore,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(lre,{children:s.jsxs(cre,{className:"flex items-center gap-2",children:[s.jsx(Cv,{className:"w-5 h-5 text-primary"}),"Menu"]})}),s.jsxs("nav",{className:"flex flex-col gap-4 mt-8","aria-label":"Mobile navigation",children:[s.jsx("a",{href:"#features",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"How It Works"}),s.jsx(kt,{to:"/pricing",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Pricing"}),s.jsx("a",{href:"#helper-program",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"For Helpers"}),s.jsx(kt,{to:"/demo",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Demo Store"}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx(kt,{to:"/auth",className:"w-full",children:s.jsx(ae,{variant:"outline",size:"lg",className:"w-full h-12 min-h-[48px]",children:"Login"})}),s.jsx(kt,{to:"/auth",className:"w-full",children:s.jsxs(ae,{size:"lg",className:"w-full h-12 min-h-[48px]",children:["Get Started Free",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),s.jsx(kt,{to:"/auth",className:"hidden md:inline-block",children:s.jsx(ae,{variant:"ghost",size:"sm",className:"font-medium h-11 px-4 text-sm min-h-[44px]",children:"Login"})}),s.jsx(kt,{to:"/auth",className:"hidden md:inline-block",children:s.jsxs(ae,{size:"sm",className:"shadow-lg hover:shadow-xl transition-all font-medium h-11 px-4 text-sm min-h-[44px]",children:["Get Started Free",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsxs("section",{ref:r,className:"relative overflow-hidden bg-gradient-to-b from-background via-primary/[0.02] to-background",children:[s.jsx(s_e,{}),s.jsx(dT,{color:"blue",size:"lg",position:{top:"-20%",right:"-10%"}}),s.jsx(dT,{color:"purple",size:"md",position:{bottom:"-15%",left:"-5%"}}),s.jsx(dT,{color:"pink",size:"md",position:{top:"30%",left:"50%"}}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"hero-decorative absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"hero-decorative absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8 py-24 lg:py-36",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"hero-badge inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 text-primary px-5 py-2.5 rounded-full text-sm font-semibold mb-8 shadow-lg backdrop-blur-sm",children:[s.jsx(Hi,{className:"w-4 h-4 fill-primary"}),"Trusted by 10,000+ Entrepreneurs Worldwide",s.jsx(HJ,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"hero-heading mb-6",children:[s.jsx(dU,{text:"Free Online Store India",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-foreground leading-[1.1]",delay:.3}),s.jsx(dU,{text:"Launch in 5 Minutes",as:"h1",className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold leading-[1.1] mt-2 bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent bg-[length:200%_100%] animate-gradient",delay:.6,gradient:!0})]}),s.jsx("p",{className:"hero-subheading text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:"Create your professional online store builder for small business India. Sell online with WhatsApp integration, custom domain, and powerful inventory management. No coding required - start your free e-commerce platform today!"}),s.jsxs("div",{className:"hero-cta flex flex-col sm:flex-row gap-5 justify-center items-center mb-12",children:[s.jsx(kt,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl hover:shadow-primary/25 transition-all group font-semibold",children:[s.jsx(Cv,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Start Building Free"]})}),s.jsx(kt,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx(fm,{className:"w-5 h-5 mr-2"}),"Explore Demo Store",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"hero-trust flex flex-wrap justify-center items-center gap-8 text-sm font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(rn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"No credit card required"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(rn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Setup in 5 minutes"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(rn,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{children:"Cancel anytime"})]})]}),s.jsxs("div",{className:"mt-16 flex justify-center items-center gap-3 text-sm text-muted-foreground animate-in fade-in duration-700 delay-700",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(c=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-background flex items-center justify-center",children:s.jsx(qge,{className:"w-4 h-4 text-primary"})},c))}),s.jsx("span",{className:"font-medium",children:"Join thousands of successful store owners"})]})]})})]}),s.jsx("section",{ref:n,id:"features",className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Premium Features"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Unique & Powerful Features"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed to help you launch, manage, and grow your online business with elegance and ease."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:i.map((c,u)=>s.jsxs(ke,{className:"feature-card relative p-6 lg:p-8 hover:shadow-2xl transition-all duration-700 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden hover:-translate-y-2 hover:scale-[1.02]",style:{animationDelay:`${u*50}ms`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-5 transition-all duration-700`}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-0 group-hover:opacity-15 blur-xl transition-all duration-700`}),s.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 bg-gradient-to-br ${c.gradient} opacity-5 rounded-bl-[100px] group-hover:opacity-10 transition-opacity duration-500`}),s.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[s.jsx("div",{className:"mb-4 lg:mb-6",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} rounded-2xl blur-sm opacity-20 group-hover:blur-md group-hover:opacity-30 transition-all duration-500`}),s.jsx("div",{className:`relative w-14 h-14 lg:w-16 lg:h-16 bg-gradient-to-br ${c.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-2xl group-hover:scale-110 group-hover:rotate-6 transition-all duration-500`,children:s.jsx(c.icon,{className:"w-7 h-7 lg:w-8 lg:h-8 text-white"})})]})}),s.jsx("h3",{className:"font-bold mb-2 lg:mb-3 text-foreground transition-all duration-300 text-lg lg:text-xl",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed flex-grow text-sm lg:text-base",children:c.description}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm font-semibold opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0",children:[s.jsx("span",{className:`bg-gradient-to-br ${c.gradient} bg-clip-text text-transparent`,children:"Learn more"}),s.jsx(sa,{className:`w-4 h-4 bg-gradient-to-br ${c.gradient} text-transparent group-hover:translate-x-1 transition-transform duration-300`,style:{background:"linear-gradient(to bottom right, currentColor, currentColor)",WebkitBackgroundClip:"text"}})]})]})]},u))})]})}),s.jsx("section",{ref:a,id:"how-it-works",className:"relative bg-gradient-to-b from-muted/30 via-muted/20 to-background py-24 lg:py-32",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Simple Process"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"How It Works"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Launch your luxury online store in four elegant steps"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6",children:o.map((c,u)=>s.jsxs("div",{className:"step-card relative",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary via-primary to-primary/80 border-2 border-primary/30 rounded-3xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300",children:s.jsx("span",{className:"font-playfair font-bold text-3xl text-primary-foreground",children:c.number})})]}),s.jsx("h3",{className:"font-playfair font-bold text-2xl mb-3 text-foreground",children:c.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:c.description})]}),u<o.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-10 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-primary/40 via-primary/20 to-transparent"})]},u))})]})})}),s.jsxs("section",{id:"helper-program",className:"relative bg-gradient-to-b from-background via-green-500/5 to-background py-24 lg:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-green-500/10 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/10 rounded-full blur-3xl opacity-20"}),s.jsx("div",{className:"container relative mx-auto px-4 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Helper Program"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Earn While Helping Others Succeed"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Join our helper program and earn generous commissions by helping store owners build their online businesses"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[s.jsxs(ke,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-emerald-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(Xa,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Earn Commission"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Get 10% direct commission + 5% network commission on every successful store signup"})]})]}),s.jsxs(ke,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(bi,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Build Your Network"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Recruit other helpers and earn from their referrals too. Create passive income streams"})]})]}),s.jsxs(ke,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:s.jsx(r2,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Flexible Work"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Work on your own schedule. Help businesses online from anywhere in the world"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[s.jsx(kt,{to:"/become-helper",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 transition-all group font-semibold",children:[s.jsx(GJ,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Apply to Become a Helper"]})}),s.jsx(kt,{to:"/application-status",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[s.jsx($f,{className:"w-5 h-5 mr-2"}),"Check Application Status"]})})]}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already a helper? ",s.jsx(kt,{to:"/helper/login",className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]})})]}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32 bg-muted/20",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Why DigitalDukandar is the Best Free Online Store Builder in India"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Trusted by over 10,000+ small businesses across India to sell online and grow their digital presence"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Built for Indian Entrepreneurs"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"e-commerce platform India"})," is designed specifically for local businesses. Accept payments in INR, integrate WhatsApp for customer communication, and reach customers across India with our ",s.jsx("strong",{children:"online store builder"})," made for the Indian market."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Completely Free to Start"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Start your ",s.jsx("strong",{children:"free online store"})," with our 14-day trial - no credit card required. Our ",s.jsx("strong",{children:"affordable pricing plans"})," start from just 299/month, making it the most cost-effective way to ",s.jsx("strong",{children:"sell online India"})," for small businesses."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" WhatsApp Store Integration"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Convert your business into a ",s.jsx("strong",{children:"WhatsApp store"})," instantly. Accept orders directly through WhatsApp - India's most popular messaging app. Perfect for ",s.jsx("strong",{children:"small business e-commerce"})," owners who want to meet customers where they are."]})]}),s.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[s.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" No Coding Required"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",s.jsx("strong",{children:"digital store maker"})," requires zero technical knowledge. Create a professional ",s.jsx("strong",{children:"online shopping website"})," in minutes with our easy drag-and-drop interface. Perfect for ",s.jsx("strong",{children:"store builder no coding"})," solutions in India."]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-10 rounded-2xl border border-primary/20 text-center",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold mb-4 text-foreground",children:"Start Your Free Online Store in India Today"}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:["Join 10,000+ successful Indian entrepreneurs using DigitalDukandar as their ",s.jsx("strong",{children:"e-commerce platform India"}),". Create your ",s.jsx("strong",{children:"online store builder for small business India"})," in just 5 minutes."]}),s.jsx(kt,{to:"/auth",children:s.jsxs(ae,{size:"lg",className:"h-14 px-10 text-base font-semibold shadow-xl",children:[s.jsx(Cv,{className:"w-5 h-5 mr-2"}),"Create Free Online Store Now",s.jsx(sa,{className:"w-5 h-5 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(ke,{className:"relative overflow-hidden border-0 shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/90"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),s.jsxs("div",{className:"relative p-10 lg:p-20 text-center text-primary-foreground",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Al,{className:"w-16 h-16 mx-auto text-primary-foreground/90"})}),s.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Ready to Launch Your Store?"}),s.jsx("p",{className:"text-xl md:text-2xl mb-10 opacity-95 max-w-3xl mx-auto leading-relaxed font-light",children:"Join thousands of successful entrepreneurs. Create your professional online store today and start selling in minutes."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center mb-8",children:[s.jsx(kt,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"secondary",className:"w-full sm:w-auto h-14 shadow-2xl hover:shadow-primary-foreground/20 text-base px-10 font-semibold",children:[s.jsx(Cv,{className:"w-5 h-5 mr-2"}),"Start Building Free",s.jsx(sa,{className:"w-5 h-5 ml-2"})]})}),s.jsx(kt,{to:"/demo",className:"w-full sm:w-auto",children:s.jsxs(ae,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 bg-white/10 hover:bg-white/20 border-2 border-white/30 text-white text-base px-10 font-semibold backdrop-blur-sm",children:[s.jsx(fm,{className:"w-5 h-5 mr-2"}),"View Demo Store"]})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm font-medium opacity-90",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"No credit card required"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"Free 14-day trial"})]}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}),s.jsx("footer",{className:"border-t border-border/50 bg-gradient-to-b from-background to-muted/20",children:s.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vm,{size:32}),s.jsx("span",{className:"font-playfair font-bold text-xl sm:text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm font-medium text-muted-foreground",children:[s.jsx(kt,{to:"/home",className:"hover:text-foreground transition-colors",children:"Demo Store"}),s.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"}),s.jsx(kt,{to:"/pricing",className:"hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("a",{href:"#how-it-works",className:"hover:text-foreground transition-colors",children:"How It Works"}),s.jsx("a",{href:"#helper-program",className:"hover:text-foreground transition-colors",children:"For Helpers"}),s.jsx(kt,{to:"/become-helper",className:"hover:text-foreground transition-colors",children:"Apply as Helper"}),s.jsx(kt,{to:"/application-status",className:"hover:text-foreground transition-colors",children:"Check Status"}),s.jsx(kt,{to:"/privacy-policy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),s.jsx(kt,{to:"/terms-of-service",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"/sitemap.xml",className:"hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Sitemap"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 StoreBuilder. All rights reserved."})]})})})]})},jU=()=>{const e=ou();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},LNe=Z0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Kr=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ut(LNe({variant:t}),e),...r}));Kr.displayName="Alert";const x5=_.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ut("mb-1 font-medium leading-none tracking-tight",e),...t}));x5.displayName="AlertTitle";const Yr=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ut("text-sm [&_p]:leading-relaxed",e),...t}));Yr.displayName="AlertDescription";const $Ne="modulepreload",BNe=function(e){return"/"+e},NU={},Qm=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(r.map(d=>{if(d=BNe(d),d in NU)return;NU[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":$Ne,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},UNe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qm(async()=>{const{default:n}=await Promise.resolve().then(()=>ax);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class v5 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class SU extends v5{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kU extends v5{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class CU extends v5{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wD;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wD||(wD={}));var VNe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zNe{constructor(t,{headers:r={},customFetch:n,region:a=wD.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=UNe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return VNe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(w=>{throw w.name==="AbortError"?w:new SU(w)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new kU(p);if(!p.ok)throw new CU(p);let g=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new SU(i)}:{data:null,error:i,response:i instanceof CU||i instanceof kU?i.context:void 0}}})}}var Ta={},Vp={},zp={},qp={},Wp={},Hp={},qNe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},u0=qNe();const WNe=u0.fetch,ure=u0.fetch.bind(u0),dre=u0.Headers,HNe=u0.Request,GNe=u0.Response,ax=Object.freeze(Object.defineProperty({__proto__:null,Headers:dre,Request:HNe,Response:GNe,default:ure,fetch:WNe},Symbol.toStringTag,{value:"Module"})),KNe=Epe(ax);var I_={},EU;function fre(){if(EU)return I_;EU=1,Object.defineProperty(I_,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return I_.default=e,I_}var TU;function hre(){if(TU)return Hp;TU=1;var e=Hp&&Hp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Hp,"__esModule",{value:!0});const t=e(KNe),r=e(fre());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,p;let y=null,g=null,v=null,w=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=C:g=JSON.parse(C))}const E=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(y={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,w=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const E=await u.text();try{y=JSON.parse(E),Array.isArray(y)&&u.status===404&&(g=[],y=null,w=200,b="OK")}catch{u.status===404&&E===""?(w=204,b="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((p=y?.details)===null||p===void 0)&&p.includes("0 rows"))&&(y=null,w=200,b="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:g,count:v,status:w,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Hp.default=n,Hp}var AU;function mre(){if(AU)return Wp;AU=1;var e=Wp&&Wp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Wp,"__esModule",{value:!0});const t=e(hre());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Wp.default=r,Wp}var PU;function y5(){if(PU)return qp;PU=1;var e=qp&&qp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qp,"__esModule",{value:!0});const t=e(mre());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return qp.default=r,qp}var OU;function pre(){if(OU)return zp;OU=1;var e=zp&&zp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zp,"__esModule",{value:!0});const t=e(y5());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return zp.default=r,zp}var RU;function YNe(){if(RU)return Vp;RU=1;var e=Vp&&Vp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Vp,"__esModule",{value:!0});const t=e(pre()),r=e(y5());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{m.searchParams.append(g,v)})):(f="POST",p=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:y,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vp.default=n,Vp}var DU;function XNe(){if(DU)return Ta;DU=1;var e=Ta&&Ta.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.PostgrestError=Ta.PostgrestBuilder=Ta.PostgrestTransformBuilder=Ta.PostgrestFilterBuilder=Ta.PostgrestQueryBuilder=Ta.PostgrestClient=void 0;const t=e(YNe());Ta.PostgrestClient=t.default;const r=e(pre());Ta.PostgrestQueryBuilder=r.default;const n=e(y5());Ta.PostgrestFilterBuilder=n.default;const a=e(mre());Ta.PostgrestTransformBuilder=a.default;const i=e(hre());Ta.PostgrestBuilder=i.default;const o=e(fre());return Ta.PostgrestError=o.default,Ta.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ta}var JNe=XNe();const ZNe=Qr(JNe),{PostgrestClient:QNe,PostgrestQueryBuilder:Qit,PostgrestFilterBuilder:eot,PostgrestTransformBuilder:tot,PostgrestBuilder:rot,PostgrestError:not}=ZNe;class eSe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tSe="2.75.0",rSe=`realtime-js/${tSe}`,nSe="1.0.0",_D=1e4,sSe=1e3,aSe=100;var cy;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cy||(cy={}));var pa;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pa||(pa={}));var rc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rc||(rc={}));var jD;(function(e){e.websocket="websocket"})(jD||(jD={}));var Ph;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ph||(Ph={}));class iSe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class gre{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zn||(zn={}));const IU=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=oSe(o,e,t,a),i),{}):{}},oSe=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?xre(i,o):ND(o)},xre=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dSe(t,r)}switch(e){case zn.bool:return lSe(t);case zn.float4:case zn.float8:case zn.int2:case zn.int4:case zn.int8:case zn.numeric:case zn.oid:return cSe(t);case zn.json:case zn.jsonb:return uSe(t);case zn.timestamp:return fSe(t);case zn.abstime:case zn.date:case zn.daterange:case zn.int4range:case zn.int8range:case zn.money:case zn.reltime:case zn.text:case zn.time:case zn.timestamptz:case zn.timetz:case zn.tsrange:case zn.tstzrange:return ND(t);default:return ND(t)}},ND=e=>e,lSe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cSe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uSe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dSe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>xre(t,l))}return e},fSe=e=>typeof e=="string"?e.replace(" ","T"):e,vre=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bT{constructor(t,r,n={},a=_D){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var MU;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(MU||(MU={}));class uy{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uy.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=uy.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=uy.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FU;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FU||(FU={}));var dy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dy||(dy={}));var ku;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ku||(ku={}));class b5{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bT(this,rc.join,this.params,this.timeout),this.rejoinTimer=new gre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pa.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rc.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new uy(this),this.broadcastEndpointURL=vre(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pa.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[dy.PRESENCE]&&this.bindings[dy.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(ku.CHANNEL_ERROR,p)),this._onClose(()=>t?.(ku.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t?.(ku.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,w=[];for(let b=0;b<v;b++){const j=g[b],{filter:{event:E,schema:S,table:C,filter:k}}=j,R=p&&p[b];if(R&&R.event===E&&R.schema===S&&R.table===C&&R.filter===k)w.push(Object.assign(Object.assign({},j),{id:R.id}));else{this.unsubscribe(),this.state=pa.errored,t?.(ku.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ku.SUBSCRIBED);return}}).receive("error",p=>{this.state=pa.errored,t?.(ku.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(ku.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pa.joined&&t===dy.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rc.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new bT(this,rc.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pa.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new bT(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>aSe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=rc;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,g,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,g,v,w,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return E&&((g=r.ids)===null||g===void 0?void 0:g.includes(E))&&(S==="*"||S?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(b=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:g,table:v,commit_timestamp:w,type:b,errors:j}=y;m=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:w,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===pa.closed}_isJoined(){return this.state===pa.joined}_isJoining(){return this.state===pa.joining}_isLeaving(){return this.state===pa.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&b5.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rc.close,{},t)}_onError(t){this._on(rc.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pa.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=IU(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=IU(t.columns,t.old_record)),r}}const wT=()=>{},M_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hSe=[1e3,2e3,5e3,1e4],mSe=1e4,pSe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gSe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_D,this.transport=null,this.heartbeatIntervalMs=M_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wT,this.ref=0,this.reconnectTimer=null,this.logger=wT,this.conn=null,this.sendBuffer=[],this.serializer=new iSe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Qm(async()=>{const{default:l}=await Promise.resolve().then(()=>ax);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jD.websocket}`,this.httpEndpoint=vre(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eSe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nSe}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cy.connecting:return Ph.Connecting;case cy.open:return Ph.Open;case cy.closing:return Ph.Closing;default:return Ph.Closed}}isConnected(){return this.connectionState()===Ph.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new b5(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sSe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},M_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rc.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pSe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:rSe};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(rc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gre(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},M_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:_D,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:M_.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:wT,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(f=>hSe[f-1]||mSe),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((f,m)=>m(JSON.stringify(f))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class w5 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zs(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xSe extends w5{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class SD extends w5{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const yre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qm(async()=>{const{default:n}=await Promise.resolve().then(()=>ax);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ySe=()=>vSe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qm(()=>Promise.resolve().then(()=>ax),void 0)).Response:Response}),kD=e=>{if(Array.isArray(e))return e.map(r=>kD(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=kD(n)}),t},bSe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ep=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _T=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wSe=(e,t,r)=>ep(void 0,void 0,void 0,function*(){const n=yield ySe();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new xSe(_T(a),i,o))}).catch(a=>{t(new SD(_T(a),a))}):t(new SD(_T(e),e))}),_Se=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(bSe(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Tw(e,t,r,n,a,i){return ep(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,_Se(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>wSe(c,l,n))})})}function fN(e,t,r,n){return ep(this,void 0,void 0,function*(){return Tw(e,"GET",t,r,n)})}function Rc(e,t,r,n,a){return ep(this,void 0,void 0,function*(){return Tw(e,"POST",t,n,a,r)})}function CD(e,t,r,n,a){return ep(this,void 0,void 0,function*(){return Tw(e,"PUT",t,n,a,r)})}function jSe(e,t,r,n){return ep(this,void 0,void 0,function*(){return Tw(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function bre(e,t,r,n,a){return ep(this,void 0,void 0,function*(){return Tw(e,"DELETE",t,n,a,r)})}var NSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class SSe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return NSe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zs(t))return{data:null,error:t};throw t}})}}var kSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class CSe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new SSe(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return kSe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zs(t))return{data:null,error:t};throw t}})}}var so=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ESe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LU={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TSe{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=yre(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return so(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},LU),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?CD:Rc)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Zs(i))return{data:null,error:i};throw i}})}upload(t,r,n){return so(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return so(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:LU.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield CD(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Zs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return so(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Rc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new w5("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}update(t,r,n){return so(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return so(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}copy(t,r,n){return so(this,void 0,void 0,function*(){try{return{data:{path:(yield Rc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return so(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Rc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return so(this,void 0,void 0,function*(){try{const a=yield Rc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>fN(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new CSe(c,this.shouldThrowOnError)}info(t){return so(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fN(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:kD(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}exists(t){return so(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield jSe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n)&&n instanceof SD){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return so(this,void 0,void 0,function*(){try{return{data:yield bre(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}list(t,r,n){return so(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ESe),r),{prefix:t||""});return{data:yield Rc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}listV2(t,r){return so(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Rc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ASe="2.75.0",PSe={"X-Client-Info":`storage-js/${ASe}`};var Gp=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class OSe{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PSe),r),this.fetch=yre(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Gp(this,void 0,void 0,function*(){try{return{data:yield fN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Zs(t))return{data:null,error:t};throw t}})}getBucket(t){return Gp(this,void 0,void 0,function*(){try{return{data:yield fN(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}createBucket(t){return Gp(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Rc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zs(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Gp(this,void 0,void 0,function*(){try{return{data:yield CD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Zs(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Gp(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Gp(this,void 0,void 0,function*(){try{return{data:yield bre(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Zs(r))return{data:null,error:r};throw r}})}}class RSe extends OSe{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new TSe(this.url,this.headers,t,this.fetch)}}const DSe="2.75.0";let Fv="";typeof Deno<"u"?Fv="deno":typeof document<"u"?Fv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fv="react-native":Fv="node";const ISe={"X-Client-Info":`supabase-js-${Fv}/${DSe}`},MSe={headers:ISe},FSe={schema:"public"},LSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$Se={};var BSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const USe=e=>{let t;return e?t=e:typeof fetch>"u"?t=ure:t=fetch,(...r)=>t(...r)},VSe=()=>typeof Headers>"u"?dre:Headers,zSe=(e,t,r)=>{const n=USe(r),a=VSe();return(i,o)=>BSe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var qSe=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function WSe(e){return e.endsWith("/")?e:e+"/"}function HSe(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>qSe(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function GSe(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WSe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wre="2.75.0",cg=30*1e3,ED=3,jT=ED*cg,KSe="http://localhost:9999",YSe="supabase.auth.token",XSe={"X-Client-Info":`gotrue-js/${wre}`},TD="X-Supabase-Api-Version",_re={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JSe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZSe=600*1e3;class Qy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function nr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QSe extends Qy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e2e(e){return nr(e)&&e.name==="AuthApiError"}class Oh extends Qy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qf extends Qy{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Vd extends qf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t2e(e){return nr(e)&&e.name==="AuthSessionMissingError"}class Kp extends qf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class F_ extends qf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class L_ extends qf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r2e(e){return nr(e)&&e.name==="AuthImplicitGrantRedirectError"}class $U extends qf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AD extends qf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function NT(e){return nr(e)&&e.name==="AuthRetryableFetchError"}class BU extends qf{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class PD extends qf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UU=` 	
\r=`.split(""),n2e=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UU.length;t+=1)e[UU[t].charCodeAt(0)]=-2;for(let t=0;t<hN.length;t+=1)e[hN[t].charCodeAt(0)]=t;return e})();function VU(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hN[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hN[n]),t.queuedBits-=6}}function jre(e,t,r){const n=n2e[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zU(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{i2e(o,n,r)};for(let o=0;o<e.length;o+=1)jre(e.charCodeAt(o),a,i);return t.join("")}function s2e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function a2e(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}s2e(n,t)}}function i2e(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zg(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)jre(e.charCodeAt(a),r,n);return new Uint8Array(t)}function o2e(e){const t=[];return a2e(e,r=>t.push(r)),new Uint8Array(t)}function Bh(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>VU(a,r,n)),VU(null,r,n),t.join("")}function l2e(e){return Math.round(Date.now()/1e3)+e}function c2e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Co=()=>typeof window<"u"&&typeof document<"u",gh={tested:!1,writable:!1},Nre=()=>{if(!Co())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gh.tested)return gh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gh.tested=!0,gh.writable=!0}catch{gh.tested=!0,gh.writable=!1}return gh.writable};function u2e(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Sre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qm(async()=>{const{default:n}=await Promise.resolve().then(()=>ax);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},d2e=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ug=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Md=async(e,t)=>{await e.removeItem(t)};class T2{constructor(){this.promise=new T2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}T2.promiseConstructor=Promise;function ST(e){const t=e.split(".");if(t.length!==3)throw new PD("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!JSe.test(t[n]))throw new PD("JWT not in base64url format");return{header:JSON.parse(zU(t[0])),payload:JSON.parse(zU(t[1])),signature:zg(t[2]),raw:{header:t[0],payload:t[1]}}}async function f2e(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function h2e(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function m2e(e){return("0"+e.toString(16)).substr(-2)}function p2e(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,m2e).join("")}async function g2e(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function x2e(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await g2e(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yp(e,t,r=!1){const n=p2e();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ug(e,`${t}-code-verifier`,a);const i=await x2e(n);return[i,n===i?"plain":"s256"]}const v2e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y2e(e){const t=e.headers.get(TD);if(!t||!t.match(v2e))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function b2e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function w2e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _2e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xp(e){if(!_2e.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kT(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qU(e){return JSON.parse(JSON.stringify(e))}var j2e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const kh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N2e=[502,503,504];async function WU(e){var t;if(!d2e(e))throw new AD(kh(e),0);if(N2e.includes(e.status))throw new AD(kh(e),e.status);let r;try{r=await e.json()}catch(i){throw new Oh(kh(i),i)}let n;const a=y2e(e);if(a&&a.getTime()>=_re["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new BU(kh(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vd}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new BU(kh(r),e.status,r.weak_password.reasons);throw new QSe(kh(r),e.status||500,n)}const S2e=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Sr(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[TD]||(i[TD]=_re["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await k2e(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function k2e(e,t,r,n,a,i){const o=S2e(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new AD(kh(c),0)}if(l.ok||await WU(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await WU(c)}}function Ql(e){var t;let r=null;T2e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=l2e(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function HU(e){const t=Ql(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function C2e(e){return{data:e,error:null}}function E2e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=j2e(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function GU(e){return e}function T2e(e){return e.access_token&&e.refresh_token&&e.expires_in}const CT=["global","local","others"];var A2e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class P2e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sre(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=CT[0]){if(CT.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${CT.join(", ")}`);try{return await Sr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Sr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gd})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=A2e(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Sr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:E2e,redirectTo:r?.redirectTo})}catch(r){if(nr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Sr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gd})}catch(r){if(nr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Sr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:GU});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(nr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xp(t);try{return await Sr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gd})}catch(r){if(nr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xp(t);try{return await Sr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gd})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xp(t);try{return await Sr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gd})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xp(t.userId);try{const{data:r,error:n}=await Sr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xp(t.userId),Xp(t.id);try{return{data:await Sr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Sr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:GU});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(nr(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Sr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Sr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Sr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Sr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}}function KU(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Jp={debug:!!(globalThis&&Nre()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kre extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class O2e extends kre{}async function R2e(e,t,r){Jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Jp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new O2e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jp.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function D2e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cre(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function I2e(e){return parseInt(e,16)}function M2e(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function F2e(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Cre(e.address),y=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${p}

${g}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const j of u){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);b+=`
- ${j}`}w+=b}return`${v}
${w}`}class Xs extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class mN extends Xs{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function L2e({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Xs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Xs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Tre(o)){if(i.rp.id!==o)return new Xs({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Xs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $2e({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Tre(n)){if(r.rpId!==n)return new Xs({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Ere=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class B2e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const U2e=new B2e;function V2e(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Ere(e,["challenge","user","excludeCredentials"]),i=zg(t).buffer,o=Object.assign(Object.assign({},r),{id:zg(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:zg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function z2e(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ere(e,["challenge","allowCredentials"]),a=zg(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:zg(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function q2e(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Bh(new Uint8Array(e.response.attestationObject)),clientDataJSON:Bh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function W2e(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Bh(new Uint8Array(a.authenticatorData)),clientDataJSON:Bh(new Uint8Array(a.clientDataJSON)),signature:Bh(new Uint8Array(a.signature)),userHandle:a.userHandle?Bh(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Tre(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function YU(){var e,t;return!!(Co()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function H2e(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mN("Browser returned unexpected credential type",t)}:{data:null,error:new mN("Empty credential response",t)}}catch(t){return{data:null,error:L2e({error:t,options:e})}}}async function G2e(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mN("Browser returned unexpected credential type",t)}:{data:null,error:new mN("Empty credential response",t)}}catch(t){return{data:null,error:$2e({error:t,options:e})}}}const K2e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Y2e={userVerification:"preferred",hints:["security-key"]};function pN(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=pN(l,o):n[i]=pN(o)}else n[i]=o}return n}function X2e(e,t){return pN(K2e,e,t||{})}function J2e(e,t){return pN(Y2e,e,t||{})}class Z2e{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??U2e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=X2e(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await H2e({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=J2e(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await G2e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return nr(o)?{data:null,error:o}:{data:null,error:new Oh("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Qy("rpId is required for WebAuthn authentication")};try{if(!YU())return{data:null,error:new Oh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return nr(o)?{data:null,error:o}:{data:null,error:new Oh("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Qy("rpId is required for WebAuthn registration")};try{if(!YU())return{data:null,error:new Oh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return nr(o)?{data:null,error:o}:{data:null,error:new Oh("Unexpected error in register",o)}}}}D2e();const Q2e={url:KSe,storageKey:YSe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XSe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function XU(e,t,r){return await r()}const Zp={};class eb{get jwks(){var t,r;return(r=(t=Zp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zp[this.storageKey]=Object.assign(Object.assign({},Zp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zp[this.storageKey]=Object.assign(Object.assign({},Zp[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=eb.nextInstanceID,eb.nextInstanceID+=1,this.instanceID>0&&Co()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Q2e),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new P2e({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Sre(a.fetch),this.lock=a.lock||XU,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Co()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=R2e:this.lock=XU,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Z2e(this)},this.persistSession?(a.storage?this.storage=a.storage:Nre()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KU(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=KU(this.memoryStorage)),Co()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wre}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=u2e(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Co()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r2e(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return nr(r)?{error:r}:{error:new Oh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ql}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(nr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Yp(this.storage,this.storageKey)),i=await Sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},xform:Ql})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await Sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ql})}else throw new F_("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(nr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:HU})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:HU})}else throw new F_("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Kp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:g,wallet:v,statement:w,options:b}=t;let j;if(Co())if(typeof v=="object")j=v;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")j=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const E=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),S=await j.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Cre(S[0]);let k=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const O=await j.request({method:"eth_chainId"});k=I2e(O)}const R={domain:E.host,address:C,statement:w,uri:E.href,version:"1",chainId:k,nonce:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=F2e(R),y=await j.request({method:"personal_sign",params:[M2e(p),C]})}try{const{data:g,error:v}=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ql});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Kp}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(nr(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,m,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:v,wallet:w,statement:b,options:j}=t;let E;if(Co())if(typeof w=="object")E=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const S=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((f=(d=j?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...j.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:v,error:w}=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Bh(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ql});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Kp}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(nr(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await xh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ql});if(await Md(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Kp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(nr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ql}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yp(this.storage,this.storageKey));const{error:f}=await Sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new F_("You must provide either an email or phone number.")}catch(l){if(nr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Sr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ql});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(nr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Yp(this.storage,this.storageKey)),await Sr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:C2e})}catch(i){if(nr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vd;const{error:a}=await Sr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(nr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Sr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Sr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new F_("You must provide either an email or phone number and a type")}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jT:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await xh(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=kT()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gd}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vd}:await Sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Gd})})}catch(r){if(nr(r))return t2e(r)&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Vd;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Yp(this.storage,this.storageKey));const{data:u,error:d}=await Sr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Gd});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(nr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vd;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=ST(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(nr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Vd;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(nr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Co())throw new L_("No browser detected.");if(t.error||t.error_description||t.error_code)throw new L_(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $U("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new L_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $U("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new L_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=cg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(nr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(e2e(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Md(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=c2e(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yp(this.storage,this.storageKey,!0));try{return await Sr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(nr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Sr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Co()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(nr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Ql}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Kp}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(a){if(nr(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Sr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h2e(async a=>(a>0&&await f2e(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Sr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ql})),(a,i)=>{const o=200*Math.pow(2,a);return i&&NT(i)&&Date.now()+o-n<cg})}catch(n){if(this._debug(r,"error",n),nr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Co()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await xh(this.storage,this.storageKey);if(a&&this.userStorage){let o=await xh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ug(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:kT()}else if(a&&!a.user&&!a.user){const o=await xh(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Md(this.storage,this.storageKey+"-user"),await ug(this.storage,this.storageKey,a)):a.user=kT()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jT;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jT}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),NT(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new T2;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Vd;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),nr(i)){const o={data:null,error:i};return NT(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ug(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=qU(a);await ug(this.storage,this.storageKey,i)}else{const a=qU(r);await ug(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Md(this.storage,this.storageKey),await Md(this.storage,this.storageKey+"-code-verifier"),await Md(this.storage,this.storageKey+"-user"),this.userStorage&&await Md(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Co()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cg);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/cg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${cg}ms, refresh threshold is ${ED} ticks`),a<=ED&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kre)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Co()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yp(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Sr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Sr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(nr(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?q2e(t.webauthn.credential_response):W2e(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Sr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(nr(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Sr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:V2e(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:z2e(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(nr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ST(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+ZSe>a)return n;const{data:i,error:o}=await Sr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=ST(n);r?.allowExpired||b2e(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=w2e(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,o2e(`${l}.${c}`)))throw new PD("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}}}eb.nextInstanceID=0;const eke=eb;class tke extends eke{constructor(t){super(t)}}var rke=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class nke{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=GSe(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:FSe,realtime:$Se,auth:Object.assign(Object.assign({},LSe),{storageKey:c}),global:MSe},d=HSe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=zSe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new QNe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new RSe(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zNe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return rke(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tke({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new gSe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ske=(e,t,r)=>new nke(e,t,r);function ake(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ake()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ike="https://vexeuxsvckpfvuxqchqu.supabase.co",oke="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c",Z=ske(ike,oke,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});Z.auth.onAuthStateChange((e,t)=>{e==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):(e==="SIGNED_OUT"||!t&&e==="INITIAL_SESSION")&&localStorage.removeItem("supabase.auth.token")});Z.auth.getSession().catch(e=>{e?.message?.includes("Refresh Token")&&(console.warn("Clearing invalid refresh token"),Z.auth.signOut({scope:"local"}))});const lke=5,cke=48;function uke(){const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(0),o=()=>{const f=new Date;return f.setHours(f.getHours()-cke),f.toISOString()},l=f=>{const p=Math.floor((new Date().getTime()-f.getTime())/1e3);if(p<60)return"Just now";if(p<3600){const g=Math.floor(p/60);return`${g} ${g===1?"minute":"minutes"} ago`}if(p<86400){const g=Math.floor(p/3600);return`${g} ${g===1?"hour":"hours"} ago`}const y=Math.floor(p/86400);return`${y} ${y===1?"day":"days"} ago`},c=async()=>{try{const{data:{session:f}}=await Z.auth.getSession();if(!f){t([]),n(!1);return}const{data:m}=await Z.from("stores").select("id").eq("user_id",f.user.id).maybeSingle();if(!m){t([]),n(!1);return}const p=o(),y=[],{data:g}=await Z.from("orders").select("id, order_number, customer_name, created_at, status").eq("store_id",m.id).gte("created_at",p).order("created_at",{ascending:!1}).limit(10);g&&g.forEach(w=>{const b=new Date(w.created_at);y.push({id:`order-${w.id}`,title:"New Order Received",description:`Order #${w.order_number} from ${w.customer_name}`,time:l(b),unread:!0,type:"order",createdAt:b})});const{data:v}=await Z.from("products").select("id, name, stock, updated_at").eq("store_id",m.id).eq("status","published").lte("stock",lke).gt("stock",0).order("stock",{ascending:!0}).limit(5);v&&v.forEach(w=>{const b=new Date(w.updated_at||new Date);y.push({id:`stock-${w.id}`,title:"Product Stock Low",description:`${w.name} is running low (${w.stock} left)`,time:l(b),unread:!0,type:"stock",createdAt:b})}),y.sort((w,b)=>b.createdAt.getTime()-w.createdAt.getTime()),t(y),i(y.filter(w=>w.unread).length),n(!1)}catch(f){console.error("[useNotifications] Error fetching notifications:",f),n(!1)}};return _.useEffect(()=>{c();const f=Z.channel("notifications-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},()=>{c()}).subscribe(),m=Z.channel("notifications-products").on("postgres_changes",{event:"UPDATE",schema:"public",table:"products"},()=>{c()}).subscribe();return()=>{Z.removeChannel(f),Z.removeChannel(m)}},[]),{notifications:e,unreadCount:a,isLoading:r,markAsRead:f=>{t(m=>m.map(p=>p.id===f?{...p,unread:!1}:p)),i(m=>Math.max(0,m-1))},markAllAsRead:()=>{t(f=>f.map(m=>({...m,unread:!1}))),i(0)},refresh:c}}const rs=({children:e})=>{const t=wr(),r=ou(),[n,a]=_.useState(!1),[i,o]=_.useState("Your Store"),[l,c]=_.useState(""),[u,d]=_.useState(""),[f,m]=_.useState(!1),p=_.useRef(null),[y,g]=_.useState([]),[v,w]=_.useState(null),[b,j]=_.useState(!0),[E,S]=_.useState(null),[C,k]=_.useState(!0),[R,O]=_.useState([]),{notifications:A,unreadCount:P}=uke();_.useEffect(()=>{(async()=>{console.log("[AdminLayout] Checking authentication...");const{data:{session:G}}=await Z.auth.getSession();if(console.log("[AdminLayout] Session:",G?"Found":"None"),!G){console.log("[AdminLayout] No session - redirecting to auth"),t("/auth");return}console.log("[AdminLayout] User authenticated:",G.user.email),G.user.email&&c(G.user.email);let{data:K,error:I}=await Z.from("profiles").select("full_name, email").eq("user_id",G.user.id).maybeSingle();if(!K){console.log("[AdminLayout] Profile not found - creating profile for user");const{data:J,error:X}=await Z.from("profiles").insert({user_id:G.user.id,email:G.user.email||"",full_name:G.user.user_metadata?.full_name||G.user.user_metadata?.name||""}).select("full_name, email").single();X?console.error("[AdminLayout] Error creating profile:",X):(console.log("[AdminLayout] Profile created successfully"),K=J)}K?.full_name&&d(K.full_name);const{data:B,error:Y}=await Z.from("stores").select("*").eq("user_id",G.user.id).maybeSingle();if(console.log("[AdminLayout] Store data:",B?"Found":"None",Y?`Error: ${Y.message}`:""),!B){console.log("[AdminLayout] No store found - redirecting to onboarding"),t("/onboarding/store-setup");return}B.name&&(console.log("[AdminLayout] Setting store name:",B.name),o(B.name)),B.enabled_features&&O(B.enabled_features);const{data:z}=await Z.from("subscriptions").select(`
          *,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",G.user.id).single();if(z){const J=new Date,X=z.current_period_end?new Date(z.current_period_end):null;if(X&&X<J&&S({expired:!0,expiresAt:X.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),z?.subscription_plans){const ee=z.subscription_plans.whatsapp_orders_limit,he=z.subscription_plans.website_orders_limit,fe=z.whatsapp_orders_used||0,ge=z.website_orders_used||0,U=ee&&ee>0&&fe>=ee,ne=he&&he>0&&ge>=he;(U||ne)&&w({whatsapp:U,website:ne,whatsappUsed:fe,whatsappLimit:ee||0,websiteUsed:ge,websiteLimit:he||0})}}})();const{data:{subscription:W}}=Z.auth.onAuthStateChange(G=>{G==="SIGNED_OUT"&&t("/auth")});return()=>W.unsubscribe()},[t]),_.useEffect(()=>{const H=W=>{p.current&&!p.current.contains(W.target)&&m(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const D=async()=>{console.log("[AdminLayout] Logging out..."),await Z.auth.signOut(),console.log("[AdminLayout] User signed out"),Fe({title:"Logged Out",description:"You have been successfully logged out"}),t("/")},F=H=>{g(W=>W.includes(H)?W.filter(G=>G!==H):[...W,H])},L=[{name:"Dashboard",href:"/admin/dashboard",icon:RB,current:r.pathname==="/admin/dashboard"},{name:"Products",href:"/admin/products",icon:Bn,current:r.pathname.startsWith("/admin/products")},{name:"Categories",href:"/admin/categories",icon:Bn,current:r.pathname==="/admin/categories"},{name:"Orders",href:"/admin/orders",icon:Nf,current:r.pathname==="/admin/orders"},{name:"Analytics",href:"/admin/analytics",icon:RB,current:r.pathname==="/admin/analytics"},{name:"Growth",icon:Gge,isDropdown:!0,current:r.pathname.startsWith("/admin/growth"),subItems:[{name:"SEO",href:"/admin/growth/seo",icon:Fl,current:r.pathname==="/admin/growth/seo"},{name:"Social Media",href:"/admin/growth/social-media",icon:Pg,current:r.pathname==="/admin/growth/social-media"},{name:"Instagram",href:"/admin/growth/instagram",icon:Tl,current:r.pathname==="/admin/growth/instagram"}]},{name:"Subscription",href:"/admin/subscription",icon:Dn,current:r.pathname==="/admin/subscription"},...R.includes("shipping")?[{name:"Shipping",href:"/admin/shipping",icon:fc,current:r.pathname==="/admin/shipping"}]:[],...R.includes("google-reviews")?[{name:"Google Reviews",href:"/admin/google-reviews",icon:Hi,current:r.pathname==="/admin/google-reviews"}]:[],{name:"Marketplace",href:"/admin/marketplace",icon:Yh,current:r.pathname==="/admin/marketplace"},{name:"Settings",href:"/admin/settings",icon:ba,current:r.pathname==="/admin/settings"}];return s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col
          transform transition-transform duration-300 ease-out shadow-xl lg:shadow-none
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vm,{size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"font-semibold text-foreground text-sm truncate",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:()=>a(!1),className:"lg:hidden p-1.5 hover:bg-muted rounded-md transition-colors touch-target",children:s.jsx($a,{className:"w-5 h-5 text-muted-foreground"})})]})}),s.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-hide",children:L.map(H=>s.jsx("div",{children:H.isDropdown?s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>F(H.name),className:`w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                      ${H.current?"bg-primary/10 text-primary":"text-foreground hover:bg-muted"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(H.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:H.name})]}),s.jsx($u,{className:`w-4 h-4 transition-transform duration-200 ${y.includes(H.name)?"rotate-180":""}`})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-200 ${y.includes(H.name)?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"pl-4 mt-1 space-y-1",children:H.subItems?.map(W=>s.jsxs(kt,{to:W.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 touch-target
                            ${W.current?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}
                          `,children:[s.jsx(W.icon,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:W.name})]},W.name))})})]}):s.jsxs(kt,{to:H.href,onClick:()=>{window.innerWidth<1024&&a(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                    ${H.current?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-muted"}
                  `,children:[s.jsx(H.icon,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:H.name})]})},H.name))}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 transition-all duration-200 touch-target",children:[s.jsx(Km,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:s.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-14 lg:h-16",children:[s.jsx("button",{onClick:()=>a(!n),className:"lg:hidden p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Toggle menu",children:s.jsx(nM,{className:"w-6 h-6 text-foreground"})}),s.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[s.jsx(vm,{size:20}),s.jsx("span",{className:"font-semibold text-foreground text-sm truncate max-w-[120px]",children:i})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 ml-auto",children:[s.jsx(ti,{}),s.jsxs("div",{className:"relative",ref:p,children:[s.jsxs("button",{onClick:()=>m(!f),className:"relative p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Notifications",children:[s.jsx(PB,{className:"w-5 h-5 text-foreground"}),P>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full ring-2 ring-card"})]}),f&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Notifications"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["You have ",P," unread notification",P!==1?"s":""]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-hide",children:A.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(PB,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications yet"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You'll see new orders and stock alerts here"})]}):A.map(H=>s.jsxs("div",{className:`p-4 hover:bg-muted transition-colors cursor-pointer border-b border-border last:border-0 ${H.unread?"bg-primary/5":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground flex-1",children:H.title}),H.unread&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-1 ml-2 flex-shrink-0"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:H.description}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:H.time})]},H.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-2 lg:pl-3 border-l border-border",children:[s.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-primary rounded-full flex items-center justify-center",children:s.jsx(e0,{className:"w-4 h-4 lg:w-5 lg:h-5 text-primary-foreground"})}),s.jsxs("div",{className:"hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[180px]",children:u||l||"Admin User"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[180px]",children:u&&l?l:"Store Manager"})]})]})]})]})}),E&&C&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Kr,{className:"border-destructive bg-destructive/10",children:[s.jsx(ra,{className:"h-5 w-5 text-destructive"}),s.jsxs(Yr,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Subscription Expired"}),s.jsxs("p",{className:"text-sm text-foreground",children:["Your subscription expired on ",E.expiresAt,". You cannot accept new orders until you renew your subscription."," ",s.jsx(ae,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Renew your subscription"})," ","to continue accepting orders."]})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>k(!1),children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})})}),v&&b&&!E&&s.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(Kr,{className:"border-destructive bg-destructive/10",children:[s.jsx(ra,{className:"h-5 w-5 text-destructive"}),s.jsxs(Yr,{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Order Limit Reached"}),s.jsxs("p",{className:"text-sm text-foreground",children:[v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp (",v.whatsappUsed,"/",v.whatsappLimit,") and Website (",v.websiteUsed,"/",v.websiteLimit,") order limits. "]}),v.whatsapp&&!v.website&&s.jsxs(s.Fragment,{children:["You've reached your WhatsApp order limit (",v.whatsappUsed,"/",v.whatsappLimit,"). "]}),!v.whatsapp&&v.website&&s.jsxs(s.Fragment,{children:["You've reached your Website order limit (",v.websiteUsed,"/",v.websiteLimit,"). "]}),s.jsx(ae,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Upgrade your plan"})," ","to continue receiving orders."]})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>j(!1),children:s.jsx(Gn,{className:"h-4 w-4"})})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto smooth-scroll",children:s.jsx("div",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})]})},_5=async()=>{const{data:{session:e}}=await Z.auth.getSession();if(!e?.user)return null;const{data:t}=await Z.from("stores").select("id").eq("user_id",e.user.id).maybeSingle();return t?.id||null},dke=()=>{console.log("Products are now stored in Supabase database")},OD=async()=>{const e=await _5();if(!e)return[];const{data:t,error:r}=await Z.from("products").select("*").eq("store_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching products:",r),[]):t||[]},tb=async e=>{if(!e){const n=await _5();if(!n)return[];e=n}const{data:t,error:r}=await Z.from("products").select("*").eq("store_id",e).eq("status","published").order("created_at",{ascending:!1});return r?(console.error("Error fetching published products:",r),[]):t||[]},Rj=async e=>{const{data:t,error:r}=await Z.from("products").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching product:",r),null):t},fke=async(e,t)=>{let r=Z.from("products").select("*").eq("slug",e);const{data:n,error:a}=await r.maybeSingle();return a?(console.error("Error fetching product by slug:",a),null):n},hke=async e=>{const t=await _5();if(!t)throw console.error("[PRODUCT] No store ID found for current user"),new Error("No store found for current user");console.log("[PRODUCT] Creating product for store:",t,"Name:",e.name,"Status:",e.status||"published");const{data:r,error:n}=await Z.from("products").insert([{store_id:t,name:e.name,slug:e.slug,description:e.description,category:e.category,base_price:e.basePrice||e.base_price,price_range:e.priceRange||e.price_range,stock:e.stock||0,sku:e.sku,status:e.status||"published",images:e.images||[],video_url:e.videoUrl||e.video_url,variants:e.variants||[]}]).select().single();if(n)throw console.error("[PRODUCT] Error adding product:",n),n;return console.log("[PRODUCT]  Product created successfully:",r.id,"Name:",r.name,"Status:",r.status),r},mke=async(e,t)=>{const r={};t.name!==void 0&&(r.name=t.name),t.description!==void 0&&(r.description=t.description),t.category!==void 0&&(r.category=t.category),(t.basePrice!==void 0||t.base_price!==void 0)&&(r.base_price=t.basePrice||t.base_price),(t.priceRange!==void 0||t.price_range!==void 0)&&(r.price_range=t.priceRange||t.price_range),t.stock!==void 0&&(r.stock=t.stock),t.sku!==void 0&&(r.sku=t.sku),t.status!==void 0&&(r.status=t.status),t.images!==void 0&&(r.images=t.images),(t.videoUrl!==void 0||t.video_url!==void 0)&&(r.video_url=t.videoUrl||t.video_url),t.variants!==void 0&&(r.variants=t.variants);const{data:n,error:a}=await Z.from("products").update(r).eq("id",e).select().single();if(a)throw console.error("Error updating product:",a),a;return n},pke=async e=>{if(!(!e||!e.includes("digitaldukandar.in/uploads/")))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e})}),await Z.from("media_library").delete().eq("file_url",e)}catch(t){console.error("Failed to delete image:",e,t)}},gke=async e=>{const{data:t}=await Z.from("products").select("images").eq("id",e).single();t?.images&&Array.isArray(t.images)&&await Promise.all(t.images.map(n=>pke(n)));const{error:r}=await Z.from("products").delete().eq("id",e);if(r)throw console.error("Error deleting product:",r),r},xke=()=>{const e=wr(),[t,r]=_.useState({totalProducts:0,activeProducts:0,totalOrders:0,totalCustomers:0}),[n,a]=_.useState("Your Store"),[i,o]=_.useState(""),[l,c]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),[p,y]=_.useState(null),[g,v]=_.useState([]);_.useEffect(()=>{dke(),(async()=>{const{data:{user:k}}=await Z.auth.getUser();if(!k)return;const{data:R}=await Z.from("stores").select("id, name, slug, subdomain, custom_domain").eq("user_id",k.id).maybeSingle();if(!R)return;const O=ywe(R.subdomain||R.slug,R.custom_domain);o(O);const[A,P,D,F]=await Promise.all([OD(),Z.from("subscriptions").select(`
            trial_ends_at,
            current_period_end,
            created_at,
            status,
            subscription_plans (trial_days)
          `).eq("user_id",k.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Z.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",R.id),Z.from("orders").select("customer_email, customer_phone").eq("store_id",R.id),Z.from("stores").update({last_admin_visit:new Date().toISOString()}).eq("id",R.id)]);R.name&&a(R.name);const L=P.data,H=L&&L.length>0?L[0]:null;if(H){let B=null;if(H.status==="trial"?H.trial_ends_at?B=new Date(H.trial_ends_at):H.subscription_plans?.trial_days&&(B=new Date(H.created_at),B.setDate(B.getDate()+H.subscription_plans.trial_days)):H.status==="active"&&H.current_period_end&&(B=new Date(H.current_period_end)),B){const Y=new Date,z=B.getTime()-Y.getTime(),J=Math.ceil(z/(1e3*60*60*24));J>0&&(c(J),d(B),m(H.status))}}const W=A.filter(B=>B.status==="published").length,G=D.count||0;let K=0;F.data&&(K=new Set(F.data.map(Y=>Y.customer_email||Y.customer_phone)).size),r({totalProducts:A.length,activeProducts:W,totalOrders:G,totalCustomers:K});const I=[{id:"1",action:"Product published",product:A[0]?.name||"Sample Product",time:"2 hours ago"},{id:"2",action:"New order received",product:A[1]?.name||"Sample Product",time:"5 hours ago"},{id:"3",action:"Product updated",product:A[2]?.name||"Sample Product",time:"1 day ago"}];v(I)})()},[]),_.useEffect(()=>{if(!u)return;const C=()=>{const R=new Date,O=u.getTime()-R.getTime();if(O<=0){y({days:0,hours:0,minutes:0,seconds:0});return}const A=Math.floor(O/(1e3*60*60*24)),P=Math.floor(O%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(O%(1e3*60*60)/(1e3*60)),F=Math.floor(O%(1e3*60)/1e3);y({days:A,hours:P,minutes:D,seconds:F})};C();const k=setInterval(C,1e3);return()=>clearInterval(k)},[u]);const w=[{title:"Add New Product",description:"Create a new product listing",icon:Gi,action:()=>e("/admin/products/add"),primary:!0},{title:"View All Products",description:"Manage your product catalog",icon:Ls,action:()=>e("/admin/products"),primary:!1}],b=[{title:"Total Products",value:t.totalProducts,change:12,icon:Bn,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Products",value:t.activeProducts,change:8,icon:Al,color:"text-success",bgColor:"bg-success/10"},{title:"Total Orders",value:t.totalOrders,change:23,icon:Nf,color:"text-warning",bgColor:"bg-warning/10"},{title:"Customers",value:t.totalCustomers,change:16,icon:bi,color:"text-primary",bgColor:"bg-primary/10"}],j=C=>C>0?"text-success":C<0?"text-destructive":"text-muted-foreground",E=C=>C>0?xj:C<0?Dge:xj,S=C=>C>0?`+${C}%`:C<0?`${C}%`:`${C}%`;return s.jsx(rs,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[l!==null&&l>0&&p&&f&&s.jsx(ke,{className:`border-l-4 ${f==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsxs(Te,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ys,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${f==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:f==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[p.days,"d ",p.hours,"h ",p.minutes,"m ",p.seconds,"s"]})]})]})]}),f==="trial"&&s.jsx("div",{className:"flex flex-wrap gap-2 sm:ml-auto",children:s.jsx(ae,{size:"sm",className:"whitespace-nowrap",onClick:()=>e("/admin/subscription"),children:"Upgrade Now"})})]})}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Welcome back! "}),s.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:["Here's what's happening with ",s.jsx("span",{className:"font-medium text-primary",children:n})," today."]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map((C,k)=>{const R=j(C.change),O=E(C.change),A=S(C.change);return s.jsx(ke,{className:"admin-stat-card group",children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:C.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:C.value}),s.jsxs("p",{className:`flex items-center text-xs lg:text-sm ${R} mt-0.5 lg:mt-1`,children:[s.jsx(O,{className:"w-3 h-3 mr-1 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:[A," from last month"]})]})]}),s.jsx("div",{className:`p-2 lg:p-3 rounded-xl ${C.bgColor} group-hover:scale-110 transition-transform duration-200 flex-shrink-0 ml-2`,children:s.jsx(C.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${C.color}`})})]})})},k)})}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:[s.jsx(Nf,{className:"w-5 h-5"}),"Your Store URL"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:i||"Loading..."})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{i&&(navigator.clipboard.writeText(i),Fe({title:"Link copied!",description:"Store URL copied to clipboard"}))},children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),s.jsxs(ae,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{if(i){const C=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(i)}`;window.open(C,"_blank")}},children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Generate QR"]})]})]})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-xl font-semibold",children:"Quick Actions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get started with these common tasks"})]}),s.jsx(Te,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:w.map((C,k)=>s.jsx(ke,{className:"admin-card cursor-pointer hover:shadow-lg transition-all duration-200 border-2 hover:border-primary/20",onClick:C.action,children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-start gap-3 lg:gap-4",children:[s.jsx("div",{className:`p-2 lg:p-3 rounded-lg flex-shrink-0 ${C.primary?"bg-primary/10":"bg-muted"}`,children:s.jsx(C.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${C.primary?"text-primary":"text-muted-foreground"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm lg:text-base",children:C.title}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground mb-3",children:C.description}),s.jsxs(ae,{variant:C.primary?"default":"outline",size:"sm",className:`w-full sm:w-auto ${C.primary?"admin-button-primary":"admin-button-secondary"}`,onClick:R=>{R.stopPropagation(),C.action()},children:["Get Started",s.jsx(xj,{className:"w-4 h-4 ml-2"})]})]})]})})},k))})]}),s.jsxs(ke,{className:"border-l-4 border-l-primary",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Hi,{className:"w-5 h-5 text-primary"}),"Getting Started"]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"2/4 complete"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"50%"}})})]}),s.jsxs(Te,{className:"space-y-3",children:[[{done:!0,text:"Create account"},{done:!0,text:"Set up store"},{done:!1,text:"Add first product"},{done:!1,text:"Customize store appearance"}].map((C,k)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${C.done?"bg-success text-success-foreground":"bg-muted border-2 border-border"}`,children:C.done&&s.jsx("span",{className:"text-xs",children:""})}),s.jsx("span",{className:`text-sm ${C.done?"text-muted-foreground line-through":"text-foreground"}`,children:C.text})]},k)),s.jsx(ae,{className:"w-full mt-4",size:"sm",children:"Complete Setup"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs(ke,{className:"lg:col-span-2",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-xl font-semibold",children:"Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates from your store"})]}),s.jsx(Te,{className:"space-y-3",children:g.length>0?g.map(C=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:s.jsx(ys,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-foreground text-sm",children:C.action}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:C.product}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:C.time})]})]},C.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Bn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent activity to display"}),s.jsx("p",{className:"text-xs",children:"Start by adding your first product!"})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-lg font-semibold",children:"Tips & Resources"})}),s.jsx(Te,{className:"space-y-3",children:[{icon:"",text:"Video Tutorials",color:"text-red-500"},{icon:"",text:"Help Documentation",color:"text-blue-500"},{icon:"",text:"Contact Support",color:"text-green-500"},{icon:"",text:"Best Practices Guide",color:"text-purple-500"}].map((C,k)=>s.jsxs(ae,{variant:"ghost",className:"w-full justify-start hover:bg-muted",size:"sm",children:[s.jsx("span",{className:"text-lg mr-3",children:C.icon}),s.jsx("span",{className:"text-sm",children:C.text})]},k))})]})]})]})})},Ve=_.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ve.displayName="Input";var vke="Label",Are=_.forwardRef((e,t)=>s.jsx(Tt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Are.displayName=vke;var Pre=Are;const yke=Z0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=_.forwardRef(({className:e,...t},r)=>s.jsx(Pre,{ref:r,className:ut(yke(),e),...t}));Ce.displayName=Pre.displayName;const ja=_.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ja.displayName="Textarea";function Aw(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var A2="Switch",[bke]=Vs(A2),[wke,_ke]=bke(A2),Ore=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=_.useState(null),y=Zt(t,j=>p(j)),g=_.useRef(!1),v=m?d||!!m.closest("form"):!0,[w,b]=Si({prop:a,defaultProp:i??!1,onChange:u,caller:A2});return s.jsxs(wke,{scope:r,checked:w,disabled:l,children:[s.jsx(Tt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":Mre(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ft(e.onClick,j=>{b(E=>!E),v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),v&&s.jsx(Ire,{control:m,bubbles:!g.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Ore.displayName=A2;var Rre="SwitchThumb",Dre=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=_ke(Rre,r);return s.jsx(Tt.span,{"data-state":Mre(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Dre.displayName=Rre;var jke="SwitchBubbleInput",Ire=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=_.useRef(null),l=Zt(o,i),c=Aw(r),u=pw(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ire.displayName=jke;function Mre(e){return e?"checked":"unchecked"}var Fre=Ore,Nke=Dre;const Wr=_.forwardRef(({className:e,...t},r)=>s.jsx(Fre,{className:ut("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-border transition-colors data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(Nke,{className:ut("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Wr.displayName=Fre.displayName;var P2="Collapsible",[Ske,Lre]=Vs(P2),[kke,j5]=Ske(P2),$re=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Si({prop:n,defaultProp:a??!1,onChange:o,caller:P2});return s.jsx(kke,{scope:r,disabled:i,contentId:mo(),open:c,onOpenToggle:_.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Tt.div,{"data-state":C5(c),"data-disabled":i?"":void 0,...l,ref:t})})});$re.displayName=P2;var Bre="CollapsibleTrigger",N5=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=j5(Bre,r);return s.jsx(Tt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":C5(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:ft(e.onClick,a.onOpenToggle)})});N5.displayName=Bre;var S5="CollapsibleContent",k5=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=j5(S5,e.__scopeCollapsible);return s.jsx(ca,{present:r||a.open,children:({present:i})=>s.jsx(Cke,{...n,ref:t,present:i})})});k5.displayName=S5;var Cke=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=j5(S5,r),[l,c]=_.useState(n),u=_.useRef(null),d=Zt(t,u),f=_.useRef(0),m=f.current,p=_.useRef(0),y=p.current,g=o.open||l,v=_.useRef(g),w=_.useRef(void 0);return _.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),As(()=>{const b=u.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();f.current=j.height,p.current=j.width,v.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),c(n)}},[o.open,n]),s.jsx(Tt.div,{"data-state":C5(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&a})});function C5(e){return e?"open":"closed"}var Ure=$re,Eke=N5,Tke=k5;const Dj=Ure,Ij=N5,Mj=k5,Sn=p5,Ake=g5,Vre=_.forwardRef(({className:e,...t},r)=>s.jsx(Sw,{ref:r,className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Vre.displayName=Sw.displayName;const yn=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Ake,{children:[s.jsx(Vre,{}),s.jsxs(kw,{ref:n,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(E2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx($a,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yn.displayName=kw.displayName;const kn=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kn.displayName="DialogHeader";const Da=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Da.displayName="DialogFooter";const Cn=_.forwardRef(({className:e,...t},r)=>s.jsx(Cw,{ref:r,className:ut("text-lg font-semibold leading-none tracking-tight",e),...t}));Cn.displayName=Cw.displayName;const ps=_.forwardRef(({className:e,...t},r)=>s.jsx(Ew,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));ps.displayName=Ew.displayName;function O2(){const[e,t]=_.useState({maxProducts:null,currentProducts:0,whatsappOrdersLimit:null,whatsappOrdersUsed:0,websiteOrdersLimit:null,websiteOrdersUsed:0,enableAnalytics:!1,enableLocationSharing:!1,enableCustomDomain:!1,enableAiVoice:!1,isLoading:!0,hasActiveSubscription:!1});_.useEffect(()=>{r();const c=Z.channel("subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{console.log("Subscription changed, reloading limits..."),r()}).subscribe(),u=Z.channel("plans-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscription_plans"},()=>{console.log("Subscription plan changed, reloading limits..."),r()}).subscribe();return()=>{c.unsubscribe(),u.unsubscribe()}},[]);const r=async()=>{try{const{data:{user:c}}=await Z.auth.getUser();if(!c){t(y=>({...y,isLoading:!1}));return}const{data:u}=await Z.from("subscriptions").select(`
          *,
          subscription_plans(
            max_products,
            whatsapp_orders_limit,
            website_orders_limit,
            enable_analytics,
            enable_location_sharing,
            enable_custom_domain,
            enable_ai_voice
          )
        `).eq("user_id",c.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),d=u&&u.length>0?u[0]:null;if(!d||!d.subscription_plans){t(y=>({...y,isLoading:!1,hasActiveSubscription:!1}));return}const{data:f}=await Z.from("stores").select("id").eq("user_id",c.id).single();let m=0;if(f){const{count:y}=await Z.from("products").select("*",{count:"exact",head:!0}).eq("store_id",f.id).eq("status","published");m=y||0}const p=d.subscription_plans;t({maxProducts:p.max_products,currentProducts:m,whatsappOrdersLimit:p.whatsapp_orders_limit,whatsappOrdersUsed:d.whatsapp_orders_used||0,websiteOrdersLimit:p.website_orders_limit,websiteOrdersUsed:d.website_orders_used||0,enableAnalytics:p.enable_analytics||!1,enableLocationSharing:p.enable_location_sharing||!1,enableCustomDomain:p.enable_custom_domain||!1,enableAiVoice:p.enable_ai_voice||!1,isLoading:!1,hasActiveSubscription:["active","trial"].includes(d.status)})}catch(c){console.error("Error loading subscription limits:",c),t(u=>({...u,isLoading:!1}))}};return{...e,canPublishProduct:()=>e.hasActiveSubscription?e.maxProducts===null?!0:e.currentProducts<e.maxProducts:!1,canPlaceWhatsAppOrder:()=>!e.hasActiveSubscription||e.whatsappOrdersLimit===null?!1:e.whatsappOrdersLimit===0?!0:e.whatsappOrdersUsed<e.whatsappOrdersLimit,canPlaceWebsiteOrder:()=>!e.hasActiveSubscription||e.websiteOrdersLimit===null?!1:e.websiteOrdersLimit===0?!0:e.websiteOrdersUsed<e.websiteOrdersLimit,getProductLimitMessage:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to publish products.";if(e.maxProducts===null)return null;const c=e.maxProducts-e.currentProducts;return c<=0?`Product limit reached (${e.currentProducts}/${e.maxProducts}). Upgrade your plan to publish more products.`:c<=3?`Warning: Only ${c} product slots remaining (${e.currentProducts}/${e.maxProducts}).`:null},getOrderLimitWarning:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to place orders.";const c=e.whatsappOrdersLimit,u=e.whatsappOrdersUsed,d=e.websiteOrdersLimit,f=e.websiteOrdersUsed;if(c===null&&d===null)return"Ordering features are not available in your current plan.";if(c!==null&&c>0){const m=c-u;if(m<=0)return`WhatsApp order limit reached (${u}/${c}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} WhatsApp order slots remaining (${u}/${c}).`}if(d!==null&&d>0){const m=d-f;if(m<=0)return`Website order limit reached (${f}/${d}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} website order slots remaining (${f}/${d}).`}return null},refresh:r}}const Pke=async e=>{try{const{data:t,error:r}=await Z.from("stores").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Store not found");const n=t,{data:a}=await Z.from("profiles").select("phone, email").eq("user_id",t.user_id).maybeSingle(),i=a,{data:o,error:l}=await Z.from("products").select("id, name, category, price_range, description, status").eq("store_id",e).eq("status","published").order("category",{ascending:!0}).order("name",{ascending:!0});if(l)throw l;const c=o||[],u=c.map(g=>g.id);let d=[];if(u.length>0){const{data:g,error:v}=await Z.from("product_variants").select("id, product_id, size, color, price, stock_quantity").in("product_id",u).order("price",{ascending:!0});!v&&g&&(d=g)}let f="";if(f+="=".repeat(80)+`
`,f+=`${n.name.toUpperCase()}
`,f+=`STORE INFORMATION FOR AI VOICE AGENT
`,f+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,f+="=".repeat(80)+`

`,f+="-".repeat(80)+`
`,f+=`STORE INFORMATION
`,f+="-".repeat(80)+`

`,f+=`Store Name: ${n.name}
`,n.description&&(f+=`
Description:
${n.description}
`),n.address&&(f+=`
Address:
${n.address}
`),n.whatsapp_number&&(f+=`
WhatsApp: ${n.whatsapp_number}
`),i?.phone&&(f+=`Phone: ${i.phone}
`),i?.email&&(f+=`Email: ${i.email}
`),n.social_links&&(f+=`
Social Media:
`,n.social_links.facebook&&(f+=`  Facebook: ${n.social_links.facebook}
`),n.social_links.instagram&&(f+=`  Instagram: ${n.social_links.instagram}
`),n.social_links.twitter&&(f+=`  Twitter: ${n.social_links.twitter}
`)),f+=`
`,f+="-".repeat(80)+`
`,f+=`STORE POLICIES
`,f+="-".repeat(80)+`

`,n.policies?.deliveryAreas&&(f+=`Delivery Areas:
${n.policies.deliveryAreas}

`),n.policies?.returnPolicy&&(f+=`Return Policy:
${n.policies.returnPolicy}

`),n.policies?.shippingPolicy&&(f+=`Shipping Policy:
${n.policies.shippingPolicy}

`),n.policies?.termsConditions&&(f+=`Terms & Conditions:
${n.policies.termsConditions}

`),f+="-".repeat(80)+`
`,f+=`PRODUCT CATALOG (${c.length} Products)
`,f+="-".repeat(80)+`

`,c.length>0){const g=c.reduce((v,w)=>{const b=w.category||"Uncategorized";return v[b]||(v[b]=[]),v[b].push(w),v},{});Object.entries(g).forEach(([v,w],b)=>{b>0&&(f+=`
`),f+=`
${"=".repeat(80)}
`,f+=`CATEGORY: ${v.toUpperCase()}
`,f+=`${"=".repeat(80)}

`,w.forEach((j,E)=>{f+=`${E+1}. ${j.name}
`,j.price_range&&(f+=`   Price: ${j.price_range}
`),j.description&&(f+=`   Description: ${j.description}
`);const S=d.filter(C=>C.product_id===j.id);S.length>0&&(f+=`   Available Variants:
`,S.forEach((C,k)=>{let R=`     ${k+1}) `;const O=[];C.size&&O.push(`Size: ${C.size}`),C.color&&O.push(`Color: ${C.color}`),O.push(`Price: Rs ${C.price}`),O.push(`Stock: ${C.stock_quantity}`),R+=O.join(", "),f+=R+`
`})),f+=`
`})})}else f+=`No products available.

`;f+=`
`+"=".repeat(80)+`
`,f+=`END OF STORE INFORMATION
`,f+="=".repeat(80)+`
`;const m=new Blob([f],{type:"text/plain;charset=utf-8"}),p=URL.createObjectURL(m),y=document.createElement("a");return y.href=p,y.download=`${n.slug}-store-info-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(p),{success:!0,filename:y.download}}catch(t){throw console.error("Error generating TXT:",t),t}};function Oke({open:e,onClose:t,userEmail:r,storeName:n}){const[a,i]=_.useState(""),[o,l]=_.useState(!1);wr();const c=async()=>{if(a!=="DELETE"){Fe({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:{user:u}}=await Z.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:f}=await Z.functions.invoke("delete-user-account",{body:{userId:u.id}});if(f)throw f;if(!d.success)throw new Error(d.error||"Failed to delete account");Fe({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted"}),await Z.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}catch(u){Fe({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"}),l(!1)}};return s.jsx(Sn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"max-w-lg",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(ra,{className:"w-5 h-5"}),"Delete My Account Permanently"]}),s.jsx(ps,{children:"This action is permanent and cannot be undone. All your data will be permanently deleted."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(ra,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:" Warning: This Cannot Be Undone!"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["This action is ",s.jsx("strong",{children:"permanent and irreversible"}),". All your data will be completely deleted from our servers."]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"The following will be permanently deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your account"})," - You will not be able to log in anymore"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Your store"})," - ",n||"Your store"," will be permanently removed"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All products"})," - Every product you've created"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"All orders"})," - Complete order history"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Subscription data"})," - Billing history and subscription info"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analytics data"})," - All performance metrics"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-destructive font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Uploaded files"})," - Images, documents, and assets"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Account: ",s.jsx("span",{className:"font-bold text-foreground",children:r})]}),n&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store: ",s.jsx("span",{className:"font-semibold",children:n})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs(Ce,{htmlFor:"confirmation",className:"text-base",children:["Type ",s.jsx("span",{className:"font-bold text-destructive text-lg",children:"DELETE"})," to confirm permanent deletion"]}),s.jsx(Ve,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here",className:"text-center font-semibold text-lg",autoComplete:"off"})]})]}),s.jsxs(Da,{className:"gap-2",children:[s.jsx(ae,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,className:"flex-1",children:o?"Deleting Forever...":"Delete My Account Forever"})]})]})})}const hf=e=>{if(!e)return null;if(e.includes("drive.google.com/thumbnail?")||e.includes("drive.google.com/uc?"))return e;const t=e.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);return t?`https://drive.google.com/thumbnail?id=${t[1]||t[2]}&sz=w1000`:e};async function E5(e,t=5){const r={maxSizeMB:t,maxWidthOrHeight:2048,initialQuality:.9,minQuality:.6,step:.05},n=e.size/1024/1024;if(n<=t)return console.log(`Image already under ${t}MB:`,n.toFixed(2)+"MB"),e;console.log(`Compressing image from ${n.toFixed(2)}MB to max ${t}MB`);try{const a=await Rke(e),i=await Dke(a),{width:o,height:l}=Ike(i.width,i.height,r.maxWidthOrHeight),c=await Mke(i,o,l,e.name,e.type,r),u=c.size/1024/1024;return console.log(`Compression complete: ${n.toFixed(2)}MB  ${u.toFixed(2)}MB`),c}catch(a){return console.error("Image compression failed:",a),e}}function Rke(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=a=>t(a.target?.result),n.onerror=r,n.readAsDataURL(e)})}function Dke(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}function Ike(e,t,r){if(e<=r&&t<=r)return{width:e,height:t};const n=e/t;return e>t?{width:r,height:Math.round(r/n)}:{width:Math.round(r*n),height:r}}async function Mke(e,t,r,n,a,i){const o=document.createElement("canvas");o.width=t,o.height=r;const l=o.getContext("2d");if(!l)throw new Error("Failed to get canvas context");l.drawImage(e,0,0,t,r);let c=a;["image/jpeg","image/png","image/webp"].includes(a)||(c="image/jpeg");let u=i.initialQuality;const d=i.maxSizeMB*1024*1024;let f=null;for(;u>=i.minQuality;){if(f=await new Promise(p=>{o.toBlob(y=>p(y),c,u)}),!f)throw new Error("Failed to create blob from canvas");if(f.size<=d){console.log(`Compression successful at quality ${u.toFixed(2)}`);break}u-=i.step}if(!f)throw new Error("Failed to compress image");return new File([f],n,{type:c,lastModified:Date.now()})}const Fke=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(""),[y,g]=_.useState(!1),[v,w]=_.useState(!1),[b,j]=_.useState(!1),[E,S]=_.useState([]),[C,k]=_.useState("vps"),[R,O]=_.useState({razorpay_key_secret:!1,phonepe_salt_key:!1,cashfree_secret_key:!1,payu_merchant_salt:!1,paytm_merchant_key:!1,stripe_secret_key:!1}),[A,P]=_.useState(null),[D,F]=_.useState("idle"),[L,H]=_.useState(null),[W,G]=_.useState(!0),K=O2(),[I,B]=_.useState({storeName:"",logoUrl:"",heroBannerUrls:[],phone:"",email:"",address:"",whatsappNumber:"",currency:"INR",currencySymbol:"",customDomain:"",aiVoiceEmbedCode:"",forceLocationSharing:!1,deliveryAreas:"",returnPolicy:"",shippingPolicy:"",termsConditions:"",privacyPolicy:"",razorpay_enabled:!1,razorpay_key_id:"",razorpay_key_secret:"",phonepe_enabled:!1,phonepe_merchant_id:"",phonepe_salt_key:"",phonepe_salt_index:"",cashfree_enabled:!1,cashfree_app_id:"",cashfree_secret_key:"",payu_enabled:!1,payu_merchant_key:"",payu_merchant_salt:"",paytm_enabled:!1,paytm_merchant_id:"",paytm_merchant_key:"",stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",payment_mode:"online_and_cod"}),[Y,z]=_.useState(""),[J,X]=_.useState(0),[ee,he]=_.useState(100),[fe,ge]=_.useState([]),[U,ne]=_.useState("all"),[Q,V]=_.useState(!1),[ue,oe]=_.useState([]),[Se,Ee]=_.useState([]),ie=_.useCallback(async()=>{try{const{data:{user:le}}=await Z.auth.getUser();if(!le)return;p(le.email||"");const{data:{session:Re}}=await Z.auth.getSession(),et=Re?.provider_token,xt=Re?.provider_refresh_token,{data:at,error:St}=await Z.from("stores").select("*").eq("user_id",le.id).single();if(St&&console.error("Error loading store:",St),at?.id&&i(at.id),X(at?.storage_used_mb||0),he(at?.storage_limit_mb||100),at&&et){const Pt={google_access_token:et};if(xt){const lr=new Date(Date.now()+36e5).toISOString();Pt.google_refresh_token=xt,Pt.google_token_expiry=lr}await Z.from("stores").update(Pt).eq("id",at.id),Fe({title:"Google Drive Connected",description:"You can now upload images to Google Drive."}),g(!0)}else g(!!at?.google_access_token);const{data:Xt}=await Z.from("profiles").select("phone, email").eq("user_id",le.id).single(),At=at?.payment_gateway_credentials||{};B({storeName:at?.name||"",logoUrl:at?.logo_url||"",heroBannerUrls:at?.hero_banner_urls||[],phone:Xt?.phone||"",email:Xt?.email||"",address:at?.address||"",whatsappNumber:at?.whatsapp_number||"",currency:"INR",currencySymbol:"",customDomain:at?.custom_domain||"",aiVoiceEmbedCode:at?.ai_voice_embed_code||"",forceLocationSharing:at?.force_location_sharing||!1,deliveryAreas:at?.policies?.deliveryAreas||"",returnPolicy:at?.policies?.returnPolicy||"",shippingPolicy:at?.policies?.shippingPolicy||"",termsConditions:at?.policies?.termsConditions||"",privacyPolicy:at?.policies?.privacyPolicy||"",razorpay_enabled:At?.razorpay?.enabled||!1,razorpay_key_id:At?.razorpay?.key_id||"",razorpay_key_secret:At?.razorpay?.key_secret||"",phonepe_enabled:At?.phonepe?.enabled||!1,phonepe_merchant_id:At?.phonepe?.merchant_id||"",phonepe_salt_key:At?.phonepe?.salt_key||"",phonepe_salt_index:At?.phonepe?.salt_index||"",cashfree_enabled:At?.cashfree?.enabled||!1,cashfree_app_id:At?.cashfree?.app_id||"",cashfree_secret_key:At?.cashfree?.secret_key||"",payu_enabled:At?.payu?.enabled||!1,payu_merchant_key:At?.payu?.merchant_key||"",payu_merchant_salt:At?.payu?.merchant_salt||"",paytm_enabled:At?.paytm?.enabled||!1,paytm_merchant_id:At?.paytm?.merchant_id||"",paytm_merchant_key:At?.paytm?.merchant_key||"",stripe_enabled:At?.stripe?.enabled||!1,stripe_publishable_key:At?.stripe?.publishable_key||"",stripe_secret_key:At?.stripe?.secret_key||"",payment_mode:at?.payment_mode||"online_and_cod"})}catch(le){console.error("Error loading settings:",le)}finally{G(!1)}},[]);_.useEffect(()=>{ie(),qe()},[ie]);const qe=async()=>{try{V(!0);const{data:{user:le}}=await Z.auth.getUser();if(!le)return;const{data:Re}=await Z.from("stores").select("id").eq("user_id",le.id).single();if(!Re)return;const{data:et,error:xt}=await Z.from("media_library").select("*").eq("store_id",Re.id).order("uploaded_at",{ascending:!1});if(xt)throw xt;ge(et||[])}catch(le){console.error("Error loading media library:",le)}finally{V(!1)}},He=(le,Re)=>{B(et=>({...et,[le]:Re}))},de=le=>{navigator.clipboard.writeText(le),Fe({title:"URL Copied",description:"Image URL copied to clipboard"})},we=async le=>{try{const et=await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:le})})).json();console.log("VPS delete response:",et);const{error:xt}=await Z.from("media_library").delete().eq("file_url",le);xt&&console.error("Failed to delete from database:",xt);const{data:{user:at}}=await Z.auth.getUser();if(at){const{data:St}=await Z.from("stores").select("id, storage_used_mb").eq("user_id",at.id).single();if(St){const Xt=fe.find(At=>At.file_url===le);if(Xt?.file_size_mb){const At=Math.max(0,(St.storage_used_mb||0)-Xt.file_size_mb);await Z.from("stores").update({storage_used_mb:At}).eq("id",St.id)}}}Fe({title:"Image Deleted",description:"Image removed from media library"}),qe()}catch(Re){Fe({title:"Delete Failed",description:Re.message||"Failed to delete image",variant:"destructive"})}};_.useEffect(()=>{if(W)return;const le=setTimeout(()=>{Oe()},2e3);return()=>clearTimeout(le)},[I,W]);const Oe=async()=>{try{F("saving");const{data:{user:le}}=await Z.auth.getUser();if(!le)return;const Re={name:I.storeName,logo_url:I.logoUrl||null,hero_banner_urls:I.heroBannerUrls.length>0?I.heroBannerUrls:null,whatsapp_number:I.whatsappNumber,address:I.address||null,policies:{deliveryAreas:I.deliveryAreas||null,returnPolicy:I.returnPolicy||null,shippingPolicy:I.shippingPolicy||null,termsConditions:I.termsConditions||null,privacyPolicy:I.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:I.razorpay_enabled,key_id:I.razorpay_key_id||null,key_secret:I.razorpay_key_secret||null},phonepe:{enabled:I.phonepe_enabled,merchant_id:I.phonepe_merchant_id||null,salt_key:I.phonepe_salt_key||null,salt_index:I.phonepe_salt_index||null},cashfree:{enabled:I.cashfree_enabled,app_id:I.cashfree_app_id||null,secret_key:I.cashfree_secret_key||null},payu:{enabled:I.payu_enabled,merchant_key:I.payu_merchant_key||null,merchant_salt:I.payu_merchant_salt||null},paytm:{enabled:I.paytm_enabled,merchant_id:I.paytm_merchant_id||null,merchant_key:I.paytm_merchant_key||null},stripe:{enabled:I.stripe_enabled,publishable_key:I.stripe_publishable_key||null,secret_key:I.stripe_secret_key||null}},payment_mode:I.payment_mode};K.enableCustomDomain&&(Re.custom_domain=I.customDomain.trim().toLowerCase()||null),K.enableAiVoice&&(Re.ai_voice_embed_code=I.aiVoiceEmbedCode.trim()||null),K.enableLocationSharing&&(Re.force_location_sharing=I.forceLocationSharing);const{error:et}=await Z.from("stores").update(Re).eq("user_id",le.id);if(et)throw et;(I.phone||I.email)&&await Z.from("profiles").update({phone:I.phone||null,email:I.email||null}).eq("user_id",le.id),F("saved"),H(new Date),setTimeout(()=>{F("idle")},3e3)}catch(le){console.error("Auto-save error:",le),F("error"),setTimeout(()=>{F("idle")},3e3)}},Ye=()=>{if(!Y.trim()){Fe({variant:"destructive",title:"Invalid URL",description:"Please enter a valid image URL"});return}let le=Y.trim();if(le.includes("drive.google.com")){const Re=hf(le);Re&&(le=Re,Fe({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}B(Re=>({...Re,heroBannerUrls:[...Re.heroBannerUrls,le]})),z("")},Je=async le=>{const Re=I.heroBannerUrls[le];if(Re.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:Re})}),await Z.from("media_library").delete().eq("file_url",Re),console.log("Banner image deleted from VPS and media library:",Re)}catch(xt){console.error("Failed to delete banner:",xt)}const et=I.heroBannerUrls.filter((xt,at)=>at!==le);B(xt=>({...xt,heroBannerUrls:et}));try{const{data:{user:xt}}=await Z.auth.getUser();xt&&await Z.from("stores").update({hero_banner_urls:et.length>0?et:null}).eq("user_id",xt.id)}catch(xt){console.error("Failed to save banner changes:",xt)}setTimeout(()=>{qe()},500)},Ne=async le=>{const Re=Array.from(le.target.files||[]);if(Re.length===0)return;const et=Re.filter(xt=>xt.type.startsWith("image/")?!0:(Fe({title:"Invalid file type",description:`${xt.name} is not a valid image file`,variant:"destructive"}),!1));if(et.length!==0){if(C==="drive"&&!y){Fe({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below to upload images directly.",variant:"destructive",duration:5e3});return}try{if(C==="vps"){const at=[];for(const Xt of et)try{const At=(Xt.size/1024/1024).toFixed(2),Pt=await E5(Xt,5),lr=(Pt.size/1024/1024).toFixed(2);console.log(`Banner compressed: ${At}MB  ${lr}MB`),at.push(Pt)}catch(At){console.error("Compression failed:",At),Fe({title:"Compression failed",description:`Failed to compress ${Xt.name}, using original`,variant:"destructive"}),at.push(Xt)}oe(Xt=>[...Xt,...at]);const St=at.map(Xt=>URL.createObjectURL(Xt));Ee(Xt=>[...Xt,...St]),B(Xt=>({...Xt,heroBannerUrls:[...Xt.heroBannerUrls,...St]})),Fe({title:"Banners ready",description:`${at.length} banner(s) will be uploaded when you save settings`});return}j(!0),S(et.map(at=>({name:at.name,progress:0})));const{data:{session:xt}}=await Z.auth.getSession();if(!xt)throw new Error("Not authenticated");for(let at=0;at<et.length;at++){const St=et[at];S(Pt=>Pt.map((lr,Pr)=>Pr===at?{...lr,progress:10}:lr));const Xt=new FormData;Xt.append("file",St),Xt.append("type","banners");const At=setInterval(()=>{S(Pt=>Pt.map((lr,Pr)=>Pr===at&&lr.progress<90?{...lr,progress:lr.progress+10}:lr))},200);try{const Pt=await Z.functions.invoke("upload-to-drive",{body:Xt,headers:{Authorization:`Bearer ${xt.access_token}`}});if(clearInterval(At),Pt.error)throw S(lr=>lr.filter((Pr,Mr)=>Mr!==at)),new Error(Pt.error.message||"Failed to upload image");Pt.data?.imageUrl&&(S(lr=>lr.map((Pr,Mr)=>Mr===at?{...Pr,progress:100}:Pr)),await new Promise(lr=>setTimeout(lr,300)),S(lr=>lr.filter((Pr,Mr)=>Mr!==at)),B(lr=>({...lr,heroBannerUrls:[...lr.heroBannerUrls,Pt.data.imageUrl]})),Fe({title:"Banner Uploaded",description:`${St.name} uploaded successfully`}))}catch(Pt){throw clearInterval(At),Pt}}qe(),ie()}catch(xt){let at=xt.message||"";if(xt.context?.body)try{const St=JSON.parse(xt.context.body);at=St.error||St.message||at}catch{}at.toLowerCase().includes("storage limit")?Fe({title:"Storage Limit Reached",description:at,variant:"destructive",duration:6e3}):at.toLowerCase().includes("drive")&&at.toLowerCase().includes("not connected")?Fe({title:"Google Drive Not Connected",description:"Please connect your Google Drive account below first.",variant:"destructive",duration:6e3}):at.toLowerCase().includes("token")||at.toLowerCase().includes("expired")?Fe({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect below.",variant:"destructive",duration:6e3}):Fe({title:"Upload Failed",description:at||"Failed to upload to Google Drive. Try using the URL option instead.",variant:"destructive",duration:5e3})}finally{j(!1),S([]),le.target.value=""}}},te=async()=>{if(!a){Fe({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}n(!0);try{await Pke(a),Fe({title:"File Generated Successfully",description:"Your store information TXT file has been downloaded."})}catch(le){console.error("Error generating file:",le),Fe({variant:"destructive",title:"File Generation Failed",description:"There was an error generating your file. Please try again."})}finally{n(!1)}},_e=async()=>{try{w(!0);const{error:le}=await Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin/settings`,scopes:"https://www.googleapis.com/auth/drive.file",queryParams:{access_type:"offline",prompt:"consent"}}});le&&(console.error("Google Drive connection error:",le),Fe({variant:"destructive",title:"Connection Failed",description:le.message}))}catch(le){console.error("Error connecting Google Drive:",le),Fe({variant:"destructive",title:"Connection Failed",description:"Failed to initiate Google Drive connection"})}finally{w(!1)}},pe=async le=>{le.preventDefault(),t(!0);try{if(!I.storeName.trim()){Fe({variant:"destructive",title:"Validation Error",description:"Store name is required"}),t(!1);return}if(I.customDomain.trim()){if(!K.enableCustomDomain){Fe({variant:"destructive",title:"Feature Not Available",description:"Custom domain is only available for Pro, Premium, and Enterprise plans. Please upgrade your subscription."}),t(!1);return}const St=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*\.[a-zA-Z]{2,}$/,Xt=I.customDomain.trim().toLowerCase();if(Xt.includes("http://")||Xt.includes("https://")){Fe({variant:"destructive",title:"Invalid Domain Format",description:"Please enter domain without http:// or https:// (e.g., shop.yourdomain.com)"}),t(!1);return}if(!St.test(Xt)){Fe({variant:"destructive",title:"Invalid Domain Format",description:"Please enter a valid domain name (e.g., shop.yourdomain.com)"}),t(!1);return}}const Re=I.whatsappNumber.replace(/[^0-9]/g,"");if(Re==="9876543210"||Re==="919876543210"){Fe({variant:"destructive",title:"Invalid WhatsApp Number",description:"The default number 9876543210 is not allowed. Please enter your actual WhatsApp business number."}),t(!1);return}if(I.whatsappNumber.trim()&&Re.length<10){Fe({variant:"destructive",title:"Invalid WhatsApp Number",description:"Please enter a valid WhatsApp number with at least 10 digits."}),t(!1);return}const{data:{user:et}}=await Z.auth.getUser();if(!et)throw new Error("User not authenticated");if(ue.length>0&&C==="vps")try{const{data:St,error:Xt}=await Z.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",et.id).single();if(Xt)throw Xt;if(!St)throw new Error("Store not found");const At=St.storage_used_mb||0,Pt=St.storage_limit_mb||100,lr=ue.reduce((An,Mt)=>An+Mt.size/1024/1024,0);if(At+lr>Pt){Fe({variant:"destructive",title:"Storage Limit Exceeded",description:`Cannot upload banners. You need ${lr.toFixed(2)}MB but only have ${(Pt-At).toFixed(2)}MB available. Delete some images from Media Library to free up space.`}),t(!1);return}const Pr=[];let Mr=0;for(let An=0;An<ue.length;An++){const Mt=ue[An],ar=new FormData;ar.append("file",Mt),ar.append("type","banners");const Or=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:ar});if(!Or.ok){const Qt=await Or.text();throw new Error(`Upload failed: ${Qt}`)}const zt=await Or.json();if(!zt.success)throw new Error(zt.error||"Upload failed");const It=zt.imageUrl,er=Mt.size/1024/1024,{error:vt}=await Z.from("media_library").insert({store_id:St.id,file_url:It,file_name:Mt.name,file_size_mb:er,file_type:"banners"});vt&&console.error("Error tracking banner in media library:",vt);const Lt=At+Mr+er,{error:Ft}=await Z.from("stores").update({storage_used_mb:Lt}).eq("id",St.id);Ft&&console.error("Error updating storage usage:",Ft),Pr.push(It),Mr+=er}const en=I.heroBannerUrls.map(An=>{const Mt=Se.indexOf(An);return Mt!==-1&&Mt<Pr.length?Pr[Mt]:An});I.heroBannerUrls=en,Se.forEach(An=>{An.startsWith("blob:")&&URL.revokeObjectURL(An)}),oe([]),Ee([]),Fe({title:"Banners Uploaded",description:`Successfully uploaded ${Pr.length} banner(s) (${Mr.toFixed(2)}MB)`})}catch(St){console.error("Error uploading pending banners:",St),Fe({variant:"destructive",title:"Upload Failed",description:St instanceof Error?St.message:"Failed to upload banner images"}),t(!1);return}const xt={name:I.storeName,logo_url:I.logoUrl||null,hero_banner_urls:I.heroBannerUrls.length>0?I.heroBannerUrls:null,whatsapp_number:I.whatsappNumber,address:I.address||null,policies:{deliveryAreas:I.deliveryAreas||null,returnPolicy:I.returnPolicy||null,shippingPolicy:I.shippingPolicy||null,termsConditions:I.termsConditions||null,privacyPolicy:I.privacyPolicy||null},payment_gateway_credentials:{razorpay:{enabled:I.razorpay_enabled,key_id:I.razorpay_key_id||null,key_secret:I.razorpay_key_secret||null},phonepe:{enabled:I.phonepe_enabled,merchant_id:I.phonepe_merchant_id||null,salt_key:I.phonepe_salt_key||null,salt_index:I.phonepe_salt_index||null},cashfree:{enabled:I.cashfree_enabled,app_id:I.cashfree_app_id||null,secret_key:I.cashfree_secret_key||null},payu:{enabled:I.payu_enabled,merchant_key:I.payu_merchant_key||null,merchant_salt:I.payu_merchant_salt||null},paytm:{enabled:I.paytm_enabled,merchant_id:I.paytm_merchant_id||null,merchant_key:I.paytm_merchant_key||null},stripe:{enabled:I.stripe_enabled,publishable_key:I.stripe_publishable_key||null,secret_key:I.stripe_secret_key||null}},payment_mode:I.payment_mode};K.enableCustomDomain&&(xt.custom_domain=I.customDomain.trim().toLowerCase()||null),K.enableAiVoice&&(xt.ai_voice_embed_code=I.aiVoiceEmbedCode.trim()||null),K.enableLocationSharing&&(xt.force_location_sharing=I.forceLocationSharing);const{error:at}=await Z.from("stores").update(xt).eq("user_id",et.id).select();if(at)throw at;if(I.phone||I.email){const{error:St}=await Z.from("profiles").update({phone:I.phone||null,email:I.email||null}).eq("user_id",et.id);St&&console.error("Error updating profile:",St)}F("saved"),H(new Date),Fe({title:"Settings Saved",description:"Your store settings have been updated successfully"})}catch{Fe({variant:"destructive",title:"Save Failed",description:"There was an error saving your settings"})}finally{t(!1)}},Ie=[{title:"Store Information",icon:Yh,fields:[{key:"storeName",label:"Store Name",placeholder:"My Awesome Store",required:!0},{key:"logoUrl",label:"Logo URL (Google Drive Link)",placeholder:"https://drive.google.com/..."}]},{title:"Contact Information",icon:dc,fields:[{key:"phone",label:"Phone Number",placeholder:"+1 (555) 123-4567"},{key:"email",label:"Email Address",placeholder:"contact@yourstore.com"},{key:"whatsappNumber",label:"WhatsApp Business Number",placeholder:"919876543210 (with country code, no spaces)"},{key:"address",label:"Store Address",placeholder:"123 Main St, City, State 12345",multiline:!0}]},{title:"Currency Settings",icon:Yh,fields:[{key:"currencySymbol",label:"Currency Symbol",placeholder:", $, , , etc."},{key:"currency",label:"Currency Code",placeholder:"INR, USD, EUR, GBP, etc."}]}],De=[{key:"deliveryAreas",label:"Delivery Areas",placeholder:"List areas where you deliver..."},{key:"returnPolicy",label:"Return Policy",placeholder:"Describe your return policy..."},{key:"shippingPolicy",label:"Shipping Policy",placeholder:"Describe your shipping terms..."},{key:"termsConditions",label:"Terms & Conditions",placeholder:"Your terms and conditions..."},{key:"privacyPolicy",label:"Privacy Policy",placeholder:"Describe how you collect, use, and protect customer data..."}];return s.jsx(rs,{children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Store Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your store information and policies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[D==="saving"&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[s.jsx(Gt,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}),D==="saved"&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsxs("span",{children:["Saved",L&&` at ${L.toLocaleTimeString()}`]})]}),D==="error"&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[s.jsx(ra,{className:"w-4 h-4"}),s.jsx("span",{children:"Save failed"})]})]})]}),s.jsxs("form",{onSubmit:pe,className:"space-y-8",children:[Ie.map((le,Re)=>s.jsxs(ke,{className:"admin-card",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(le.icon,{className:"w-5 h-5 text-primary"})}),le.title]})}),s.jsx(Te,{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:le.fields.map((et,xt)=>s.jsxs("div",{className:et.multiline?"md:col-span-2":"",children:[s.jsxs(Ce,{htmlFor:et.key,className:"flex items-center gap-2",children:[et.label,et.required&&s.jsx("span",{className:"text-destructive",children:"*"})]}),et.multiline?s.jsx(ja,{id:et.key,placeholder:et.placeholder,value:String(I[et.key]||""),onChange:at=>He(et.key,at.target.value),className:"admin-input min-h-[100px] mt-2",required:et.required}):s.jsx(Ve,{id:et.key,type:"text",placeholder:et.placeholder,value:String(I[et.key]||""),onChange:at=>He(et.key,at.target.value),className:"admin-input mt-2",required:et.required})]},xt))})})]},Re)),s.jsx(ke,{className:"admin-card",children:s.jsxs(Dj,{children:[s.jsxs(Ze,{children:[s.jsx(Ij,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Dn,{className:"w-5 h-5 text-primary"})}),"Payment Gateway Configuration"]}),s.jsx($u,{className:"h-5 w-5 transition-transform duration-200 data-[state=open]:rotate-180"})]})}),s.jsx("p",{className:"text-muted-foreground mt-2 text-left",children:"Configure payment gateways for your store - click any card to set up"})]}),s.jsx(Mj,{children:s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(Kr,{children:[s.jsx(Dn,{className:"h-4 w-4"}),s.jsx(Yr,{children:"Click on any payment gateway card below to configure credentials. Payments go directly to your account."})]}),(I.razorpay_enabled||I.phonepe_enabled||I.cashfree_enabled||I.payu_enabled||I.paytm_enabled||I.stripe_enabled)&&s.jsx("div",{className:"p-6 rounded-xl border-2 border-primary/20 bg-primary/5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold mb-1",children:"Payment Methods at Checkout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which payment options customers will see during checkout"})]}),s.jsxs("div",{className:"inline-flex rounded-lg border-2 border-primary/20 p-1 bg-background",children:[s.jsx("button",{type:"button",onClick:()=>B(le=>({...le,payment_mode:"online_only"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${I.payment_mode==="online_only"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online Payment Only"}),s.jsx("button",{type:"button",onClick:()=>B(le=>({...le,payment_mode:"online_and_cod"})),className:`px-6 py-2.5 rounded-md text-sm font-medium transition-all duration-200 ${I.payment_mode==="online_and_cod"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:" Online + COD"})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"mt-0.5",children:I.payment_mode==="online_only"?s.jsx(ra,{className:"w-4 h-4 text-blue-600"}):s.jsx(an,{className:"w-4 h-4 text-green-600"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I.payment_mode==="online_only"?s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online Payment Only:"})," Customers can only pay using configured payment gateways. Cash on Delivery will not be available."]}):s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Online + COD:"})," Customers can choose to pay online or via Cash on Delivery. This gives maximum flexibility to your customers."]})})]})]})}),!(I.razorpay_enabled||I.phonepe_enabled||I.cashfree_enabled||I.payu_enabled||I.paytm_enabled||I.stripe_enabled)&&s.jsxs(Kr,{className:"bg-amber-500/10 border-amber-500/20",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Yr,{className:"text-amber-900 dark:text-amber-100",children:[s.jsx("strong",{children:"Cash on Delivery Only:"})," Configure at least one payment gateway below to enable online payments."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{onClick:()=>P("razorpay"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-blue-500/50 hover:-translate-y-1",style:{borderColor:I.razorpay_enabled?"#3b82f6":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.razorpay_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors",children:s.jsx(Dn,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Razorpay"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Popular in India"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>P("phonepe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-purple-500/50 hover:-translate-y-1",style:{borderColor:I.phonepe_enabled?"#a855f7":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.phonepe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 group-hover:bg-purple-500/20 transition-colors",children:s.jsx(Dn,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PhonePe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"UPI & Digital"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-600 dark:text-purple-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>P("cashfree"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-green-500/50 hover:-translate-y-1",style:{borderColor:I.cashfree_enabled?"#22c55e":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.cashfree_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10 group-hover:bg-green-500/20 transition-colors",children:s.jsx(Dn,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Cashfree"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Payments & Payouts"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>P("payu"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-orange-500/50 hover:-translate-y-1",style:{borderColor:I.payu_enabled?"#f97316":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.payu_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-orange-500/10 group-hover:bg-orange-500/20 transition-colors",children:s.jsx(Dn,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"PayU"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Leading Solution"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600 dark:text-orange-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>P("paytm"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-sky-500/50 hover:-translate-y-1",style:{borderColor:I.paytm_enabled?"#0ea5e9":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.paytm_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-sky-500/10 group-hover:bg-sky-500/20 transition-colors",children:s.jsx(Dn,{className:"w-6 h-6 text-sky-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Paytm"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Wallet & Gateway"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-sky-600 dark:text-sky-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]}),s.jsxs("div",{onClick:()=>P("stripe"),className:"relative group cursor-pointer border-2 rounded-xl p-6 transition-all hover:shadow-lg hover:border-indigo-500/50 hover:-translate-y-1",style:{borderColor:I.stripe_enabled?"#6366f1":"transparent"},children:[s.jsx("div",{className:"absolute top-4 right-4",children:I.stripe_enabled?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2.5 py-1 rounded-full font-medium",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Active"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2.5 py-1 rounded-full font-medium",children:"Not configured"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-indigo-500/10 group-hover:bg-indigo-500/20 transition-colors",children:s.jsx(Dn,{className:"w-6 h-6 text-indigo-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Stripe"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Global Platform"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:[s.jsx(ba,{className:"w-3.5 h-3.5"}),"Click to configure"]})]})]})]})]}),s.jsxs(Kr,{className:"bg-amber-500/5 border-amber-500/20",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Yr,{className:"text-amber-600 dark:text-amber-400",children:[s.jsx("strong",{children:"Important:"})," Keep your API credentials secure. Payments go directly to your accounts. We recommend using test/sandbox credentials first before going live."]})]})]})})]})}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(fm,{className:"w-5 h-5 text-primary"})}),"Custom Domain"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your own domain to your store"})]}),s.jsx(Te,{className:"space-y-4",children:K.enableCustomDomain?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(Ve,{id:"customDomain",type:"text",placeholder:"yourdomain.com or www.yourdomain.com or shop.yourdomain.com",value:I.customDomain,onChange:le=>He("customDomain",le.target.value),className:"admin-input mt-2",disabled:!K.enableCustomDomain}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Enter your domain: ",s.jsx("strong",{children:"yourdomain.com"})," (root), ",s.jsx("strong",{children:"www.yourdomain.com"}),", or ",s.jsx("strong",{children:"shop.yourdomain.com"})]})]}),I.customDomain&&(()=>{const Re=I.customDomain.trim().split("."),et=Re.length===2,xt=et?"@":Re[0];return s.jsxs(Kr,{children:[s.jsx(fm,{className:"h-4 w-4"}),s.jsx(Yr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"DNS Configuration Required:"}),s.jsx("p",{className:"text-sm",children:et?"For root domain, add an A record pointing to your server IP:":"For subdomain, add a CNAME record in your domain's DNS settings:"}),s.jsx("div",{className:"bg-muted p-2 rounded mt-2 font-mono text-xs",children:et?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: A"}),s.jsx("div",{children:"Name: @ (or leave blank)"}),s.jsx("div",{children:"Value: Your Server IP"}),s.jsx("div",{className:"mt-2 text-muted-foreground",children:"Alternative: Use CNAME for www, then redirect @ to www"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Type: CNAME"}),s.jsxs("div",{children:["Name: ",xt]}),s.jsx("div",{children:"Value: yesgive.shop"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"DNS changes may take up to 48 hours to propagate."})]})})]})})()]}):s.jsxs(Kr,{children:[s.jsx(hg,{className:"h-4 w-4"}),s.jsxs(Yr,{children:["Custom domain is only available for Pro, Premium, and Enterprise plans.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(jf,{className:"w-5 h-5 text-primary"})}),"Location Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Control how location sharing works for your customers"})]}),s.jsx(Te,{className:"space-y-4",children:K.enableLocationSharing?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{htmlFor:"forceLocationSharing",className:"text-base font-medium cursor-pointer",children:"Force Location Sharing"}),I.forceLocationSharing&&s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:"Mandatory"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I.forceLocationSharing?"Customers must share their location to place orders (mandatory)":"Location sharing is optional for customers (recommended)"})]}),s.jsx(Wr,{id:"forceLocationSharing",checked:I.forceLocationSharing,onCheckedChange:le=>B(Re=>({...Re,forceLocationSharing:le})),className:`ml-4 ${I.forceLocationSharing?"data-[state=checked]:bg-green-500":""}`})]}),s.jsxs(Kr,{children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsxs(Yr,{children:[s.jsx("strong",{children:"Important:"})," Forcing location sharing may reduce conversions. We recommend keeping it optional unless you have specific delivery area requirements."]})]})]}):s.jsxs(Kr,{children:[s.jsx(hg,{className:"h-4 w-4"}),s.jsxs(Yr,{children:["Location sharing is not available in your current plan.",s.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ev,{className:"w-5 h-5 text-primary"})}),"Hero Banner Carousel (Multiple Images)"]}),s.jsx("p",{className:"text-muted-foreground",children:"Add multiple banner images for auto-sliding carousel (Recommended size: 1920x450px)"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"vps",checked:C==="vps",onChange:le=>k(le.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Fast & Reliable)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"bannerUploadDestination",value:"drive",checked:C==="drive",onChange:le=>k(le.target.value),className:"w-4 h-4 text-primary",disabled:!y}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!y&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C==="vps"?"Banners will be compressed to max 5MB and stored on your server":"Banners will be uploaded to your connected Google Drive"})]}),C==="vps"&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"VPS Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[J.toFixed(2)," MB / ",ee," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${J>=ee?"bg-destructive":J>=ee*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(J/ee*100,100)}%`}})}),J>=ee&&s.jsxs("p",{className:"text-sm text-destructive font-medium flex items-center gap-1",children:[s.jsx(Bi,{className:"w-4 h-4"}),"Storage limit reached. Delete images to free space."]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Limit: 20 images  5 MB = 100 MB total"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${b?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"bannerUpload",accept:"image/*",multiple:!0,onChange:Ne,className:"hidden",disabled:b}),s.jsx("label",{htmlFor:"bannerUpload",className:`block p-6 text-center ${b?"cursor-not-allowed":"cursor-pointer"}`,children:b&&E.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",E.length," image",E.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:E.map((le,Re)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[le.progress<100?s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:le.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:le.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[le.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${le.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${le.progress}%`}})})]},`uploading-${Re}`))})]}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:s.jsx(Yd,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Click to upload banner images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?"Images will be uploaded to your Google Drive":"Connect Google Drive below to enable uploads"})]})]})})]}),!y&&!b&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Connect your Google Drive account in the section below to upload images directly."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{id:"newBannerUrl",type:"text",placeholder:"https://drive.google.com/file/d/...",value:Y,onChange:le=>z(le.target.value),onKeyPress:le=>le.key==="Enter"&&(le.preventDefault(),Ye()),className:"admin-input flex-1"}),s.jsx(ae,{type:"button",onClick:Ye,className:"admin-button-primary",children:s.jsx(Gi,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Paste a Google Drive share link. Make sure the file is set to "Anyone with the link can view".'})]}),I.heroBannerUrls.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ce,{className:"text-base font-medium",children:["Current Banner Images (",I.heroBannerUrls.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:I.heroBannerUrls.map((le,Re)=>s.jsx("div",{className:"relative group rounded-lg overflow-hidden border bg-muted",children:s.jsxs("div",{className:"aspect-[16/9] relative",children:[s.jsx("img",{src:le,alt:`Banner ${Re+1}`,className:"w-full h-full object-cover",onError:et=>{et.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="%23999" font-size="12">Image Error</text></svg>'}}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:Re+1}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",onClick:()=>Je(Re),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx($a,{className:"w-4 h-4"})})]})},Re))})]}),I.heroBannerUrls.length===0&&E.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ev,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No banner images added yet."}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images or paste URLs above to create a carousel."})]})]})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ev,{className:"w-5 h-5 text-primary"})}),"Media Library"]}),s.jsx("p",{className:"text-muted-foreground",children:"All VPS uploaded images"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[fe.length," images  ",J.toFixed(2)," MB / ",ee," MB"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full transition-all ${J>=ee?"bg-destructive":J>=ee*.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(J/ee*100,100)}%`}})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:U==="all"?"default":"outline",size:"sm",onClick:()=>ne("all"),children:["All (",fe.length,")"]}),s.jsxs(ae,{variant:U==="products"?"default":"outline",size:"sm",onClick:()=>ne("products"),children:["Products (",fe.filter(le=>le.file_type==="products").length,")"]}),s.jsxs(ae,{variant:U==="categories"?"default":"outline",size:"sm",onClick:()=>ne("categories"),children:["Categories (",fe.filter(le=>le.file_type==="categories").length,")"]}),s.jsxs(ae,{variant:U==="banners"?"default":"outline",size:"sm",onClick:()=>ne("banners"),children:["Banners (",fe.filter(le=>le.file_type==="banners").length,")"]})]}),Q?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Gt,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:fe.filter(le=>U==="all"||le.file_type===U).map(le=>s.jsxs("div",{className:"group relative border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx("img",{src:le.file_url,alt:le.file_name,className:"w-full h-full object-cover",onError:Re=>{Re.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400"}})}),s.jsxs("div",{className:"p-2 bg-background border-t",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:le.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[le.file_size_mb.toFixed(2)," MB"]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:le.file_type})]}),s.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[s.jsx(ae,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>de(le.file_url),children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),s.jsx(ae,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>we(le.file_url),children:s.jsx(Mn,{className:"w-4 h-4"})})]})]},le.id))}),fe.filter(le=>U==="all"||le.file_type===U).length===0&&!Q&&s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Ev,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No images in media library"}),s.jsx("p",{className:"text-xs mt-1",children:"Upload images to see them here"})]})]})]}),s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(h_,{className:"w-5 h-5 text-primary"})}),"Google Drive Connection"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect your Google Drive to upload product images directly"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Status"}),y?s.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]}):s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full font-medium",children:"Not Connected"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?"You can upload images to Google Drive from product pages":"Connect your Google Drive account to enable image uploads"})]}),s.jsx(ae,{type:"button",onClick:_e,disabled:v,className:y?"admin-button":"admin-button-primary",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Yd,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):y?s.jsxs(s.Fragment,{children:[s.jsx(h_,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):s.jsxs(s.Fragment,{children:[s.jsx(h_,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]}),!y&&s.jsxs(Kr,{children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsxs(Yr,{children:[s.jsx("strong",{children:"Note:"}),` You'll be redirected to Google to grant Drive permissions. Make sure to allow "See and download files from your Google Drive" permission.`]})]}),y&&s.jsxs(Kr,{className:"border-green-500/20 bg-green-500/5",children:[s.jsx(h_,{className:"h-4 w-4 text-green-600"}),s.jsx(Yr,{className:"text-green-600 dark:text-green-400",children:"Your Google Drive is connected. You can now upload images directly when adding or editing products."})]})]})]}),s.jsx(ke,{className:"admin-card border-2 border-primary/20",children:s.jsxs(Dj,{open:c,onOpenChange:u,children:[s.jsx(Ij,{asChild:!0,children:s.jsxs(Ze,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Kh,{className:"w-5 h-5 text-primary"})}),"AI Assistant",!K.enableAiVoice&&s.jsx(hg,{className:"w-4 h-4 text-muted-foreground ml-2"}),s.jsx($u,{className:`ml-auto h-5 w-5 transition-transform duration-200 ${c?"transform rotate-180":""}`})]}),s.jsx("p",{className:"text-muted-foreground",children:"Configure AI voice assistant and training data for your store"})]})}),s.jsx(Mj,{children:s.jsxs(Te,{className:"space-y-6 pt-6",children:[s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Kh,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"AI Voice Assistant"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:K.enableAiVoice?"Add ElevenLabs conversational AI to your store":"Upgrade to premium to enable"})]})]}),K.enableAiVoice?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{htmlFor:"aiVoiceEmbedCode",className:"text-base",children:"ElevenLabs Embed Code"}),s.jsx(ja,{id:"aiVoiceEmbedCode",placeholder:'<elevenlabs-convai agent-id="your_agent_id"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"><\/script>',value:I.aiVoiceEmbedCode,onChange:le=>He("aiVoiceEmbedCode",le.target.value),className:"admin-input min-h-[100px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your ElevenLabs embed code to enable AI voice on your store"})]}):s.jsxs(Kr,{children:[s.jsx(hg,{className:"h-4 w-4"}),s.jsx(Yr,{children:"Premium feature - Upgrade your subscription to enable voice interactions"})]})]}),s.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:s.jsx(qc,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Training Data Export"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download store data to train your AI agent"})]})]}),s.jsx("div",{className:"bg-background/50 p-4 rounded-lg border space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qc,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export includes store info, policies, products, and variants - ready for AI training"})]})}),s.jsx(ae,{type:"button",onClick:te,disabled:r||!a,className:"w-full admin-button-primary",size:"lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Yd,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating File..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Download Training Data (TXT)"]})})]})]})})]})}),s.jsx(Dj,{open:o,onOpenChange:l,children:s.jsxs(ke,{className:"admin-card",children:[s.jsxs(Ze,{children:[s.jsx(Ij,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs(Qe,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Kh,{className:"w-5 h-5 text-primary"})}),"Store Policies"]}),s.jsx($u,{className:`w-5 h-5 text-muted-foreground transition-transform duration-200 ${o?"transform rotate-180":""}`})]})}),s.jsx("p",{className:"text-muted-foreground text-left mt-2",children:"Define your store policies and terms"})]}),s.jsx(Mj,{children:s.jsx(Te,{className:"space-y-6",children:De.map((le,Re)=>s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:le.key,children:le.label}),s.jsx(ja,{id:le.key,placeholder:le.placeholder,value:String(I[le.key]||""),onChange:et=>He(le.key,et.target.value),className:"admin-input min-h-[120px] mt-2"})]},Re))})})]})}),s.jsx(ke,{className:"admin-card bg-muted/50",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Yd,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Image Upload Tips"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Upload images to Google Drive and use the sharing link"}),s.jsx("li",{children:' Make sure images are set to "Anyone with the link can view"'}),s.jsx("li",{children:" Recommended logo size: 200x80px (PNG/JPG)"}),s.jsx("li",{children:" Recommended hero banner: 1920x450px (JPG/PNG)"})]})]})]})})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{type:"submit",className:"admin-button-primary min-w-[150px]",disabled:e,children:e?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]}),s.jsx(Sn,{open:A==="razorpay",onOpenChange:le=>!le&&P(null),children:s.jsxs(yn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(Dn,{className:"w-5 h-5 text-blue-600"})}),"Configure Razorpay"]}),s.jsx(ps,{children:"Enter your Razorpay API credentials to enable payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Razorpay"}),s.jsx(Wr,{checked:I.razorpay_enabled,onCheckedChange:le=>B(Re=>({...Re,razorpay_enabled:le}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"razorpay_key_id",children:"Key ID"}),s.jsx(Ve,{id:"razorpay_key_id",type:"text",placeholder:"Enter your Razorpay Key ID",value:I.razorpay_key_id,onChange:le=>He("razorpay_key_id",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Razorpay Dashboard  Settings  API Keys"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"razorpay_key_secret",children:"Key Secret"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"razorpay_key_secret",type:R.razorpay_key_secret?"text":"password",placeholder:"",value:I.razorpay_key_secret,onChange:le=>He("razorpay_key_secret",le.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(le=>({...le,razorpay_key_secret:!le.razorpay_key_secret})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.razorpay_key_secret?s.jsx(_h,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Kr,{className:"bg-blue-500/5 border-blue-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Yr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://razorpay.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://razorpay.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-600",children:"razorpay.com/docs"})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>P(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{P(null),Fe({title:"Razorpay Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Sn,{open:A==="phonepe",onOpenChange:le=>!le&&P(null),children:s.jsxs(yn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsx(Dn,{className:"w-5 h-5 text-purple-600"})}),"Configure PhonePe"]}),s.jsx(ps,{children:"Enter your PhonePe credentials to enable UPI payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable PhonePe"}),s.jsx(Wr,{checked:I.phonepe_enabled,onCheckedChange:le=>B(Re=>({...Re,phonepe_enabled:le}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),s.jsx(Ve,{id:"phonepe_merchant_id",type:"text",placeholder:"M123456789012345",value:I.phonepe_merchant_id,onChange:le=>He("phonepe_merchant_id",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PhonePe Business Dashboard"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"phonepe_salt_key",type:R.phonepe_salt_key?"text":"password",placeholder:"",value:I.phonepe_salt_key,onChange:le=>He("phonepe_salt_key",le.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(le=>({...le,phonepe_salt_key:!le.phonepe_salt_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.phonepe_salt_key?s.jsx(_h,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),s.jsx(Ve,{id:"phonepe_salt_index",type:"text",placeholder:"1",value:I.phonepe_salt_index,onChange:le=>He("phonepe_salt_index",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Usually 1 or 2, check your PhonePe dashboard"})]}),s.jsxs(Kr,{className:"bg-purple-500/5 border-purple-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Yr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.phonepe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"business.phonepe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.phonepe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-purple-600",children:"developer.phonepe.com/docs"})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>P(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{P(null),Fe({title:"PhonePe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Sn,{open:A==="cashfree",onOpenChange:le=>!le&&P(null),children:s.jsxs(yn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(Dn,{className:"w-5 h-5 text-green-600"})}),"Configure Cashfree"]}),s.jsx(ps,{children:"Enter your Cashfree credentials for payments & payouts"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Cashfree"}),s.jsx(Wr,{checked:I.cashfree_enabled,onCheckedChange:le=>B(Re=>({...Re,cashfree_enabled:le}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"cashfree_app_id",children:"App ID"}),s.jsx(Ve,{id:"cashfree_app_id",type:"text",placeholder:"12345abcdef67890ghij",value:I.cashfree_app_id,onChange:le=>He("cashfree_app_id",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Cashfree Dashboard  Credentials"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"cashfree_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"cashfree_secret_key",type:R.cashfree_secret_key?"text":"password",placeholder:"",value:I.cashfree_secret_key,onChange:le=>He("cashfree_secret_key",le.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(le=>({...le,cashfree_secret_key:!le.cashfree_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.cashfree_secret_key?s.jsx(_h,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Kr,{className:"bg-green-500/5 border-green-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Yr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"cashfree.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://docs.cashfree.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-600",children:"docs.cashfree.com"})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>P(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{P(null),Fe({title:"Cashfree Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Sn,{open:A==="payu",onOpenChange:le=>!le&&P(null),children:s.jsxs(yn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsx(Dn,{className:"w-5 h-5 text-orange-600"})}),"Configure PayU"]}),s.jsx(ps,{children:"Enter your PayU merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable PayU"}),s.jsx(Wr,{checked:I.payu_enabled,onCheckedChange:le=>B(Re=>({...Re,payu_enabled:le}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"payu_merchant_key",children:"Merchant Key"}),s.jsx(Ve,{id:"payu_merchant_key",type:"text",placeholder:"gtKFFx",value:I.payu_merchant_key,onChange:le=>He("payu_merchant_key",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from PayU Dashboard  Settings  API Credentials"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"payu_merchant_salt",children:"Merchant Salt"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"payu_merchant_salt",type:R.payu_merchant_salt?"text":"password",placeholder:"",value:I.payu_merchant_salt,onChange:le=>He("payu_merchant_salt",le.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(le=>({...le,payu_merchant_salt:!le.payu_merchant_salt})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.payu_merchant_salt?s.jsx(_h,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Kr,{className:"bg-orange-500/5 border-orange-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Yr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"payu.in"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://devguide.payu.in",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-600",children:"devguide.payu.in"})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>P(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{P(null),Fe({title:"PayU Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Sn,{open:A==="paytm",onOpenChange:le=>!le&&P(null),children:s.jsxs(yn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-sky-500/10",children:s.jsx(Dn,{className:"w-5 h-5 text-sky-600"})}),"Configure Paytm"]}),s.jsx(ps,{children:"Enter your Paytm merchant credentials"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Paytm"}),s.jsx(Wr,{checked:I.paytm_enabled,onCheckedChange:le=>B(Re=>({...Re,paytm_enabled:le}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"paytm_merchant_id",children:"Merchant ID"}),s.jsx(Ve,{id:"paytm_merchant_id",type:"text",placeholder:"YOUR_MID_HERE",value:I.paytm_merchant_id,onChange:le=>He("paytm_merchant_id",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Paytm Dashboard  Developer Settings"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"paytm_merchant_key",children:"Merchant Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"paytm_merchant_key",type:R.paytm_merchant_key?"text":"password",placeholder:"",value:I.paytm_merchant_key,onChange:le=>He("paytm_merchant_key",le.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(le=>({...le,paytm_merchant_key:!le.paytm_merchant_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.paytm_merchant_key?s.jsx(_h,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly."})]}),s.jsxs(Kr,{className:"bg-sky-500/5 border-sky-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Yr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://business.paytm.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"business.paytm.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://developer.paytm.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-sky-600",children:"developer.paytm.com/docs"})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>P(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{P(null),Fe({title:"Paytm Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsx(Sn,{open:A==="stripe",onOpenChange:le=>!le&&P(null),children:s.jsxs(yn,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:s.jsx(Dn,{className:"w-5 h-5 text-indigo-600"})}),"Configure Stripe"]}),s.jsx(ps,{children:"Enter your Stripe API keys for global payments"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Enable Stripe"}),s.jsx(Wr,{checked:I.stripe_enabled,onCheckedChange:le=>B(Re=>({...Re,stripe_enabled:le}))})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"stripe_publishable_key",children:"Publishable Key"}),s.jsx(Ve,{id:"stripe_publishable_key",type:"text",placeholder:"Enter your Stripe publishable key",value:I.stripe_publishable_key,onChange:le=>He("stripe_publishable_key",le.target.value),className:"admin-input mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Get from Stripe Dashboard  Developers  API Keys (starts with pk_)"})]}),s.jsxs("div",{children:[s.jsx(Ce,{htmlFor:"stripe_secret_key",children:"Secret Key"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(Ve,{id:"stripe_secret_key",type:R.stripe_secret_key?"text":"password",placeholder:"Enter your Stripe secret key",value:I.stripe_secret_key,onChange:le=>He("stripe_secret_key",le.target.value),className:"admin-input pr-10"}),s.jsx("button",{type:"button",onClick:()=>O(le=>({...le,stripe_secret_key:!le.stripe_secret_key})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:R.stripe_secret_key?s.jsx(_h,{className:"w-4 h-4"}):s.jsx(Ls,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this secret safe. Never share it publicly. (starts with sk_)"})]}),s.jsxs(Kr,{className:"bg-indigo-500/5 border-indigo-500/20",children:[s.jsx(ya,{className:"h-4 w-4"}),s.jsxs(Yr,{className:"text-xs",children:[s.jsx("strong",{children:"Sign up:"})," ",s.jsx("a",{href:"https://stripe.com",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com"})," ",s.jsx("strong",{className:"ml-2",children:"Docs:"})," ",s.jsx("a",{href:"https://stripe.com/docs",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-indigo-600",children:"stripe.com/docs"})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>P(null),children:"Close"}),s.jsx(ae,{type:"button",onClick:()=>{P(null),Fe({title:"Stripe Updated",description:"Don't forget to save your settings below"})},className:"admin-button-primary",children:"Done"})]})]})}),s.jsxs(ke,{className:"admin-card border-2 border-destructive/50 bg-destructive/5",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-3 text-destructive",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/20",children:s.jsx(ra,{className:"w-5 h-5 text-destructive"})}),"Danger Zone"]}),s.jsx("p",{className:"text-muted-foreground",children:"Irreversible and destructive actions"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-background rounded-lg border border-destructive/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:"Delete My Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account, store, and all associated data"})]}),s.jsxs(ae,{type:"button",variant:"destructive",onClick:()=>f(!0),className:"sm:ml-auto whitespace-nowrap",children:[s.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]}),s.jsx(Oke,{open:d,onClose:()=>f(!1),userEmail:m,storeName:I.storeName})]})})},Lke=Z0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wt({className:e,variant:t,...r}){return s.jsx("div",{className:ut(Lke({variant:t}),e),...r})}function rb(e,[t,r]){return Math.min(r,Math.max(t,e))}var $ke=[" ","Enter","ArrowUp","ArrowDown"],Bke=[" ","Enter"],bm="Select",[R2,D2,Uke]=X0(bm),[ix]=Vs(bm,[Uke,Bf]),I2=Bf(),[Vke,Wf]=ix(bm),[zke,qke]=ix(bm),zre=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=e,g=I2(t),[v,w]=_.useState(null),[b,j]=_.useState(null),[E,S]=_.useState(!1),C=zf(u),[k,R]=Si({prop:n,defaultProp:a??!1,onChange:i,caller:bm}),[O,A]=Si({prop:o,defaultProp:l,onChange:c,caller:bm}),P=_.useRef(null),D=v?y||!!v.closest("form"):!0,[F,L]=_.useState(new Set),H=Array.from(F).map(W=>W.props.value).join(";");return s.jsx(i2,{...g,children:s.jsxs(Vke,{required:p,scope:t,trigger:v,onTriggerChange:w,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:mo(),value:O,onValueChange:A,open:k,onOpenChange:R,dir:C,triggerPointerDownPosRef:P,disabled:m,children:[s.jsx(R2.Provider,{scope:t,children:s.jsx(zke,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(W=>{L(G=>new Set(G).add(W))},[]),onNativeOptionRemove:_.useCallback(W=>{L(G=>{const K=new Set(G);return K.delete(W),K})},[]),children:r})}),D?s.jsxs(hne,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:W=>A(W.target.value),disabled:m,form:y,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},H):null]})})};zre.displayName=bm;var qre="SelectTrigger",Wre=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=I2(r),o=Wf(qre,r),l=o.disabled||n,c=Zt(t,o.onTriggerChange),u=D2(r),d=_.useRef("touch"),[f,m,p]=pne(g=>{const v=u().filter(j=>!j.disabled),w=v.find(j=>j.value===o.value),b=gne(v,g,w);b!==void 0&&o.onValueChange(b.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(gw,{asChild:!0,...i,children:s.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mne(o.value)?"":void 0,...a,ref:c,onClick:ft(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:ft(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ft(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&$ke.includes(g.key)&&(y(),g.preventDefault())})})})});Wre.displayName=qre;var Hre="SelectValue",Gre=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Wf(Hre,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Zt(t,c.onValueNodeChange);return As(()=>{u(d)},[u,d]),s.jsx(Tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:mne(c.value)?s.jsx(s.Fragment,{children:o}):i})});Gre.displayName=Hre;var Wke="SelectIcon",Kre=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Tt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Kre.displayName=Wke;var Hke="SelectPortal",Yre=e=>s.jsx(J0,{asChild:!0,...e});Yre.displayName=Hke;var wm="SelectContent",Xre=_.forwardRef((e,t)=>{const r=Wf(wm,e.__scopeSelect),[n,a]=_.useState();if(As(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Y0.createPortal(s.jsx(Jre,{scope:e.__scopeSelect,children:s.jsx(R2.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Zre,{...e,ref:t})});Xre.displayName=wm;var ec=10,[Jre,Hf]=ix(wm),Gke="SelectContentImpl",Kke=bf("SelectContent.RemoveScroll"),Zre=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...w}=e,b=Wf(wm,r),[j,E]=_.useState(null),[S,C]=_.useState(null),k=Zt(t,fe=>E(fe)),[R,O]=_.useState(null),[A,P]=_.useState(null),D=D2(r),[F,L]=_.useState(!1),H=_.useRef(!1);_.useEffect(()=>{if(j)return _2(j)},[j]),w2();const W=_.useCallback(fe=>{const[ge,...U]=D().map(V=>V.ref.current),[ne]=U.slice(-1),Q=document.activeElement;for(const V of fe)if(V===Q||(V?.scrollIntoView({block:"nearest"}),V===ge&&S&&(S.scrollTop=0),V===ne&&S&&(S.scrollTop=S.scrollHeight),V?.focus(),document.activeElement!==Q))return},[D,S]),G=_.useCallback(()=>W([R,j]),[W,R,j]);_.useEffect(()=>{F&&G()},[F,G]);const{onOpenChange:K,triggerPointerDownPosRef:I}=b;_.useEffect(()=>{if(j){let fe={x:0,y:0};const ge=ne=>{fe={x:Math.abs(Math.round(ne.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(ne.pageY)-(I.current?.y??0))}},U=ne=>{fe.x<=10&&fe.y<=10?ne.preventDefault():j.contains(ne.target)||K(!1),document.removeEventListener("pointermove",ge),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",U,{capture:!0})}}},[j,K,I]),_.useEffect(()=>{const fe=()=>K(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[K]);const[B,Y]=pne(fe=>{const ge=D().filter(Q=>!Q.disabled),U=ge.find(Q=>Q.ref.current===document.activeElement),ne=gne(ge,fe,U);ne&&setTimeout(()=>ne.ref.current.focus())}),z=_.useCallback((fe,ge,U)=>{const ne=!H.current&&!U;(b.value!==void 0&&b.value===ge||ne)&&(O(fe),ne&&(H.current=!0))},[b.value]),J=_.useCallback(()=>j?.focus(),[j]),X=_.useCallback((fe,ge,U)=>{const ne=!H.current&&!U;(b.value!==void 0&&b.value===ge||ne)&&P(fe)},[b.value]),ee=n==="popper"?RD:Qre,he=ee===RD?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(Jre,{scope:r,content:j,viewport:S,onViewportChange:C,itemRefCallback:z,selectedItem:R,onItemLeave:J,itemTextRefCallback:X,focusSelectedItem:G,selectedItemText:A,position:n,isPositioned:F,searchRef:B,children:s.jsx(_w,{as:Kke,allowPinchZoom:!0,children:s.jsx(bw,{asChild:!0,trapped:b.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:ft(a,fe=>{b.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:s.jsx(Gm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:fe=>fe.preventDefault(),...w,...he,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ft(w.onKeyDown,fe=>{const ge=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!ge&&fe.key.length===1&&Y(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let ne=D().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Q=fe.target,V=ne.indexOf(Q);ne=ne.slice(V+1)}setTimeout(()=>W(ne)),fe.preventDefault()}})})})})})})});Zre.displayName=Gke;var Yke="SelectItemAlignedPosition",Qre=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Wf(wm,r),o=Hf(wm,r),[l,c]=_.useState(null),[u,d]=_.useState(null),f=Zt(t,k=>d(k)),m=D2(r),p=_.useRef(!1),y=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:w,focusSelectedItem:b}=o,j=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&w){const k=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(i.dir!=="rtl"){const Q=A.left-R.left,V=O.left-Q,ue=k.left-V,oe=k.width+ue,Se=Math.max(oe,R.width),Ee=window.innerWidth-ec,ie=rb(V,[ec,Math.max(ec,Ee-Se)]);l.style.minWidth=oe+"px",l.style.left=ie+"px"}else{const Q=R.right-A.right,V=window.innerWidth-O.right-Q,ue=window.innerWidth-k.right-V,oe=k.width+ue,Se=Math.max(oe,R.width),Ee=window.innerWidth-ec,ie=rb(V,[ec,Math.max(ec,Ee-Se)]);l.style.minWidth=oe+"px",l.style.right=ie+"px"}const P=m(),D=window.innerHeight-ec*2,F=g.scrollHeight,L=window.getComputedStyle(u),H=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),G=parseInt(L.borderBottomWidth,10),K=parseInt(L.paddingBottom,10),I=H+W+F+K+G,B=Math.min(v.offsetHeight*5,I),Y=window.getComputedStyle(g),z=parseInt(Y.paddingTop,10),J=parseInt(Y.paddingBottom,10),X=k.top+k.height/2-ec,ee=D-X,he=v.offsetHeight/2,fe=v.offsetTop+he,ge=H+W+fe,U=I-ge;if(ge<=X){const Q=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-g.offsetTop-g.offsetHeight,ue=Math.max(ee,he+(Q?J:0)+V+G),oe=ge+ue;l.style.height=oe+"px"}else{const Q=P.length>0&&v===P[0].ref.current;l.style.top="0px";const ue=Math.max(X,H+g.offsetTop+(Q?z:0)+he)+U;l.style.height=ue+"px",g.scrollTop=ge-X+g.offsetTop}l.style.margin=`${ec}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,v,w,i.dir,n]);As(()=>j(),[j]);const[E,S]=_.useState();As(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=_.useCallback(k=>{k&&y.current===!0&&(j(),b?.(),y.current=!1)},[j,b]);return s.jsx(Jke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(Tt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Qre.displayName=Yke;var Xke="SelectPopperPosition",RD=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ec,...i}=e,o=I2(r);return s.jsx(o2,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});RD.displayName=Xke;var[Jke,T5]=ix(wm,{}),DD="SelectViewport",ene=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Hf(DD,r),o=T5(DD,r),l=Zt(t,i.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(R2.Slot,{scope:r,children:s.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ft(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-ec*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),w=Math.max(g,v);if(w<y){const b=w+p,j=Math.min(y,b),E=b-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ene.displayName=DD;var tne="SelectGroup",[Zke,Qke]=ix(tne),eCe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mo();return s.jsx(Zke,{scope:r,id:a,children:s.jsx(Tt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});eCe.displayName=tne;var rne="SelectLabel",nne=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qke(rne,r);return s.jsx(Tt.div,{id:a.id,...n,ref:t})});nne.displayName=rne;var gN="SelectItem",[tCe,sne]=ix(gN),ane=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Wf(gN,r),c=Hf(gN,r),u=l.value===n,[d,f]=_.useState(i??""),[m,p]=_.useState(!1),y=Zt(t,b=>c.itemRefCallback?.(b,n,a)),g=mo(),v=_.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(tCe,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:_.useCallback(b=>{f(j=>j||(b?.textContent??"").trim())},[]),children:s.jsx(R2.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Tt.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:ft(o.onFocus,()=>p(!0)),onBlur:ft(o.onBlur,()=>p(!1)),onClick:ft(o.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:ft(o.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:ft(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:ft(o.onPointerMove,b=>{v.current=b.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ft(o.onKeyDown,b=>{c.searchRef?.current!==""&&b.key===" "||(Bke.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});ane.displayName=gN;var Lv="SelectItemText",ine=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Wf(Lv,r),l=Hf(Lv,r),c=sne(Lv,r),u=qke(Lv,r),[d,f]=_.useState(null),m=Zt(t,w=>f(w),c.onItemTextChange,w=>l.itemTextRefCallback?.(w,c.value,c.disabled)),p=d?.textContent,y=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return As(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(Tt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Y0.createPortal(i.children,o.valueNode):null]})});ine.displayName=Lv;var one="SelectItemIndicator",lne=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return sne(one,r).isSelected?s.jsx(Tt.span,{"aria-hidden":!0,...n,ref:t}):null});lne.displayName=one;var ID="SelectScrollUpButton",cne=_.forwardRef((e,t)=>{const r=Hf(ID,e.__scopeSelect),n=T5(ID,e.__scopeSelect),[a,i]=_.useState(!1),o=Zt(t,n.onScrollButtonChange);return As(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(dne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cne.displayName=ID;var MD="SelectScrollDownButton",une=_.forwardRef((e,t)=>{const r=Hf(MD,e.__scopeSelect),n=T5(MD,e.__scopeSelect),[a,i]=_.useState(!1),o=Zt(t,n.onScrollButtonChange);return As(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(dne,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});une.displayName=MD;var dne=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Hf("SelectScrollButton",r),o=_.useRef(null),l=D2(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),As(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ft(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ft(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ft(a.onPointerLeave,()=>{c()})})}),rCe="SelectSeparator",fne=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Tt.div,{"aria-hidden":!0,...n,ref:t})});fne.displayName=rCe;var FD="SelectArrow",nCe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=I2(r),i=Wf(FD,r),o=Hf(FD,r);return i.open&&o.position==="popper"?s.jsx(l2,{...a,...n,ref:t}):null});nCe.displayName=FD;var sCe="SelectBubbleInput",hne=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=_.useRef(null),i=Zt(n,a),o=Aw(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Tt.select,{...r,style:{...xJ,...r.style},ref:i,defaultValue:t})});hne.displayName=sCe;function mne(e){return e===""||e===void 0}function pne(e){const t=ks(e),r=_.useRef(""),n=_.useRef(0),a=_.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function gne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=aCe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function aCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iCe=zre,xne=Wre,oCe=Gre,lCe=Kre,cCe=Yre,vne=Xre,uCe=ene,yne=nne,bne=ane,dCe=ine,fCe=lne,wne=cne,_ne=une,jne=fne;const yr=iCe,br=oCe,fr=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(xne,{ref:n,className:ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(lCe,{asChild:!0,children:s.jsx($u,{className:"h-4 w-4 opacity-50"})})]}));fr.displayName=xne.displayName;const Nne=_.forwardRef(({className:e,...t},r)=>s.jsx(wne,{ref:r,className:ut("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($J,{className:"h-4 w-4"})}));Nne.displayName=wne.displayName;const Sne=_.forwardRef(({className:e,...t},r)=>s.jsx(_ne,{ref:r,className:ut("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($u,{className:"h-4 w-4"})}));Sne.displayName=_ne.displayName;const hr=_.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(cCe,{children:s.jsxs(vne,{ref:a,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Nne,{}),s.jsx(uCe,{className:ut("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Sne,{})]})}));hr.displayName=vne.displayName;const hCe=_.forwardRef(({className:e,...t},r)=>s.jsx(yne,{ref:r,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));hCe.displayName=yne.displayName;const Ke=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(bne,{ref:n,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(fCe,{children:s.jsx(rn,{className:"h-4 w-4"})})}),s.jsx(dCe,{children:t})]}));Ke.displayName=bne.displayName;const mCe=_.forwardRef(({className:e,...t},r)=>s.jsx(jne,{ref:r,className:ut("-mx-1 my-1 h-px bg-muted",e),...t}));mCe.displayName=jne.displayName;const A5=({className:e,...t})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:ut("mx-auto flex w-full justify-center",e),...t});A5.displayName="Pagination";const P5=_.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,className:ut("flex flex-row items-center gap-1",e),...t}));P5.displayName="PaginationContent";const nm=_.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:ut("",e),...t}));nm.displayName="PaginationItem";const Pw=({className:e,isActive:t,size:r="icon",...n})=>s.jsx("a",{"aria-current":t?"page":void 0,className:ut(g2({variant:t?"outline":"ghost",size:r}),e),...n});Pw.displayName="PaginationLink";const O5=({className:e,...t})=>s.jsxs(Pw,{"aria-label":"Go to previous page",size:"default",className:ut("gap-1 pl-2.5",e),...t,children:[s.jsx($ge,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});O5.displayName="PaginationPrevious";const R5=({className:e,...t})=>s.jsxs(Pw,{"aria-label":"Go to next page",size:"default",className:ut("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(wf,{className:"h-4 w-4"})]});R5.displayName="PaginationNext";const aa=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ut("w-full caption-bottom text-sm",e),...t})}));aa.displayName="Table";const ia=_.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ut("[&_tr]:border-b",e),...t}));ia.displayName="TableHeader";const oa=_.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ut("[&_tr:last-child]:border-0",e),...t}));oa.displayName="TableBody";const pCe=_.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ut("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pCe.displayName="TableFooter";const Nr=_.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ut("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Nr.displayName="TableRow";const tt=_.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ut("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tt.displayName="TableHead";const Xe=_.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ut("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Xe.displayName="TableCell";const gCe=_.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ut("mt-4 text-sm text-muted-foreground",e),...t}));gCe.displayName="TableCaption";const xCe=()=>{const e=wr(),t=O2(),[r,n]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState([]),[c,u]=_.useState("all"),[d,f]=_.useState("all"),[m,p]=_.useState(1),y=10,g=async()=>{const k=(await OD()).map(R=>({...R,variantCount:R.variants?.length||0}));n(k),l(k)};_.useEffect(()=>{g();const k=O=>{O.key==="products"&&g()},R=()=>{g()};return window.addEventListener("storage",k),window.addEventListener("focus",R),()=>{window.removeEventListener("storage",k),window.removeEventListener("focus",R)}},[]),_.useEffect(()=>{let k=r.filter(R=>{const O=R.name.toLowerCase().includes(a.toLowerCase())||(R.sku||"").toLowerCase().includes(a.toLowerCase())||R.category.toLowerCase().includes(a.toLowerCase()),A=c==="all"||R.category===c,P=d==="all"||R.status===d;return O&&A&&P});l(k),p(1)},[r,a,c,d]);const v=k=>{switch(k){case"published":return"bg-success/10 text-success";case"draft":return"bg-warning/10 text-warning";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},w=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(k),b=async k=>{await gke(k);const R=(await OD()).map(O=>({...O,variantCount:O.variants?.length||0}));n(R),Fe({title:"Product deleted",description:"Product removed from catalog"})},j=()=>[...new Set(r.map(R=>R.category))].sort(),E=Math.ceil(o.length/y),S=o.slice((m-1)*y,m*y),C=()=>{const k=[];let O=Math.max(1,m-Math.floor(2.5)),A=Math.min(E,O+5-1);A-O+1<5&&(O=Math.max(1,A-5+1));for(let P=O;P<=A;P++)k.push(P);return k};return s.jsx(rs,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Products"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Manage your product catalog"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:s.jsxs(ae,{onClick:()=>e("/admin/products/add"),className:"touch-target flex-1 sm:flex-initial",children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Products Used"}),s.jsxs("span",{className:"font-semibold text-foreground",children:[r.length," / ",t.maxProducts||""]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-success h-2 rounded-full transition-all",style:{width:`${Math.min(r.length/(t.maxProducts||r.length||1)*100,100)}%`}})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Total Products"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.length})]}),s.jsx(Bn,{className:"w-6 h-6 lg:w-8 lg:h-8 text-primary flex-shrink-0 ml-2"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Published"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(k=>k.status==="published").length})]}),s.jsx(Ls,{className:"w-6 h-6 lg:w-8 lg:h-8 text-success flex-shrink-0 ml-2"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Drafts"}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:r.filter(k=>k.status==="draft").length})]}),s.jsx(Wu,{className:"w-6 h-6 lg:w-8 lg:h-8 text-warning flex-shrink-0 ml-2"})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Ve,{placeholder:"Search products by name, SKU, or category...",value:a,onChange:k=>i(k.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(yr,{value:c,onValueChange:u,children:[s.jsxs(fr,{className:"w-full sm:w-[180px]",children:[s.jsx(jR,{className:"w-4 h-4 mr-2"}),s.jsx(br,{placeholder:"Category"})]}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Categories"}),j().map(k=>s.jsx(Ke,{value:k,children:k},k))]})]}),s.jsxs(yr,{value:d,onValueChange:f,children:[s.jsx(fr,{className:"w-full sm:w-[150px]",children:s.jsx(br,{placeholder:"Status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"published",children:"Published"}),s.jsx(Ke,{value:"draft",children:"Draft"}),s.jsx(Ke,{value:"inactive",children:"Inactive"})]})]})]})]})})}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{children:["Product List (",o.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",m," of ",E]})]})}),s.jsxs(Te,{children:[o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Start by adding your first product to your catalog":"Try adjusting your search criteria"}),r.length===0&&s.jsxs(ae,{onClick:()=>e("/admin/products/add"),children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{className:"hover:bg-transparent",children:[s.jsx(tt,{className:"min-w-[200px]",children:"Product"}),s.jsx(tt,{className:"hidden sm:table-cell",children:"Category"}),s.jsx(tt,{className:"hidden md:table-cell",children:"Variants"}),s.jsx(tt,{children:"Price"}),s.jsx(tt,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:S.map(k=>s.jsxs(Nr,{className:"hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>e(`/admin/products/edit/${k.id}`),children:[s.jsx(Xe,{className:"min-w-[200px]",children:s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Bn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-foreground text-sm lg:text-base truncate",children:k.name}),s.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground font-mono truncate",children:k.sku})]})]})}),s.jsx(Xe,{className:"hidden sm:table-cell",children:s.jsx(wt,{variant:"outline",className:"text-xs",children:k.category})}),s.jsx(Xe,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"flex items-center space-x-1.5",children:[s.jsx(Wge,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:k.variantCount||0})]})}),s.jsx(Xe,{className:"font-semibold text-sm whitespace-nowrap",children:k.priceRange||(k.basePrice?w(k.basePrice):"")}),s.jsx(Xe,{className:"hidden lg:table-cell",children:s.jsx(wt,{className:v(k.status),variant:"outline",children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[s.jsx(ae,{variant:"ghost",size:"sm",title:"View Details",onClick:R=>{R.stopPropagation(),window.open(`/products/${k.id}`,"_blank")},className:"h-8 w-8 p-0",children:s.jsx(Ls,{className:"w-4 h-4"})}),s.jsx(ae,{variant:"ghost",size:"sm",title:"Edit Product",onClick:R=>{R.stopPropagation(),e(`/admin/products/edit/${k.id}`)},className:"h-8 w-8 p-0",children:s.jsx(Wu,{className:"w-4 h-4"})}),s.jsx(ae,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8 p-0",onClick:R=>{R.stopPropagation(),b(k.id)},title:"Delete Product",children:s.jsx(Mn,{className:"w-4 h-4"})})]})})]},k.id))})]})}),o.length>y&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(A5,{children:s.jsxs(P5,{children:[s.jsx(nm,{children:s.jsx(O5,{onClick:()=>p(k=>Math.max(1,k-1)),className:m===1?"pointer-events-none opacity-50":"cursor-pointer"})}),C().map(k=>s.jsx(nm,{children:s.jsx(Pw,{onClick:()=>p(k),isActive:m===k,className:"cursor-pointer",children:k})},k)),s.jsx(nm,{children:s.jsx(R5,{onClick:()=>p(k=>Math.min(E,k+1)),className:m===E?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})]})})};var Ow=e=>e.type==="checkbox",Uh=e=>e instanceof Date,Ii=e=>e==null;const kne=e=>typeof e=="object";var Us=e=>!Ii(e)&&!Array.isArray(e)&&kne(e)&&!Uh(e),Cne=e=>Us(e)&&e.target?Ow(e.target)?e.target.checked:e.target.value:e,vCe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ene=(e,t)=>e.has(vCe(t)),yCe=e=>{const t=e.constructor&&e.constructor.prototype;return Us(t)&&t.hasOwnProperty("isPrototypeOf")},D5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ga(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(D5&&(e instanceof Blob||n))&&(r||Us(e)))if(t=r?[]:{},!r&&!yCe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ga(e[a]));else return e;return t}var M2=e=>/^\w*$/.test(e),Fs=e=>e===void 0,I5=e=>Array.isArray(e)?e.filter(Boolean):[],M5=e=>I5(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(e,t,r)=>{if(!t||!Us(e))return r;const n=(M2(t)?[t]:M5(t)).reduce((a,i)=>Ii(a)?a:a[i],e);return Fs(n)||n===e?Fs(e[t])?r:e[t]:n},Ro=e=>typeof e=="boolean",wn=(e,t,r)=>{let n=-1;const a=M2(t)?[t]:M5(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Us(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const xN={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ac={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ju={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},F5=ce.createContext(null);F5.displayName="HookFormContext";const F2=()=>ce.useContext(F5),bCe=e=>{const{children:t,...r}=e;return ce.createElement(F5.Provider,{value:r},t)};var Tne=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ac.all&&(t._proxyFormState[o]=!n||ac.all),r&&(r[o]=!0),e[o]}});return a};const L5=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function wCe(e){const t=F2(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=ce.useState(r._formState),c=ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return L5(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),ce.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ce.useMemo(()=>Tne(o,r,c.current,!1),[o,r])}var Uc=e=>typeof e=="string",Ane=(e,t,r,n,a)=>Uc(e)?(n&&t.watch.add(e),Et(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Et(r,i))):(n&&(t.watchAll=!0),r),LD=e=>Ii(e)||!kne(e);function Pu(e,t,r=new WeakSet){if(LD(e)||LD(t))return e===t;if(Uh(e)&&Uh(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Uh(o)&&Uh(l)||Us(o)&&Us(l)||Array.isArray(o)&&Array.isArray(l)?!Pu(o,l,r):o!==l)return!1}}return!0}function _Ce(e){const t=F2(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=ce.useRef(a),u=ce.useRef(l),d=ce.useRef(void 0);u.current=l;const f=ce.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=ce.useState(u.current?u.current(f):f);return L5(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const g=Ane(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Pu(v,d.current)||(p(v),d.current=v)}else p(g)}}}),[r,i,n,o]),ce.useEffect(()=>r._removeUnmounted()),m}function jCe(e){const t=F2(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=Ene(a._names.array,r),c=ce.useMemo(()=>Et(a._formValues,r,Et(a._defaultValues,r,o)),[a,r,o]),u=_Ce({control:a,name:r,defaultValue:c,exact:!0}),d=wCe({control:a,name:r,exact:!0}),f=ce.useRef(e),m=ce.useRef(a.register(r,{...e.rules,value:u,...Ro(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Et(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Et(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Et(d.validatingFields,r)},error:{enumerable:!0,get:()=>Et(d.errors,r)}}),[d,r]),y=ce.useCallback(b=>m.current.onChange({target:{value:Cne(b),name:r},type:xN.CHANGE}),[r]),g=ce.useCallback(()=>m.current.onBlur({target:{value:Et(a._formValues,r),name:r},type:xN.BLUR}),[r,a._formValues]),v=ce.useCallback(b=>{const j=Et(a._fields,r);j&&b&&(j._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:E=>b.setCustomValidity(E),reportValidity:()=>b.reportValidity()})},[a._fields,r]),w=ce.useMemo(()=>({name:r,value:u,...Ro(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:g,ref:v}),[r,n,d.disabled,y,g,v,u]);return ce.useEffect(()=>{const b=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Ro(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(E,S)=>{const C=Et(a._fields,E);C&&C._f&&(C._f.mount=S)};if(j(r,!0),b){const E=ga(Et(a._options.defaultValues,r));wn(a._defaultValues,r,E),Fs(Et(a._formValues,r))&&wn(a._formValues,r,E)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):j(r,!1)}},[r,a,l,i]),ce.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ce.useMemo(()=>({field:w,formState:d,fieldState:p}),[w,d,p])}const NCe=e=>e.render(jCe(e));var Pne=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},fy=e=>Array.isArray(e)?e:[e],JU=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},ao=e=>Us(e)&&!Object.keys(e).length,$5=e=>e.type==="file",ic=e=>typeof e=="function",vN=e=>{if(!D5)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},One=e=>e.type==="select-multiple",B5=e=>e.type==="radio",SCe=e=>B5(e)||Ow(e),ET=e=>vN(e)&&e.isConnected;function kCe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Fs(e)?n++:e[t[n++]];return e}function CCe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fs(e[t]))return!1;return!0}function Hs(e,t){const r=Array.isArray(t)?t:M2(t)?[t]:M5(t),n=r.length===1?e:kCe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Us(n)&&ao(n)||Array.isArray(n)&&CCe(n))&&Hs(e,r.slice(0,-1)),e}var Rne=e=>{for(const t in e)if(ic(e[t]))return!0;return!1};function yN(e,t={}){const r=Array.isArray(e);if(Us(e)||r)for(const n in e)Array.isArray(e[n])||Us(e[n])&&!Rne(e[n])?(t[n]=Array.isArray(e[n])?[]:{},yN(e[n],t[n])):Ii(e[n])||(t[n]=!0);return t}function Dne(e,t,r){const n=Array.isArray(e);if(Us(e)||n)for(const a in e)Array.isArray(e[a])||Us(e[a])&&!Rne(e[a])?Fs(t)||LD(r[a])?r[a]=Array.isArray(e[a])?yN(e[a],[]):{...yN(e[a])}:Dne(e[a],Ii(t)?{}:t[a],r[a]):r[a]=!Pu(e[a],t[a]);return r}var uv=(e,t)=>Dne(e,t,yN(t));const ZU={value:!1,isValid:!1},QU={value:!0,isValid:!0};var Ine=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fs(e[0].attributes.value)?Fs(e[0].value)||e[0].value===""?QU:{value:e[0].value,isValid:!0}:QU:ZU}return ZU},Mne=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Fs(e)?e:t?e===""?NaN:e&&+e:r&&Uc(e)?new Date(e):n?n(e):e;const e7={isValid:!1,value:null};var Fne=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,e7):e7;function t7(e){const t=e.ref;return $5(t)?t.files:B5(t)?Fne(e.refs).value:One(t)?[...t.selectedOptions].map(({value:r})=>r):Ow(t)?Ine(e.refs).value:Mne(Fs(t.value)?e.ref.value:t.value,e)}var ECe=(e,t,r,n)=>{const a={};for(const i of e){const o=Et(t,i);o&&wn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},bN=e=>e instanceof RegExp,dv=e=>Fs(e)?e:bN(e)?e.source:Us(e)?bN(e.value)?e.value.source:e.value:e,r7=e=>({isOnSubmit:!e||e===ac.onSubmit,isOnBlur:e===ac.onBlur,isOnChange:e===ac.onChange,isOnAll:e===ac.all,isOnTouch:e===ac.onTouched});const n7="AsyncFunction";var TCe=e=>!!e&&!!e.validate&&!!(ic(e.validate)&&e.validate.constructor.name===n7||Us(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===n7)),ACe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),s7=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const hy=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Et(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(hy(l,t))break}else if(Us(l)&&hy(l,t))break}}};function a7(e,t,r){const n=Et(e,r);if(n||M2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Et(t,i),l=Et(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var PCe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ao(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ac.all))},OCe=(e,t,r)=>!e||!t||e===t||fy(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),RCe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,DCe=(e,t)=>!I5(Et(e,t)).length&&Hs(e,t),ICe=(e,t,r)=>{const n=fy(Et(e,r));return wn(n,"root",t[r]),wn(e,r,n),e},Fj=e=>Uc(e);function i7(e,t,r="validate"){if(Fj(e)||Array.isArray(e)&&e.every(Fj)||Ro(e)&&!e)return{type:r,message:Fj(e)?e:"",ref:t}}var Qp=e=>Us(e)&&!bN(e)?e:{value:e,message:""},o7=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:y,name:g,valueAsNumber:v,mount:w}=e._f,b=Et(r,g);if(!w||t.has(g))return{};const j=l?l[0]:o,E=D=>{a&&j.reportValidity&&(j.setCustomValidity(Ro(D)?"":D||""),j.reportValidity())},S={},C=B5(o),k=Ow(o),R=C||k,O=(v||$5(o))&&Fs(o.value)&&Fs(b)||vN(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,A=Pne.bind(null,g,n,S),P=(D,F,L,H=ju.maxLength,W=ju.minLength)=>{const G=D?F:L;S[g]={type:D?H:W,message:G,ref:o,...A(D?H:W,G)}};if(i?!Array.isArray(b)||!b.length:c&&(!R&&(O||Ii(b))||Ro(b)&&!b||k&&!Ine(l).isValid||C&&!Fne(l).isValid)){const{value:D,message:F}=Fj(c)?{value:!!c,message:c}:Qp(c);if(D&&(S[g]={type:ju.required,message:F,ref:j,...A(ju.required,F)},!n))return E(F),S}if(!O&&(!Ii(f)||!Ii(m))){let D,F;const L=Qp(m),H=Qp(f);if(!Ii(b)&&!isNaN(b)){const W=o.valueAsNumber||b&&+b;Ii(L.value)||(D=W>L.value),Ii(H.value)||(F=W<H.value)}else{const W=o.valueAsDate||new Date(b),G=B=>new Date(new Date().toDateString()+" "+B),K=o.type=="time",I=o.type=="week";Uc(L.value)&&b&&(D=K?G(b)>G(L.value):I?b>L.value:W>new Date(L.value)),Uc(H.value)&&b&&(F=K?G(b)<G(H.value):I?b<H.value:W<new Date(H.value))}if((D||F)&&(P(!!D,L.message,H.message,ju.max,ju.min),!n))return E(S[g].message),S}if((u||d)&&!O&&(Uc(b)||i&&Array.isArray(b))){const D=Qp(u),F=Qp(d),L=!Ii(D.value)&&b.length>+D.value,H=!Ii(F.value)&&b.length<+F.value;if((L||H)&&(P(L,D.message,F.message),!n))return E(S[g].message),S}if(p&&!O&&Uc(b)){const{value:D,message:F}=Qp(p);if(bN(D)&&!b.match(D)&&(S[g]={type:ju.pattern,message:F,ref:o,...A(ju.pattern,F)},!n))return E(F),S}if(y){if(ic(y)){const D=await y(b,r),F=i7(D,j);if(F&&(S[g]={...F,...A(ju.validate,F.message)},!n))return E(F.message),S}else if(Us(y)){let D={};for(const F in y){if(!ao(D)&&!n)break;const L=i7(await y[F](b,r),j,F);L&&(D={...L,...A(F,L.message)},E(L.message),n&&(S[g]=D))}if(!ao(D)&&(S[g]={ref:j,...D},!n))return S}}return E(!0),S};const MCe={mode:ac.onSubmit,reValidateMode:ac.onChange,shouldFocusError:!0};function FCe(e={}){let t={...MCe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ic(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Us(t.defaultValues)||Us(t.values)?ga(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ga(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:JU(),state:JU()},p=t.criteriaMode===ac.all,y=de=>we=>{clearTimeout(u),u=setTimeout(de,we)},g=async de=>{if(!t.disabled&&(d.isValid||f.isValid||de)){const we=t.resolver?ao((await k()).errors):await O(n,!0);we!==r.isValid&&m.state.next({isValid:we})}},v=(de,we)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((de||Array.from(l.mount)).forEach(Oe=>{Oe&&(we?wn(r.validatingFields,Oe,we):Hs(r.validatingFields,Oe))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ao(r.validatingFields)}))},w=(de,we=[],Oe,Ye,Je=!0,Ne=!0)=>{if(Ye&&Oe&&!t.disabled){if(o.action=!0,Ne&&Array.isArray(Et(n,de))){const te=Oe(Et(n,de),Ye.argA,Ye.argB);Je&&wn(n,de,te)}if(Ne&&Array.isArray(Et(r.errors,de))){const te=Oe(Et(r.errors,de),Ye.argA,Ye.argB);Je&&wn(r.errors,de,te),DCe(r.errors,de)}if((d.touchedFields||f.touchedFields)&&Ne&&Array.isArray(Et(r.touchedFields,de))){const te=Oe(Et(r.touchedFields,de),Ye.argA,Ye.argB);Je&&wn(r.touchedFields,de,te)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=uv(a,i)),m.state.next({name:de,isDirty:P(de,we),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wn(i,de,we)},b=(de,we)=>{wn(r.errors,de,we),m.state.next({errors:r.errors})},j=de=>{r.errors=de,m.state.next({errors:r.errors,isValid:!1})},E=(de,we,Oe,Ye)=>{const Je=Et(n,de);if(Je){const Ne=Et(i,de,Fs(Oe)?Et(a,de):Oe);Fs(Ne)||Ye&&Ye.defaultChecked||we?wn(i,de,we?Ne:t7(Je._f)):L(de,Ne),o.mount&&g()}},S=(de,we,Oe,Ye,Je)=>{let Ne=!1,te=!1;const _e={name:de};if(!t.disabled){if(!Oe||Ye){(d.isDirty||f.isDirty)&&(te=r.isDirty,r.isDirty=_e.isDirty=P(),Ne=te!==_e.isDirty);const pe=Pu(Et(a,de),we);te=!!Et(r.dirtyFields,de),pe?Hs(r.dirtyFields,de):wn(r.dirtyFields,de,!0),_e.dirtyFields=r.dirtyFields,Ne=Ne||(d.dirtyFields||f.dirtyFields)&&te!==!pe}if(Oe){const pe=Et(r.touchedFields,de);pe||(wn(r.touchedFields,de,Oe),_e.touchedFields=r.touchedFields,Ne=Ne||(d.touchedFields||f.touchedFields)&&pe!==Oe)}Ne&&Je&&m.state.next(_e)}return Ne?_e:{}},C=(de,we,Oe,Ye)=>{const Je=Et(r.errors,de),Ne=(d.isValid||f.isValid)&&Ro(we)&&r.isValid!==we;if(t.delayError&&Oe?(c=y(()=>b(de,Oe)),c(t.delayError)):(clearTimeout(u),c=null,Oe?wn(r.errors,de,Oe):Hs(r.errors,de)),(Oe?!Pu(Je,Oe):Je)||!ao(Ye)||Ne){const te={...Ye,...Ne&&Ro(we)?{isValid:we}:{},errors:r.errors,name:de};r={...r,...te},m.state.next(te)}},k=async de=>{v(de,!0);const we=await t.resolver(i,t.context,ECe(de||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(de),we},R=async de=>{const{errors:we}=await k(de);if(de)for(const Oe of de){const Ye=Et(we,Oe);Ye?wn(r.errors,Oe,Ye):Hs(r.errors,Oe)}else r.errors=we;return we},O=async(de,we,Oe={valid:!0})=>{for(const Ye in de){const Je=de[Ye];if(Je){const{_f:Ne,...te}=Je;if(Ne){const _e=l.array.has(Ne.name),pe=Je._f&&TCe(Je._f);pe&&d.validatingFields&&v([Ye],!0);const Ie=await o7(Je,l.disabled,i,p,t.shouldUseNativeValidation&&!we,_e);if(pe&&d.validatingFields&&v([Ye]),Ie[Ne.name]&&(Oe.valid=!1,we))break;!we&&(Et(Ie,Ne.name)?_e?ICe(r.errors,Ie,Ne.name):wn(r.errors,Ne.name,Ie[Ne.name]):Hs(r.errors,Ne.name))}!ao(te)&&await O(te,we,Oe)}}return Oe.valid},A=()=>{for(const de of l.unMount){const we=Et(n,de);we&&(we._f.refs?we._f.refs.every(Oe=>!ET(Oe)):!ET(we._f.ref))&&fe(de)}l.unMount=new Set},P=(de,we)=>!t.disabled&&(de&&we&&wn(i,de,we),!Pu(B(),a)),D=(de,we,Oe)=>Ane(de,l,{...o.mount?i:Fs(we)?a:Uc(de)?{[de]:we}:we},Oe,we),F=de=>I5(Et(o.mount?i:a,de,t.shouldUnregister?Et(a,de,[]):[])),L=(de,we,Oe={})=>{const Ye=Et(n,de);let Je=we;if(Ye){const Ne=Ye._f;Ne&&(!Ne.disabled&&wn(i,de,Mne(we,Ne)),Je=vN(Ne.ref)&&Ii(we)?"":we,One(Ne.ref)?[...Ne.ref.options].forEach(te=>te.selected=Je.includes(te.value)):Ne.refs?Ow(Ne.ref)?Ne.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(Je)?te.checked=!!Je.find(_e=>_e===te.value):te.checked=Je===te.value||!!Je)}):Ne.refs.forEach(te=>te.checked=te.value===Je):$5(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Je,Ne.ref.type||m.state.next({name:de,values:ga(i)})))}(Oe.shouldDirty||Oe.shouldTouch)&&S(de,Je,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&I(de)},H=(de,we,Oe)=>{for(const Ye in we){if(!we.hasOwnProperty(Ye))return;const Je=we[Ye],Ne=de+"."+Ye,te=Et(n,Ne);(l.array.has(de)||Us(Je)||te&&!te._f)&&!Uh(Je)?H(Ne,Je,Oe):L(Ne,Je,Oe)}},W=(de,we,Oe={})=>{const Ye=Et(n,de),Je=l.array.has(de),Ne=ga(we);wn(i,de,Ne),Je?(m.array.next({name:de,values:ga(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&m.state.next({name:de,dirtyFields:uv(a,i),isDirty:P(de,Ne)})):Ye&&!Ye._f&&!Ii(Ne)?H(de,Ne,Oe):L(de,Ne,Oe),s7(de,l)&&m.state.next({...r,name:de}),m.state.next({name:o.mount?de:void 0,values:ga(i)})},G=async de=>{o.mount=!0;const we=de.target;let Oe=we.name,Ye=!0;const Je=Et(n,Oe),Ne=pe=>{Ye=Number.isNaN(pe)||Uh(pe)&&isNaN(pe.getTime())||Pu(pe,Et(i,Oe,pe))},te=r7(t.mode),_e=r7(t.reValidateMode);if(Je){let pe,Ie;const De=we.type?t7(Je._f):Cne(de),le=de.type===xN.BLUR||de.type===xN.FOCUS_OUT,Re=!ACe(Je._f)&&!t.resolver&&!Et(r.errors,Oe)&&!Je._f.deps||RCe(le,Et(r.touchedFields,Oe),r.isSubmitted,_e,te),et=s7(Oe,l,le);wn(i,Oe,De),le?(Je._f.onBlur&&Je._f.onBlur(de),c&&c(0)):Je._f.onChange&&Je._f.onChange(de);const xt=S(Oe,De,le),at=!ao(xt)||et;if(!le&&m.state.next({name:Oe,type:de.type,values:ga(i)}),Re)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?le&&g():le||g()),at&&m.state.next({name:Oe,...et?{}:xt});if(!le&&et&&m.state.next({...r}),t.resolver){const{errors:St}=await k([Oe]);if(Ne(De),Ye){const Xt=a7(r.errors,n,Oe),At=a7(St,n,Xt.name||Oe);pe=At.error,Oe=At.name,Ie=ao(St)}}else v([Oe],!0),pe=(await o7(Je,l.disabled,i,p,t.shouldUseNativeValidation))[Oe],v([Oe]),Ne(De),Ye&&(pe?Ie=!1:(d.isValid||f.isValid)&&(Ie=await O(n,!0)));Ye&&(Je._f.deps&&I(Je._f.deps),C(Oe,Ie,pe,xt))}},K=(de,we)=>{if(Et(r.errors,we)&&de.focus)return de.focus(),1},I=async(de,we={})=>{let Oe,Ye;const Je=fy(de);if(t.resolver){const Ne=await R(Fs(de)?de:Je);Oe=ao(Ne),Ye=de?!Je.some(te=>Et(Ne,te)):Oe}else de?(Ye=(await Promise.all(Je.map(async Ne=>{const te=Et(n,Ne);return await O(te&&te._f?{[Ne]:te}:te)}))).every(Boolean),!(!Ye&&!r.isValid)&&g()):Ye=Oe=await O(n);return m.state.next({...!Uc(de)||(d.isValid||f.isValid)&&Oe!==r.isValid?{}:{name:de},...t.resolver||!de?{isValid:Oe}:{},errors:r.errors}),we.shouldFocus&&!Ye&&hy(n,K,de?Je:l.mount),Ye},B=de=>{const we={...o.mount?i:a};return Fs(de)?we:Uc(de)?Et(we,de):de.map(Oe=>Et(we,Oe))},Y=(de,we)=>({invalid:!!Et((we||r).errors,de),isDirty:!!Et((we||r).dirtyFields,de),error:Et((we||r).errors,de),isValidating:!!Et(r.validatingFields,de),isTouched:!!Et((we||r).touchedFields,de)}),z=de=>{de&&fy(de).forEach(we=>Hs(r.errors,we)),m.state.next({errors:de?r.errors:{}})},J=(de,we,Oe)=>{const Ye=(Et(n,de,{_f:{}})._f||{}).ref,Je=Et(r.errors,de)||{},{ref:Ne,message:te,type:_e,...pe}=Je;wn(r.errors,de,{...pe,...we,ref:Ye}),m.state.next({name:de,errors:r.errors,isValid:!1}),Oe&&Oe.shouldFocus&&Ye&&Ye.focus&&Ye.focus()},X=(de,we)=>ic(de)?m.state.subscribe({next:Oe=>"values"in Oe&&de(D(void 0,we),Oe)}):D(de,we,!0),ee=de=>m.state.subscribe({next:we=>{OCe(de.name,we.name,de.exact)&&PCe(we,de.formState||d,ie,de.reRenderRoot)&&de.callback({values:{...i},...r,...we,defaultValues:a})}}).unsubscribe,he=de=>(o.mount=!0,f={...f,...de.formState},ee({...de,formState:f})),fe=(de,we={})=>{for(const Oe of de?fy(de):l.mount)l.mount.delete(Oe),l.array.delete(Oe),we.keepValue||(Hs(n,Oe),Hs(i,Oe)),!we.keepError&&Hs(r.errors,Oe),!we.keepDirty&&Hs(r.dirtyFields,Oe),!we.keepTouched&&Hs(r.touchedFields,Oe),!we.keepIsValidating&&Hs(r.validatingFields,Oe),!t.shouldUnregister&&!we.keepDefaultValue&&Hs(a,Oe);m.state.next({values:ga(i)}),m.state.next({...r,...we.keepDirty?{isDirty:P()}:{}}),!we.keepIsValid&&g()},ge=({disabled:de,name:we})=>{(Ro(de)&&o.mount||de||l.disabled.has(we))&&(de?l.disabled.add(we):l.disabled.delete(we))},U=(de,we={})=>{let Oe=Et(n,de);const Ye=Ro(we.disabled)||Ro(t.disabled);return wn(n,de,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:de}},name:de,mount:!0,...we}}),l.mount.add(de),Oe?ge({disabled:Ro(we.disabled)?we.disabled:t.disabled,name:de}):E(de,!0,we.value),{...Ye?{disabled:we.disabled||t.disabled}:{},...t.progressive?{required:!!we.required,min:dv(we.min),max:dv(we.max),minLength:dv(we.minLength),maxLength:dv(we.maxLength),pattern:dv(we.pattern)}:{},name:de,onChange:G,onBlur:G,ref:Je=>{if(Je){U(de,we),Oe=Et(n,de);const Ne=Fs(Je.value)&&Je.querySelectorAll&&Je.querySelectorAll("input,select,textarea")[0]||Je,te=SCe(Ne),_e=Oe._f.refs||[];if(te?_e.find(pe=>pe===Ne):Ne===Oe._f.ref)return;wn(n,de,{_f:{...Oe._f,...te?{refs:[..._e.filter(ET),Ne,...Array.isArray(Et(a,de))?[{}]:[]],ref:{type:Ne.type,name:de}}:{ref:Ne}}}),E(de,!1,void 0,Ne)}else Oe=Et(n,de,{}),Oe._f&&(Oe._f.mount=!1),(t.shouldUnregister||we.shouldUnregister)&&!(Ene(l.array,de)&&o.action)&&l.unMount.add(de)}}},ne=()=>t.shouldFocusError&&hy(n,K,l.mount),Q=de=>{Ro(de)&&(m.state.next({disabled:de}),hy(n,(we,Oe)=>{const Ye=Et(n,Oe);Ye&&(we.disabled=Ye._f.disabled||de,Array.isArray(Ye._f.refs)&&Ye._f.refs.forEach(Je=>{Je.disabled=Ye._f.disabled||de}))},0,!1))},V=(de,we)=>async Oe=>{let Ye;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let Je=ga(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Ne,values:te}=await k();r.errors=Ne,Je=ga(te)}else await O(n);if(l.disabled.size)for(const Ne of l.disabled)Hs(Je,Ne);if(Hs(r.errors,"root"),ao(r.errors)){m.state.next({errors:{}});try{await de(Je,Oe)}catch(Ne){Ye=Ne}}else we&&await we({...r.errors},Oe),ne(),setTimeout(ne);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ao(r.errors)&&!Ye,submitCount:r.submitCount+1,errors:r.errors}),Ye)throw Ye},ue=(de,we={})=>{Et(n,de)&&(Fs(we.defaultValue)?W(de,ga(Et(a,de))):(W(de,we.defaultValue),wn(a,de,ga(we.defaultValue))),we.keepTouched||Hs(r.touchedFields,de),we.keepDirty||(Hs(r.dirtyFields,de),r.isDirty=we.defaultValue?P(de,ga(Et(a,de))):P()),we.keepError||(Hs(r.errors,de),d.isValid&&g()),m.state.next({...r}))},oe=(de,we={})=>{const Oe=de?ga(de):a,Ye=ga(Oe),Je=ao(de),Ne=Je?a:Ye;if(we.keepDefaultValues||(a=Oe),!we.keepValues){if(we.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(uv(a,i))]);for(const _e of Array.from(te))Et(r.dirtyFields,_e)?wn(Ne,_e,Et(i,_e)):W(_e,Et(Ne,_e))}else{if(D5&&Fs(de))for(const te of l.mount){const _e=Et(n,te);if(_e&&_e._f){const pe=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(vN(pe)){const Ie=pe.closest("form");if(Ie){Ie.reset();break}}}}if(we.keepFieldsRef)for(const te of l.mount)W(te,Et(Ne,te));else n={}}i=t.shouldUnregister?we.keepDefaultValues?ga(a):{}:ga(Ne),m.array.next({values:{...Ne}}),m.state.next({values:{...Ne}})}l={mount:we.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!we.keepIsValid||!!we.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:we.keepSubmitCount?r.submitCount:0,isDirty:Je?!1:we.keepDirty?r.isDirty:!!(we.keepDefaultValues&&!Pu(de,a)),isSubmitted:we.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Je?{}:we.keepDirtyValues?we.keepDefaultValues&&i?uv(a,i):r.dirtyFields:we.keepDefaultValues&&de?uv(a,de):we.keepDirty?r.dirtyFields:{},touchedFields:we.keepTouched?r.touchedFields:{},errors:we.keepErrors?r.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Se=(de,we)=>oe(ic(de)?de(i):de,we),Ee=(de,we={})=>{const Oe=Et(n,de),Ye=Oe&&Oe._f;if(Ye){const Je=Ye.refs?Ye.refs[0]:Ye.ref;Je.focus&&(Je.focus(),we.shouldSelect&&ic(Je.select)&&Je.select())}},ie=de=>{r={...r,...de}},He={control:{register:U,unregister:fe,getFieldState:Y,handleSubmit:V,setError:J,_subscribe:ee,_runSchema:k,_focusError:ne,_getWatch:D,_getDirty:P,_setValid:g,_setFieldArray:w,_setDisabledField:ge,_setErrors:j,_getFieldArray:F,_reset:oe,_resetDefaultValues:()=>ic(t.defaultValues)&&t.defaultValues().then(de=>{Se(de,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Q,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(de){o=de},get _defaultValues(){return a},get _names(){return l},set _names(de){l=de},get _formState(){return r},get _options(){return t},set _options(de){t={...t,...de}}},subscribe:he,trigger:I,register:U,handleSubmit:V,watch:X,setValue:W,getValues:B,reset:Se,resetField:ue,clearErrors:z,unregister:fe,setError:J,setFocus:Ee,getFieldState:Y};return{...He,formControl:He}}function Rw(e={}){const t=ce.useRef(void 0),r=ce.useRef(void 0),[n,a]=ce.useState({isDirty:!1,isValidating:!1,isLoading:ic(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ic(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ic(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=FCe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,L5(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ce.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ce.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ce.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ce.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ce.useEffect(()=>{e.values&&!Pu(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ce.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Tne(n,i),t.current}const l7=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Et(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Lne=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?l7(n.ref,r,e):n.refs&&n.refs.forEach(a=>l7(a,r,e))}},LCe=(e,t)=>{t.shouldUseNativeValidation&&Lne(e,t);const r={};for(const n in e){const a=Et(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if($Ce(t.names||Object.keys(e),n)){const o=Object.assign({},Et(r,n));wn(o,"root",i),wn(r,n,o)}else wn(r,n,i)}return r},$Ce=(e,t)=>e.some(r=>r.startsWith(t+"."));var BCe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Pne(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Dw=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Lne({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:LCe(BCe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},un;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(un||(un={}));var c7;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(c7||(c7={}));const Ht=un.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qd=e=>{switch(typeof e){case"undefined":return Ht.undefined;case"string":return Ht.string;case"number":return Number.isNaN(e)?Ht.nan:Ht.number;case"boolean":return Ht.boolean;case"function":return Ht.function;case"bigint":return Ht.bigint;case"symbol":return Ht.symbol;case"object":return Array.isArray(e)?Ht.array:e===null?Ht.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ht.promise:typeof Map<"u"&&e instanceof Map?Ht.map:typeof Set<"u"&&e instanceof Set?Ht.set:typeof Date<"u"&&e instanceof Date?Ht.date:Ht.object;default:return Ht.unknown}},bt=un.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xu extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Xu))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,un.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Xu.create=e=>new Xu(e);const $D=(e,t)=>{let r;switch(e.code){case bt.invalid_type:e.received===Ht.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,un.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${un.joinValues(e.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${un.joinValues(e.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${un.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:un.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case bt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case bt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=t.defaultError,un.assertNever(e)}return{message:r}};let UCe=$D;function VCe(){return UCe}const zCe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Dt(e,t){const r=VCe(),n=zCe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$D?void 0:$D].filter(a=>!!a)});e.common.issues.push(n)}class Xo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return kr;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Xo.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return kr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const kr=Object.freeze({status:"aborted"}),$v=e=>({status:"dirty",value:e}),$l=e=>({status:"valid",value:e}),u7=e=>e.status==="aborted",d7=e=>e.status==="dirty",d0=e=>e.status==="valid",wN=e=>typeof Promise<"u"&&e instanceof Promise;var Yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Yt||(Yt={}));class Pf{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const f7=(e,t)=>{if(d0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Xu(e.common.issues);return this._error=r,this._error}}};function Hr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class on{get description(){return this._def.description}_getType(t){return qd(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:qd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xo,ctx:{common:t.parent.common,data:t.data,parsedType:qd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(wN(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qd(t)},a=this._parseSync({data:t,path:n.path,parent:n});return f7(n,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qd(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return d0(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>d0(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qd(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(wN(a)?a:Promise.resolve(a));return f7(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:bt.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new m0({schema:this,typeName:Er.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return mf.create(this,this._def)}nullable(){return p0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gc.create(this)}promise(){return SN.create(this,this._def)}or(t){return jN.create([this,t],this._def)}and(t){return NN.create(this,t,this._def)}transform(t){return new m0({...Hr(this._def),schema:this,typeName:Er.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new VD({...Hr(this._def),innerType:this,defaultValue:r,typeName:Er.ZodDefault})}brand(){return new fEe({typeName:Er.ZodBranded,type:this,...Hr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new zD({...Hr(this._def),innerType:this,catchValue:r,typeName:Er.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return U5.create(this,t)}readonly(){return qD.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qCe=/^c[^\s-]{8,}$/i,WCe=/^[0-9a-z]+$/,HCe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,GCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,KCe=/^[a-z0-9_-]{21}$/i,YCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,XCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,JCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ZCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let TT;const QCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nEe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sEe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$ne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aEe=new RegExp(`^${$ne}$`);function Bne(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function iEe(e){return new RegExp(`^${Bne(e)}$`)}function oEe(e){let t=`${$ne}T${Bne(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function lEe(e,t){return!!((t==="v4"||!t)&&QCe.test(e)||(t==="v6"||!t)&&tEe.test(e))}function cEe(e,t){if(!YCe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function uEe(e,t){return!!((t==="v4"||!t)&&eEe.test(e)||(t==="v6"||!t)&&rEe.test(e))}class Ru extends on{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ht.string){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_type,expected:Ht.string,received:i.parsedType}),kr}const n=new Xo;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Dt(a,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Dt(a,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")JCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"email",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")TT||(TT=new RegExp(ZCe,"u")),TT.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"emoji",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")GCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"uuid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")KCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"nanoid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")qCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"cuid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")WCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"cuid2",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")HCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"ulid",code:bt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Dt(a,{validation:"url",code:bt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"regex",code:bt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?oEe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?aEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?iEe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?XCe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"duration",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?lEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"ip",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?cEe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"jwt",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?uEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"cidr",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?nEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"base64",code:bt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?sEe.test(t.data)||(a=this._getOrReturnCtx(t,a),Dt(a,{validation:"base64url",code:bt.invalid_string,message:i.message}),n.dirty()):un.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:bt.invalid_string,...Yt.errToObj(n)})}_addCheck(t){return new Ru({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Yt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Yt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Yt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Yt.errToObj(r)})}nonempty(t){return this.min(1,Yt.errToObj(t))}trim(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ru({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ru.create=e=>new Ru({checks:[],typeName:Er.ZodString,coerce:e?.coerce??!1,...Hr(e)});function dEe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class _m extends on{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ht.number){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_type,expected:Ht.number,received:i.parsedType}),kr}let n;const a=new Xo;for(const i of this._def.checks)i.kind==="int"?un.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?dEe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.not_finite,message:i.message}),a.dirty()):un.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Yt.toString(r))}setLimit(t,r,n,a){return new _m({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Yt.toString(a)}]})}_addCheck(t){return new _m({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&un.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}_m.create=e=>new _m({checks:[],typeName:Er.ZodNumber,coerce:e?.coerce||!1,...Hr(e)});class jm extends on{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ht.bigint)return this._getInvalidInput(t);let n;const a=new Xo;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Dt(n,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):un.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Dt(r,{code:bt.invalid_type,expected:Ht.bigint,received:r.parsedType}),kr}gte(t,r){return this.setLimit("min",t,!0,Yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Yt.toString(r))}setLimit(t,r,n,a){return new jm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Yt.toString(a)}]})}_addCheck(t){return new jm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}jm.create=e=>new jm({checks:[],typeName:Er.ZodBigInt,coerce:e?.coerce??!1,...Hr(e)});class _N extends on{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ht.boolean){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.boolean,received:n.parsedType}),kr}return $l(t.data)}}_N.create=e=>new _N({typeName:Er.ZodBoolean,coerce:e?.coerce||!1,...Hr(e)});class f0 extends on{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ht.date){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_type,expected:Ht.date,received:i.parsedType}),kr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Dt(i,{code:bt.invalid_date}),kr}const n=new Xo;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Dt(a,{code:bt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):un.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new f0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}f0.create=e=>new f0({checks:[],coerce:e?.coerce||!1,typeName:Er.ZodDate,...Hr(e)});class h7 extends on{_parse(t){if(this._getType(t)!==Ht.symbol){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.symbol,received:n.parsedType}),kr}return $l(t.data)}}h7.create=e=>new h7({typeName:Er.ZodSymbol,...Hr(e)});class m7 extends on{_parse(t){if(this._getType(t)!==Ht.undefined){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.undefined,received:n.parsedType}),kr}return $l(t.data)}}m7.create=e=>new m7({typeName:Er.ZodUndefined,...Hr(e)});class p7 extends on{_parse(t){if(this._getType(t)!==Ht.null){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.null,received:n.parsedType}),kr}return $l(t.data)}}p7.create=e=>new p7({typeName:Er.ZodNull,...Hr(e)});class g7 extends on{constructor(){super(...arguments),this._any=!0}_parse(t){return $l(t.data)}}g7.create=e=>new g7({typeName:Er.ZodAny,...Hr(e)});class x7 extends on{constructor(){super(...arguments),this._unknown=!0}_parse(t){return $l(t.data)}}x7.create=e=>new x7({typeName:Er.ZodUnknown,...Hr(e)});class Of extends on{_parse(t){const r=this._getOrReturnCtx(t);return Dt(r,{code:bt.invalid_type,expected:Ht.never,received:r.parsedType}),kr}}Of.create=e=>new Of({typeName:Er.ZodNever,...Hr(e)});class v7 extends on{_parse(t){if(this._getType(t)!==Ht.undefined){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.void,received:n.parsedType}),kr}return $l(t.data)}}v7.create=e=>new v7({typeName:Er.ZodVoid,...Hr(e)});class Gc extends on{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ht.array)return Dt(r,{code:bt.invalid_type,expected:Ht.array,received:r.parsedType}),kr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Dt(r,{code:o?bt.too_big:bt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Dt(r,{code:bt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Dt(r,{code:bt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Pf(r,o,r.path,l)))).then(o=>Xo.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Pf(r,o,r.path,l)));return Xo.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Gc({...this._def,minLength:{value:t,message:Yt.toString(r)}})}max(t,r){return new Gc({...this._def,maxLength:{value:t,message:Yt.toString(r)}})}length(t,r){return new Gc({...this._def,exactLength:{value:t,message:Yt.toString(r)}})}nonempty(t){return this.min(1,t)}}Gc.create=(e,t)=>new Gc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Er.ZodArray,...Hr(t)});function dg(e){if(e instanceof Qs){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=mf.create(dg(n))}return new Qs({...e._def,shape:()=>t})}else return e instanceof Gc?new Gc({...e._def,type:dg(e.element)}):e instanceof mf?mf.create(dg(e.unwrap())):e instanceof p0?p0.create(dg(e.unwrap())):e instanceof Nm?Nm.create(e.items.map(t=>dg(t))):e}class Qs extends on{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=un.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ht.object){const u=this._getOrReturnCtx(t);return Dt(u,{code:bt.invalid_type,expected:Ht.object,received:u.parsedType}),kr}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Of&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Pf(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Of){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Dt(a,{code:bt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Pf(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Xo.mergeObjectSync(n,u)):Xo.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Yt.errToObj,new Qs({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const a=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Yt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Qs({...this._def,unknownKeys:"strip"})}passthrough(){return new Qs({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qs({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qs({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Er.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qs({...this._def,catchall:t})}pick(t){const r={};for(const n of un.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Qs({...this._def,shape:()=>r})}omit(t){const r={};for(const n of un.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Qs({...this._def,shape:()=>r})}deepPartial(){return dg(this)}partial(t){const r={};for(const n of un.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Qs({...this._def,shape:()=>r})}required(t){const r={};for(const n of un.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof mf;)i=i._def.innerType;r[n]=i}return new Qs({...this._def,shape:()=>r})}keyof(){return Une(un.objectKeys(this.shape))}}Qs.create=(e,t)=>new Qs({shape:()=>e,unknownKeys:"strip",catchall:Of.create(),typeName:Er.ZodObject,...Hr(t)});Qs.strictCreate=(e,t)=>new Qs({shape:()=>e,unknownKeys:"strict",catchall:Of.create(),typeName:Er.ZodObject,...Hr(t)});Qs.lazycreate=(e,t)=>new Qs({shape:e,unknownKeys:"strip",catchall:Of.create(),typeName:Er.ZodObject,...Hr(t)});class jN extends on{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Xu(l.ctx.common.issues));return Dt(r,{code:bt.invalid_union,unionErrors:o}),kr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Xu(c));return Dt(r,{code:bt.invalid_union,unionErrors:l}),kr}}get options(){return this._def.options}}jN.create=(e,t)=>new jN({options:e,typeName:Er.ZodUnion,...Hr(t)});function BD(e,t){const r=qd(e),n=qd(t);if(e===t)return{valid:!0,data:e};if(r===Ht.object&&n===Ht.object){const a=un.objectKeys(t),i=un.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=BD(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ht.array&&n===Ht.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=BD(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ht.date&&n===Ht.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class NN extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(u7(i)||u7(o))return kr;const l=BD(i.value,o.value);return l.valid?((d7(i)||d7(o))&&r.dirty(),{status:r.value,value:l.data}):(Dt(n,{code:bt.invalid_intersection_types}),kr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}NN.create=(e,t,r)=>new NN({left:e,right:t,typeName:Er.ZodIntersection,...Hr(r)});class Nm extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ht.array)return Dt(n,{code:bt.invalid_type,expected:Ht.array,received:n.parsedType}),kr;if(n.data.length<this._def.items.length)return Dt(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),kr;!this._def.rest&&n.data.length>this._def.items.length&&(Dt(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Pf(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Xo.mergeArray(r,o)):Xo.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Nm({...this._def,rest:t})}}Nm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nm({items:e,typeName:Er.ZodTuple,rest:null,...Hr(t)})};class y7 extends on{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ht.map)return Dt(n,{code:bt.invalid_type,expected:Ht.map,received:n.parsedType}),kr;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Pf(n,l,n.path,[u,"key"])),value:i._parse(new Pf(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return kr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return kr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}y7.create=(e,t,r)=>new y7({valueType:t,keyType:e,typeName:Er.ZodMap,...Hr(r)});class nb extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ht.set)return Dt(n,{code:bt.invalid_type,expected:Ht.set,received:n.parsedType}),kr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Dt(n,{code:bt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Dt(n,{code:bt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return kr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Pf(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new nb({...this._def,minSize:{value:t,message:Yt.toString(r)}})}max(t,r){return new nb({...this._def,maxSize:{value:t,message:Yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}nb.create=(e,t)=>new nb({valueType:e,minSize:null,maxSize:null,typeName:Er.ZodSet,...Hr(t)});class b7 extends on{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}b7.create=(e,t)=>new b7({getter:e,typeName:Er.ZodLazy,...Hr(t)});class UD extends on{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Dt(r,{received:r.data,code:bt.invalid_literal,expected:this._def.value}),kr}return{status:"valid",value:t.data}}get value(){return this._def.value}}UD.create=(e,t)=>new UD({value:e,typeName:Er.ZodLiteral,...Hr(t)});function Une(e,t){return new h0({values:e,typeName:Er.ZodEnum,...Hr(t)})}class h0 extends on{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Dt(r,{expected:un.joinValues(n),received:r.parsedType,code:bt.invalid_type}),kr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Dt(r,{received:r.data,code:bt.invalid_enum_value,options:n}),kr}return $l(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return h0.create(t,{...this._def,...r})}exclude(t,r=this._def){return h0.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}h0.create=Une;class w7 extends on{_parse(t){const r=un.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ht.string&&n.parsedType!==Ht.number){const a=un.objectValues(r);return Dt(n,{expected:un.joinValues(a),received:n.parsedType,code:bt.invalid_type}),kr}if(this._cache||(this._cache=new Set(un.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=un.objectValues(r);return Dt(n,{received:n.data,code:bt.invalid_enum_value,options:a}),kr}return $l(t.data)}get enum(){return this._def.values}}w7.create=(e,t)=>new w7({values:e,typeName:Er.ZodNativeEnum,...Hr(t)});class SN extends on{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ht.promise&&r.common.async===!1)return Dt(r,{code:bt.invalid_type,expected:Ht.promise,received:r.parsedType}),kr;const n=r.parsedType===Ht.promise?r.data:Promise.resolve(r.data);return $l(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}SN.create=(e,t)=>new SN({type:e,typeName:Er.ZodPromise,...Hr(t)});class m0 extends on{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Er.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Dt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return kr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?kr:c.status==="dirty"||r.value==="dirty"?$v(c.value):c});{if(r.value==="aborted")return kr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?kr:l.status==="dirty"||r.value==="dirty"?$v(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?kr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?kr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!d0(o))return kr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>d0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):kr);un.assertNever(a)}}m0.create=(e,t,r)=>new m0({schema:e,typeName:Er.ZodEffects,effect:t,...Hr(r)});m0.createWithPreprocess=(e,t,r)=>new m0({schema:t,effect:{type:"preprocess",transform:e},typeName:Er.ZodEffects,...Hr(r)});class mf extends on{_parse(t){return this._getType(t)===Ht.undefined?$l(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mf.create=(e,t)=>new mf({innerType:e,typeName:Er.ZodOptional,...Hr(t)});class p0 extends on{_parse(t){return this._getType(t)===Ht.null?$l(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}p0.create=(e,t)=>new p0({innerType:e,typeName:Er.ZodNullable,...Hr(t)});class VD extends on{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ht.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}VD.create=(e,t)=>new VD({innerType:e,typeName:Er.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Hr(t)});class zD extends on{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return wN(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xu(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Xu(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}zD.create=(e,t)=>new zD({innerType:e,typeName:Er.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Hr(t)});class _7 extends on{_parse(t){if(this._getType(t)!==Ht.nan){const n=this._getOrReturnCtx(t);return Dt(n,{code:bt.invalid_type,expected:Ht.nan,received:n.parsedType}),kr}return{status:"valid",value:t.data}}}_7.create=e=>new _7({typeName:Er.ZodNaN,...Hr(e)});class fEe extends on{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class U5 extends on{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?kr:i.status==="dirty"?(r.dirty(),$v(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?kr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new U5({in:t,out:r,typeName:Er.ZodPipeline})}}class qD extends on{_parse(t){const r=this._def.innerType._parse(t),n=a=>(d0(a)&&(a.value=Object.freeze(a.value)),a);return wN(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}qD.create=(e,t)=>new qD({innerType:e,typeName:Er.ZodReadonly,...Hr(t)});var Er;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Er||(Er={}));const nn=Ru.create;_m.create;jm.create;const Ac=_N.create;f0.create;Of.create;const Vne=Gc.create,tp=Qs.create;jN.create;NN.create;Nm.create;const hEe=UD.create,L2=h0.create;SN.create;mf.create;p0.create;const Fd={string:(e=>Ru.create({...e,coerce:!0})),number:(e=>_m.create({...e,coerce:!0})),boolean:(e=>_N.create({...e,coerce:!0})),bigint:(e=>jm.create({...e,coerce:!0})),date:(e=>f0.create({...e,coerce:!0}))},Iw=bCe,zne=_.createContext({}),xr=({...e})=>s.jsx(zne.Provider,{value:{name:e.name},children:s.jsx(NCe,{...e})}),$2=()=>{const e=_.useContext(zne),t=_.useContext(qne),{getFieldState:r,formState:n}=F2(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},qne=_.createContext({}),ur=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return s.jsx(qne.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ut("space-y-2",e),...t})})});ur.displayName="FormItem";const vr=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=$2();return s.jsx(Ce,{ref:r,className:ut(n&&"text-destructive",e),htmlFor:a,...t})});vr.displayName="FormLabel";const dr=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=$2();return s.jsx(dJ,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});dr.displayName="FormControl";const qa=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=$2();return s.jsx("p",{ref:r,id:n,className:ut("text-sm text-muted-foreground",e),...t})});qa.displayName="FormDescription";const Lr=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=$2(),o=a?String(a?.message):t;return o?s.jsx("p",{ref:n,id:i,className:ut("text-sm font-medium text-destructive",e),...r,children:o}):null});Lr.displayName="FormMessage";const mEe=()=>{const e=Date.now(),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${t}`};var Wne="AlertDialog",[pEe]=Vs(Wne,[zte]),od=zte(),Hne=e=>{const{__scopeAlertDialog:t,...r}=e,n=od(t);return s.jsx(p5,{...n,...r,modal:!0})};Hne.displayName=Wne;var gEe="AlertDialogTrigger",xEe=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(are,{...a,...n,ref:t})});xEe.displayName=gEe;var vEe="AlertDialogPortal",Gne=e=>{const{__scopeAlertDialog:t,...r}=e,n=od(t);return s.jsx(g5,{...n,...r})};Gne.displayName=vEe;var yEe="AlertDialogOverlay",Kne=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(Sw,{...a,...n,ref:t})});Kne.displayName=yEe;var qg="AlertDialogContent",[bEe,wEe]=pEe(qg),_Ee=hJ("AlertDialogContent"),Yne=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=od(r),o=_.useRef(null),l=Zt(t,o),c=_.useRef(null);return s.jsx(ENe,{contentName:qg,titleName:Xne,docsSlug:"alert-dialog",children:s.jsx(bEe,{scope:r,cancelRef:c,children:s.jsxs(kw,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ft(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(_Ee,{children:n}),s.jsx(NEe,{contentRef:o})]})})})});Yne.displayName=qg;var Xne="AlertDialogTitle",Jne=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(Cw,{...a,...n,ref:t})});Jne.displayName=Xne;var Zne="AlertDialogDescription",Qne=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(Ew,{...a,...n,ref:t})});Qne.displayName=Zne;var jEe="AlertDialogAction",ese=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=od(r);return s.jsx(E2,{...a,...n,ref:t})});ese.displayName=jEe;var tse="AlertDialogCancel",rse=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=wEe(tse,r),i=od(r),o=Zt(t,a);return s.jsx(E2,{...i,...n,ref:o})});rse.displayName=tse;var NEe=({contentRef:e})=>{const t=`\`${qg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qg}\` by passing a \`${Zne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},SEe=Hne,kEe=Gne,nse=Kne,sse=Yne,ase=ese,ise=rse,ose=Jne,lse=Qne;const g0=SEe,CEe=kEe,cse=_.forwardRef(({className:e,...t},r)=>s.jsx(nse,{className:ut("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));cse.displayName=nse.displayName;const Sm=_.forwardRef(({className:e,...t},r)=>s.jsxs(CEe,{children:[s.jsx(cse,{}),s.jsx(sse,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sm.displayName=sse.displayName;const km=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col space-y-2 text-center sm:text-left",e),...t});km.displayName="AlertDialogHeader";const Cm=({className:e,...t})=>s.jsx("div",{className:ut("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cm.displayName="AlertDialogFooter";const Em=_.forwardRef(({className:e,...t},r)=>s.jsx(ose,{ref:r,className:ut("text-lg font-semibold",e),...t}));Em.displayName=ose.displayName;const Tm=_.forwardRef(({className:e,...t},r)=>s.jsx(lse,{ref:r,className:ut("text-sm text-muted-foreground",e),...t}));Tm.displayName=lse.displayName;const Am=_.forwardRef(({className:e,...t},r)=>s.jsx(ase,{ref:r,className:ut(g2(),e),...t}));Am.displayName=ase.displayName;const Pm=_.forwardRef(({className:e,...t},r)=>s.jsx(ise,{ref:r,className:ut(g2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Pm.displayName=ise.displayName;function use({value:e,onChange:t,storeId:r}){const[n,a]=_.useState([]),[i,o]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState(!1),[f,m]=_.useState(null),[p,y]=_.useState(!1);_.useEffect(()=>{g()},[r]);const g=async()=>{if(r)try{const{data:j,error:E}=await Z.from("categories").select("id, name").eq("store_id",r).order("name");if(E)throw E;a(j||[])}catch(j){Fe({title:"Error loading categories",description:j.message,variant:"destructive"})}},v=async()=>{if(!l.trim()){Fe({title:"Invalid category",description:"Please enter a category name",variant:"destructive"});return}if(n.some(j=>j.name.toLowerCase()===l.trim().toLowerCase())){Fe({title:"Category exists",description:"This category already exists",variant:"destructive"});return}try{const{data:j,error:E}=await Z.from("categories").insert({name:l.trim(),store_id:r}).select().single();if(E)throw E;a(S=>[...S,j].sort((C,k)=>C.name.localeCompare(k.name))),t(j.name),c(""),o(!1),Fe({title:"Category added",description:`${j.name} has been added`})}catch(j){Fe({title:"Error adding category",description:j.message,variant:"destructive"})}},w=(j,E)=>{j.stopPropagation(),m(E),d(!0)},b=async()=>{if(f){y(!0);try{const{error:j}=await Z.from("categories").delete().eq("id",f.id);if(j)throw j;a(E=>E.filter(S=>S.id!==f.id)),e===f.name&&t(""),Fe({title:"Category deleted",description:`${f.name} has been removed`})}catch(j){Fe({title:"Error deleting category",description:j.message,variant:"destructive"})}finally{y(!1),d(!1),m(null)}}};return s.jsxs(s.Fragment,{children:[i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"Enter custom category",value:l,onChange:j=>c(j.target.value),onKeyPress:j=>{j.key==="Enter"&&(j.preventDefault(),v())}}),s.jsx(ae,{type:"button",size:"sm",onClick:v,children:"Add"}),s.jsx(ae,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(!1),c("")},children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(yr,{value:e,onValueChange:t,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Select category"})}),s.jsx(hr,{className:"z-50 bg-popover",children:n.map(j=>s.jsx(Ke,{value:j.name,className:"flex items-center justify-between pr-2",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:j.name}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-destructive/10 hover:text-destructive",onClick:E=>w(E,j),children:s.jsx(Mn,{className:"h-3 w-3"})})]})},j.id))})]}),s.jsx(ae,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>o(!0),children:"+ Add custom category"})]}),s.jsx(g0,{open:u,onOpenChange:d,children:s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Em,{children:"Delete Category"}),s.jsxs(Tm,{children:['Are you sure you want to delete "',f?.name,'"? This action cannot be undone.']})]}),s.jsxs(Cm,{children:[s.jsx(Pm,{disabled:p,children:"Cancel"}),s.jsx(Am,{onClick:b,disabled:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p?"Deleting...":"Delete"})]})]})})]})}const kN=["https://images.unsplash.com/photo-1763359161311-1a62681fb3c0?w=800&q=80","https://images.unsplash.com/photo-1763359161278-0cabc4924746?w=800&q=80","https://images.unsplash.com/photo-1763359161530-6631e16431fd?w=800&q=80","https://images.unsplash.com/photo-1763359161346-dbb620ef8fe9?w=800&q=80","https://images.unsplash.com/photo-1763359161317-5e4e5ea3075f?w=800&q=80","https://images.unsplash.com/photo-1763359161302-ccacb7b785da?w=800&q=80","https://images.unsplash.com/photo-1763358991454-2d0059bf6796?w=800&q=80","https://images.unsplash.com/photo-1763358958563-b9efe06f989f?w=800&q=80","https://images.unsplash.com/photo-1763358927011-ab7d82821124?w=800&q=80","https://images.unsplash.com/photo-1763358896930-3982ec4e3293?w=800&q=80"],EEe=()=>{const e=Math.floor(Math.random()*kN.length);return kN[e]},TEe=(e=1)=>{const t=[...kN];for(let n=t.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[t[n],t[a]]=[t[a],t[n]]}const r=Math.min(e,kN.length);return t.slice(0,r)},AEe=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),PEe=tp({id:nn(),name:nn().trim().min(1,"Variant name is required"),price:nn().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:nn().trim().optional()}),OEe=tp({name:nn().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:nn().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:nn().min(1,"Category is required"),status:L2(["published","draft","inactive"]),variants:Vne(PEe).optional()}),REe=()=>{const e=wr(),[t]=_.useState(mEe()),[r,n]=_.useState(!1),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState([]),[m,p]=_.useState({name:"",price:"",sku:""}),[y,g]=_.useState(null),[v,w]=_.useState(!1),[b,j]=_.useState(!1),[E,S]=_.useState(!1),[C,k]=_.useState([]),[R,O]=_.useState("vps"),[A,P]=_.useState([]),[D,F]=_.useState([]),[L,H]=_.useState(null),[W,G]=_.useState({name:"",price:"",sku:""}),K=O2(),I=Rw({resolver:Dw(OEe),defaultValues:{name:"",description:"",category:"",status:"published",variants:[]}});_.useEffect(()=>{B()},[]);const B=async()=>{try{const{data:{user:Q}}=await Z.auth.getUser();if(!Q)return;const{data:{session:V}}=await Z.auth.getSession(),ue=V?.provider_token,oe=V?.provider_refresh_token,{data:Se,error:Ee}=await Z.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",Q.id).single();if(Ee)throw Ee;if(Se)if(g(Se.id),ue&&!Se.google_access_token){const ie={google_access_token:ue};if(oe){const qe=new Date(Date.now()+36e5).toISOString();ie.google_refresh_token=oe,ie.google_token_expiry=qe}await Z.from("stores").update(ie).eq("id",Se.id),Fe({title:"Google Drive Connected",description:"You can now upload images from your device."}),j(!0)}else j(!!Se.google_access_token)}catch(Q){Fe({title:"Error loading store",description:Q.message,variant:"destructive"})}},Y=async Q=>{const V=Array.from(Q.target.files||[]);if(V.length===0)return;const ue=V.filter(oe=>oe.type.startsWith("image/")?!0:(Fe({title:"Invalid file type",description:`${oe.name} is not a valid image file`,variant:"destructive"}),!1));if(ue.length!==0)try{const oe=[];for(const Ee of ue)if(R==="vps")try{const ie=(Ee.size/1024/1024).toFixed(2),qe=await E5(Ee,5),He=(qe.size/1024/1024).toFixed(2);console.log(`Image compressed: ${ie}MB  ${He}MB`),oe.push(qe)}catch(ie){console.error("Compression failed:",ie),Fe({title:"Compression failed",description:`Failed to compress ${Ee.name}, using original`,variant:"destructive"}),oe.push(Ee)}else oe.push(Ee);P(Ee=>[...Ee,...oe]);const Se=oe.map(Ee=>URL.createObjectURL(Ee));F(Ee=>[...Ee,...Se]),Fe({title:"Images ready",description:`${oe.length} image(s) will be uploaded when you save the product`})}catch(oe){console.error("Error processing images:",oe),Fe({title:"Error",description:"Failed to process images",variant:"destructive"})}finally{Q.target.value=""}},z=()=>{if(!o.trim()){Fe({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let Q=o.trim();if(Q.includes("drive.google.com")){const V=Q.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);V&&(Q=`https://drive.google.com/thumbnail?id=${V[1]||V[2]}&sz=w1000`,Fe({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(V=>[...V,Q]),l("")},J=async Q=>{const V=a.length;if(Q<V){const ue=a[Q];if(ue.includes("digitaldukandar.in/uploads/"))try{(await(await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ue})})).json()).success&&console.log("Image deleted from VPS:",ue)}catch(oe){console.error("Failed to delete image from VPS:",oe)}i(oe=>oe.filter((Se,Ee)=>Ee!==Q))}else{const ue=Q-V;URL.revokeObjectURL(D[ue]),P(oe=>oe.filter((Se,Ee)=>Ee!==ue)),F(oe=>oe.filter((Se,Ee)=>Ee!==ue))}},X=()=>{if(!m.name.trim()||!m.price.trim()){Fe({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const Q={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(V=>[...V,Q]),p({name:"",price:"",sku:""})},ee=Q=>{f(V=>V.filter(ue=>ue.id!==Q))},he=Q=>{H(Q.id),G({name:Q.name,price:Q.price,sku:Q.sku||""})},fe=()=>{if(!L||!W.name.trim()||!W.price.trim()){Fe({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(Q=>Q.map(V=>V.id===L?{...V,name:W.name.trim(),price:W.price,sku:W.sku.trim()||void 0}:V)),H(null),G({name:"",price:"",sku:""})},ge=()=>{H(null),G({name:"",price:"",sku:""})},U=()=>{if(d.length===0)return null;const Q=d.map(oe=>parseFloat(oe.price)),V=Math.min(...Q),ue=Math.max(...Q);return V===ue?`${V.toFixed(2)}`:`${V.toFixed(2)} - ${ue.toFixed(2)}`},ne=async Q=>{if(Q.status==="published"&&!K.canPublishProduct()){Fe({title:"Product Limit Reached",description:K.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{let V=[...a];if(A.length>0){k(A.map(Oe=>({name:Oe.name,progress:0})));const{data:{session:Se}}=await Z.auth.getSession();if(!Se)throw new Error("Not authenticated");const{data:{user:Ee}}=await Z.auth.getUser();if(!Ee)throw new Error("User not found");const{data:ie,error:qe}=await Z.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",Ee.id).single();if(qe||!ie)throw new Error("Store not found");const He=A.reduce((Oe,Ye)=>Oe+Ye.size/1024/1024,0);let de=ie.storage_used_mb||0;const we=ie.storage_limit_mb||100;if(de+He>we)throw new Error(`Storage limit reached. You have ${(we-de).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);for(let Oe=0;Oe<A.length;Oe++){const Ye=A[Oe],Je=Ye.size/1024/1024;k(_e=>_e.map((pe,Ie)=>Ie===Oe?{...pe,progress:10}:pe));const Ne=new FormData;Ne.append("file",Ye),Ne.append("type","products");const te=setInterval(()=>{k(_e=>_e.map((pe,Ie)=>Ie===Oe&&pe.progress<90?{...pe,progress:pe.progress+10}:pe))},200);try{let _e,pe="",Ie="";if(R==="vps"){const De=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:Ne}),le=await De.json();if(!De.ok||!le.success)throw new Error(le.error||"Failed to upload image");_e={data:le,error:null},Ie=le.imageUrl,pe=le.fileId||Ye.name;const{error:Re}=await Z.from("media_library").insert({store_id:ie.id,file_url:Ie,file_name:pe,file_size_mb:Je,file_type:"products"});Re&&console.error("Failed to add to media library:",Re),de+=Je;const{error:et}=await Z.from("stores").update({storage_used_mb:de}).eq("id",ie.id);et&&console.error("Failed to update storage usage:",et)}else _e=await Z.functions.invoke("upload-to-drive",{body:Ne,headers:{Authorization:`Bearer ${Se.access_token}`}});if(clearInterval(te),_e.error)throw new Error(_e.error.message||"Failed to upload image");_e.data?.imageUrl&&(k(De=>De.map((le,Re)=>Re===Oe?{...le,progress:100}:le)),V.push(_e.data.imageUrl))}catch(_e){throw clearInterval(te),_e}}k([])}const ue=V.length>0?V:TEe(3),oe={id:t,name:Q.name,slug:AEe(Q.name),description:Q.description,category:Q.category,status:Q.status,images:ue,videoUrl:c.trim()||void 0,variants:d.map(Se=>({name:Se.name,price:parseFloat(Se.price),sku:Se.sku})),priceRange:U()||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};hke(oe),D.forEach(Se=>URL.revokeObjectURL(Se)),Fe({title:"Product created successfully",description:`${Q.name} has been added to your catalog`}),e("/admin/products")}catch(V){console.error("Error saving product:",V),Fe({title:"Error creating product",description:V.message||"Please try again later",variant:"destructive"})}finally{n(!1),k([])}};return s.jsx(rs,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Add New Product"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Create a new product listing for your store"})]}),K.getProductLimitMessage()&&s.jsxs(Kr,{variant:K.canPublishProduct()?"default":"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(Yr,{children:K.getProductLimitMessage()})]}),s.jsx(Iw,{...I,children:s.jsx("form",{onSubmit:I.handleSubmit(ne),className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Information"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(vr,{className:"text-muted-foreground",children:"Product ID (Auto-generated)"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md font-mono text-sm text-foreground",children:t})]}),s.jsx(xr,{control:I.control,name:"name",render:({field:Q})=>s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{...Q,id:"product-name",className:"peer h-14 pt-4 px-3",placeholder:" "}),s.jsx("label",{htmlFor:"product-name",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Product Name"})]})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:I.control,name:"description",render:({field:Q})=>s.jsxs(ur,{children:[s.jsx(dr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(ja,{...Q,id:"product-description",placeholder:" ",className:"peer min-h-[120px] pt-6 px-3"}),s.jsx("label",{htmlFor:"product-description",className:"absolute left-3 top-4 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Description"})]})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:I.control,name:"category",render:({field:Q})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Category"}),s.jsx(dr,{children:s.jsx(use,{value:Q.value,onChange:Q.onChange,storeId:y})}),s.jsx(Lr,{})]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(Ve,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:Q=>p(V=>({...V,name:Q.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(Ve,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:Q=>p(V=>({...V,price:Q.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(Ve,{placeholder:"0 = Unlimited",value:m.sku,onChange:Q=>p(V=>({...V,sku:Q.target.value}))})]})]}),s.jsxs(ae,{type:"button",onClick:X,size:"sm",children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:U()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Variant Name"}),s.jsx(tt,{children:"Price"}),s.jsx(tt,{children:"Stock"}),s.jsx(tt,{className:"w-[50px]"})]})}),s.jsx(oa,{children:d.map(Q=>s.jsx(Nr,{children:L===Q.id?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{children:s.jsx(Ve,{value:W.name,onChange:V=>G(ue=>({...ue,name:V.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsx(Ve,{type:"number",step:"0.01",value:W.price,onChange:V=>G(ue=>({...ue,price:V.target.value})),className:"h-8 no-spinner"})}),s.jsx(Xe,{children:s.jsx(Ve,{placeholder:"0 = Unlimited",value:W.sku,onChange:V=>G(ue=>({...ue,sku:V.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:fe,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:ge,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"font-medium",children:Q.name}),s.jsxs(Xe,{children:["$",parseFloat(Q.price).toFixed(2)]}),s.jsx(Xe,{className:"text-muted-foreground",children:Q.sku==="0"||Q.sku===""?"Unlimited":Q.sku||""}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>he(Q),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>ee(Q.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Mn,{className:"w-4 h-4"})})]})})]})},Q.id))})]})})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive or upload from your device"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(Kr,{children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(Yr,{className:"flex items-center justify-between gap-4",children:b?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm",children:"Connect Google Drive to upload images from your device"}),s.jsx(ae,{type:"button",size:"sm",variant:"outline",onClick:async()=>{S(!0);try{const{error:Q}=await Z.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(Q)throw Q}catch(Q){Fe({title:"Connection Failed",description:Q.message,variant:"destructive"}),S(!1)}},disabled:E,children:E?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ve,{id:"google-drive-url",placeholder:" ",value:o,onChange:Q=>l(Q.target.value),onKeyPress:Q=>{Q.key==="Enter"&&(Q.preventDefault(),z())},className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"google-drive-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"Google Drive Image URL"})]}),s.jsx(ae,{type:"button",onClick:z,size:"sm",className:"h-14",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"vps",checked:R==="vps",onChange:Q=>O(Q.target.value),className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"VPS Server"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"uploadDestination",value:"drive",checked:R==="drive",onChange:Q=>O(Q.target.value),className:"w-4 h-4 text-primary",disabled:!b}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended - Safe & Reliable)"})," ",!b&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R==="vps"?"Images will be compressed to max 5MB and stored on your server":"Images will be uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${v?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Y,className:"hidden",id:"image-upload",disabled:v}),s.jsx("label",{htmlFor:"image-upload",className:`block p-6 text-center ${v?"cursor-not-allowed":"cursor-pointer"}`,children:v&&C.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",C.length," image",C.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:C.map((Q,V)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Q.progress<100?s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:Q.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.progress<100?`Uploading to ${R==="vps"?"VPS Server":"Google Drive"}...`:"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[Q.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${Q.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${Q.progress}%`}})})]},`uploading-${V}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Yd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R==="vps"?"PNG, JPG images. Auto-compressed to max 5MB and stored on VPS.":"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),(a.length>0||D.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.map((Q,V)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:Q,alt:`Product Image ${V+1}`,className:"w-full h-full object-cover",onError:ue=>{ue.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>J(V),children:s.jsx($a,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Image ",V+1]})]},`url-${V}`)),D.map((Q,V)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-primary/50",children:s.jsx("img",{src:Q,alt:`Pending Image ${V+1}`,className:"w-full h-full object-cover"})}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>J(a.length+V),children:s.jsx($a,{className:"w-3 h-3"})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Pending ",V+1," (will upload on save)"]})]},`preview-${V}`))]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{id:"youtube-video-url",placeholder:" ",value:c,onChange:Q=>u(Q.target.value),className:"peer h-14 pt-4 px-3"}),s.jsx("label",{htmlFor:"youtube-video-url",className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground bg-background px-1 transition-all duration-200 pointer-events-none peer-focus:-top-0 peer-focus:text-xs peer-focus:text-primary peer-focus:font-semibold peer-[:not(:placeholder-shown)]:-top-0 peer-[:not(:placeholder-shown)]:text-xs peer-[:not(:placeholder-shown)]:font-semibold",children:"YouTube Video URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const V=(ue=>{const oe=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Se=ue.match(oe);return Se&&Se[2].length===11?Se[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),V?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${V}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Status"})}),s.jsx(Te,{children:s.jsx(xr,{control:I.control,name:"status",render:({field:Q})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Status"}),s.jsxs(yr,{onValueChange:Q.onChange,defaultValue:Q.value,children:[s.jsx(dr,{children:s.jsx(fr,{children:s.jsx(br,{})})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"draft",children:"Draft"}),s.jsx(Ke,{value:"published",children:"Published"}),s.jsx(Ke,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Lr,{})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ae,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),r?"Creating...":"Create Product"]}),s.jsx(ae,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})},DEe=tp({id:nn(),name:nn().trim().min(1,"Variant name is required"),price:nn().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:nn().trim().optional()}),IEe=tp({name:nn().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:nn().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:nn().min(1,"Category is required"),status:L2(["published","draft","inactive"]),variants:Vne(DEe).optional()}),MEe=()=>{const e=wr(),{id:t}=sd(),[r,n]=_.useState(!1),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState([]),[m,p]=_.useState({name:"",price:"",sku:""}),[y,g]=_.useState(!0),[v,w]=_.useState(null),[b,j]=_.useState(""),[E,S]=_.useState(!1),[C,k]=_.useState(!1),[R,O]=_.useState(!1),[A,P]=_.useState([]),[D,F]=_.useState(null),[L,H]=_.useState({name:"",price:"",sku:""}),W=O2(),G=Rw({resolver:Dw(IEe),defaultValues:{name:"",description:"",category:"",status:"draft",variants:[]}});_.useEffect(()=>{K()},[t,e,G]);const K=async()=>{if(!t){Fe({title:"Error",description:"Product ID is missing",variant:"destructive"}),e("/admin/products");return}const U=await Rj(t);if(!U){Fe({title:"Product not found",description:"The product you're trying to edit doesn't exist",variant:"destructive"}),e("/admin/products");return}try{const{data:{user:ne}}=await Z.auth.getUser();if(!ne)return;const{data:{session:Q}}=await Z.auth.getSession(),V=Q?.provider_token,ue=Q?.provider_refresh_token,{data:oe,error:Se}=await Z.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",ne.id).single();if(Se)throw Se;if(oe)if(w(oe.id),V&&!oe.google_access_token){const Ee={google_access_token:V};if(ue){const ie=new Date(Date.now()+36e5).toISOString();Ee.google_refresh_token=ue,Ee.google_token_expiry=ie}await Z.from("stores").update(Ee).eq("id",oe.id),Fe({title:"Google Drive Connected",description:"You can now upload images from your device."}),k(!0)}else k(!!oe.google_access_token)}catch(ne){Fe({title:"Error loading store",description:ne.message,variant:"destructive"})}G.reset({name:U.name,description:U.description,category:U.category,status:U.status}),j(U.status),i(U.images||[]),u(U.videoUrl||U.video_url||""),U.variants&&f(U.variants.map((ne,Q)=>({id:`${Q}`,name:ne.name,price:ne.price.toString(),sku:ne.sku}))),g(!1)},I=()=>{if(!o.trim()){Fe({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let U=o.trim();if(U.includes("drive.google.com")){const ne=U.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);ne&&(U=`https://drive.google.com/thumbnail?id=${ne[1]||ne[2]}&sz=w1000`,Fe({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(ne=>[...ne,U]),l("")},B=async U=>{const ne=Array.from(U.target.files||[]);if(ne.length===0)return;const Q=ne.filter(V=>V.type.startsWith("image/")?!0:(Fe({title:"Invalid file type",description:`${V.name} is not a valid image file`,variant:"destructive"}),!1));if(Q.length!==0){S(!0),P(Q.map(V=>({name:V.name,progress:0})));try{const{data:{session:V}}=await Z.auth.getSession();if(!V)throw new Error("Not authenticated");for(let ue=0;ue<Q.length;ue++){const oe=Q[ue];P(ie=>ie.map((qe,He)=>He===ue?{...qe,progress:10}:qe));const Se=new FormData;Se.append("file",oe);const Ee=setInterval(()=>{P(ie=>ie.map((qe,He)=>He===ue&&qe.progress<90?{...qe,progress:qe.progress+10}:qe))},200);try{const ie=await Z.functions.invoke("upload-to-drive",{body:Se,headers:{Authorization:`Bearer ${V.access_token}`}});if(clearInterval(Ee),ie.error)throw P(qe=>qe.filter((He,de)=>de!==ue)),new Error(ie.error.message||"Failed to upload image");ie.data?.imageUrl&&(P(qe=>qe.map((He,de)=>de===ue?{...He,progress:100}:He)),await new Promise(qe=>setTimeout(qe,300)),P(qe=>qe.filter((He,de)=>de!==ue)),i(qe=>[...qe,ie.data.imageUrl]),Fe({title:"Image uploaded",description:`${oe.name} uploaded successfully`}))}catch(ie){throw clearInterval(Ee),ie}}}catch(V){console.error("Upload error:",V),console.error("Error details:",JSON.stringify(V,null,2));let ue=V.message||"";if(V.context?.body)try{const oe=JSON.parse(V.context.body);ue=oe.error||oe.message||ue}catch(oe){console.error("Could not parse error body:",oe)}console.log("Extracted error message:",ue),ue.toLowerCase().includes("drive")&&ue.toLowerCase().includes("not connected")?Fe({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):ue.includes("Unauthorized")||ue.includes("authenticated")?Fe({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):ue.toLowerCase().includes("token")||ue.toLowerCase().includes("expired")?Fe({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Fe({title:"Upload Failed",description:ue||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{S(!1),P([]),U.target.value=""}}},Y=U=>{i(ne=>ne.filter((Q,V)=>V!==U))},z=()=>{if(!m.name.trim()||!m.price.trim()){Fe({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const U={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(ne=>[...ne,U]),p({name:"",price:"",sku:""})},J=U=>{f(ne=>ne.filter(Q=>Q.id!==U))},X=U=>{F(U.id),H({name:U.name,price:U.price,sku:U.sku||""})},ee=()=>{if(!D||!L.name.trim()||!L.price.trim()){Fe({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}f(U=>U.map(ne=>ne.id===D?{...ne,name:L.name.trim(),price:L.price,sku:L.sku.trim()||void 0}:ne)),F(null),H({name:"",price:"",sku:""})},he=()=>{F(null),H({name:"",price:"",sku:""})},fe=()=>{if(d.length===0)return null;const U=d.map(V=>parseFloat(V.price)),ne=Math.min(...U),Q=Math.max(...U);return ne===Q?`${ne.toFixed(2)}`:`${ne.toFixed(2)} - ${Q.toFixed(2)}`},ge=async U=>{if(!t)return;const ne=b!=="published",Q=U.status==="published";if(ne&&Q&&!W.canPublishProduct()){Fe({title:"Product Limit Reached",description:W.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(ue=>setTimeout(ue,1e3));const V={id:t,name:U.name,description:U.description,category:U.category,status:U.status,images:a.length>0?a:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"],videoUrl:c.trim()||void 0,variants:d.map(ue=>({name:ue.name,price:parseFloat(ue.price),sku:ue.sku})),priceRange:fe()||void 0,createdAt:(await Rj(t))?.createdAt||(await Rj(t))?.created_at||new Date().toISOString(),updatedAt:new Date().toISOString()};await mke(t,V),Fe({title:"Product updated successfully",description:`${U.name} has been updated`}),e("/admin/products")}catch{Fe({title:"Error updating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return y?s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})})}):s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Product"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]}),W.getProductLimitMessage()&&s.jsxs(Kr,{variant:W.canPublishProduct()?"default":"destructive",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(Yr,{children:W.getProductLimitMessage()})]}),s.jsx(Iw,{...G,children:s.jsx("form",{onSubmit:G.handleSubmit(ge),className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Information"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx(xr,{control:G.control,name:"name",render:({field:U})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Product Name"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Enter product name",...U})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:G.control,name:"description",render:({field:U})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Description"}),s.jsx(dr,{children:s.jsx(ja,{placeholder:"Describe your product...",className:"min-h-[120px]",...U})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:G.control,name:"category",render:({field:U})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Category"}),s.jsx(dr,{children:s.jsx(use,{value:U.value,onChange:U.onChange,storeId:v})}),s.jsx(Lr,{})]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Variants"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Add Variant"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),s.jsx(Ve,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:U=>p(ne=>({...ne,name:U.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),s.jsx(Ve,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:U=>p(ne=>({...ne,price:U.target.value})),className:"no-spinner"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Stock"}),s.jsx(Ve,{placeholder:"0 = Unlimited",value:m.sku,onChange:U=>p(ne=>({...ne,sku:U.target.value}))})]})]}),s.jsxs(ae,{type:"button",onClick:z,size:"sm",children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",s.jsx("span",{className:"font-medium",children:fe()})]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Variant Name"}),s.jsx(tt,{children:"Price"}),s.jsx(tt,{children:"Stock"}),s.jsx(tt,{className:"w-[50px]"})]})}),s.jsx(oa,{children:d.map(U=>s.jsx(Nr,{children:D===U.id?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{children:s.jsx(Ve,{value:L.name,onChange:ne=>H(Q=>({...Q,name:ne.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsx(Ve,{type:"number",step:"0.01",value:L.price,onChange:ne=>H(Q=>({...Q,price:ne.target.value})),className:"h-8 no-spinner"})}),s.jsx(Xe,{children:s.jsx(Ve,{placeholder:"0 = Unlimited",value:L.sku,onChange:ne=>H(Q=>({...Q,sku:ne.target.value})),className:"h-8"})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:ee,className:"text-green-600 hover:text-green-600 h-8 px-2",children:"Save"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:he,className:"text-muted-foreground h-8 px-2",children:"Cancel"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"font-medium",children:U.name}),s.jsxs(Xe,{children:["$",parseFloat(U.price).toFixed(2)]}),s.jsx(Xe,{className:"text-muted-foreground",children:U.sku==="0"||U.sku===""?"Unlimited":U.sku||""}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>X(U),className:"text-primary hover:text-primary h-8 px-2",children:"Edit"}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>J(U.id),className:"text-destructive hover:text-destructive h-8 px-2",children:s.jsx(Mn,{className:"w-4 h-4"})})]})})]})},U.id))})]})})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Images"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs(Kr,{children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(Yr,{className:"flex items-center justify-between gap-4",children:C?s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm",children:"Connect Google Drive to upload images from your device"}),s.jsx(ae,{type:"button",size:"sm",variant:"outline",onClick:async()=>{O(!0);try{const{error:U}=await Z.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(U)throw U}catch(U){Fe({title:"Connection Failed",description:U.message,variant:"destructive"}),O(!1)}},disabled:R,children:R?"Connecting...":"Connect Drive"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"Paste Google Drive shareable link",value:o,onChange:U=>l(U.target.value),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),I())}}),s.jsx(ae,{type:"button",onClick:I,size:"sm",children:"Add URL"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${E?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:B,className:"hidden",id:"image-upload-edit",disabled:E}),s.jsx("label",{htmlFor:"image-upload-edit",className:`block p-6 text-center ${E?"cursor-not-allowed":"cursor-pointer"}`,children:E&&A.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsxs("span",{className:"font-medium text-foreground",children:["Uploading ",A.length," image",A.length>1?"s":"","..."]})]}),s.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:A.map((U,ne)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[U.progress<100?s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:U.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:U.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[U.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${U.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${U.progress}%`}})})]},`uploading-${ne}`))})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(Yd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),s.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:"Choose Files"})]})})]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map((U,ne)=>s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:U,alt:`Preview ${ne+1}`,className:"w-full h-full object-cover",onError:Q=>{Q.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),s.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Y(ne),children:s.jsx($a,{className:"w-3 h-3"})})]},ne))})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Product Video"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),s.jsx(Ve,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:U=>u(U.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const ne=(Q=>{const V=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ue=Q.match(V);return ue&&ue[2].length===11?ue[2]:null})(c);return s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),ne?s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx("img",{src:`https://img.youtube.com/vi/${ne}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):s.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Product Status"})}),s.jsx(Te,{children:s.jsx(xr,{control:G.control,name:"status",render:({field:U})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Status"}),s.jsxs(yr,{onValueChange:U.onChange,value:U.value,children:[s.jsx(dr,{children:s.jsx(fr,{children:s.jsx(br,{})})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"draft",children:"Draft"}),s.jsx(Ke,{value:"published",children:"Published"}),s.jsx(Ke,{value:"inactive",children:"Inactive"})]})]}),s.jsx(Lr,{})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ae,{type:"submit",className:"w-full",disabled:r,children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Product"]}),s.jsx(ae,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var sb={};sb.version="0.18.5";var Ho=1200,Om=1252,FEe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],V5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},B2=function(e){FEe.indexOf(e)!=-1&&(Om=V5[0]=e)};function LEe(){B2(1252)}var kl=function(e){Ho=e,B2(e)};function U2(){kl(1200),LEe()}function CN(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function $Ee(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function dse(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var yg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?$Ee(e.slice(2)):t==254&&r==255?dse(e.slice(2)):t==65279?e.slice(1):e},Bv=function(t){return String.fromCharCode(t)},WD=function(t){return String.fromCharCode(t)},Zr;function BEe(e){Zr=e,kl=function(t){Ho=t,B2(t)},yg=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?Zr.utils.decode(1200,CN(t.slice(2))):t},Bv=function(r){return Ho===1200?String.fromCharCode(r):Zr.utils.decode(Ho,[r&255,r>>8])[0]},WD=function(r){return Zr.utils.decode(Om,[r])[0]},Bse()}var rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ab(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=rf.charAt(i)+rf.charAt(o)+rf.charAt(l)+rf.charAt(c);return t}function Jo(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=rf.indexOf(e.charAt(u++)),o=rf.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=rf.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=rf.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var $r=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ld=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Rf(e){return $r?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function j7(e){return $r?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var $o=function(t){return $r?ld(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Mw(e){if(typeof ArrayBuffer>"u")return $o(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Gf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function UEe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function z5(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return z5(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Fa=$r?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ld(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function VEe(e){for(var t=[],r=0,n=e.length+250,a=Rf(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Rf(65535),n=65530)}return t.push(a.slice(0,r)),Fa(t)}var ji=/\u0000/g,Uv=/[\u0001-\u0006]/g;function Wg(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function uc(e,t){var r=""+e;return r.length>=t?r:js("0",t-r.length)+r}function q5(e,t){var r=""+e;return r.length>=t?r:js(" ",t-r.length)+r}function EN(e,t){var r=""+e;return r.length>=t?r:r+js(" ",t-r.length)}function zEe(e,t){var r=""+Math.round(e);return r.length>=t?r:js("0",t-r.length)+r}function qEe(e,t){var r=""+e;return r.length>=t?r:js("0",t-r.length)+r}var N7=Math.pow(2,32);function eg(e,t){if(e>N7||e<-N7)return zEe(e,t);var r=Math.round(e);return qEe(r,t)}function TN(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var S7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],AT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function WEe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var sr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},k7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},HEe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function AN(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function nf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=ZEe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var fse=new Date(1899,11,31,0,0,0),GEe=fse.getTime(),KEe=new Date(1900,2,1,0,0,0);function hse(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=KEe&&(r+=1440*60*1e3),(r-(GEe+(e.getTimezoneOffset()-fse.getTimezoneOffset())*6e4))/(1440*60*1e3)}function W5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function YEe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XEe(e){var t=e<0?12:11,r=W5(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function JEe(e){var t=W5(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ib(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=XEe(e):t===10?r=e.toFixed(10).substr(0,12):r=JEe(e),W5(YEe(r.toUpperCase()))}function Rm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ib(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Zo(14,hse(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ZEe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function QEe(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return AT[r.m-1][1];case 5:return AT[r.m-1][0];default:return AT[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return S7[r.q][0];default:return S7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?uc(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=uc(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?uc(c,u):"";return d}function sf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var mse=/%/g;function eTe(e,t,r){var n=t.replace(mse,""),a=t.length-n.length;return Uu(e,n,r*Math.pow(10,2*a))+js("%",a)}function tTe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Uu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function pse(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pse(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var gse=/# (\?+)( ?)\/( ?)(\d+)/;function rTe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?js(" ",e[1].length+1+e[4].length):q5(o,e[1].length)+e[2]+"/"+e[3]+uc(l,e[4].length))}function nTe(e,t,r){return r+(t===0?"":""+t)+js(" ",e[1].length+2+e[4].length)}var xse=/^#*0*\.([0#]+)/,vse=/\).*[0#]/,yse=/\(###\) ###\\?-####/;function Mi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function C7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function E7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function sTe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function aTe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ul(e,t,r){if(e.charCodeAt(0)===40&&!t.match(vse)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ul("n",n,r):"("+ul("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return tTe(e,t,r);if(t.indexOf("%")!==-1)return eTe(e,t,r);if(t.indexOf("E")!==-1)return pse(t,r);if(t.charCodeAt(0)===36)return"$"+ul(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+eg(c,t.length);if(t.match(/^[#?]+$/))return a=eg(r,0),a==="0"&&(a=""),a.length>t.length?a:Mi(t.substr(0,t.length-a.length))+a;if(i=t.match(gse))return rTe(i,c,u);if(t.match(/^#+0+$/))return u+eg(c,t.length-t.indexOf("0"));if(i=t.match(xse))return a=C7(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Mi(i[1])).replace(/\.$/,"."+Mi(i[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+js("0",Mi(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+C7(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+sf(eg(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ul(e,t,-r):sf(""+(Math.floor(r)+sTe(r,i[1].length)))+"."+uc(E7(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ul(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Wg(ul(e,t.replace(/[\\-]/g,""),r)),o=0,Wg(Wg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(yse))return a=ul(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=AN(c,Math.pow(10,o)-1,!1),a=""+u,d=Uu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=EN(l[2],o),d.length<i[4].length&&(d=Mi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=AN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?q5(l[1],o)+i[2]+"/"+i[3]+EN(l[2],o):js(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=eg(r,0),t.length<=a.length?a:Mi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Mi(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=E7(r,i[1].length),r<0?"-"+ul(e,t,-r):sf(aTe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?uc(0,3-y.length):"")+y})+"."+uc(o,i[1].length);switch(t){case"###,##0.00":return ul(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=sf(eg(c,0));return p!=="0"?u+p:"";case"###,###.00":return ul(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ul(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function iTe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Uu(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function oTe(e,t,r){var n=t.replace(mse,""),a=t.length-n.length;return Uu(e,n,r*Math.pow(10,2*a))+js("%",a)}function bse(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bse(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Pc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(vse)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Pc("n",n,r):"("+Pc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return iTe(e,t,r);if(t.indexOf("%")!==-1)return oTe(e,t,r);if(t.indexOf("E")!==-1)return bse(t,r);if(t.charCodeAt(0)===36)return"$"+Pc(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+uc(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Mi(t.substr(0,t.length-a.length))+a;if(i=t.match(gse))return nTe(i,c,u);if(t.match(/^#+0+$/))return u+uc(c,t.length-t.indexOf("0"));if(i=t.match(xse))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Mi(i[1])).replace(/\.$/,"."+Mi(i[1])),a=a.replace(/\.(\d*)$/,function(y,g){return"."+g+js("0",Mi(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+sf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Pc(e,t,-r):sf(""+r)+"."+js("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Pc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Wg(Pc(e,t.replace(/[\\-]/g,""),r)),o=0,Wg(Wg(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(yse))return a=Pc(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=AN(c,Math.pow(10,o)-1,!1),a=""+u,d=Uu("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=EN(l[2],o),d.length<i[4].length&&(d=Mi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=AN(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?q5(l[1],o)+i[2]+"/"+i[3]+EN(l[2],o):js(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Mi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Mi(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Pc(e,t,-r):sf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?uc(0,3-y.length):"")+y})+"."+uc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=sf(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Pc(e,t.slice(0,t.lastIndexOf(".")),r)+Mi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Uu(e,t,r){return(r|0)===r?Pc(e,t,r):ul(e,t,r)}function lTe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var wse=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":TN(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(wse))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function cTe(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!TN(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),y=p==="("||p===")"?p:"t";a[a.length]={t:y,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=nf(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=nf(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=nf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(wse)){if(u==null&&(u=nf(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",rp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,w=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(w=Math.max(w,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var j="",E;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=QEe(a[o].t.charCodeAt(0),a[o].v,u,w),a[o].t="t";break;case"n":case"?":for(E=o+1;a[E]!=null&&((l=a[E].t)==="?"||l==="D"||(l===" "||l==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[o].v+=a[E].v,a[E]={v:"",t:";"},++E;j+=a[o].v,o=E-1;break;case"G":a[o].t="t",a[o].v=Rm(t,r);break}var S="",C,k;if(j.length>0){j.charCodeAt(0)==40?(C=t<0&&j.charCodeAt(0)===45?-t:t,k=Uu("n",j,C)):(C=t<0&&n>1?-t:t,k=Uu("n",j,C),C<0&&a[0]&&a[0].t=="t"&&(k=k.substr(1),a[0].v="-"+a[0].v)),E=k.length-1;var R=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){R=o;break}var O=a.length;if(R===a.length&&k.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(E>=a[o].v.length-1?(E-=a[o].v.length,a[o].v=k.substr(E+1,a[o].v.length)):E<0?a[o].v="":(a[o].v=k.substr(0,E+1),E=-1),a[o].t="t",O=o);E>=0&&O<a.length&&(a[O].v=k.substr(0,E+1)+a[O].v)}else if(R!==a.length&&k.indexOf("E")===-1){for(E=k.indexOf(".")-1,o=R;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")-1:a[o].v.length-1,S=a[o].v.substr(d+1);d>=0;--d)E>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(S=k.charAt(E--)+S);a[o].v=S,a[o].t="t",O=o}for(E>=0&&O<a.length&&(a[O].v=k.substr(0,E+1)+a[O].v),E=k.indexOf(".")+1,o=R;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==R)){for(d=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")+1:0,S=a[o].v.substr(0,d);d<a[o].v.length;++d)E<k.length&&(S+=k.charAt(E++));a[o].v=S,a[o].t="t",O=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(C=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Uu(a[o].t,a[o].v,C),a[o].t="t");var A="";for(o=0;o!==a.length;++o)a[o]!=null&&(A+=a[o].v);return A}var T7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function A7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function uTe(e,t){var r=lTe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(T7),l=r[1].match(T7);return A7(t,o)?[n,r[0]]:A7(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Zo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:sr)[e],n==null&&(n=r.table&&r.table[k7[e]]||sr[k7[e]]),n==null&&(n=HEe[e]||"General");break}if(TN(n,0))return Rm(t,r);t instanceof Date&&(t=hse(t,r.date1904));var a=uTe(n,t);if(TN(a[1]))return Rm(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return cTe(a[1],t,r,a[0])}function Kc(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(sr[r]==null){t<0&&(t=r);continue}if(sr[r]==e){t=r;break}}t<0&&(t=391)}return sr[t]=e,t}function Fw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Kc(e[t],t)}function ox(){sr=WEe()}var _se={format:Zo,load:Kc,_table:sr,load_table:Fw,parse_date_code:nf,is_date:rp,get_table:function(){return _se._table=sr}},dTe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},jse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fTe(e){var t=typeof e=="number"?sr[e]:e;return t=t.replace(jse,"(\\d+)"),new RegExp("^"+t+"$")}function hTe(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(jse)||[]).forEach(function(f,m){var p=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var mTe=(function(){var e={};e.version="1.2.0";function t(){for(var k=0,R=new Array(256),O=0;O!=256;++O)k=O,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,R[O]=k;return typeof Int32Array<"u"?new Int32Array(R):R}var r=t();function n(k){var R=0,O=0,A=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)P[A]=k[A];for(A=0;A!=256;++A)for(O=k[A],R=256+A;R<4096;R+=256)O=P[R]=O>>>8^k[O&255];var D=[];for(A=1;A!=16;++A)D[A-1]=typeof Int32Array<"u"?P.subarray(A*256,A*256+256):P.slice(A*256,A*256+256);return D}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],p=a[8],y=a[9],g=a[10],v=a[11],w=a[12],b=a[13],j=a[14];function E(k,R){for(var O=R^-1,A=0,P=k.length;A<P;)O=O>>>8^r[(O^k.charCodeAt(A++))&255];return~O}function S(k,R){for(var O=R^-1,A=k.length-15,P=0;P<A;)O=j[k[P++]^O&255]^b[k[P++]^O>>8&255]^w[k[P++]^O>>16&255]^v[k[P++]^O>>>24]^g[k[P++]]^y[k[P++]]^p[k[P++]]^m[k[P++]]^f[k[P++]]^d[k[P++]]^u[k[P++]]^c[k[P++]]^l[k[P++]]^o[k[P++]]^i[k[P++]]^r[k[P++]];for(A+=15;P<A;)O=O>>>8^r[(O^k[P++])&255];return~O}function C(k,R){for(var O=R^-1,A=0,P=k.length,D=0,F=0;A<P;)D=k.charCodeAt(A++),D<128?O=O>>>8^r[(O^D)&255]:D<2048?(O=O>>>8^r[(O^(192|D>>6&31))&255],O=O>>>8^r[(O^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,F=k.charCodeAt(A++)&1023,O=O>>>8^r[(O^(240|D>>8&7))&255],O=O>>>8^r[(O^(128|D>>2&63))&255],O=O>>>8^r[(O^(128|F>>6&15|(D&3)<<4))&255],O=O>>>8^r[(O^(128|F&63))&255]):(O=O>>>8^r[(O^(224|D>>12&15))&255],O=O>>>8^r[(O^(128|D>>6&63))&255],O=O>>>8^r[(O^(128|D&63))&255]);return~O}return e.table=r,e.bstr=E,e.buf=S,e.str=C,e})(),Jt=(function(){var t={};t.version="1.2.1";function r(re,ve){for(var me=re.split("/"),xe=ve.split("/"),be=0,ye=0,Le=Math.min(me.length,xe.length);be<Le;++be){if(ye=me[be].length-xe[be].length)return ye;if(me[be]!=xe[be])return me[be]<xe[be]?-1:1}return me.length-xe.length}function n(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:n(re.slice(0,-1));var ve=re.lastIndexOf("/");return ve===-1?re:re.slice(0,ve+1)}function a(re){if(re.charAt(re.length-1)=="/")return a(re.slice(0,-1));var ve=re.lastIndexOf("/");return ve===-1?re:re.slice(ve+1)}function i(re,ve){typeof ve=="string"&&(ve=new Date(ve));var me=ve.getHours();me=me<<6|ve.getMinutes(),me=me<<5|ve.getSeconds()>>>1,re.write_shift(2,me);var xe=ve.getFullYear()-1980;xe=xe<<4|ve.getMonth()+1,xe=xe<<5|ve.getDate(),re.write_shift(2,xe)}function o(re){var ve=re.read_shift(2)&65535,me=re.read_shift(2)&65535,xe=new Date,be=me&31;me>>>=5;var ye=me&15;me>>>=4,xe.setMilliseconds(0),xe.setFullYear(me+1980),xe.setMonth(ye-1),xe.setDate(be);var Le=ve&31;ve>>>=5;var We=ve&63;return ve>>>=6,xe.setHours(ve),xe.setMinutes(We),xe.setSeconds(Le<<1),xe}function l(re){Ka(re,0);for(var ve={},me=0;re.l<=re.length-4;){var xe=re.read_shift(2),be=re.read_shift(2),ye=re.l+be,Le={};switch(xe){case 21589:me=re.read_shift(1),me&1&&(Le.mtime=re.read_shift(4)),be>5&&(me&2&&(Le.atime=re.read_shift(4)),me&4&&(Le.ctime=re.read_shift(4))),Le.mtime&&(Le.mt=new Date(Le.mtime*1e3));break}re.l=ye,ve[xe]=Le}return ve}var c;function u(){return c||(c={})}function d(re,ve){if(re[0]==80&&re[1]==75)return lr(re,ve);if((re[0]|32)==109&&(re[1]|32)==105)return It(re,ve);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var me=3,xe=512,be=0,ye=0,Le=0,We=0,Me=0,Ue=[],$e=re.slice(0,512);Ka($e,0);var st=f($e);switch(me=st[0],me){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(st[1]==0)return lr(re,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}xe!==512&&($e=re.slice(0,xe),Ka($e,28));var mt=re.slice(0,xe);m($e,me);var Ct=$e.read_shift(4,"i");if(me===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);$e.l+=4,Le=$e.read_shift(4,"i"),$e.l+=4,$e.chk("00100000","Mini Stream Cutoff Size: "),We=$e.read_shift(4,"i"),be=$e.read_shift(4,"i"),Me=$e.read_shift(4,"i"),ye=$e.read_shift(4,"i");for(var gt=-1,it=0;it<109&&(gt=$e.read_shift(4,"i"),!(gt<0));++it)Ue[it]=gt;var Ut=p(re,xe);v(Me,ye,Ut,xe,Ue);var Br=b(Ut,Le,Ue,xe);Br[Le].name="!Directory",be>0&&We!==F&&(Br[We].name="!MiniFAT"),Br[Ue[0]].name="!FAT",Br.fat_addrs=Ue,Br.ssz=xe;var pn={},ss=[],_o=[],ua=[];j(Le,Br,Ut,ss,be,pn,_o,We),y(_o,ua,ss),ss.shift();var ri={FileIndex:_o,FullPaths:ua};return ve&&ve.raw&&(ri.raw={header:mt,sectors:Ut}),ri}function f(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(L,"Header Signature: "),re.l+=16;var ve=re.read_shift(2,"u");return[re.read_shift(2,"u"),ve]}function m(re,ve){var me=9;switch(re.l+=2,me=re.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function p(re,ve){for(var me=Math.ceil(re.length/ve)-1,xe=[],be=1;be<me;++be)xe[be-1]=re.slice(be*ve,(be+1)*ve);return xe[me-1]=re.slice(me*ve),xe}function y(re,ve,me){for(var xe=0,be=0,ye=0,Le=0,We=0,Me=me.length,Ue=[],$e=[];xe<Me;++xe)Ue[xe]=$e[xe]=xe,ve[xe]=me[xe];for(;We<$e.length;++We)xe=$e[We],be=re[xe].L,ye=re[xe].R,Le=re[xe].C,Ue[xe]===xe&&(be!==-1&&Ue[be]!==be&&(Ue[xe]=Ue[be]),ye!==-1&&Ue[ye]!==ye&&(Ue[xe]=Ue[ye])),Le!==-1&&(Ue[Le]=xe),be!==-1&&xe!=Ue[xe]&&(Ue[be]=Ue[xe],$e.lastIndexOf(be)<We&&$e.push(be)),ye!==-1&&xe!=Ue[xe]&&(Ue[ye]=Ue[xe],$e.lastIndexOf(ye)<We&&$e.push(ye));for(xe=1;xe<Me;++xe)Ue[xe]===xe&&(ye!==-1&&Ue[ye]!==ye?Ue[xe]=Ue[ye]:be!==-1&&Ue[be]!==be&&(Ue[xe]=Ue[be]));for(xe=1;xe<Me;++xe)if(re[xe].type!==0){if(We=xe,We!=Ue[We])do We=Ue[We],ve[xe]=ve[We]+"/"+ve[xe];while(We!==0&&Ue[We]!==-1&&We!=Ue[We]);Ue[xe]=-1}for(ve[0]+="/",xe=1;xe<Me;++xe)re[xe].type!==2&&(ve[xe]+="/")}function g(re,ve,me){for(var xe=re.start,be=re.size,ye=[],Le=xe;me&&be>0&&Le>=0;)ye.push(ve.slice(Le*D,Le*D+D)),be-=D,Le=Rh(me,Le*4);return ye.length===0?rt(0):Fa(ye).slice(0,re.size)}function v(re,ve,me,xe,be){var ye=F;if(re===F){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var Le=me[re],We=(xe>>>2)-1;if(!Le)return;for(var Me=0;Me<We&&(ye=Rh(Le,Me*4))!==F;++Me)be.push(ye);v(Rh(Le,xe-4),ve-1,me,xe,be)}}function w(re,ve,me,xe,be){var ye=[],Le=[];be||(be=[]);var We=xe-1,Me=0,Ue=0;for(Me=ve;Me>=0;){be[Me]=!0,ye[ye.length]=Me,Le.push(re[Me]);var $e=me[Math.floor(Me*4/xe)];if(Ue=Me*4&We,xe<4+Ue)throw new Error("FAT boundary crossed: "+Me+" 4 "+xe);if(!re[$e])break;Me=Rh(re[$e],Ue)}return{nodes:ye,data:V7([Le])}}function b(re,ve,me,xe){var be=re.length,ye=[],Le=[],We=[],Me=[],Ue=xe-1,$e=0,st=0,mt=0,Ct=0;for($e=0;$e<be;++$e)if(We=[],mt=$e+ve,mt>=be&&(mt-=be),!Le[mt]){Me=[];var gt=[];for(st=mt;st>=0;){gt[st]=!0,Le[st]=!0,We[We.length]=st,Me.push(re[st]);var it=me[Math.floor(st*4/xe)];if(Ct=st*4&Ue,xe<4+Ct)throw new Error("FAT boundary crossed: "+st+" 4 "+xe);if(!re[it]||(st=Rh(re[it],Ct),gt[st]))break}ye[mt]={nodes:We,data:V7([Me])}}return ye}function j(re,ve,me,xe,be,ye,Le,We){for(var Me=0,Ue=xe.length?2:0,$e=ve[re].data,st=0,mt=0,Ct;st<$e.length;st+=128){var gt=$e.slice(st,st+128);Ka(gt,64),mt=gt.read_shift(2),Ct=W2(gt,0,mt-Ue),xe.push(Ct);var it={name:Ct,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},Ut=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Ut!==0&&(it.ct=E(gt,gt.l-8));var Br=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Br!==0&&(it.mt=E(gt,gt.l-8)),it.start=gt.read_shift(4,"i"),it.size=gt.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=F,it.name=""),it.type===5?(Me=it.start,be>0&&Me!==F&&(ve[Me].name="!StreamData")):it.size>=4096?(it.storage="fat",ve[it.start]===void 0&&(ve[it.start]=w(me,it.start,ve.fat_addrs,ve.ssz)),ve[it.start].name=it.name,it.content=ve[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:Me!==F&&it.start!==F&&ve[Me]&&(it.content=g(it,ve[Me].data,(ve[We]||{}).data))),it.content&&Ka(it.content,0),ye[Ct]=it,Le.push(it)}}function E(re,ve){return new Date((Ia(re,ve+4)/1e7*Math.pow(2,32)+Ia(re,ve)/1e7-11644473600)*1e3)}function S(re,ve){return u(),d(c.readFileSync(re),ve)}function C(re,ve){var me=ve&&ve.type;switch(me||$r&&Buffer.isBuffer(re)&&(me="buffer"),me||"base64"){case"file":return S(re,ve);case"base64":return d($o(Jo(re)),ve);case"binary":return d($o(re),ve)}return d(re,ve)}function k(re,ve){var me=ve||{},xe=me.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=xe+"/",re.FileIndex[0]={name:xe,type:5}),me.CLSID&&(re.FileIndex[0].clsid=me.CLSID),R(re)}function R(re){var ve="Sh33tJ5";if(!Jt.find(re,"/"+ve)){var me=rt(4);me[0]=55,me[1]=me[3]=50,me[2]=54,re.FileIndex.push({name:ve,type:2,content:me,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+ve),O(re)}}function O(re,ve){k(re);for(var me=!1,xe=!1,be=re.FullPaths.length-1;be>=0;--be){var ye=re.FileIndex[be];switch(ye.type){case 0:xe?me=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(ye.R*ye.L*ye.C)&&(me=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!ve)){var Le=new Date(1987,1,19),We=0,Me=Object.create?Object.create(null):{},Ue=[];for(be=0;be<re.FullPaths.length;++be)Me[re.FullPaths[be]]=!0,re.FileIndex[be].type!==0&&Ue.push([re.FullPaths[be],re.FileIndex[be]]);for(be=0;be<Ue.length;++be){var $e=n(Ue[be][0]);xe=Me[$e],xe||(Ue.push([$e,{name:a($e).replace("/",""),type:1,clsid:W,ct:Le,mt:Le,content:null}]),Me[$e]=!0)}for(Ue.sort(function(Ct,gt){return r(Ct[0],gt[0])}),re.FullPaths=[],re.FileIndex=[],be=0;be<Ue.length;++be)re.FullPaths[be]=Ue[be][0],re.FileIndex[be]=Ue[be][1];for(be=0;be<Ue.length;++be){var st=re.FileIndex[be],mt=re.FullPaths[be];if(st.name=a(mt).replace("/",""),st.L=st.R=st.C=-(st.color=1),st.size=st.content?st.content.length:0,st.start=0,st.clsid=st.clsid||W,be===0)st.C=Ue.length>1?1:-1,st.size=0,st.type=5;else if(mt.slice(-1)=="/"){for(We=be+1;We<Ue.length&&n(re.FullPaths[We])!=mt;++We);for(st.C=We>=Ue.length?-1:We,We=be+1;We<Ue.length&&n(re.FullPaths[We])!=n(mt);++We);st.R=We>=Ue.length?-1:We,st.type=1}else n(re.FullPaths[be+1]||"")==n(mt)&&(st.R=be+1),st.type=2}}}function A(re,ve){var me=ve||{};if(me.fileType=="mad")return er(re,me);switch(O(re),me.fileType){case"zip":return Mr(re,me)}var xe=(function(Ct){for(var gt=0,it=0,Ut=0;Ut<Ct.FileIndex.length;++Ut){var Br=Ct.FileIndex[Ut];if(Br.content){var pn=Br.content.length;pn>0&&(pn<4096?gt+=pn+63>>6:it+=pn+511>>9)}}for(var ss=Ct.FullPaths.length+3>>2,_o=gt+7>>3,ua=gt+127>>7,ri=_o+it+ss+ua,us=ri+127>>7,Ji=us<=109?0:Math.ceil((us-109)/127);ri+us+Ji+127>>7>us;)Ji=++us<=109?0:Math.ceil((us-109)/127);var Os=[1,Ji,us,ua,ss,it,gt,0];return Ct.FileIndex[0].size=gt<<6,Os[7]=(Ct.FileIndex[0].start=Os[0]+Os[1]+Os[2]+Os[3]+Os[4]+Os[5])+(Os[6]+7>>3),Os})(re),be=rt(xe[7]<<9),ye=0,Le=0;{for(ye=0;ye<8;++ye)be.write_shift(1,H[ye]);for(ye=0;ye<8;++ye)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),ye=0;ye<3;++ye)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,xe[2]),be.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:F),be.write_shift(4,xe[3]),be.write_shift(-4,xe[1]?xe[0]-1:F),be.write_shift(4,xe[1]),ye=0;ye<109;++ye)be.write_shift(-4,ye<xe[2]?xe[1]+ye:-1)}if(xe[1])for(Le=0;Le<xe[1];++Le){for(;ye<236+Le*127;++ye)be.write_shift(-4,ye<xe[2]?xe[1]+ye:-1);be.write_shift(-4,Le===xe[1]-1?F:Le+1)}var We=function(Ct){for(Le+=Ct;ye<Le-1;++ye)be.write_shift(-4,ye+1);Ct&&(++ye,be.write_shift(-4,F))};for(Le=ye=0,Le+=xe[1];ye<Le;++ye)be.write_shift(-4,G.DIFSECT);for(Le+=xe[2];ye<Le;++ye)be.write_shift(-4,G.FATSECT);We(xe[3]),We(xe[4]);for(var Me=0,Ue=0,$e=re.FileIndex[0];Me<re.FileIndex.length;++Me)$e=re.FileIndex[Me],$e.content&&(Ue=$e.content.length,!(Ue<4096)&&($e.start=Le,We(Ue+511>>9)));for(We(xe[6]+7>>3);be.l&511;)be.write_shift(-4,G.ENDOFCHAIN);for(Le=ye=0,Me=0;Me<re.FileIndex.length;++Me)$e=re.FileIndex[Me],$e.content&&(Ue=$e.content.length,!(!Ue||Ue>=4096)&&($e.start=Le,We(Ue+63>>6)));for(;be.l&511;)be.write_shift(-4,G.ENDOFCHAIN);for(ye=0;ye<xe[4]<<2;++ye){var st=re.FullPaths[ye];if(!st||st.length===0){for(Me=0;Me<17;++Me)be.write_shift(4,0);for(Me=0;Me<3;++Me)be.write_shift(4,-1);for(Me=0;Me<12;++Me)be.write_shift(4,0);continue}$e=re.FileIndex[ye],ye===0&&($e.start=$e.size?$e.start-1:F);var mt=ye===0&&me.root||$e.name;if(Ue=2*(mt.length+1),be.write_shift(64,mt,"utf16le"),be.write_shift(2,Ue),be.write_shift(1,$e.type),be.write_shift(1,$e.color),be.write_shift(-4,$e.L),be.write_shift(-4,$e.R),be.write_shift(-4,$e.C),$e.clsid)be.write_shift(16,$e.clsid,"hex");else for(Me=0;Me<4;++Me)be.write_shift(4,0);be.write_shift(4,$e.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,$e.start),be.write_shift(4,$e.size),be.write_shift(4,0)}for(ye=1;ye<re.FileIndex.length;++ye)if($e=re.FileIndex[ye],$e.size>=4096)if(be.l=$e.start+1<<9,$r&&Buffer.isBuffer($e.content))$e.content.copy(be,be.l,0,$e.size),be.l+=$e.size+511&-512;else{for(Me=0;Me<$e.size;++Me)be.write_shift(1,$e.content[Me]);for(;Me&511;++Me)be.write_shift(1,0)}for(ye=1;ye<re.FileIndex.length;++ye)if($e=re.FileIndex[ye],$e.size>0&&$e.size<4096)if($r&&Buffer.isBuffer($e.content))$e.content.copy(be,be.l,0,$e.size),be.l+=$e.size+63&-64;else{for(Me=0;Me<$e.size;++Me)be.write_shift(1,$e.content[Me]);for(;Me&63;++Me)be.write_shift(1,0)}if($r)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function P(re,ve){var me=re.FullPaths.map(function(Me){return Me.toUpperCase()}),xe=me.map(function(Me){var Ue=Me.split("/");return Ue[Ue.length-(Me.slice(-1)=="/"?2:1)]}),be=!1;ve.charCodeAt(0)===47?(be=!0,ve=me[0].slice(0,-1)+ve):be=ve.indexOf("/")!==-1;var ye=ve.toUpperCase(),Le=be===!0?me.indexOf(ye):xe.indexOf(ye);if(Le!==-1)return re.FileIndex[Le];var We=!ye.match(Uv);for(ye=ye.replace(ji,""),We&&(ye=ye.replace(Uv,"!")),Le=0;Le<me.length;++Le)if((We?me[Le].replace(Uv,"!"):me[Le]).replace(ji,"")==ye||(We?xe[Le].replace(Uv,"!"):xe[Le]).replace(ji,"")==ye)return re.FileIndex[Le];return null}var D=64,F=-2,L="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(re,ve,me){u();var xe=A(re,me);c.writeFileSync(ve,xe)}function I(re){for(var ve=new Array(re.length),me=0;me<re.length;++me)ve[me]=String.fromCharCode(re[me]);return ve.join("")}function B(re,ve){var me=A(re,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),c.writeFileSync(ve.filename,me),me;case"binary":return typeof me=="string"?me:I(me);case"base64":return ab(typeof me=="string"?me:I(me));case"buffer":if($r)return Buffer.isBuffer(me)?me:ld(me);case"array":return typeof me=="string"?$o(me):me}return me}var Y;function z(re){try{var ve=re.InflateRaw,me=new ve;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)Y=re;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function J(re,ve){if(!Y)return At(re,ve);var me=Y.InflateRaw,xe=new me,be=xe._processChunk(re.slice(re.l),xe._finishFlushFlag);return re.l+=xe.bytesRead,be}function X(re){return Y?Y.deflateRawSync(re):De(re)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(re){var ve=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var U=typeof Uint8Array<"u",ne=U?new Uint8Array(256):[],Q=0;Q<256;++Q)ne[Q]=ge(Q);function V(re,ve){var me=ne[re&255];return ve<=8?me>>>8-ve:(me=me<<8|ne[re>>8&255],ve<=16?me>>>16-ve:(me=me<<8|ne[re>>16&255],me>>>24-ve))}function ue(re,ve){var me=ve&7,xe=ve>>>3;return(re[xe]|(me<=6?0:re[xe+1]<<8))>>>me&3}function oe(re,ve){var me=ve&7,xe=ve>>>3;return(re[xe]|(me<=5?0:re[xe+1]<<8))>>>me&7}function Se(re,ve){var me=ve&7,xe=ve>>>3;return(re[xe]|(me<=4?0:re[xe+1]<<8))>>>me&15}function Ee(re,ve){var me=ve&7,xe=ve>>>3;return(re[xe]|(me<=3?0:re[xe+1]<<8))>>>me&31}function ie(re,ve){var me=ve&7,xe=ve>>>3;return(re[xe]|(me<=1?0:re[xe+1]<<8))>>>me&127}function qe(re,ve,me){var xe=ve&7,be=ve>>>3,ye=(1<<me)-1,Le=re[be]>>>xe;return me<8-xe||(Le|=re[be+1]<<8-xe,me<16-xe)||(Le|=re[be+2]<<16-xe,me<24-xe)||(Le|=re[be+3]<<24-xe),Le&ye}function He(re,ve,me){var xe=ve&7,be=ve>>>3;return xe<=5?re[be]|=(me&7)<<xe:(re[be]|=me<<xe&255,re[be+1]=(me&7)>>8-xe),ve+3}function de(re,ve,me){var xe=ve&7,be=ve>>>3;return me=(me&1)<<xe,re[be]|=me,ve+1}function we(re,ve,me){var xe=ve&7,be=ve>>>3;return me<<=xe,re[be]|=me&255,me>>>=8,re[be+1]=me,ve+8}function Oe(re,ve,me){var xe=ve&7,be=ve>>>3;return me<<=xe,re[be]|=me&255,me>>>=8,re[be+1]=me&255,re[be+2]=me>>>8,ve+16}function Ye(re,ve){var me=re.length,xe=2*me>ve?2*me:ve+5,be=0;if(me>=ve)return re;if($r){var ye=j7(xe);if(re.copy)re.copy(ye);else for(;be<re.length;++be)ye[be]=re[be];return ye}else if(U){var Le=new Uint8Array(xe);if(Le.set)Le.set(re);else for(;be<me;++be)Le[be]=re[be];return Le}return re.length=xe,re}function Je(re){for(var ve=new Array(re),me=0;me<re;++me)ve[me]=0;return ve}function Ne(re,ve,me){var xe=1,be=0,ye=0,Le=0,We=0,Me=re.length,Ue=U?new Uint16Array(32):Je(32);for(ye=0;ye<32;++ye)Ue[ye]=0;for(ye=Me;ye<me;++ye)re[ye]=0;Me=re.length;var $e=U?new Uint16Array(Me):Je(Me);for(ye=0;ye<Me;++ye)Ue[be=re[ye]]++,xe<be&&(xe=be),$e[ye]=0;for(Ue[0]=0,ye=1;ye<=xe;++ye)Ue[ye+16]=We=We+Ue[ye-1]<<1;for(ye=0;ye<Me;++ye)We=re[ye],We!=0&&($e[ye]=Ue[We+16]++);var st=0;for(ye=0;ye<Me;++ye)if(st=re[ye],st!=0)for(We=V($e[ye],xe)>>xe-st,Le=(1<<xe+4-st)-1;Le>=0;--Le)ve[We|Le<<st]=st&15|ye<<4;return xe}var te=U?new Uint16Array(512):Je(512),_e=U?new Uint16Array(32):Je(32);if(!U){for(var pe=0;pe<512;++pe)te[pe]=0;for(pe=0;pe<32;++pe)_e[pe]=0}(function(){for(var re=[],ve=0;ve<32;ve++)re.push(5);Ne(re,_e,32);var me=[];for(ve=0;ve<=143;ve++)me.push(8);for(;ve<=255;ve++)me.push(9);for(;ve<=279;ve++)me.push(7);for(;ve<=287;ve++)me.push(8);Ne(me,te,288)})();var Ie=(function(){for(var ve=U?new Uint8Array(32768):[],me=0,xe=0;me<fe.length-1;++me)for(;xe<fe[me+1];++xe)ve[xe]=me;for(;xe<32768;++xe)ve[xe]=29;var be=U?new Uint8Array(259):[];for(me=0,xe=0;me<he.length-1;++me)for(;xe<he[me+1];++xe)be[xe]=me;function ye(We,Me){for(var Ue=0;Ue<We.length;){var $e=Math.min(65535,We.length-Ue),st=Ue+$e==We.length;for(Me.write_shift(1,+st),Me.write_shift(2,$e),Me.write_shift(2,~$e&65535);$e-- >0;)Me[Me.l++]=We[Ue++]}return Me.l}function Le(We,Me){for(var Ue=0,$e=0,st=U?new Uint16Array(32768):[];$e<We.length;){var mt=Math.min(65535,We.length-$e);if(mt<10){for(Ue=He(Me,Ue,+($e+mt==We.length)),Ue&7&&(Ue+=8-(Ue&7)),Me.l=Ue/8|0,Me.write_shift(2,mt),Me.write_shift(2,~mt&65535);mt-- >0;)Me[Me.l++]=We[$e++];Ue=Me.l*8;continue}Ue=He(Me,Ue,+($e+mt==We.length)+2);for(var Ct=0;mt-- >0;){var gt=We[$e];Ct=(Ct<<5^gt)&32767;var it=-1,Ut=0;if((it=st[Ct])&&(it|=$e&-32768,it>$e&&(it-=32768),it<$e))for(;We[it+Ut]==We[$e+Ut]&&Ut<250;)++Ut;if(Ut>2){gt=be[Ut],gt<=22?Ue=we(Me,Ue,ne[gt+1]>>1)-1:(we(Me,Ue,3),Ue+=5,we(Me,Ue,ne[gt-23]>>5),Ue+=3);var Br=gt<8?0:gt-4>>2;Br>0&&(Oe(Me,Ue,Ut-he[gt]),Ue+=Br),gt=ve[$e-it],Ue=we(Me,Ue,ne[gt]>>3),Ue-=3;var pn=gt<4?0:gt-2>>1;pn>0&&(Oe(Me,Ue,$e-it-fe[gt]),Ue+=pn);for(var ss=0;ss<Ut;++ss)st[Ct]=$e&32767,Ct=(Ct<<5^We[$e])&32767,++$e;mt-=Ut-1}else gt<=143?gt=gt+48:Ue=de(Me,Ue,1),Ue=we(Me,Ue,ne[gt]),st[Ct]=$e&32767,++$e}Ue=we(Me,Ue,0)-1}return Me.l=(Ue+7)/8|0,Me.l}return function(Me,Ue){return Me.length<8?ye(Me,Ue):Le(Me,Ue)}})();function De(re){var ve=rt(50+Math.floor(re.length*1.1)),me=Ie(re,ve);return ve.slice(0,me)}var le=U?new Uint16Array(32768):Je(32768),Re=U?new Uint16Array(32768):Je(32768),et=U?new Uint16Array(128):Je(128),xt=1,at=1;function St(re,ve){var me=Ee(re,ve)+257;ve+=5;var xe=Ee(re,ve)+1;ve+=5;var be=Se(re,ve)+4;ve+=4;for(var ye=0,Le=U?new Uint8Array(19):Je(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=1,Ue=U?new Uint8Array(8):Je(8),$e=U?new Uint8Array(8):Je(8),st=Le.length,mt=0;mt<be;++mt)Le[ee[mt]]=ye=oe(re,ve),Me<ye&&(Me=ye),Ue[ye]++,ve+=3;var Ct=0;for(Ue[0]=0,mt=1;mt<=Me;++mt)$e[mt]=Ct=Ct+Ue[mt-1]<<1;for(mt=0;mt<st;++mt)(Ct=Le[mt])!=0&&(We[mt]=$e[Ct]++);var gt=0;for(mt=0;mt<st;++mt)if(gt=Le[mt],gt!=0){Ct=ne[We[mt]]>>8-gt;for(var it=(1<<7-gt)-1;it>=0;--it)et[Ct|it<<gt]=gt&7|mt<<3}var Ut=[];for(Me=1;Ut.length<me+xe;)switch(Ct=et[ie(re,ve)],ve+=Ct&7,Ct>>>=3){case 16:for(ye=3+ue(re,ve),ve+=2,Ct=Ut[Ut.length-1];ye-- >0;)Ut.push(Ct);break;case 17:for(ye=3+oe(re,ve),ve+=3;ye-- >0;)Ut.push(0);break;case 18:for(ye=11+ie(re,ve),ve+=7;ye-- >0;)Ut.push(0);break;default:Ut.push(Ct),Me<Ct&&(Me=Ct);break}var Br=Ut.slice(0,me),pn=Ut.slice(me);for(mt=me;mt<286;++mt)Br[mt]=0;for(mt=xe;mt<30;++mt)pn[mt]=0;return xt=Ne(Br,le,286),at=Ne(pn,Re,30),ve}function Xt(re,ve){if(re[0]==3&&!(re[1]&3))return[Rf(ve),2];for(var me=0,xe=0,be=j7(ve||1<<18),ye=0,Le=be.length>>>0,We=0,Me=0;(xe&1)==0;){if(xe=oe(re,me),me+=3,xe>>>1)xe>>1==1?(We=9,Me=5):(me=St(re,me),We=xt,Me=at);else{me&7&&(me+=8-(me&7));var Ue=re[me>>>3]|re[(me>>>3)+1]<<8;if(me+=32,Ue>0)for(!ve&&Le<ye+Ue&&(be=Ye(be,ye+Ue),Le=be.length);Ue-- >0;)be[ye++]=re[me>>>3],me+=8;continue}for(;;){!ve&&Le<ye+32767&&(be=Ye(be,ye+32767),Le=be.length);var $e=qe(re,me,We),st=xe>>>1==1?te[$e]:le[$e];if(me+=st&15,st>>>=4,(st>>>8&255)===0)be[ye++]=st;else{if(st==256)break;st-=257;var mt=st<8?0:st-4>>2;mt>5&&(mt=0);var Ct=ye+he[st];mt>0&&(Ct+=qe(re,me,mt),me+=mt),$e=qe(re,me,Me),st=xe>>>1==1?_e[$e]:Re[$e],me+=st&15,st>>>=4;var gt=st<4?0:st-2>>1,it=fe[st];for(gt>0&&(it+=qe(re,me,gt),me+=gt),!ve&&Le<Ct&&(be=Ye(be,Ct+100),Le=be.length);ye<Ct;)be[ye]=be[ye-it],++ye}}}return ve?[be,me+7>>>3]:[be.slice(0,ye),me+7>>>3]}function At(re,ve){var me=re.slice(re.l||0),xe=Xt(me,ve);return re.l+=xe[1],xe[0]}function Pt(re,ve){if(re)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function lr(re,ve){var me=re;Ka(me,0);var xe=[],be=[],ye={FileIndex:xe,FullPaths:be};k(ye,{root:ve.root});for(var Le=me.length-4;(me[Le]!=80||me[Le+1]!=75||me[Le+2]!=5||me[Le+3]!=6)&&Le>=0;)--Le;me.l=Le+4,me.l+=4;var We=me.read_shift(2);me.l+=6;var Me=me.read_shift(4);for(me.l=Me,Le=0;Le<We;++Le){me.l+=20;var Ue=me.read_shift(4),$e=me.read_shift(4),st=me.read_shift(2),mt=me.read_shift(2),Ct=me.read_shift(2);me.l+=8;var gt=me.read_shift(4),it=l(me.slice(me.l+st,me.l+st+mt));me.l+=st+mt+Ct;var Ut=me.l;me.l=gt+4,Pr(me,Ue,$e,ye,it),me.l=Ut}return ye}function Pr(re,ve,me,xe,be){re.l+=2;var ye=re.read_shift(2),Le=re.read_shift(2),We=o(re);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Me=re.read_shift(4),Ue=re.read_shift(4),$e=re.read_shift(4),st=re.read_shift(2),mt=re.read_shift(2),Ct="",gt=0;gt<st;++gt)Ct+=String.fromCharCode(re[re.l++]);if(mt){var it=l(re.slice(re.l,re.l+mt));(it[21589]||{}).mt&&(We=it[21589].mt),((be||{})[21589]||{}).mt&&(We=be[21589].mt)}re.l+=mt;var Ut=re.slice(re.l,re.l+Ue);switch(Le){case 8:Ut=J(re,$e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var Br=!1;ye&8&&(Me=re.read_shift(4),Me==134695760&&(Me=re.read_shift(4),Br=!0),Ue=re.read_shift(4),$e=re.read_shift(4)),Ue!=ve&&Pt(Br,"Bad compressed size: "+ve+" != "+Ue),$e!=me&&Pt(Br,"Bad uncompressed size: "+me+" != "+$e),Lt(xe,Ct,Ut,{unsafe:!0,mt:We})}function Mr(re,ve){var me=ve||{},xe=[],be=[],ye=rt(1),Le=me.compression?8:0,We=0,Me=0,Ue=0,$e=0,st=0,mt=re.FullPaths[0],Ct=mt,gt=re.FileIndex[0],it=[],Ut=0;for(Me=1;Me<re.FullPaths.length;++Me)if(Ct=re.FullPaths[Me].slice(mt.length),gt=re.FileIndex[Me],!(!gt.size||!gt.content||Ct=="Sh33tJ5")){var Br=$e,pn=rt(Ct.length);for(Ue=0;Ue<Ct.length;++Ue)pn.write_shift(1,Ct.charCodeAt(Ue)&127);pn=pn.slice(0,pn.l),it[st]=mTe.buf(gt.content,0);var ss=gt.content;Le==8&&(ss=X(ss)),ye=rt(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,We),ye.write_shift(2,Le),gt.mt?i(ye,gt.mt):ye.write_shift(4,0),ye.write_shift(-4,it[st]),ye.write_shift(4,ss.length),ye.write_shift(4,gt.content.length),ye.write_shift(2,pn.length),ye.write_shift(2,0),$e+=ye.length,xe.push(ye),$e+=pn.length,xe.push(pn),$e+=ss.length,xe.push(ss),ye=rt(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,We),ye.write_shift(2,Le),ye.write_shift(4,0),ye.write_shift(-4,it[st]),ye.write_shift(4,ss.length),ye.write_shift(4,gt.content.length),ye.write_shift(2,pn.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Br),Ut+=ye.l,be.push(ye),Ut+=pn.length,be.push(pn),++st}return ye=rt(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,st),ye.write_shift(2,st),ye.write_shift(4,Ut),ye.write_shift(4,$e),ye.write_shift(2,0),Fa([Fa(xe),Fa(be),ye])}var en={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function An(re,ve){if(re.ctype)return re.ctype;var me=re.name||"",xe=me.match(/\.([^\.]+)$/);return xe&&en[xe[1]]||ve&&(xe=(me=ve).match(/[\.\\]([^\.\\])+$/),xe&&en[xe[1]])?en[xe[1]]:"application/octet-stream"}function Mt(re){for(var ve=ab(re),me=[],xe=0;xe<ve.length;xe+=76)me.push(ve.slice(xe,xe+76));return me.join(`\r
`)+`\r
`}function ar(re){var ve=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var $e=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+($e.length==1?"0"+$e:$e)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],xe=ve.split(`\r
`),be=0;be<xe.length;++be){var ye=xe[be];if(ye.length==0){me.push("");continue}for(var Le=0;Le<ye.length;){var We=76,Me=ye.slice(Le,Le+We);Me.charAt(We-1)=="="?We--:Me.charAt(We-2)=="="?We-=2:Me.charAt(We-3)=="="&&(We-=3),Me=ye.slice(Le,Le+We),Le+=We,Le<ye.length&&(Me+="="),me.push(Me)}}return me.join(`\r
`)}function Or(re){for(var ve=[],me=0;me<re.length;++me){for(var xe=re[me];me<=re.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+re[++me];ve.push(xe)}for(var be=0;be<ve.length;++be)ve[be]=ve[be].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return $o(ve.join(`\r
`))}function zt(re,ve,me){for(var xe="",be="",ye="",Le,We=0;We<10;++We){var Me=ve[We];if(!Me||Me.match(/^\s*$/))break;var Ue=Me.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":xe=Ue[2].trim();break;case"content-type":ye=Ue[2].trim();break;case"content-transfer-encoding":be=Ue[2].trim();break}}switch(++We,be.toLowerCase()){case"base64":Le=$o(Jo(ve.slice(We).join("")));break;case"quoted-printable":Le=Or(ve.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var $e=Lt(re,xe.slice(me.length),Le,{unsafe:!0});ye&&($e.ctype=ye)}function It(re,ve){if(I(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=ve&&ve.root||"",xe=($r&&Buffer.isBuffer(re)?re.toString("binary"):I(re)).split(`\r
`),be=0,ye="";for(be=0;be<xe.length;++be)if(ye=xe[be],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),me||(me=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),ye.slice(0,me.length)!=me););var Le=(xe[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var We="--"+(Le[1]||""),Me=[],Ue=[],$e={FileIndex:Me,FullPaths:Ue};k($e);var st,mt=0;for(be=0;be<xe.length;++be){var Ct=xe[be];Ct!==We&&Ct!==We+"--"||(mt++&&zt($e,xe.slice(st,be),me),st=be)}return $e}function er(re,ve){var me=ve||{},xe=me.boundary||"SheetJS";xe="------="+xe;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],ye=re.FullPaths[0],Le=ye,We=re.FileIndex[0],Me=1;Me<re.FullPaths.length;++Me)if(Le=re.FullPaths[Me].slice(ye.length),We=re.FileIndex[Me],!(!We.size||!We.content||Le=="Sh33tJ5")){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var Ue=We.content,$e=$r&&Buffer.isBuffer(Ue)?Ue.toString("binary"):I(Ue),st=0,mt=Math.min(1024,$e.length),Ct=0,gt=0;gt<=mt;++gt)(Ct=$e.charCodeAt(gt))>=32&&Ct<128&&++st;var it=st>=mt*4/5;be.push(xe),be.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Le),be.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),be.push("Content-Type: "+An(We,Le)),be.push(""),be.push(it?ar($e):Mt($e))}return be.push(xe+`--\r
`),be.join(`\r
`)}function vt(re){var ve={};return k(ve,re),ve}function Lt(re,ve,me,xe){var be=xe&&xe.unsafe;be||k(re);var ye=!be&&Jt.find(re,ve);if(!ye){var Le=re.FullPaths[0];ve.slice(0,Le.length)==Le?Le=ve:(Le.slice(-1)!="/"&&(Le+="/"),Le=(Le+ve).replace("//","/")),ye={name:a(ve),type:2},re.FileIndex.push(ye),re.FullPaths.push(Le),be||Jt.utils.cfb_gc(re)}return ye.content=me,ye.size=me?me.length:0,xe&&(xe.CLSID&&(ye.clsid=xe.CLSID),xe.mt&&(ye.mt=xe.mt),xe.ct&&(ye.ct=xe.ct)),ye}function Ft(re,ve){k(re);var me=Jt.find(re,ve);if(me){for(var xe=0;xe<re.FileIndex.length;++xe)if(re.FileIndex[xe]==me)return re.FileIndex.splice(xe,1),re.FullPaths.splice(xe,1),!0}return!1}function Qt(re,ve,me){k(re);var xe=Jt.find(re,ve);if(xe){for(var be=0;be<re.FileIndex.length;++be)if(re.FileIndex[be]==xe)return re.FileIndex[be].name=a(me),re.FullPaths[be]=me,!0}return!1}function Yn(re){O(re,!0)}return t.find=P,t.read=C,t.parse=d,t.write=B,t.writeFile=K,t.utils={cfb_new:vt,cfb_add:Lt,cfb_del:Ft,cfb_mov:Qt,cfb_gc:Yn,ReadShift:my,CheckField:Use,prep_blob:Ka,bconcat:Fa,use_zlib:z,_deflateRaw:De,_inflateRaw:At,consts:G},t})();let af;function pTe(e){af=e}function gTe(e){return typeof e=="string"?Mw(e):Array.isArray(e)?UEe(e):e}function Lw(e,t,r){if(typeof af<"u"&&af.writeFileSync)return r?af.writeFileSync(e,t,r):af.writeFileSync(e,t);if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Mw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Vc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([gTe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Gf(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function xTe(e){if(typeof af<"u")return af.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ps(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function P7(e,t){for(var r=[],n=Ps(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function V2(e){for(var t=[],r=Ps(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function z2(e){for(var t=[],r=Ps(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function vTe(e){for(var t=[],r=Ps(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var PN=new Date(1899,11,30,0,0,0);function Na(e,t){var r=e.getTime(),n=PN.getTime()+(e.getTimezoneOffset()-PN.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var Nse=new Date,yTe=PN.getTime()+(Nse.getTimezoneOffset()-PN.getTimezoneOffset())*6e4,O7=Nse.getTimezoneOffset();function q2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+yTe),t.getTimezoneOffset()!==O7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-O7)*6e4),t}function bTe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var R7=new Date("2017-02-19T19:06:09.000Z"),Sse=isNaN(R7.getFullYear())?new Date("2/19/17"):R7,wTe=Sse.getFullYear()==2017;function ns(e,t){var r=new Date(e);if(wTe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Sse.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Dm(e,t){if($r&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Vc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Vc(dse(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Vc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Vc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Un(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Un(e[r]));return t}function js(e,t){for(var r="";r.length<t;)r+=e;return r}function hc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var _Te=["january","february","march","april","may","june","july","august","september","october","november","december"];function x0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&_Te.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var jTe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function kse(e){return e?e.content&&e.type?Dm(e.content,!0):e.data?yg(e.data):e.asNodeBuffer&&$r?yg(e.asNodeBuffer().toString("binary")):e.asBinary?yg(e.asBinary()):e._data&&e._data.getContent?yg(Dm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Cse(e){if(!e)return null;if(e.data)return CN(e.data);if(e.asNodeBuffer&&$r)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?CN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function NTe(e){return e&&e.name.slice(-4)===".bin"?Cse(e):kse(e)}function gl(e,t){for(var r=e.FullPaths||Ps(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function H5(e,t){var r=gl(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Gs(e,t,r){if(!r)return NTe(H5(e,t));if(!t)return null;try{return Gs(e,t)}catch{return null}}function Bo(e,t,r){if(!r)return kse(H5(e,t));if(!t)return null;try{return Bo(e,t)}catch{return null}}function STe(e,t,r){return Cse(H5(e,t))}function D7(e){for(var t=e.FullPaths||Ps(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Dr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return $r?n=ld(r):n=VEe(r),Jt.utils.cfb_add(e,t,n)}Jt.utils.cfb_add(e,t,r)}else e.file(t,r)}function G5(){return Jt.utils.cfb_new()}function Ese(e,t){switch(t.type){case"base64":return Jt.read(e,{type:"base64"});case"binary":return Jt.read(e,{type:"binary"});case"buffer":case"array":return Jt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Vv(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var zs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kTe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,I7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,CTe=/<[^>]*>/g,Ci=zs.match(I7)?I7:CTe,ETe=/<\w*:/,TTe=/<(\/?)\w+:/;function mr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(kTe),l=0,c="",u=0,d="",f="",m=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,n[p.toLowerCase()]=c}}return n}function cu(e){return e.replace(TTe,"<$1")}var Tse={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K5=V2(Tse),sn=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return Tse[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),Y5=/[&<>'"]/g,ATe=/[\u0000-\u0008\u000b-\u001f]/g;function Tn(e){var t=e+"";return t.replace(Y5,function(r){return K5[r]}).replace(ATe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function M7(e){return Tn(e).replace(/ /g,"_x0020_")}var Ase=/[\u0000-\u001f]/g;function X5(e){var t=e+"";return t.replace(Y5,function(r){return K5[r]}).replace(/\n/g,"<br/>").replace(Ase,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function PTe(e){var t=e+"";return t.replace(Y5,function(r){return K5[r]}).replace(Ase,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var F7=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function OTe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function es(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function PT(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function L7(e){var t=Rf(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function $7(e){return ld(e,"binary").toString("utf8")}var $_="foo bar baz",On=$r&&($7($_)==PT($_)&&$7||L7($_)==PT($_)&&L7)||PT,Vc=$r?function(e){return ld(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ob=(function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),Pse=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}})(),RTe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),DTe=/<\/?(?:vt:)?variant>/g,ITe=/<(?:vt:)([^>]*)>([\s\S]*)</;function B7(e,t){var r=mr(e),n=e.match(RTe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(DTe,"").match(ITe);o&&a.push({v:On(o[2]),t:o[1]})}),a}var Ose=/(^\s|\s$|\n)/;function Ja(e,t){return"<"+e+(t.match(Ose)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function lb(e){return Ps(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function jt(e,t,r){return"<"+e+(r!=null?lb(r):"")+(t!=null?(t.match(Ose)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function HD(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function MTe(e,t){switch(typeof e){case"string":var r=jt("vt:lpwstr",Tn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return jt((e|0)==e?"vt:i4":"vt:r8",Tn(String(e)));case"boolean":return jt("vt:bool",e?"true":"false")}if(e instanceof Date)return jt("vt:filetime",HD(e));throw new Error("Unable to serialize "+e)}function J5(e){if($r&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return On(Gf(z5(e)));throw new Error("Bad input format: expected Buffer or string")}var cb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},np=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Mo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function FTe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function LTe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var U7=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},V7=$r?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ld(t)})):U7(e)}:U7,z7=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Du(e,a)));return n.join("").replace(ji,"")},W2=$r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ji,""):z7(e,t,r)}:z7,q7=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Rse=$r?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):q7(e,t,r)}:q7,W7=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(fg(e,a)));return n.join("")},lx=$r?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):W7(t,r,n)}:W7,Dse=function(e,t){var r=Ia(e,t);return r>0?lx(e,t+4,t+4+r-1):""},Z5=Dse,Ise=function(e,t){var r=Ia(e,t);return r>0?lx(e,t+4,t+4+r-1):""},Q5=Ise,Mse=function(e,t){var r=2*Ia(e,t);return r>0?lx(e,t+4,t+4+r-1):""},eF=Mse,Fse=function(t,r){var n=Ia(t,r);return n>0?W2(t,r+4,r+4+n):""},tF=Fse,Lse=function(e,t){var r=Ia(e,t);return r>0?lx(e,t+4,t+4+r):""},rF=Lse,$se=function(e,t){return FTe(e,t)},ON=$se,nF=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$r&&(Z5=function(t,r){if(!Buffer.isBuffer(t))return Dse(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Q5=function(t,r){if(!Buffer.isBuffer(t))return Ise(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},eF=function(t,r){if(!Buffer.isBuffer(t))return Mse(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},tF=function(t,r){if(!Buffer.isBuffer(t))return Fse(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},rF=function(t,r){if(!Buffer.isBuffer(t))return Lse(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ON=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$se(t,r)},nF=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function Bse(){W2=function(e,t,r){return Zr.utils.decode(1200,e.slice(t,r)).replace(ji,"")},lx=function(e,t,r){return Zr.utils.decode(65001,e.slice(t,r))},Z5=function(e,t){var r=Ia(e,t);return r>0?Zr.utils.decode(Om,e.slice(t+4,t+4+r-1)):""},Q5=function(e,t){var r=Ia(e,t);return r>0?Zr.utils.decode(Ho,e.slice(t+4,t+4+r-1)):""},eF=function(e,t){var r=2*Ia(e,t);return r>0?Zr.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},tF=function(e,t){var r=Ia(e,t);return r>0?Zr.utils.decode(1200,e.slice(t+4,t+4+r)):""},rF=function(e,t){var r=Ia(e,t);return r>0?Zr.utils.decode(65001,e.slice(t+4,t+4+r)):""}}typeof Zr<"u"&&Bse();var fg=function(e,t){return e[t]},Du=function(e,t){return e[t+1]*256+e[t]},$Te=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ia=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Rh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},BTe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function my(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,$r&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Du(this,u)),u+=2;e*=2;break;case"utf8":r=lx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=W2(this,this.l,this.l+e);break;case"wstr":if(typeof Zr<"u")r=Zr.utils.decode(Ho,this.slice(this.l,this.l+2*e));else return my.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=Z5(this,this.l),e=4+Ia(this,this.l);break;case"lpstr-cp":r=Q5(this,this.l),e=4+Ia(this,this.l);break;case"lpwstr":r=eF(this,this.l),e=4+2*Ia(this,this.l);break;case"lpp4":e=4+Ia(this,this.l),r=tF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ia(this,this.l),r=rF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=fg(this,this.l+e++))!==0;)i.push(Bv(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Du(this,this.l+e))!==0;)i.push(Bv(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=fg(this,u),this.l=u+1,l=my.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Bv(Du(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":if(typeof Zr<"u"){r=Zr.utils.decode(Ho,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=fg(this,u),this.l=u+1,l=my.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Bv(fg(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=fg(this,this.l),this.l++,n;case 2:return n=(t==="i"?$Te:Du)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Rh:BTe)(this,this.l),this.l+=4,n):(a=Ia(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ON(this,this.l):a=ON([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Rse(this,this.l,e);break}}return this.l+=e,r}var UTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},VTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},zTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function qTe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)zTe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){if(typeof Zr<"u"&&Om==874)for(a=0;a!=t.length;++a){var i=Zr.utils.encode(Om,t.charAt(a));this[this.l+a]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,UTe(this,t,this.l);break;case 8:if(n=8,r==="f"){LTe(this,t,this.l);break}case 16:break;case-4:n=4,VTe(this,t,this.l);break}return this.l+=n,this}function Use(e,t){var r=Rse(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ka(e,t){e.l=t,e.read_shift=my,e.chk=Use,e.write_shift=qTe}function ki(e,t){e.l+=t}function rt(e){var t=Rf(e);return Ka(t,0),t}function cd(e,t,r){if(e){var n,a,i;Ka(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=pb[l]||pb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function yo(){var e=[],t=$r?256:2048,r=function(u){var d=rt(u);return Ka(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Fa(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function lt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=pb[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&nF(r)&&e.push(r)}}function py(e,t,r){var n=Un(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function H7(e,t,r){var n=Un(e);return n.s=py(n.s,t.s,r),n.e=py(n.e,t.s,r),n}function gy(e,t){if(e.cRel&&e.c<0)for(e=Un(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Un(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=or(e);return!e.cRel&&e.cRel!=null&&(r=GTe(r)),!e.rRel&&e.rRel!=null&&(r=WTe(r)),r}function OT(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ts(e.s.c)+":"+(e.e.cRel?"":"$")+ts(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Es(e.s.r)+":"+(e.e.rRel?"":"$")+Es(e.e.r):gy(e.s,t.biff)+":"+gy(e.e,t.biff)}function sF(e){return parseInt(HTe(e),10)-1}function Es(e){return""+(e+1)}function WTe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function HTe(e){return e.replace(/\$(\d+)$/,"$1")}function aF(e){for(var t=KTe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ts(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function GTe(e){return e.replace(/^([A-Z])/,"$$$1")}function KTe(e){return e.replace(/^\$([A-Z])/,"$1")}function YTe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function or(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Yi(e){var t=e.indexOf(":");return t==-1?{s:bs(e),e:bs(e)}:{s:bs(e.slice(0,t)),e:bs(e.slice(t+1))}}function Ar(e,t){return typeof t>"u"||typeof t=="number"?Ar(e.s,e.e):(typeof e!="string"&&(e=or(e)),typeof t!="string"&&(t=or(t)),e==t?e:e+":"+t)}function Xr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function G7(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Zo(e.z,r?Na(t):t)}catch{}try{return e.w=Zo((e.XF||{}).numFmtId||(r?14:0),r?Na(t):t)}catch{return""+t}}function ru(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ud[e.v]||e.v:t==null?G7(e,e.v):G7(e,t))}function Kf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Vse(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?bs(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Xr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var p={v:t[f][m]},y=o+f,g=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))p=t[f][m];else if(Array.isArray(p.v)&&(p.f=t[f][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||sr[14],n.cellDates?(p.t="d",p.w=Zo(p.z,Na(p.v))):(p.t="n",p.v=Na(p.v),p.w=Zo(p.z,p.v))):p.t="s";if(a)i[y]||(i[y]=[]),i[y][g]&&i[y][g].z&&(p.z=i[y][g].z),i[y][g]=p;else{var v=or({c:g,r:y});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=Ar(u)),i}function cx(e,t){return Vse(null,e,t)}function XTe(e){return e.read_shift(4,"i")}function mc(e,t){return t||(t=rt(4)),t.write_shift(4,e),t}function Ni(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function La(e,t){var r=!1;return t==null&&(r=!0,t=rt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function JTe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZTe(e,t){return t||(t=rt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function iF(e,t){var r=e.l,n=e.read_shift(1),a=Ni(e),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(JTe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function QTe(e,t){var r=!1;return t==null&&(r=!0,t=rt(15+4*e.t.length)),t.write_shift(1,0),La(e.t,t),r?t.slice(0,t.l):t}var eAe=iF;function tAe(e,t){var r=!1;return t==null&&(r=!0,t=rt(23+4*e.t.length)),t.write_shift(1,1),La(e.t,t),t.write_shift(4,1),ZTe({},t),r?t.slice(0,t.l):t}function Bl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sp(e,t){return t==null&&(t=rt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ap(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ip(e,t){return t==null&&(t=rt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var rAe=Ni,zse=La;function oF(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function RN(e,t){var r=!1;return t==null&&(r=!0,t=rt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var nAe=Ni,GD=oF,lF=RN;function cF(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?ON([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Rh(t,0)>>2;return r?a/100:a}function qse(e,t){t==null&&(t=rt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Wse(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function sAe(e,t){return t||(t=rt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var op=Wse,ux=sAe;function vi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Im(e,t){return(t||rt(8)).write_shift(8,e,"f")}function aAe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=sm[a];u&&(t.rgb=db(u));break;case 2:t.rgb=db([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function DN(e,t){if(t||(t=rt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function iAe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function oAe(e,t){t||(t=rt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Hse(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function lAe(e){return Hse(e,1)}function cAe(e){return Hse(e,2)}var uF=2,lo=3,B_=11,K7=12,IN=19,U_=64,uAe=65,dAe=71,fAe=4108,hAe=4126,Oa=80,Gse=81,mAe=[Oa,Gse],KD={1:{n:"CodePage",t:uF},2:{n:"Category",t:Oa},3:{n:"PresentationFormat",t:Oa},4:{n:"ByteCount",t:lo},5:{n:"LineCount",t:lo},6:{n:"ParagraphCount",t:lo},7:{n:"SlideCount",t:lo},8:{n:"NoteCount",t:lo},9:{n:"HiddenCount",t:lo},10:{n:"MultimediaClipCount",t:lo},11:{n:"ScaleCrop",t:B_},12:{n:"HeadingPairs",t:fAe},13:{n:"TitlesOfParts",t:hAe},14:{n:"Manager",t:Oa},15:{n:"Company",t:Oa},16:{n:"LinksUpToDate",t:B_},17:{n:"CharacterCount",t:lo},19:{n:"SharedDoc",t:B_},22:{n:"HyperlinksChanged",t:B_},23:{n:"AppVersion",t:lo,p:"version"},24:{n:"DigSig",t:uAe},26:{n:"ContentType",t:Oa},27:{n:"ContentStatus",t:Oa},28:{n:"Language",t:Oa},29:{n:"Version",t:Oa},255:{},2147483648:{n:"Locale",t:IN},2147483651:{n:"Behavior",t:IN},1919054434:{}},YD={1:{n:"CodePage",t:uF},2:{n:"Title",t:Oa},3:{n:"Subject",t:Oa},4:{n:"Author",t:Oa},5:{n:"Keywords",t:Oa},6:{n:"Comments",t:Oa},7:{n:"Template",t:Oa},8:{n:"LastAuthor",t:Oa},9:{n:"RevNumber",t:Oa},10:{n:"EditTime",t:U_},11:{n:"LastPrinted",t:U_},12:{n:"CreatedDate",t:U_},13:{n:"ModifiedDate",t:U_},14:{n:"PageCount",t:lo},15:{n:"WordCount",t:lo},16:{n:"CharCount",t:lo},17:{n:"Thumbnail",t:dAe},18:{n:"Application",t:Oa},19:{n:"DocSecurity",t:lo},255:{},2147483648:{n:"Locale",t:IN},2147483651:{n:"Behavior",t:IN},1919054434:{}},Y7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pAe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function gAe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var xAe=gAe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sm=Un(xAe),ud={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Kse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},XD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},V_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function dF(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vAe(e){var t=dF();if(!e||!e.match)return t;var r={};if((e.match(Ci)||[]).forEach(function(n){var a=mr(n);switch(a[0].replace(ETe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[XD[a.ContentType]]!==void 0&&t[XD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==wa.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Yse(e,t){var r=vTe(XD),n=[],a;n[n.length]=zs,n[n.length]=jt("Types",null,{xmlns:wa.CT,"xmlns:xsd":wa.xsd,"xmlns:xsi":wa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return jt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=jt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:V_[c][t.bookType]||V_[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=jt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:V_[c][t.bookType]||V_[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=jt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var qr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ub(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function xy(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ci)||[]).forEach(function(a){var i=mr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Vv(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function Hg(e){var t=[zs,jt("Relationships",null,{xmlns:wa.RELS})];return Ps(e["!id"]).forEach(function(r){t[t.length]=jt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Nn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[qr.HLINK,qr.XPATH,qr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var yAe="application/vnd.oasis.opendocument.spreadsheet";function bAe(e,t){for(var r=J5(e),n,a;n=cb.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=mr(n[0],!1),a.path=="/"&&a.type!==yAe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function wAe(e){var t=[zs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function X7(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function _Ae(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function jAe(e){var t=[zs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(X7(e[r][0],e[r][1])),t.push(_Ae("",e[r][0]));return t.push(X7("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Xse(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+sb.version+"</meta:generator></office:meta></office:document-meta>"}var Rl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],NAe=(function(){for(var e=new Array(Rl.length),t=0;t<Rl.length;++t){var r=Rl[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function Jse(e){var t={};e=On(e);for(var r=0;r<Rl.length;++r){var n=Rl[r],a=e.match(NAe[r]);a!=null&&a.length>0&&(t[n[1]]=sn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ns(t[n[1]]))}return t}function RT(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Tn(t),n[n.length]=r?jt(e,t,r):Ja(e,t))}function Zse(e,t){var r=t||{},n=[zs,jt("cp:coreProperties",null,{"xmlns:cp":wa.CORE_PROPS,"xmlns:dc":wa.dc,"xmlns:dcterms":wa.dcterms,"xmlns:dcmitype":wa.dcmitype,"xmlns:xsi":wa.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&RT("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:HD(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&RT("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:HD(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Rl.length;++i){var o=Rl[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&RT(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var am=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Qse=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function eae(e,t,r,n){var a=[];if(typeof e=="string")a=B7(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?B7(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function SAe(e,t,r){var n={};return t||(t={}),e=On(e),am.forEach(function(a){var i=(e.match(ob(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=sn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&eae(n.HeadingPairs,n.TitlesOfParts,t,r),t}function tae(e){var t=[],r=jt;return e||(e={}),e.Application="SheetJS",t[t.length]=zs,t[t.length]=jt("Properties",null,{xmlns:wa.EXT_PROPS,"xmlns:vt":wa.vt}),am.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Tn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Tn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var kAe=/<[^>]+>[^<]*/g;function CAe(e,t){var r={},n="",a=e.match(kAe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=mr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=sn(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=sn(d);break;case"bool":r[n]=es(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=ns(d);break;case"cy":case"error":r[n]=sn(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function rae(e){var t=[zs,jt("Properties",null,{xmlns:wa.CUST_PROPS,"xmlns:vt":wa.vt})];if(!e)return t.join("");var r=1;return Ps(e).forEach(function(a){++r,t[t.length]=jt("property",MTe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Tn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var JD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},DT;function EAe(e,t,r){DT||(DT=V2(JD)),t=DT[t]||t,e[t]=r}function TAe(e,t){var r=[];return Ps(JD).map(function(n){for(var a=0;a<Rl.length;++a)if(Rl[a][1]==n)return Rl[a];for(a=0;a<am.length;++a)if(am[a][1]==n)return am[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ja(JD[n[1]]||n[1],a))}}),jt("DocumentProperties",r.join(""),{xmlns:Mo.o})}function AAe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ps(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Rl.length;++o)if(i==Rl[o][1])return;for(o=0;o<am.length;++o)if(i==am[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(jt(M7(i),l,{"dt:dt":c}))}}),t&&Ps(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(jt(M7(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Mo.o+'">'+a.join("")+"</"+n+">"}function fF(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function PAe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=rt(8);return o.write_shift(4,n),o.write_shift(4,a),o}function nae(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function sae(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function aae(e,t,r){return t===31?sae(e):nae(e,t,r)}function ZD(e,t,r){return aae(e,t,r===!1?0:4)}function OAe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return aae(e,t,0)}function RAe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ji,""),e.l-a&2&&(e.l+=2)}return r}function DAe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ji,"");return r}function IAe(e){var t=e.l,r=MN(e,Gse);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=MN(e,lo);return[r,n]}function MAe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(IAe(e));return r}function J7(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ji,"").replace(Uv,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function iae(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function FAe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function MN(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==K7&&n!==t&&mAe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===K7?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return nae(e,n,4).replace(ji,"");case 31:return sae(e);case 64:return fF(e);case 65:return iae(e);case 71:return FAe(e);case 80:return ZD(e,n,!i.raw).replace(ji,"");case 81:return OAe(e,n).replace(ji,"");case 4108:return MAe(e);case 4126:case 4127:return n==4127?RAe(e):DAe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function Z7(e,t){var r=rt(4),n=rt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=rt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=PAe(t);break;case 31:case 80:for(n=rt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Fa([r,n])}function Q7(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(b,j){return b[1]-j[1]});var m={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(m[y.n]=MN(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:kl(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(i[o][0]===1){if(l=m.CodePage=MN(e,uF),kl(l),c!==-1){var g=e.l;e.l=i[c][1],u=J7(e,l),e.l=g}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=J7(e,l)}else{var v=u[i[o][0]],w;switch(e[e.l]){case 65:e.l+=4,w=iae(e);break;case 30:e.l+=4,w=ZD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=ZD(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=Ds(e,4);break;case 64:e.l+=4,w=ns(fF(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[v]=w}}return e.l=r+n,m}var oae=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function LAe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function eV(e,t,r){var n=rt(8),a=[],i=[],o=8,l=0,c=rt(8),u=rt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=rt(8),u.write_shift(4,0),a.unshift(u);var d=[rt(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=rt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Fa(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(oae.indexOf(e[l][0])>-1||Qse.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],p=0;if(t){p=+t[e[l][0]];var y=r[p];if(y.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=Z7(y.t,m)}else{var v=LAe(m);v==-1&&(v=31,m=String(m)),c=Z7(v,m)}i.push(c),u=rt(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var w=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,w),w+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Fa([n].concat(a).concat(i))}function tV(e,t,r){var n=e.content;if(!n)return{};Ka(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Jt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=Q7(n,t),m={SystemIdentifier:u};for(var p in f)m[p]=f[p];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=Q7(n,null)}catch{}for(p in y)m[p]=y[p];return m.FMTID=[i,o],m}function rV(e,t,r,n,a,i){var o=rt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=eV(e,r,n);if(l.push(c),a){var u=eV(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Fa(l)}function Ld(e,t){return e.read_shift(t),null}function $Ae(e,t){t||(t=rt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function BAe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ds(e,t){return e.read_shift(t)===1}function Fi(e,t){return t||(t=rt(2)),t.write_shift(2,+!!e),t}function Ks(e){return e.read_shift(2,"u")}function xl(e,t){return t||(t=rt(2)),t.write_shift(2,e),t}function lae(e,t){return BAe(e,t,Ks)}function UAe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function cae(e,t,r){return r||(r=rt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function $w(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont",i=Ho;if(r&&r.biff>=8&&(Ho=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return Ho=i,l}function VAe(e){var t=Ho;Ho=1200;var r=e.read_shift(2),n=e.read_shift(1),a=n&4,i=n&8,o=1+(n&1),l=0,c,u={};i&&(l=e.read_shift(2)),a&&(c=e.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),a&&(e.l+=c),u.t=f,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),Ho=t,u}function zAe(e){var t=e.t||"",r=rt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=rt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Fa(a)}function Mm(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Bw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Mm(e,n,r)}function lp(e,t,r){if(r.biff>5)return Bw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function uae(e,t,r){return r||(r=rt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function qAe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function WAe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ji,"");return n&&(e.l+=24),a}function HAe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(ji,"");return r+o}function GAe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return WAe(e);case"0303000000000000c000000000000046":return HAe(e);default:throw new Error("Unsupported Moniker "+r)}}function z_(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ji,""):"";return r}function nV(e,t){t||(t=rt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function KAe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=z_(e,r-e.l)),a&128&&(o=z_(e,r-e.l)),(a&257)===257&&(l=z_(e,r-e.l)),(a&257)===1&&(c=GAe(e,r-e.l)),a&8&&(u=z_(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=fF(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function YAe(e){var t=rt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),nV(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&nV(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function dae(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function fae(e,t){var r=dae(e);return r[3]=0,r}function uu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Fm(e,t,r,n){return n||(n=rt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function XAe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function JAe(e,t,r){return t===0?"":lp(e,t,r)}function ZAe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function hae(e){var t=e.read_shift(2),r=cF(e);return[t,r]}function QAe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=$w(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function H2(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function mae(e,t){return t||(t=rt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function pae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ePe=pae;function gae(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function tPe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function rPe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function oi(e){e.l+=2,e.l+=e.read_shift(2)}var nPe={0:oi,4:oi,5:oi,6:oi,7:rPe,8:oi,9:oi,10:oi,11:oi,12:oi,13:tPe,14:oi,15:oi,16:oi,17:oi,18:oi,19:oi,20:oi,21:gae};function sPe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(nPe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function q_(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function hF(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=rt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function aPe(e,t){return t===0||e.read_shift(2),1200}function iPe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=lp(e,0,r);return e.read_shift(t+n-e.l),a}function oPe(e,t){var r=!t||t.biff==8,n=rt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function lPe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function cPe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=$w(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function uPe(e,t){var r=!t||t.biff>=8?2:1,n=rt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function dPe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(VAe(e));return i.Count=n,i.Unique=a,i}function fPe(e,t){var r=rt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=zAe(e[a]);var i=Fa([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function hPe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function mPe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function pPe(e){var t=XAe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function gPe(e){return e.read_shift(2),e.read_shift(4)}function sV(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function xPe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function vPe(){var e=rt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function yPe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function bPe(e){var t=rt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function wPe(){}function _Pe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=$w(e,0,r),n}function jPe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=rt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function NPe(e){var t=uu(e);return t.isst=e.read_shift(4),t}function SPe(e,t,r,n){var a=rt(10);return Fm(e,t,n,a),a.write_shift(4,r),a}function kPe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=uu(e);r.biff==2&&e.l++;var i=Bw(e,n-e.l,r);return a.val=i,a}function CPe(e,t,r,n,a){var i=!a||a.biff==8,o=rt(8+ +i+(1+i)*r.length);return Fm(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function EPe(e,t,r){var n=e.read_shift(2),a=lp(e,0,r);return[n,a]}function TPe(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var APe=lp;function aV(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function PPe(e,t){var r=t.biff==8||!t.biff?4:2,n=rt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function OPe(e){var t=e.read_shift(2),r=e.read_shift(2),n=hae(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function RPe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(hae(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function DPe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function IPe(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=pAe[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function MPe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=IPe(e,t,n.fStyle,r),n}function iV(e,t,r,n){var a=r&&r.biff==5;n||(n=rt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function FPe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function LPe(e){var t=rt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function oV(e,t,r){var n=uu(e);(r.biff==2||t==9)&&++e.l;var a=UAe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function $Pe(e,t,r,n,a,i){var o=rt(8);return Fm(e,t,n,o),cae(r,i,o),o}function BPe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=uu(e),a=vi(e);return n.val=a,n}function UPe(e,t,r,n){var a=rt(14);return Fm(e,t,n,a),Im(r,a),a}var lV=JAe;function VPe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Mm(e,i),l=[];n>e.l;)l.push(Bw(e));return[i,a,o,l]}function cV(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=QAe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var zPe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function uV(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Mm(e,o,r);a&32&&(u=zPe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:s3e(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function xae(e,t,r){if(r.biff<8)return qPe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ZAe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function qPe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=$w(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function WPe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Mm(e,n,r),o=Mm(e,a,r);return[i,o]}function HPe(e,t,r){var n=pae(e);e.l++;var a=e.read_shift(1);return t-=8,[a3e(e,t,r),a,n]}function dV(e,t,r){var n=ePe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,r3e(e,t,r)]}function GPe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function KPe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=lp(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function YPe(e,t,r){return KPe(e,t,r)}function XPe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(H2(e));return r}function JPe(e){var t=rt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)mae(e[r],t);return t}function ZPe(e,t,r){if(r&&r.biff<8)return e4e(e,t,r);var n=gae(e),a=sPe(e,t-22,n[1]);return{cmo:n,ft:a}}var QPe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function e4e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((QPe[n]||ki)(e,t,r)),{cmo:[a,n,i],ft:o}}function t4e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=qAe(e,6,r);var l=e.read_shift(2);e.read_shift(2),Ks(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Mm(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function r4e(e,t){var r=H2(e);e.l+=16;var n=KAe(e,t-24);return[r,n]}function n4e(e){var t=rt(24),r=bs(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Fa([t,YAe(e[1])])}function s4e(e,t){e.read_shift(2);var r=H2(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ji,""),[r,n]}function a4e(e){var t=e[1].Tooltip,r=rt(10+2*(t.length+1));r.write_shift(2,2048);var n=bs(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function i4e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=Y7[r]||r,r=e.read_shift(2),t[1]=Y7[r]||r,t}function o4e(e){return e||(e=rt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function l4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(fae(e));return r}function c4e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(fae(e));return r}function u4e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function vae(e,t,r){if(!r.cellStyles)return ki(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function d4e(e,t){var r=rt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function f4e(e,t){var r={};return t<32||(e.l+=16,r.header=vi(e),r.footer=vi(e),e.l+=2),r}function h4e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function m4e(e){for(var t=rt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var p4e=uu,g4e=lae,x4e=Bw;function v4e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function y4e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=uu(e);++e.l;var a=lp(e,t-7,r);return n.t="str",n.val=a,n}function b4e(e){var t=uu(e);++e.l;var r=vi(e);return t.t="n",t.val=r,t}function w4e(e,t,r){var n=rt(15);return qw(n,e,t),n.write_shift(8,r,"f"),n}function _4e(e){var t=uu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function j4e(e,t,r){var n=rt(9);return qw(n,e,t),n.write_shift(2,r),n}function N4e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function S4e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function k4e(e,t,r){var n=e.l+t,a=uu(e),i=e.read_shift(2),o=Mm(e,i,r);return e.l=n,a.t="str",a.val=o,a}var C4e=[2,3,48,49,131,139,140,245],QD=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=V2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Rf(1);switch(c.type){case"base64":d=$o(Jo(l));break;case"binary":d=$o(l);break;case"buffer":case"array":d=l;break}Ka(d,0);var f=d.read_shift(1),m=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var w=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var j=[],E={},S=Math.min(d.length,f==2?521:v-10-(p?264:0)),C=y?32:11;d.l<S&&d[d.l]!=13;)switch(E={},E.name=Zr.utils.decode(b,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,E.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),f==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&j.push(E),f!=2&&(d.l+=y?13:14),E.type){case"B":(!p||E.len!=8)&&c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var k=0,R=0;for(u[0]=[],R=0;R!=j.length;++R)u[0][R]=j[R].name;for(;g-- >0;){if(d[d.l]===42){d.l+=w;continue}for(++d.l,u[++k]=[],R=0,R=0;R!=j.length;++R){var O=d.slice(d.l,d.l+j[R].len);d.l+=j[R].len,Ka(O,0);var A=Zr.utils.decode(b,O);switch(j[R].type){case"C":A.trim().length&&(u[k][R]=A.replace(/\s+$/,""));break;case"D":A.length===8?u[k][R]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):u[k][R]=A;break;case"F":u[k][R]=parseFloat(A.trim());break;case"+":case"I":u[k][R]=y?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":u[k][R]=!0;break;case"N":case"F":u[k][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][R]="##MEMO##"+(y?parseInt(A.trim(),10):O.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(u[k][R]=+A||0);break;case"@":u[k][R]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[k][R]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[k][R]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][R]=-O.read_shift(-8,"f");break;case"B":if(p&&j[R].len==8){u[k][R]=O.read_shift(8,"f");break}case"G":case"P":O.l+=j[R].len;break;case"0":if(j[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[R].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=j,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=cx(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Kf(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&kl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=yo(),f=BN(l,{header:1,raw:!0,cellDates:!0}),m=f[0],p=f.slice(1),y=l["!cols"]||[],g=0,v=0,w=0,b=1;for(g=0;g<m.length;++g){if(((y[g]||{}).DBF||{}).name){m[g]=y[g].DBF.name,++w;continue}if(m[g]!=null){if(++w,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(v=0;v<1024;++v)if(m.indexOf(m[g]+"_"+v)==-1){m[g]+="_"+v;break}}}}var j=Xr(l["!ref"]),E=[],S=[],C=[];for(g=0;g<=j.e.c-j.s.c;++g){var k="",R="",O=0,A=[];for(v=0;v<p.length;++v)p[v][g]!=null&&A.push(p[v][g]);if(A.length==0||m[g]==null){E[g]="?";continue}for(v=0;v<A.length;++v){switch(typeof A[v]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=A[v]instanceof Date?"D":"C";break;default:R="C"}O=Math.max(O,String(A[v]).length),k=k&&k!=R?"C":R}O>250&&(O=250),R=((y[g]||{}).DBF||{}).type,R=="C"&&y[g].DBF.len>O&&(O=y[g].DBF.len),k=="B"&&R=="N"&&(k="N",C[g]=y[g].DBF.dec,O=y[g].DBF.len),S[g]=k=="C"||R=="N"?O:i[k]||0,b+=S[g],E[g]=k}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*w),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+t[Om]||3)<<8),g=0,v=0;g<m.length;++g)if(m[g]!=null){var D=d.next(32),F=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,F,"sbcs"),D.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),D.write_shift(4,v),D.write_shift(1,S[g]||i[E[g]]||0),D.write_shift(1,C[g]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),v+=S[g]||i[E[g]]||0}var L=d.next(264);for(L.write_shift(4,13),g=0;g<65;++g)L.write_shift(4,0);for(g=0;g<p.length;++g){var H=d.next(b);for(H.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(E[v]){case"L":H.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":H.write_shift(8,p[g][v]||0,"f");break;case"N":var W="0";for(typeof p[g][v]=="number"&&(W=p[g][v].toFixed(C[v]||0)),w=0;w<S[v]-W.length;++w)H.write_shift(1,32);H.write_shift(1,W,"sbcs");break;case"D":p[g][v]?(H.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[g][v]!=null?p[g][v]:"").slice(0,S[v]);for(H.write_shift(1,G,"sbcs"),w=0;w<S[v]-G.length;++w)H.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),yae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ps(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,p){var y=e[p];return typeof y=="number"?WD(y):y},n=function(m,p,y){var g=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?m:WD(g)};e["|"]=254;function a(m,p){switch(p.type){case"base64":return i(Jo(m),p);case"binary":return i(m,p);case"buffer":return i($r&&Buffer.isBuffer(m)?m.toString("binary"):Gf(m),p);case"array":return i(Dm(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var y=m.split(/[\n\r]+/),g=-1,v=-1,w=0,b=0,j=[],E=[],S=null,C={},k=[],R=[],O=[],A=0,P;for(+p.codepage>=0&&kl(+p.codepage);w!==y.length;++w){A=0;var D=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),F=D.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),L=F[0],H;if(D.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&E.push(D.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,G=!1,K=!1,I=!1,B=-1,Y=-1;for(b=1;b<F.length;++b)switch(F[b].charAt(0)){case"A":break;case"X":v=parseInt(F[b].slice(1))-1,G=!0;break;case"Y":for(g=parseInt(F[b].slice(1))-1,G||(v=0),P=j.length;P<=g;++P)j[P]=[];break;case"K":H=F[b].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(hc(H))?isNaN(x0(H).getDate())||(H=ns(H)):(H=hc(H),S!==null&&rp(S)&&(H=q2(H))),typeof Zr<"u"&&typeof H=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(H=Zr.utils.decode(p.codepage,H)),W=!0;break;case"E":I=!0;var z=Gg(F[b].slice(1),{r:g,c:v});j[g][v]=[j[g][v],z];break;case"S":K=!0,j[g][v]=[j[g][v],"S5S"];break;case"G":break;case"R":B=parseInt(F[b].slice(1))-1;break;case"C":Y=parseInt(F[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}if(W&&(j[g][v]&&j[g][v].length==2?j[g][v][0]=H:j[g][v]=H,S=null),K){if(I)throw new Error("SYLK shared formula cannot have own formula");var J=B>-1&&j[B][Y];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");j[g][v][1]=Fae(J[1],{r:g-B,c:v-Y})}break;case"F":var X=0;for(b=1;b<F.length;++b)switch(F[b].charAt(0)){case"X":v=parseInt(F[b].slice(1))-1,++X;break;case"Y":for(g=parseInt(F[b].slice(1))-1,P=j.length;P<=g;++P)j[P]=[];break;case"M":A=parseInt(F[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=E[parseInt(F[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=F[b].slice(1).split(" "),P=parseInt(O[0],10);P<=parseInt(O[1],10);++P)A=parseInt(O[2],10),R[P-1]=A===0?{hidden:!0}:{wch:A},Df(R[P-1]);break;case"C":v=parseInt(F[b].slice(1))-1,R[v]||(R[v]={});break;case"R":g=parseInt(F[b].slice(1))-1,k[g]||(k[g]={}),A>0?(k[g].hpt=A,k[g].hpx=y0(A)):A===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}X<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+D)}}return k.length>0&&(C["!rows"]=k),R.length>0&&(C["!cols"]=R),p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),[j,C]}function o(m,p){var y=a(m,p),g=y[0],v=y[1],w=cx(g,p);return Ps(v).forEach(function(b){w[b]=v[b]}),w}function l(m,p){return Kf(o(m,p),p)}function c(m,p,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+yF(m.f,{r:y,c:g}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,p){p.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=fb(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=hb(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,p){p.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*mb(y.hpx)+";"),v.length>2&&m.push(v+"R"+(g+1))})}function f(m,p){var y=["ID;PWXL;N;E"],g=[],v=Xr(m["!ref"]),w,b=Array.isArray(m),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var S=v.s.c;S<=v.e.c;++S){var C=or({r:E,c:S});w=b?(m[E]||[])[S]:m[C],!(!w||w.v==null&&(!w.f||w.F))&&g.push(c(w,m,E,S))}return y.join(j)+j+g.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),bae=(function(){function e(i,o){switch(o.type){case"base64":return t(Jo(i),o);case"binary":return t(i,o);case"buffer":return t($r&&Buffer.isBuffer(i)?i.toString("binary"):Gf(i),o);case"array":return t(Dm(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),p=m[0],y=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(hc(y))?isNaN(x0(y).getDate())?f[c][u]=y:f[c][u]=ns(y):f[c][u]=hc(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return cx(e(i,o),o)}function n(i,o){return Kf(r(i,o),o)}var a=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Xr(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var g=or({r:p,c:y});if(f=m?(c[p]||[])[y]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Zo(f.z||sr[14],Na(ns(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var w=`\r
`,b=u.join(w);return b}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),wae=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var p=f.split(`
`),y=-1,g=-1,v=0,w=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var j=bs(b[1]);if(w.length<=j.r)for(y=w.length;y<=j.r;++y)w[y]||(w[y]=[]);switch(y=j.r,g=j.c,b[2]){case"t":w[y][g]=e(b[3]);break;case"v":w[y][g]=+b[3];break;case"vtf":var E=b[b.length-1];case"vtc":switch(b[3]){case"nl":w[y][g]=!!+b[4];break;default:w[y][g]=+b[4];break}b[2]=="vtf"&&(w[y][g]=[w[y][g],E])}}}return m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),w}function n(f,m){return cx(r(f,m),m)}function a(f,m){return Kf(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],p=[],y,g="",v=Yi(f["!ref"]),w=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var j=v.s.c;j<=v.e.c;++j)if(g=or({r:b,c:j}),y=w?(f[b]||[])[j]:f[g],!(!y||y.v==null||y.t==="z")){switch(p=["cell",g,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var E=Na(ns(y.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=y.w||Zo(y.z||sr[14],E);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}})(),v0=(function(){function e(d,f,m,p,y){y.raw?f[m][p]=d:d===""||(d==="TRUE"?f[m][p]=!0:d==="FALSE"?f[m][p]=!1:isNaN(hc(d))?isNaN(x0(d).getDate())?f[m][p]=d:f[m][p]=ns(d):f[m][p]=hc(d))}function t(d,f){var m=f||{},p=[];if(!d||d.length===0)return p;for(var y=d.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,w=0,b=0;b<=g;++b)w=y[b].indexOf(" "),w==-1?w=y[b].length:w++,v=Math.max(v,w);for(b=0;b<=g;++b){p[b]=[];var j=0;for(e(y[b].slice(0,v).trim(),p,b,j,m),j=1;j<=(y[b].length-v)/10+1;++j)e(y[b].slice(v+(j-1)*10,v+j*10).trim(),p,b,j,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,p=0,y=0;p<d.length;++p)(y=d.charCodeAt(p))==34?m=!m:!m&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[y.pop()[1]]||44}function i(d,f){var m=f||{},p="",y=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):m&&m.FS?p=m.FS:p=a(d.slice(0,1024));var v=0,w=0,b=0,j=0,E=0,S=p.charCodeAt(0),C=!1,k=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=m.dateNF!=null?fTe(m.dateNF):null;function A(){var P=d.slice(j,E),D={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)D.t="z";else if(m.raw)D.t="s",D.v=P;else if(P.trim().length===0)D.t="s",D.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(D.t="s",D.v=P.slice(2,-1).replace(/""/g,'"')):VRe(P)?(D.t="n",D.f=P.slice(1)):(D.t="s",D.v=P);else if(P=="TRUE")D.t="b",D.v=!0;else if(P=="FALSE")D.t="b",D.v=!1;else if(!isNaN(b=hc(P)))D.t="n",m.cellText!==!1&&(D.w=P),D.v=b;else if(!isNaN(x0(P).getDate())||O&&P.match(O)){D.z=m.dateNF||sr[14];var F=0;O&&P.match(O)&&(P=hTe(P,m.dateNF,P.match(O)||[]),F=1),m.cellDates?(D.t="d",D.v=ns(P,F)):(D.t="n",D.v=Na(ns(P,F))),m.cellText!==!1&&(D.w=Zo(D.z,D.v instanceof Date?Na(D.v):D.v)),m.cellNF||delete D.z}else D.t="s",D.v=P;if(D.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][w]=D):y[or({c:w,r:v})]=D),j=E+1,R=d.charCodeAt(j),g.e.c<w&&(g.e.c=w),g.e.r<v&&(g.e.r=v),k==S)++w;else if(w=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;E<d.length;++E)switch(k=d.charCodeAt(E)){case 34:R===34&&(C=!C);break;case S:case 10:case 13:if(!C&&A())break e;break}return E-j>0&&A(),y["!ref"]=Ar(g),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):cx(t(d,f),f)}function l(d,f){var m="",p=f.type=="string"?[0,0,0,0]:EF(d,f);switch(f.type){case"base64":m=Jo(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof Zr<"u"?m=Zr.utils.decode(f.codepage,d):m=$r&&Buffer.isBuffer(d)?d.toString("binary"):Gf(d);break;case"array":m=Dm(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=On(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=On(m):f.type=="binary"&&typeof Zr<"u"&&f.codepage&&(m=Zr.utils.decode(f.codepage,Zr.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?wae.to_sheet(f.type=="string"?m:On(m),f):o(m,f)}function c(d,f){return Kf(l(d,f),f)}function u(d){for(var f=[],m=Xr(d["!ref"]),p,y=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var v=[],w=m.s.c;w<=m.e.c;++w){var b=or({r:g,c:w});if(p=y?(d[g]||[])[w]:d[b],!p||p.v==null){v.push("          ");continue}for(var j=(p.w||(ru(p),p.w)||"").slice(0,10);j.length<10;)j+=" ";v.push(j+(w===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function E4e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=yae.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return v0.to_workbook(e,t)}}var im=(function(){function e(z,J,X){if(z){Ka(z,z.l||0);for(var ee=X.Enum||B;z.l<z.length;){var he=z.read_shift(2),fe=ee[he]||ee[65535],ge=z.read_shift(2),U=z.l+ge,ne=fe.f&&fe.f(z,ge,X);if(z.l=U,J(ne,fe,he))return}}}function t(z,J){switch(J.type){case"base64":return r($o(Jo(z)),J);case"binary":return r($o(z),J);case"buffer":case"array":return r(z,J)}throw"Unsupported type "+J.type}function r(z,J){if(!z)return z;var X=J||{},ee=X.dense?[]:{},he="Sheet1",fe="",ge=0,U={},ne=[],Q=[],V={s:{r:0,c:0},e:{r:0,c:0}},ue=X.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)X.Enum=B,e(z,function(ie,qe,He){switch(He){case 0:X.vers=ie,ie>=4096&&(X.qpro=!0);break;case 6:V=ie;break;case 204:ie&&(fe=ie);break;case 222:fe=ie;break;case 15:case 51:X.qpro||(ie[1].v=ie[1].v.slice(1));case 13:case 14:case 16:He==14&&(ie[2]&112)==112&&(ie[2]&15)>1&&(ie[2]&15)<15&&(ie[1].z=X.dateNF||sr[14],X.cellDates&&(ie[1].t="d",ie[1].v=q2(ie[1].v))),X.qpro&&ie[3]>ge&&(ee["!ref"]=Ar(V),U[he]=ee,ne.push(he),ee=X.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},ge=ie[3],he=fe||"Sheet"+(ge+1),fe="");var de=X.dense?(ee[ie[0].r]||[])[ie[0].c]:ee[or(ie[0])];if(de){de.t=ie[1].t,de.v=ie[1].v,ie[1].z!=null&&(de.z=ie[1].z),ie[1].f!=null&&(de.f=ie[1].f);break}X.dense?(ee[ie[0].r]||(ee[ie[0].r]=[]),ee[ie[0].r][ie[0].c]=ie[1]):ee[or(ie[0])]=ie[1];break}},X);else if(z[2]==26||z[2]==14)X.Enum=Y,z[2]==14&&(X.qpro=!0,z.l=0),e(z,function(ie,qe,He){switch(He){case 204:he=ie;break;case 22:ie[1].v=ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ie[3]>ge&&(ee["!ref"]=Ar(V),U[he]=ee,ne.push(he),ee=X.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},ge=ie[3],he="Sheet"+(ge+1)),ue>0&&ie[0].r>=ue)break;X.dense?(ee[ie[0].r]||(ee[ie[0].r]=[]),ee[ie[0].r][ie[0].c]=ie[1]):ee[or(ie[0])]=ie[1],V.e.c<ie[0].c&&(V.e.c=ie[0].c),V.e.r<ie[0].r&&(V.e.r=ie[0].r);break;case 27:ie[14e3]&&(Q[ie[14e3][0]]=ie[14e3][1]);break;case 1537:Q[ie[0]]=ie[1],ie[0]==ge&&(he=ie[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(ee["!ref"]=Ar(V),U[fe||he]=ee,ne.push(fe||he),!Q.length)return{SheetNames:ne,Sheets:U};for(var oe={},Se=[],Ee=0;Ee<Q.length;++Ee)U[ne[Ee]]?(Se.push(Q[Ee]||ne[Ee]),oe[Q[Ee]]=U[Q[Ee]]||U[ne[Ee]]):(Se.push(Q[Ee]),oe[Q[Ee]]={"!ref":"A1"});return{SheetNames:Se,Sheets:oe}}function n(z,J){var X=J||{};if(+X.codepage>=0&&kl(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=yo(),he=Xr(z["!ref"]),fe=Array.isArray(z),ge=[];Nt(ee,0,i(1030)),Nt(ee,6,c(he));for(var U=Math.min(he.e.r,8191),ne=he.s.r;ne<=U;++ne)for(var Q=Es(ne),V=he.s.c;V<=he.e.c;++V){ne===he.s.r&&(ge[V]=ts(V));var ue=ge[V]+Q,oe=fe?(z[ne]||[])[V]:z[ue];if(!(!oe||oe.t=="z"))if(oe.t=="n")(oe.v|0)==oe.v&&oe.v>=-32768&&oe.v<=32767?Nt(ee,13,p(ne,V,oe.v)):Nt(ee,14,g(ne,V,oe.v));else{var Se=ru(oe);Nt(ee,15,f(ne,V,Se.slice(0,239)))}}return Nt(ee,1),ee.end()}function a(z,J){var X=J||{};if(+X.codepage>=0&&kl(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=yo();Nt(ee,0,o(z));for(var he=0,fe=0;he<z.SheetNames.length;++he)(z.Sheets[z.SheetNames[he]]||{})["!ref"]&&Nt(ee,27,I(z.SheetNames[he],fe++));var ge=0;for(he=0;he<z.SheetNames.length;++he){var U=z.Sheets[z.SheetNames[he]];if(!(!U||!U["!ref"])){for(var ne=Xr(U["!ref"]),Q=Array.isArray(U),V=[],ue=Math.min(ne.e.r,8191),oe=ne.s.r;oe<=ue;++oe)for(var Se=Es(oe),Ee=ne.s.c;Ee<=ne.e.c;++Ee){oe===ne.s.r&&(V[Ee]=ts(Ee));var ie=V[Ee]+Se,qe=Q?(U[oe]||[])[Ee]:U[ie];if(!(!qe||qe.t=="z"))if(qe.t=="n")Nt(ee,23,A(oe,Ee,ge,qe.v));else{var He=ru(qe);Nt(ee,22,k(oe,Ee,ge,He.slice(0,239)))}}++ge}}return Nt(ee,1),ee.end()}function i(z){var J=rt(2);return J.write_shift(2,z),J}function o(z){var J=rt(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var X=0,ee=0,he=0,fe=0;fe<z.SheetNames.length;++fe){var ge=z.SheetNames[fe],U=z.Sheets[ge];if(!(!U||!U["!ref"])){++he;var ne=Yi(U["!ref"]);X<ne.e.r&&(X=ne.e.r),ee<ne.e.c&&(ee=ne.e.c)}}return X>8191&&(X=8191),J.write_shift(2,X),J.write_shift(1,he),J.write_shift(1,ee),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function l(z,J,X){var ee={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&X.qpro?(ee.s.c=z.read_shift(1),z.l++,ee.s.r=z.read_shift(2),ee.e.c=z.read_shift(1),z.l++,ee.e.r=z.read_shift(2),ee):(ee.s.c=z.read_shift(2),ee.s.r=z.read_shift(2),J==12&&X.qpro&&(z.l+=2),ee.e.c=z.read_shift(2),ee.e.r=z.read_shift(2),J==12&&X.qpro&&(z.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(z){var J=rt(8);return J.write_shift(2,z.s.c),J.write_shift(2,z.s.r),J.write_shift(2,z.e.c),J.write_shift(2,z.e.r),J}function u(z,J,X){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(ee[0].c=z.read_shift(1),ee[3]=z.read_shift(1),ee[0].r=z.read_shift(2),z.l+=2):(ee[2]=z.read_shift(1),ee[0].c=z.read_shift(2),ee[0].r=z.read_shift(2)),ee}function d(z,J,X){var ee=z.l+J,he=u(z,J,X);if(he[1].t="s",X.vers==20768){z.l++;var fe=z.read_shift(1);return he[1].v=z.read_shift(fe,"utf8"),he}return X.qpro&&z.l++,he[1].v=z.read_shift(ee-z.l,"cstr"),he}function f(z,J,X){var ee=rt(7+X.length);ee.write_shift(1,255),ee.write_shift(2,J),ee.write_shift(2,z),ee.write_shift(1,39);for(var he=0;he<ee.length;++he){var fe=X.charCodeAt(he);ee.write_shift(1,fe>=128?95:fe)}return ee.write_shift(1,0),ee}function m(z,J,X){var ee=u(z,J,X);return ee[1].v=z.read_shift(2,"i"),ee}function p(z,J,X){var ee=rt(7);return ee.write_shift(1,255),ee.write_shift(2,J),ee.write_shift(2,z),ee.write_shift(2,X,"i"),ee}function y(z,J,X){var ee=u(z,J,X);return ee[1].v=z.read_shift(8,"f"),ee}function g(z,J,X){var ee=rt(13);return ee.write_shift(1,255),ee.write_shift(2,J),ee.write_shift(2,z),ee.write_shift(8,X,"f"),ee}function v(z,J,X){var ee=z.l+J,he=u(z,J,X);if(he[1].v=z.read_shift(8,"f"),X.qpro)z.l=ee;else{var fe=z.read_shift(2);E(z.slice(z.l,z.l+fe),he),z.l+=fe}return he}function w(z,J,X){var ee=J&32768;return J&=-32769,J=(ee?z:0)+(J>=8192?J-16384:J),(ee?"":"$")+(X?ts(J):Es(J))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(z,J){Ka(z,0);for(var X=[],ee=0,he="",fe="",ge="",U="";z.l<z.length;){var ne=z[z.l++];switch(ne){case 0:X.push(z.read_shift(8,"f"));break;case 1:fe=w(J[0].c,z.read_shift(2),!0),he=w(J[0].r,z.read_shift(2),!1),X.push(fe+he);break;case 2:{var Q=w(J[0].c,z.read_shift(2),!0),V=w(J[0].r,z.read_shift(2),!1);fe=w(J[0].c,z.read_shift(2),!0),he=w(J[0].r,z.read_shift(2),!1),X.push(Q+V+":"+fe+he)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(z.read_shift(2));break;case 6:{for(var ue="";ne=z[z.l++];)ue+=String.fromCharCode(ne);X.push('"'+ue.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:U=X.pop(),ge=X.pop(),X.push(["AND","OR"][ne-20]+"("+ge+","+U+")");break;default:if(ne<32&&j[ne])U=X.pop(),ge=X.pop(),X.push(ge+j[ne]+U);else if(b[ne]){if(ee=b[ne][1],ee==69&&(ee=z[z.l++]),ee>X.length){console.error("WK1 bad formula parse 0x"+ne.toString(16)+":|"+X.join("|")+"|");return}var oe=X.slice(-ee);X.length-=ee,X.push(b[ne][0]+"("+oe.join(",")+")")}else return ne<=7?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=24?console.error("WK1 unsupported op "+ne.toString(16)):ne<=30?console.error("WK1 invalid opcode "+ne.toString(16)):ne<=115?console.error("WK1 unsupported function opcode "+ne.toString(16)):console.error("WK1 unrecognized opcode "+ne.toString(16))}}X.length==1?J[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function S(z){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=z.read_shift(2),J[3]=z[z.l++],J[0].c=z[z.l++],J}function C(z,J){var X=S(z);return X[1].t="s",X[1].v=z.read_shift(J-4,"cstr"),X}function k(z,J,X,ee){var he=rt(6+ee.length);he.write_shift(2,z),he.write_shift(1,X),he.write_shift(1,J),he.write_shift(1,39);for(var fe=0;fe<ee.length;++fe){var ge=ee.charCodeAt(fe);he.write_shift(1,ge>=128?95:ge)}return he.write_shift(1,0),he}function R(z,J){var X=S(z);X[1].v=z.read_shift(2);var ee=X[1].v>>1;if(X[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return X[1].v=ee,X}function O(z,J){var X=S(z),ee=z.read_shift(4),he=z.read_shift(4),fe=z.read_shift(2);if(fe==65535)return ee===0&&he===3221225472?(X[1].t="e",X[1].v=15):ee===0&&he===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ge=fe&32768;return fe=(fe&32767)-16446,X[1].v=(1-ge*2)*(he*Math.pow(2,fe+32)+ee*Math.pow(2,fe)),X}function A(z,J,X,ee){var he=rt(14);if(he.write_shift(2,z),he.write_shift(1,X),he.write_shift(1,J),ee==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var fe=0,ge=0,U=0,ne=0;return ee<0&&(fe=1,ee=-ee),ge=Math.log2(ee)|0,ee/=Math.pow(2,ge-31),ne=ee>>>0,(ne&2147483648)==0&&(ee/=2,++ge,ne=ee>>>0),ee-=ne,ne|=2147483648,ne>>>=0,ee*=Math.pow(2,32),U=ee>>>0,he.write_shift(4,U),he.write_shift(4,ne),ge+=16383+(fe?32768:0),he.write_shift(2,ge),he}function P(z,J){var X=O(z);return z.l+=J-14,X}function D(z,J){var X=S(z),ee=z.read_shift(4);return X[1].v=ee>>6,X}function F(z,J){var X=S(z),ee=z.read_shift(8,"f");return X[1].v=ee,X}function L(z,J){var X=F(z);return z.l+=J-10,X}function H(z,J){return z[z.l+J-1]==0?z.read_shift(J,"cstr"):""}function W(z,J){var X=z[z.l++];X>J-1&&(X=J-1);for(var ee="";ee.length<X;)ee+=String.fromCharCode(z[z.l++]);return ee}function G(z,J,X){if(!(!X.qpro||J<21)){var ee=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var he=z.read_shift(J-21,"cstr");return[ee,he]}}function K(z,J){for(var X={},ee=z.l+J;z.l<ee;){var he=z.read_shift(2);if(he==14e3){for(X[he]=[0,""],X[he][0]=z.read_shift(2);z[z.l];)X[he][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return X}function I(z,J){var X=rt(5+z.length);X.write_shift(2,14e3),X.write_shift(2,J);for(var ee=0;ee<z.length;++ee){var he=z.charCodeAt(ee);X[X.l++]=he>127?95:he}return X[X.l++]=0,X}var B={0:{n:"BOF",f:Ks},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}})();function T4e(e){var t={},r=e.match(Ci),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=mr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=V5[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var A4e=(function(){var e=ob("t"),t=ob("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:sn(o[1])},c=i.match(t);return c&&(l.s=T4e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}})(),P4e=(function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),O4e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,R4e=/<(?:\w+:)?r>/,D4e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function mF(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=sn(On(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=On(e),r&&(n.h=X5(n.t))):e.match(R4e)&&(n.r=On(e),n.t=sn(On((e.replace(D4e,"").match(O4e)||[]).join("").replace(Ci,""))),r&&(n.h=P4e(A4e(n.r)))),n):{t:""}}var I4e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,M4e=/<(?:\w+:)?(?:si|sstItem)>/g,F4e=/<\/(?:\w+:)?(?:si|sstItem)>/;function L4e(e,t){var r=[],n="";if(!e)return r;var a=e.match(I4e);if(a){n=a[2].replace(M4e,"").split(F4e);for(var i=0;i!=n.length;++i){var o=mF(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=mr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var $4e=/^\s|\s$|[\t\n\r]/;function _ae(e,t){if(!t.bookSST)return"";var r=[zs];r[r.length]=jt("sst",null,{xmlns:np[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match($4e)&&(i+=' xml:space="preserve"'),i+=">"+Tn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function B4e(e){return[e.read_shift(4),e.read_shift(4)]}function U4e(e,t){var r=[],n=!1;return cd(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function V4e(e,t){return t||(t=rt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var z4e=QTe;function q4e(e){var t=yo();lt(t,159,V4e(e));for(var r=0;r<e.length;++r)lt(t,19,z4e(e[r]));return lt(t,160),t.end()}function jae(e){if(typeof Zr<"u")return Zr.utils.encode(Om,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Vu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function W4e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Vu(e,4),t.U=Vu(e,4),t.W=Vu(e,4),t}function H4e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function G4e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(H4e(e));return t}function K4e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Y4e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Vu(e,4),t.U=Vu(e,4),t.W=Vu(e,4),t}function X4e(e){var t=Y4e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Nae(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Sae(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function J4e(e){var t=Vu(e);switch(t.Minor){case 2:return[t.Minor,Z4e(e)];case 3:return[t.Minor,Q4e()];case 4:return[t.Minor,eOe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Z4e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Nae(e,r),a=Sae(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Q4e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function eOe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ci,function(i){var o=mr(i);switch(cu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function tOe(e,t){var r={},n=r.EncryptionVersionInfo=Vu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Nae(e,a),t-=a,r.EncryptionVerifier=Sae(e,t),r}function rOe(e){var t={},r=t.EncryptionVersionInfo=Vu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function pF(e){var t=0,r,n=jae(e),a=n.length+1,i,o,l,c,u;for(r=Rf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var kae=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=jae(o),c=i(l),u=l.length,d=Rf(16),f=0;f!=16;++f)d[f]=0;var m,p,y;for((u&1)===1&&(m=c>>8,d[u]=a(e[0],m),--u,m=c&255,p=l[l.length-1],d[u]=a(p,m));u>0;)--u,m=c>>8,d[u]=a(l[u],m),--u,m=c&255,d[u]=a(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=a(e[y],m),--u,--y,m=c&255,d[u]=a(l[u],m),--u,--y;return d}})(),nOe=function(e,t,r,n,a){a||(a=t),n||(n=kae(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},sOe=function(e){var t=0,r=kae(e);return function(n){var a=nOe("",n,t,r);return t=a[1],a[0]}};function aOe(e,t,r,n){var a={key:Ks(e),verificationBytes:Ks(e)};return r.password&&(a.verifier=pF(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=sOe(r.password)),a}function iOe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=rOe(e):n.Data=tOe(e,t),n}function oOe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?iOe(e,t-2,n):aOe(e,r.biff>=8?t:t-2,r,n),n}var Cae=(function(){function e(a,i){switch(i.type){case"base64":return t(Jo(a),i);case"binary":return t(a,i);case"buffer":return t($r&&Buffer.isBuffer(a)?a.toString("binary"):Gf(a),i);case"array":return t(Dm(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,p=0,y,g=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(p,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var w={v,t:"s"};Array.isArray(l)?l[f][g]=w:l[or({r:f,c:g})]=w}break}p=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Ar(u),l}function r(a,i){return Kf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Xr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=or({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ru(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function lOe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function db(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function cOe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function uOe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function FN(e,t){if(t===0)return e;var r=cOe(lOe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),db(uOe(r))}var Eae=6,dOe=15,fOe=1,hi=Eae;function fb(e){return Math.floor((e+Math.round(128/hi)/256)*hi)}function hb(e){return Math.floor((e-5)/hi*100+.5)/100}function LN(e){return Math.round((e*hi+5)/hi*256)/256}function IT(e){return LN(hb(fb(e)))}function gF(e){var t=Math.abs(e-IT(e)),r=hi;if(t>.005)for(hi=fOe;hi<dOe;++hi)Math.abs(e-IT(e))<=t&&(t=Math.abs(e-IT(e)),r=hi);hi=r}function Df(e){e.width?(e.wpx=fb(e.width),e.wch=hb(e.wpx),e.MDW=hi):e.wpx?(e.wch=hb(e.wpx),e.width=LN(e.wch),e.MDW=hi):typeof e.wch=="number"&&(e.width=LN(e.wch),e.wpx=fb(e.width),e.MDW=hi),e.customWidth&&delete e.customWidth}var hOe=96,Tae=hOe;function mb(e){return e*96/Tae}function y0(e){return e*Tae/96}var mOe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function pOe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ci)||[]).forEach(function(o){var l=mr(o);switch(cu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=es(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=es(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function gOe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ci)||[]).forEach(function(o){var l=mr(o);switch(cu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function xOe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ci)||[]).forEach(function(o){var l=mr(o);switch(cu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=On(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?es(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?es(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?es(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?es(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?es(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?es(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?es(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=V5[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=es(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=sm[a.color.index];a.color.index==81&&(c=sm[1]),c||(c=sm[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=FN(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function vOe(e,t,r){t.NumberFmt=[];for(var n=Ps(sr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=sr[n[a]];var i=e[0].match(Ci);if(i)for(a=0;a<i.length;++a){var o=mr(i[a]);switch(cu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=sn(On(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Kc(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function yOe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=jt("numFmt",null,{numFmtId:n,formatCode:Tn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=jt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var W_=["numFmtId","fillId","fontId","borderId","xfId"],H_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function bOe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ci)||[]).forEach(function(i){var o=mr(i),l=0;switch(cu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<W_.length;++l)n[W_[l]]&&(n[W_[l]]=parseInt(n[W_[l]],10));for(l=0;l<H_.length;++l)n[H_[l]]&&(n[H_[l]]=es(n[H_[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=es(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function wOe(e){var t=[];return t[t.length]=jt("cellXfs",null),e.forEach(function(r){t[t.length]=jt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=jt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var _Oe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&vOe(f,d,u),(f=l.match(a))&&xOe(f,d,c,u),(f=l.match(n))&&gOe(f,d,c,u),(f=l.match(i))&&pOe(f,d,c,u),(f=l.match(r))&&bOe(f,d,u),d}})();function Aae(e,t){var r=[zs,jt("styleSheet",null,{xmlns:np[0],"xmlns:vt":wa.vt})],n;return e.SSF&&(n=yOe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=wOe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function jOe(e,t){var r=e.read_shift(2),n=Ni(e);return[r,n]}function NOe(e,t,r){r||(r=rt(6+4*t.length)),r.write_shift(2,e),La(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function SOe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=iAe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=aAe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ni(e),n}function kOe(e,t){t||(t=rt(153)),t.write_shift(2,e.sz*20),oAe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),DN(e.color,t);var n=0;return n=2,t.write_shift(1,n),La(e.name,t),t.length>t.l?t.slice(0,t.l):t}var COe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],MT,EOe=ki;function fV(e,t){t||(t=rt(84)),MT||(MT=V2(COe));var r=MT[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(DN({auto:1},t),DN({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function TOe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Pae(e,t,r){r||(r=rt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function fv(e,t){return t||(t=rt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var AOe=ki;function POe(e,t){return t||(t=rt(51)),t.write_shift(1,0),fv(null,t),fv(null,t),fv(null,t),fv(null,t),fv(null,t),t.length>t.l?t.slice(0,t.l):t}function OOe(e,t){return t||(t=rt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),RN(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ROe(e,t,r){var n=rt(2052);return n.write_shift(4,e),RN(t,n),RN(r,n),n.length>n.l?n.slice(0,n.l):n}function DOe(e,t,r){var n={};n.NumberFmt=[];for(var a in sr)n.NumberFmt[a]=sr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return cd(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Kc(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=FN(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function IOe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(lt(e,615,mc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&lt(e,44,NOe(a,t[a]))}),lt(e,616))}}function MOe(e){var t=1;lt(e,611,mc(t)),lt(e,43,kOe({sz:12,color:{theme:1},name:"Calibri",family:2})),lt(e,612)}function FOe(e){var t=2;lt(e,603,mc(t)),lt(e,45,fV({patternType:"none"})),lt(e,45,fV({patternType:"gray125"})),lt(e,604)}function LOe(e){var t=1;lt(e,613,mc(t)),lt(e,46,POe()),lt(e,614)}function $Oe(e){var t=1;lt(e,626,mc(t)),lt(e,47,Pae({numFmtId:0},65535)),lt(e,627)}function BOe(e,t){lt(e,617,mc(t.length)),t.forEach(function(r){lt(e,47,Pae(r,0))}),lt(e,618)}function UOe(e){var t=1;lt(e,619,mc(t)),lt(e,48,OOe({xfId:0,name:"Normal"})),lt(e,620)}function VOe(e){var t=0;lt(e,505,mc(t)),lt(e,506)}function zOe(e){var t=0;lt(e,508,ROe(t,"TableStyleMedium9","PivotStyleMedium4")),lt(e,509)}function qOe(e,t){var r=yo();return lt(r,278),IOe(r,e.SSF),MOe(r),FOe(r),LOe(r),$Oe(r),BOe(r,t.cellXfs),UOe(r),VOe(r),zOe(r),lt(r,279),r.end()}var WOe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function HOe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ci)||[]).forEach(function(a){var i=mr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[WOe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function GOe(){}function KOe(){}var YOe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,XOe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,JOe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZOe(e,t,r){t.themeElements={};var n;[["clrScheme",YOe,HOe],["fontScheme",XOe,GOe],["fmtScheme",JOe,KOe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var QOe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Oae(e,t){(!e||e.length===0)&&(e=xF());var r,n={};if(!(r=e.match(QOe)))throw new Error("themeElements not found in theme");return ZOe(r[0],n,t),n.raw=e,n}function xF(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[zs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eRe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=Ese(i,{type:"array"})}catch{return}var l=Bo(o,"theme/theme/theme1.xml",!0);if(l)return Oae(l,r)}}function tRe(e){return e.read_shift(4)}function rRe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=nRe(e,4);break;case 2:t.xclrValue=dae(e);break;case 3:t.xclrValue=tRe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function nRe(e,t){return ki(e,t)}function sRe(e,t){return ki(e,t)}function aRe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=rRe(e);break;case 6:n[1]=sRe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function iRe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(aRe(e,r-e.l));return{ixfe:n,ext:i}}function oRe(e,t){t.forEach(function(r){r[0]})}function lRe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ni(e)}}function cRe(e){var t=rt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),La(e.name,t),t.slice(0,t.l)}function uRe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function dRe(e){var t=rt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function fRe(e,t){var r=rt(8+2*t.length);return r.write_shift(4,e),La(t,r),r.slice(0,r.l)}function hRe(e){return e.l+=4,e.read_shift(4)!=0}function mRe(e,t){var r=rt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function pRe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return cd(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function gRe(){var e=yo();return lt(e,332),lt(e,334,mc(1)),lt(e,335,cRe({name:"XLDAPR",version:12e4,flags:3496657072})),lt(e,336),lt(e,339,fRe(1,"XLDAPR")),lt(e,52),lt(e,35,mc(514)),lt(e,4096,mc(0)),lt(e,4097,xl(1)),lt(e,36),lt(e,53),lt(e,340),lt(e,337,mRe(1)),lt(e,51,dRe([[1,0]])),lt(e,338),lt(e,333),e.end()}function xRe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Ci,function(l){var c=mr(l);switch(cu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function Rae(){var e=[zs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function vRe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ci)||[]).forEach(function(n){var a=mr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function yRe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=or(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function bRe(e,t,r){var n=[];return cd(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function wRe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;cd(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function _Re(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var bg=1024;function Dae(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[jt("xml",null,{"xmlns:v":Mo.v,"xmlns:o":Mo.o,"xmlns:x":Mo.x,"xmlns:mv":Mo.mv}).replace(/\/>/,">"),jt("o:shapelayout",jt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),jt("v:shapetype",[jt("v:stroke",null,{joinstyle:"miter"}),jt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];bg<e*1e3;)bg+=1e3;return t.forEach(function(i){var o=bs(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?jt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=jt("v:fill",c,l),d={on:"t",obscured:"t"};++bg,a=a.concat(["<v:shape"+lb({id:"_x0000_s"+bg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,jt("v:shadow",null,d),jt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ja("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ja("x:AutoFill","False"),Ja("x:Row",String(o.r)),Ja("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function hV(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=bs(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Xr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Ar(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function jRe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=mr(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=bs(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&mF(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function Iae(e){var t=[zs,jt("comments",null,{xmlns:np[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Tn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Tn(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ja("t",Tn(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ja("t",Tn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function NRe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ci,function(l,c){var u=mr(l);switch(cu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function SRe(e,t,r){var n=[zs,jt("ThreadedComments",null,{xmlns:wa.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(jt("threadedComment",Ja("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function kRe(e,t){var r=[],n=!1;return e.replace(Ci,function(i){var o=mr(i);switch(cu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function CRe(e){var t=[zs,jt("personList",null,{xmlns:wa.TCMNT,"xmlns:x":np[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(jt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ERe(e){var t={};t.iauthor=e.read_shift(4);var r=op(e);return t.rfx=r.s,t.ref=or(r.s),e.l+=16,t}function TRe(e,t){return t==null&&(t=rt(36)),t.write_shift(4,e[1].iauthor),ux(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var ARe=Ni;function PRe(e){return La(e.slice(0,54))}function ORe(e,t){var r=[],n=[],a={},i=!1;return cd(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function RRe(e){var t=yo(),r=[];return lt(t,628),lt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),lt(t,632,PRe(a.a)))})}),lt(t,631),lt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:bs(n[0]),e:bs(n[0])};lt(t,635,TRe([i,a])),a.t&&a.t.length>0&&lt(t,637,tAe(a)),lt(t,636),delete a.iauthor})}),lt(t,634),lt(t,629),t.end()}var DRe="application/vnd.ms-office.vbaProject";function IRe(e){var t=Jt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Jt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Jt.write(t)}function MRe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Jt.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Mae=["xlsb","xlsm","xlam","biff8","xla"];function FRe(){return{"!type":"dialog"}}function LRe(){return{"!type":"dialog"}}function $Re(){return{"!type":"macro"}}function BRe(){return{"!type":"macro"}}var Gg=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ts(d)+(c?"":"$")+Es(u)}return function(a,i){return t=i,a.replace(e,r)}})(),vF=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,yF=(function(){return function(t,r){return t.replace(vF,function(n,a,i,o,l,c){var u=aF(o)-(i?0:r.c),d=sF(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function Fae(e,t){return e.replace(vF,function(r,n,a,i,o,l){return n+(a=="$"?a+i:ts(aF(i)+t.c))+(o=="$"?o+l:Es(sF(l)+t.r))})}function URe(e,t,r){var n=Yi(t),a=n.s,i=bs(r),o={r:i.r-a.r,c:i.c-a.c};return Fae(e,o)}function VRe(e){return e.length!=1}function mV(e){return e.replace(/_xlfn\./g,"")}function Ws(e){e.l+=1}function If(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Lae(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return $ae(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=If(e),l=If(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function $ae(e){var t=If(e),r=If(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function zRe(e,t,r){if(r.biff<8)return $ae(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=If(e),o=If(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Bae(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return qRe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=If(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function qRe(e){var t=If(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function WRe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function HRe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return GRe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function GRe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function KRe(e,t,r){var n=(e[e.l++]&96)>>5,a=Lae(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function YRe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Lae(e,i,r);return[n,a,o]}function XRe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function JRe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function ZRe(e,t,r){var n=(e[e.l++]&96)>>5,a=zRe(e,t-1,r);return[n,a]}function QRe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function pV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function eDe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function tDe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function rDe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function nDe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function sDe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Uae(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function aDe(e){return e.read_shift(2),Uae(e)}function iDe(e){return e.read_shift(2),Uae(e)}function oDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Bae(e,0,r);return[n,a]}function lDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=HRe(e,0,r);return[n,a]}function cDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Bae(e,0,r);return[n,a,i]}function uDe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[h3e[a],qae[a],n]}function dDe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:fDe(e);return[a,(i[0]===0?qae:f3e)[i[1]]]}function fDe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function hDe(e,t,r){e.l+=r&&r.biff==2?3:4}function mDe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function pDe(e){return e.l++,ud[e.read_shift(1)]}function gDe(e){return e.l++,e.read_shift(2)}function xDe(e){return e.l++,e.read_shift(1)!==0}function vDe(e){return e.l++,vi(e)}function yDe(e,t,r){return e.l++,$w(e,t-1,r)}function bDe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ds(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ud[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=vi(e);break;case 2:r[1]=lp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function wDe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?op:H2)(e));return a}function _De(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=bDe(e,r.biff);return o}function jDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function NDe(e,t,r){if(r.biff==5)return SDe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function SDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function kDe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function CDe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function EDe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function TDe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var ADe=ki,PDe=ki,ODe=ki;function Uw(e,t,r){return e.l+=2,[WRe(e)]}function bF(e){return e.l+=6,[]}var RDe=Uw,DDe=bF,IDe=bF,MDe=Uw;function Vae(e){return e.l+=2,[Ks(e),e.read_shift(2)&1]}var FDe=Uw,LDe=Vae,$De=bF,BDe=Uw,UDe=Uw,VDe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function zDe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=VDe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function qDe(e){return e.l+=2,[e.read_shift(4)]}function WDe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function HDe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function GDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function KDe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function YDe(e){return e.l+=4,[0,0]}var gV={1:{n:"PtgExp",f:mDe},2:{n:"PtgTbl",f:ODe},3:{n:"PtgAdd",f:Ws},4:{n:"PtgSub",f:Ws},5:{n:"PtgMul",f:Ws},6:{n:"PtgDiv",f:Ws},7:{n:"PtgPower",f:Ws},8:{n:"PtgConcat",f:Ws},9:{n:"PtgLt",f:Ws},10:{n:"PtgLe",f:Ws},11:{n:"PtgEq",f:Ws},12:{n:"PtgGe",f:Ws},13:{n:"PtgGt",f:Ws},14:{n:"PtgNe",f:Ws},15:{n:"PtgIsect",f:Ws},16:{n:"PtgUnion",f:Ws},17:{n:"PtgRange",f:Ws},18:{n:"PtgUplus",f:Ws},19:{n:"PtgUminus",f:Ws},20:{n:"PtgPercent",f:Ws},21:{n:"PtgParen",f:Ws},22:{n:"PtgMissArg",f:Ws},23:{n:"PtgStr",f:yDe},26:{n:"PtgSheet",f:WDe},27:{n:"PtgEndSheet",f:HDe},28:{n:"PtgErr",f:pDe},29:{n:"PtgBool",f:xDe},30:{n:"PtgInt",f:gDe},31:{n:"PtgNum",f:vDe},32:{n:"PtgArray",f:QRe},33:{n:"PtgFunc",f:uDe},34:{n:"PtgFuncVar",f:dDe},35:{n:"PtgName",f:jDe},36:{n:"PtgRef",f:oDe},37:{n:"PtgArea",f:KRe},38:{n:"PtgMemArea",f:kDe},39:{n:"PtgMemErr",f:ADe},40:{n:"PtgMemNoMem",f:PDe},41:{n:"PtgMemFunc",f:CDe},42:{n:"PtgRefErr",f:EDe},43:{n:"PtgAreaErr",f:XRe},44:{n:"PtgRefN",f:lDe},45:{n:"PtgAreaN",f:ZRe},46:{n:"PtgMemAreaN",f:GDe},47:{n:"PtgMemNoMemN",f:KDe},57:{n:"PtgNameX",f:NDe},58:{n:"PtgRef3d",f:cDe},59:{n:"PtgArea3d",f:YRe},60:{n:"PtgRefErr3d",f:TDe},61:{n:"PtgAreaErr3d",f:JRe},255:{}},XDe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},JDe={1:{n:"PtgElfLel",f:Vae},2:{n:"PtgElfRw",f:BDe},3:{n:"PtgElfCol",f:RDe},6:{n:"PtgElfRwV",f:UDe},7:{n:"PtgElfColV",f:MDe},10:{n:"PtgElfRadical",f:FDe},11:{n:"PtgElfRadicalS",f:$De},13:{n:"PtgElfColS",f:DDe},15:{n:"PtgElfColSV",f:IDe},16:{n:"PtgElfRadicalLel",f:LDe},25:{n:"PtgList",f:zDe},29:{n:"PtgSxName",f:qDe},255:{}},ZDe={0:{n:"PtgAttrNoop",f:YDe},1:{n:"PtgAttrSemi",f:sDe},2:{n:"PtgAttrIf",f:rDe},4:{n:"PtgAttrChoose",f:eDe},8:{n:"PtgAttrGoto",f:tDe},16:{n:"PtgAttrSum",f:hDe},32:{n:"PtgAttrBaxcel",f:pV},33:{n:"PtgAttrBaxcel",f:pV},64:{n:"PtgAttrSpace",f:aDe},65:{n:"PtgAttrSpaceSemi",f:iDe},128:{n:"PtgAttrIfError",f:nDe},255:{}};function Vw(e,t,r,n){if(n.biff<8)return ki(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=_De(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=wDe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(ki(e,t)),i}function zw(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=gV[i]||gV[XDe[i]],(i===24||i===25)&&(a=(i===24?JDe:ZDe)[e[e.l+1]]),!a||!a.f?ki(e,t):o.push([a.n,a.f(e,t,r)]);return o}function QDe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var e3e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function t3e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function zae(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function xV(e,t,r){var n=zae(e,t,r);return n=="#REF"?n:t3e(n,r)}function fi(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,p,y="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",w=0,b=e[0].length;w<b;++w){var j=e[0][w];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=js(" ",e[0][g][1][1]);break;case 1:v=js("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+e3e[j[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=py(j[1][1],o,a),l.push(gy(d,i));break;case"PtgRefN":d=r?py(j[1][1],r,a):j[1][1],l.push(gy(d,i));break;case"PtgRef3d":f=j[1][1],d=py(j[1][2],o,a),y=xV(n,f,a),l.push(y+"!"+gy(d,i));break;case"PtgFunc":case"PtgFuncVar":var E=j[1][0],S=j[1][1];E||(E=0),E&=127;var C=E==0?[]:l.slice(-E);l.length-=E,S==="User"&&(S=C.shift()),l.push(S+"("+C.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":p=H7(j[1][1],r?{s:r}:o,a),l.push(OT(p,a));break;case"PtgArea":p=H7(j[1][1],o,a),l.push(OT(p,a));break;case"PtgArea3d":f=j[1][1],p=j[1][2],y=xV(n,f,a),l.push(y+"!"+OT(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=j[1][2];var k=(n.names||[])[m-1]||(n[0]||[])[m],R=k?k.Name:"SH33TJSNAME"+String(m);R&&R.slice(0,6)=="_xlfn."&&!a.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var O=j[1][1];m=j[1][2];var A;if(a.biff<=5)O<0&&(O=-O),n[O]&&(A=n[O][m]);else{var P="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][m]&&n[O][m].itab>0&&(P=n.SheetNames[n[O][m].itab-1]+"!"):P=n.SheetNames[m-1]+"!"),n[O]&&n[O][m])P+=n[O][m].Name;else if(n[0]&&n[0][m])P+=n[0][m].Name;else{var D=(zae(n,O,a)||"").split(";;");D[m-1]?P=D[m-1]:P+="SH33TJSERRX"}l.push(P);break}A||(A={Name:"SH33TJSERRY"}),l.push(A.Name);break;case"PtgParen":var F="(",L=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:F=js(" ",e[0][g][1][1])+F;break;case 3:F=js("\r",e[0][g][1][1])+F;break;case 4:L=js(" ",e[0][g][1][1])+L;break;case 5:L=js("\r",e[0][g][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(F+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:j[1][1],r:j[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[or(d)]){var W=n.sharedf[or(d)];l.push(fi(W,o,H,n,a))}else{var G=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(fi(u[1],o,H,n,a)),G=!0;break}G||l.push(j[1])}break;case"PtgArray":l.push("{"+QDe(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&K.indexOf(e[0][w][0])==-1){j=e[0][g];var I=!0;switch(j[1][0]){case 4:I=!1;case 0:v=js(" ",j[1][1]);break;case 5:I=!1;case 1:v=js("\r",j[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((I?v:"")+l.pop()+(I?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function r3e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],ki(e,t-2)];var l=zw(e,o,r);return t!==o+a&&(i=Vw(e,t-o-a,l,r)),e.l=n,[l,i]}function n3e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],ki(e,t-2)];var l=zw(e,o,r);return t!==o+a&&(i=Vw(e,t-o-a,l,r)),e.l=n,[l,i]}function s3e(e,t,r,n){var a=e.l+t,i=zw(e,n,r),o;return a!==e.l&&(o=Vw(e,a-e.l,i,r)),[i,o]}function a3e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=zw(e,i,r);return i==65535?[[],ki(e,t-2)]:(t!==i+2&&(a=Vw(e,n-i-2,o,r)),[o,a])}function i3e(e){var t;if(Du(e,e.l+6)!==65535)return[vi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function o3e(e){if(e==null){var t=rt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Im(e);return Im(0)}function FT(e,t,r){var n=e.l+t,a=uu(e);r.biff==2&&++e.l;var i=i3e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=n3e(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function l3e(e,t,r,n,a){var i=Fm(t,r,a),o=o3e(e.v),l=rt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=rt(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Fa([i,o,l,u]);return f}function G2(e,t,r){var n=e.read_shift(4),a=zw(e,n,r),i=e.read_shift(4),o=i>0?Vw(e,i,a,r):null;return[a,o]}var c3e=G2,K2=G2,u3e=G2,d3e=G2,f3e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},qae={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},h3e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vV(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function m3e(e){var t="of:="+e.replace(vF,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function LT(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function p3e(e){return e.replace(/\./,"!")}var vy={},Kg={},yy=typeof Map<"u";function wF(e,t,r){var n=0,a=e.length;if(r){if(yy?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=yy?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(yy?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Y2(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(hi=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=hb(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=LN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function om(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Yf(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Kc(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Wae(e,t,r,n,a,i){try{n.cellNF&&(e.z=sr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ns(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(sr[t]==null&&Kc(dTe[t]||"General",t),e.t==="e")e.w=e.w||ud[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ib(e.v);else if(e.t==="d"){var o=Na(e.v);(o|0)===o?e.w=o.toString(10):e.w=ib(o)}else{if(e.v===void 0)return"";e.w=Rm(e.v,Kg)}else e.t==="d"?e.w=Zo(t,Na(e.v),Kg):e.w=Zo(t,e.v,Kg)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=FN(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=FN(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function g3e(e,t,r){if(e&&e["!ref"]){var n=Xr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function x3e(e,t){var r=Xr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Ar(r))}var v3e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,y3e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,b3e=/<(?:\w:)?hyperlink [^>]*>/mg,w3e=/"(\w*:\w*)"/,_3e=/<(?:\w:)?col\b[^>]*[\/]?>/g,j3e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,N3e=/<(?:\w:)?pageMargins[^>]*\/>/g,Hae=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,S3e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,k3e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function C3e(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(y3e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(Hae);m?_F(m[0],l,a,r):(m=u.match(S3e))&&T3e(m[0],m[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=u.slice(p,p+50).match(w3e);y&&x3e(l,y[1])}var g=u.match(k3e);g&&g[1]&&V3e(g[1],a);var v=[];if(t.cellStyles){var w=u.match(_3e);w&&F3e(v,w)}f&&W3e(f[1],l,t,c,i,o);var b=d.match(j3e);b&&(l["!autofilter"]=$3e(b[0]));var j=[],E=d.match(v3e);if(E)for(p=0;p!=E.length;++p)j[p]=Xr(E[p].slice(E[p].indexOf('"')+1));var S=d.match(b3e);S&&D3e(l,S,n);var C=d.match(N3e);if(C&&(l["!margins"]=I3e(mr(C[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Ar(c)),t.sheetRows>0&&l["!ref"]){var k=Xr(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ar(k))}return v.length>0&&(l["!cols"]=v),j.length>0&&(l["!merges"]=j),l}function E3e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ar(e[r])+'"/>';return t+"</mergeCells>"}function _F(e,t,r,n){var a=mr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=sn(On(a.codeName)))}function T3e(e,t,r,n,a){_F(e.slice(0,e.indexOf(">")),r,n,a)}function A3e(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Vc(Tn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+jt("outlinePr",null,u)}!i&&!l||(a[a.length]=jt("sheetPr",l,o))}var P3e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],O3e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function R3e(e){var t={sheet:1};return P3e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),O3e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=pF(e.password).toString(16).toUpperCase()),jt("sheetProtection",null,t)}function D3e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=mr(On(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+sn(i.location))):(i.Target="#"+sn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Xr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=or({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function I3e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function M3e(e){return om(e),jt("pageMargins",null,e)}function F3e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=mr(t[n],!0);a.hidden&&(a.hidden=es(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,gF(a.width)),Df(a);i<=o;)e[i++]=Un(a)}}function L3e(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=jt("col",null,Y2(a,n)));return r[r.length]="</cols>",r.join("")}function $3e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function B3e(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Ar(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Yi(a);o.s.r==o.e.r&&(o.e.r=Yi(t["!ref"]).e.r,a=Ar(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),jt("autoFilter",null,{ref:a})}var U3e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function V3e(e,t){t.Views||(t.Views=[{}]),(e.match(U3e)||[]).forEach(function(r,n){var a=mr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),es(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function z3e(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),jt("sheetViews",jt("sheetView",null,a),{})}function q3e(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=ud[e.v];break;case"d":n&&n.cellDates?a=ns(e.v,-1).toISOString():(e=Un(e),e.t="n",a=""+(e.v=Na(ns(e.v)))),typeof e.z>"u"&&(e.z=sr[14]);break;default:a=e.v;break}var l=Ja("v",Tn(a)),c={r:t},u=Yf(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ja("v",""+wF(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=jt("f",Tn(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),jt("c",l,c)}var W3e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=ob("v"),o=ob("f");return function(c,u,d,f,m,p){for(var y=0,g="",v=[],w=[],b=0,j=0,E=0,S="",C,k,R=0,O=0,A,P,D=0,F=0,L=Array.isArray(p.CellXf),H,W=[],G=[],K=Array.isArray(u),I=[],B={},Y=!1,z=!!d.sheetStubs,J=c.split(t),X=0,ee=J.length;X!=ee;++X){g=J[X].trim();var he=g.length;if(he!==0){var fe=0;e:for(y=0;y<he;++y)switch(g[y]){case">":if(g[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(k=mr(g.slice(fe,y),!0),R=k.r!=null?parseInt(k.r,10):R+1,O=-1,d.sheetRows&&d.sheetRows<R)continue;B={},Y=!1,k.ht&&(Y=!0,B.hpt=parseFloat(k.ht),B.hpx=y0(B.hpt)),k.hidden=="1"&&(Y=!0,B.hidden=!0),k.outlineLevel!=null&&(Y=!0,B.level=+k.outlineLevel),Y&&(I[R-1]=B)}break;case"<":fe=y;break}if(fe>=y)break;if(k=mr(g.slice(fe,y),!0),R=k.r!=null?parseInt(k.r,10):R+1,O=-1,!(d.sheetRows&&d.sheetRows<R)){f.s.r>R-1&&(f.s.r=R-1),f.e.r<R-1&&(f.e.r=R-1),d&&d.cellStyles&&(B={},Y=!1,k.ht&&(Y=!0,B.hpt=parseFloat(k.ht),B.hpx=y0(B.hpt)),k.hidden=="1"&&(Y=!0,B.hidden=!0),k.outlineLevel!=null&&(Y=!0,B.level=+k.outlineLevel),Y&&(I[R-1]=B)),v=g.slice(y).split(e);for(var ge=0;ge!=v.length&&v[ge].trim().charAt(0)=="<";++ge);for(v=v.slice(ge),y=0;y!=v.length;++y)if(g=v[y].trim(),g.length!==0){if(w=g.match(r),b=y,j=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,w!=null&&w.length===2){for(b=0,S=w[1],j=0;j!=S.length&&!((E=S.charCodeAt(j)-64)<1||E>26);++j)b=26*b+E;--b,O=b}else++O;for(j=0;j!=g.length&&g.charCodeAt(j)!==62;++j);if(++j,k=mr(g.slice(0,j),!0),k.r||(k.r=or({r:R-1,c:O})),S=g.slice(j),C={t:""},(w=S.match(i))!=null&&w[1]!==""&&(C.v=sn(w[1])),d.cellFormula){if((w=S.match(o))!=null&&w[1]!==""){if(C.f=sn(On(w[1])).replace(/\r\n/g,`
`),d.xlfn||(C.f=mV(C.f)),w[0].indexOf('t="array"')>-1)C.F=(S.match(a)||[])[1],C.F.indexOf(":")>-1&&W.push([Xr(C.F),C.F]);else if(w[0].indexOf('t="shared"')>-1){P=mr(w[0]);var U=sn(On(w[1]));d.xlfn||(U=mV(U)),G[parseInt(P.si,10)]=[P,U,k.r]}}else(w=S.match(/<f[^>]*\/>/))&&(P=mr(w[0]),G[P.si]&&(C.f=URe(G[P.si][1],G[P.si][2],k.r)));var ne=bs(k.r);for(j=0;j<W.length;++j)ne.r>=W[j][0].s.r&&ne.r<=W[j][0].e.r&&ne.c>=W[j][0].s.c&&ne.c<=W[j][0].e.c&&(C.F=W[j][1])}if(k.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(z)C.t="z";else continue;else C.t=k.t||"n";switch(f.s.c>O&&(f.s.c=O),f.e.c<O&&(f.e.c=O),C.t){case"n":if(C.v==""||C.v==null){if(!z)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!z)continue;C.t="z"}else A=vy[parseInt(C.v,10)],C.v=A.t,C.r=A.r,d.cellHTML&&(C.h=A.h);break;case"str":C.t="s",C.v=C.v!=null?On(C.v):"",d.cellHTML&&(C.h=X5(C.v));break;case"inlineStr":w=S.match(n),C.t="s",w!=null&&(A=mF(w[1]))?(C.v=A.t,d.cellHTML&&(C.h=A.h)):C.v="";break;case"b":C.v=es(C.v);break;case"d":d.cellDates?C.v=ns(C.v,1):(C.v=Na(ns(C.v,1)),C.t="n");break;case"e":(!d||d.cellText!==!1)&&(C.w=C.v),C.v=Kse[C.v];break}if(D=F=0,H=null,L&&k.s!==void 0&&(H=p.CellXf[k.s],H!=null&&(H.numFmtId!=null&&(D=H.numFmtId),d.cellStyles&&H.fillId!=null&&(F=H.fillId))),Wae(C,D,F,d,m,p),d.cellDates&&L&&C.t=="n"&&rp(sr[D])&&(C.t="d",C.v=q2(C.v)),k.cm&&d.xlmeta){var Q=(d.xlmeta.Cell||[])[+k.cm-1];Q&&Q.type=="XLDAPR"&&(C.D=!0)}if(K){var V=bs(k.r);u[V.r]||(u[V.r]=[]),u[V.r][V.c]=C}else u[k.r]=C}}}}I.length>0&&(u["!rows"]=I)}})();function H3e(e,t,r,n){var a=[],i=[],o=Xr(e["!ref"]),l="",c,u="",d=[],f=0,m=0,p=e["!rows"],y=Array.isArray(e),g={r:u},v,w=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=ts(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Es(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var b=y?(e[f]||[])[m]:e[c];b!==void 0&&(l=q3e(b,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[f])&&(g={r:u},p&&p[f]&&(v=p[f],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=mb(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=jt("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},v=p[f],v.hidden&&(g.hidden=1),w=-1,v.hpx?w=mb(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(g.ht=w,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=jt("row","",g));return a.join("")}function Gae(e,t,r,n){var a=[zs,jt("worksheet",null,{xmlns:np[0],"xmlns:r":wa.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Xr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Ar(d)}n||(n={}),c["!comments"]=[];var f=[];A3e(c,r,e,t,a),a[a.length]=jt("dimension",null,{ref:u}),a[a.length]=z3e(c,t,e,r),t.sheetFormat&&(a[a.length]=jt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=L3e(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=H3e(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=R3e(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=B3e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=E3e(c["!merges"]));var m=-1,p,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Nn(n,-1,Tn(g[1].Target).replace(/#.*$/,""),qr.HLINK),p["r:id"]="rId"+y),(m=g[1].Target.indexOf("#"))>-1&&(p.location=Tn(g[1].Target.slice(m+1))),g[1].Tooltip&&(p.tooltip=Tn(g[1].Tooltip)),a[a.length]=jt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=M3e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ja("ignoredErrors",jt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=Nn(n,-1,"../drawings/drawing"+(e+1)+".xml",qr.DRAW),a[a.length]=jt("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=Nn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",qr.VML),a[a.length]=jt("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function G3e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function K3e(e,t,r){var n=rt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=mb(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[or(u)];y&&(f<0&&(f=p),m=p)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function Y3e(e,t,r,n){var a=K3e(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&lt(e,0,a)}var X3e=op,J3e=ux;function Z3e(){}function Q3e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=rAe(e),r}function eIe(e,t,r){r==null&&(r=rt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return DN({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),zse(e,r),r.slice(0,r.l)}function tIe(e){var t=Bl(e);return[t]}function rIe(e,t,r){return r==null&&(r=rt(8)),sp(t,r)}function nIe(e){var t=ap(e);return[t]}function sIe(e,t,r){return r==null&&(r=rt(4)),ip(t,r)}function aIe(e){var t=Bl(e),r=e.read_shift(1);return[t,r,"b"]}function iIe(e,t,r){return r==null&&(r=rt(9)),sp(t,r),r.write_shift(1,e.v?1:0),r}function oIe(e){var t=ap(e),r=e.read_shift(1);return[t,r,"b"]}function lIe(e,t,r){return r==null&&(r=rt(5)),ip(t,r),r.write_shift(1,e.v?1:0),r}function cIe(e){var t=Bl(e),r=e.read_shift(1);return[t,r,"e"]}function uIe(e,t,r){return r==null&&(r=rt(9)),sp(t,r),r.write_shift(1,e.v),r}function dIe(e){var t=ap(e),r=e.read_shift(1);return[t,r,"e"]}function fIe(e,t,r){return r==null&&(r=rt(8)),ip(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function hIe(e){var t=Bl(e),r=e.read_shift(4);return[t,r,"s"]}function mIe(e,t,r){return r==null&&(r=rt(12)),sp(t,r),r.write_shift(4,t.v),r}function pIe(e){var t=ap(e),r=e.read_shift(4);return[t,r,"s"]}function gIe(e,t,r){return r==null&&(r=rt(8)),ip(t,r),r.write_shift(4,t.v),r}function xIe(e){var t=Bl(e),r=vi(e);return[t,r,"n"]}function vIe(e,t,r){return r==null&&(r=rt(16)),sp(t,r),Im(e.v,r),r}function Kae(e){var t=ap(e),r=vi(e);return[t,r,"n"]}function yIe(e,t,r){return r==null&&(r=rt(12)),ip(t,r),Im(e.v,r),r}function bIe(e){var t=Bl(e),r=cF(e);return[t,r,"n"]}function wIe(e,t,r){return r==null&&(r=rt(12)),sp(t,r),qse(e.v,r),r}function _Ie(e){var t=ap(e),r=cF(e);return[t,r,"n"]}function jIe(e,t,r){return r==null&&(r=rt(8)),ip(t,r),qse(e.v,r),r}function NIe(e){var t=Bl(e),r=iF(e);return[t,r,"is"]}function SIe(e){var t=Bl(e),r=Ni(e);return[t,r,"str"]}function kIe(e,t,r){return r==null&&(r=rt(12+4*e.v.length)),sp(t,r),La(e.v,r),r.length>r.l?r.slice(0,r.l):r}function CIe(e){var t=ap(e),r=Ni(e);return[t,r,"str"]}function EIe(e,t,r){return r==null&&(r=rt(8+4*e.v.length)),ip(t,r),La(e.v,r),r.length>r.l?r.slice(0,r.l):r}function TIe(e,t,r){var n=e.l+t,a=Bl(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=K2(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}function AIe(e,t,r){var n=e.l+t,a=Bl(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=K2(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}function PIe(e,t,r){var n=e.l+t,a=Bl(e);a.r=r["!row"];var i=vi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=K2(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}function OIe(e,t,r){var n=e.l+t,a=Bl(e);a.r=r["!row"];var i=Ni(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=K2(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}var RIe=op,DIe=ux;function IIe(e,t){return t==null&&(t=rt(4)),t.write_shift(4,e),t}function MIe(e,t){var r=e.l+t,n=op(e),a=oF(e),i=Ni(e),o=Ni(e),l=Ni(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function FIe(e,t){var r=rt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ux({s:bs(e[0]),e:bs(e[0])},r),lF("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return La(a||"",r),La(e[1].Tooltip||"",r),La("",r),r.slice(0,r.l)}function LIe(){}function $Ie(e,t,r){var n=e.l+t,a=Wse(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=c3e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function BIe(e,t,r){var n=e.l+t,a=op(e),i=[a];if(r.cellFormula){var o=d3e(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function UIe(e,t,r){r==null&&(r=rt(18));var n=Y2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Yae=["left","right","top","bottom","header","footer"];function VIe(e){var t={};return Yae.forEach(function(r){t[r]=vi(e)}),t}function zIe(e,t){return t==null&&(t=rt(48)),om(e),Yae.forEach(function(r){Im(e[r],t)}),t}function qIe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function WIe(e,t,r){r==null&&(r=rt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function HIe(e){var t=rt(24);return t.write_shift(4,4),t.write_shift(4,1),ux(e,t),t}function GIe(e,t){return t==null&&(t=rt(66)),t.write_shift(2,e.password?pF(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function KIe(){}function YIe(){}function XIe(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,p,y,g,v,w,b,j,E,S,C=[];l.biff=12,l["!row"]=0;var k=0,R=!1,O=[],A={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=A,P.arrayf=O,P.SheetNames=a.SheetNames||a.Sheets.map(function(K){return K.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var D=0;D<a.Names.length;++D)P[0][D+1]=a.Names[D];var F=[],L=[],H=!1;pb[16]={n:"BrtShortReal",f:Kae};var W;if(cd(e,function(I,B,Y){if(!m)switch(Y){case 148:u=I;break;case 0:p=I,l.sheetRows&&l.sheetRows<=p.r&&(m=!0),E=Es(v=p.r),l["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=y0(I.hpt)),L[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:I[2]},I[2]){case"n":y.v=I[1];break;case"s":j=vy[I[1]],y.v=j.t,y.r=j.r;break;case"b":y.v=!!I[1];break;case"e":y.v=I[1],l.cellText!==!1&&(y.w=ud[y.v]);break;case"str":y.t="s",y.v=I[1];break;case"is":y.t="s",y.v=I[1].t;break}if((g=o.CellXf[I[0].iStyleRef])&&Wae(y,g.numFmtId,null,l,i,o),w=I[0].c==-1?w+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][w]=y):c[ts(w)+E]=y,l.cellFormula){for(R=!1,k=0;k<O.length;++k){var z=O[k];p.r>=z[0].s.r&&p.r<=z[0].e.r&&w>=z[0].s.c&&w<=z[0].e.c&&(y.F=Ar(z[0]),R=!0)}!R&&I.length>3&&(y.f=I[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>w&&(d.s.c=w),d.e.r<p.r&&(d.e.r=p.r),d.e.c<w&&(d.e.c=w),l.cellDates&&g&&y.t=="n"&&rp(sr[g.numFmtId])){var J=nf(y.v);J&&(y.t="d",y.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}W&&(W.type=="XLDAPR"&&(y.D=!0),W=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;y={t:"z",v:void 0},w=I[0].c==-1?w+1:I[0].c,l.dense?(c[v]||(c[v]=[]),c[v][w]=y):c[ts(w)+E]=y,d.s.r>p.r&&(d.s.r=p.r),d.s.c>w&&(d.s.c=w),d.e.r<p.r&&(d.e.r=p.r),d.e.c<w&&(d.e.c=w),W&&(W.type=="XLDAPR"&&(y.D=!0),W=void 0);break;case 176:C.push(I);break;case 49:W=((l.xlmeta||{}).Cell||[])[I-1];break;case 494:var X=n["!id"][I.relId];for(X?(I.Target=X.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=X):I.relId==""&&(I.Target="#"+I.loc),v=I.rfx.s.r;v<=I.rfx.e.r;++v)for(w=I.rfx.s.c;w<=I.rfx.e.c;++w)l.dense?(c[v]||(c[v]=[]),c[v][w]||(c[v][w]={t:"z",v:void 0}),c[v][w].l=I):(b=or({c:w,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=I);break;case 426:if(!l.cellFormula)break;O.push(I),S=l.dense?c[v][w]:c[ts(w)+E],S.f=fi(I[1],d,{r:p.r,c:w},P,l),S.F=Ar(I[0]);break;case 427:if(!l.cellFormula)break;A[or(I[0].s)]=I[1],S=l.dense?c[v][w]:c[ts(w)+E],S.f=fi(I[1],d,{r:p.r,c:w},P,l);break;case 60:if(!l.cellStyles)break;for(;I.e>=I.s;)F[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},H||(H=!0,gF(I.w/256)),Df(F[I.e+1]);break;case 161:c["!autofilter"]={ref:Ar(I)};break;case 476:c["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(c["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!B.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Ar(u||d)),l.sheetRows&&c["!ref"]){var G=Xr(c["!ref"]);l.sheetRows<=+G.e.r&&(G.e.r=l.sheetRows-1,G.e.r>d.e.r&&(G.e.r=d.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>d.e.c&&(G.e.c=d.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ar(G))}return C.length>0&&(c["!merges"]=C),F.length>0&&(c["!cols"]=F),L.length>0&&(c["!rows"]=L),c}function JIe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Un(t),t.z=t.z||sr[14],t.v=Na(ns(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Yf(a.cellXfs,t,a),t.l&&i["!links"].push([or(c),t.l]),t.c&&i["!comments"].push([or(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=wF(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?lt(e,18,gIe(t,c)):lt(e,7,mIe(t,c))):(c.t="str",o?lt(e,17,EIe(t,c)):lt(e,6,kIe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?lt(e,13,jIe(t,c)):lt(e,2,wIe(t,c)):o?lt(e,16,yIe(t,c)):lt(e,5,vIe(t,c)),!0;case"b":return c.t="b",o?lt(e,15,lIe(t,c)):lt(e,4,iIe(t,c)),!0;case"e":return c.t="e",o?lt(e,14,fIe(t,c)):lt(e,3,uIe(t,c)),!0}return o?lt(e,12,sIe(t,c)):lt(e,1,rIe(t,c)),!0}function ZIe(e,t,r,n){var a=Xr(t["!ref"]||"A1"),i,o="",l=[];lt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Es(d),Y3e(e,t,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=ts(m)),i=l[m]+o;var p=c?(t[d]||[])[m]:t[i];if(!p){f=!1;continue}f=JIe(e,p,d,m,n,t,f)}}lt(e,146)}function QIe(e,t){!t||!t["!merges"]||(lt(e,177,IIe(t["!merges"].length)),t["!merges"].forEach(function(r){lt(e,176,DIe(r))}),lt(e,178))}function eMe(e,t){!t||!t["!cols"]||(lt(e,390),t["!cols"].forEach(function(r,n){r&&lt(e,60,UIe(n,r))}),lt(e,391))}function tMe(e,t){!t||!t["!ref"]||(lt(e,648),lt(e,649,HIe(Xr(t["!ref"]))),lt(e,650))}function rMe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Nn(r,-1,n[1].Target.replace(/#.*$/,""),qr.HLINK);lt(e,494,FIe(n,a))}}),delete t["!links"]}function nMe(e,t,r,n){if(t["!comments"].length>0){var a=Nn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",qr.VML);lt(e,551,lF("rId"+a)),t["!legacy"]=a}}function sMe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Ar(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Yi(i);l.s.r==l.e.r&&(l.e.r=Yi(t["!ref"]).e.r,i=Ar(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),lt(e,161,ux(Xr(i))),lt(e,162)}}function aMe(e,t,r){lt(e,133),lt(e,137,WIe(t,r)),lt(e,138),lt(e,134)}function iMe(e,t){t["!protect"]&&lt(e,535,GIe(t["!protect"]))}function oMe(e,t,r,n){var a=yo(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Xr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],lt(a,129),(r.vbaraw||o["!outline"])&&lt(a,147,eIe(l,o["!outline"])),lt(a,148,J3e(c)),aMe(a,o,r.Workbook),eMe(a,o),ZIe(a,o,e,t),iMe(a,o),sMe(a,o,r,e),QIe(a,o),rMe(a,o,n),o["!margins"]&&lt(a,476,zIe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&tMe(a,o),nMe(a,o,e,n),lt(a,130),a.end()}function lMe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=sn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function cMe(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=lMe(f);d.s.r=d.s.c=0,d.e.c=l,u=ts(l),m[0].forEach(function(p,y){o[u+Es(y)]={t:"n",v:p,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Ar(d)),o}function uMe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(Hae);return l&&_F(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function dMe(e,t){e.l+=10;var r=Ni(e);return{name:r}}function fMe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return cd(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var jF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],hMe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mMe=[],pMe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function yV(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=es(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function bV(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=es(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Xae(e){bV(e.WBProps,jF),bV(e.CalcPr,pMe),yV(e.WBView,hMe),yV(e.Sheets,mMe),Kg.date1904=es(e.WBProps.date1904)}function gMe(e){return!e.Workbook||!e.Workbook.WBProps?"false":es(e.Workbook.WBProps.date1904)?"true":"false"}var xMe="][*?/\\".split("");function Jae(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return xMe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function vMe(e,t,r){e.forEach(function(n,a){Jae(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Zae(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];vMe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)g3e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var yMe=/<\w+:workbook/;function bMe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Ci,function(c,u){var d=mr(c);switch(cu(d[0])){case"<?xml":break;case"<workbook":c.match(yMe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":jF.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=es(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=On(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=sn(On(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=On(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),es(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=sn(On(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),np.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Xae(r),r}function Qae(e){var t=[zs];t[t.length]=jt("workbook",null,{xmlns:np[0],"xmlns:r":wa.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(jF.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=jt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Tn(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=jt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=jt("definedName",Tn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wMe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=GD(e),r.name=Ni(e),r}function _Me(e,t){return t||(t=rt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),lF(e.strRelID,t),La(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function jMe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ni(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function NMe(e,t){t||(t=rt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),zse(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function SMe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function kMe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=nAe(e),o=u3e(e,0,r),l=oF(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function CMe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],pb[16]={n:"BrtFRTArchID$",f:SMe},cd(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=fi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Xae(r),r.Names=i,r.supbooks=o,r}function EMe(e,t){lt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};lt(e,156,_Me(a))}lt(e,144)}function TMe(e,t){t||(t=rt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return La("SheetJS",t),La(sb.version,t),La(sb.version,t),La("7262",t),t.length>t.l?t.slice(0,t.l):t}function AMe(e,t){t||(t=rt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function PMe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(lt(e,135),lt(e,158,AMe(a)),lt(e,136))}}function OMe(e,t){var r=yo();return lt(r,131),lt(r,128,TMe()),lt(r,153,NMe(e.Workbook&&e.Workbook.WBProps||null)),PMe(r,e),EMe(r,e),lt(r,132),r.end()}function RMe(e,t,r){return t.slice(-4)===".bin"?CMe(e,r):bMe(e,r)}function DMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?XIe(e,n,r,a,i,o,l):C3e(e,n,r,a,i,o,l)}function IMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?fMe(e,n,r,a,i):uMe(e,n,r,a,i)}function MMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?$Re():BRe()}function FMe(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?FRe():LRe()}function LMe(e,t,r,n){return t.slice(-4)===".bin"?DOe(e,r,n):_Oe(e,r,n)}function $Me(e,t,r){return Oae(e,r)}function BMe(e,t,r){return t.slice(-4)===".bin"?U4e(e,r):L4e(e,r)}function UMe(e,t,r){return t.slice(-4)===".bin"?ORe(e,r):jRe(e,r)}function VMe(e,t,r){return t.slice(-4)===".bin"?bRe(e):vRe(e)}function zMe(e,t,r,n){return r.slice(-4)===".bin"?wRe(e,t,r,n):void 0}function qMe(e,t,r){return t.slice(-4)===".bin"?pRe(e,t,r):xRe(e,t,r)}function WMe(e,t,r){return(t.slice(-4)===".bin"?OMe:Qae)(e)}function HMe(e,t,r,n,a){return(t.slice(-4)===".bin"?oMe:Gae)(e,r,n,a)}function GMe(e,t,r){return(t.slice(-4)===".bin"?qOe:Aae)(e,r)}function KMe(e,t,r){return(t.slice(-4)===".bin"?q4e:_ae)(e,r)}function YMe(e,t,r){return(t.slice(-4)===".bin"?RRe:Iae)(e)}function XMe(e){return(e.slice(-4)===".bin"?gRe:Rae)()}var eie=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,tie=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xl(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(eie),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(tie),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function JMe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(eie),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(tie),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var by;function ZMe(e,t){var r=by[e]||sn(e);return r==="General"?Rm(t):Zo(r,t)}function QMe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=es(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ns(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[sn(t)]=a}function e5e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ud[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ib(e.v):e.w=Rm(e.v):e.w=ZMe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=by[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&rp(n)){var a=nf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function t5e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=mOe[n.Pattern]||n.Pattern)}e[t.ID]=t}function r5e(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var p=[],y=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=es(e);break;case"String":n.t="s",n.r=F7(sn(e)),n.v=e.indexOf("<")>-1?sn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ns(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=sn(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Kse[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=F7(t||e));break}if(e5e(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=sn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Gg(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Gg("RC:RC",a):n.ArrayRange&&(n.F=Gg(n.ArrayRange,a),c.push([Xr(n.F),n.F]))}else for(y=0;y<c.length;++y)a.r>=c[y][0].s.r&&a.r<=c[y][0].e.r&&a.c>=c[y][0].s.c&&a.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(p.forEach(function(v){!m.patternType&&v.patternType&&(m.patternType=v.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function n5e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function $T(e,t){var r=t||{};ox();var n=yg(J5(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof Zr<"u"?n=Zr.utils.decode(65001,CN(n)):n=On(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Un(r);return o.type="string",v0.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(qe){a.indexOf("<"+qe)>=0&&(i=!0)}),i)return $5e(n,r);by={"General Number":"General","General Date":sr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":sr[15],"Short Date":sr[14],"Long Time":sr[19],"Medium Time":sr[18],"Short Time":sr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:sr[2],Standard:sr[4],Percent:sr[10],Scientific:sr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},p="",y={},g={},v=Xl('<Data ss:Type="String">'),w=0,b=0,j=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},C={},k="",R=0,O=[],A={},P={},D=0,F=[],L=[],H={},W=[],G,K=!1,I=[],B=[],Y={},z=0,J=0,X={Sheets:[],WBProps:{date1904:!1}},ee={};cb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";l=cb.exec(n);)switch(l[3]=(he=l[3]).toLowerCase()){case"data":if(he=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?r5e(n.slice(w,l.index),k,v,c[c.length-1][0]=="comment"?H:y,{c:b,r:j},S,W[b],g,I,r):(k="",v=Xl(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(L.length>0&&(y.c=L),(!r.sheetRows||r.sheetRows>j)&&y.v!==void 0&&(r.dense?(m[j]||(m[j]=[]),m[j][b]=y):m[ts(b)+Es(j)]=y),y.HRef&&(y.l={Target:sn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(z=b+(parseInt(y.MergeAcross,10)|0),J=j+(parseInt(y.MergeDown,10)|0),O.push({s:{c:b,r:j},e:{c:z,r:J}})),!r.sheetStubs)y.MergeAcross?b=z+1:++b;else if(y.MergeAcross||y.MergeDown){for(var fe=b;fe<=z;++fe)for(var ge=j;ge<=J;++ge)(fe>b||ge>j)&&(r.dense?(m[ge]||(m[ge]=[]),m[ge][fe]={t:"z"}):m[ts(fe)+Es(ge)]={t:"z"});b=z+1}else++b;else y=JMe(l[0]),y.Index&&(b=+y.Index-1),b<E.s.c&&(E.s.c=b),b>E.e.c&&(E.e.c=b),l[0].slice(-2)==="/>"&&++b,L=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(j<E.s.r&&(E.s.r=j),j>E.e.r&&(E.e.r=j),l[0].slice(-2)==="/>"&&(g=Xl(l[0]),g.Index&&(j=+g.Index-1)),b=0,++j):(g=Xl(l[0]),g.Index&&(j=+g.Index-1),Y={},(g.AutoFitHeight=="0"||g.Height)&&(Y.hpx=parseInt(g.Height,10),Y.hpt=mb(Y.hpx),B[j]=Y),g.Hidden=="1"&&(Y.hidden=!0,B[j]=Y));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(m["!ref"]=Ar(E),r.sheetRows&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=Ar(E))),O.length&&(m["!merges"]=O),W.length>0&&(m["!cols"]=W),B.length>0&&(m["!rows"]=B),d[p]=m}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=b=0,c.push([l[3],!1]),u=Xl(l[0]),p=sn(u.Name),m=r.dense?[]:{},O=[],I=[],B=[],ee={name:p,Hidden:0},X.Sheets.push(ee);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),W=[],K=!1}break;case"style":l[1]==="/"?t5e(S,C,r):C=Xl(l[0]);break;case"numberformat":C.nf=sn(Xl(l[0]).Format||"General"),by[C.nf]&&(C.nf=by[C.nf]);for(var U=0;U!=392&&sr[U]!=C.nf;++U);if(U==392){for(U=57;U!=392;++U)if(sr[U]==null){Kc(C.nf,U);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(G=Xl(l[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!K&&G.wpx>10){K=!0,hi=Eae;for(var ne=0;ne<W.length;++ne)W[ne]&&Df(W[ne])}K&&Df(G),W[G.Index-1||W.length]=G;for(var Q=0;Q<+G.Span;++Q)W[W.length]=Un(G);break;case"namedrange":if(l[1]==="/")break;X.Names||(X.Names=[]);var V=mr(l[0]),ue={Name:V.Name,Ref:Gg(V.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(ue.Sheet=X.Sheets.length-1),X.Names.push(ue);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?k+=n.slice(R,l.index):R=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=Xl(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?EAe(A,he,n.slice(D,l.index)):D=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));n5e(H),L.push(H)}else c.push([l[3],!1]),u=Xl(l[0]),H={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var oe=Xl(l[0]);m["!autofilter"]={ref:Gg(oe.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return SV(n,r);var Se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(l[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(D,l.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else D=l.index+l[0].length;break;case"header":m["!margins"]||om(m["!margins"]={},"xlml"),isNaN(+mr(l[0]).Margin)||(m["!margins"].header=+mr(l[0]).Margin);break;case"footer":m["!margins"]||om(m["!margins"]={},"xlml"),isNaN(+mr(l[0]).Margin)||(m["!margins"].footer=+mr(l[0]).Margin);break;case"pagemargins":var Ee=mr(l[0]);m["!margins"]||om(m["!margins"]={},"xlml"),isNaN(+Ee.Top)||(m["!margins"].top=+Ee.Top),isNaN(+Ee.Left)||(m["!margins"].left=+Ee.Left),isNaN(+Ee.Right)||(m["!margins"].right=+Ee.Right),isNaN(+Ee.Bottom)||(m["!margins"].bottom=+Ee.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?QMe(P,he,F,n.slice(D,l.index)):(F=l,D=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ie={};return!r.bookSheets&&!r.bookProps&&(ie.Sheets=d),ie.SheetNames=f,ie.Workbook=X,ie.SSF=Un(sr),ie.Props=A,ie.Custprops=P,ie}function e3(e,t){switch(kF(t=t||{}),t.type||"base64"){case"base64":return $T(Jo(e),t);case"binary":case"buffer":case"file":return $T(e,t);case"array":return $T(Gf(e),t)}}function s5e(e,t){var r=[];return e.Props&&r.push(TAe(e.Props,t)),e.Custprops&&r.push(AAe(e.Props,e.Custprops)),r.join("")}function a5e(){return""}function i5e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(jt("NumberFormat",null,{"ss:Format":Tn(sr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(jt("Style",i.join(""),o))}),jt("Styles",r.join(""))}function rie(e){return jt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+yF(e.Ref,{r:0,c:0})})}function o5e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(rie(a)))}return jt("Names",r.join(""))}function l5e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(rie(l)))}return i.join("")}function c5e(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(jt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(jt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(jt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(jt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ja("ProtectContents","True")),e["!protect"].objects&&a.push(Ja("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ja("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ja("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ja("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":jt("WorksheetOptions",a.join(""),{xmlns:Mo.x})}function u5e(e){return e.map(function(t){var r=OTe(t.t||""),n=jt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return jt("Comment",n,{"ss:Author":t.a})}).join("")}function d5e(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Tn(yF(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=bs(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Tn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Tn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=ud[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||sr[14]);break;case"s":f="String",m=PTe(e.v||"");break}var p=Yf(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(g+=u5e(e.c)),jt("Cell",g,l)}function f5e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=y0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function h5e(e,t,r,n){if(!e["!ref"])return"";var a=Xr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,w){Df(v);var b=!!v.width,j=Y2(w,v),E={"ss:Index":w+1};b&&(E["ss:Width"]=fb(j.width)),v.hidden&&(E["ss:Hidden"]="1"),l.push(jt("Column",null,E))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[f5e(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var p={r:u,c:f},y=or(p),g=c?(e[u]||[])[f]:e[y];d.push(d5e(g,y,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function m5e(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?l5e(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?h5e(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(c5e(i,t,e,r)),n.join("")}function p5e(e,t){t||(t={}),e.SSF||(e.SSF=Un(sr)),e.SSF&&(ox(),Fw(e.SSF),t.revssf=z2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Yf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(s5e(e,t)),r.push(a5e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(jt("Worksheet",m5e(n,t,e),{"ss:Name":Tn(e.SheetNames[n])}));return r[2]=i5e(e,t),r[3]=o5e(e),zs+jt("Workbook",r.join(""),{xmlns:Mo.ss,"xmlns:o":Mo.o,"xmlns:x":Mo.x,"xmlns:ss":Mo.ss,"xmlns:dt":Mo.dt,"xmlns:html":Mo.html})}function g5e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=lAe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=cAe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var x5e=[60,1084,2066,2165,2175];function v5e(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Du(r,r.l),u=t3[c],d=0;u!=null&&x5e.indexOf(c)>-1;)i=Du(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=t3[c=Du(r,r.l)];var f=Fa(o);Ka(f,0);var m=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(m),m+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Tc(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=sr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ud[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ib(e.v):e.w=Rm(e.v):e.w=Zo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&rp(sr[n]||String(n))){var a=nf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function G_(e,t,r){return{v:e,ixfe:t,t:r}}function y5e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,m="",p,y,g,v,w={},b=[],j,E,S=[],C=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},O=function(De){return De<8?sm[De]:De<64&&C[De-8]||sm[De]},A=function(De,le,Re){var et=le.XF.data;if(!(!et||!et.patternType||!Re||!Re.cellStyles)){le.s={},le.s.patternType=et.patternType;var xt;(xt=db(O(et.icvFore)))&&(le.s.fgColor={rgb:xt}),(xt=db(O(et.icvBack)))&&(le.s.bgColor={rgb:xt})}},P=function(De,le,Re){if(!(Y>1)&&!(Re.sheetRows&&De.r>=Re.sheetRows)){if(Re.cellStyles&&le.XF&&le.XF.data&&A(De,le,Re),delete le.ixfe,delete le.XF,f=De,m=or(De),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),De.r<o.s.r&&(o.s.r=De.r),De.c<o.s.c&&(o.s.c=De.c),De.r+1>o.e.r&&(o.e.r=De.r+1),De.c+1>o.e.c&&(o.e.c=De.c+1),Re.cellFormula&&le.f){for(var et=0;et<b.length;++et)if(!(b[et][0].s.c>De.c||b[et][0].s.r>De.r)&&!(b[et][0].e.c<De.c||b[et][0].e.r<De.r)){le.F=Ar(b[et][0]),(b[et][0].s.c!=De.c||b[et][0].s.r!=De.r)&&delete le.f,le.f&&(le.f=""+fi(b[et][1],o,De,I,D));break}}Re.dense?(a[De.r]||(a[De.r]=[]),a[De.r][De.c]=le):a[m]=le}},D={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var F,L=[],H=[],W=[],G=[],K=!1,I=[];I.SheetNames=D.snames,I.sharedf=D.sharedf,I.arrayf=D.arrayf,I.names=[],I.XTI=[];var B=0,Y=0,z=0,J=[],X=[],ee;D.codepage=1200,kl(1200);for(var he=!1;e.l<e.length-1;){var fe=e.l,ge=e.read_shift(2);if(ge===0&&B===10)break;var U=e.l===e.length?0:e.read_shift(2),ne=t3[ge];if(ne&&ne.f){if(t.bookSheets&&B===133&&ge!==133)break;if(B=ge,ne.r===2||ne.r==12){var Q=e.read_shift(2);if(U-=2,!D.enc&&Q!==ge&&((Q&255)<<8|Q>>8)!==ge)throw new Error("rt mismatch: "+Q+"!="+ge);ne.r==12&&(e.l+=10,U-=10)}var V={};if(ge===10?V=ne.f(e,U,D):V=v5e(ge,ne,e,U,D),Y==0&&[9,521,1033,2057].indexOf(B)===-1)continue;switch(ge){case 34:r.opts.Date1904=k.WBProps.date1904=V;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(D.enc||(e.l=0),D.enc=V,!t.password)throw new Error("File is password-protected");if(V.valid==null)throw new Error("Encryption scheme unsupported");if(!V.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=V;break;case 66:var ue=Number(V);switch(ue){case 21010:ue=1200;break;case 32768:ue=1e4;break;case 32769:ue=1252;break}kl(D.codepage=ue),he=!0;break;case 317:D.rrtabid=V;break;case 25:D.winlocked=V;break;case 439:r.opts.RefreshAll=V;break;case 12:r.opts.CalcCount=V;break;case 16:r.opts.CalcDelta=V;break;case 17:r.opts.CalcIter=V;break;case 13:r.opts.CalcMode=V;break;case 14:r.opts.CalcPrecision=V;break;case 95:r.opts.CalcSaveRecalc=V;break;case 15:D.CalcRefMode=V;break;case 2211:r.opts.FullCalc=V;break;case 129:V.fDialog&&(a["!type"]="dialog"),V.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),V.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(V);break;case 430:I.push([V]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(V);break;case 24:case 536:ee={Name:V.Name,Ref:fi(V.rgce,o,null,I,D)},V.itab>0&&(ee.Sheet=V.itab-1),I.names.push(ee),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(V),V.Name=="_xlnm._FilterDatabase"&&V.itab>0&&V.rgce&&V.rgce[0]&&V.rgce[0][0]&&V.rgce[0][0][0]=="PtgArea3d"&&(X[V.itab-1]={ref:Ar(V.rgce[0][0][1][2])});break;case 22:D.ExternCount=V;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(V),I.XTI=I.XTI.concat(V);break;case 2196:if(D.biff<8)break;ee!=null&&(ee.Comment=V[1]);break;case 18:a["!protect"]=V;break;case 19:V!==0&&D.WTF&&console.error("Password verifier: "+V);break;case 133:i[V.pos]=V,D.snames.push(V.name);break;case 10:{if(--Y)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Ar(o),t.sheetRows&&t.sheetRows<=o.e.r){var oe=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Ar(o),o.e.r=oe}o.e.r++,o.e.c++}L.length>0&&(a["!merges"]=L),H.length>0&&(a["!objects"]=H),W.length>0&&(a["!cols"]=W),G.length>0&&(a["!rows"]=G),k.Sheets.push(R)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[V.BIFFVer]||8),D.biffguess=V.BIFFVer==0,V.BIFFVer==0&&V.dt==4096&&(D.biff=5,he=!0,kl(D.codepage=28591)),D.biff==8&&V.BIFFVer==0&&V.dt==16&&(D.biff=2),Y++)break;if(a=t.dense?[]:{},D.biff<8&&!he&&(he=!0,kl(D.codepage=t.codepage||1252)),D.biff<5||V.BIFFVer==0&&V.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-U,name:u};i[Se.pos]=Se,D.snames.push(u)}else u=(i[fe]||{name:""}).name;V.dt==32&&(a["!type"]="chart"),V.dt==64&&(a["!type"]="macro"),L=[],H=[],D.arrayf=b=[],W=[],G=[],K=!1,R={Hidden:(i[fe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[V.r]||[])[V.c]:a[or({c:V.c,r:V.r})])&&++V.c,j={ixfe:V.ixfe,XF:S[V.ixfe]||{},v:V.val,t:"n"},z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:V.c,r:V.r},j,t);break;case 5:case 517:j={ixfe:V.ixfe,XF:S[V.ixfe],v:V.val,t:V.t},z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:V.c,r:V.r},j,t);break;case 638:j={ixfe:V.ixfe,XF:S[V.ixfe],v:V.rknum,t:"n"},z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:V.c,r:V.r},j,t);break;case 189:for(var Ee=V.c;Ee<=V.C;++Ee){var ie=V.rkrec[Ee-V.c][0];j={ixfe:ie,XF:S[ie],v:V.rkrec[Ee-V.c][1],t:"n"},z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:Ee,r:V.r},j,t)}break;case 6:case 518:case 1030:{if(V.val=="String"){l=V;break}if(j=G_(V.val,V.cell.ixfe,V.tt),j.XF=S[j.ixfe],t.cellFormula){var qe=V.formula;if(qe&&qe[0]&&qe[0][0]&&qe[0][0][0]=="PtgExp"){var He=qe[0][0][1][0],de=qe[0][0][1][1],we=or({r:He,c:de});w[we]?j.f=""+fi(V.formula,o,V.cell,I,D):j.F=((t.dense?(a[He]||[])[de]:a[we])||{}).F}else j.f=""+fi(V.formula,o,V.cell,I,D)}z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P(V.cell,j,t),l=V}break;case 7:case 519:if(l)l.val=V,j=G_(V,l.cell.ixfe,"s"),j.XF=S[j.ixfe],t.cellFormula&&(j.f=""+fi(l.formula,o,l.cell,I,D)),z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P(l.cell,j,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(V);var Oe=or(V[0].s);if(p=t.dense?(a[V[0].s.r]||[])[V[0].s.c]:a[Oe],t.cellFormula&&p){if(!l||!Oe||!p)break;p.f=""+fi(V[1],o,V[0],I,D),p.F=Ar(V[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;w[or(l.cell)]=V[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[or(l.cell)],(p||{}).f=""+fi(V[0],o,f,I,D)}}break;case 253:j=G_(c[V.isst].t,V.ixfe,"s"),c[V.isst].h&&(j.h=c[V.isst].h),j.XF=S[j.ixfe],z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:V.c,r:V.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:V.ixfe,XF:S[V.ixfe],t:"z"},z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:V.c,r:V.r},j,t));break;case 190:if(t.sheetStubs)for(var Ye=V.c;Ye<=V.C;++Ye){var Je=V.ixfe[Ye-V.c];j={ixfe:Je,XF:S[Je],t:"z"},z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:Ye,r:V.r},j,t)}break;case 214:case 516:case 4:j=G_(V.val,V.ixfe,"s"),j.XF=S[j.ixfe],z>0&&(j.z=J[j.ixfe>>8&63]),Tc(j,t,r.opts.Date1904),P({c:V.c,r:V.r},j,t);break;case 0:case 512:Y===1&&(o=V);break;case 252:c=V;break;case 1054:if(D.biff==4){J[z++]=V[1];for(var Ne=0;Ne<z+163&&sr[Ne]!=V[1];++Ne);Ne>=163&&Kc(V[1],z+163)}else Kc(V[1],V[0]);break;case 30:{J[z++]=V;for(var te=0;te<z+163&&sr[te]!=V;++te);te>=163&&Kc(V,z+163)}break;case 229:L=L.concat(V);break;case 93:H[V.cmo[0]]=D.lastobj=V;break;case 438:D.lastobj.TxO=V;break;case 127:D.lastobj.ImData=V;break;case 440:for(v=V[0].s.r;v<=V[0].e.r;++v)for(g=V[0].s.c;g<=V[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[or({c:g,r:v})],p&&(p.l=V[1]);break;case 2048:for(v=V[0].s.r;v<=V[0].e.r;++v)for(g=V[0].s.c;g<=V[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[or({c:g,r:v})],p&&p.l&&(p.l.Tooltip=V[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;p=t.dense?(a[V[0].r]||[])[V[0].c]:a[or(V[0])];var _e=H[V[2]];p||(t.dense?(a[V[0].r]||(a[V[0].r]=[]),p=a[V[0].r][V[0].c]={t:"z"}):p=a[or(V[0])]={t:"z"},o.e.r=Math.max(o.e.r,V[0].r),o.s.r=Math.min(o.s.r,V[0].r),o.e.c=Math.max(o.e.c,V[0].c),o.s.c=Math.min(o.s.c,V[0].c)),p.c||(p.c=[]),y={a:V[1],t:_e.TxO.t},p.c.push(y)}break;case 2173:oRe(S[V.ixfe],V.ext);break;case 125:{if(!D.cellStyles)break;for(;V.e>=V.s;)W[V.e--]={width:V.w/256,level:V.level||0,hidden:!!(V.flags&1)},K||(K=!0,gF(V.w/256)),Df(W[V.e+1])}break;case 520:{var pe={};V.level!=null&&(G[V.r]=pe,pe.level=V.level),V.hidden&&(G[V.r]=pe,pe.hidden=!0),V.hpt&&(G[V.r]=pe,pe.hpt=V.hpt,pe.hpx=y0(V.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||om(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=V;break;case 161:a["!margins"]||om(a["!margins"]={}),a["!margins"].header=V.header,a["!margins"].footer=V.footer;break;case 574:V.RTL&&(k.Views[0].RTL=!0);break;case 146:C=V;break;case 2198:F=V;break;case 140:E=V;break;case 442:u?R.CodeName=V||R.name:k.WBProps.CodeName=V||"ThisWorkbook";break}}else ne||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),e.l+=U}return r.SheetNames=Ps(i).sort(function(Ie,De){return Number(Ie)-Number(De)}).map(function(Ie){return i[Ie].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(Ie,De){r.Sheets[r.SheetNames[De]]["!autofilter"]=Ie}),r.Strings=c,r.SSF=Un(sr),D.enc&&(r.Encryption=D.enc),F&&(r.Themes=F),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),I.names.length>0&&(k.Names=I.names),r.Workbook=k,r}var wy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function b5e(e,t,r){var n=Jt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=tV(n,KD,wy.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Jt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=tV(o,YD,wy.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(eae(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function w5e(e,t){var r=[],n=[],a=[],i=0,o,l=P7(KD,"n"),c=P7(YD,"n");if(e.Props)for(o=Ps(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Ps(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)oae.indexOf(a[i][0])>-1||Qse.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Jt.utils.cfb_add(t,"/SummaryInformation",rV(n,wy.SI,c,YD)),(r.length||u.length)&&Jt.utils.cfb_add(t,"/DocumentSummaryInformation",rV(r,wy.DSI,l,KD,u.length?u:null,wy.UDI))}function NF(e,t){t||(t={}),kF(t),U2(),t.codepage&&B2(t.codepage);var r,n;if(e.FullPaths){if(Jt.find(e,"/encryption"))throw new Error("File is password-protected");r=Jt.find(e,"!CompObj"),n=Jt.find(e,"/Workbook")||Jt.find(e,"/Book")}else{switch(t.type){case"base64":e=$o(Jo(e));break;case"binary":e=$o(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ka(e,0),n={content:e}}var a,i;if(r&&g5e(r),t.bookProps&&!t.bookSheets)a={};else{var o=$r?"buffer":"array";if(n&&n.content)a=y5e(n.content,t);else if((i=Jt.find(e,"PerfectOffice_MAIN"))&&i.content)a=im.to_workbook(i.content,(t.type=o,t));else if((i=Jt.find(e,"NativeContent_MAIN"))&&i.content)a=im.to_workbook(i.content,(t.type=o,t));else throw(i=Jt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Jt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=IRe(e))}var l={};return e.FullPaths&&b5e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function _5e(e,t){var r=t||{},n=Jt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Jt.utils.cfb_add(n,a,nie(e,r)),r.biff==8&&(e.Props||e.Custprops)&&w5e(e,n),r.biff==8&&e.vbaraw&&MRe(n,Jt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var pb={0:{f:G3e},1:{f:tIe},2:{f:bIe},3:{f:cIe},4:{f:aIe},5:{f:xIe},6:{f:SIe},7:{f:hIe},8:{f:OIe},9:{f:PIe},10:{f:TIe},11:{f:AIe},12:{f:nIe},13:{f:_Ie},14:{f:dIe},15:{f:oIe},16:{f:Kae},17:{f:CIe},18:{f:pIe},19:{f:iF},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kMe},40:{},42:{},43:{f:SOe},44:{f:jOe},45:{f:EOe},46:{f:AOe},47:{f:TOe},48:{},49:{f:XTe},50:{},51:{f:uRe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:vae},62:{f:NIe},63:{f:yRe},64:{f:KIe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ki,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qIe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Q3e},148:{f:X3e,p:16},151:{f:LIe},152:{},153:{f:jMe},154:{},155:{},156:{f:wMe},157:{},158:{},159:{T:1,f:B4e},160:{T:-1},161:{T:1,f:op},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:RIe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lRe},336:{T:-1},337:{f:hRe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:GD},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$Ie},427:{f:BIe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:VIe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Z3e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MIe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:GD},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:ARe},633:{T:1},634:{T:-1},635:{T:1,f:ERe},636:{T:-1},637:{f:eAe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dMe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:YIe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},t3={6:{f:FT},10:{f:Ld},12:{f:Ks},13:{f:Ks},14:{f:Ds},15:{f:Ds},16:{f:vi},17:{f:Ds},18:{f:Ds},19:{f:Ks},20:{f:lV},21:{f:lV},23:{f:xae},24:{f:uV},25:{f:Ds},26:{},27:{},28:{f:YPe},29:{},34:{f:Ds},35:{f:cV},38:{f:vi},39:{f:vi},40:{f:vi},41:{f:vi},42:{f:Ds},43:{f:Ds},47:{f:oOe},49:{f:_Pe},51:{f:Ks},60:{},61:{f:xPe},64:{f:Ds},65:{f:wPe},66:{f:Ks},77:{},80:{},81:{},82:{},85:{f:Ks},89:{},90:{},91:{},92:{f:iPe},93:{f:ZPe},94:{},95:{f:Ds},96:{},97:{},99:{f:Ds},125:{f:vae},128:{f:FPe},129:{f:lPe},130:{f:Ks},131:{f:Ds},132:{f:Ds},133:{f:cPe},134:{},140:{f:i4e},141:{f:Ks},144:{},146:{f:c4e},151:{},152:{},153:{},154:{},155:{},156:{f:Ks},157:{},158:{},160:{f:g4e},161:{f:f4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:RPe},190:{f:DPe},193:{f:Ld},197:{},198:{},199:{},200:{},201:{},202:{f:Ds},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ks},220:{},221:{f:Ds},222:{},224:{f:MPe},225:{f:aPe},226:{f:Ld},227:{},229:{f:XPe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:dPe},253:{f:NPe},255:{f:hPe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:lae},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ds},353:{f:Ld},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:VPe},431:{f:Ds},432:{},433:{},434:{},437:{},438:{f:t4e},439:{f:Ds},440:{f:r4e},441:{},442:{f:Bw},443:{},444:{f:Ks},445:{},446:{},448:{f:Ld},449:{f:gPe,r:2},450:{f:Ld},512:{f:aV},513:{f:p4e},515:{f:BPe},516:{f:kPe},517:{f:oV},519:{f:x4e},520:{f:mPe},523:{},545:{f:dV},549:{f:sV},566:{},574:{f:yPe},638:{f:OPe},659:{},1048:{},1054:{f:EPe},1084:{},1212:{f:HPe},2048:{f:s4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:q_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ld},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:u4e,r:12},2173:{f:iRe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ds,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:WPe,r:12},2197:{},2198:{f:eRe,r:12},2199:{},2200:{},2201:{},2202:{f:GPe,r:12},2203:{f:Ld},2204:{},2205:{},2206:{},2207:{},2211:{f:pPe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ks},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:h4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:l4e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:aV},1:{},2:{f:_4e},3:{f:b4e},4:{f:y4e},5:{f:oV},7:{f:N4e},8:{},9:{f:q_},11:{},22:{f:Ks},30:{f:APe},31:{},32:{},33:{f:dV},36:{},37:{f:sV},50:{f:S4e},62:{},52:{},67:{},68:{f:Ks},69:{},86:{},126:{},127:{f:v4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:k4e},223:{},234:{},354:{},421:{},518:{f:FT},521:{f:q_},536:{f:uV},547:{f:cV},561:{},579:{},1030:{f:FT},1033:{f:q_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Nt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&nF(r)&&e.push(r)}}function j5e(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Nt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function qw(e,t,r){return e||(e=rt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function N5e(e,t,r,n){var a=rt(9);return qw(a,e,t),cae(r,n||"b",a),a}function S5e(e,t,r){var n=rt(8+2*r.length);return qw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function k5e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Na(ns(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Nt(e,2,j4e(r,n,a)):Nt(e,3,w4e(r,n,a));return;case"b":case"e":Nt(e,5,N5e(r,n,t.v,t.t));return;case"s":case"str":Nt(e,4,S5e(r,n,(t.v||"").slice(0,255)));return}Nt(e,1,qw(null,r,n))}function C5e(e,t,r,n){var a=Array.isArray(t),i=Xr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Ar(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Es(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=ts(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&k5e(e,f,u,d)}}}function E5e(e,t){for(var r=t||{},n=yo(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Nt(n,r.biff==4?1033:r.biff==3?521:9,hF(e,16,r)),C5e(n,e.Sheets[e.SheetNames[a]],a,r),Nt(n,10),n.end()}function T5e(e,t,r){Nt(e,49,jPe({sz:12,name:"Arial"},r))}function A5e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Nt(e,1054,TPe(a,t[a],r))})}function P5e(e,t){var r=rt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Nt(e,2151,r),r=rt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),mae(Xr(t["!ref"]||"A1"),r),r.write_shift(4,4),Nt(e,2152,r)}function O5e(e,t){for(var r=0;r<16;++r)Nt(e,224,iV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Nt(e,224,iV(n,0,t))})}function R5e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Nt(e,440,n4e(n)),n[1].Tooltip&&Nt(e,2048,a4e(n))}delete t["!links"]}function D5e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Nt(e,125,d4e(Y2(a,n),a))})}}function I5e(e,t,r,n,a){var i=16+Yf(a.cellXfs,t,a);if(t.v==null&&!t.bf){Nt(e,513,Fm(r,n,i));return}if(t.bf)Nt(e,6,l3e(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Na(ns(t.v)):t.v;Nt(e,515,UPe(r,n,o,i));break;case"b":case"e":Nt(e,517,$Pe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=wF(a.Strings,t.v,a.revStrings);Nt(e,253,SPe(r,n,l,i))}else Nt(e,516,CPe(r,n,(t.v||"").slice(0,255),i,a));break;default:Nt(e,513,Fm(r,n,i))}}function M5e(e,t,r){var n=yo(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],p=Xr(i["!ref"]||"A1"),y=u?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}Nt(n,2057,hF(r,16,t)),Nt(n,13,xl(1)),Nt(n,12,xl(100)),Nt(n,15,Fi(!0)),Nt(n,17,Fi(!1)),Nt(n,16,Im(.001)),Nt(n,95,Fi(!0)),Nt(n,42,Fi(!1)),Nt(n,43,Fi(!1)),Nt(n,130,xl(1)),Nt(n,128,LPe()),Nt(n,131,Fi(!1)),Nt(n,132,Fi(!1)),u&&D5e(n,i["!cols"]),Nt(n,512,PPe(p,t)),u&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=Es(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(m[v]=ts(v)),d=m[v]+f;var w=c?(i[g]||[])[v]:i[d];w&&(I5e(n,w,g,v,t),u&&w.l&&i["!links"].push([d,w.l]))}}var b=l.CodeName||l.name||a;return u&&Nt(n,574,bPe((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Nt(n,229,JPe(i["!merges"])),u&&R5e(n,i),Nt(n,442,uae(b)),u&&P5e(n,i),Nt(n,10),n.end()}function F5e(e,t,r){var n=yo(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Nt(n,2057,hF(e,5,r)),r.bookType=="xla"&&Nt(n,135),Nt(n,225,l?xl(1200):null),Nt(n,193,$Ae(2)),c&&Nt(n,191),c&&Nt(n,192),Nt(n,226),Nt(n,92,oPe("SheetJS",r)),Nt(n,66,xl(l?1200:1252)),l&&Nt(n,353,xl(0)),l&&Nt(n,448),Nt(n,317,m4e(e.SheetNames.length)),l&&e.vbaraw&&Nt(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Nt(n,442,uae(u))}Nt(n,156,xl(17)),Nt(n,25,Fi(!1)),Nt(n,18,Fi(!1)),Nt(n,19,xl(0)),l&&Nt(n,431,Fi(!1)),l&&Nt(n,444,xl(0)),Nt(n,61,vPe()),Nt(n,64,Fi(!1)),Nt(n,141,xl(0)),Nt(n,34,Fi(gMe(e)=="true")),Nt(n,14,Fi(!0)),l&&Nt(n,439,Fi(!1)),Nt(n,218,xl(0)),T5e(n,e,r),A5e(n,e.SSF,r),O5e(n,r),l&&Nt(n,352,Fi(!1));var d=n.end(),f=yo();l&&Nt(f,140,o4e()),l&&r.Strings&&j5e(f,252,fPe(r.Strings)),Nt(f,10);var m=f.end(),p=yo(),y=0,g=0;for(g=0;g<e.SheetNames.length;++g)y+=(l?12:11)+(l?2:1)*e.SheetNames[g].length;var v=d.length+y+m.length;for(g=0;g<e.SheetNames.length;++g){var w=i[g]||{};Nt(p,133,uPe({pos:v,hs:w.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var b=p.end();if(y!=b.length)throw new Error("BS8 "+y+" != "+b.length);var j=[];return d.length&&j.push(d),b.length&&j.push(b),m.length&&j.push(m),Fa(j)}function L5e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Un(sr)),e&&e.SSF&&(ox(),Fw(e.SSF),r.revssf=z2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,CF(r),r.cellXfs=[],Yf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=M5e(a,r,e);return n.unshift(F5e(e,n,r)),Fa(n)}function nie(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Yi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return L5e(e,t);case 4:case 3:case 2:return E5e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function wV(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=jTe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var w=g.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var b=w[l].trim();if(b.match(/<t[dh]/i)){for(var j=b,E=0;j.charAt(0)=="<"&&(E=j.indexOf(">"))>-1;)j=j.slice(E+1);for(var S=0;S<y.length;++S){var C=y[S];C.s.c==d&&C.s.r<u&&u<=C.e.r&&(d=C.e.c+1,S=-1)}var k=mr(b.slice(0,b.indexOf(">")));m=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var R=k.t||k["data-t"]||"";if(!j.length){d+=m;continue}if(j=Pse(j),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!j.length){d+=m;continue}var O={t:"s",v:j};r.raw||!j.trim().length||R=="s"||(j==="TRUE"?O={t:"b",v:!0}:j==="FALSE"?O={t:"b",v:!1}:isNaN(hc(j))?isNaN(x0(j).getDate())||(O={t:"d",v:ns(j)},r.cellDates||(O={t:"n",v:Na(O.v)}),O.z=r.dateNF||sr[14]):O={t:"n",v:hc(j)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=O):n[or({r:u,c:d})]=O,d+=m}}}}return n["!ref"]=Ar(p),y.length&&(n["!merges"]=y),n}function sie(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=or({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||X5(f.w||(ru(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(jt("td",m,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var aie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',iie="</body></html>";function $5e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Kf(wV(r[0],t),t);var n=OF();return r.forEach(function(a,i){RF(n,wV(a,t),"Sheet"+(i+1))}),n}function oie(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function lie(e,t){var r=t||{},n=r.header!=null?r.header:aie,a=r.footer!=null?r.footer:iie,i=[n],o=Yi(e["!ref"]);r.dense=Array.isArray(e),i.push(oie(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(sie(e,o,l,r));return i.push("</table>"+a),i.join("")}function cie(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?bs(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=Yi(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,p=e["!rows"]||(e["!rows"]=[]),y=0,g=0,v=0,w=0,b=0,j=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&g<c;++y){var E=l[y];if(_V(E)){if(n.display)continue;p[g]={hidden:!0}}var S=E.children;for(v=w=0;v<S.length;++v){var C=S[v];if(!(n.display&&_V(C))){var k=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Pse(C.innerHTML),R=C.getAttribute("data-z")||C.getAttribute("z");for(m=0;m<f.length;++m){var O=f[m];O.s.c==w+i&&O.s.r<g+a&&g+a<=O.e.r&&(w=O.e.c+1-i,m=-1)}j=+C.getAttribute("colspan")||1,((b=+C.getAttribute("rowspan")||1)>1||j>1)&&f.push({s:{r:g+a,c:w+i},e:{r:g+a+(b||1)-1,c:w+i+(j||1)-1}});var A={t:"s",v:k},P=C.getAttribute("data-t")||C.getAttribute("t")||"";k!=null&&(k.length==0?A.t=P||"z":n.raw||k.trim().length==0||P=="s"||(k==="TRUE"?A={t:"b",v:!0}:k==="FALSE"?A={t:"b",v:!1}:isNaN(hc(k))?isNaN(x0(k).getDate())||(A={t:"d",v:ns(k)},n.cellDates||(A={t:"n",v:Na(A.v)}),A.z=n.dateNF||sr[14]):A={t:"n",v:hc(k)})),A.z===void 0&&R!=null&&(A.z=R);var D="",F=C.getElementsByTagName("A");if(F&&F.length)for(var L=0;L<F.length&&!(F[L].hasAttribute("href")&&(D=F[L].getAttribute("href"),D.charAt(0)!="#"));++L);D&&D.charAt(0)!="#"&&(A.l={Target:D}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][w+i]=A):e[or({c:w+i,r:g+a})]=A,u.e.c<w+i&&(u.e.c=w+i),w+=j}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Ar(u),g>=c&&(e["!fullref"]=Ar((u.e.r=l.length-y+g-1+a,u))),e}function uie(e,t){var r=t||{},n=r.dense?[]:{};return cie(n,e,t)}function B5e(e,t){return Kf(uie(e,t),t)}function _V(e){var t="",r=U5e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function U5e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function V5e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=sn(t.replace(/<[^>]*>/g,""));return[r]}var jV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function die(e,t){var r=t||{},n=J5(e),a=[],i,o,l={name:""},c="",u=0,d,f,m={},p=[],y=r.dense?[]:{},g,v,w={value:""},b="",j=0,E=[],S=-1,C=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,O={},A=[],P={},D=0,F=0,L=[],H=1,W=1,G=[],K={Names:[]},I={},B=["",""],Y=[],z={},J="",X=0,ee=!1,he=!1,fe=0;for(cb.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=cb.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?y["!ref"]=Ar(k):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(y["!fullref"]=y["!ref"],k.e.r=r.sheetRows-1,y["!ref"]=Ar(k)),A.length&&(y["!merges"]=A),L.length&&(y["!rows"]=L),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),m[d.name]=y,he=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=mr(g[0],!1),S=C=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,y=r.dense?[]:{},A=[],L=[],he=!0);break;case"table-row-group":g[1]==="/"?--R:++R;break;case"table-row":case"":if(g[1]==="/"){S+=H,H=1;break}if(f=mr(g[0],!1),f.?S=f.-1:S==-1&&(S=0),H=+f["number-rows-repeated"]||1,H<10)for(fe=0;fe<H;++fe)R>0&&(L[S+fe]={level:R});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(y[S]||(y[S]=[]),y[S][C]={t:"z"}):y[or({r:S,c:C})]={t:"z"}),b="",E=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++C,w=mr(g[0],!1),W=parseInt(w["number-columns-repeated"]||"1",10),v={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(v.f=vV(sn(w.formula))),(w.||w["value-type"])=="string"&&(v.t="s",v.v=sn(w["string-value"]||""),r.dense?(y[S]||(y[S]=[]),y[S][C]=v):y[or({r:S,c:C})]=v),C+=W-1;else if(g[1]!=="/"){++C,b="",j=0,E=[],W=1;var ge=H?S+H-1:S;if(C>k.e.c&&(k.e.c=C),C<k.s.c&&(k.s.c=C),S<k.s.r&&(k.s.r=S),ge>k.e.r&&(k.e.r=ge),w=mr(g[0],!1),Y=[],z={},v={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=sn(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(D=parseInt(w["number-matrix-rows-spanned"],10)||0,F=parseInt(w["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:C},e:{r:S+D-1,c:C+F-1}},v.F=Ar(P),G.push([P,v.F])),w.formula)v.f=vV(w.formula);else for(fe=0;fe<G.length;++fe)S>=G[fe][0].s.r&&S<=G[fe][0].e.r&&C>=G[fe][0].s.c&&C<=G[fe][0].e.c&&(v.F=G[fe][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(D=parseInt(w["number-rows-spanned"],10)||0,F=parseInt(w["number-columns-spanned"],10)||0,P={s:{r:S,c:C},e:{r:S+D-1,c:C+F-1}},A.push(P)),w["number-columns-repeated"]&&(W=parseInt(w["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=es(w["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(w.value);break;case"percentage":v.t="n",v.v=parseFloat(w.value);break;case"currency":v.t="n",v.v=parseFloat(w.value);break;case"date":v.t="d",v.v=ns(w["date-value"]),r.cellDates||(v.t="n",v.v=Na(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=bTe(w["time-value"])/86400,r.cellDates&&(v.t="d",v.v=q2(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(w.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",w["string-value"]!=null&&(b=sn(w["string-value"]),E=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(ee=!1,v.t==="s"&&(v.v=b||"",E.length&&(v.R=E),ee=j==0),I.Target&&(v.l=I),Y.length>0&&(v.c=Y,Y=[]),b&&r.cellText!==!1&&(v.w=b),ee&&(v.t="z",delete v.v),(!ee||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var U=0;U<H;++U){if(W=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(y[S+U]||(y[S+U]=[]),y[S+U][C]=U==0?v:Un(v);--W>0;)y[S+U][C+W]=Un(v);else for(y[or({r:S+U,c:C})]=v;--W>0;)y[or({r:S+U,c:C+W})]=Un(v);k.e.c<=C&&(k.e.c=C)}W=parseInt(w["number-columns-repeated"]||"1",10),C+=W-1,W=0,v={},b="",E=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;z.t=b,E.length&&(z.R=E),z.a=J,Y.push(z)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);J="",X=0,b="",j=0,E=[];break;case"creator":g[1]==="/"?J=n.slice(X,g.index):X=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",j=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(O[l.name]=c,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=mr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=mr(g[0],!1),c+=jV[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=mr(g[0],!1),c+=jV[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=mr(g[0],!1),B=LT(o["cell-range-address"]);var ne={Name:o.name,Ref:B[0]+"!"+B[1]};he&&(ne.Sheet=p.length),K.Names.push(ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!w||!w["string-value"])){var Q=V5e(n.slice(j,g.index));b=(b.length>0?b+`
`:"")+Q[0]}else mr(g[0],!1),j=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{B=LT(mr(g[0])["target-range-address"]),m[B[0]]["!autofilter"]={ref:B[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(I=mr(g[0],!1),!I.href)break;I.Target=sn(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(B=LT(I.Target.slice(1)),I.Target="#"+B[0]+"!"+B[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var V={Sheets:m,SheetNames:p,Workbook:K};return r.bookSheets&&delete V.Sheets,V}function NV(e,t){t=t||{},gl(e,"META-INF/manifest.xml")&&bAe(Gs(e,"META-INF/manifest.xml"),t);var r=Bo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=die(On(r),t);return gl(e,"meta.xml")&&(n.Props=Jse(Gs(e,"meta.xml"))),n}function SV(e,t){return die(e,t)}var z5e=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+lb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zs+t}})(),kV=(function(){var e=function(i){return Tn(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Tn(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Yi(i["!ref"]||"A1"),m=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var w=!1,b={},j="";for(p=0;p!=m.length;++p)if(!(m[p].s.c>d)&&!(m[p].s.r>u)&&!(m[p].e.c<d)&&!(m[p].e.r<u)){(m[p].s.c!=d||m[p].s.r!=u)&&(w=!0),b["table:number-columns-spanned"]=m[p].e.c-m[p].s.c+1,b["table:number-rows-spanned"]=m[p].e.r-m[p].s.r+1;break}if(w){c.push(r);continue}var E=or({r:u,c:d}),S=y?(i[u]||[])[d]:i[E];if(S&&S.f&&(b["table:formula"]=Tn(m3e(S.f)),S.F&&S.F.slice(0,E.length)==E)){var C=Yi(S.F);b["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,b["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":j=S.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=S.v?"true":"false";break;case"n":j=S.w||String(S.v||0),b["office:value-type"]="float",b["office:value"]=S.v||0;break;case"s":case"str":j=S.v==null?"":S.v,b["office:value-type"]="string";break;case"d":j=S.w||ns(S.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ns(S.v).toISOString(),b["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(j);if(S.l&&S.l.Target){var R=S.l.Target;R=R.charAt(0)=="#"?"#"+p3e(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),k=jt("text:a",k,{"xlink:href":R.replace(/&/g,"&amp;")})}c.push("          "+jt("table:table-cell",jt("text:p",k,{}),b)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Df(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[zs],u=lb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=lb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(Xse().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function fie(e,t){if(t.bookType=="fods")return kV(e,t);var r=G5(),n="",a=[],i=[];return n="mimetype",Dr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Dr(r,n,kV(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Dr(r,n,z5e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Dr(r,n,zs+Xse()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Dr(r,n,jAe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Dr(r,n,wAe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Lm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function r3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):On(Gf(e))}function q5e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):$o(Vc(e))}function W5e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Mf(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function CV(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function H5e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function G5e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function gb(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function _n(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ts(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function cn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=gb(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=gb(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Wa(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(_n(n*8+a.type)),a.type==2&&t.push(_n(a.data.length)),t.push(a.data))})}),Mf(t)}function SF(e,t){return e?.map(function(r){return t(r.data)})||[]}function dl(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=gb(e,n),i=cn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Ts(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=cn(l.data),u=Ts(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Ts(i[3][0].data)>>>0>0),r.push(o)}return r}function tg(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:_n(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:_n(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:_n(o.data.length)}],n[2].push({data:Wa(o.meta),type:2})});var i=Wa(n);t.push(_n(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Mf(t)}function K5e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=gb(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Mf(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Mf(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function fl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(K5e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Mf(t)}function rg(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=_n(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Mf(t)}function Y5e(e,t,r,n){var a=Lm(e),i=a.getUint32(4,!0),o=(n>1?12:8)+CV(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=CV(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function X5e(e,t,r){var n=Lm(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=H5e(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function BT(e,t){var r=new Uint8Array(32),n=Lm(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,G5e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function UT(e,t){var r=new Uint8Array(32),n=Lm(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function J5e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Y5e(e,t,r,e[0]);case 5:return X5e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function di(e){var t=cn(e);return gb(t[1][0].data)}function EV(e,t){var r=cn(t.data),n=Ts(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=cn(o.data),c=Ts(l[1][0].data)>>>0;switch(n){case 1:i[c]=r3(l[3][0].data);break;case 8:{var u=e[di(l[9][0].data)][0],d=cn(u.data),f=e[di(d[1][0].data)][0],m=Ts(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=cn(f.data);i[c]=p[3].map(function(y){return r3(y.data)}).join("")}break}}),i}function Z5e(e,t){var r,n,a,i,o,l,c,u,d,f,m,p,y,g,v=cn(e),w=Ts(v[1][0].data)>>>0,b=Ts(v[2][0].data)>>>0,j=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ts(v[8][0].data)>0||!1,E,S;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)E=(p=(m=v[4])==null?void 0:m[0])==null?void 0:p.data,S=(g=(y=v[3])==null?void 0:y[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=j?4:1,k=Lm(E),R=[],O=0;O<E.length/2;++O){var A=k.getUint16(O*2,!0);A<65535&&R.push([O,A])}if(R.length!=b)throw"Expected ".concat(b," cells, found ").concat(R.length);var P=[];for(O=0;O<R.length-1;++O)P[R[O][0]]=S.subarray(R[O][1]*C,R[O+1][1]*C);return R.length>=1&&(P[R[R.length-1][0]]=S.subarray(R[R.length-1][1]*C)),{R:w,cells:P}}function Q5e(e,t){var r,n=cn(t.data),a=(r=n?.[7])!=null&&r[0]?Ts(n[7][0].data)>>>0>0?1:0:-1,i=SF(n[5],function(o){return Z5e(o,a)});return{nrows:Ts(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function eFe(e,t,r){var n,a=cn(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ts(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ts(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Ar(i);var o=cn(a[4][0].data),l=EV(e,e[di(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?EV(e,e[di(o[17][0].data)][0]):[],u=cn(o[3][0].data),d=0;u[1].forEach(function(f){var m=cn(f.data),p=e[di(m[2][0].data)][0],y=Ts(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var g=Q5e(e,p);g.data.forEach(function(v,w){v.forEach(function(b,j){var E=or({r:d+w,c:j}),S=J5e(b,l,c);S&&(r[E]=S)})}),d+=g.nrows})}function tFe(e,t){var r=cn(t.data),n={"!ref":"A1"},a=e[di(r[2][0].data)],i=Ts(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return eFe(e,a[0],n),n}function rFe(e,t){var r,n=cn(t.data),a={name:(r=n[1])!=null&&r[0]?r3(n[1][0].data):"",sheets:[]},i=SF(n[2],di);return i.forEach(function(o){e[o].forEach(function(l){var c=Ts(l.meta[1][0].data);c==6e3&&a.sheets.push(tFe(e,l))})}),a}function nFe(e,t){var r=OF(),n=cn(t.data),a=SF(n[1],di);if(a.forEach(function(i){e[i].forEach(function(o){var l=Ts(o.meta[1][0].data);if(l==2){var c=rFe(e,o);c.sheets.forEach(function(u,d){RF(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function VT(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=fl(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=dl(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ts(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Ts(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return nFe(i,l)}function sFe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ts(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Lm(e[7][0].data),d=0,f=[],m=Lm(e[4][0].data),p=0,y=[],g=0;g<t.length;++g){if(t[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,p,!0);var v,w;switch(typeof t[g]){case"string":v=BT({t:"s",v:t[g]},r),w=UT({t:"s",v:t[g]},r);break;case"number":v=BT({t:"n",v:t[g]},r),w=UT({t:"n",v:t[g]},r);break;case"boolean":v=BT({t:"b",v:t[g]},r),w=UT({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),d+=v.length,y.push(w),p+=w.length,++c}for(e[2][0].data=_n(c);g<e[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return e[6][0].data=Mf(f),e[3][0].data=Mf(y),c}function aFe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Yi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ar(n)));var i=BN(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(J){return J.forEach(function(X){typeof X=="string"&&o.push(X)})});var l={},c=[],u=Jt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(J,X){return[J,u.FullPaths[X]]}).forEach(function(J){var X=J[0],ee=J[1];if(X.type==2&&X.name.match(/\.iwa/)){var he=X.content,fe=fl(he),ge=dl(fe);ge.forEach(function(U){c.push(U.id),l[U.id]={deps:[],location:ee,type:Ts(U.messages[0].meta[1][0].data)}})}}),c.sort(function(J,X){return J-X});var d=c.filter(function(J){return J>1}).map(function(J){return[J,_n(J)]});u.FileIndex.map(function(J,X){return[J,u.FullPaths[X]]}).forEach(function(J){var X=J[0];if(J[1],!!X.name.match(/\.iwa/)){var ee=dl(fl(X.content));ee.forEach(function(he){he.messages.forEach(function(fe){d.forEach(function(ge){he.messages.some(function(U){return Ts(U.meta[1][0].data)!=11006&&W5e(U.data,ge[1])})&&l[ge[0]].deps.push(he.id)})})})}});for(var f=Jt.find(u,l[1].location),m=dl(fl(f.content)),p,y=0;y<m.length;++y){var g=m[y];g.id==1&&(p=g)}var v=di(cn(p.messages[0].data)[1][0].data);for(f=Jt.find(u,l[v].location),m=dl(fl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=di(cn(p.messages[0].data)[2][0].data),f=Jt.find(u,l[v].location),m=dl(fl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);for(v=di(cn(p.messages[0].data)[2][0].data),f=Jt.find(u,l[v].location),m=dl(fl(f.content)),y=0;y<m.length;++y)g=m[y],g.id==v&&(p=g);var w=cn(p.messages[0].data);{w[6][0].data=_n(n.e.r+1),w[7][0].data=_n(n.e.c+1);var b=di(w[46][0].data),j=Jt.find(u,l[b].location),E=dl(fl(j.content));{for(var S=0;S<E.length&&E[S].id!=b;++S);if(E[S].id!=b)throw"Bad ColumnRowUIDMapArchive";var C=cn(E[S].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var k=0;k<=n.e.c;++k){var R=[];R[1]=R[2]=[{type:0,data:_n(k+420690)}],C[1].push({type:2,data:Wa(R)}),C[2].push({type:0,data:_n(k)}),C[3].push({type:0,data:_n(k)})}C[4]=[],C[5]=[],C[6]=[];for(var O=0;O<=n.e.r;++O)R=[],R[1]=R[2]=[{type:0,data:_n(O+726270)}],C[4].push({type:2,data:Wa(R)}),C[5].push({type:0,data:_n(O)}),C[6].push({type:0,data:_n(O)});E[S].messages[0].data=Wa(C)}j.content=rg(tg(E)),j.size=j.content.length,delete w[46];var A=cn(w[4][0].data);{A[7][0].data=_n(n.e.r+1);var P=cn(A[1][0].data),D=di(P[2][0].data);j=Jt.find(u,l[D].location),E=dl(fl(j.content));{if(E[0].id!=D)throw"Bad HeaderStorageBucket";var F=cn(E[0].messages[0].data);for(O=0;O<i.length;++O){var L=cn(F[2][0].data);L[1][0].data=_n(O),L[4][0].data=_n(i[O].length),F[2][O]={type:F[2][0].type,data:Wa(L)}}E[0].messages[0].data=Wa(F)}j.content=rg(tg(E)),j.size=j.content.length;var H=di(A[2][0].data);j=Jt.find(u,l[H].location),E=dl(fl(j.content));{if(E[0].id!=H)throw"Bad HeaderStorageBucket";for(F=cn(E[0].messages[0].data),k=0;k<=n.e.c;++k)L=cn(F[2][0].data),L[1][0].data=_n(k),L[4][0].data=_n(n.e.r+1),F[2][k]={type:F[2][0].type,data:Wa(L)};E[0].messages[0].data=Wa(F)}j.content=rg(tg(E)),j.size=j.content.length;var W=di(A[4][0].data);(function(){for(var J=Jt.find(u,l[W].location),X=dl(fl(J.content)),ee,he=0;he<X.length;++he){var fe=X[he];fe.id==W&&(ee=fe)}var ge=cn(ee.messages[0].data);{ge[3]=[];var U=[];o.forEach(function(V,ue){U[1]=[{type:0,data:_n(ue)}],U[2]=[{type:0,data:_n(1)}],U[3]=[{type:2,data:q5e(V)}],ge[3].push({type:2,data:Wa(U)})})}ee.messages[0].data=Wa(ge);var ne=tg(X),Q=rg(ne);J.content=Q,J.size=J.content.length})();var G=cn(A[3][0].data);{var K=G[1][0];delete G[2];var I=cn(K.data);{var B=di(I[2][0].data);(function(){for(var J=Jt.find(u,l[B].location),X=dl(fl(J.content)),ee,he=0;he<X.length;++he){var fe=X[he];fe.id==B&&(ee=fe)}var ge=cn(ee.messages[0].data);{delete ge[6],delete G[7];var U=new Uint8Array(ge[5][0].data);ge[5]=[];for(var ne=0,Q=0;Q<=n.e.r;++Q){var V=cn(U);ne+=sFe(V,i[Q],o),V[1][0].data=_n(Q),ge[5].push({data:Wa(V),type:2})}ge[1]=[{type:0,data:_n(n.e.c+1)}],ge[2]=[{type:0,data:_n(n.e.r+1)}],ge[3]=[{type:0,data:_n(ne)}],ge[4]=[{type:0,data:_n(n.e.r+1)}]}ee.messages[0].data=Wa(ge);var ue=tg(X),oe=rg(ue);J.content=oe,J.size=J.content.length})()}K.data=Wa(I)}A[3][0].data=Wa(G)}w[4][0].data=Wa(A)}p.messages[0].data=Wa(w);var Y=tg(m),z=rg(Y);return f.content=z,f.size=f.content.length,u}function hie(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function kF(e){hie([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function CF(e){hie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function iFe(e){return qr.WS.indexOf(e)>-1?"sheet":e==qr.CS?"chart":e==qr.DS?"dialog":e==qr.MS?"macro":e&&e.length?e:"sheet"}function oFe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,iFe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function lFe(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=xy(Bo(e,r,!0),t);var m=Gs(e,t),p;switch(l){case"sheet":p=DMe(m,t,a,c,i[n],u,d,f);break;case"chart":if(p=IMe(m,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var y=Vv(p["!drawel"].Target,t),g=ub(y),v=_Re(Bo(e,y,!0),xy(Bo(e,g,!0),y)),w=Vv(v,y),b=ub(w);p=cMe(Bo(e,w,!0),w,c,xy(Bo(e,b,!0),w),u,p);break;case"macro":p=MMe(m,t,a,c,i[n],u,d,f);break;case"dialog":p=FMe(m,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var j=[];i&&i[n]&&Ps(i[n]).forEach(function(E){var S="";if(i[n][E].Type==qr.CMNT){S=Vv(i[n][E].Target,t);var C=UMe(Gs(e,S,!0),S,c);if(!C||!C.length)return;hV(p,C,!1)}i[n][E].Type==qr.TCMNT&&(S=Vv(i[n][E].Target,t),j=j.concat(NRe(Gs(e,S,!0),c)))}),j&&j.length&&hV(p,j,!0,c.people||[])}catch(E){if(c.WTF)throw E}}function al(e){return e.charAt(0)=="/"?e.slice(1):e}function mie(e,t){if(ox(),t=t||{},kF(t),gl(e,"META-INF/manifest.xml")||gl(e,"objectdata.xml"))return NV(e,t);if(gl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof VT<"u"){if(e.FileIndex)return VT(e);var r=Jt.utils.cfb_new();return D7(e).forEach(function(L){Dr(r,L,STe(e,L))}),VT(r)}throw new Error("Unsupported NUMBERS file")}if(!gl(e,"[Content_Types].xml"))throw gl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):gl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=D7(e),a=vAe(Bo(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Gs(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Gs(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(vy=[],a.sst)try{vy=BMe(Gs(e,al(a.sst)),a.sst,t)}catch(L){if(t.WTF)throw L}t.cellStyles&&a.themes.length&&(c=$Me(Bo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=LMe(Gs(e,al(a.style)),a.style,c,t))}a.links.map(function(L){try{var H=xy(Bo(e,ub(al(L))),L);return zMe(Gs(e,al(L)),H,L,t)}catch{}});var d=RMe(Gs(e,al(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=Gs(e,al(a.coreprops[0]),!0),m&&(f=Jse(m)),a.extprops.length!==0&&(m=Gs(e,al(a.extprops[0]),!0),m&&SAe(m,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=Bo(e,al(a.custprops[0]),!0),m&&(p=CAe(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=p),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var g={};t.bookDeps&&a.calcchain&&(g=VMe(Gs(e,al(a.calcchain)),a.calcchain));var v=0,w={},b,j;{var E=d.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var S=0;S!=E.length;++S)f.SheetNames[S]=E[S].name}var C=i?"bin":"xml",k=a.workbooks[0].lastIndexOf("/"),R=(a.workbooks[0].slice(0,k+1)+"_rels/"+a.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");gl(e,R)||(R="xl/_rels/workbook."+C+".rels");var O=xy(Bo(e,R,!0),R.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=qMe(Gs(e,al(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=kRe(Gs(e,al(a.people[0])),t)),O&&(O=oFe(O,d.Sheets));var A=Gs(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(O&&O[v]?(b="xl/"+O[v][1].replace(/[\/]?xl\//,""),gl(e,b)||(b=O[v][1]),gl(e,b)||(b=R.replace(/_rels\/.*$/,"")+O[v][1]),P=O[v][2]):(b="xl/worksheets/sheet"+(v+1-A)+"."+C,b=b.replace(/sheet0\./,"sheet.")),j=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var D=!1,F=0;F!=t.sheets.length;++F)typeof t.sheets[F]=="number"&&t.sheets[F]==v&&(D=1),typeof t.sheets[F]=="string"&&t.sheets[F].toLowerCase()==f.SheetNames[v].toLowerCase()&&(D=1);if(!D)continue e}}lFe(e,b,j,f.SheetNames[v],v,w,o,P,t,d,c,u)}return y={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:vy,Styles:u,Themes:c,SSF:Un(sr)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(L,H){L=L.replace(/^Root Entry[\/]/,""),y.keys.push(L),y.files[L]=e.FileIndex[H]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=Gs(e,al(a.vba[0]),!0):a.defaults&&a.defaults.bin===DRe&&(y.vbaraw=Gs(e,"xl/vbaProject.bin",!0))),y}function cFe(e,t){var r=t||{},n="Workbook",a=Jt.find(e,n);try{if(n="/!DataSpaces/Version",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(W4e(a.content),n="/!DataSpaces/DataSpaceMap",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=G4e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=K4e(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);X4e(a.content)}catch{}if(n="/EncryptionInfo",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=J4e(a.content);if(n="/EncryptedPackage",a=Jt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function uFe(e,t){return t.bookType=="ods"?fie(e,t):t.bookType=="numbers"?aFe(e,t):t.bookType=="xlsb"?dFe(e,t):pie(e,t)}function dFe(e,t){bg=1024,e&&!e.SSF&&(e.SSF=Un(sr)),e&&e.SSF&&(ox(),Fw(e.SSF),t.revssf=z2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Mae.indexOf(t.bookType)>-1,a=dF();CF(t=t||{});var i=G5(),o="",l=0;if(t.cellXfs=[],Yf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Dr(i,o,Zse(e.Props,t)),a.coreprops.push(o),Nn(t.rels,2,o,qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Dr(i,o,tae(e.Props)),a.extprops.push(o),Nn(t.rels,3,o,qr.EXT_PROPS),e.Custprops!==e.Props&&Ps(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Dr(i,o,rae(e.Custprops)),a.custprops.push(o),Nn(t.rels,4,o,qr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Dr(i,o,HMe(l-1,o,t,e,d)),a.sheets.push(o),Nn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,qr.WS[0])}if(f){var p=f["!comments"],y=!1,g="";p&&p.length>0&&(g="xl/comments"+l+"."+r,Dr(i,g,YMe(p,g)),a.comments.push(g),Nn(d,-1,"../comments"+l+"."+r,qr.CMNT),y=!0),f["!legacy"]&&y&&Dr(i,"xl/drawings/vmlDrawing"+l+".vml",Dae(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Dr(i,ub(o),Hg(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Dr(i,o,KMe(t.Strings,o,t)),a.strs.push(o),Nn(t.wbrels,-1,"sharedStrings."+r,qr.SST)),o="xl/workbook."+r,Dr(i,o,WMe(e,o)),a.workbooks.push(o),Nn(t.rels,1,o,qr.WB),o="xl/theme/theme1.xml",Dr(i,o,xF(e.Themes,t)),a.themes.push(o),Nn(t.wbrels,-1,"theme/theme1.xml",qr.THEME),o="xl/styles."+r,Dr(i,o,GMe(e,o,t)),a.styles.push(o),Nn(t.wbrels,-1,"styles."+r,qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Dr(i,o,e.vbaraw),a.vba.push(o),Nn(t.wbrels,-1,"vbaProject.bin",qr.VBA)),o="xl/metadata."+r,Dr(i,o,XMe(o)),a.metadata.push(o),Nn(t.wbrels,-1,"metadata."+r,qr.XLMETA),Dr(i,"[Content_Types].xml",Yse(a,t)),Dr(i,"_rels/.rels",Hg(t.rels)),Dr(i,"xl/_rels/workbook."+r+".rels",Hg(t.wbrels)),delete t.revssf,delete t.ssf,i}function pie(e,t){bg=1024,e&&!e.SSF&&(e.SSF=Un(sr)),e&&e.SSF&&(ox(),Fw(e.SSF),t.revssf=z2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yy?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Mae.indexOf(t.bookType)>-1,a=dF();CF(t=t||{});var i=G5(),o="",l=0;if(t.cellXfs=[],Yf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Dr(i,o,Zse(e.Props,t)),a.coreprops.push(o),Nn(t.rels,2,o,qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Dr(i,o,tae(e.Props)),a.extprops.push(o),Nn(t.rels,3,o,qr.EXT_PROPS),e.Custprops!==e.Props&&Ps(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Dr(i,o,rae(e.Custprops)),a.custprops.push(o),Nn(t.rels,4,o,qr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Dr(i,o,Gae(l-1,t,e,f)),a.sheets.push(o),Nn(t.wbrels,-1,"worksheets/sheet"+l+"."+r,qr.WS[0])}if(m){var y=m["!comments"],g=!1,v="";if(y&&y.length>0){var w=!1;y.forEach(function(b){b[1].forEach(function(j){j.T==!0&&(w=!0)})}),w&&(v="xl/threadedComments/threadedComment"+l+"."+r,Dr(i,v,SRe(y,d,t)),a.threadedcomments.push(v),Nn(f,-1,"../threadedComments/threadedComment"+l+"."+r,qr.TCMNT)),v="xl/comments"+l+"."+r,Dr(i,v,Iae(y)),a.comments.push(v),Nn(f,-1,"../comments"+l+"."+r,qr.CMNT),g=!0}m["!legacy"]&&g&&Dr(i,"xl/drawings/vmlDrawing"+l+".vml",Dae(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Dr(i,ub(o),Hg(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Dr(i,o,_ae(t.Strings,t)),a.strs.push(o),Nn(t.wbrels,-1,"sharedStrings."+r,qr.SST)),o="xl/workbook."+r,Dr(i,o,Qae(e)),a.workbooks.push(o),Nn(t.rels,1,o,qr.WB),o="xl/theme/theme1.xml",Dr(i,o,xF(e.Themes,t)),a.themes.push(o),Nn(t.wbrels,-1,"theme/theme1.xml",qr.THEME),o="xl/styles."+r,Dr(i,o,Aae(e,t)),a.styles.push(o),Nn(t.wbrels,-1,"styles."+r,qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Dr(i,o,e.vbaraw),a.vba.push(o),Nn(t.wbrels,-1,"vbaProject.bin",qr.VBA)),o="xl/metadata."+r,Dr(i,o,Rae()),a.metadata.push(o),Nn(t.wbrels,-1,"metadata."+r,qr.XLMETA),d.length>1&&(o="xl/persons/person.xml",Dr(i,o,CRe(d)),a.people.push(o),Nn(t.wbrels,-1,"persons/person.xml",qr.PEOPLE)),Dr(i,"[Content_Types].xml",Yse(a,t)),Dr(i,"_rels/.rels",Hg(t.rels)),Dr(i,"xl/_rels/workbook."+r+".rels",Hg(t.wbrels)),delete t.revssf,delete t.ssf,i}function EF(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Jo(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function fFe(e,t){return Jt.find(e,"EncryptedPackage")?cFe(e,t):NF(e,t)}function hFe(e,t){var r,n=e,a=t||{};return a.type||(a.type=$r&&Buffer.isBuffer(e)?"buffer":"base64"),r=Ese(n,a),mie(r,a)}function gie(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return e3(e.slice(r),t);default:break e}return v0.to_workbook(e,t)}function mFe(e,t){var r="",n=EF(e,t);switch(t.type){case"base64":r=Jo(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Dm(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=On(r)),t.type="binary",gie(r,t)}function pFe(e,t){var r=e;return t.type=="base64"&&(r=Jo(r)),r=Zr.utils.decode(1200,r.slice(2),"str"),t.type="binary",gie(r,t)}function gFe(e){return e.match(/[^\x00-\x7F]/)?Vc(e):e}function zT(e,t,r,n){return n?(r.type="string",v0.to_workbook(e,r)):v0.to_workbook(t,r)}function $N(e,t){U2();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return $N(new Uint8Array(e),(r=Un(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Kg={},r.dateNF&&(Kg.dateNF=r.dateNF),r.type||(r.type=$r&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=$r?"buffer":"binary",n=xTe(e),typeof Uint8Array<"u"&&!$r&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=gFe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Un(r),r.type="array",$N(z5(n),r)}switch((a=EF(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return fFe(Jt.read(n,r),r);break;case 9:if(a[1]<=8)return NF(n,r);break;case 60:return e3(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return E4e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return bae.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?hFe(n,r):zT(e,n,r,i);case 239:return a[3]===60?e3(n,r):zT(e,n,r,i);case 255:if(a[1]===254)return pFe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return im.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return im.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return QD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Cae.to_workbook(n,r);break;case 10:case 13:case 32:return mFe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return C4e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?QD.to_workbook(n,r):zT(e,n,r,i)}function TV(e,t){var r=t||{};return r.type="file",$N(e,r)}function xie(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Lw(t.file,Jt.write(e,{type:$r?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Jt.write(e,t)}function xFe(e,t){var r=Un(t||{}),n=uFe(e,r);return vie(n,r)}function vFe(e,t){var r=Un(t||{}),n=pie(e,r);return vie(n,r)}function vie(e,t){var r={},n=$r?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Jt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Mw(a))}return t.password&&typeof encrypt_agile<"u"?xie(encrypt_agile(a,t.password),t):t.type==="file"?Lw(t.file,a):t.type=="string"?On(a):a}function yFe(e,t){var r=t||{},n=_5e(e,r);return xie(n,r)}function Oc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ab(Vc(n));case"binary":return Vc(n);case"string":return e;case"file":return Lw(t.file,n,"utf8");case"buffer":return $r?ld(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Oc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function bFe(e,t){switch(t.type){case"base64":return ab(e);case"binary":return e;case"string":return e;case"file":return Lw(t.file,e,"binary");case"buffer":return $r?ld(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function K_(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ab(r):t.type=="string"?On(r):r;case"file":return Lw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function TF(e,t){U2(),Zae(e);var r=Un(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=TF(e,r);return r.type="array",Mw(n)}return vFe(e,r)}function X2(e,t){U2(),Zae(e);var r=Un(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=X2(e,r);return r.type="array",Mw(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Oc(p5e(e,r),r);case"slk":case"sylk":return Oc(yae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Oc(lie(e.Sheets[e.SheetNames[a]],r),r);case"txt":return bFe(wie(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Oc(PF(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Oc(bae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return K_(QD.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Oc(v0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Oc(Cae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Oc(wae.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Oc(fie(e,r),r);case"wk1":return K_(im.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return K_(im.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),K_(nie(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),yFe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return xFe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function AF(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function $m(e,t,r){var n=r||{};return n.type="file",n.file=t,AF(n),X2(e,n)}function wFe(e,t,r){var n=r||{};return n.type="file",n.file=t,AF(n),TF(e,n)}function _Fe(e,t,r,n){var a=r||{};a.type="file",a.file=e,AF(a),a.type="buffer";var i=n;return i instanceof Function||(i=r),af.writeFile(e,X2(t,a),i)}function yie(e,t,r,n,a,i,o,l){var c=Es(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=o?e[r][p]:e[n[p]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[p]!=null&&(m[i[p]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(g==null)if(y.t=="e"&&g===null)m[i[p]]=null;else if(u!==void 0)m[i[p]]=u;else if(d&&g===null)m[i[p]]=null;else continue;else m[i[p]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?g:ru(y,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function BN(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Xr(d);break;case"number":c=Xr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Es(c.s.r),m=[],p=[],y=0,g=0,v=Array.isArray(e),w=c.s.r,b=0,j={};v&&!e[w]&&(e[w]=[]);var E=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(E[b]||{}).hidden)switch(m[b]=ts(b),r=v?e[w][b]:e[m[b]+f],n){case 1:i[b]=b-c.s.c;break;case 2:i[b]=m[b];break;case 3:i[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ru(r,null,u),g=j[o]||0,!g)j[o]=1;else{do l=o+"_"+g++;while(j[l]);j[o]=g,j[l]=1}i[b]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(S[w]||{}).hidden){var C=yie(e,c,w,m,n,i,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[y++]=C.row)}return p.length=y,p}var AV=/"/g;function bie(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Es(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var p=l.dense?(e[r]||[])[m]:e[n[m]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:ru(p,null,l));for(var y=0,g=0;y!==d.length;++y)if((g=d.charCodeAt(y))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(AV,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(AV,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function PF(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Xr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=ts(y));for(var g=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=bie(e,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function wie(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=PF(e,t);if(typeof Zr>"u"||t.type=="string")return r;var n=Zr.utils.encode(1200,r,"str");return""+n}function jFe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Xr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ts(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Es(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function _ie(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?bs(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Xr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var m=n.header||[],p=0;t.forEach(function(g,v){Ps(g).forEach(function(w){(p=m.indexOf(w))==-1&&(m[p=m.length]=w);var b=g[w],j="z",E="",S=or({c:l+p,r:o+v+a});u=xb(i,S),b&&typeof b=="object"&&!(b instanceof Date)?i[S]=b:(typeof b=="number"?j="n":typeof b=="boolean"?j="b":typeof b=="string"?j="s":b instanceof Date?(j="d",n.cellDates||(j="n",b=Na(b)),E=n.dateNF||sr[14]):b===null&&n.nullError&&(j="e",b=0),u?(u.t=j,u.v=b,delete u.w,delete u.R,E&&(u.z=E)):i[S]=u={t:j,v:b},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Es(o);if(a)for(p=0;p<m.length;++p)i[ts(p+l)+y]={t:"s",v:m[p]};return i["!ref"]=Ar(d),i}function NFe(e,t){return _ie(null,e,t)}function xb(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=bs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?xb(e,or(t)):xb(e,or({r:t,c:r||0}))}function SFe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function OF(){return{SheetNames:[],Sheets:{}}}function RF(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Jae(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function kFe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=SFe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function CFe(e,t){return e.z=t,e}function jie(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function EFe(e,t,r){return jie(e,"#"+t,r)}function TFe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function AFe(e,t,r,n){for(var a=typeof t!="string"?t:Xr(t),i=typeof t=="string"?t:Ar(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=xb(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var na={encode_col:ts,encode_row:Es,encode_cell:or,encode_range:Ar,decode_col:aF,decode_row:sF,split_cell:YTe,decode_cell:bs,decode_range:Yi,format_cell:ru,sheet_add_aoa:Vse,sheet_add_json:_ie,sheet_add_dom:cie,aoa_to_sheet:cx,json_to_sheet:NFe,table_to_sheet:uie,table_to_book:B5e,sheet_to_csv:PF,sheet_to_txt:wie,sheet_to_json:BN,sheet_to_html:lie,sheet_to_formulae:jFe,sheet_to_row_object_array:BN,sheet_get_cell:xb,book_new:OF,book_append_sheet:RF,book_set_sheet_visibility:kFe,cell_set_number_format:CFe,cell_set_hyperlink:jie,cell_set_internal_link:EFe,cell_add_comment:TFe,sheet_set_array_formula:AFe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},J2;function PFe(e){J2=e}function OFe(e,t){var r=J2(),n=t??{};if(e==null||e["!ref"]==null)return r.push(null),r;var a=Xr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(m[y]||{}).hidden||(f[y]=ts(y));var g=a.s.r,v=!1,w=0;return r._read=function(){if(!v)return v=!0,r.push("\uFEFF");for(;g<=a.e.r;)if(++g,!(p[g-1]||{}).hidden&&(d=bie(e,a,g-1,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),d||n.blankrows!==!1)))return r.push((w++?l:"")+d);return r.push(null)},r}function RFe(e,t){var r=J2(),n=t||{},a=n.header!=null?n.header:aie,i=n.footer!=null?n.footer:iie;r.push(a);var o=Yi(e["!ref"]);n.dense=Array.isArray(e),r.push(oie(e,o,n));var l=o.s.r,c=!1;return r._read=function(){if(l>o.e.r)return c||(c=!0,r.push("</table>"+i)),r.push(null);for(;l<=o.e.r;){r.push(sie(e,o,l,n)),++l;break}},r}function DFe(e,t){var r=J2({objectMode:!0});if(e==null||e["!ref"]==null)return r.push(null),r;var n={t:"n",v:0},a=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)&&(a=3),typeof f){case"string":u=Xr(f);break;case"number":u=Xr(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(i=0);var m=Es(u.s.r),p=[],y=0,g=Array.isArray(e),v=u.s.r,w=0,b={};g&&!e[v]&&(e[v]=[]);var j=d.skipHidden&&e["!cols"]||[],E=d.skipHidden&&e["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(j[w]||{}).hidden)switch(p[w]=ts(w),n=g?e[v][w]:e[p[w]+m],a){case 1:o[w]=w-u.s.c;break;case 2:o[w]=p[w];break;case 3:o[w]=d.header[w-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=ru(n,null,d),y=b[l]||0,!y)b[l]=1;else{do c=l+"_"+y++;while(b[c]);b[l]=y,b[c]=1}o[w]=c}return v=u.s.r+i,r._read=function(){for(;v<=u.e.r;)if(!(E[v-1]||{}).hidden){var S=yie(e,u,v,p,a,o,g,d);if(++v,S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows)){r.push(S.row);return}}return r.push(null)},r}var IFe={to_json:DFe,to_html:RFe,to_csv:OFe,set_readable:PFe};const MFe=sb.version,Nie=Object.freeze(Object.defineProperty({__proto__:null,CFB:Jt,SSF:_se,parse_xlscfb:NF,parse_zip:mie,read:$N,readFile:TV,readFileSync:TV,set_cptable:BEe,set_fs:pTe,stream:IFe,utils:na,version:MFe,write:X2,writeFile:$m,writeFileAsync:_Fe,writeFileSync:$m,writeFileXLSX:wFe,writeXLSX:TF},Symbol.toStringTag,{value:"Module"}));var FFe="Separator",PV="horizontal",LFe=["horizontal","vertical"],Sie=_.forwardRef((e,t)=>{const{decorative:r,orientation:n=PV,...a}=e,i=$Fe(n)?n:PV,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Tt.div,{"data-orientation":i,...l,...a,ref:t})});Sie.displayName=FFe;function $Fe(e){return LFe.includes(e)}var kie=Sie;const Dh=_.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(kie,{ref:a,decorative:r,orientation:t,className:ut("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Dh.displayName=kie.displayName;function BFe({order:e,open:t,onClose:r}){if(!e)return null;const n=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(o),a=o=>new Date(o).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}),i=o=>new Date(o).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return s.jsx(Sn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(kn,{children:s.jsxs(Cn,{children:["Order Details - ",e.order_number]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(e0,{className:"h-4 w-4"}),"Customer Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(e0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:e.customer_name})]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(dc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_phone})]}),e.customer_email&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:e.customer_email})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(jf,{className:"h-4 w-4"}),"Delivery Information"]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",e.delivery_address]}),e.delivery_landmark&&s.jsxs("p",{children:[s.jsx("strong",{children:"Landmark:"})," ",e.delivery_landmark]}),e.delivery_pincode&&s.jsxs("p",{children:[s.jsx("strong",{children:"PIN Code:"})," ",e.delivery_pincode]}),e.delivery_time&&s.jsxs("p",{children:[s.jsx("strong",{children:"Delivery Time:"})," ",e.delivery_time]}),e.delivery_latitude&&e.delivery_longitude&&s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",s.jsx("a",{href:`https://www.google.com/maps?q=${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Map"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Bn,{className:"h-4 w-4"}),"Order Items"]}),s.jsx("div",{className:"space-y-3",children:Array.isArray(e.items)&&e.items.map((o,l)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[o.productImage&&s.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:o.productName}),o.variant&&s.jsx("p",{className:"text-sm text-muted-foreground",children:o.variant}),s.jsxs("p",{className:"text-sm",children:[n(o.price),"  ",o.quantity," = ",n(o.price*o.quantity)]})]})]},l))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:n(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Charge:"}),s.jsx("span",{children:e.delivery_charge>0?n(e.delivery_charge):"FREE"})]}),s.jsx(Dh,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-primary",children:n(e.total)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx(wt,{variant:"outline",children:e.payment_method.toUpperCase()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Status:"}),s.jsx(wt,{children:e.status})]})]})]}),e.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"bg-muted p-3 rounded-lg",children:e.notes})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Ml,{className:"h-4 w-4"}),"Order Timeline"]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Placed on ",a(e.created_at)," at ",i(e.created_at)]})]})})]})]})]})})}function UFe({order:e,open:t,onClose:r,onSave:n}){const[a,i]=_.useState({}),[o,l]=_.useState(!1);if(_.useEffect(()=>{e&&i({customer_name:e.customer_name,customer_phone:e.customer_phone,customer_email:e.customer_email,delivery_address:e.delivery_address,delivery_landmark:e.delivery_landmark,delivery_pincode:e.delivery_pincode,delivery_time:e.delivery_time,status:e.status,payment_method:e.payment_method,notes:e.notes})},[e]),!e)return null;const c=async()=>{l(!0);try{await n(e.id,a),r()}finally{l(!1)}};return s.jsx(Sn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(kn,{children:s.jsxs(Cn,{children:["Edit Order - ",e.order_number]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"customer_name",children:"Customer Name"}),s.jsx(Ve,{id:"customer_name",value:a.customer_name||"",onChange:u=>i({...a,customer_name:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"customer_phone",children:"Phone"}),s.jsx(Ve,{id:"customer_phone",value:a.customer_phone||"",onChange:u=>i({...a,customer_phone:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"customer_email",children:"Email (Optional)"}),s.jsx(Ve,{id:"customer_email",type:"email",value:a.customer_email||"",onChange:u=>i({...a,customer_email:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_address",children:"Delivery Address"}),s.jsx(ja,{id:"delivery_address",value:a.delivery_address||"",onChange:u=>i({...a,delivery_address:u.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_landmark",children:"Landmark (Optional)"}),s.jsx(Ve,{id:"delivery_landmark",value:a.delivery_landmark||"",onChange:u=>i({...a,delivery_landmark:u.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_pincode",children:"PIN Code"}),s.jsx(Ve,{id:"delivery_pincode",value:a.delivery_pincode||"",onChange:u=>i({...a,delivery_pincode:u.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"delivery_time",children:"Delivery Time"}),s.jsx(Ve,{id:"delivery_time",value:a.delivery_time||"",onChange:u=>i({...a,delivery_time:u.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"status",children:"Order Status"}),s.jsxs(yr,{value:a.status,onValueChange:u=>i({...a,status:u}),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"new",children:"New"}),s.jsx(Ke,{value:"processing",children:"Processing"}),s.jsx(Ke,{value:"delivered",children:"Delivered"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"payment_method",children:"Payment Method"}),s.jsxs(yr,{value:a.payment_method,onValueChange:u=>i({...a,payment_method:u}),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"cod",children:"Cash on Delivery"}),s.jsx(Ke,{value:"online",children:"Online Payment"}),s.jsx(Ke,{value:"card",children:"Card"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(ja,{id:"notes",value:a.notes||"",onChange:u=>i({...a,notes:u.target.value}),rows:3,placeholder:"Add any additional notes..."})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(ae,{onClick:c,disabled:o,children:o?"Saving...":"Save Changes"})]})]})})}const DF=async e=>{const{data:t,error:r}=await Z.functions.invoke("shiprocket",{body:e});if(r)throw new Error(r.message);return t},OV=async(e,t)=>{try{const r=await DF({action:"login",email:e,password:t});return r.token?{success:!0,token:r.token}:{success:!1,error:r.message||"Authentication failed"}}catch(r){return{success:!1,error:r.message||"Network error"}}},Lj=async e=>{try{const t=await DF({action:"get_pickup_locations",token:e});return t.data?.shipping_address?{success:!0,locations:t.data.shipping_address}:{success:!1,error:t.message||"Failed to get pickup locations"}}catch(t){return{success:!1,error:t.message||"Network error"}}},VFe=async(e,t)=>{try{const r=await DF({action:"create_order",token:e,data:t});return r.order_id?{success:!0,data:r}:{success:!1,error:r.message||"Failed to create order"}}catch(r){return{success:!1,error:r.message||"Network error"}}},zFe=(e,t,r)=>{const n=(e.customer_name||"Customer").split(" "),a=n[0]||"Customer",i=n.slice(1).join(" ")||"",o=e.delivery_address||"",l=e.delivery_pincode||"";return{order_id:e.order_number||e.id,order_date:new Date(e.created_at).toISOString().split("T")[0],pickup_location:t,billing_customer_name:a,billing_last_name:i,billing_address:o,billing_city:e.delivery_city||"City",billing_pincode:l,billing_state:e.delivery_state||"State",billing_country:"India",billing_email:e.customer_email||"",billing_phone:e.customer_phone||"",shipping_is_billing:!0,order_items:(e.items||[]).map(c=>({name:c.name||c.product_name||"Product",sku:c.sku||c.id||`SKU-${Date.now()}`,units:c.quantity||1,selling_price:c.price||0,discount:0,tax:0})),payment_method:e.payment_method==="cod"?"COD":"Prepaid",sub_total:e.total||e.subtotal||0,length:r.length,breadth:r.breadth,height:r.height,weight:r.weight}},qFe=()=>{const e=wr(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState("all"),[f,m]=_.useState(new Date),[p,y]=_.useState(null),[g,v]=_.useState(!1),[w,b]=_.useState(!1),[j,E]=_.useState(0),[S,C]=_.useState(null),[k,R]=_.useState(""),[O,A]=_.useState(!1),[P,D]=_.useState(null),[F,L]=_.useState(""),[H,W]=_.useState({length:10,breadth:10,height:10,weight:.5}),[G,K]=_.useState(null),[I,B]=_.useState(!1),[Y,z]=_.useState(null),[J,X]=_.useState(!1);_.useEffect(()=>{ee()},[]);const ee=async()=>{const{data:{session:Ne}}=await Z.auth.getSession();if(!Ne){e("/admin/login");return}await he()},he=async()=>{try{a(!0);const{data:{user:Ne}}=await Z.auth.getUser();if(!Ne)return;const{data:te}=await Z.from("stores").select("id, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",Ne.id).single();if(!te)return;if(X(te.shipping_popup_enabled||!1),te.shiprocket_token){A(!0),D(te.shiprocket_token);const xt=await Lj(te.shiprocket_token);xt.success&&xt.locations&&xt.locations.length>0&&L(xt.locations[0].pickup_location),te.package_length&&W(at=>({...at,length:te.package_length})),te.package_breadth&&W(at=>({...at,breadth:te.package_breadth})),te.package_height&&W(at=>({...at,height:te.package_height})),te.package_weight&&W(at=>({...at,weight:te.package_weight}))}const{data:_e}=await Z.from("subscriptions").select(`
          subscription_plans (
            name,
            orders_view_limit
          )
        `).eq("user_id",Ne.id).maybeSingle();let pe=null;if(_e?.subscription_plans?.orders_view_limit){const xt=_e.subscription_plans.orders_view_limit;pe=xt===999999?null:xt}R(_e?.subscription_plans?.name||""),C(pe);const{count:Ie}=await Z.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",te.id);E(Ie||0);let De=Z.from("orders").select("*").eq("store_id",te.id).order("created_at",{ascending:!0});pe!==null&&(De=De.limit(pe));const{data:le,error:Re}=await De;if(Re)throw Re;const et=(le||[]).reverse();r(et),m(new Date)}catch(Ne){Fe({title:"Error",description:Ne.message,variant:"destructive"})}finally{a(!1)}},fe=()=>{let Ne=t;if(i&&(Ne=Ne.filter(te=>te.customer_name.toLowerCase().includes(i.toLowerCase())||te.customer_phone.includes(i)||te.order_number.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(Ne=Ne.filter(te=>te.status===l)),u!=="all"){const te=new Date,_e=new Date(te.getFullYear(),te.getMonth(),te.getDate());Ne=Ne.filter(pe=>{const Ie=new Date(pe.created_at),De=new Date(Ie.getFullYear(),Ie.getMonth(),Ie.getDate());switch(u){case"today":return De.getTime()===_e.getTime();case"yesterday":const le=new Date(_e);return le.setDate(le.getDate()-1),De.getTime()===le.getTime();case"last7days":const Re=new Date(_e);return Re.setDate(Re.getDate()-7),De>=Re;case"last30days":const et=new Date(_e);return et.setDate(et.getDate()-30),De>=et;default:return!0}})}return Ne},ge=Ne=>{const te={new:{label:"New",variant:"default",icon:ys},processing:{label:"Processing",variant:"secondary",icon:Bn},delivered:{label:"Delivered",variant:"default",icon:an},cancelled:{label:"Cancelled",variant:"destructive",icon:Gn}},_e=te[Ne]||te.new,pe=_e.icon;return s.jsxs(wt,{variant:_e.variant,className:"flex items-center gap-1",children:[s.jsx(pe,{className:"h-3 w-3"}),_e.label]})},U=Ne=>new Date(Ne).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),ne=Ne=>new Date(Ne).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),Q=Ne=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(Ne),V=(Ne,te)=>{const _e=t.filter(le=>{const Re=new Date(le.created_at),et=Re.toLocaleDateString("en-US",{month:"long"}),xt=Re.getFullYear().toString();return et===Ne&&xt===te});if(_e.length===0){Fe({title:"No Orders",description:`No orders found for ${Ne} ${te}`,variant:"destructive"});return}const pe=_e.map(le=>({"Order Number":le.order_number,Date:U(le.created_at),Time:ne(le.created_at),"Customer Name":le.customer_name,Phone:le.customer_phone,Email:le.customer_email||"N/A",Address:le.delivery_address,"Items Count":Array.isArray(le.items)?le.items.length:0,Items:Array.isArray(le.items)?le.items.map(Re=>`${Re.name} (${Re.quantity}x)`).join(", "):"N/A",Amount:le.total,"Payment Method":le.payment_method,Status:le.status})),Ie=na.json_to_sheet(pe),De=na.book_new();na.book_append_sheet(De,Ie,`${Ne}_${te}`),$m(De,`Orders_${Ne}_${te}.xlsx`),Fe({title:"Export Successful",description:`Downloaded ${_e.length} orders for ${Ne} ${te}`})},ue=()=>{const Ne=new Date;return{month:Ne.toLocaleDateString("en-US",{month:"long"}),year:Ne.getFullYear().toString()}},oe=()=>{const Ne=new Date;return Ne.setMonth(Ne.getMonth()-1),{month:Ne.toLocaleDateString("en-US",{month:"long"}),year:Ne.getFullYear().toString()}},Se=Ne=>{y(Ne),v(!0)},Ee=Ne=>{y(Ne),b(!0)},ie=async(Ne,te)=>{try{const{error:_e}=await Z.from("orders").update(te).eq("id",Ne);if(_e)throw _e;Fe({title:"Success",description:"Order updated successfully"}),he()}catch(_e){Fe({title:"Error",description:_e.message,variant:"destructive"})}},qe=Ne=>{J?(z(Ne),B(!0)):we(Ne)},He=async()=>{if(!(!Y||!P)){B(!1),K(Y.id);try{const Ne=zFe(Y,F,H),te=await VFe(P,Ne);te.success&&te.data?(await Z.from("orders").update({shiprocket_order_id:te.data.order_id?.toString(),shiprocket_shipment_id:te.data.shipment_id?.toString(),status:"processing"}).eq("id",Y.id),Fe({title:"Order Created in Shiprocket",description:"Opening Shiprocket dashboard..."}),window.open(`https://app.shiprocket.in/seller/orders/details/${te.data.order_id}`,"_blank"),he()):Fe({title:"Shiprocket Error",description:te.error||"Failed to create order in Shiprocket",variant:"destructive"})}catch(Ne){Fe({title:"Error",description:Ne.message||"Failed to ship order",variant:"destructive"})}finally{K(null),z(null)}}},de=async()=>{Y&&(B(!1),await we(Y),z(null))},we=async Ne=>{await ie(Ne.id,{status:"delivered"})},Oe=async Ne=>{await ie(Ne.id,{status:"cancelled"})},Ye=fe(),Je=t.filter(Ne=>{const te=new Date;return new Date(Ne.created_at).toDateString()===te.toDateString()});return s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:["Orders Management",S!==null&&j>0&&s.jsxs("span",{className:"text-muted-foreground text-xl ml-2",children:["(Showing ",Math.min(t.length,S)," of ",j,")"]})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage customer orders (Auto-cleanup: Orders older than 2 months)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{onClick:()=>{const Ne=oe();V(Ne.month,Ne.year)},variant:"outline",size:"sm",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export Previous Month"]}),s.jsxs(ae,{onClick:()=>{const Ne=ue();V(Ne.month,Ne.year)},variant:"outline",size:"sm",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export Current Month"]}),s.jsxs(ae,{onClick:he,variant:"outline",size:"sm",children:[s.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Bn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(ys,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:Je.length})]})]})}),s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(an,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Sync"}),s.jsx("p",{className:"text-sm font-medium",children:f.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),S!==null&&j>S&&s.jsxs(Kr,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsx(Yr,{className:"ml-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[k," Plan Limit"]}),s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:["You can only view ",S," orders. ",j-S," more ",j-S===1?"order is":"orders are"," hidden."]})]}),s.jsxs(ae,{onClick:()=>e("/admin/subscription"),size:"sm",className:"ml-4 flex-shrink-0",children:[s.jsx(Bge,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]}),s.jsxs(ke,{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx(Ve,{placeholder:"Search by name, phone, or order number...",value:i,onChange:Ne=>o(Ne.target.value),className:"flex-1"}),s.jsxs(yr,{value:u,onValueChange:d,children:[s.jsx(fr,{className:"w-full md:w-[180px]",children:s.jsx(br,{placeholder:"Filter by date"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Time"}),s.jsx(Ke,{value:"today",children:"Today"}),s.jsx(Ke,{value:"yesterday",children:"Yesterday"}),s.jsx(Ke,{value:"last7days",children:"Last 7 Days"}),s.jsx(Ke,{value:"last30days",children:"Last 30 Days"})]})]}),s.jsxs(yr,{value:l,onValueChange:c,children:[s.jsx(fr,{className:"w-full md:w-[180px]",children:s.jsx(br,{placeholder:"Filter by status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"new",children:"New"}),s.jsx(Ke,{value:"processing",children:"Processing"}),s.jsx(Ke,{value:"delivered",children:"Delivered"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),n?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):Ye.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Order #"}),s.jsx(tt,{children:"Date & Time"}),s.jsx(tt,{children:"Customer"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Items"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:Ye.map(Ne=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:Ne.order_number}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:U(Ne.created_at)}),s.jsx("div",{className:"text-muted-foreground",children:ne(Ne.created_at)})]})}),s.jsx(Xe,{children:Ne.customer_name}),s.jsx(Xe,{children:Ne.customer_phone}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[Array.isArray(Ne.items)?Ne.items.length:0," item",Array.isArray(Ne.items)&&Ne.items.length!==1?"s":""]})}),s.jsx(Xe,{className:"font-medium",children:Q(Ne.total)}),s.jsx(Xe,{children:ge(Ne.status)}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Se(Ne),title:"View Details",children:s.jsx(Ls,{className:"h-4 w-4"})}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Ee(Ne),title:"Edit Order",children:s.jsx(Wu,{className:"h-4 w-4"})}),Ne.status!=="delivered"&&Ne.status!=="cancelled"&&s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>qe(Ne),title:J?"Ship Order":"Mark as Delivered",className:"text-blue-600 hover:text-blue-700",disabled:G===Ne.id,children:G===Ne.id?s.jsx(Gt,{className:"h-4 w-4 animate-spin"}):s.jsx(fc,{className:"h-4 w-4"})}),Ne.status!=="cancelled"&&s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Oe(Ne),title:"Cancel Order",className:"text-destructive hover:text-destructive",children:s.jsx(vj,{className:"h-4 w-4"})})]})})]},Ne.id))})]})}),Ye.length>0&&s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",Ye.length," order",Ye.length!==1?"s":""]})]}),s.jsx(BFe,{order:p,open:g,onClose:()=>v(!1)}),s.jsx(UFe,{order:p,open:w,onClose:()=>b(!1),onSave:ie}),s.jsx(Sn,{open:I,onOpenChange:B,children:s.jsxs(yn,{className:"sm:max-w-md",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-2",children:[s.jsx(fc,{className:"h-5 w-5"}),"Ship Order"]}),s.jsx(ps,{children:Y&&s.jsxs("span",{children:["Order #",Y.order_number,"  ",Y.customer_name]})})]}),s.jsxs("div",{className:"grid gap-3 py-4",children:[O&&s.jsxs(ae,{onClick:He,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900",children:s.jsx(fc,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Ship via Shiprocket"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Create shipment with courier partner"})]})]}),s.jsxs(ae,{onClick:de,className:"w-full h-14 justify-start gap-4",variant:"outline",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:s.jsx(an,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Manual Delivery"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as delivered (self-delivery)"})]})]})]})]})})]})})},WFe=()=>{const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(null),[l,c]=_.useState("30");_.useEffect(()=>{u()},[l]);const u=async()=>{try{const{data:{session:m}}=await Z.auth.getSession();if(!m){e("/admin/login");return}const{data:p,error:y}=await Z.from("subscriptions").select("plan_id, status, subscription_plans(enable_analytics)").eq("user_id",m.user.id).maybeSingle();if(!p||y){a(!1),r(!1);return}const g=p?.subscription_plans?.enable_analytics||!1,v=["active","trial"].includes(p?.status);if(!g||!v){a(!1),r(!1);return}a(!0),await d()}catch(m){Fe({title:"Error",description:m.message,variant:"destructive"}),r(!1)}},d=async()=>{try{r(!0);const{data:{user:m}}=await Z.auth.getUser();if(!m)return;const{data:p}=await Z.from("stores").select("id").eq("user_id",m.id).single();if(!p)return;const y=new Date;y.setDate(y.getDate()-parseInt(l));const{data:g,error:v}=await Z.from("orders").select("*").eq("store_id",p.id).gte("created_at",y.toISOString());if(v)throw v;const w=g?.reduce((C,k)=>C+k.total,0)||0,b=g?.length||0,j=b>0?w/b:0,E=new Map;g?.forEach(C=>{Array.isArray(C.items)&&C.items.forEach(k=>{const R=E.get(k.productId)||{name:k.productName,quantity:0,revenue:0};R.quantity+=k.quantity,R.revenue+=k.price*k.quantity,E.set(k.productId,R)})});const S=Array.from(E.values()).sort((C,k)=>k.revenue-C.revenue).slice(0,5);o({totalRevenue:w,ordersCount:b,averageOrderValue:j,topProducts:S})}catch(m){Fe({title:"Error",description:m.message,variant:"destructive"})}finally{r(!1)}},f=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(m);return t?s.jsx(rs,{children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})})}):n?s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your store performance and sales"})]}),s.jsxs(yr,{value:l,onValueChange:c,children:[s.jsxs(fr,{className:"w-[180px]",children:[s.jsx(Ml,{className:"h-4 w-4 mr-2"}),s.jsx(br,{})]}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"7",children:"Last 7 Days"}),s.jsx(Ke,{value:"30",children:"Last 30 Days"}),s.jsx(Ke,{value:"90",children:"Last 90 Days"}),s.jsx(Ke,{value:"365",children:"Last Year"})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(ke,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Xa,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:f(i?.totalRevenue||0)})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(Nf,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:i?.ordersCount||0})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsx(Al,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Order Value"}),s.jsx("p",{className:"text-2xl font-bold",children:f(i?.averageOrderValue||0)})]})]})})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Top Selling Products"})}),s.jsx(Te,{children:i?.topProducts&&i.topProducts.length>0?s.jsx("div",{className:"space-y-4",children:i.topProducts.map((m,p)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.quantity," units sold"]})]}),s.jsx("p",{className:"text-lg font-bold text-primary",children:f(m.revenue)})]},p))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales data available for this period"})})]})]})}):s.jsx(rs,{children:s.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[s.jsx(Bn,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Not Available"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"You need a subscription plan with analytics enabled to access this feature."})]})})};function HFe(){const[e,t]=_.useState([]),[r,n]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState(null),[m,p]=_.useState(null),[y,g]=_.useState(!1),[v,w]=_.useState(null),[b,j]=_.useState(!1),[E,S]=_.useState([]),[C,k]=_.useState(!1),[R,O]=_.useState(new Set),[A,P]=_.useState("vps"),[D,F]=_.useState(""),[L,H]=_.useState(null),[W,G]=_.useState(""),[K,I]=_.useState(null),[B,Y]=_.useState("");_.useEffect(()=>{z()},[]);const z=async()=>{try{l(!0);const{data:{user:U}}=await Z.auth.getUser();if(!U)return;const{data:ne}=await Z.from("stores").select("id, google_access_token").eq("user_id",U.id).single();if(!ne)return;w(ne.id),k(!!ne.google_access_token);const{data:Q,error:V}=await Z.from("categories").select("*").eq("store_id",ne.id).order("name");if(V)throw V;t(Q||[])}catch(U){Fe({title:"Error",description:U.message,variant:"destructive"})}finally{l(!1)}},J=async()=>{if(!r.trim()){F("Category name is required"),document.getElementById("categoryName")?.focus();return}if(F(""),!v){Fe({title:"Error",description:"Store not found",variant:"destructive"});return}try{u(!0);let U=a.trim();if(L&&A==="vps"){const{data:{session:Q}}=await Z.auth.getSession();if(!Q)throw new Error("Not authenticated");const{data:{user:V}}=await Z.auth.getUser();if(!V)throw new Error("User not found");const{data:ue,error:oe}=await Z.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",V.id).single();if(oe||!ue)throw new Error("Store not found");const Se=L.size/1024/1024,Ee=ue.storage_used_mb||0,ie=ue.storage_limit_mb||100;if(Ee+Se>ie)throw new Error(`Storage limit reached. You have ${(ie-Ee).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);S([{name:L.name,progress:10}]);const qe=new FormData;qe.append("file",L),qe.append("type","categories");const He=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:qe}),de=await He.json();if(!He.ok||!de.success)throw new Error(de.error||"Failed to upload image");U=de.imageUrl;const we=de.fileId||L.name,{error:Oe}=await Z.from("media_library").insert({store_id:ue.id,file_url:U,file_name:we,file_size_mb:Se,file_type:"categories"});Oe&&console.error("Failed to add to media library:",Oe);const{error:Ye}=await Z.from("stores").update({storage_used_mb:Ee+Se}).eq("id",ue.id);Ye&&console.error("Failed to update storage usage:",Ye),S([])}U||(U=EEe());const{error:ne}=await Z.from("categories").insert([{name:r.trim(),store_id:v,image_url:U}]);if(ne)throw ne;W&&URL.revokeObjectURL(W),H(null),G(""),Fe({title:"Success",description:"Category added successfully"}),n(""),i(""),F(""),z()}catch(U){Fe({title:"Error",description:U.message,variant:"destructive"})}finally{u(!1),S([])}},X=async()=>{if(d)try{if(d.image_url&&d.image_url.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:d.image_url})}),await Z.from("media_library").delete().eq("file_url",d.image_url),console.log("Category image deleted from VPS and media library:",d.image_url)}catch(ne){console.error("Failed to delete image:",ne)}const{error:U}=await Z.from("categories").delete().eq("id",d.id);if(U)throw U;Fe({title:"Success",description:"Category deleted successfully"}),z()}catch(U){Fe({title:"Error",description:U.message,variant:"destructive"})}finally{f(null)}},ee=U=>{p({...U,newName:U.name,newImageUrl:U.image_url||""})},he=async()=>{if(m){if(!m.newName.trim()){Fe({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}try{g(!0);let U=m.newImageUrl.trim();if(K&&A==="vps"){const{data:{session:V}}=await Z.auth.getSession();if(!V)throw new Error("Not authenticated");const{data:{user:ue}}=await Z.auth.getUser();if(!ue)throw new Error("User not found");const{data:oe,error:Se}=await Z.from("stores").select("id, storage_used_mb, storage_limit_mb").eq("user_id",ue.id).single();if(Se||!oe)throw new Error("Store not found");const Ee=K.size/1024/1024,ie=oe.storage_used_mb||0,qe=oe.storage_limit_mb||100;if(ie+Ee>qe)throw new Error(`Storage limit reached. You have ${(qe-ie).toFixed(2)}MB remaining. Delete images from Media Library to free space.`);S([{name:K.name,progress:10}]);const He=new FormData;He.append("file",K),He.append("type","categories");const de=await fetch("https://digitaldukandar.in/api/upload.php",{method:"POST",body:He}),we=await de.json();if(!de.ok||!we.success)throw new Error(we.error||"Failed to upload image");U=we.imageUrl;const Oe=we.fileId||K.name,{error:Ye}=await Z.from("media_library").insert({store_id:oe.id,file_url:U,file_name:Oe,file_size_mb:Ee,file_type:"categories"});Ye&&console.error("Failed to add to media library:",Ye);const{error:Je}=await Z.from("stores").update({storage_used_mb:ie+Ee}).eq("id",oe.id);Je&&console.error("Failed to update storage usage:",Je),S([])}const ne=m.image_url;if(ne&&ne!==U&&ne.includes("digitaldukandar.in/uploads/"))try{await fetch("https://digitaldukandar.in/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ne})}),await Z.from("media_library").delete().eq("file_url",ne),console.log("Old category image deleted from VPS and media library:",ne)}catch(V){console.error("Failed to delete old image:",V)}const{error:Q}=await Z.from("categories").update({name:m.newName.trim(),image_url:U||null}).eq("id",m.id);if(Q)throw Q;B&&URL.revokeObjectURL(B),I(null),Y(""),Fe({title:"Success",description:"Category updated successfully"}),p(null),z()}catch(U){Fe({title:"Error",description:U.message,variant:"destructive"})}finally{g(!1),S([])}}},fe=(U,ne)=>{if(!U.trim()){Fe({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let Q=U.trim();if(Q.includes("drive.google.com")){const V=Q.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);V&&(Q=`https://drive.google.com/thumbnail?id=${V[1]||V[2]}&sz=w1000`,Fe({title:" Google Drive Link Converted",description:"URL converted to direct image format. Preview shown below."}))}ne&&m?p(V=>V?{...V,newImageUrl:Q}:null):(i(Q),setTimeout(()=>{const V=document.querySelector("[data-image-preview]");V&&V.scrollIntoView({behavior:"smooth",block:"nearest"})},100))},ge=async(U,ne=!1)=>{let Q=U.target.files?.[0];if(Q){if(!Q.type.startsWith("image/")){Fe({title:"Invalid file type",description:`${Q.name} is not a valid image file`,variant:"destructive"});return}try{if(A==="vps"){try{const Ee=(Q.size/1024/1024).toFixed(2),ie=await E5(Q,5),qe=(ie.size/1024/1024).toFixed(2);console.log(`Image compressed: ${Ee}MB  ${qe}MB`),Q=ie}catch(Ee){console.error("Compression failed:",Ee),Fe({title:"Compression failed",description:`Failed to compress ${Q.name}, using original`,variant:"destructive"})}const Se=URL.createObjectURL(Q);ne?(B&&URL.revokeObjectURL(B),I(Q),Y(Se),m&&p(Ee=>Ee?{...Ee,newImageUrl:Se}:null)):(W&&URL.revokeObjectURL(W),H(Q),G(Se),i(Se)),Fe({title:"Image ready",description:`${Q.name} will be uploaded when you save the category`});return}j(!0),S([{name:Q.name,progress:0}]);const{data:{session:V}}=await Z.auth.getSession();if(!V)throw new Error("Not authenticated");S([{name:Q.name,progress:10}]);const ue=new FormData;ue.append("file",Q),ue.append("type","categories");const oe=setInterval(()=>{S(Se=>Se.map(Ee=>Ee.progress<90?{...Ee,progress:Ee.progress+10}:Ee))},200);try{const Se=await Z.functions.invoke("upload-to-drive",{body:ue,headers:{Authorization:`Bearer ${V.access_token}`}});if(clearInterval(oe),Se.error)throw new Error(Se.error.message||"Failed to upload image");Se.data?.imageUrl&&(S([{name:Q.name,progress:100}]),await new Promise(Ee=>setTimeout(Ee,500)),ne&&m?p(Ee=>Ee?{...Ee,newImageUrl:Se.data.imageUrl}:null):(i(Se.data.imageUrl),setTimeout(()=>{const Ee=document.querySelector("[data-image-preview]");Ee&&Ee.scrollIntoView({behavior:"smooth",block:"nearest"})},100)),Fe({title:" Image uploaded successfully!",description:`${Q.name} is ready to use. Preview shown below.`}))}catch(Se){throw clearInterval(oe),Se}}catch(V){console.error("Upload error:",V);let ue=V.message||"";if(V.context?.body)try{const oe=JSON.parse(V.context.body);ue=oe.error||oe.message||ue}catch(oe){console.error("Could not parse error body:",oe)}ue.toLowerCase().includes("storage limit")?Fe({title:"Storage Limit Reached",description:ue,variant:"destructive",duration:6e3}):ue.toLowerCase().includes("drive")&&ue.toLowerCase().includes("not connected")?Fe({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first.",variant:"destructive",duration:6e3}):ue.toLowerCase().includes("token")||ue.toLowerCase().includes("expired")?Fe({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Fe({title:"Upload Failed",description:ue||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{j(!1),S([]),U.target.value=""}}};return s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Category Management"})}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(Ce,{htmlFor:"categoryName",className:"text-base font-medium",children:["Category Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ve,{id:"categoryName",placeholder:"Enter category name...",value:r,onChange:U=>{n(U.target.value),D&&F("")},onKeyPress:U=>U.key==="Enter"&&!U.shiftKey&&J(),className:`mt-2 ${D?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":!!D,"aria-describedby":D?"name-error":void 0}),D&&s.jsxs("p",{id:"name-error",className:"text-sm text-destructive mt-1.5 flex items-center gap-1",children:[s.jsx(Bi,{className:"w-4 h-4"}),D]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"vps",checked:A==="vps",onChange:U=>P(U.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"categoryUploadDestination",value:"drive",checked:A==="drive",onChange:U=>P(U.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-sm",children:["Google Drive ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:A==="vps"?"Images compressed to max 5MB and stored on server":"Images uploaded to your connected Google Drive"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${b?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"categoryImageUpload",accept:"image/*",onChange:U=>ge(U,!1),className:"hidden",disabled:b||!C}),s.jsx("label",{htmlFor:"categoryImageUpload",className:`block p-6 text-center ${b||!C?"cursor-not-allowed":"cursor-pointer"}`,children:b&&E.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin"}),s.jsx("span",{className:"font-medium text-foreground",children:"Uploading..."})]}),E.map((U,ne)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-3 border max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[U.progress<100?s.jsx(Gt,{className:"w-5 h-5 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:U.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:U.progress<100?"Uploading to Google Drive...":"Complete!"})]}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[U.progress,"%"]})]}),s.jsx("div",{className:"mt-2 h-1.5 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${U.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${U.progress}%`}})})]},ne))]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(Yd,{className:"w-8 h-8 mx-auto text-muted-foreground"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:C?"Click to upload image":"Google Drive Not Connected"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C?"PNG, JPG images. Will be uploaded to your Google Drive.":"Connect Google Drive in Store Settings to enable uploads"})]})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-sm font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"https://drive.google.com/file/d/... (optional)",value:a,onChange:U=>i(U.target.value),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),fe(a,!1))},className:"flex-1"}),s.jsx(ae,{type:"button",variant:"secondary",onClick:()=>fe(a,!1),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted to a direct image URL."})]}),a&&s.jsxs("div",{"data-image-preview":!0,className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(""),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx($a,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:hf(a)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:U=>{U.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:a})]})]})]})]}),s.jsxs(ae,{onClick:J,disabled:c,className:"w-full",children:[c?s.jsx(Gt,{className:"h-4 w-4 animate-spin"}):s.jsx(Gi,{className:"h-4 w-4"}),s.jsx("span",{className:"ml-2",children:"Add Category"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(Ce,{className:"text-base font-medium",children:["Your Categories (",e.length,")"]})}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gt,{className:"w-8 h-8 mx-auto mb-3 text-primary animate-spin"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading categories..."})]}):e.length===0?s.jsx("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted",children:s.jsx(Bn,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"No categories yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add your first category using the form above"})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(U=>s.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-lg hover:border-primary/50 transition-all duration-300",children:[s.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[s.jsx("img",{src:hf(U.image_url||"")||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:U.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:ne=>{ne.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}}),s.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[s.jsxs(ae,{size:"sm",variant:"secondary",onClick:()=>ee(U),className:"shadow-lg",title:"Edit category",children:[s.jsx(MB,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>f(U),className:"shadow-lg",title:"Delete category",children:[s.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate group-hover:text-primary transition-colors",children:U.name}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Category"})]}),s.jsxs("div",{className:"sm:hidden border-t p-2 flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>ee(U),className:"flex-1",children:[s.jsx(MB,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>f(U),className:"flex-1 text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[s.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]},U.id))})]}),s.jsx(g0,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Em,{children:"Delete Category"}),s.jsxs(Tm,{children:['Are you sure you want to delete the category "',d?.name,'"? This action cannot be undone.']})]}),s.jsxs(Cm,{children:[s.jsx(Pm,{children:"Cancel"}),s.jsx(Am,{onClick:X,className:"bg-destructive",children:"Delete"})]})]})}),s.jsx(g0,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(Sm,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(km,{children:[s.jsx(Em,{children:"Edit Category"}),s.jsx(Tm,{children:"Update the category name and image."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Name"}),s.jsx(Ve,{placeholder:"Enter category name...",value:m?.newName||"",onChange:U=>p(ne=>ne?{...ne,newName:U.target.value}:null)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Category Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-xs font-medium",children:"Upload Destination"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"vps",checked:A==="vps",onChange:U=>P(U.target.value),className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-xs",children:["VPS Server ",s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Recommended)"})]})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"editCategoryUploadDestination",value:"drive",checked:A==="drive",onChange:U=>P(U.target.value),className:"w-4 h-4 text-primary",disabled:!C}),s.jsxs("span",{className:"text-xs",children:["Google Drive ",!C&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not Connected)"})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-xs font-medium text-muted-foreground",children:"Option 1: Upload from Device"}),s.jsxs("div",{className:`relative border-2 border-dashed rounded-lg overflow-hidden transition-colors ${b?"border-primary/50 bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[s.jsx("input",{type:"file",id:"editCategoryImageUpload",accept:"image/*",onChange:U=>ge(U,!0),className:"hidden",disabled:b||!C}),s.jsx("label",{htmlFor:"editCategoryImageUpload",className:`block p-4 text-center ${b||!C?"cursor-not-allowed":"cursor-pointer"}`,children:b&&E.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Gt,{className:"w-4 h-4 text-primary animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Uploading..."})]}),E.map((U,ne)=>s.jsxs("div",{className:"bg-background/80 rounded-lg p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[U.progress<100?s.jsx(Gt,{className:"w-4 h-4 text-primary animate-spin flex-shrink-0"}):s.jsx(an,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:U.name})}),s.jsxs("span",{className:"text-xs font-medium text-primary",children:[U.progress,"%"]})]}),s.jsx("div",{className:"mt-1.5 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-300 ease-out rounded-full ${U.progress===100?"bg-green-500":"bg-primary"}`,style:{width:`${U.progress}%`}})})]},ne))]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Yd,{className:"w-6 h-6 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-xs font-medium",children:C?"Click to upload":"Google Drive Not Connected"})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"OR"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"text-xs font-medium text-muted-foreground",children:"Option 2: Paste Google Drive URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{placeholder:"https://drive.google.com/file/d/...",value:m?.newImageUrl||"",onChange:U=>p(ne=>ne?{...ne,newImageUrl:U.target.value}:null),onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),fe(m?.newImageUrl||"",!0))},className:"flex-1"}),s.jsx(ae,{type:"button",variant:"secondary",onClick:()=>fe(m?.newImageUrl||"",!0),size:"sm",className:"px-4",children:"Add"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a Google Drive share link. It will be automatically converted."})]}),m?.newImageUrl&&s.jsxs("div",{className:"border-2 border-primary/30 rounded-lg overflow-hidden bg-card shadow-sm animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{className:"bg-primary/5 px-3 py-2 border-b flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-green-500 animate-in zoom-in duration-300"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:" Image Ready"})]}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(U=>U?{...U,newImageUrl:""}:null),className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx($a,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"max-w-xs mx-auto",children:s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden ring-2 ring-primary/20",children:s.jsx("img",{src:hf(m.newImageUrl)||"",alt:"Category Preview",className:"w-full h-full object-cover",onError:U=>{U.currentTarget.src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"}})})}),s.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs break-all",children:[s.jsx("span",{className:"text-muted-foreground",children:"URL: "}),s.jsx("span",{className:"font-mono text-foreground",children:m.newImageUrl})]})]})]})]})]}),s.jsxs(Cm,{children:[s.jsx(Pm,{children:"Cancel"}),s.jsxs(Am,{onClick:he,disabled:y,children:[y?s.jsx(Gt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update"]})]})]})})]})]})}const GFe=()=>{const e=wr();_.useEffect(()=>{t()},[]);const t=async()=>{const{data:{session:r}}=await Z.auth.getSession();r||e("/admin/login")};return s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your product categories"})]}),s.jsx(HFe,{})]})})},KFe=()=>{const e=wr(),[t,r]=_.useState(null),[n,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(0),[u,d]=_.useState(!1),[f,m]=_.useState(null),[p,y]=_.useState(null);_.useEffect(()=>{g()},[]),_.useEffect(()=>{if(!p)return;const O=()=>{const P=new Date,D=p.getTime()-P.getTime();if(D<=0){m({days:0,hours:0,minutes:0,seconds:0});return}const F=Math.floor(D/(1e3*60*60*24)),L=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),H=Math.floor(D%(1e3*60*60)/(1e3*60)),W=Math.floor(D%(1e3*60)/1e3);m({days:F,hours:L,minutes:H,seconds:W})};O();const A=setInterval(O,1e3);return()=>clearInterval(A)},[p]);const g=async()=>{try{const{data:{user:O}}=await Z.auth.getUser();if(!O){e("/auth");return}const{data:A}=await Z.from("stores").select("id").eq("user_id",O.id).single();if(A){const{count:G}=await Z.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",A.id);c(G||0)}const{data:P,error:D}=await Z.from("subscriptions").select(`
          *,
          subscription_plans (*)
        `).eq("user_id",O.id).order("updated_at",{ascending:!1});let F=null;if(P&&P.length>0){const G=new Date,K=P.filter(B=>!(B.status==="cancelled"||B.status==="expired"||B.current_period_end&&new Date(B.current_period_end)<G)),I=K.filter(B=>B.status==="active");I.length>0?F=I[0]:F=K[0]}if(D&&D.code!=="PGRST116")throw D;if(F){const G={...F,subscription_plans:{...F.subscription_plans,features:Array.isArray(F.subscription_plans.features)?F.subscription_plans.features:[]}};r(G),F.current_period_end?y(new Date(F.current_period_end)):F.trial_ends_at&&y(new Date(F.trial_ends_at))}const{data:L,error:H}=await Z.from("subscription_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(H)throw H;const W=(L||[]).map(G=>({...G,features:Array.isArray(G.features)?G.features:[]}));a(W)}catch(O){console.error("Error fetching subscription data:",O),ot.error("Failed to load subscription data")}finally{o(!1)}},v=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O),w=O=>O?new Date(O).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",b=()=>{if(!t)return 0;const O=t.subscription_plans?.whatsapp_orders_limit;if(O===null||O===0)return 0;const A=t.whatsapp_orders_used||0,P=A/O*100;return console.log("WhatsApp Usage:",{used:A,limit:O,percentage:P}),Math.min(P,100)},j=()=>{if(!t)return 0;const O=t.subscription_plans?.website_orders_limit;if(O===null||O===0)return 0;const A=t.website_orders_used||0,P=A/O*100;return console.log("Website Usage:",{used:A,limit:O,percentage:P}),Math.min(P,100)},E=O=>O>=96?"bg-red-600":O>=81?"bg-orange-500":O>=51?"bg-yellow-500":"bg-green-500",S=O=>O>=100?{level:"error",message:"Limit reached - Upgrade now!"}:O>=90?{level:"warning",message:"Almost at limit"}:O>=80?{level:"caution",message:"Running low on orders"}:null,C=async()=>{d(!0);try{await g(),ot.success("Refreshed! Order usage updated successfully.")}catch(O){console.error("Error refreshing:",O),ot.error("Failed to refresh data. Please try again.")}finally{d(!1)}},k=()=>{e("/pricing")},R=()=>t?.current_period_end?new Date(t.current_period_end)<new Date:!1;return i?s.jsx(rs,{children:s.jsx("div",{className:"pt-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."})})}):s.jsx(rs,{children:s.jsxs("div",{className:"space-y-8 p-6 md:p-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription plan"})]}),t&&f&&p&&!R()&&s.jsx(ke,{className:`border-l-4 ${t.status==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:s.jsx(Te,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ys,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${t.status==="trial"?"text-warning":"text-primary"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-foreground text-sm",children:t.status==="trial"?"Trial Status":"Subscription Status"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.status==="trial"?"Your free trial ends in ":"Your subscription renews in ",s.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[f.days,"d ",f.hours,"h ",f.minutes,"m ",f.seconds,"s"]})]})]})]})})}),t&&R()&&s.jsxs(Kr,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[s.jsx(ra,{className:"h-5 w-5"}),s.jsxs(Yr,{className:"ml-2",children:[s.jsx("span",{className:"font-semibold",children:"Your subscription has expired!"})," ","Your store cannot accept new orders. Please upgrade your plan to continue using our services."]})]}),t&&s.jsxs(ke,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:t.subscription_plans.name}),s.jsx(wt,{variant:R()?"destructive":t.status==="active"?"default":"secondary",children:R()?"Expired":t.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(t.billing_cycle==="yearly"&&t.subscription_plans.yearly_price?t.subscription_plans.yearly_price:t.subscription_plans.monthly_price)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.billing_cycle==="yearly"?"year":"month"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Billing:"})," ",t.billing_cycle==="yearly"?"Yearly":"Monthly"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ml,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:[s.jsx("span",{className:"font-medium",children:"Expires:"})," ",w(t.current_period_end)]})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Order Usage"}),s.jsxs(ae,{size:"sm",variant:"outline",onClick:C,disabled:u,children:[s.jsx(Ki,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.subscription_plans.whatsapp_orders_limit!==null&&(()=>{const O=b(),A=S(O);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"WhatsApp Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.whatsapp_orders_limit===0?`${t.whatsapp_orders_used||0} / Unlimited`:`${t.whatsapp_orders_used||0} / ${t.subscription_plans.whatsapp_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${E(O)}`,style:{width:`${O}%`}})})}),A&&s.jsxs(Kr,{variant:A.level==="error"?"destructive":"default",className:`mt-2 ${A.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":A.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx(Yr,{className:"ml-2 text-sm font-medium",children:A.message})]})]})})(),t.subscription_plans.website_orders_limit!==null&&(()=>{const O=j(),A=S(O);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Website Orders"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.website_orders_limit===0?`${t.website_orders_used||0} / Unlimited`:`${t.website_orders_used||0} / ${t.subscription_plans.website_orders_limit}`})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all duration-500 ${E(O)}`,style:{width:`${O}%`}})})}),A&&s.jsxs(Kr,{variant:A.level==="error"?"destructive":"default",className:`mt-2 ${A.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":A.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx(Yr,{className:"ml-2 text-sm font-medium",children:A.message})]})]})})()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.next_billing_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ml,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Next billing: ",w(t.next_billing_at)]})]})}),t.trial_ends_at&&s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Bn,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-foreground",children:["Trial ends: ",w(t.trial_ends_at)]})]})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Plan Features"}),s.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.subscription_plans.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:t.subscription_plans.max_products===0?"Unlimited Products":`Max ${t.subscription_plans.max_products} Product${t.subscription_plans.max_products===1?"":"s"}`})]}),t.subscription_plans.features.filter(O=>{if(!O||typeof O!="string"||O.trim()==="")return!1;const A=O.toLowerCase();return!A.includes("analytics")&&!A.includes("email")&&!A.includes("notification")&&!A.includes("location")&&!A.includes("tracking")&&!A.includes("product")&&!A.includes("support")&&!A.includes("whatsapp order")&&!A.includes("website order")}).map((O,A)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O})]},A)),t.subscription_plans.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),t.subscription_plans.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),t.subscription_plans.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>{const A=t?.plan_id===O.id;return s.jsxs(ke,{className:`p-6 flex flex-col ${A?"border-primary":"border-border"}`,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-1",children:O.name}),O.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:O.description})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(O.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]}),s.jsxs("ul",{className:"space-y-2 mb-6 flex-1",children:[O.max_products!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.max_products===0?"Unlimited Products":`Max ${O.max_products} Product${O.max_products===1?"":"s"}`})]}),O.features.filter(P=>{if(!P||typeof P!="string"||P.trim()==="")return!1;const D=P.toLowerCase();return!D.includes("analytics")&&!D.includes("email")&&!D.includes("notification")&&!D.includes("location")&&!D.includes("tracking")&&!D.includes("product")&&!D.includes("support")&&!D.includes("whatsapp order")&&!D.includes("website order")}).map((P,D)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:P})]},D)),O.enable_analytics&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),O.enable_order_emails&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),O.enable_location_sharing&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]}),O.whatsapp_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.whatsapp_orders_limit===0?"Unlimited WhatsApp orders/month":`${O.whatsapp_orders_limit} WhatsApp order${O.whatsapp_orders_limit===1?"":"s"}/month`})]}),O.website_orders_limit!==null&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:O.website_orders_limit===0?"Unlimited Website orders/month":`${O.website_orders_limit} Website order${O.website_orders_limit===1?"":"s"}/month`})]})]}),s.jsx(ae,{className:"w-full",variant:A?"outline":"default",disabled:A,onClick:k,children:A?"Current Plan":s.jsxs(s.Fragment,{children:["Upgrade Now ",s.jsx(xj,{className:"w-4 h-4 ml-2"})]})})]},O.id)})})]})]})})},YFe=()=>{const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(null),[f,m]=_.useState(!1),[p,y]=_.useState(!1),[g,v]=_.useState(null),[w,b]=_.useState(null),[j,E]=_.useState({alternate_names:"",seo_description:"",business_phone:"",business_email:"",street_address:"",city:"",state:"",postal_code:"",country:"IN",opening_hours:"",price_range:""});_.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:{session:A}}=await Z.auth.getSession();if(!A){e("/auth");return}const{data:P,error:D}=await Z.from("stores").select("*").eq("user_id",A.user.id).single();if(D||!P){Fe({variant:"destructive",title:"Error",description:"Could not load store data"});return}const{data:F}=await Z.from("profiles").select("phone, email").eq("user_id",A.user.id).single();d(P.id),o(P.name||""),c(P.slug||""),E({alternate_names:P.alternate_names||"",price_range:P.price_range||"",opening_hours:P.opening_hours||"",city:P.city||"",state:P.state||"",postal_code:P.postal_code||"",country:P.country||"IN",seo_description:P.seo_description||P.description||"",business_phone:P.business_phone||F?.phone||P.whatsapp_number||"",business_email:P.business_email||F?.email||"",street_address:P.street_address||P.address||""})}catch(A){console.error("Error loading store data:",A)}finally{r(!1)}},C=async()=>{if(u){a(!0);try{const{error:A}=await Z.from("stores").update({alternate_names:j.alternate_names,seo_description:j.seo_description,business_phone:j.business_phone,business_email:j.business_email,street_address:j.street_address,city:j.city,state:j.state,postal_code:j.postal_code,country:j.country,opening_hours:j.opening_hours,price_range:j.price_range}).eq("id",u);if(A)throw A;Fe({title:"SEO Settings Saved",description:"Your SEO settings have been updated successfully. Changes may take a few days to reflect in search results."})}catch(A){Fe({variant:"destructive",title:"Error",description:A.message||"Failed to save SEO settings"})}finally{a(!1)}}},k=()=>{if(!i)return;const A=i,P=[],D=A.replace(/([a-z])([A-Z])/g,"$1 $2");D!==A&&P.push(D);const F=A.replace(/\s+/g,"");F!==A&&P.push(F);const L=A.replace(/a/gi,"aa").replace(/e/gi,"ee");L!==A&&!P.includes(L)&&P.push(D.replace(/a/gi,"aa"));const H=[...new Set(P)].filter(W=>W!==A);E(W=>({...W,alternate_names:H.join(", ")})),Fe({title:"Variations Generated",description:`Generated ${H.length} name variations`})},R=async()=>{if(!u){Fe({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{m(!0),v(null),Fe({title:"Submitting Sitemap",description:"Submitting your sitemap to Google Search Console..."});const{data:{session:A}}=await Z.auth.getSession();if(!A)throw new Error("Not authenticated. Please login again.");const D=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A.access_token}`},body:JSON.stringify({storeId:u})})).json();if(D.success)v(D.results?.[0]||{success:!0}),Fe({title:"Sitemap Submitted!",description:"Your sitemap has been submitted to Google. It may take a few days to appear in search results."});else throw new Error(D.error||"Failed to submit sitemap")}catch(A){console.error("Error submitting sitemap:",A),v({success:!1,error:A.message}),Fe({variant:"destructive",title:"Submission Failed",description:A.message||"Failed to submit sitemap to Google"})}finally{m(!1)}},O=async()=>{if(!u){Fe({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}try{y(!0),b(null),Fe({title:"Requesting Indexing",description:"Requesting immediate indexing from Google. This is faster than sitemap submission."});const{data:{session:A}}=await Z.auth.getSession();if(!A)throw new Error("Not authenticated. Please login again.");const D=await(await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A.access_token}`},body:JSON.stringify({storeId:u})})).json();if(D.success)b(D.results?.[0]||{success:!0}),Fe({title:"Indexing Requested!",description:"Successfully requested indexing. Your store should appear in Google within hours."});else throw new Error(D.error||"Failed to request indexing")}catch(A){console.error("Error requesting indexing:",A),b({success:!1,error:A.message}),Fe({variant:"destructive",title:"Indexing Failed",description:A.message||"Failed to request indexing from Google"})}finally{y(!1)}};return t?s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Gt,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(rs,{children:s.jsx(Mh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Fl,{className:"w-6 h-6"}),"SEO Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Optimize your store for search engines like Google"})]}),s.jsx(ae,{onClick:C,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(ke,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Te,{className:"flex items-start gap-3 pt-4",children:[s.jsx(lc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"How SEO helps your store"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:['These settings help Google understand your business better. When someone searches for "',i,'" or similar terms, Google will show rich information about your store including address, phone, and hours.']})]})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(fm,{className:"w-5 h-5"}),"Basic Information"]}),s.jsx(Cr,{children:"Help customers find your store with different search terms"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"storeName",children:"Store Name"}),s.jsx(Ve,{id:"storeName",value:i,disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Change this in Settings  Store Details"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ce,{htmlFor:"alternateNames",className:"flex items-center gap-2",children:["Also Known As",s.jsxs(mg,{children:[s.jsx(pg,{children:s.jsx(lc,{className:"w-3.5 h-3.5 text-muted-foreground"})}),s.jsx(Fh,{className:"max-w-xs",children:s.jsx("p",{children:"Add variations of your store name that customers might search for. Separate with commas."})})]})]}),s.jsxs(ae,{type:"button",variant:"ghost",size:"sm",onClick:k,className:"h-7 text-xs",children:[s.jsx(HJ,{className:"w-3 h-3 mr-1"}),"Auto Generate"]})]}),s.jsx(Ve,{id:"alternateNames",placeholder:"Sasu Masale, Sasu Masaale, SasuMasaale",value:j.alternate_names,onChange:A=>E(P=>({...P,alternate_names:A.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'Example: If store is "SasuMasale", add "Sasu Masale, Sasu Masaale"'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"seoDescription",children:["SEO Description",s.jsx(wt,{variant:"secondary",className:"ml-2 text-xs",children:"Important"})]}),s.jsx(ja,{id:"seoDescription",placeholder:"Fresh Indian spices store offering premium quality masale. Buy garam masala, turmeric, and more...",value:j.seo_description,onChange:A=>E(P=>({...P,seo_description:A.target.value})),rows:3}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.seo_description.length,"/160 characters (recommended)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"priceRange",children:"Price Range"}),s.jsxs("select",{id:"priceRange",value:j.price_range,onChange:A=>E(P=>({...P,price_range:A.target.value})),className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",children:[s.jsx("option",{value:"",children:" - Budget Friendly"}),s.jsx("option",{value:"",children:" - Moderate"}),s.jsx("option",{value:"",children:" - Premium"}),s.jsx("option",{value:"",children:" - Luxury"})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(dc,{className:"w-5 h-5"}),"Contact Information"]}),s.jsx(Cr,{children:"Help customers reach you directly from Google search"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"businessPhone",className:"flex items-center gap-2",children:[s.jsx(dc,{className:"w-4 h-4"}),"Business Phone"]}),s.jsx(Ve,{id:"businessPhone",placeholder:"+91-9876543210",value:j.business_phone,onChange:A=>E(P=>({...P,business_phone:A.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"businessEmail",className:"flex items-center gap-2",children:[s.jsx(xc,{className:"w-4 h-4"}),"Business Email"]}),s.jsx(Ve,{id:"businessEmail",type:"email",placeholder:"contact@yourstore.com",value:j.business_email,onChange:A=>E(P=>({...P,business_email:A.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"openingHours",className:"flex items-center gap-2",children:[s.jsx(ys,{className:"w-4 h-4"}),"Opening Hours"]}),s.jsx(Ve,{id:"openingHours",placeholder:"Mon-Sat: 9AM-9PM, Sun: 10AM-6PM",value:j.opening_hours,onChange:A=>E(P=>({...P,opening_hours:A.target.value}))})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(jf,{className:"w-5 h-5"}),"Business Address"]}),s.jsx(Cr,{children:"Appears on Google Maps and local search results"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"streetAddress",children:"Street Address"}),s.jsx(Ve,{id:"streetAddress",placeholder:"123 Spice Market, Main Road",value:j.street_address,onChange:A=>E(P=>({...P,street_address:A.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"city",children:"City"}),s.jsx(Ve,{id:"city",placeholder:"Mumbai",value:j.city,onChange:A=>E(P=>({...P,city:A.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"state",children:"State"}),s.jsx(Ve,{id:"state",placeholder:"Maharashtra",value:j.state,onChange:A=>E(P=>({...P,state:A.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(Ve,{id:"postalCode",placeholder:"400001",value:j.postal_code,onChange:A=>E(P=>({...P,postal_code:A.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"country",children:"Country"}),s.jsx(Ve,{id:"country",placeholder:"IN",value:j.country,onChange:A=>E(P=>({...P,country:A.target.value}))})]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"w-5 h-5"}),"Google Search Preview"]}),s.jsx(Cr,{children:"How your store might appear in Google search results"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"bg-white dark:bg-zinc-900 border rounded-lg p-4 max-w-xl",children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-1",children:[l,".digitaldukandar.in"]}),s.jsxs("div",{className:"text-lg text-blue-600 dark:text-blue-400 font-medium hover:underline cursor-pointer",children:[i,j.alternate_names?` (${j.alternate_names.split(",")[0]?.trim()})`:""," - Online Store"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:j.seo_description||`Shop at ${i}. Quality products at great prices.`}),(j.business_phone||j.city)&&s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[j.business_phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dc,{className:"w-3 h-3"}),j.business_phone]}),j.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jf,{className:"w-3 h-3"}),j.city,", ",j.state]})]})]})})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ki,{className:"w-5 h-5"}),"Google Indexing"]}),s.jsx(Cr,{children:"Submit your store to Google for faster indexing"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(lc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Two ways to get indexed:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-blue-800 dark:text-blue-200",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Submit Sitemap:"})," Traditional method, takes 3-7 days"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Request Indexing:"})," Faster method using Google Indexing API, appears within hours"]})]})]})]})]})}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:"Submit Sitemap"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit your sitemap to Google Search Console (slower but comprehensive)"})]}),s.jsx(ae,{onClick:R,disabled:f,variant:"outline",className:"w-full",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Submit Sitemap"]})}),g&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${g.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[g.success?s.jsx(Ss,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Gn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:g.success?s.jsx("p",{className:"font-medium",children:"Submitted successfully!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Submission failed"}),g.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:g.error})]})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm mb-1 flex items-center gap-1",children:["Request Indexing",s.jsx(wt,{variant:"secondary",className:"text-xs",children:"Faster"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Request immediate indexing via Google Indexing API (appears within hours)"})]}),s.jsx(ae,{onClick:O,disabled:p,className:"w-full",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Requesting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(aM,{className:"w-4 h-4 mr-2"}),"Request Indexing"]})}),w&&s.jsxs("div",{className:`flex items-start gap-2 text-sm p-3 rounded-lg ${w.success?"bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-800"}`,children:[w.success?s.jsx(Ss,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):s.jsx(Gn,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1 min-w-0",children:w.success?s.jsx("p",{className:"font-medium",children:"Indexing requested!"}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Request failed"}),w.error&&s.jsx("p",{className:"text-xs mt-1 opacity-90",children:w.error})]})})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-2",children:"Note:"}),s.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Sitemap is automatically submitted when you create/update your store"}),s.jsx("li",{children:'Use "Request Indexing" when you make important changes and need Google to re-crawl quickly'}),s.jsx("li",{children:"You can use both methods - they complement each other"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{onClick:C,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),"Save SEO Settings"]})})})]})})})},XFe=()=>{const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(""),[l,c]=_.useState(null),[u,d]=_.useState({facebook_url:"",instagram_url:"",twitter_url:"",youtube_url:"",linkedin_url:""});_.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:{session:w}}=await Z.auth.getSession();if(!w){e("/auth");return}const{data:b,error:j}=await Z.from("stores").select("*").eq("user_id",w.user.id).single();if(j||!b){Fe({variant:"destructive",title:"Error",description:"Could not load store data"});return}c(b.id),o(b.name||"");const E=b.social_links;d({facebook_url:b.facebook_url||E?.facebook||"",instagram_url:b.instagram_url||E?.instagram||"",twitter_url:b.twitter_url||E?.twitter||"",youtube_url:b.youtube_url||"",linkedin_url:b.linkedin_url||""})}catch(w){console.error("Error loading store data:",w)}finally{r(!1)}},m=async()=>{if(l){a(!0);try{const{error:w}=await Z.from("stores").update({facebook_url:u.facebook_url||null,instagram_url:u.instagram_url||null,twitter_url:u.twitter_url||null,youtube_url:u.youtube_url||null,linkedin_url:u.linkedin_url||null}).eq("id",l);if(w)throw w;Fe({title:"Social Media Settings Saved",description:"Your social media links have been updated successfully."})}catch(w){Fe({variant:"destructive",title:"Error",description:w.message||"Failed to save social media settings"})}finally{a(!1)}}},p=w=>{if(!w)return!0;try{return new URL(w),!0}catch{return!1}},y=w=>w?p(w)?"valid":"invalid":null;if(t)return s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Gt,{className:"w-8 h-8 animate-spin text-primary"})})});const g=[{key:"facebook_url",name:"Facebook",icon:rM,placeholder:"https://facebook.com/yourstore",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{key:"instagram_url",name:"Instagram",icon:Tl,placeholder:"https://instagram.com/yourstore",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30"},{key:"twitter_url",name:"Twitter / X",icon:sM,placeholder:"https://twitter.com/yourstore",color:"text-sky-500",bgColor:"bg-sky-100 dark:bg-sky-900/30"},{key:"youtube_url",name:"YouTube",icon:KJ,placeholder:"https://youtube.com/@yourstore",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/30"},{key:"linkedin_url",name:"LinkedIn",icon:zJ,placeholder:"https://linkedin.com/company/yourstore",color:"text-blue-700",bgColor:"bg-blue-100 dark:bg-blue-900/30"}],v=Object.values(u).filter(w=>w&&p(w)).length;return s.jsx(rs,{children:s.jsx(Mh,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Pg,{className:"w-6 h-6"}),"Social Media"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your social profiles to increase visibility"})]}),s.jsx(ae,{onClick:m,disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]}),s.jsx(ke,{className:"border-primary/20 bg-primary/5",children:s.jsxs(Te,{className:"flex items-center justify-between pt-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(lc,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-foreground",children:"Why Social Media Matters"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Social links appear in Google search results and help customers find and trust your store. Connected profiles also improve your SEO ranking."})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:v}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Connected"})]})]})}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"w-5 h-5"}),"Social Media Profiles"]}),s.jsx(Cr,{children:"Add your social media profile URLs. These will appear on your store and in search results."})]}),s.jsx(Te,{className:"space-y-6",children:g.map(w=>{const b=u[w.key],j=y(b);return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:w.key,className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${w.bgColor}`,children:s.jsx(w.icon,{className:`w-4 h-4 ${w.color}`})}),w.name,j==="valid"&&s.jsxs(wt,{variant:"secondary",className:"ml-2 text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{id:w.key,placeholder:w.placeholder,value:b,onChange:E=>d(S=>({...S,[w.key]:E.target.value})),className:j==="invalid"?"border-red-500":""}),b&&p(b)&&s.jsxs(mg,{children:[s.jsx(pg,{asChild:!0,children:s.jsx(ae,{type:"button",variant:"outline",size:"icon",onClick:()=>window.open(b,"_blank"),children:s.jsx(ya,{className:"w-4 h-4"})})}),s.jsx(Fh,{children:"Open in new tab"})]})]}),j==="invalid"&&s.jsx("p",{className:"text-xs text-red-500",children:"Please enter a valid URL"})]},w.key)})})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"w-5 h-5"}),"Preview"]}),s.jsx(Cr,{children:"How your social links will appear on your store footer"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Follow ",i," on social media:"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(w=>{const b=u[w.key],j=b&&p(b);return s.jsx("div",{className:`p-3 rounded-lg transition-all ${j?`${w.bgColor} cursor-pointer hover:scale-105`:"bg-muted/50 opacity-50"}`,children:s.jsx(w.icon,{className:`w-5 h-5 ${j?w.color:"text-muted-foreground"}`})},w.key)})}),v===0&&s.jsx("p",{className:"text-sm text-muted-foreground mt-4 italic",children:"No social profiles connected yet. Add URLs above to display them here."})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{onClick:m,disabled:n,size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vc,{className:"w-4 h-4 mr-2"}),"Save Social Media Settings"]})})})]})})})},JFe=()=>{const e=wr(),[t]=vw(),[r,n]=_.useState(!0),[a,i]=_.useState(!1),[o,l]=_.useState(null),[c,u]=_.useState(!1),[d,f]=_.useState(null),[m,p]=_.useState(null),[y,g]=_.useState({enabled:!1,default_message:"Thanks for your message! We'll get back to you soon.",rules:[]}),[v,w]=_.useState({enabled:!1,default_reply:"Thanks for your comment!"}),[b,j]=_.useState({enabled:!1,display_mode:"auto",max_reels:6,manual_reels:[],show_on_homepage:!0,section_title:"Follow Us on Instagram"}),[E,S]=_.useState(""),[C,k]=_.useState(!1),[R,O]=_.useState(""),[A,P]=_.useState("");_.useEffect(()=>{const X=t.get("status"),ee=t.get("message");X==="success"?(ot.success(ee||"Instagram connected successfully!"),e("/admin/growth/instagram",{replace:!0})):X==="error"&&(ot.error(ee||"Failed to connect Instagram"),e("/admin/growth/instagram",{replace:!0})),D()},[t]);const D=async()=>{try{n(!0);const{data:{user:X}}=await Z.auth.getUser();if(!X){e("/auth");return}const{data:ee,error:he}=await Z.from("stores").select("id, instagram_connected, instagram_username, instagram_token_expiry, auto_reply_settings, comment_auto_reply_settings, instagram_reels_settings").eq("user_id",X.id).single();if(he){console.error("Error loading store:",he),ot.error("Failed to load settings");return}l(ee.id),u(ee.instagram_connected||!1),f(ee.instagram_username),p(ee.instagram_token_expiry),ee.auto_reply_settings&&g(ee.auto_reply_settings),ee.comment_auto_reply_settings&&w(ee.comment_auto_reply_settings),ee.instagram_reels_settings&&j(ee.instagram_reels_settings)}catch(X){console.error("Error:",X),ot.error("Failed to load settings")}finally{n(!1)}},F=()=>{if(!o){ot.error("Store not found");return}const X=`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=connect&store_id=${o}`;window.location.href=X},L=async()=>{if(o)try{(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=disconnect&store_id=${o}`)).ok?(u(!1),f(null),p(null),ot.success("Instagram disconnected")):ot.error("Failed to disconnect")}catch(X){console.error("Error disconnecting:",X),ot.error("Failed to disconnect Instagram")}},H=async()=>{if(o)try{i(!0);const{error:X}=await Z.from("stores").update({auto_reply_settings:JSON.parse(JSON.stringify(y)),comment_auto_reply_settings:JSON.parse(JSON.stringify(v)),instagram_reels_settings:JSON.parse(JSON.stringify(b))}).eq("id",o);if(X)throw X;ot.success("Settings saved successfully!")}catch(X){console.error("Error saving:",X),ot.error("Failed to save settings")}finally{i(!1)}},W=()=>{if(!E.trim()){ot.error("Please enter a reel URL");return}if(!E.includes("instagram.com/reel/")&&!E.includes("instagram.com/p/")){ot.error("Invalid URL. Please use format: https://www.instagram.com/reel/xxx");return}if(b.manual_reels.some(ee=>ee.url===E.trim())){ot.error("This reel is already added");return}const X={url:E.trim(),added_at:new Date().toISOString()};j(ee=>({...ee,manual_reels:[...ee.manual_reels,X]})),S(""),ot.success("Reel added")},G=X=>{j(ee=>({...ee,manual_reels:ee.manual_reels.filter(he=>he.url!==X)}))},K=async()=>{if(o)try{k(!0);const ee=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?action=refresh&store_id=${o}`,{method:"POST"})).json();ee.success?ot.success(`Refreshed ${ee.count} reels from Instagram`):ot.error(ee.error||"Failed to refresh reels")}catch(X){console.error("Error refreshing reels:",X),ot.error("Failed to refresh reels")}finally{k(!1)}},I=X=>{const ee=X.match(/\/(reel|p)\/([A-Za-z0-9_-]+)/);return ee?ee[2]:X},B=()=>{if(!R.trim()||!A.trim()){ot.error("Please enter keywords and reply message");return}const X=R.split(",").map(he=>he.trim()).filter(he=>he),ee={id:Date.now().toString(),keywords:X,reply:A.trim()};g(he=>({...he,rules:[...he.rules,ee]})),O(""),P(""),ot.success("Rule added")},Y=X=>{g(ee=>({...ee,rules:ee.rules.filter(he=>he.id!==X)}))},z=()=>m?(new Date(m).getTime()-Date.now())/(1e3*60*60*24)<7:!1,J=async()=>{if(o)try{const ee=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-oauth?action=refresh&store_id=${o}`)).json();ee.success?(p(ee.expires_at),ot.success("Token refreshed successfully!")):ot.error(ee.error||"Failed to refresh token")}catch(X){console.error("Error refreshing token:",X),ot.error("Failed to refresh token")}};return r?s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Gt,{className:"w-8 h-8 animate-spin text-primary"})})}):s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Instagram Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your Instagram Business account and configure auto-replies"})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Tl,{className:"w-5 h-5"}),"Instagram Connection"]}),s.jsx(Cr,{children:"Connect your Instagram Business account to enable auto-replies"})]}),s.jsx(Te,{children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(rn,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-200",children:"Connected"}),d&&s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["@",d]})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:L,children:"Disconnect"})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${z()?"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200":"bg-muted"}`,children:[s.jsxs("p",{className:"text-sm",children:["Token expires: ",new Date(m).toLocaleDateString(),z()&&s.jsx("span",{className:"text-yellow-600 ml-2",children:"(Expiring soon!)"})]}),s.jsx(ae,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:J,children:"Refresh Token"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted rounded-lg",children:[s.jsx($a,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"Not Connected"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your Instagram to enable features"})]})]}),s.jsxs(ae,{onClick:F,className:"w-full sm:w-auto",children:[s.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Connect Instagram"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need an Instagram Business or Creator account connected to a Facebook Page."})]})})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Kh,{className:"w-5 h-5"}),"DM Auto-Reply"]}),s.jsx(Cr,{children:"Automatically reply to direct messages"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Enable Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to incoming DMs"})]}),s.jsx(Wr,{checked:y.enabled,onCheckedChange:X=>g(ee=>({...ee,enabled:X}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Default Reply Message"}),s.jsx(ja,{value:y.default_message,onChange:X=>g(ee=>({...ee,default_message:X.target.value})),placeholder:"Thanks for your message! We'll get back to you soon.",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message is sent when no keyword rules match"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{children:"Keyword Rules"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set specific replies for messages containing certain keywords"}),y.rules.length>0&&s.jsx("div",{className:"space-y-2",children:y.rules.map(X=>s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Keywords: ",X.keywords.join(", ")]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:X.reply})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>Y(X.id),children:s.jsx(Mn,{className:"w-4 h-4 text-destructive"})})]},X.id))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(Ve,{value:R,onChange:X=>O(X.target.value),placeholder:"Keywords (comma separated): price, cost, how much"}),s.jsx(ja,{value:A,onChange:X=>P(X.target.value),placeholder:"Reply message for these keywords...",rows:2}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:B,children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ige,{className:"w-5 h-5"}),"Comment Auto-Reply"]}),s.jsx(Cr,{children:"Automatically reply to comments on your posts"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Enable Comment Auto-Reply"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically respond to new comments"})]}),s.jsx(Wr,{checked:v.enabled,onCheckedChange:X=>w(ee=>({...ee,enabled:X}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Default Comment Reply"}),s.jsx(ja,{value:v.default_reply,onChange:X=>w(ee=>({...ee,default_reply:X.target.value})),placeholder:"Thanks for your comment!",rows:2})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(zge,{className:"w-5 h-5"}),"Instagram Reels on Store"]}),s.jsx(Cr,{children:"Display your Instagram Reels on your store's homepage"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Show Reels on Store"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Instagram Reels to customers"})]}),s.jsx(Wr,{checked:b.enabled,onCheckedChange:X=>j(ee=>({...ee,enabled:X}))})]}),b.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Section Title"}),s.jsx(Ve,{value:b.section_title,onChange:X=>j(ee=>({...ee,section_title:X.target.value})),placeholder:"Follow Us on Instagram"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Display Mode"}),s.jsxs(yr,{value:b.display_mode,onValueChange:X=>j(ee=>({...ee,display_mode:X})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"auto",children:"Auto-fetch from Instagram"}),s.jsx(Ke,{value:"manual",children:"Manual URLs only"}),s.jsx(Ke,{value:"both",children:"Both (Auto + Manual)"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.display_mode==="auto"&&"Automatically fetch your latest reels from Instagram",b.display_mode==="manual"&&"Only show reels you manually add",b.display_mode==="both"&&"Combine auto-fetched reels with manual ones"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Maximum Reels to Show"}),s.jsxs(yr,{value:b.max_reels.toString(),onValueChange:X=>j(ee=>({...ee,max_reels:parseInt(X)})),children:[s.jsx(fr,{className:"w-24",children:s.jsx(br,{})}),s.jsx(hr,{children:[3,4,6,8,9,12].map(X=>s.jsx(Ke,{value:X.toString(),children:X},X))})]})]}),(b.display_mode==="auto"||b.display_mode==="both")&&s.jsx("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-Fetch Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetch your latest reels from Instagram"})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:K,disabled:C,children:C?s.jsx(Gt,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),(b.display_mode==="manual"||b.display_mode==="both")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ce,{children:"Manual Reels"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add specific reels you want to display on your store"}),b.manual_reels.length>0&&s.jsx("div",{className:"space-y-2",children:b.manual_reels.map(X=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[s.jsx(Tl,{className:"w-4 h-4 text-pink-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:I(X.url)}),s.jsxs("a",{href:X.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-primary flex items-center gap-1",children:["View ",s.jsx(ya,{className:"w-3 h-3"})]})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>G(X.url),children:s.jsx(Mn,{className:"w-4 h-4 text-destructive"})})]},X.url))}),s.jsxs("div",{className:"p-4 border border-dashed rounded-lg space-y-3",children:[s.jsx(Ve,{value:E,onChange:X=>S(X.target.value),placeholder:"https://www.instagram.com/reel/ABC123..."}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:W,children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Add Reel"]})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ae,{onClick:H,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Settings"})})]})]})})},Cie=()=>new Promise(e=>{if(window.Razorpay){e(!0);return}const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.async=!1,t.onload=()=>e(!0),t.onerror=()=>e(!1),document.head.appendChild(t)}),ZFe=async(e,t,r)=>{try{const{data:n,error:a}=await Z.functions.invoke("create-razorpay-order",{body:{amount:Math.round(e*100),currency:t,storeId:r}});if(a)throw a;return!n.orderId||!n.orderId.startsWith("order_")?(console.error("Invalid Razorpay order ID:",n.orderId),{orderId:"",error:"Invalid order ID format"}):(console.log(" Razorpay order created:",n.orderId),{orderId:n.orderId})}catch(n){return console.error("Error creating Razorpay order:",n),{orderId:"",error:n.message||"Failed to create order"}}},QFe=async(e,t,r)=>{try{if(!await Cie())return{success:!1,error:"Failed to load Razorpay SDK"};if(!e.orderId||!e.orderId.startsWith("order_"))return console.error("CRITICAL ERROR: Invalid Razorpay Order ID format:",e.orderId),{success:!1,error:"Invalid Order ID. Please try again."};console.log(" Opening Razorpay with order_id:",e.orderId);const a={key:t.key_id,amount:Math.round(e.amount*100),currency:e.currency,name:"Your Store Name",description:`Order #${e.orderNumber}`,order_id:String(e.orderId),prefill:{name:e.customerName,email:e.customerEmail||"",contact:e.customerPhone},theme:{color:"#3b82f6"},handler:function(o){console.log(" Razorpay handler response:",o),console.log("razorpay_payment_id:",o.razorpay_payment_id),console.log("razorpay_order_id:",o.razorpay_order_id),console.log("razorpay_signature:",o.razorpay_signature),r.onSuccess(o)},modal:{ondismiss:function(){r.onDismiss&&r.onDismiss()}}},i=new window.Razorpay(a);return i.on("payment.failed",function(o){r.onFailure({code:o.error.code,description:o.error.description,reason:o.error.reason})}),i.open(),{success:!0}}catch(n){return console.error("Razorpay checkout error:",n),{success:!1,error:n.message||"Payment failed"}}},e6e=async(e,t,r,n)=>{try{const{data:a,error:i}=await Z.functions.invoke("verify-razorpay-payment",{body:{razorpay_order_id:e,razorpay_payment_id:t,razorpay_signature:r,storeId:n}});if(i)throw i;return{verified:a.verified}}catch(a){return console.error("Error verifying Razorpay payment:",a),{verified:!1,error:a.message}}},Eie=e=>{if(e.is_free)return[];const t=[],r=e.pricing_model||"onetime";return(r==="onetime"||r==="mixed")&&t.push({type:"onetime",price:e.price_onetime||e.price,quota:e.quota_onetime||15,label:"One-time Purchase",description:`${e.quota_onetime||15} API calls per month, lifetime access`}),(r==="monthly"||r==="mixed")&&t.push({type:"monthly",price:e.price_monthly||0,quota:e.quota_monthly||30,label:"Monthly Subscription",description:`${e.quota_monthly||30} API calls per month, auto-renew`}),(r==="yearly"||r==="mixed")&&t.push({type:"yearly",price:e.price_yearly||0,quota:e.quota_yearly||50,label:"Yearly Subscription",description:`${e.quota_yearly||50} API calls per month, billed annually`}),t},Tie=async(e,t)=>{try{const{data:r,error:n}=await Z.from("marketplace_purchases").select("*").eq("store_id",e).eq("feature_slug",t).eq("status","active").maybeSingle();if(n)throw n;return{purchased:!!r,purchase:r}}catch(r){return console.error("Error checking existing purchase:",r),{purchased:!1}}},t6e=async(e,t,r,n,a)=>{try{const o=Eie(e).find(f=>f.type===t);if(!o)return{success:!1,error:"Invalid pricing option"};const{purchased:l}=await Tie(r,e.slug);if(l)return{success:!1,error:"Feature already purchased"};if(!await Cie())return{success:!1,error:"Failed to load payment gateway"};console.log(" Calling marketplace-payment edge function with:",{action:"create_order",feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n});const{data:u,error:d}=await Z.functions.invoke("marketplace-payment",{body:{action:"create_order",feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n}});return console.log(" Edge function response:",{orderData:u,orderError:d}),d||!u?.success?(console.error(" Edge function error:",d),console.error(" Order data:",u),{success:!1,error:u?.error||d?.message||"Failed to create payment order"}):new Promise(f=>{const m={key:u.key_id,amount:u.amount,currency:u.currency,name:"Marketplace",description:`${e.name} - ${o.label}`,order_id:u.order_id,prefill:{name:a.name,email:a.email,contact:a.phone},theme:{color:"#3B82F6"},handler:async function(y){try{const{data:g,error:v}=await Z.functions.invoke("marketplace-payment",{body:{action:"verify_payment",razorpay_order_id:y.razorpay_order_id,razorpay_payment_id:y.razorpay_payment_id,razorpay_signature:y.razorpay_signature,feature_slug:e.slug,pricing_type:t,store_id:r,user_id:n}});if(v||!g?.success){f({success:!1,error:g?.error||v?.message||"Payment verification failed"});return}f({success:!0,purchase:g.purchase})}catch(g){f({success:!1,error:g.message||"Payment processing failed"})}},modal:{ondismiss:function(){f({success:!1,error:"Payment cancelled by user"})}}},p=new window.Razorpay(m);p.on("payment.failed",function(y){f({success:!1,error:y.error.description||"Payment failed"})}),p.open()})}catch(i){return console.error("Purchase error:",i),{success:!1,error:i.message||"Failed to process purchase"}}},r6e=async(e,t,r)=>{try{const n=[...r,t],{error:a}=await Z.from("stores").update({enabled_features:n}).eq("id",e);if(a)throw a;return{success:!0}}catch(n){return console.error("Error enabling free feature:",n),{success:!1,error:n.message||"Failed to enable feature"}}},n6e=({open:e,onOpenChange:t,feature:r,storeId:n,userId:a,customerDetails:i,onSuccess:o})=>{const{toast:l}=cs(),[c,u]=_.useState(null),[d,f]=_.useState(!1),m=Eie(r),p=async()=>{if(!c){l({title:"Select a plan",description:"Please select a pricing option to continue",variant:"destructive"});return}f(!0);try{const v=await t6e(r,c,n,a,i);v.success?(l({title:"Purchase Successful!",description:`${r.name} has been added to your account`}),o(),t(!1)):l({title:"Purchase Failed",description:v.error||"Unable to complete purchase",variant:"destructive"})}catch(v){l({title:"Error",description:v.message||"An unexpected error occurred",variant:"destructive"})}finally{f(!1)}},y=v=>{switch(v){case"onetime":return s.jsx(aM,{className:"h-5 w-5"});case"monthly":return s.jsx(Ml,{className:"h-5 w-5"});case"yearly":return s.jsx(Dn,{className:"h-5 w-5"})}},g=v=>v==="yearly"?s.jsx(wt,{variant:"secondary",className:"ml-2 bg-green-100 text-green-700",children:"Best Value"}):v==="onetime"?s.jsx(wt,{variant:"secondary",className:"ml-2",children:"Lifetime"}):null;return s.jsx(Sn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"sm:max-w-[600px]",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"text-2xl",children:["Purchase ",r.name]}),s.jsx(ps,{className:"text-base",children:r.description})]}),s.jsx("div",{className:"space-y-4 py-4",children:m.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No pricing options available"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3",children:m.map(v=>s.jsx(ke,{className:`cursor-pointer transition-all ${c===v.type?"border-primary border-2 shadow-md":"border hover:border-primary/50"}`,onClick:()=>u(v.type),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:`p-2 rounded-lg ${c===v.type?"bg-primary text-primary-foreground":"bg-muted"}`,children:y(v.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-base",children:v.label}),g(v.type)]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsxs("span",{className:"text-2xl font-bold",children:["",v.price]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:v.type==="onetime"?"one-time":v.type==="monthly"?"/month":"/year"})]})]})]}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${c===v.type?"border-primary bg-primary":"border-muted-foreground"}`,children:c===v.type&&s.jsx(rn,{className:"h-3 w-3 text-primary-foreground"})})]})})},v.type))}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"What's included:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("span",{children:["Full access to ",r.name]})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Priority support"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Regular updates and improvements"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(rn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Secure payment via Razorpay"})]})]})]})]})}),s.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[s.jsx(ae,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),s.jsx(ae,{onClick:p,disabled:!c||d,className:"min-w-[120px]",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Pay Now"]})})]})]})})},s6e=e=>({Truck:fc,BarChart3:hw,MessageSquare:t2,Mail:xc,Target:r2,Package:Bn})[e]||Bn,Y_=e=>({shipping:"/admin/shipping",analytics:"/admin/analytics","live-chat":"/admin/live-chat","email-marketing":"/admin/email-marketing",ads:"/admin/ads"})[e]||`/admin/${e}`,a6e=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState(null),[a,i]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(null),[d,f]=_.useState(null),[m,p]=_.useState([]),[y,g]=_.useState(""),[v,w]=_.useState("all"),[b,j]=_.useState(!1),[E,S]=_.useState(null),[C,k]=_.useState(null),[R,O]=_.useState({name:"",email:"",phone:""});_.useEffect(()=>{A(),P()},[]);const A=async()=>{try{const{data:{session:K}}=await Z.auth.getSession();if(!K)return;k(K.user.id);const{data:I,error:B}=await Z.from("stores").select("id, enabled_features").eq("user_id",K.user.id).single();if(B)throw B;I&&(n({id:I.id,enabled_features:I.enabled_features||[]}),p(I.enabled_features||[]));const{data:Y}=await Z.from("profiles").select("full_name, email, phone").eq("user_id",K.user.id).maybeSingle();O(Y?{name:Y.full_name||K.user.email||"",email:Y.email||K.user.email||"",phone:Y.phone||""}:{name:K.user.email||"",email:K.user.email||"",phone:""})}catch(K){console.error("Failed to fetch store data:",K)}},P=async()=>{try{const{data:K,error:I}=await Z.from("marketplace_features").select("*").eq("is_active",!0).order("menu_order");if(I)throw I;i(K||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{l(!1)}},D=K=>m.includes(K),F=_.useMemo(()=>a.filter(K=>{const I=y===""||K.name.toLowerCase().includes(y.toLowerCase())||K.description?.toLowerCase().includes(y.toLowerCase());let B=!0;switch(v){case"free":B=K.is_free;break;case"paid":B=!K.is_free;break;case"added":B=m.includes(K.slug);break;default:B=!0}return I&&B}),[a,y,v,m]),L=[{value:"all",label:"All"},{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"added",label:"Added"}],H=async K=>{if(m.includes(K.slug)){e(Y_(K.slug));return}if(!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}u(K.slug);try{if(K.is_free){const B=await r6e(r.id,K.slug,m);if(B.success){const Y=[...m,K.slug];p(Y),n({...r,enabled_features:Y}),t({title:"Feature Added",description:`${K.name} has been added to your store`}),e(Y_(K.slug))}else throw new Error(B.error)}else{const{purchased:B}=await Tie(r.id,K.slug);if(B){const Y=[...m,K.slug],{error:z}=await Z.from("stores").update({enabled_features:Y}).eq("id",r.id);if(z)throw z;p(Y),n({...r,enabled_features:Y}),t({title:"Feature Enabled",description:`${K.name} has been enabled`}),e(Y_(K.slug))}else S(K),j(!0)}}catch(B){console.error("Failed to add feature:",B),t({title:"Error",description:B.message||"Failed to add feature. Please try again.",variant:"destructive"})}finally{u(null)}},W=async(K,I)=>{if(I.stopPropagation(),!r){t({title:"Error",description:"Store data not found",variant:"destructive"});return}f(K.slug);try{const B=m.filter(z=>z!==K.slug),{error:Y}=await Z.from("stores").update({enabled_features:B}).eq("id",r.id);if(Y)throw Y;p(B),n({...r,enabled_features:B}),t({title:"Feature Removed",description:`${K.name} has been removed from your store`})}catch(B){console.error("Failed to remove feature:",B),t({title:"Error",description:"Failed to remove feature. Please try again.",variant:"destructive"})}finally{f(null)}},G=async()=>{if(!(!E||!r))try{const K=[...m,E.slug],{error:I}=await Z.from("stores").update({enabled_features:K}).eq("id",r.id);if(I)throw I;p(K),n({...r,enabled_features:K}),e(Y_(E.slug))}catch(K){console.error("Failed to enable feature after payment:",K),t({title:"Warning",description:"Payment successful but failed to enable feature. Please contact support.",variant:"destructive"})}};return o?s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsxs(rs,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Marketplace"}),s.jsx("p",{className:"text-muted-foreground",children:"Discover and add features to enhance your store"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ve,{placeholder:"Search features...",value:y,onChange:K=>g(K.target.value),className:"pl-9"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:L.map(K=>s.jsx(ae,{variant:v===K.value?"default":"outline",size:"sm",onClick:()=>w(K.value),children:K.label},K.value))})]}),F.length===0?s.jsx(ke,{children:s.jsxs(Te,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Bn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:y||v!=="all"?"No matching features":"No features available"}),s.jsx("p",{className:"text-muted-foreground",children:y||v!=="all"?"Try adjusting your search or filter":"Check back later for new features"}),(y||v!=="all")&&s.jsx(ae,{variant:"outline",className:"mt-4",onClick:()=>{g(""),w("all")},children:"Clear filters"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(K=>{const I=s6e(K.icon),B=D(K.slug);return s.jsxs(ke,{className:`transition-all duration-200 hover:shadow-lg ${B?"border-primary/50":""}`,children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`p-3 rounded-xl ${B?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(I,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[B&&s.jsxs(wt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),"Added"]}),K.is_free?s.jsx(wt,{variant:"secondary",children:"Free"}):s.jsxs(wt,{children:["",K.price]})]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Qe,{className:"text-lg mb-1",children:K.name}),s.jsx(Cr,{className:"line-clamp-2",children:K.description})]}),B?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{className:"flex-1",onClick:()=>H(K),variant:"outline",children:["Configure",s.jsx(sa,{className:"h-4 w-4 ml-2"})]}),s.jsx(ae,{variant:"destructive",size:"icon",onClick:Y=>W(K,Y),disabled:d===K.slug,children:d===K.slug?s.jsx(Gt,{className:"h-4 w-4 animate-spin"}):s.jsx(Mn,{className:"h-4 w-4"})})]}):s.jsx(ae,{onClick:()=>H(K),className:"w-full",disabled:c===K.slug,children:c===K.slug?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})})]})]},K.id)})}),s.jsx(ke,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Bn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"How Marketplace Works"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Feature" to add it to your store. Free features are added instantly. Paid features require payment before activation.'})]})]})})})]}),E&&r&&C&&s.jsx(n6e,{open:b,onOpenChange:j,feature:E,storeId:r.id,userId:C,customerDetails:R,onSuccess:G})]})},i6e=()=>{const{toast:e}=cs(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[f,m]=_.useState([]),[p,y]=_.useState(null),[g,v]=_.useState(!1),[w,b]=_.useState(!1),[j,E]=_.useState({email:"",password:""}),[S,C]=_.useState({length:10,breadth:10,height:10,weight:.5});_.useEffect(()=>{k()},[]);const k=async()=>{try{const{data:{session:F}}=await Z.auth.getSession();if(!F)return;const{data:L}=await Z.from("stores").select("id, shiprocket_email, shiprocket_token, shiprocket_pickup_location, package_length, package_breadth, package_height, package_weight, shipping_popup_enabled").eq("user_id",F.user.id).single();if(L){if(y(L.id),v(L.shipping_popup_enabled||!1),L.shiprocket_email&&E(H=>({...H,email:L.shiprocket_email})),L.shiprocket_token){c(!0);const H=await Lj(L.shiprocket_token);H.success&&H.locations&&m(H.locations)}L.package_length&&C(H=>({...H,length:L.package_length})),L.package_breadth&&C(H=>({...H,breadth:L.package_breadth})),L.package_height&&C(H=>({...H,height:L.package_height})),L.package_weight&&C(H=>({...H,weight:L.package_weight}))}}catch(F){console.error("Error loading shipping settings:",F)}finally{r(!1)}},R=async()=>{if(!j.email||!j.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}o(!0);try{const F=await OV(j.email,j.password);if(F.success&&F.token){e({title:"Connection Successful",description:"Shiprocket credentials are valid"});const L=await Lj(F.token);L.success&&L.locations&&m(L.locations)}else e({title:"Connection Failed",description:F.error||"Invalid credentials",variant:"destructive"})}catch(F){e({title:"Error",description:F.message||"Failed to test connection",variant:"destructive"})}finally{o(!1)}},O=async()=>{if(!j.email||!j.password){e({title:"Error",description:"Please enter your Shiprocket email and password",variant:"destructive"});return}a(!0);try{const F=await OV(j.email,j.password);if(F.success&&F.token){const{error:L}=await Z.from("stores").update({shiprocket_email:j.email,shiprocket_token:F.token}).eq("id",p);if(L)throw L;c(!0);const H=await Lj(F.token);H.success&&H.locations&&m(H.locations),e({title:"Connected",description:"Shiprocket has been connected to your store"})}else e({title:"Connection Failed",description:F.error||"Invalid credentials",variant:"destructive"})}catch(F){e({title:"Error",description:F.message||"Failed to connect to Shiprocket",variant:"destructive"})}finally{a(!1)}},A=async()=>{try{const{error:F}=await Z.from("stores").update({shiprocket_email:null,shiprocket_token:null}).eq("id",p);if(F)throw F;c(!1),E({email:"",password:""}),m([]),e({title:"Disconnected",description:"Shiprocket has been disconnected from your store"})}catch(F){e({title:"Error",description:F.message||"Failed to disconnect",variant:"destructive"})}},P=async F=>{b(!0);try{const{error:L}=await Z.from("stores").update({shipping_popup_enabled:F}).eq("id",p);if(L)throw L;v(F),e({title:F?"Shipping Enabled":"Shipping Disabled",description:F?"Shipping popup will appear in Orders":"Orders will be marked as delivered directly"})}catch(L){e({title:"Error",description:L.message||"Failed to update setting",variant:"destructive"})}finally{b(!1)}},D=async()=>{a(!0);try{const{error:F}=await Z.from("stores").update({package_length:S.length,package_breadth:S.breadth,package_height:S.height,package_weight:S.weight}).eq("id",p);if(F)throw F;e({title:"Saved",description:"Package defaults have been saved"})}catch(F){e({title:"Error",description:F.message||"Failed to save package defaults",variant:"destructive"})}finally{a(!1)}};return t?s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(fc,{className:"h-6 w-6"}),"Shipping"]}),s.jsx("p",{className:"text-muted-foreground",children:"Connect Shiprocket to manage shipping for your orders"})]}),l&&s.jsxs(wt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g?"bg-green-100 dark:bg-green-900":"bg-muted"}`,children:s.jsx(WJ,{className:`h-6 w-6 ${g?"text-green-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Shipping Feature"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g?"Enabled - Shipping popup will appear in Orders":"Disabled - Orders will be marked as delivered directly"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${g?"text-green-600":"text-muted-foreground"}`,children:g?"Enabled":"Disabled"}),s.jsx(Wr,{checked:g,onCheckedChange:P,disabled:w})]})]})})}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[l?s.jsx(an,{className:"h-5 w-5 text-green-600"}):s.jsx(fc,{className:"h-5 w-5"}),l?"Shiprocket Connected":"Connect to Shiprocket"]}),s.jsx(Cr,{children:l?"Your store is connected to Shiprocket. You can now create shipments for your orders.":"Enter your Shiprocket API credentials to connect your account"})]}),s.jsxs(Te,{className:"space-y-4",children:[!l&&s.jsxs(Kr,{children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsxs(Yr,{children:["Don't have a Shiprocket account?"," ",s.jsx("a",{href:"https://www.shiprocket.in/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Sign up here"}),". Then go to Settings  API  Configure to create API credentials."]})]}),l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bn,{className:"h-8 w-8 mx-auto text-primary mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pickup Locations"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fc,{className:"h-8 w-8 mx-auto text-blue-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Ready"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Status"})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(an,{className:"h-8 w-8 mx-auto text-green-500 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"Active"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connection"})]})})})]}),f.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Pickup Locations"}),s.jsx("div",{className:"space-y-2",children:f.map(F=>s.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium",children:F.pickup_location}),s.jsxs("p",{className:"text-muted-foreground",children:[F.address,", ",F.city,", ",F.state," - ",F.pin_code]})]},F.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>window.open("https://app.shiprocket.in/","_blank"),children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Open Shiprocket Dashboard"]}),s.jsx(ae,{variant:"destructive",onClick:A,children:"Disconnect"})]})]}):s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"email",children:"Shiprocket API Email"}),s.jsx(Ve,{id:"email",type:"email",placeholder:"your-api-user@email.com",value:j.email,onChange:F=>E({...j,email:F.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use the API user email from Settings  API  Configure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"password",children:"Shiprocket API Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{id:"password",type:u?"text":"password",placeholder:"",value:j.password,onChange:F=>E({...j,password:F.target.value})}),s.jsx(ae,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>d(!u),children:u?s.jsx(_h,{className:"h-4 w-4"}):s.jsx(Ls,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check your email for the API password from Shiprocket"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:R,disabled:i,children:[i&&s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Test Connection"]}),s.jsxs(ae,{onClick:O,disabled:n,children:[n&&s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Connect Shiprocket"]})]})]})]})]}),l&&s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Default Package Dimensions"}),s.jsx(Cr,{children:"Set default package dimensions for your shipments (can be changed per order)"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"length",children:"Length (cm)"}),s.jsx(Ve,{id:"length",type:"number",value:S.length,onChange:F=>C({...S,length:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"breadth",children:"Breadth (cm)"}),s.jsx(Ve,{id:"breadth",type:"number",value:S.breadth,onChange:F=>C({...S,breadth:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"height",children:"Height (cm)"}),s.jsx(Ve,{id:"height",type:"number",value:S.height,onChange:F=>C({...S,height:parseFloat(F.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"weight",children:"Weight (kg)"}),s.jsx(Ve,{id:"weight",type:"number",step:"0.1",value:S.weight,onChange:F=>C({...S,weight:parseFloat(F.target.value)||0})})]})]}),s.jsxs(ae,{onClick:D,disabled:n,children:[n&&s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Defaults"]})]})]}),s.jsx(ke,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(ba,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you can do with Shipping"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Create shipments directly from your orders"}),s.jsx("li",{children:" Get real-time tracking updates"}),s.jsx("li",{children:" Compare shipping rates from multiple couriers"}),s.jsx("li",{children:" Print shipping labels with one click"}),s.jsx("li",{children:" Automatic order status updates"})]})]})]})})})]})})},o6e=()=>{const{toast:e}=cs(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(null),[f,m]=_.useState(!1),[p,y]=_.useState(""),[g,v]=_.useState(""),[w,b]=_.useState("carousel"),[j,E]=_.useState(null),[S,C]=_.useState({}),[k,R]=_.useState(null);_.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:{session:I}}=await Z.auth.getSession();if(!I)return;const{data:B}=await Z.from("stores").select("id, google_place_id, google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("user_id",I.user.id).single();if(B){d(B.id),m(B.google_reviews_enabled||!1),y(B.google_place_id||""),v(B.google_maps_url||""),b(B.google_reviews_display_type||"carousel");const{data:Y}=await Z.from("marketplace_purchases").select("*").eq("store_id",B.id).eq("feature_slug","google-reviews").eq("status","active").single();if(Y){const z=Y.quota_limit||15,J=Y.calls_used||0;R({used:J,limit:z,remaining:z-J,period:"monthly"}),B.google_place_id&&A(B.id)}else e({title:"Google Reviews Not Purchased",description:"Please purchase Google Reviews from the Marketplace to use this feature.",variant:"destructive"})}}catch(I){console.error("Error loading settings:",I)}finally{r(!1)}},A=async I=>{try{const{data:B,error:Y}=await Z.from("google_reviews_cache").select("*").eq("store_id",I).single();B&&!Y&&E(B)}catch(B){console.error("Error loading cached reviews:",B)}},P=async I=>{o(!0);try{const{error:B}=await Z.from("stores").update({google_reviews_enabled:I}).eq("id",u);if(B)throw B;m(I),e({title:I?"Google Reviews Enabled":"Google Reviews Disabled",description:I?"Reviews will display on your store":"Reviews are hidden from your store"})}catch(B){e({title:"Error",description:B.message||"Failed to update setting",variant:"destructive"})}finally{o(!1)}},D=async()=>{if(!p.trim()){e({title:"Error",description:"Please enter a Google Place ID",variant:"destructive"});return}a(!0);try{const{error:I}=await Z.from("stores").update({google_place_id:p.trim()}).eq("id",u);if(I)throw I;const{data:B,error:Y}=await Z.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:p.trim()}});if(Y)throw Y;if(B.success)E(B.data),B.quota&&R(B.quota),e({title:"Success",description:`Reviews fetched successfully. ${B.quota?.remaining||0} calls remaining this ${B.quota?.period||"period"}.`});else throw new Error(B.error||"Failed to fetch reviews")}catch(I){e({title:"Error",description:I.message||"Failed to fetch reviews",variant:"destructive"})}finally{a(!1)}},F=async()=>{if(!p){e({title:"Error",description:"Please save a Place ID first",variant:"destructive"});return}a(!0);try{const{data:I,error:B}=await Z.functions.invoke("google-reviews",{body:{store_id:u,google_place_id:p}});if(B)throw B;if(I.success)E(I.data),I.quota&&R(I.quota),e({title:"Success",description:`Reviews refreshed successfully. ${I.quota?.remaining||0} calls remaining this ${I.quota?.period||"period"}.`});else throw new Error(I.error||"Failed to refresh reviews")}catch(I){e({title:"Error",description:I.message||"Failed to refresh reviews",variant:"destructive"})}finally{a(!1)}},L=async I=>{c(!0);try{const{error:B}=await Z.from("stores").update({google_reviews_display_type:I}).eq("id",u);if(B)throw B;b(I),e({title:"Success",description:`Display type changed to ${{carousel:"Carousel (Auto-scroll)",column:"Column (Side-by-side)","google-widget":"Google Widget (All Reviews)"}[I]}`})}catch(B){e({title:"Error",description:B.message||"Failed to save display type",variant:"destructive"})}finally{c(!1)}},H=async()=>{if(console.log("Saving Google Maps URL:",g),console.log("Store ID:",u),!g.trim()){e({title:"Error",description:"Please enter a Google Maps URL",variant:"destructive"});return}if(!u){e({title:"Error",description:"Store ID not found. Please refresh the page.",variant:"destructive"});return}c(!0);try{const{error:I,data:B}=await Z.from("stores").update({google_maps_url:g.trim()}).eq("id",u).select();if(console.log("Update result:",{error:I,data:B}),I)throw I;e({title:"Success ",description:"Google Maps URL saved successfully! Your store will now show reviews."})}catch(I){console.error("Save error:",I),e({title:"Error",description:I.message||"Failed to save URL",variant:"destructive"})}finally{c(!1)}},W=I=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(B=>s.jsx(Hi,{className:`h-4 w-4 ${B<=I?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},B))}),G=I=>{const B=I.trim().split(" ");return B.length===1?B[0].substring(0,2).toUpperCase():(B[0][0]+B[B.length-1][0]).toUpperCase()},K=I=>{const B=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],Y=I.split("").reduce((z,J)=>z+J.charCodeAt(0),0);return B[Y%B.length]};return t?s.jsx(rs,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(rs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Hi,{className:"h-6 w-6"}),"Google Reviews"]}),s.jsx("p",{className:"text-muted-foreground",children:"Display Google reviews on your store to build trust"})]}),j&&s.jsxs(wt,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(an,{className:"h-3 w-3 mr-1"}),j.total_reviews," Reviews"]})]}),s.jsx(ke,{children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${f?"bg-yellow-100 dark:bg-yellow-900":"bg-muted"}`,children:s.jsx(WJ,{className:`h-6 w-6 ${f?"text-yellow-600":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Google Reviews Display"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Reviews are visible on your store":"Reviews are hidden from your store"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-sm font-medium ${f?"text-green-600":"text-muted-foreground"}`,children:f?"Enabled":"Disabled"}),s.jsx(Wr,{checked:f,onCheckedChange:P,disabled:i})]})]})})}),f&&s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Display Type"}),s.jsx(Cr,{children:"Choose how reviews are displayed on your store"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{htmlFor:"display-type",children:"Review Display Style"}),s.jsxs(yr,{value:w,onValueChange:I=>L(I),children:[s.jsx(fr,{id:"display-type",disabled:l,children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"carousel",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Carousel (Auto-scroll)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Smooth left-sliding auto-scroll with 5 reviews"})]})}),s.jsx(Ke,{value:"column",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Column (Side-by-side)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Grid layout with 5 reviews max"})]})}),s.jsx(Ke,{value:"google-widget",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:"Google Widget (All Reviews)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Links to all reviews on Google Maps"})]})})]})]})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:w==="carousel"?" Carousel Mode":w==="column"?" Column Mode":" Google Widget"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w==="carousel"?"Reviews will smoothly auto-scroll left, displaying 5 cards at a time. Mobile visitors can swipe to see more reviews.":w==="column"?"Reviews will be displayed in a responsive grid layout. Desktop shows 3 columns, tablet shows 2 columns, mobile shows 1 column.":"Displays a button linking to your Google Business Profile showing all reviews. Shows complete review count and authentic ratings."})]}),w==="google-widget"&&s.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[s.jsxs(Kr,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[s.jsx(Bi,{className:"h-4 w-4 text-green-600"}),s.jsxs(Yr,{className:"text-green-800 dark:text-green-200",children:[s.jsx("strong",{children:"Google Widget Mode:"})," No Place ID or API needed! Just paste your Google Maps link below. Your store will display reviews from the cache (if available) or show a link to Google."]})]}),s.jsx(Ce,{htmlFor:"google_maps_url",children:"Google Maps URL"}),s.jsx(Ve,{id:"google_maps_url",type:"url",placeholder:"https://maps.app.goo.gl/xxxxx or full Google Maps URL",value:g,onChange:I=>v(I.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste the Google Maps link from your business profile (e.g., https://maps.app.goo.gl/1FiEnfPeVMheDDdz5)"}),s.jsxs(ae,{onClick:H,disabled:l,className:"w-full md:w-auto",children:[l&&s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),l?"Saving...":"Save Google Maps URL"]})]})]})]}),k&&s.jsx(ke,{children:s.jsxs(Te,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${k.remaining>0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:s.jsx(Ki,{className:`h-6 w-6 ${k.remaining>0?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"API Calls Quota"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.used," of ",k.limit," calls used this ",k.period==="monthly"?"month":"year"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[k.remaining,"/",k.limit]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]}),k.remaining===0&&s.jsxs(Kr,{className:"mt-4 border-red-200 bg-red-50 dark:bg-red-900/20",children:[s.jsx(Bi,{className:"h-4 w-4 text-red-600"}),s.jsxs(Yr,{className:"text-red-600",children:["You've reached your API call limit. Upgrade your plan or wait for the next ",k.period==="monthly"?"month":"year"," to refresh reviews."]})]})]})}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{children:["Google Place ID ",w==="google-widget"&&s.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Optional for Widget mode)"})]}),s.jsx(Cr,{children:w==="google-widget"?"Optional: Fetch reviews to display them on your store. Or skip this and just use the Google Maps URL below.":"Enter your Google Place ID to fetch reviews from Google"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs(Kr,{children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsxs(Yr,{children:[s.jsx("strong",{children:"How to find your Place ID:"}),s.jsx("div",{className:"mt-3 space-y-3",children:s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Google Place ID Finder (Easiest Method)"}),s.jsxs("p",{className:"text-xs mb-2",children:[s.jsx("strong",{children:"Official Google Tool:"})," ",s.jsx("a",{href:"https://developers.google.com/maps/documentation/javascript/examples/places-placeid-finder",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"Place ID Finder (CLICK HERE)"})]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Open the link above"}),s.jsx("li",{children:"Type your business name in the search box"}),s.jsx("li",{children:"Click on your business marker on the map"}),s.jsx("li",{children:'The Place ID appears in the info box (starts with "ChIJ...")'}),s.jsx("li",{children:"Copy it!"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx("strong",{children:"Example:"})," ChIJN1t_tDeuEmsRUsoyG83frY4"]})]})})]})]}),s.jsxs(Kr,{className:"border-amber-200 bg-amber-50 dark:bg-amber-900/20",children:[s.jsx(Bi,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Yr,{className:"text-amber-800 dark:text-amber-200",children:[s.jsx("strong",{children:"Google API Limitation:"}),' Google Places API returns a maximum of 5 reviews, sorted by relevance (not date). New reviews may take time to appear as Google rotates which reviews it considers "most helpful". This is a Google limitation, not our system.']})]}),s.jsxs("div",{className:"space-y-2 max-w-md",children:[s.jsx(Ce,{htmlFor:"place_id",children:"Google Place ID"}),s.jsx(Ve,{id:"place_id",type:"text",placeholder:"ChIJN1t_tDeuEmsRUsoyG83frY4",value:p,onChange:I=>y(I.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Example: ChIJN1t_tDeuEmsRUsoyG83frY4"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{onClick:D,disabled:n||k?.remaining===0,children:[n&&s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),j?"Update Place ID":"Save & Fetch Reviews"]}),j&&s.jsxs(ae,{variant:"outline",onClick:F,disabled:n||k?.remaining===0,children:[s.jsx(Ki,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"Refresh Reviews"]})]}),k?.remaining===0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["API quota exceeded. Cannot fetch reviews until next ",k.period==="monthly"?"month":"year","."]})]})]}),j&&s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Reviews Preview"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-normal text-muted-foreground",children:["Last updated: ",new Date(j.last_fetched).toLocaleDateString()]})]}),s.jsxs(Cr,{children:["Showing ",j.reviews?.length||0," of ",j.total_reviews," total reviews"]})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:j.average_rating}),W(j.average_rating)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Based on ",j.total_reviews," Google reviews"]})]}),s.jsx("div",{className:"space-y-3",children:j.reviews?.slice(0,5).map((I,B)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[I.profile_photo_url&&!S[B]?s.jsx("img",{src:I.profile_photo_url,alt:I.author_name,className:"h-10 w-10 rounded-full object-cover border-2 border-white shadow-md",onError:()=>C(Y=>({...Y,[B]:!0})),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 rounded-full bg-gradient-to-br ${K(I.author_name)} flex items-center justify-center border-2 border-white shadow-md`,children:s.jsx("span",{className:"text-white font-bold text-xs",children:G(I.author_name)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:I.author_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:I.relative_time_description})]}),W(I.rating)]})]}),I.text&&s.jsx("p",{className:"text-sm text-muted-foreground",children:I.text})]},B))}),j.reviews?.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+ ",j.reviews.length-5," more reviews"]})]})]}),s.jsx(ke,{className:"bg-muted/50",children:s.jsx(Te,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10",children:s.jsx(Hi,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:"What you get with Google Reviews"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Display authentic Google reviews on your store"}),s.jsx("li",{children:" Build trust and credibility with customers"}),s.jsx("li",{children:" Automatic daily review updates (cached for cost savings)"}),s.jsx("li",{children:" Multiple display widgets (carousel, grid, badge, list)"}),s.jsx("li",{children:" Professional Google-branded design"}),s.jsx("li",{children:" Mobile-responsive layouts"})]})]})]})})})]})})};function l6e(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var IF="ScrollArea",[Aie]=Vs(IF),[c6e,Ul]=Aie(IF),Pie=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),[p,y]=_.useState(null),[g,v]=_.useState(null),[w,b]=_.useState(0),[j,E]=_.useState(0),[S,C]=_.useState(!1),[k,R]=_.useState(!1),O=Zt(t,P=>c(P)),A=zf(a);return s.jsx(c6e,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:R,onCornerWidthChange:b,onCornerHeightChange:E,children:s.jsx(Tt.div,{dir:A,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Pie.displayName=IF;var Oie="ScrollAreaViewport",Rie=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ul(Oie,r),l=_.useRef(null),c=Zt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Tt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Rie.displayName=Oie;var du="ScrollAreaScrollbar",MF=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ul(du,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return _.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(u6e,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(d6e,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(Die,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(FF,{...n,ref:t}):null});MF.displayName=du;var u6e=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ul(du,e.__scopeScrollArea),[i,o]=_.useState(!1);return _.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ca,{present:r||i,children:s.jsx(Die,{"data-state":i?"visible":"hidden",...n,ref:t})})}),d6e=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ul(du,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Q2(()=>c("SCROLL_END"),100),[l,c]=l6e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),_.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(ca,{present:r||l!=="hidden",children:s.jsx(FF,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ft(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ft(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Die=_.forwardRef((e,t)=>{const r=Ul(du,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=_.useState(!1),l=e.orientation==="horizontal",c=Q2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return b0(r.viewport,c),b0(r.content,c),s.jsx(ca,{present:n||i,children:s.jsx(FF,{"data-state":i?"visible":"hidden",...a,ref:t})})}),FF=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ul(du,e.__scopeScrollArea),i=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$ie(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return x6e(m,o.current,l,p)}return r==="horizontal"?s.jsx(f6e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=RV(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?s.jsx(h6e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=RV(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),f6e=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ul(du,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=Zt(t,c,i.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Mie,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Z2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Uie(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:VN(o.paddingLeft),paddingEnd:VN(o.paddingRight)}})}})}),h6e=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ul(du,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=Zt(t,c,i.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Mie,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Z2(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Uie(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:VN(o.paddingTop),paddingEnd:VN(o.paddingBottom)}})}})}),[m6e,Iie]=Aie(du),Mie=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Ul(du,r),[y,g]=_.useState(null),v=Zt(t,O=>g(O)),w=_.useRef(null),b=_.useRef(""),j=p.viewport,E=n.content-n.viewport,S=ks(d),C=ks(c),k=Q2(f,10);function R(O){if(w.current){const A=O.clientX-w.current.left,P=O.clientY-w.current.top;u({x:A,y:P})}}return _.useEffect(()=>{const O=A=>{const P=A.target;y?.contains(P)&&S(A,E)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[j,y,E,S]),_.useEffect(C,[n,C]),b0(y,k),b0(p.content,k),s.jsx(m6e,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:ks(i),onThumbPointerUp:ks(o),onThumbPositionChange:C,onThumbPointerDown:ks(l),children:s.jsx(Tt.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:ft(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),w.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(O))}),onPointerMove:ft(e.onPointerMove,R),onPointerUp:ft(e.onPointerUp,O=>{const A=O.target;A.hasPointerCapture(O.pointerId)&&A.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),UN="ScrollAreaThumb",Fie=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Iie(UN,e.__scopeScrollArea);return s.jsx(ca,{present:r||a.hasThumb,children:s.jsx(p6e,{ref:t,...n})})}),p6e=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ul(UN,r),o=Iie(UN,r),{onThumbPositionChange:l}=o,c=Zt(t,f=>o.onThumbChange(f)),u=_.useRef(void 0),d=Q2(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const p=v6e(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),s.jsx(Tt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ft(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:ft(e.onPointerUp,o.onThumbPointerUp)})});Fie.displayName=UN;var LF="ScrollAreaCorner",Lie=_.forwardRef((e,t)=>{const r=Ul(LF,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(g6e,{...e,ref:t}):null});Lie.displayName=LF;var g6e=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ul(LF,r),[i,o]=_.useState(0),[l,c]=_.useState(0),u=!!(i&&l);return b0(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),b0(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Tt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function VN(e){return e?parseInt(e,10):0}function $ie(e,t){const r=e/t;return isNaN(r)?0:r}function Z2(e){const t=$ie(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function x6e(e,t,r,n="ltr"){const a=Z2(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Bie([c,u],f)(e)}function RV(e,t,r="ltr"){const n=Z2(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=rb(e,c);return Bie([0,o],[0,l])(u)}function Bie(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Uie(e,t){return e>0&&e<t}var v6e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Q2(e,t){const r=ks(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function b0(e,t){const r=ks(t);As(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Vie=Pie,y6e=Rie,b6e=Lie;const zie=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Vie,{ref:n,className:ut("relative overflow-hidden",e),...r,children:[s.jsx(y6e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(qie,{}),s.jsx(b6e,{})]}));zie.displayName=Vie.displayName;const qie=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(MF,{ref:n,orientation:t,className:ut("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(Fie,{className:"relative flex-1 rounded-full bg-border"})}));qie.displayName=MF.displayName;var ek="Popover",[Wie]=Vs(ek,[Bf]),Ww=Bf(),[w6e,Xf]=Wie(ek),Hie=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Ww(t),c=_.useRef(null),[u,d]=_.useState(!1),[f,m]=Si({prop:n,defaultProp:a??!1,onChange:i,caller:ek});return s.jsx(i2,{...l,children:s.jsx(w6e,{scope:t,contentId:mo(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:o,children:r})})};Hie.displayName=ek;var Gie="PopoverAnchor",_6e=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xf(Gie,r),i=Ww(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return _.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(gw,{...i,...n,ref:t})});_6e.displayName=Gie;var Kie="PopoverTrigger",Yie=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xf(Kie,r),i=Ww(r),o=Zt(t,a.triggerRef),l=s.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eoe(a.open),...n,ref:o,onClick:ft(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(gw,{asChild:!0,...i,children:l})});Yie.displayName=Kie;var $F="PopoverPortal",[j6e,N6e]=Wie($F,{forceMount:void 0}),Xie=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Xf($F,t);return s.jsx(j6e,{scope:t,forceMount:r,children:s.jsx(ca,{present:r||i.open,children:s.jsx(J0,{asChild:!0,container:a,children:n})})})};Xie.displayName=$F;var w0="PopoverContent",Jie=_.forwardRef((e,t)=>{const r=N6e(w0,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Xf(w0,e.__scopePopover);return s.jsx(ca,{present:n||i.open,children:i.modal?s.jsx(k6e,{...a,ref:t}):s.jsx(C6e,{...a,ref:t})})});Jie.displayName=w0;var S6e=bf("PopoverContent.RemoveScroll"),k6e=_.forwardRef((e,t)=>{const r=Xf(w0,e.__scopePopover),n=_.useRef(null),a=Zt(t,n),i=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return _2(o)},[]),s.jsx(_w,{as:S6e,allowPinchZoom:!0,children:s.jsx(Zie,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ft(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ft(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),C6e=_.forwardRef((e,t)=>{const r=Xf(w0,e.__scopePopover),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(Zie,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Zie=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Xf(w0,r),p=Ww(r);return w2(),s.jsx(bw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Gm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(o2,{"data-state":eoe(m.open),role:"dialog",id:m.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Qie="PopoverClose",E6e=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xf(Qie,r);return s.jsx(Tt.button,{type:"button",...n,ref:t,onClick:ft(e.onClick,()=>a.onOpenChange(!1))})});E6e.displayName=Qie;var T6e="PopoverArrow",A6e=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ww(r);return s.jsx(l2,{...a,...n,ref:t})});A6e.displayName=T6e;function eoe(e){return e?"open":"closed"}var P6e=Hie,O6e=Yie,R6e=Xie,toe=Jie;const D6e=P6e,I6e=O6e,roe=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(R6e,{children:s.jsx(toe,{ref:a,align:t,sideOffset:r,className:ut("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));roe.displayName=toe.displayName;const pf=({src:e,alt:t,className:r,fallback:n="/placeholder.svg",...a})=>{const[i,o]=_.useState(n),[l,c]=_.useState(!0),[u,d]=_.useState(!1),f=_.useRef(null),m=hf(e)||e;return _.useEffect(()=>{if(!f.current)return;const p=new IntersectionObserver(y=>{y.forEach(g=>{g.isIntersecting&&(d(!0),p.disconnect())})},{rootMargin:"50px"});return p.observe(f.current),()=>{p.disconnect()}},[]),_.useEffect(()=>{if(!u)return;const p=new Image;p.src=m,p.onload=()=>{o(m),c(!1)},p.onerror=()=>{o(n),c(!1)}},[m,u,n]),s.jsx("img",{ref:f,src:i,alt:t,className:ut("transition-opacity duration-300",l?"opacity-50":"opacity-100",r),loading:"lazy",...a})},M6e=()=>{const{cart:e,cartCount:t,cartTotal:r,removeItem:n}=m2(),[a,i]=_.useState(void 0);_.useEffect(()=>{e.length>0&&e[0].storeId&&(async()=>{const{data:f}=await Z.from("stores").select("slug").eq("id",e[0].storeId).maybeSingle();f&&i(f.slug)})()},[e]);const o=eu(),l=o?"/products":a?`/${a}/products`:"/products",c=o?"/cart":a?`/${a}/cart`:"/cart",u=o?"/checkout":a?`/${a}/checkout`:"/checkout";return s.jsxs(D6e,{children:[s.jsx(I6e,{asChild:!0,children:s.jsxs(ae,{variant:"outline",size:"icon",className:"relative","data-cart-icon":!0,children:[s.jsx(Nf,{className:"w-4 h-4"}),t>0&&s.jsx(wt,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t})]})}),s.jsxs(roe,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Shopping Cart"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," items"]})]}),e.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Nf,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),s.jsx(kt,{to:l,children:s.jsx(ae,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(zie,{className:"h-80",children:s.jsx("div",{className:"p-4 space-y-4",children:e.map(d=>s.jsx(ke,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(pf,{src:d.productImage,alt:d.productName,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:d.productName}),d.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:d.variant}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("span",{className:"text-sm font-semibold text-primary",children:["",d.price,"  ",d.quantity]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(d.productId,d.variant),children:s.jsx($a,{className:"w-4 h-4"})})]})]})]})})},`${d.productId}-${d.variant}`))})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(kt,{to:c,className:"w-full",children:s.jsx(ae,{variant:"outline",className:"w-full min-h-[44px]",children:"View Cart"})}),s.jsx(kt,{to:u,className:"w-full",children:s.jsx(ae,{className:"w-full min-h-[44px]",children:"Checkout"})})]})]})]})]})]})},noe=async e=>{const t=await zN(e),r=qN(t);return!(!t||t.trim()===""||r==="919876543210"||r==="9876543210"||r.length<10)},zN=async e=>{try{if(e){const{data:n}=await Z.from("stores").select("whatsapp_number").eq("id",e).single();return n?.whatsapp_number||"919876543210"}const{data:{user:t}}=await Z.auth.getUser();if(!t)return"919876543210";const{data:r}=await Z.from("stores").select("whatsapp_number").eq("user_id",t.id).single();return r?.whatsapp_number||"919876543210"}catch(t){return console.error("Error fetching WhatsApp number:",t),"919876543210"}},qN=e=>e.replace(/[^0-9+]/g,""),soe=e=>{const t=new Date().toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"});let r=` *NEW ORDER REQUEST*
`;if(r+=` ${t}

`,r+=` *CUSTOMER DETAILS*
`,r+=`Name: ${e.customerName}
`,r+=`Phone: ${e.phone}
`,e.email&&(r+=`Email: ${e.email}
`),r+=`
 *DELIVERY ADDRESS*
`,r+=`${e.address}
`,e.landmark&&(r+=`Landmark: ${e.landmark}
`),r+=`PIN Code: ${e.pincode}
`,r+=`Preferred Time: ${e.deliveryTime}
`,e.latitude&&e.longitude){const n=`https://www.google.com/maps?q=${e.latitude},${e.longitude}`;r+=` Location: ${n}
`}return r+=`
`,r+=` *ORDER ITEMS*
`,r+=`
`,e.cart.forEach((n,a)=>{r+=`${a+1}. ${n.productName}
`,n.variant&&(r+=`   Variant: ${n.variant}
`),n.sku&&(r+=`   SKU: ${n.sku}
`),r+=`   Qty: ${n.quantity}  ${n.price.toFixed(2)}
`,r+=`   Subtotal: ${(n.quantity*n.price).toFixed(2)}

`}),r+=`
`,r+=` *PAYMENT SUMMARY*
`,r+=`Subtotal: ${e.subtotal.toFixed(2)}
`,r+=`Delivery: ${e.deliveryCharge.toFixed(2)}
`,r+=`*Total Amount: ${e.total.toFixed(2)}*

`,e.paymentMethod==="online"?(r+=` *PAYMENT COMPLETED*
`,r+=` Payment Method: Online Payment (${e.paymentGateway||"Gateway"})
`,e.orderNumber&&(r+=` Order Number: ${e.orderNumber}
`),e.transactionId&&(r+=` Transaction ID: ${e.transactionId}
`),r+=` Payment Status: PAID

`,r+="Order is confirmed and payment received. Please process this order. Thank you! "):(r+=` Payment Method: Cash on Delivery (COD)

`,r+="Please confirm this order. Thank you! "),r},F6e=()=>` Hi! I have a question about your products/services.

Could you please help me?

Thank you! `,aoe=async(e,t,r,n=!1)=>{if(!await noe(r))return{success:!1,error:"WhatsApp number is not configured. Please contact the store owner to set up a valid WhatsApp number in admin settings."};const a=await zN(r),i=qN(a);if(i==="919876543210"||i==="9876543210")return{success:!1,error:"Invalid WhatsApp number. The default number 9876543210 is not allowed. Please contact the store owner to set up a valid WhatsApp number."};const o=encodeURIComponent(e),l=`https://wa.me/${i}?text=${o}`;if(n)if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const u=`whatsapp://send?phone=${i}&text=${o}`;window.location.href=u}else window.location.href=l;else{const c=document.createElement("a");c.href=l,c.target="_blank",c.rel="noopener noreferrer",c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}return{success:!0}},uo=({storeSlug:e,storeId:t})=>{const[r,n]=_.useState(!1),[a,i]=_.useState(""),o=wr(),{toast:l}=cs(),c=eu(),u=c?"/":e?`/${e}`:"/home",d=c?"/products":e?`/${e}/products`:"/products",f=c?"/categories":e?`/${e}/categories`:"/categories",m=y=>{y.preventDefault(),a.trim()&&(o(`${d}?search=${encodeURIComponent(a)}`),i(""))},p=async()=>{const y=F6e(),g=await aoe(y,void 0,t);g.success||l({title:"WhatsApp Not Configured",description:g.error,variant:"destructive"})};return s.jsxs("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:[s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs(kt,{to:u,className:"flex items-center gap-2 group",children:[s.jsx(vm,{size:24,className:"transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"}),s.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block transition-colors duration-300 group-hover:text-primary",children:"MyStore"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx(kt,{to:u,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Home"}),s.jsx(kt,{to:d,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Products"}),s.jsx(kt,{to:f,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Categories"}),s.jsx(kt,{to:`${u}#about`,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"About"})]}),s.jsx("form",{onSubmit:m,className:"hidden lg:flex flex-1 max-w-md",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(Ve,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(ae,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(Fl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",size:"icon",onClick:p,className:"hidden sm:flex min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",children:s.jsx(dc,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),s.jsx(ti,{}),s.jsx(M6e,{}),s.jsx(ae,{variant:"ghost",size:"icon",className:"md:hidden min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",onClick:()=>n(!r),children:r?s.jsx($a,{className:"w-5 h-5 animate-in spin-in-180 duration-300"}):s.jsx(nM,{className:"w-5 h-5 animate-in fade-in duration-300"})})]})]}),s.jsx("form",{onSubmit:m,className:"lg:hidden mt-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{type:"text",placeholder:"Search products...",value:a,onChange:y=>i(y.target.value),className:"pr-10"}),s.jsx(ae,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:s.jsx(Fl,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-border bg-background animate-in slide-in-from-top-2 duration-300",children:s.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[s.jsx(kt,{to:u,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300",onClick:()=>n(!1),children:"Home"}),s.jsx(kt,{to:d,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-75",onClick:()=>n(!1),children:"Products"}),s.jsx(kt,{to:f,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-150",onClick:()=>n(!1),children:"Categories"}),s.jsx(kt,{to:`${u}#about`,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-200",onClick:()=>n(!1),children:"About"}),s.jsxs(ae,{onClick:p,className:"w-full min-h-[48px] animate-in fade-in slide-in-from-bottom-2 duration-300 delay-300 group",children:[s.jsx(dc,{className:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12"}),"Contact on WhatsApp"]})]})})]})},Iu=()=>s.jsx("footer",{className:"bg-muted border-t border-border mt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(vm,{size:28}),s.jsx("h3",{className:"font-bold text-foreground",children:"MyStore"})]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted online store for quality products at great prices. We deliver happiness to your doorstep."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(jf,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"123 Store Street, City, State 12345"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(dc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"+91 1234567890"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:"contact@mystore.com"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(rM,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(Tl,{className:"w-4 h-4"})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:s.jsx(sM,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," MyStore. All rights reserved."]})})]})});function zv(e){const{productName:t,storeName:r,category:n,variant:a,imageIndex:i}=e,o=[];if(o.push(t),a&&o.push(a),i!==void 0&&i>0){const u=["front view","side view","back view","detail view","alternate view"][i]||"additional view";o.push(u)}n&&o.push(`in ${n}`),r&&o.push(`at ${r}`);let l=o.join(" - ");return l.length>125&&(l=l.substring(0,122)+"..."),l}function L6e(e){const{storeName:t,imageType:r,description:n}=e;switch(r){case"logo":return`${t} logo`;case"banner":return n?`${t} - ${n}`:`${t} banner`;case"hero":return n?`${t} - ${n}`:`${t} hero image`;case"thumbnail":return`${t} thumbnail`;default:return`${t} image`}}function $6e(e,t){return t?`${e} category at ${t}`:`${e} category`}const BF=_.createContext({});function UF(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const VF=typeof window<"u",ioe=VF?_.useLayoutEffect:_.useEffect,tk=_.createContext(null);function zF(e,t){e.indexOf(t)===-1&&e.push(t)}function qF(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ju=(e,t,r)=>r>t?t:r<e?e:r;let WF=()=>{};const Zu={},ooe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function loe(e){return typeof e=="object"&&e!==null}const coe=e=>/^0[^.\s]+$/u.test(e);function HF(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dl=e=>e,B6e=(e,t)=>r=>t(e(r)),Hw=(...e)=>e.reduce(B6e),vb=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class GF{constructor(){this.subscriptions=[]}add(t){return zF(this.subscriptions,t),()=>qF(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yc=e=>e*1e3,Cl=e=>e/1e3;function uoe(e,t){return t?e*(1e3/t):0}const doe=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,U6e=1e-7,V6e=12;function z6e(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=doe(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>U6e&&++l<V6e);return o}function Gw(e,t,r,n){if(e===t&&r===n)return Dl;const a=i=>z6e(i,0,1,e,r);return i=>i===0||i===1?i:doe(a(i),t,n)}const foe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hoe=e=>t=>1-e(1-t),moe=Gw(.33,1.53,.69,.99),KF=hoe(moe),poe=foe(KF),goe=e=>(e*=2)<1?.5*KF(e):.5*(2-Math.pow(2,-10*(e-1))),YF=e=>1-Math.sin(Math.acos(e)),xoe=hoe(YF),voe=foe(YF),q6e=Gw(.42,0,1,1),W6e=Gw(0,0,.58,1),yoe=Gw(.42,0,.58,1),H6e=e=>Array.isArray(e)&&typeof e[0]!="number",boe=e=>Array.isArray(e)&&typeof e[0]=="number",G6e={linear:Dl,easeIn:q6e,easeInOut:yoe,easeOut:W6e,circIn:YF,circInOut:voe,circOut:xoe,backIn:KF,backInOut:poe,backOut:moe,anticipate:goe},K6e=e=>typeof e=="string",DV=e=>{if(boe(e)){WF(e.length===4);const[t,r,n,a]=e;return Gw(t,r,n,a)}else if(K6e(e))return G6e[e];return e},X_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Y6e(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const y=m&&a?r:n;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const X6e=40;function woe(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=X_.reduce((j,E)=>(j[E]=Y6e(i),j),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:p,postRender:y}=o,g=()=>{const j=Zu.useManualTiming?a.timestamp:performance.now();r=!1,Zu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(j-a.timestamp,X6e),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),p.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:X_.reduce((j,E)=>{const S=o[E];return j[E]=(C,k=!1,R=!1)=>(r||v(),S.schedule(C,k,R)),j},{}),cancel:j=>{for(let E=0;E<X_.length;E++)o[X_[E]].cancel(j)},state:a,steps:o}}const{schedule:os,cancel:Ff,state:Ga,steps:qT}=woe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dl,!0);let $j;function J6e(){$j=void 0}const fo={now:()=>($j===void 0&&fo.set(Ga.isProcessing||Zu.useManualTiming?Ga.timestamp:performance.now()),$j),set:e=>{$j=e,queueMicrotask(J6e)}},_oe=e=>t=>typeof t=="string"&&t.startsWith(e),XF=_oe("--"),Z6e=_oe("var(--"),JF=e=>Z6e(e)?Q6e.test(e.split("/*")[0].trim()):!1,Q6e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yb={...dx,transform:e=>Ju(0,1,e)},J_={...dx,default:1},_y=e=>Math.round(e*1e5)/1e5,ZF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eLe(e){return e==null}const tLe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QF=(e,t)=>r=>!!(typeof r=="string"&&tLe.test(r)&&r.startsWith(e)||t&&!eLe(r)&&Object.prototype.hasOwnProperty.call(r,t)),joe=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(ZF);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},rLe=e=>Ju(0,255,e),WT={...dx,transform:e=>Math.round(rLe(e))},Vh={test:QF("rgb","red"),parse:joe("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+WT.transform(e)+", "+WT.transform(t)+", "+WT.transform(r)+", "+_y(yb.transform(n))+")"};function nLe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const n3={test:QF("#"),parse:nLe,transform:Vh.transform},Kw=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zd=Kw("deg"),Xc=Kw("%"),cr=Kw("px"),sLe=Kw("vh"),aLe=Kw("vw"),IV={...Xc,parse:e=>Xc.parse(e)/100,transform:e=>Xc.transform(e*100)},wg={test:QF("hsl","hue"),parse:joe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Xc.transform(_y(t))+", "+Xc.transform(_y(r))+", "+_y(yb.transform(n))+")"},ea={test:e=>Vh.test(e)||n3.test(e)||wg.test(e),parse:e=>Vh.test(e)?Vh.parse(e):wg.test(e)?wg.parse(e):n3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vh.transform(e):wg.transform(e),getAnimatableNone:e=>{const t=ea.parse(e);return t.alpha=0,ea.transform(t)}},iLe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oLe(e){return isNaN(e)&&typeof e=="string"&&(e.match(ZF)?.length||0)+(e.match(iLe)?.length||0)>0}const Noe="number",Soe="color",lLe="var",cLe="var(",MV="${}",uLe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bb(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(uLe,c=>(ea.test(c)?(n.color.push(i),a.push(Soe),r.push(ea.parse(c))):c.startsWith(cLe)?(n.var.push(i),a.push(lLe),r.push(c)):(n.number.push(i),a.push(Noe),r.push(parseFloat(c))),++i,MV)).split(MV);return{values:r,split:l,indexes:n,types:a}}function koe(e){return bb(e).values}function Coe(e){const{split:t,types:r}=bb(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===Noe?i+=_y(a[o]):l===Soe?i+=ea.transform(a[o]):i+=a[o]}return i}}const dLe=e=>typeof e=="number"?0:ea.test(e)?ea.getAnimatableNone(e):e;function fLe(e){const t=koe(e);return Coe(e)(t.map(dLe))}const Lf={test:oLe,parse:koe,createTransformer:Coe,getAnimatableNone:fLe};function HT(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hLe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=HT(c,l,e+1/3),i=HT(c,l,e),o=HT(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function WN(e,t){return r=>r>0?t:e}const xs=(e,t,r)=>e+(t-e)*r,GT=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},mLe=[n3,Vh,wg],pLe=e=>mLe.find(t=>t.test(e));function FV(e){const t=pLe(e);if(!t)return!1;let r=t.parse(e);return t===wg&&(r=hLe(r)),r}const LV=(e,t)=>{const r=FV(e),n=FV(t);if(!r||!n)return WN(e,t);const a={...r};return i=>(a.red=GT(r.red,n.red,i),a.green=GT(r.green,n.green,i),a.blue=GT(r.blue,n.blue,i),a.alpha=xs(r.alpha,n.alpha,i),Vh.transform(a))},s3=new Set(["none","hidden"]);function gLe(e,t){return s3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function xLe(e,t){return r=>xs(e,t,r)}function e6(e){return typeof e=="number"?xLe:typeof e=="string"?JF(e)?WN:ea.test(e)?LV:bLe:Array.isArray(e)?Eoe:typeof e=="object"?ea.test(e)?LV:vLe:WN}function Eoe(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>e6(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function vLe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=e6(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function yLe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const bLe=(e,t)=>{const r=Lf.createTransformer(t),n=bb(e),a=bb(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?s3.has(e)&&!a.values.length||s3.has(t)&&!n.values.length?gLe(e,t):Hw(Eoe(yLe(n,a),a.values),r):WN(e,t)};function Toe(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?xs(e,t,r):e6(e)(e,t)}const wLe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>os.update(t,r),stop:()=>Ff(t),now:()=>Ga.isProcessing?Ga.timestamp:fo.now()}},Aoe=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},HN=2e4;function t6(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<HN;)t+=r,n=e.next(t);return t>=HN?1/0:t}function _Le(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(t6(n),HN);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Cl(a)}}const jLe=5;function Poe(e,t,r){const n=Math.max(t-jLe,0);return uoe(r-e(n),t-n)}const _s={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KT=.001;function NLe({duration:e=_s.duration,bounce:t=_s.bounce,velocity:r=_s.velocity,mass:n=_s.mass}){let a,i,o=1-t;o=Ju(_s.minDamping,_s.maxDamping,o),e=Ju(_s.minDuration,_s.maxDuration,Cl(e)),o<1?(a=u=>{const d=u*o,f=d*e,m=d-r,p=a3(u,o),y=Math.exp(-f);return KT-m/p*y},i=u=>{const f=u*o*e,m=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),g=a3(Math.pow(u,2),o);return(-a(u)+KT>0?-1:1)*((m-p)*y)/g}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-KT+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=kLe(a,i,l);if(e=Yc(e),isNaN(c))return{stiffness:_s.stiffness,damping:_s.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const SLe=12;function kLe(e,t,r){let n=r;for(let a=1;a<SLe;a++)n=n-e(n)/t(n);return n}function a3(e,t){return e*Math.sqrt(1-t*t)}const CLe=["duration","bounce"],ELe=["stiffness","damping","mass"];function $V(e,t){return t.some(r=>e[r]!==void 0)}function TLe(e){let t={velocity:_s.velocity,stiffness:_s.stiffness,damping:_s.damping,mass:_s.mass,isResolvedFromDuration:!1,...e};if(!$V(e,ELe)&&$V(e,CLe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ju(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_s.mass,stiffness:a,damping:i}}else{const r=NLe(e);t={...t,...r,mass:_s.mass},t.isResolvedFromDuration=!0}return t}function GN(e=_s.visualDuration,t=_s.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=TLe({...r,velocity:-Cl(r.velocity||0)}),y=m||0,g=u/(2*Math.sqrt(c*d)),v=o-i,w=Cl(Math.sqrt(c/d)),b=Math.abs(v)<5;n||(n=b?_s.restSpeed.granular:_s.restSpeed.default),a||(a=b?_s.restDelta.granular:_s.restDelta.default);let j;if(g<1){const S=a3(w,g);j=C=>{const k=Math.exp(-g*w*C);return o-k*((y+g*w*v)/S*Math.sin(S*C)+v*Math.cos(S*C))}}else if(g===1)j=S=>o-Math.exp(-w*S)*(v+(y+w*v)*S);else{const S=w*Math.sqrt(g*g-1);j=C=>{const k=Math.exp(-g*w*C),R=Math.min(S*C,300);return o-k*((y+g*w*v)*Math.sinh(R)+S*v*Math.cosh(R))/S}}const E={calculatedDuration:p&&f||null,next:S=>{const C=j(S);if(p)l.done=S>=f;else{let k=S===0?y:0;g<1&&(k=S===0?Yc(y):Poe(j,S,C));const R=Math.abs(k)<=n,O=Math.abs(o-C)<=a;l.done=R&&O}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(t6(E),HN),C=Aoe(k=>E.next(S*k).value,S,30);return S+"ms "+C},toTransition:()=>{}};return E}GN.applyToOptions=e=>{const t=_Le(e,100,GN);return e.ease=t.ease,e.duration=Yc(t.duration),e.type="keyframes",e};function i3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=R=>l!==void 0&&R<l||c!==void 0&&R>c,y=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let g=r*t;const v=f+g,w=o===void 0?v:o(v);w!==v&&(g=w-f);const b=R=>-g*Math.exp(-R/n),j=R=>w+b(R),E=R=>{const O=b(R),A=j(R);m.done=Math.abs(O)<=u,m.value=m.done?w:A};let S,C;const k=R=>{p(m.value)&&(S=R,C=GN({keyframes:[m.value,y(m.value)],velocity:Poe(j,R,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:R=>{let O=!1;return!C&&S===void 0&&(O=!0,E(R),k(R)),S!==void 0&&R>=S?C.next(R-S):(!O&&E(R),m)}}}function ALe(e,t,r){const n=[],a=r||Zu.mix||Toe,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Dl:t;l=Hw(c,l)}n.push(l)}return n}function PLe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(WF(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=ALe(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=vb(e[f],e[f+1],d);return l[f](m)};return r?d=>u(Ju(e[0],e[i-1],d)):u}function OLe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=vb(0,t,n);e.push(xs(r,1,a))}}function RLe(e){const t=[0];return OLe(t,e.length-1),t}function DLe(e,t){return e.map(r=>r*t)}function ILe(e,t){return e.map(()=>t||yoe).splice(0,e.length-1)}function jy({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=H6e(n)?n.map(DV):DV(n),i={done:!1,value:t[0]},o=DLe(r&&r.length===t.length?r:RLe(t),e),l=PLe(o,t,{ease:Array.isArray(a)?a:ILe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const MLe=e=>e!==null;function r6(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(MLe),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const FLe={decay:i3,inertia:i3,tween:jy,keyframes:jy,spring:GN};function Ooe(e){typeof e.type=="string"&&(e.type=FLe[e.type])}class n6{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const LLe=e=>e/100;class s6 extends n6{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==fo.now()&&this.tick(fo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ooe(t);const{type:r=jy,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||jy;c!==jy&&typeof l[0]!="number"&&(this.mixKeyframes=Hw(LLe,Toe(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=t6(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:p,type:y,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,E=n;if(f){const R=Math.min(this.currentTime,a)/l;let O=Math.floor(R),A=R%1;!A&&R>=1&&(A=1),A===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(m==="reverse"?(A=1-A,p&&(A-=p/l)):m==="mirror"&&(E=o)),j=Ju(0,1,A)*l}const S=b?{done:!1,value:d[0]}:E.next(j);i&&(S.value=i(S.value));let{done:C}=S;!b&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&y!==i3&&(S.value=r6(d,this.options,v,this.speed)),g&&g(S.value),k&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Cl(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Cl(t)}get time(){return Cl(this.currentTime)}set time(t){t=Yc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fo.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Cl(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=wLe,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function $Le(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zh=e=>e*180/Math.PI,o3=e=>{const t=zh(Math.atan2(e[1],e[0]));return l3(t)},BLe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:o3,rotateZ:o3,skewX:e=>zh(Math.atan(e[1])),skewY:e=>zh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},l3=e=>(e=e%360,e<0&&(e+=360),e),BV=o3,UV=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),VV=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ULe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UV,scaleY:VV,scale:e=>(UV(e)+VV(e))/2,rotateX:e=>l3(zh(Math.atan2(e[6],e[5]))),rotateY:e=>l3(zh(Math.atan2(-e[2],e[0]))),rotateZ:BV,rotate:BV,skewX:e=>zh(Math.atan(e[4])),skewY:e=>zh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function c3(e){return e.includes("scale")?1:0}function u3(e,t){if(!e||e==="none")return c3(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=ULe,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=BLe,a=l}if(!a)return c3(t);const i=n[t],o=a[1].split(",").map(zLe);return typeof i=="function"?i(o):o[i]}const VLe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return u3(r,t)};function zLe(e){return parseFloat(e.trim())}const fx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hx=new Set(fx),zV=e=>e===dx||e===cr,qLe=new Set(["x","y","z"]),WLe=fx.filter(e=>!qLe.has(e));function HLe(e){const t=[];return WLe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const lm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>u3(t,"x"),y:(e,{transform:t})=>u3(t,"y")};lm.translateX=lm.x;lm.translateY=lm.y;const cm=new Set;let d3=!1,f3=!1,h3=!1;function Roe(){if(f3){const e=Array.from(cm).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=HLe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}f3=!1,d3=!1,cm.forEach(e=>e.complete(h3)),cm.clear()}function Doe(){cm.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(f3=!0)})}function GLe(){h3=!0,Doe(),Roe(),h3=!1}class a6{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(cm.add(this),d3||(d3=!0,os.read(Doe),os.resolveKeyframes(Roe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}$Le(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),cm.delete(this)}cancel(){this.state==="scheduled"&&(cm.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KLe=e=>e.startsWith("--");function YLe(e,t,r){KLe(t)?e.style.setProperty(t,r):e.style[t]=r}const XLe=HF(()=>window.ScrollTimeline!==void 0),JLe={};function ZLe(e,t){const r=HF(e);return()=>JLe[t]??r()}const Ioe=ZLe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qv=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,qV={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qv([0,.65,.55,1]),circOut:qv([.55,0,1,.45]),backIn:qv([.31,.01,.66,-.59]),backOut:qv([.33,1.53,.69,.99])};function Moe(e,t){if(e)return typeof e=="function"?Ioe()?Aoe(e,t):"ease-out":boe(e)?qv(e):Array.isArray(e)?e.map(r=>Moe(r,t)||qV.easeOut):qV[e]}function QLe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Moe(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function Foe(e){return typeof e=="function"&&"applyToOptions"in e}function e8e({type:e,...t}){return Foe(e)&&Ioe()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class t8e extends n6{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,WF(typeof t.type!="string");const u=e8e(t);this.animation=QLe(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=r6(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):YLe(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Cl(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Cl(t)}get time(){return Cl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&XLe()?(this.animation.timeline=t,Dl):r(this)}}const Loe={anticipate:goe,backInOut:poe,circInOut:voe};function r8e(e){return e in Loe}function n8e(e){typeof e.ease=="string"&&r8e(e.ease)&&(e.ease=Loe[e.ease])}const WV=10;class s8e extends t8e{constructor(t){n8e(t),Ooe(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new s6({...o,autoplay:!1}),c=Yc(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-WV).value,l.sample(c).value,WV),l.stop()}}const HV=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lf.test(e)||e==="0")&&!e.startsWith("url("));function a8e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function i8e(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=HV(a,t),l=HV(i,t);return!o||!l?!1:a8e(e)||(r==="spring"||Foe(r))&&n}function m3(e){e.duration=0,e.type="keyframes"}const o8e=new Set(["opacity","clipPath","filter","transform"]),l8e=HF(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c8e(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return l8e()&&r&&o8e.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const u8e=40;class d8e extends n6{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fo.now();const m={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},p=d?.KeyframeResolver||a6;this.keyframeResolver=new p(l,(y,g,v)=>this.onKeyframesResolved(y,g,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=fo.now(),i8e(t,i,o,l)||((Zu.instantAnimations||!c)&&d?.(r6(t,n,r)),t[0]=t[t.length-1],m3(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>u8e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&c8e(m)?new s8e({...m,element:m.motionValue.owner.current}):new s6(m);p.finished.then(()=>this.notifyFinished()).catch(Dl),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),GLe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const f8e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h8e(e){const t=f8e.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function $oe(e,t,r=1){const[n,a]=h8e(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return ooe(o)?parseFloat(o):o}return JF(a)?$oe(a,t,r+1):a}function i6(e,t){return e?.[t]??e?.default??e}const Boe=new Set(["width","height","top","left","right","bottom",...fx]),m8e={test:e=>e==="auto",parse:e=>e},Uoe=e=>t=>t.test(e),Voe=[dx,cr,Xc,zd,aLe,sLe,m8e],GV=e=>Voe.find(Uoe(e));function p8e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||coe(e):!0}const g8e=new Set(["brightness","contrast","saturate","opacity"]);function x8e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(ZF)||[];if(!n)return e;const a=r.replace(n,"");let i=g8e.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const v8e=/\b([a-z-]*)\(.*?\)/gu,p3={...Lf,getAnimatableNone:e=>{const t=e.match(v8e);return t?t.map(x8e).join(" "):e}},KV={...dx,transform:Math.round},y8e={rotate:zd,rotateX:zd,rotateY:zd,rotateZ:zd,scale:J_,scaleX:J_,scaleY:J_,scaleZ:J_,skew:zd,skewX:zd,skewY:zd,distance:cr,translateX:cr,translateY:cr,translateZ:cr,x:cr,y:cr,z:cr,perspective:cr,transformPerspective:cr,opacity:yb,originX:IV,originY:IV,originZ:cr},o6={borderWidth:cr,borderTopWidth:cr,borderRightWidth:cr,borderBottomWidth:cr,borderLeftWidth:cr,borderRadius:cr,radius:cr,borderTopLeftRadius:cr,borderTopRightRadius:cr,borderBottomRightRadius:cr,borderBottomLeftRadius:cr,width:cr,maxWidth:cr,height:cr,maxHeight:cr,top:cr,right:cr,bottom:cr,left:cr,padding:cr,paddingTop:cr,paddingRight:cr,paddingBottom:cr,paddingLeft:cr,margin:cr,marginTop:cr,marginRight:cr,marginBottom:cr,marginLeft:cr,backgroundPositionX:cr,backgroundPositionY:cr,...y8e,zIndex:KV,fillOpacity:yb,strokeOpacity:yb,numOctaves:KV},b8e={...o6,color:ea,backgroundColor:ea,outlineColor:ea,fill:ea,stroke:ea,borderColor:ea,borderTopColor:ea,borderRightColor:ea,borderBottomColor:ea,borderLeftColor:ea,filter:p3,WebkitFilter:p3},zoe=e=>b8e[e];function qoe(e,t){let r=zoe(e);return r!==p3&&(r=Lf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const w8e=new Set(["auto","none","0"]);function _8e(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!w8e.has(i)&&bb(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=qoe(r,a)}class j8e extends a6{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),JF(u))){const d=$oe(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Boe.has(n)||t.length!==2)return;const[a,i]=t,o=GV(a),l=GV(i);if(o!==l)if(zV(o)&&zV(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else lm[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||p8e(t[a]))&&n.push(a);n.length&&_8e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=lm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function N8e(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Woe=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Hoe(e){return loe(e)&&"offsetHeight"in e}const YV=30,S8e=e=>!isNaN(parseFloat(e));class k8e{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=fo.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=fo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=S8e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new GF);const n=this.events[t].add(r);return t==="change"?()=>{n(),os.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>YV)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,YV);return uoe(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _0(e,t){return new k8e(e,t)}const{schedule:l6}=woe(queueMicrotask,!1),tc={x:!1,y:!1};function Goe(){return tc.x||tc.y}function C8e(e){return e==="x"||e==="y"?tc[e]?null:(tc[e]=!0,()=>{tc[e]=!1}):tc.x||tc.y?null:(tc.x=tc.y=!0,()=>{tc.x=tc.y=!1})}function Koe(e,t){const r=N8e(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function XV(e){return!(e.pointerType==="touch"||Goe())}function E8e(e,t,r={}){const[n,a,i]=Koe(e,r),o=l=>{if(!XV(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{XV(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Yoe=(e,t)=>t?e===t?!0:Yoe(e,t.parentElement):!1,c6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,T8e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A8e(e){return T8e.has(e.tagName)||e.tabIndex!==-1}const Bj=new WeakSet;function JV(e){return t=>{t.key==="Enter"&&e(t)}}function YT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P8e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=JV(()=>{if(Bj.has(r))return;YT(r,"down");const a=JV(()=>{YT(r,"up")}),i=()=>YT(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function ZV(e){return c6(e)&&!Goe()}function O8e(e,t,r={}){const[n,a,i]=Koe(e,r),o=l=>{const c=l.currentTarget;if(!ZV(l))return;Bj.add(c);const u=t(c,l),d=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Bj.has(c)&&Bj.delete(c),ZV(p)&&typeof u=="function"&&u(p,{success:y})},f=p=>{d(p,c===window||c===document||r.useGlobalTarget||Yoe(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),Hoe(l)&&(l.addEventListener("focus",u=>P8e(u,a)),!A8e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Xoe(e){return loe(e)&&"ownerSVGElement"in e}function R8e(e){return Xoe(e)&&e.tagName==="svg"}const wi=e=>!!(e&&e.getVelocity),D8e=[...Voe,ea,Lf],I8e=e=>D8e.find(Uoe(e)),u6=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function QV(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function M8e(...e){return t=>{let r=!1;const n=e.map(a=>{const i=QV(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():QV(e[a],null)}}}}function F8e(...e){return _.useCallback(M8e(...e),e)}class L8e extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Hoe(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $8e({children:e,isPresent:t,anchorX:r,root:n}){const a=_.useId(),i=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(u6),c=F8e(i,e?.ref);return _.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:p}=o.current;if(t||!i.current||!u||!d)return;const y=r==="left"?`left: ${m}`:`right: ${p}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=n??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),s.jsx(L8e,{isPresent:t,childRef:i,sizeRef:o,children:_.cloneElement(e,{ref:c})})}const B8e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=UF(U8e),d=_.useId();let f=!0,m=_.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return i&&f&&(m={...m}),_.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx($8e,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(tk.Provider,{value:m,children:e})};function U8e(){return new Map}function Joe(e=!0){const t=_.useContext(tk);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=_.useId();_.useEffect(()=>{if(e)return a(i)},[e]);const o=_.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Z_=e=>e.key||"";function ez(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const tz=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Joe(o),f=_.useMemo(()=>ez(e),[e]),m=o&&!u?[]:f.map(Z_),p=_.useRef(!0),y=_.useRef(f),g=UF(()=>new Map),[v,w]=_.useState(f),[b,j]=_.useState(f);ioe(()=>{p.current=!1,y.current=f;for(let C=0;C<b.length;C++){const k=Z_(b[C]);m.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[b,m.length,m.join("-")]);const E=[];if(f!==v){let C=[...f];for(let k=0;k<b.length;k++){const R=b[k],O=Z_(R);m.includes(O)||(C.splice(k,0,R),E.push(R))}return i==="wait"&&E.length&&(C=E),j(ez(C)),w(f),null}const{forceRender:S}=_.useContext(BF);return s.jsx(s.Fragment,{children:b.map(C=>{const k=Z_(C),R=o&&!u?!1:f===b||m.includes(k),O=()=>{if(g.has(k))g.set(k,!0);else return;let A=!0;g.forEach(P=>{P||(A=!1)}),A&&(S?.(),j(y.current),o&&d?.(),n&&n())};return s.jsx(B8e,{isPresent:R,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:R?void 0:O,anchorX:l,children:C},k)})})},Zoe=_.createContext({strict:!1}),rz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},j0={};for(const e in rz)j0[e]={isEnabled:t=>rz[e].some(r=>!!t[r])};function V8e(e){for(const t in e)j0[t]={...j0[t],...e[t]}}const z8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function KN(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||z8e.has(e)}let Qoe=e=>!KN(e);function q8e(e){typeof e=="function"&&(Qoe=t=>t.startsWith("on")?!KN(t):e(t))}try{q8e(require("@emotion/is-prop-valid").default)}catch{}function W8e(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Qoe(a)||r===!0&&KN(a)||!t&&!KN(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const rk=_.createContext({});function nk(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function wb(e){return typeof e=="string"||Array.isArray(e)}const d6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f6=["initial",...d6];function sk(e){return nk(e.animate)||f6.some(t=>wb(e[t]))}function ele(e){return!!(sk(e)||e.variants)}function H8e(e,t){if(sk(e)){const{initial:r,animate:n}=e;return{initial:r===!1||wb(r)?r:void 0,animate:wb(n)?n:void 0}}return e.inherit!==!1?t:{}}function G8e(e){const{initial:t,animate:r}=H8e(e,_.useContext(rk));return _.useMemo(()=>({initial:t,animate:r}),[nz(t),nz(r)])}function nz(e){return Array.isArray(e)?e.join(" "):e}const _b={};function K8e(e){for(const t in e)_b[t]=e[t],XF(t)&&(_b[t].isCSSVariable=!0)}function tle(e,{layout:t,layoutId:r}){return hx.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!_b[e]||e==="opacity")}const Y8e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X8e=fx.length;function J8e(e,t,r){let n="",a=!0;for(let i=0;i<X8e;i++){const o=fx[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Woe(l,o6[o]);if(!c){a=!1;const d=Y8e[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function h6(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(hx.has(c)){o=!0;continue}else if(XF(c)){a[c]=u;continue}else{const d=Woe(u,o6[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=J8e(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const m6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rle(e,t,r){for(const n in t)!wi(t[n])&&!tle(n,r)&&(e[n]=t[n])}function Z8e({transformTemplate:e},t){return _.useMemo(()=>{const r=m6();return h6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Q8e(e,t){const r=e.style||{},n={};return rle(n,r,e),Object.assign(n,Z8e(e,t)),n}function e$e(e,t){const r={},n=Q8e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const t$e={offset:"stroke-dashoffset",array:"stroke-dasharray"},r$e={offset:"strokeDashoffset",array:"strokeDasharray"};function n$e(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?t$e:r$e;e[i.offset]=cr.transform(-n);const o=cr.transform(t),l=cr.transform(r);e[i.array]=`${o} ${l}`}function nle(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(h6(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&n$e(f,a,i,o,!1)}const sle=()=>({...m6(),attrs:{}}),ale=e=>typeof e=="string"&&e.toLowerCase()==="svg";function s$e(e,t,r,n){const a=_.useMemo(()=>{const i=sle();return nle(i,t,ale(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rle(i,e.style,e),a.style={...i,...a.style}}return a}const a$e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p6(e){return typeof e!="string"||e.includes("-")?!1:!!(a$e.indexOf(e)>-1||/[A-Z]/u.test(e))}function i$e(e,t,r,{latestValues:n},a,i=!1){const l=(p6(e)?s$e:e$e)(t,n,a,e),c=W8e(t,typeof e=="string",i),u=e!==_.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=_.useMemo(()=>wi(d)?d.get():d,[d]);return _.createElement(e,{...u,children:f})}function sz(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function g6(e,t,r,n){if(typeof t=="function"){const[a,i]=sz(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=sz(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Uj(e){return wi(e)?e.get():e}function o$e({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:l$e(r,n,a,e),renderState:t()}}function l$e(e,t,r,n){const a={},i=n(e,{});for(const m in i)a[m]=Uj(i[m]);let{initial:o,animate:l}=e;const c=sk(e),u=ele(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!nk(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const y=g6(e,m[p]);if(y){const{transitionEnd:g,transition:v,...w}=y;for(const b in w){let j=w[b];if(Array.isArray(j)){const E=d?j.length-1:0;j=j[E]}j!==null&&(a[b]=j)}for(const b in g)a[b]=g[b]}}}return a}const ile=e=>(t,r)=>{const n=_.useContext(rk),a=_.useContext(tk),i=()=>o$e(e,t,n,a);return r?i():UF(i)};function x6(e,t,r){const{style:n}=e,a={};for(const i in n)(wi(n[i])||t.style&&wi(t.style[i])||tle(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const c$e=ile({scrapeMotionValuesFromProps:x6,createRenderState:m6});function ole(e,t,r){const n=x6(e,t,r);for(const a in e)if(wi(e[a])||wi(t[a])){const i=fx.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const u$e=ile({scrapeMotionValuesFromProps:ole,createRenderState:sle}),d$e=Symbol.for("motionComponentSymbol");function _g(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function f$e(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_g(r)&&(r.current=n))},[t])}const v6=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),h$e="framerAppearId",lle="data-"+v6(h$e),cle=_.createContext({});function m$e(e,t,r,n,a){const{visualElement:i}=_.useContext(rk),o=_.useContext(Zoe),l=_.useContext(tk),c=_.useContext(u6).reducedMotion,u=_.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=_.useContext(cle);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&p$e(u.current,r,a,f);const m=_.useRef(!1);_.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const p=r[lle],y=_.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return ioe(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),y.current=!1),d.enteringChildren=void 0)}),d}function p$e(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:ule(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&_g(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function ule(e){if(e)return e.options.allowProjection!==!1?e.projection:ule(e.parent)}function XT(e,{forwardMotionProps:t=!1}={},r,n){r&&V8e(r);const a=p6(e)?u$e:c$e;function i(l,c){let u;const d={..._.useContext(u6),...l,layoutId:g$e(l)},{isStatic:f}=d,m=G8e(l),p=a(l,f);if(!f&&VF){x$e();const y=v$e(d);u=y.MeasureLayout,m.visualElement=m$e(e,p,d,n,y.ProjectionNode)}return s.jsxs(rk.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,i$e(e,l,f$e(p,m.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(i);return o[d$e]=e,o}function g$e({layoutId:e}){const t=_.useContext(BF).id;return t&&e!==void 0?t+"-"+e:e}function x$e(e,t){_.useContext(Zoe).strict}function v$e(e){const{drag:t,layout:r}=j0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function y$e(e,t){if(typeof Proxy>"u")return XT;const r=new Map,n=(i,o)=>XT(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,XT(o,void 0,e,t)),r.get(o))})}function dle({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function b$e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function w$e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function JT(e){return e===void 0||e===1}function g3({scale:e,scaleX:t,scaleY:r}){return!JT(e)||!JT(t)||!JT(r)}function Ch(e){return g3(e)||fle(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fle(e){return az(e.x)||az(e.y)}function az(e){return e&&e!=="0%"}function YN(e,t,r){const n=e-r,a=t*n;return r+a}function iz(e,t,r,n,a){return a!==void 0&&(e=YN(e,a,n)),YN(e,r,n)+t}function x3(e,t=0,r=1,n,a){e.min=iz(e.min,t,r,n,a),e.max=iz(e.max,t,r,n,a)}function hle(e,{x:t,y:r}){x3(e.x,t.translate,t.scale,t.originPoint),x3(e.y,r.translate,r.scale,r.originPoint)}const oz=.999999999999,lz=1.0000000000001;function _$e(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ng(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hle(e,o)),n&&Ch(i.latestValues)&&Ng(e,i.latestValues))}t.x<lz&&t.x>oz&&(t.x=1),t.y<lz&&t.y>oz&&(t.y=1)}function jg(e,t){e.min=e.min+t,e.max=e.max+t}function cz(e,t,r,n,a=.5){const i=xs(e.min,e.max,a);x3(e,t,r,i,n)}function Ng(e,t){cz(e.x,t.x,t.scaleX,t.scale,t.originX),cz(e.y,t.y,t.scaleY,t.scale,t.originY)}function mle(e,t){return dle(w$e(e.getBoundingClientRect(),t))}function j$e(e,t,r){const n=mle(e,r),{scroll:a}=t;return a&&(jg(n.x,a.offset.x),jg(n.y,a.offset.y)),n}const uz=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sg=()=>({x:uz(),y:uz()}),dz=()=>({min:0,max:0}),Is=()=>({x:dz(),y:dz()}),v3={current:null},ple={current:!1};function N$e(){if(ple.current=!0,!!VF)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v3.current=e.matches;e.addEventListener("change",t),t()}else v3.current=!1}const S$e=new WeakMap;function k$e(e,t,r){for(const n in t){const a=t[n],i=r[n];if(wi(a))e.addValue(n,a);else if(wi(i))e.addValue(n,_0(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,_0(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const fz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C$e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=fo.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,os.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=sk(r),this.isVariantNode=ele(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&wi(p)&&p.set(c[m])}}mount(t){this.current=t,S$e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),ple.current||N$e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v3.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ff(this.notifyUpdate),Ff(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=hx.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&os.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in j0){const r=j0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Is()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<fz.length;n++){const a=fz[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=k$e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=_0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(ooe(n)||coe(n))?n=parseFloat(n):!I8e(n)&&Lf.test(r)&&(n=qoe(t,r)),this.setBaseTarget(t,wi(n)?n.get():n)),wi(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=g6(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!wi(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new GF),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){l6.render(this.render)}}class gle extends C$e{constructor(){super(...arguments),this.KeyframeResolver=j8e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function xle(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function E$e(e){return window.getComputedStyle(e)}class T$e extends gle{constructor(){super(...arguments),this.type="html",this.renderInstance=xle}readValueFromInstance(t,r){if(hx.has(r))return this.projection?.isProjecting?c3(r):VLe(t,r);{const n=E$e(t),a=(XF(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return mle(t,r)}build(t,r,n){h6(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return x6(t,r,n)}}const vle=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A$e(e,t,r,n){xle(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(vle.has(a)?a:v6(a),t.attrs[a])}class P$e extends gle{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Is}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(hx.has(r)){const n=zoe(r);return n&&n.default||0}return r=vle.has(r)?r:v6(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ole(t,r,n)}build(t,r,n){nle(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){A$e(t,r,n,a)}mount(t){this.isSVGTag=ale(t.tagName),super.mount(t)}}const O$e=(e,t)=>p6(e)?new P$e(t):new T$e(t,{allowProjection:e!==_.Fragment});function Yg(e,t,r){const n=e.getProps();return g6(n,t,r!==void 0?r:n.custom,e)}const y3=e=>Array.isArray(e);function R$e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,_0(r))}function D$e(e){return y3(e)?e[e.length-1]||0:e}function I$e(e,t){const r=Yg(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=D$e(i[o]);R$e(e,o,l)}}function M$e(e){return!!(wi(e)&&e.add)}function b3(e,t){const r=e.getValue("willChange");if(M$e(r))return r.add(t);if(!r&&Zu.WillChange){const n=new Zu.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function yle(e){return e.props[lle]}const F$e=e=>e!==null;function L$e(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(F$e),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const $$e={type:"spring",stiffness:500,damping:25,restSpeed:10},B$e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),U$e={type:"keyframes",duration:.8},V$e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z$e=(e,{keyframes:t})=>t.length>2?U$e:hx.has(e)?e.startsWith("scale")?B$e(t[1]):$$e:V$e;function q$e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const y6=(e,t,r,n={},a,i)=>o=>{const l=i6(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Yc(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};q$e(l)||Object.assign(d,z$e(e,d)),d.duration&&(d.duration=Yc(d.duration)),d.repeatDelay&&(d.repeatDelay=Yc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(m3(d),d.delay===0&&(f=!0)),(Zu.instantAnimations||Zu.skipAnimations)&&(f=!0,m3(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=L$e(d.keyframes,l);if(m!==void 0){os.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new s6(d):new d8e(d)};function W$e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function ble(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&W$e(u,d))continue;const p={delay:r,...i6(i||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const w=yle(e);if(w){const b=window.MotionHandoffAnimation(w,d,os);b!==null&&(p.startTime=b,g=!0)}}b3(e,d),f.start(y6(d,f,m,e.shouldReduceMotion&&Boe.has(d)?{type:!1}:p,e,g));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{os.update(()=>{o&&I$e(e,o)})}),c}function wle(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function w3(e,t,r={}){const n=Yg(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(ble(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return H$e(e,t,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function H$e(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(w3(c,t,{...o,delay:r+(typeof n=="function"?0:n)+wle(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function G$e(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>w3(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=w3(e,t,r);else{const a=typeof t=="function"?Yg(e,t,r.custom):t;n=Promise.all(ble(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function _le(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const K$e=f6.length;function jle(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?jle(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<K$e;r++){const n=f6[r],a=e.props[n];(wb(a)||a===!1)&&(t[n]=a)}return t}const Y$e=[...d6].reverse(),X$e=d6.length;function J$e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>G$e(e,r,n)))}function Z$e(e){let t=J$e(e),r=hz(),n=!0;const a=c=>(u,d)=>{const f=Yg(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=jle(e.parent)||{},f=[],m=new Set;let p={},y=1/0;for(let v=0;v<X$e;v++){const w=Y$e[v],b=r[w],j=u[w]!==void 0?u[w]:d[w],E=wb(j),S=w===c?b.isActive:null;S===!1&&(y=v);let C=j===d[w]&&j!==u[w]&&E;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...p},!b.isActive&&S===null||!j&&!b.prevProp||nk(j)||typeof j=="boolean")continue;const k=Q$e(b.prevProp,j);let R=k||w===c&&b.isActive&&!C&&E||v>y&&E,O=!1;const A=Array.isArray(j)?j:[j];let P=A.reduce(a(w),{});S===!1&&(P={});const{prevResolvedValues:D={}}=b,F={...D,...P},L=G=>{R=!0,m.has(G)&&(O=!0,m.delete(G)),b.needsAnimating[G]=!0;const K=e.getValue(G);K&&(K.liveStyle=!1)};for(const G in F){const K=P[G],I=D[G];if(p.hasOwnProperty(G))continue;let B=!1;y3(K)&&y3(I)?B=!_le(K,I):B=K!==I,B?K!=null?L(G):m.add(G):K!==void 0&&m.has(G)?L(G):b.protectedKeys[G]=!0}b.prevProp=j,b.prevResolvedValues=P,b.isActive&&(p={...p,...P}),n&&e.blockInitialAnimation&&(R=!1);const H=C&&k;R&&(!H||O)&&f.push(...A.map(G=>{const K={type:w};if(typeof G=="string"&&n&&!H&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,B=Yg(I,G);if(I.enteringChildren&&B){const{delayChildren:Y}=B.transition||{};K.delay=wle(I.enteringChildren,e,Y)}}return{animation:G,options:K}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const w=Yg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(v.transition=w.transition)}m.forEach(w=>{const b=e.getBaseTarget(w),j=e.getValue(w);j&&(j.liveStyle=!0),v[w]=b??null}),f.push({animation:v})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=hz()}}}function Q$e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_le(t,e):!1}function vh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hz(){return{animate:vh(!0),whileInView:vh(),whileHover:vh(),whileTap:vh(),whileDrag:vh(),whileFocus:vh(),exit:vh()}}class Jf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eBe extends Jf{constructor(t){super(t),t.animationState||(t.animationState=Z$e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nk(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tBe=0;class rBe extends Jf{constructor(){super(...arguments),this.id=tBe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nBe={animation:{Feature:eBe},exit:{Feature:rBe}};function jb(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Yw(e){return{point:{x:e.pageX,y:e.pageY}}}const sBe=e=>t=>c6(t)&&e(t,Yw(t));function Ny(e,t,r,n){return jb(e,t,sBe(r),n)}const Nle=1e-4,aBe=1-Nle,iBe=1+Nle,Sle=.01,oBe=0-Sle,lBe=0+Sle;function Vi(e){return e.max-e.min}function cBe(e,t,r){return Math.abs(e-t)<=r}function mz(e,t,r,n=.5){e.origin=n,e.originPoint=xs(t.min,t.max,e.origin),e.scale=Vi(r)/Vi(t),e.translate=xs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=aBe&&e.scale<=iBe||isNaN(e.scale))&&(e.scale=1),(e.translate>=oBe&&e.translate<=lBe||isNaN(e.translate))&&(e.translate=0)}function Sy(e,t,r,n){mz(e.x,t.x,r.x,n?n.originX:void 0),mz(e.y,t.y,r.y,n?n.originY:void 0)}function pz(e,t,r){e.min=r.min+t.min,e.max=e.min+Vi(t)}function uBe(e,t,r){pz(e.x,t.x,r.x),pz(e.y,t.y,r.y)}function gz(e,t,r){e.min=t.min-r.min,e.max=e.min+Vi(t)}function ky(e,t,r){gz(e.x,t.x,r.x),gz(e.y,t.y,r.y)}function ml(e){return[e("x"),e("y")]}const kle=({current:e})=>e?e.ownerDocument.defaultView:null,xz=(e,t)=>Math.abs(e-t);function dBe(e,t){const r=xz(e.x,t.x),n=xz(e.y,t.y);return Math.sqrt(r**2+n**2)}class Cle{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=QT(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=dBe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:g}=m,{timestamp:v}=Ga;this.history.push({...g,timestamp:v});const{onStart:w,onMove:b}=this.handlers;p||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=ZT(p,this.transformPagePoint),os.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=QT(m.type==="pointercancel"?this.lastMoveEventInfo:ZT(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,w),g&&g(m,w)},!c6(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Yw(t),c=ZT(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ga;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,QT(c,this.history)),this.removeListeners=Hw(Ny(this.contextWindow,"pointermove",this.handlePointerMove),Ny(this.contextWindow,"pointerup",this.handlePointerUp),Ny(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ff(this.updatePoint)}}function ZT(e,t){return t?{point:t(e.point)}:e}function vz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function QT({point:e},t){return{point:e,delta:vz(e,Ele(t)),offset:vz(e,fBe(t)),velocity:hBe(t,.1)}}function fBe(e){return e[0]}function Ele(e){return e[e.length-1]}function hBe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Ele(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Yc(t)));)r--;if(!n)return{x:0,y:0};const i=Cl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mBe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xs(r,e,n.max):Math.min(e,r)),e}function yz(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function pBe(e,{top:t,left:r,bottom:n,right:a}){return{x:yz(e.x,r,a),y:yz(e.y,t,n)}}function bz(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function gBe(e,t){return{x:bz(e.x,t.x),y:bz(e.y,t.y)}}function xBe(e,t){let r=.5;const n=Vi(e),a=Vi(t);return a>n?r=vb(t.min,t.max-n,e.min):n>a&&(r=vb(e.min,e.max-a,t.min)),Ju(0,1,r)}function vBe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _3=.35;function yBe(e=_3){return e===!1?e=0:e===!0&&(e=_3),{x:wz(e,"left","right"),y:wz(e,"top","bottom")}}function wz(e,t,r){return{min:_z(e,t),max:_z(e,r)}}function _z(e,t){return typeof e=="number"?e:e[t]||0}const bBe=new WeakMap;class wBe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Is(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yw(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:y,onDragStart:g}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C8e(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ml(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Xc.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const E=j.layout.layoutBox[w];E&&(b=Vi(E)*(parseFloat(b)/100))}}this.originPoint[w]=b}),g&&os.postRender(()=>g(f,m)),b3(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=m;if(y&&this.currentDirection===null){this.currentDirection=_Be(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ml(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Cle(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:kle(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&os.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Q_(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=mBe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&_g(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=pBe(n.layoutBox,t):this.constraints=!1,this.elastic=yBe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ml(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=vBe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_g(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=j$e(n,a.root,this.visualElement.getTransformPagePoint());let o=gBe(a.layout.layoutBox,i);if(r){const l=r(b$e(o));this.hasMutatedConstraints=!!l,l&&(o=dle(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ml(d=>{if(!Q_(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return b3(this.visualElement,t),n.start(y6(t,n,0,r,this.visualElement,!1))}stopAnimation(){ml(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ml(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ml(r=>{const{drag:n}=this.getProps();if(!Q_(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-xs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_g(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ml(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=xBe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ml(o=>{if(!Q_(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xs(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;bBe.set(this.visualElement,this);const t=this.visualElement.current,r=Ny(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();_g(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),os.read(n);const o=jb(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ml(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=_3,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Q_(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function _Be(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class jBe extends Jf{constructor(t){super(t),this.removeGroupControls=Dl,this.removeListeners=Dl,this.controls=new wBe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dl}unmount(){this.removeGroupControls(),this.removeListeners()}}const jz=e=>(t,r)=>{e&&os.postRender(()=>e(t,r))};class NBe extends Jf{constructor(){super(...arguments),this.removePointerDownListener=Dl}onPointerDown(t){this.session=new Cle(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kle(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:jz(t),onStart:jz(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&os.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Ny(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vj={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(cr.test(e))e=parseFloat(e);else return e;const r=Nz(e,t.target.x),n=Nz(e,t.target.y);return`${r}% ${n}%`}},SBe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Lf.parse(e);if(a.length>5)return n;const i=Lf.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=xs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let eA=!1;class kBe extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;K8e(CBe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),eA&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vj.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,eA=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||os.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),l6.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;eA=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Tle(e){const[t,r]=Joe(),n=_.useContext(BF);return s.jsx(kBe,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(cle),isPresent:t,safeToRemove:r})}const CBe={borderRadius:{...hv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hv,borderTopRightRadius:hv,borderBottomLeftRadius:hv,borderBottomRightRadius:hv,boxShadow:SBe};function EBe(e,t,r){const n=wi(e)?e:_0(e);return n.start(y6("",n,t,r)),n.animation}const TBe=(e,t)=>e.depth-t.depth;class ABe{constructor(){this.children=[],this.isDirty=!1}add(t){zF(this.children,t),this.isDirty=!0}remove(t){qF(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TBe),this.isDirty=!1,this.children.forEach(t)}}function PBe(e,t){const r=fo.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Ff(n),e(i-t))};return os.setup(n,!0),()=>Ff(n)}const Ale=["TopLeft","TopRight","BottomLeft","BottomRight"],OBe=Ale.length,Sz=e=>typeof e=="string"?parseFloat(e):e,kz=e=>typeof e=="number"||cr.test(e);function RBe(e,t,r,n,a,i){a?(e.opacity=xs(0,r.opacity??1,DBe(n)),e.opacityExit=xs(t.opacity??1,0,IBe(n))):i&&(e.opacity=xs(t.opacity??1,r.opacity??1,n));for(let o=0;o<OBe;o++){const l=`border${Ale[o]}Radius`;let c=Cz(t,l),u=Cz(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||kz(c)===kz(u)?(e[l]=Math.max(xs(Sz(c),Sz(u),n),0),(Xc.test(u)||Xc.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=xs(t.rotate||0,r.rotate||0,n))}function Cz(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DBe=Ple(0,.5,xoe),IBe=Ple(.5,.95,Dl);function Ple(e,t,r){return n=>n<e?0:n>t?1:r(vb(e,t,n))}function Ez(e,t){e.min=t.min,e.max=t.max}function il(e,t){Ez(e.x,t.x),Ez(e.y,t.y)}function Tz(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Az(e,t,r,n,a){return e-=t,e=YN(e,1/r,n),a!==void 0&&(e=YN(e,1/a,n)),e}function MBe(e,t=0,r=1,n=.5,a,i=e,o=e){if(Xc.test(t)&&(t=parseFloat(t),t=xs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xs(i.min,i.max,n);e===i&&(l-=t),e.min=Az(e.min,t,r,l,a),e.max=Az(e.max,t,r,l,a)}function Pz(e,t,[r,n,a],i,o){MBe(e,t[r],t[n],t[a],t.scale,i,o)}const FBe=["x","scaleX","originX"],LBe=["y","scaleY","originY"];function Oz(e,t,r,n){Pz(e.x,t,FBe,r?r.x:void 0,n?n.x:void 0),Pz(e.y,t,LBe,r?r.y:void 0,n?n.y:void 0)}function Rz(e){return e.translate===0&&e.scale===1}function Ole(e){return Rz(e.x)&&Rz(e.y)}function Dz(e,t){return e.min===t.min&&e.max===t.max}function $Be(e,t){return Dz(e.x,t.x)&&Dz(e.y,t.y)}function Iz(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rle(e,t){return Iz(e.x,t.x)&&Iz(e.y,t.y)}function Mz(e){return Vi(e.x)/Vi(e.y)}function Fz(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class BBe{constructor(){this.members=[]}add(t){zF(this.members,t),t.scheduleRender()}remove(t){if(qF(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UBe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const tA=["","X","Y","Z"],VBe=1e3;let zBe=0;function rA(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Dle(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=yle(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",os,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Dle(n)}function Ile({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=zBe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HBe),this.nodes.forEach(XBe),this.nodes.forEach(JBe),this.nodes.forEach(GBe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ABe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new GF),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Xoe(o)&&!R8e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;os.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=PBe(m,250),Vj.hasAnimatedSinceResize&&(Vj.hasAnimatedSinceResize=!1,this.nodes.forEach(Bz)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||r9e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!Rle(this.targetLayout,p),b=!f&&m;if(this.options.layoutRoot||this.resumeFrom||b||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...i6(y,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(d,b)}else f||Bz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ff(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZBe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dle(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lz);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($z);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YBe),this.nodes.forEach(qBe),this.nodes.forEach(WBe)):this.nodes.forEach($z),this.clearAllSnapshots();const l=fo.now();Ga.delta=Ju(0,1e3/60,l-Ga.timestamp),Ga.timestamp=l,Ga.isProcessing=!0,qT.update.process(Ga),qT.preRender.process(Ga),qT.render.process(Ga),Ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KBe),this.sharedNodes.forEach(QBe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,os.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){os.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vi(this.snapshot.measuredBox.x)&&!Vi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ole(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ch(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),n9e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Is();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(s9e))){const{scroll:u}=this.root;u&&(jg(l.x,u.offset.x),jg(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Is();if(il(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&il(l,o),jg(l.x,d.offset.x),jg(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Is();il(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ng(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ch(d.latestValues)&&Ng(c,d.latestValues)}return Ch(this.latestValues)&&Ng(c,this.latestValues),c}removeTransform(o){const l=Is();il(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ch(u.latestValues))continue;g3(u.latestValues)&&u.updateSnapshot();const d=Is(),f=u.measurePageBox();il(d,f),Oz(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ch(this.latestValues)&&Oz(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ga.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),ky(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Is(),this.targetWithTransforms=Is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uBe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):il(this.target,this.layout.layoutBox),hle(this.target,this.targetDelta)):il(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),ky(this.relativeTargetOrigin,this.target,m.target),il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g3(this.parent.latestValues)||fle(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ga.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;il(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;_$e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Is());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tz(this.prevProjectionDelta.x,this.projectionDelta.x),Tz(this.prevProjectionDelta.y,this.projectionDelta.y)),Sy(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Fz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sg(),this.projectionDelta=Sg(),this.projectionDeltaWithTransform=Sg()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Sg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Is(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,v=this.getStack(),w=!v||v.members.length<=1,b=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(t9e));this.animationProgress=0;let j;this.mixTargetDelta=E=>{const S=E/1e3;Uz(f.x,o.x,S),Uz(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ky(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e9e(this.relativeTarget,this.relativeTargetOrigin,m,S),j&&$Be(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Is()),il(j,this.relativeTarget)),g&&(this.animationValues=d,RBe(d,u,this.latestValues,S,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ff(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=os.update(()=>{Vj.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_0(0)),this.currentAnimation=EBe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VBe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Mle(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Is();const f=Vi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Vi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}il(l,c),Ng(l,d),Sy(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BBe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&rA("z",o,u,this.animationValues);for(let d=0;d<tA.length;d++)rA(`rotate${tA[d]}`,o,u,this.animationValues),rA(`skew${tA[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Uj(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Uj(l?.pointerEvents)||""),this.hasProjected&&!Ch(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=UBe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in _b){if(d[y]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:w}=_b[y],b=f==="none"?d[y]:g(d[y],u);if(v){const j=v.length;for(let E=0;E<j;E++)o[v[E]]=b}else w?this.options.visualElement.renderState.vars[y]=b:o[y]=b}this.options.layoutId&&(o.pointerEvents=u===this?Uj(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Lz),this.root.sharedNodes.clear()}}}function qBe(e){e.updateLayout()}function WBe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?ml(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Vi(f);f.min=r[d].min,f.max=f.min+m}):Mle(a,t.layoutBox,r)&&ml(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Vi(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=Sg();Sy(o,r,t.layoutBox);const l=Sg();i?Sy(l,e.applyTransform(n,!0),t.measuredBox):Sy(l,r,t.layoutBox);const c=!Ole(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=Is();ky(p,t.layoutBox,f.layoutBox);const y=Is();ky(y,r,m.layoutBox),Rle(p,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function HBe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GBe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KBe(e){e.clearSnapshot()}function Lz(e){e.clearMeasurements()}function $z(e){e.isLayoutDirty=!1}function YBe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function XBe(e){e.resolveTargetDelta()}function JBe(e){e.calcProjection()}function ZBe(e){e.resetSkewAndRotation()}function QBe(e){e.removeLeadSnapshot()}function Uz(e,t,r){e.translate=xs(t.translate,0,r),e.scale=xs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Vz(e,t,r,n){e.min=xs(t.min,r.min,n),e.max=xs(t.max,r.max,n)}function e9e(e,t,r,n){Vz(e.x,t.x,r.x,n),Vz(e.y,t.y,r.y,n)}function t9e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const r9e={duration:.45,ease:[.4,0,.1,1]},zz=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qz=zz("applewebkit/")&&!zz("chrome/")?Math.round:Dl;function Wz(e){e.min=qz(e.min),e.max=qz(e.max)}function n9e(e){Wz(e.x),Wz(e.y)}function Mle(e,t,r){return e==="position"||e==="preserve-aspect"&&!cBe(Mz(t),Mz(r),.2)}function s9e(e){return e!==e.root&&e.scroll?.wasRoot}const a9e=Ile({attachResizeListener:(e,t)=>jb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nA={current:void 0},Fle=Ile({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nA.current){const e=new a9e({});e.mount(window),e.setOptions({layoutScroll:!0}),nA.current=e}return nA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i9e={pan:{Feature:NBe},drag:{Feature:jBe,ProjectionNode:Fle,MeasureLayout:Tle}};function Hz(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&os.postRender(()=>i(t,Yw(t)))}class o9e extends Jf{mount(){const{current:t}=this.node;t&&(this.unmount=E8e(t,(r,n)=>(Hz(this.node,n,"Start"),a=>Hz(this.node,a,"End"))))}unmount(){}}class l9e extends Jf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hw(jb(this.node.current,"focus",()=>this.onFocus()),jb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gz(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&os.postRender(()=>i(t,Yw(t)))}class c9e extends Jf{mount(){const{current:t}=this.node;t&&(this.unmount=O8e(t,(r,n)=>(Gz(this.node,n,"Start"),(a,{success:i})=>Gz(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j3=new WeakMap,sA=new WeakMap,u9e=e=>{const t=j3.get(e.target);t&&t(e)},d9e=e=>{e.forEach(u9e)};function f9e({root:e,...t}){const r=e||document;sA.has(r)||sA.set(r,{});const n=sA.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(d9e,{root:e,...t})),n[a]}function h9e(e,t,r){const n=f9e(t);return j3.set(e,r),n.observe(e),()=>{j3.delete(e),n.unobserve(e)}}const m9e={some:0,all:1};class p9e extends Jf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:m9e[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return h9e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(g9e(t,r))&&this.startObserver()}unmount(){}}function g9e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const x9e={inView:{Feature:p9e},tap:{Feature:c9e},focus:{Feature:l9e},hover:{Feature:o9e}},v9e={layout:{ProjectionNode:Fle,MeasureLayout:Tle}},y9e={...nBe,...x9e,...i9e,...v9e},Cu=y$e(y9e,O$e),N0=({id:e,slug:t,name:r,category:n,priceRange:a,price_range:i,images:o,status:l,storeSlug:c})=>{const u=wr(),[d,f]=_.useState(!1),m=o&&o.length>0?o[0]:"/placeholder.svg",p=a||i||"Price on request",y=t||e,v=eu()?`/products/${y}`:c?`/${c}/products/${y}`:`/products/${y}`,w=b=>{b.preventDefault(),!d&&(f(!0),setTimeout(()=>{u(v)},700))};return s.jsx(Cu.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},animate:d?{scale:.95}:{scale:1},onClick:w,className:"cursor-pointer",children:s.jsxs(ke,{className:"group hover:shadow-lg transition-all duration-300 overflow-hidden",children:[s.jsx(Te,{className:"p-0",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[s.jsx(pf,{src:m,alt:zv({productName:r,storeName:c,category:n||void 0}),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l==="draft"&&s.jsx(wt,{className:"absolute top-2 right-2",variant:"secondary",children:"Coming Soon"})]})}),s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:n}),s.jsx("h3",{className:"font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:r}),s.jsx("p",{className:"text-lg font-bold text-primary",children:p})]}),s.jsx(dQ,{className:"p-4 pt-0",children:s.jsx(ae,{className:"w-full min-h-[44px]",variant:"outline",children:"View Details"})})]})})},b6=({name:e,image_url:t,productCount:r=0,slug:n})=>{const a=wr(),[i,o]=_.useState(!1),c=eu()?`/products?category=${encodeURIComponent(e)}`:n?`/${n}/products?category=${encodeURIComponent(e)}`:`/products?category=${encodeURIComponent(e)}`,u=["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop"],f=t?hf(t):(()=>{const p=e.split("").reduce((y,g)=>y+g.charCodeAt(0),0);return u[p%u.length]})(),m=()=>{i||(o(!0),setTimeout(()=>{a(c)},700))};return s.jsx("div",{className:"block p-2 cursor-pointer",onClick:m,children:s.jsx(Cu.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},className:"group h-full",animate:i?{scale:.95}:{scale:1},children:s.jsx(ke,{className:"relative h-full border-2 border-transparent bg-card/50 backdrop-blur-sm hover:bg-card hover:border-primary transition-all duration-500 shadow-md hover:shadow-[0_5px_40px_-20px_rgba(0,0,0,0.4)] rounded-2xl",children:s.jsx(Te,{className:"p-0 relative",children:s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:[s.jsx(pf,{src:f,alt:$6e(e),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-90 group-hover:brightness-100"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-500"}),s.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 transform translate-y-0 transition-transform duration-500",children:[s.jsx("h3",{className:"font-bold text-base md:text-lg text-foreground drop-shadow-lg transition-colors duration-300",children:e}),r!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-90 group-hover:text-primary transition-colors duration-300",children:[r," ",r===1?"product":"products"]})]})]})})})})})},ak=({size:e="md",className:t,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return s.jsxs("div",{className:ut("flex flex-col items-center justify-center gap-3",t),children:[s.jsx(Gt,{className:ut("animate-spin text-primary",n[e])}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},b9e=({text:e="Loading..."})=>s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ak,{size:"lg",text:e})});function w9e(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kz(e){return w9e(e)||Array.isArray(e)}function _9e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function w6(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const a=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return a!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!Kz(l)||!Kz(c)?l===c:w6(l,c)})}function Yz(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function j9e(e,t){if(e.length!==t.length)return!1;const r=Yz(e),n=Yz(t);return r.every((a,i)=>{const o=n[i];return w6(a,o)})}function _6(e){return typeof e=="number"}function N3(e){return typeof e=="string"}function ik(e){return typeof e=="boolean"}function Xz(e){return Object.prototype.toString.call(e)==="[object Object]"}function vs(e){return Math.abs(e)}function j6(e){return Math.sign(e)}function Cy(e,t){return vs(e-t)}function N9e(e,t){if(e===0||t===0||vs(e)<=vs(t))return 0;const r=Cy(vs(e),vs(t));return vs(r/e)}function S9e(e){return Math.round(e*100)/100}function Nb(e){return Sb(e).map(Number)}function pc(e){return e[Xw(e)]}function Xw(e){return Math.max(0,e.length-1)}function N6(e,t){return t===Xw(e)}function Jz(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Sb(e){return Object.keys(e)}function Lle(e,t){return[e,t].reduce((r,n)=>(Sb(n).forEach(a=>{const i=r[a],o=n[a],l=Xz(i)&&Xz(o);r[a]=l?Lle(i,o):o}),r),{})}function S3(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function k9e(e,t){const r={start:n,center:a,end:i};function n(){return 0}function a(c){return i(c)/2}function i(c){return t-c}function o(c,u){return N3(e)?r[e](c):e(t,c,u)}return{measure:o}}function kb(){let e=[];function t(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(a=>a())}const n={add:t,clear:r};return n}function C9e(e,t,r,n){const a=kb(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){p(),a.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const w=v-o;for(o=v,l+=w;l>=i;)r(),l-=i;const b=l/i;n(b),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:m,stop:p,update:r,render:n}}function E9e(e,t){const r=t==="rtl",n=e==="y",a=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:g,width:v}=y;return n?g:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(y){return y*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Bm(e=0,t=0){const r=vs(e-t);function n(u){return u<e}function a(u){return u>t}function i(u){return n(u)||a(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:a,reachedMin:n,removeOffset:l}}function $le(e,t,r){const{constrain:n}=Bm(0,e),a=e+1;let i=o(t);function o(m){return r?vs((a+m)%a):n(m)}function l(){return i}function c(m){return i=o(m),f}function u(m){return d().set(l()+m)}function d(){return $le(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function T9e(e,t,r,n,a,i,o,l,c,u,d,f,m,p,y,g,v,w,b){const{cross:j,direction:E}=e,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},k=kb(),R=kb(),O=Bm(50,225).constrain(p.measure(20)),A={mouse:300,touch:400},P={mouse:500,touch:600},D=y?43:25;let F=!1,L=0,H=0,W=!1,G=!1,K=!1,I=!1;function B(V){if(!b)return;function ue(Se){(ik(b)||b(V,Se))&&he(Se)}const oe=t;k.add(oe,"dragstart",Se=>Se.preventDefault(),C).add(oe,"touchmove",()=>{},C).add(oe,"touchend",()=>{}).add(oe,"touchstart",ue).add(oe,"mousedown",ue).add(oe,"touchcancel",ge).add(oe,"contextmenu",ge).add(oe,"click",U,!0)}function Y(){k.clear(),R.clear()}function z(){const V=I?r:t;R.add(V,"touchmove",fe,C).add(V,"touchend",ge).add(V,"mousemove",fe,C).add(V,"mouseup",ge)}function J(V){const ue=V.nodeName||"";return S.includes(ue)}function X(){return(y?P:A)[I?"mouse":"touch"]}function ee(V,ue){const oe=f.add(j6(V)*-1),Se=d.byDistance(V,!y).distance;return y||vs(V)<O?Se:v&&ue?Se*.5:d.byIndex(oe.get(),0).distance}function he(V){const ue=S3(V,n);I=ue,K=y&&ue&&!V.buttons&&F,F=Cy(a.get(),o.get())>=2,!(ue&&V.button!==0)&&(J(V.target)||(W=!0,i.pointerDown(V),u.useFriction(0).useDuration(0),a.set(o),z(),L=i.readPoint(V),H=i.readPoint(V,j),m.emit("pointerDown")))}function fe(V){if(!S3(V,n)&&V.touches.length>=2)return ge(V);const oe=i.readPoint(V),Se=i.readPoint(V,j),Ee=Cy(oe,L),ie=Cy(Se,H);if(!G&&!I&&(!V.cancelable||(G=Ee>ie,!G)))return ge(V);const qe=i.pointerMove(V);Ee>g&&(K=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(E(qe)),V.preventDefault()}function ge(V){const oe=d.byDistance(0,!1).index!==f.get(),Se=i.pointerUp(V)*X(),Ee=ee(E(Se),oe),ie=N9e(Se,Ee),qe=D-10*ie,He=w+ie/50;G=!1,W=!1,R.clear(),u.useDuration(qe).useFriction(He),c.distance(Ee,!y),I=!1,m.emit("pointerUp")}function U(V){K&&(V.stopPropagation(),V.preventDefault(),K=!1)}function ne(){return W}return{init:B,destroy:Y,pointerDown:ne}}function A9e(e,t){let n,a;function i(f){return f.timeStamp}function o(f,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(S3(f,t)?f:f.touches[0])[y]}function l(f){return n=f,a=f,o(f)}function c(f){const m=o(f)-o(a),p=i(f)-i(n)>170;return a=f,p&&(n=f),m}function u(f){if(!n||!a)return 0;const m=o(a)-o(n),p=i(f)-i(n),y=i(f)-i(a)>170,g=m/p;return p&&!y&&vs(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function P9e(){function e(r){const{offsetTop:n,offsetLeft:a,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:a+i,bottom:n+o,left:a,width:i,height:o}}return{measure:e}}function O9e(e){function t(n){return e*(n/100)}return{measure:t}}function R9e(e,t,r,n,a,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function m(v){return a.measureSize(o.measure(v))}function p(v){if(!i)return;u=m(e),d=n.map(m);function w(b){for(const j of b){if(f)return;const E=j.target===e,S=n.indexOf(j.target),C=E?u:d[S],k=m(E?e:n[S]);if(vs(k-C)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(b=>{(ik(i)||i(v,b))&&w(b)}),r.requestAnimationFrame(()=>{l.forEach(b=>c.observe(b))})}function y(){f=!0,c&&c.disconnect()}return{init:p,destroy:y}}function D9e(e,t,r,n,a,i){let o=0,l=0,c=a,u=i,d=e.get(),f=0;function m(){const C=n.get()-e.get(),k=!c;let R=0;return k?(o=0,r.set(n),e.set(n),R=C):(r.set(e),o+=C/c,o*=u,d+=o,e.add(o),R=d-f),l=j6(R),f=d,S}function p(){const C=n.get()-t.get();return vs(C)<.001}function y(){return c}function g(){return l}function v(){return o}function w(){return j(a)}function b(){return E(i)}function j(C){return c=C,S}function E(C){return u=C,S}const S={direction:g,duration:y,velocity:v,seek:m,settled:p,useBaseFriction:b,useBaseDuration:w,useFriction:E,useDuration:j};return S}function I9e(e,t,r,n,a){const i=a.measure(10),o=a.measure(50),l=Bm(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",g=vs(e[y]-t.get()),v=r.get()-t.get(),w=l.constrain(g/o);r.subtract(v*w),!p&&vs(v)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function M9e(e,t,r,n,a){const i=Bm(-t+e,0),o=f(),l=d(),c=m();function u(y,g){return Cy(y,g)<=1}function d(){const y=o[0],g=pc(o),v=o.lastIndexOf(y),w=o.indexOf(g)+1;return Bm(v,w)}function f(){return r.map((y,g)=>{const{min:v,max:w}=i,b=i.constrain(y),j=!g,E=N6(r,g);return j?w:E||u(v,b)?v:u(w,b)?w:b}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+a)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:g}=l;return o.slice(y,g)}return{snapsContained:c,scrollContainLimit:l}}function F9e(e,t,r){const n=t[0],a=r?n-e:pc(t);return{limit:Bm(a,n)}}function L9e(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=Bm(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const p=e*(m*-1);n.forEach(y=>y.add(p))}return{loop:d}}function $9e(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function B9e(e,t,r,n,a){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=a,c=f().map(t.measure),u=m(),d=p();function f(){return l(n).map(g=>pc(g)[o]-g[0][i]).map(vs)}function m(){return n.map(g=>r[i]-g[i]).map(g=>-vs(g))}function p(){return l(u).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:u,snapsAligned:d}}function U9e(e,t,r,n,a,i){const{groupSlides:o}=a,{min:l,max:c}=n,u=d();function d(){const m=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?m:m.slice(l,c).map((y,g,v)=>{const w=!g,b=N6(v,g);if(w){const j=pc(v[0])+1;return Jz(j)}if(b){const j=Xw(i)-pc(v)[0]+1;return Jz(j,pc(v)[0])}return y})}return{slideRegistry:u}}function V9e(e,t,r,n,a){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((g,v)=>vs(g)-vs(v))[0]}function u(y){const g=e?o(y):l(y),v=t.map((b,j)=>({diff:d(b-g,0),index:j})).sort((b,j)=>vs(b.diff)-vs(j.diff)),{index:w}=v[0];return{index:w,distance:g}}function d(y,g){const v=[y,y+r,y-r];if(!e)return y;if(!g)return c(v);const w=v.filter(b=>j6(b)===g);return w.length?c(w):pc(v)-r}function f(y,g){const v=t[y]-a.get(),w=d(v,g);return{index:y,distance:w}}function m(y,g){const v=a.get()+y,{index:w,distance:b}=u(v),j=!e&&i(v);if(!g||j)return{index:w,distance:y};const E=t[w]-b,S=y+d(E,0);return{index:w,distance:S}}return{byDistance:m,byIndex:f,shortcut:d}}function z9e(e,t,r,n,a,i,o){function l(f){const m=f.distance,p=f.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,m){const p=a.byDistance(f,m);l(p)}function u(f,m){const p=t.clone().set(f),y=a.byIndex(p.get(),m);l(y)}return{distance:c,index:u}}function q9e(e,t,r,n,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(p){if(!l)return;function y(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const b=r.findIndex(j=>j.includes(g));_6(b)&&(a.useDuration(0),n.index(b,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((g,v)=>{i.add(g,"focus",w=>{(ik(l)||l(p,w))&&y(v)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function Wv(e){let t=e;function r(){return t}function n(c){t=o(c)}function a(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return _6(c)?c:c.get()}return{get:r,set:n,add:a,subtract:i}}function Ble(e,t){const r=e.scroll==="x"?o:l,n=t.style;let a=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=S9e(e.direction(m));p!==a&&(n.transform=r(p),a=p)}function u(m){i=!m}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function W9e(e,t,r,n,a,i,o,l,c){const d=Nb(a),f=Nb(a).reverse(),m=w().concat(b());function p(k,R){return k.reduce((O,A)=>O-a[A],R)}function y(k,R){return k.reduce((O,A)=>p(O,R)>0?O.concat([A]):O,[])}function g(k){return i.map((R,O)=>({start:R-n[O]+.5+k,end:R+t-.5+k}))}function v(k,R,O){const A=g(R);return k.map(P=>{const D=O?0:-r,F=O?r:0,L=O?"end":"start",H=A[P][L];return{index:P,loopPoint:H,slideLocation:Wv(-1),translate:Ble(e,c[P]),target:()=>l.get()>H?D:F}})}function w(){const k=o[0],R=y(f,k);return v(R,r,!1)}function b(){const k=t-o[0]-1,R=y(d,k);return v(R,-r,!0)}function j(){return m.every(({index:k})=>{const R=d.filter(O=>O!==k);return p(R,t)<=.1})}function E(){m.forEach(k=>{const{target:R,translate:O,slideLocation:A}=k,P=R();P!==A.get()&&(O.to(P),A.set(P))})}function S(){m.forEach(k=>k.translate.clear())}return{canLoop:j,clear:S,loop:E,loopPoints:m}}function H9e(e,t,r){let n,a=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{a||(ik(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),a=!0}return{init:i,destroy:o}}function G9e(e,t,r,n){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(g=>{const v=t.indexOf(g.target);a[v]=g}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return Sb(a).reduce((g,v)=>{const w=parseInt(v),{isIntersecting:b}=a[w];return(y&&b||!y&&!b)&&g.push(w),g},[])}function m(y=!0){if(y&&i)return i;if(!y&&o)return o;const g=f(y);return y&&(i=g),y||(o=g),g}return{init:u,destroy:d,get:m}}function K9e(e,t,r,n,a,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&a,d=y(),f=g(),m=r.map(o),p=v();function y(){if(!u)return 0;const b=r[0];return vs(t[l]-b[l])}function g(){if(!u)return 0;const b=i.getComputedStyle(pc(n));return parseFloat(b.getPropertyValue(`margin-${c}`))}function v(){return r.map((b,j,E)=>{const S=!j,C=N6(E,j);return S?m[j]+d:C?m[j]+f:E[j+1][l]-b[l]}).map(vs)}return{slideSizes:m,slideSizesWithGaps:p,startGap:d,endGap:f}}function Y9e(e,t,r,n,a,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,m=_6(r);function p(w,b){return Nb(w).filter(j=>j%b===0).map(j=>w.slice(j,j+b))}function y(w){return w.length?Nb(w).reduce((b,j,E)=>{const S=pc(b)||0,C=S===0,k=j===Xw(w),R=a[u]-i[S][u],O=a[u]-i[j][d],A=!n&&C?f(o):0,P=!n&&k?f(l):0,D=vs(O-P-(R+A));return E&&D>t+c&&b.push(j),k&&b.push(w.length),b},[]).map((b,j,E)=>{const S=Math.max(E[j-1]||0);return w.slice(S,b)}):[]}function g(w){return m?p(w,r):y(w)}return{groupSlides:g}}function X9e(e,t,r,n,a,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:p,dragThreshold:y,inViewThreshold:g,slidesToScroll:v,skipSnaps:w,containScroll:b,watchResize:j,watchSlides:E,watchDrag:S,watchFocus:C}=i,k=2,R=P9e(),O=R.measure(t),A=r.map(R.measure),P=E9e(c,u),D=P.measureSize(O),F=O9e(D),L=k9e(l,D),H=!f&&!!b,W=f||!!b,{slideSizes:G,slideSizesWithGaps:K,startGap:I,endGap:B}=K9e(P,O,A,r,W,a),Y=Y9e(P,D,v,f,O,A,I,B,k),{snaps:z,snapsAligned:J}=B9e(P,L,O,A,Y),X=-pc(z)+pc(K),{snapsContained:ee,scrollContainLimit:he}=M9e(D,X,J,b,k),fe=H?ee:J,{limit:ge}=F9e(X,fe,f),U=$le(Xw(fe),d,f),ne=U.clone(),Q=Nb(r),V=({dragHandler:De,scrollBody:le,scrollBounds:Re,options:{loop:et}})=>{et||Re.constrain(De.pointerDown()),le.seek()},ue=({scrollBody:De,translate:le,location:Re,offsetLocation:et,previousLocation:xt,scrollLooper:at,slideLooper:St,dragHandler:Xt,animation:At,eventHandler:Pt,scrollBounds:lr,options:{loop:Pr}},Mr)=>{const en=De.settled(),An=!lr.shouldConstrain(),Mt=Pr?en:en&&An,ar=Mt&&!Xt.pointerDown();ar&&At.stop();const Or=Re.get()*Mr+xt.get()*(1-Mr);et.set(Or),Pr&&(at.loop(De.direction()),St.loop()),le.to(et.get()),ar&&Pt.emit("settle"),Mt||Pt.emit("scroll")},oe=C9e(n,a,()=>V(Ie),De=>ue(Ie,De)),Se=.68,Ee=fe[U.get()],ie=Wv(Ee),qe=Wv(Ee),He=Wv(Ee),de=Wv(Ee),we=D9e(ie,He,qe,de,m,Se),Oe=V9e(f,fe,X,ge,de),Ye=z9e(oe,U,ne,we,Oe,de,o),Je=$9e(ge),Ne=kb(),te=G9e(t,r,o,g),{slideRegistry:_e}=U9e(H,b,fe,he,Y,Q),pe=q9e(e,r,_e,Ye,we,Ne,o,C),Ie={ownerDocument:n,ownerWindow:a,eventHandler:o,containerRect:O,slideRects:A,animation:oe,axis:P,dragHandler:T9e(P,e,n,a,de,A9e(P,a),ie,oe,Ye,we,Oe,U,o,F,p,y,w,Se,S),eventStore:Ne,percentOfView:F,index:U,indexPrevious:ne,limit:ge,location:ie,offsetLocation:He,previousLocation:qe,options:i,resizeHandler:R9e(t,o,a,r,P,j,R),scrollBody:we,scrollBounds:I9e(ge,He,de,we,F),scrollLooper:L9e(X,ge,He,[ie,He,qe,de]),scrollProgress:Je,scrollSnapList:fe.map(Je.get),scrollSnaps:fe,scrollTarget:Oe,scrollTo:Ye,slideLooper:W9e(P,D,X,G,K,z,fe,He,r),slideFocus:pe,slidesHandler:H9e(t,o,E),slidesInView:te,slideIndexes:Q,slideRegistry:_e,slidesToScroll:Y,target:de,translate:Ble(P,t)};return Ie}function J9e(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function a(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:a,off:o,on:i,clear:l};return c}const Z9e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Q9e(e){function t(i,o){return Lle(i,o||{})}function r(i){const o=i.breakpoints||{},l=Sb(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>Sb(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function eUe(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function XN(e,t,r){const n=e.ownerDocument,a=n.defaultView,i=Q9e(a),o=eUe(i),l=kb(),c=J9e(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:m,off:p,emit:y}=c,g=P;let v=!1,w,b=u(Z9e,XN.globalOptions),j=u(b),E=[],S,C,k;function R(){const{container:Q,slides:V}=j;C=(N3(Q)?e.querySelector(Q):Q)||e.children[0];const oe=N3(V)?C.querySelectorAll(V):V;k=[].slice.call(oe||C.children)}function O(Q){const V=X9e(e,C,k,n,a,Q,c);if(Q.loop&&!V.slideLooper.canLoop()){const ue=Object.assign({},Q,{loop:!1});return O(ue)}return V}function A(Q,V){v||(b=u(b,Q),j=d(b),E=V||E,R(),w=O(j),f([b,...E.map(({options:ue})=>ue)]).forEach(ue=>l.add(ue,"change",P)),j.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(ne),w.eventHandler.init(ne),w.resizeHandler.init(ne),w.slidesHandler.init(ne),w.options.loop&&w.slideLooper.loop(),C.offsetParent&&k.length&&w.dragHandler.init(ne),S=o.init(ne,E)))}function P(Q,V){const ue=Y();D(),A(u({startIndex:ue},Q),V),c.emit("reInit")}function D(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),o.destroy(),l.clear()}function F(){v||(v=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function L(Q,V,ue){!j.active||v||(w.scrollBody.useBaseFriction().useDuration(V===!0?0:j.duration),w.scrollTo.index(Q,ue||0))}function H(Q){const V=w.index.add(1).get();L(V,Q,-1)}function W(Q){const V=w.index.add(-1).get();L(V,Q,1)}function G(){return w.index.add(1).get()!==Y()}function K(){return w.index.add(-1).get()!==Y()}function I(){return w.scrollSnapList}function B(){return w.scrollProgress.get(w.offsetLocation.get())}function Y(){return w.index.get()}function z(){return w.indexPrevious.get()}function J(){return w.slidesInView.get()}function X(){return w.slidesInView.get(!1)}function ee(){return S}function he(){return w}function fe(){return e}function ge(){return C}function U(){return k}const ne={canScrollNext:G,canScrollPrev:K,containerNode:ge,internalEngine:he,destroy:F,off:p,on:m,emit:y,plugins:ee,previousScrollSnap:z,reInit:g,rootNode:fe,scrollNext:H,scrollPrev:W,scrollProgress:B,scrollSnapList:I,scrollTo:L,selectedScrollSnap:Y,slideNodes:U,slidesInView:J,slidesNotInView:X};return A(t,r),setTimeout(()=>c.emit("init"),0),ne}XN.globalOptions=void 0;function S6(e={},t=[]){const r=_.useRef(e),n=_.useRef(t),[a,i]=_.useState(),[o,l]=_.useState(),c=_.useCallback(()=>{a&&a.reInit(r.current,n.current)},[a]);return _.useEffect(()=>{w6(r.current,e)||(r.current=e,c())},[e,c]),_.useEffect(()=>{j9e(n.current,t)||(n.current=t,c())},[t,c]),_.useEffect(()=>{if(_9e()&&o){XN.globalOptions=S6.globalOptions;const u=XN(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}S6.globalOptions=void 0;const Ule=_.createContext(null);function ok(){const e=_.useContext(Ule);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const k6=_.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:a,children:i,...o},l)=>{const[c,u]=S6({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=_.useState(!1),[m,p]=_.useState(!1),y=_.useCallback(b=>{b&&(f(b.canScrollPrev()),p(b.canScrollNext()))},[]),g=_.useCallback(()=>{u?.scrollPrev()},[u]),v=_.useCallback(()=>{u?.scrollNext()},[u]),w=_.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),g()):b.key==="ArrowRight"&&(b.preventDefault(),v())},[g,v]);return _.useEffect(()=>{!u||!r||r(u)},[u,r]),_.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u?.off("select",y)}},[u,y]),s.jsx(Ule.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:v,canScrollPrev:d,canScrollNext:m},children:s.jsx("div",{ref:l,onKeyDownCapture:w,className:ut("relative",a),role:"region","aria-roledescription":"carousel",...o,children:i})})});k6.displayName="Carousel";const C6=_.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:a}=ok();return s.jsx("div",{ref:n,className:"overflow-hidden",children:s.jsx("div",{ref:r,className:ut("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});C6.displayName="CarouselContent";const JN=_.forwardRef(({className:e,...t},r)=>{const{orientation:n}=ok();return s.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ut("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});JN.displayName="CarouselItem";const E6=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=ok();return s.jsxs(ae,{ref:a,variant:t,size:r,className:ut("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(ei,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})});E6.displayName="CarouselPrevious";const T6=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},a)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=ok();return s.jsxs(ae,{ref:a,variant:t,size:r,className:ut("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[s.jsx(sa,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})});T6.displayName="CarouselNext";const tUe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function rUe(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function nUe(e,t){const r=e.rootNode();return t&&t(r)||r}function A6(e={}){let t,r,n,a,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(L,H){r=L;const{mergeOptions:W,optionsAtMedia:G}=H,K=W(tUe,A6.globalOptions),I=W(K,e);if(t=G(I),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,a=rUe(r,t.delay);const{eventStore:B,ownerDocument:Y}=r.internalEngine(),z=!!r.internalEngine().options.watchDrag,J=nUe(r,t.rootNode);B.add(Y,"visibilitychange",w),z&&r.on("pointerDown",j),z&&!t.stopOnInteraction&&r.on("pointerUp",E),t.stopOnMouseEnter&&B.add(J,"mouseenter",S),t.stopOnMouseEnter&&!t.stopOnInteraction&&B.add(J,"mouseleave",C),t.stopOnFocusIn&&r.on("slideFocusStart",v),t.stopOnFocusIn&&!t.stopOnInteraction&&B.add(r.containerNode(),"focusout",g),t.playOnInit&&g()}function m(){r.off("pointerDown",j).off("pointerUp",E).off("slideFocusStart",v),v(),n=!0,l=!1}function p(){const{ownerWindow:L}=r.internalEngine();L.clearTimeout(o),o=L.setTimeout(P,a[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:L}=r.internalEngine();L.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function g(){if(!n){if(b()){u=!0;return}l||r.emit("autoplay:play"),p(),l=!0}}function v(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function w(){if(b())return u=l,v();u&&g()}function b(){const{ownerDocument:L}=r.internalEngine();return L.visibilityState==="hidden"}function j(){c||v()}function E(){c||g()}function S(){c=!0,v()}function C(){c=!1,g()}function k(L){typeof L<"u"&&(d=L),g()}function R(){l&&v()}function O(){l&&g()}function A(){return l}function P(){const{index:L}=r.internalEngine(),H=L.clone().add(1).get(),W=r.scrollSnapList().length-1,G=t.stopOnLastSnap&&H===W;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),G)return v();g()}function D(){if(!i)return null;const L=a[r.selectedScrollSnap()],H=new Date().getTime()-i;return L-H}return{name:"autoplay",options:e,init:f,destroy:m,play:k,stop:R,reset:O,isPlaying:A,timeUntilNext:D}}A6.globalOptions=void 0;const Vle=({bannerUrls:e,storeName:t,logoUrl:r,storeDescription:n})=>{const[a,i]=_.useState([]);return _.useEffect(()=>{const o=e.map(l=>hf(l)||l).filter(Boolean);i(o)},[e]),a.length?s.jsx("section",{className:"relative",children:s.jsxs(k6,{className:"w-full",plugins:[A6({delay:4e3,stopOnInteraction:!1})],opts:{loop:!0},children:[s.jsx(C6,{children:a.map((o,l)=>s.jsx(JN,{children:s.jsx("div",{className:"relative h-[300px] md:h-[380px] lg:h-[450px]",children:s.jsx(pf,{src:o,alt:L6e({storeName:t,imageType:"banner",description:n||void 0}),className:"absolute inset-0 w-full h-full object-fill"})})},l))}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(E6,{className:"left-4 bg-white/20 border-white/30 text-white hover:bg-white/30"}),s.jsx(T6,{className:"right-4 bg-white/20 border-white/30 text-white hover:bg-white/30"})]})]})}):s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r&&s.jsx("img",{src:hf(r)||r,alt:t,className:"h-24 w-24 mx-auto mb-6 rounded-full object-cover border-4 border-background shadow-lg"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:t}),n&&s.jsx("p",{className:"text-xl text-muted-foreground",children:n})]})})})},aA=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],sUe=()=>{const{data:e,isLoading:t}=Pye({queryKey:["home-data"],queryFn:async()=>{const{data:l}=await Z.from("stores").select("id, name, description, logo_url, hero_banner_url, hero_banner_urls").eq("slug","demo").eq("is_active",!0).maybeSingle();if(!l)return{allProducts:[],featuredProducts:[],newArrivals:[],categories:aA};const[c,u]=await Promise.all([tb(l.id),Z.from("categories").select("*").eq("store_id",l.id).order("name").then(f=>f.data)]),d=[...c].sort((f,m)=>new Date(m.created_at||"").getTime()-new Date(f.created_at||"").getTime());return{allProducts:c,featuredProducts:c.slice(0,4),newArrivals:d.slice(0,4),categories:u&&u.length>0?u:aA,store:l}},staleTime:3e5,gcTime:6e5}),{allProducts:r=[],featuredProducts:n=[],newArrivals:a=[],categories:i=aA,store:o}=e||{};return t?s.jsx(b9e,{text:"Loading store..."}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{}),s.jsxs("main",{className:"flex-1",children:[o&&s.jsx(Vle,{bannerUrls:o.hero_banner_urls&&o.hero_banner_urls.length>0?o.hero_banner_urls:o.hero_banner_url?[o.hero_banner_url]:[],storeName:o.name||"MyStore",logoUrl:o.logo_url,storeDescription:o.description}),!o&&s.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Welcome to MyStore"}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Discover quality products at unbeatable prices. Shop now!"})]})})}),s.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:i.map((l,c)=>{const u=r.filter(d=>d.category===l.name).length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${c*100}ms`},children:s.jsx(b6,{name:l.name,image_url:l.image_url,productCount:u})},l.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(kt,{to:"/products",children:s.jsxs(ae,{variant:"outline",children:["View All",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]}),n.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>s.jsx(N0,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),a.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(l=>s.jsx(N0,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore thousands of products and great deals"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(kt,{to:"/products",children:s.jsxs(ae,{size:"lg",variant:"secondary",children:["Browse Products",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})}),s.jsx(kt,{to:"/pricing",children:s.jsxs(ae,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["View Pricing Plans",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),s.jsx(Iu,{})]})},Cb=({storeName:e,storeDescription:t,whatsappNumber:r,phone:n,email:a,address:i,facebookUrl:o,instagramUrl:l,twitterUrl:c,youtubeUrl:u,linkedinUrl:d,socialLinks:f,policies:m})=>{const{slug:p}=sd(),y=p?`/${p}/policies`:"/policies",g=p?`/${p}`:"",v={facebook:o||f?.facebook||null,instagram:l||f?.instagram||null,twitter:c||f?.twitter||null,youtube:u||null,linkedin:d||null},w=Object.values(v).some(b=>b);return s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-foreground mb-4",children:["About ",e]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t||"Your trusted online store for quality products at great prices."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Shop"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(kt,{to:g||"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(kt,{to:`${g}/products`,className:"text-muted-foreground hover:text-primary transition-colors",children:"All Products"})}),s.jsx("li",{children:s.jsx(kt,{to:`${g}/categories`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Categories"})}),s.jsx("li",{children:s.jsx(kt,{to:`${g}/cart`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shopping Cart"})}),s.jsx("li",{children:s.jsx(kt,{to:"/sitemap.xml",className:"text-muted-foreground hover:text-primary transition-colors",children:"Sitemap"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(kt,{to:`${y}#terms`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),s.jsx("li",{children:s.jsx(kt,{to:`${y}#return-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),s.jsx("li",{children:s.jsx(kt,{to:`${y}#shipping-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(kt,{to:`${y}#privacy-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[n&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(dc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:n})]}),r&&n!==r&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(dc,{className:"w-4 h-4 flex-shrink-0"}),s.jsxs("span",{children:["WhatsApp: ",r]})]}),a&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:a})]}),i&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(jf,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:i})]})]}),w&&s.jsxs("div",{className:"flex gap-3 mt-4",children:[v.facebook&&s.jsx("a",{href:v.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Facebook",children:s.jsx(rM,{className:"w-4 h-4"})}),v.instagram&&s.jsx("a",{href:v.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Instagram",children:s.jsx(Tl,{className:"w-4 h-4"})}),v.twitter&&s.jsx("a",{href:v.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"Twitter",children:s.jsx(sM,{className:"w-4 h-4"})}),v.youtube&&s.jsx("a",{href:v.youtube,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"YouTube",children:s.jsx(KJ,{className:"w-4 h-4"})}),v.linkedin&&s.jsx("a",{href:v.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors","aria-label":"LinkedIn",children:s.jsx(zJ,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"border-t border-border mt-4 pt-4 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," ",e,". All rights reserved."]})})]})})};var lk="Checkbox",[aUe]=Vs(lk),[iUe,P6]=aUe(lk);function oUe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=Si({prop:r,defaultProp:a??!1,onChange:c,caller:lk}),[y,g]=_.useState(null),[v,w]=_.useState(null),b=_.useRef(!1),j=y?!!o||!!y.closest("form"):!0,E={checked:m,disabled:i,setChecked:p,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:gf(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:w};return s.jsx(iUe,{scope:t,...E,children:lUe(f)?f(E):n})}var zle="CheckboxTrigger",qle=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=P6(zle,e),g=Zt(a,d),v=_.useRef(c);return _.useEffect(()=>{const w=i?.form;if(w){const b=()=>f(v.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[i,f]),s.jsx(Tt.button,{type:"button",role:"checkbox","aria-checked":gf(c)?"mixed":c,"aria-required":u,"data-state":Yle(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:ft(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:ft(r,w=>{f(b=>gf(b)?!0:!b),y&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});qle.displayName=zle;var O6=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(oUe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(qle,{...f,ref:t,__scopeCheckbox:r}),m&&s.jsx(Kle,{__scopeCheckbox:r})]})})});O6.displayName=lk;var Wle="CheckboxIndicator",Hle=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=P6(Wle,r);return s.jsx(ca,{present:n||gf(i.checked)||i.checked===!0,children:s.jsx(Tt.span,{"data-state":Yle(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Hle.displayName=Wle;var Gle="CheckboxBubbleInput",Kle=_.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=P6(Gle,e),y=Zt(r,p),g=Aw(i),v=pw(n);_.useEffect(()=>{const b=m;if(!b)return;const j=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(j,"checked").set,C=!a.current;if(g!==i&&S){const k=new Event("click",{bubbles:C});b.indeterminate=gf(i),S.call(b,gf(i)?!1:i),b.dispatchEvent(k)}},[m,g,i,a]);const w=_.useRef(gf(i)?!1:i);return s.jsx(Tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kle.displayName=Gle;function lUe(e){return typeof e=="function"}function gf(e){return e==="indeterminate"}function Yle(e){return gf(e)?"indeterminate":e?"checked":"unchecked"}const mi=_.forwardRef(({className:e,...t},r)=>s.jsx(O6,{ref:r,className:ut("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Hle,{className:ut("flex items-center justify-center text-current"),children:s.jsx(rn,{className:"h-4 w-4"})})}));mi.displayName=O6.displayName;var Xle=["PageUp","PageDown"],Jle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zle={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},mx="Slider",[k3,cUe,uUe]=X0(mx),[Qle]=Vs(mx,[uUe]),[dUe,ck]=Qle(mx),ece=_.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...g}=e,v=_.useRef(new Set),w=_.useRef(0),j=o==="horizontal"?fUe:hUe,[E=[],S]=Si({prop:d,defaultProp:u,onChange:P=>{[...v.current][w.current]?.focus(),f(P)}}),C=_.useRef(E);function k(P){const D=vUe(E,P);A(P,D)}function R(P){A(P,w.current)}function O(){const P=C.current[w.current];E[w.current]!==P&&m(E)}function A(P,D,{commit:F}={commit:!1}){const L=_Ue(i),H=jUe(Math.round((P-n)/i)*i+n,L),W=rb(H,[n,a]);S((G=[])=>{const K=gUe(G,W,D);if(wUe(K,c*i)){w.current=K.indexOf(W);const I=String(K)!==String(G);return I&&F&&m(K),I?K:G}else return G})}return s.jsx(dUe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:w,thumbs:v.current,values:E,orientation:o,form:y,children:s.jsx(k3.Provider,{scope:e.__scopeSlider,children:s.jsx(k3.Slot,{scope:e.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:ft(g.onPointerDown,()=>{l||(C.current=E)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&A(n,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,E.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:D})=>{if(!l){const H=Xle.includes(P.key)||P.shiftKey&&Jle.includes(P.key)?10:1,W=w.current,G=E[W],K=i*H*D;A(G+K,W,{commit:!0})}}})})})})});ece.displayName=mx;var[tce,rce]=Qle(mx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fUe=_.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,m]=_.useState(null),p=Zt(t,j=>m(j)),y=_.useRef(void 0),g=zf(a),v=g==="ltr",w=v&&!i||!v&&i;function b(j){const E=y.current||f.getBoundingClientRect(),S=[0,E.width],k=R6(S,w?[r,n]:[n,r]);return y.current=E,k(j-E.left)}return s.jsx(tce,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(nce,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const E=b(j.clientX);o?.(E)},onSlideMove:j=>{const E=b(j.clientX);l?.(E)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:j=>{const S=Zle[w?"from-left":"from-right"].includes(j.key);u?.({event:j,direction:S?-1:1})}})})}),hUe=_.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=_.useRef(null),f=Zt(t,d),m=_.useRef(void 0),p=!a;function y(g){const v=m.current||d.current.getBoundingClientRect(),w=[0,v.height],j=R6(w,p?[n,r]:[r,n]);return m.current=v,j(g-v.top)}return s.jsx(tce,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(nce,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);i?.(v)},onSlideMove:g=>{const v=y(g.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:g=>{const w=Zle[p?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:w?-1:1})}})})}),nce=_.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=ck(mx,r);return s.jsx(Tt.span,{...u,ref:t,onKeyDown:ft(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Xle.concat(Jle).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ft(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:ft(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:ft(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),sce="SliderTrack",ace=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=ck(sce,r);return s.jsx(Tt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});ace.displayName=sce;var C3="SliderRange",ice=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=ck(C3,r),i=rce(C3,r),o=_.useRef(null),l=Zt(t,o),c=a.values.length,u=a.values.map(m=>cce(m,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Tt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});ice.displayName=C3;var E3="SliderThumb",oce=_.forwardRef((e,t)=>{const r=cUe(e.__scopeSlider),[n,a]=_.useState(null),i=Zt(t,l=>a(l)),o=_.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(mUe,{...e,ref:i,index:o})}),mUe=_.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=ck(E3,r),l=rce(E3,r),[c,u]=_.useState(null),d=Zt(t,b=>u(b)),f=c?o.form||!!c.closest("form"):!0,m=pw(c),p=o.values[n],y=p===void 0?0:cce(p,o.min,o.max),g=xUe(n,o.values.length),v=m?.[l.size],w=v?yUe(v,y,l.direction):0;return _.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${w}px)`},children:[s.jsx(k3.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Tt.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:ft(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(lce,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});oce.displayName=E3;var pUe="RadioBubbleInput",lce=_.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=_.useRef(null),i=Zt(a,n),o=Aw(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Tt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});lce.displayName=pUe;function gUe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function cce(e,t,r){const i=100/(r-t)*(e-t);return rb(i,[0,100])}function xUe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function vUe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function yUe(e,t,r){const n=e/2,i=R6([0,50],[0,n]);return(n-i(t)*r)*r}function bUe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function wUe(e,t){if(t>0){const r=bUe(e);return Math.min(...r)>=t}return!0}function R6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function _Ue(e){return(String(e).split(".")[1]||"").length}function jUe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var uce=ece,NUe=ace,SUe=ice,kUe=oce;const dce=_.forwardRef(({className:e,...t},r)=>s.jsxs(uce,{ref:r,className:ut("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(NUe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(SUe,{className:"absolute h-full bg-primary"})}),s.jsx(kUe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));dce.displayName=uce.displayName;const fce=({title:e="Something went wrong",message:t,onRetry:r,className:n})=>s.jsxs(Kr,{variant:"destructive",className:n,children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(x5,{children:e}),s.jsxs(Yr,{className:"flex flex-col gap-3",children:[s.jsx("span",{children:t}),r&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:r,className:"w-fit",children:[s.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}),iA=({slug:e}={})=>{const[t,r]=vw(),{slug:n}=sd(),a=e||n;wr();const[i,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(null),[f,m]=_.useState([]),[p,y]=_.useState([]),[g,v]=_.useState([]),[w,b]=_.useState([0,1e4]),[j,E]=_.useState("newest"),[S,C]=_.useState(!1),[k,R]=_.useState(null),[O,A]=_.useState(null),[P,D]=_.useState(null),F=eu();_.useEffect(()=>{(async()=>{if(a)try{c(!0),d(null);const{data:K}=await Z.from("stores").select("*").eq("slug",a).eq("is_active",!0).maybeSingle();if(K){R(K.id),A(K);const{data:I}=await Z.from("profiles").select("phone, email").eq("user_id",K.user_id).maybeSingle();I&&D(I);const B=await tb(K.id);o(B)}}catch(K){d(K instanceof Error?K.message:"Failed to load products")}finally{c(!1)}})()},[a]);const L=async()=>{if(k)try{const G=await tb(k);o(G)}catch(G){d(G instanceof Error?G.message:"Failed to reload products")}};_.useEffect(()=>{const G=[...new Set(i.map(K=>K.category))].filter(Boolean);y(G)},[i]),_.useEffect(()=>{const G=t.get("category");G&&p.includes(G)&&v([G]);const K=()=>{L()};return window.addEventListener("focus",K),()=>window.removeEventListener("focus",K)},[t,p,L]),_.useEffect(()=>{if(!i||i.length===0){m([]);return}let G=[...i];k&&(G=G.filter(B=>B.store_id===k));const K=t.get("search");K&&(G=G.filter(B=>B.name.toLowerCase().includes(K.toLowerCase())));const I=t.get("category");switch(I?G=G.filter(B=>B.category===I):g.length>0&&(G=G.filter(B=>g.includes(B.category))),(w[0]>0||w[1]<1e4)&&(G=G.filter(B=>{const Y=B.basePrice||(B.variants?.length?Math.min(...B.variants.map(J=>J.price)):0);return(B.variants?.length?Math.max(...B.variants.map(J=>J.price)):B.basePrice||0)>=w[0]&&Y<=w[1]})),j){case"price-low":G.sort((B,Y)=>{const z=B.basePrice||(B.variants?.length?B.variants[0].price:0),J=Y.basePrice||(Y.variants?.length?Y.variants[0].price:0);return z-J});break;case"price-high":G.sort((B,Y)=>{const z=B.basePrice||(B.variants?.length?B.variants[0].price:0);return(Y.basePrice||(Y.variants?.length?Y.variants[0].price:0))-z});break;case"name":G.sort((B,Y)=>B.name.localeCompare(Y.name));break}m(G)},[i,g,w,j,t,k]);const H=G=>{const K=new URLSearchParams(t);K.delete("category"),r(K),v(I=>I.includes(G)?I.filter(B=>B!==G):[...I,G])},W=()=>{const G=new URLSearchParams(t);G.delete("category"),r(G),v([]),b([0,1e4]),E("newest")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:a}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:l?s.jsx("div",{className:"py-20",children:s.jsx(ak,{size:"lg",text:"Loading products..."})}):u?s.jsx("div",{className:"py-20",children:s.jsx(fce,{title:"Failed to load products",message:u,onRetry:L})}):s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-64 ${S?"block":"hidden lg:block"}`,children:s.jsx(ke,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[s.jsx(jR,{className:"w-5 h-5"}),"Filters"]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:W,className:"text-xs",children:"Clear All"})]}),p.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx(Ce,{className:"text-sm font-semibold mb-3 block",children:"Categories"}),s.jsx("div",{className:"space-y-3",children:p.map(G=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mi,{id:G,checked:g.includes(G),onCheckedChange:()=>H(G)}),s.jsx("label",{htmlFor:G,className:"text-sm text-muted-foreground cursor-pointer",children:G})]},G))})]}),s.jsxs("div",{children:[s.jsx(Ce,{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),s.jsxs("div",{className:"px-2",children:[s.jsx(dce,{min:0,max:1e4,step:100,value:w,onValueChange:b,className:"mb-4"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{children:["",w[0]]}),s.jsxs("span",{children:["",w[1]]})]})]})]})]})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"All Products"}),s.jsxs("p",{className:"text-muted-foreground",children:["Showing ",f.length," products"]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(ae,{variant:"outline",onClick:()=>C(!S),className:"lg:hidden flex-1",children:[s.jsx(jR,{className:"w-4 h-4 mr-2"}),"Filters"]}),s.jsxs(yr,{value:j,onValueChange:E,children:[s.jsx(fr,{className:"w-full sm:w-[180px]",children:s.jsx(br,{placeholder:"Sort by"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"newest",children:"Newest"}),s.jsx(Ke,{value:"price-low",children:"Price: Low to High"}),s.jsx(Ke,{value:"price-high",children:"Price: High to Low"}),s.jsx(Ke,{value:"name",children:"Name: A-Z"})]})]})]})]}),f.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(G=>s.jsx(N0,{...G,storeSlug:F?void 0:a},G.id))}):s.jsxs(ke,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your filters"}),s.jsx(ae,{onClick:W,variant:"outline",children:"Clear Filters"})]})]})]})}),O?s.jsx(Cb,{storeName:O.name,storeDescription:O.description,whatsappNumber:O.whatsapp_number,phone:P?.phone,email:P?.email,address:O.address,facebookUrl:O.facebook_url,instagramUrl:O.instagram_url,twitterUrl:O.twitter_url,youtubeUrl:O.youtube_url,linkedinUrl:O.linkedin_url,socialLinks:O.social_links,policies:O.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})};function D6({title:e,description:t,canonical:r,image:n="https://digitaldukandar.in/placeholder.svg",type:a="website",keywords:i=[],author:o,price:l,currency:c="INR",availability:u}){const d=t.slice(0,160),f=e.slice(0,60);return s.jsxs(AM,{children:[s.jsx("title",{children:f}),s.jsx("meta",{name:"title",content:f}),s.jsx("meta",{name:"description",content:d}),i.length>0&&s.jsx("meta",{name:"keywords",content:i.join(", ")}),o&&s.jsx("meta",{name:"author",content:o}),s.jsx("link",{rel:"icon",type:"image/png",href:n}),s.jsx("link",{rel:"apple-touch-icon",href:n}),r&&s.jsx("link",{rel:"canonical",href:r}),s.jsx("meta",{property:"og:type",content:a}),s.jsx("meta",{property:"og:title",content:f}),s.jsx("meta",{property:"og:description",content:d}),s.jsx("meta",{property:"og:image",content:n}),r&&s.jsx("meta",{property:"og:url",content:r}),s.jsx("meta",{property:"og:site_name",content:"YesGive Shop"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:f}),s.jsx("meta",{name:"twitter:description",content:d}),s.jsx("meta",{name:"twitter:image",content:n}),a==="product"&&l&&s.jsxs(s.Fragment,{children:[s.jsx("meta",{property:"product:price:amount",content:l.toString()}),s.jsx("meta",{property:"product:price:currency",content:c}),u&&s.jsx("meta",{property:"product:availability",content:u==="in stock"?"in stock":"out of stock"})]}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"theme-color",content:"#000000"}),s.jsx("link",{rel:"preconnect",href:"https://vexeuxsvckpfvuxqchqu.supabase.co"})]})}function hce(e){const{storeSlug:t,subdomain:r,customDomain:n,path:a=""}=e;return n&&n.trim()?`${n.startsWith("http")?n:`https://${n}`}${a}`:r&&r.trim()?`https://${r}.digitaldukandar.in${a}`:`https://digitaldukandar.in/${t}${a}`}function mce(e,t,r){return hce({storeSlug:e,subdomain:t,customDomain:r,path:""})}function CUe(e,t,r,n){return hce({storeSlug:e,subdomain:r,customDomain:n,path:`/products/${t}`})}const mv=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],oA=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,[n,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null),[u,d]=_.useState("Store");return _.useEffect(()=>{(async()=>{try{o(!0);let m=null;if(r){const{data:p}=await Z.from("stores").select("id, name").eq("slug",r).eq("is_active",!0).maybeSingle();if(p)m=p.id,c(p.id),d(p.name);else{a(mv),o(!1);return}}else{const{data:{user:p}}=await Z.auth.getUser();if(p){const{data:y}=await Z.from("stores").select("id, name").eq("user_id",p.id).eq("is_active",!0).maybeSingle();y&&(m=y.id,c(y.id),d(y.name))}}if(m)try{const{data:p,error:y}=await Z.from("categories").select("*").eq("store_id",m).order("created_at",{ascending:!0});if(y)throw y;const g=await Promise.all((p||[]).map(async v=>{const{count:w,error:b}=await Z.from("products").select("*",{count:"exact",head:!0}).eq("store_id",m).eq("category",v.name).eq("status","published");return console.log(`Category "${v.name}": ${w} products`,{error:b}),{id:v.id,name:v.name,image_url:v.image_url,store_id:v.store_id,productCount:w||0}}));console.log("Categories with counts:",g),a(g.length>0?g:mv)}catch(p){console.error("Error fetching categories:",p),a(mv)}else a(mv)}catch(m){console.error("Error loading categories:",m),a(mv)}finally{o(!1)}})()},[r]),i?s.jsxs(s.Fragment,{children:[s.jsx(uo,{storeSlug:r,storeId:l}),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(ak,{size:"lg",text:"Loading categories..."})}),s.jsx(Iu,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(D6,{title:`Categories - ${u} | Browse Our Collections`,description:`Explore all product categories at ${u}. Find exactly what you're looking for in our organized collections.`,canonical:mce(r||"",null,null),keywords:n.map(f=>f.name).concat([u,"categories","shop by category"]),type:"website"}),s.jsx(uo,{storeSlug:r,storeId:l}),s.jsx("main",{className:"flex-1",children:s.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map(f=>s.jsx(b6,{name:f.name,image_url:f.image_url,productCount:f.productCount,slug:r},f.id))})]})})}),s.jsx(Iu,{})]})};var I6="Radio",[EUe,pce]=Vs(I6),[TUe,AUe]=EUe(I6),gce=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,m]=_.useState(null),p=Zt(t,v=>m(v)),y=_.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(TUe,{scope:r,checked:a,disabled:o,children:[s.jsx(Tt.button,{type:"button",role:"radio","aria-checked":a,"data-state":bce(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:ft(e.onClick,v=>{a||c?.(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&s.jsx(yce,{control:f,bubbles:!y.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});gce.displayName=I6;var xce="RadioIndicator",vce=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=AUe(xce,r);return s.jsx(ca,{present:n||i.checked,children:s.jsx(Tt.span,{"data-state":bce(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});vce.displayName=xce;var PUe="RadioBubbleInput",yce=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=_.useRef(null),l=Zt(o,i),c=Aw(r),u=pw(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx(Tt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yce.displayName=PUe;function bce(e){return e?"checked":"unchecked"}var OUe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uk="RadioGroup",[RUe]=Vs(uk,[sx,pce]),wce=sx(),_ce=pce(),[DUe,IUe]=RUe(uk),jce=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,p=wce(r),y=zf(u),[g,v]=Si({prop:i,defaultProp:a??null,onChange:f,caller:uk});return s.jsx(DUe,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(n5,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:s.jsx(Tt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});jce.displayName=uk;var Nce="RadioGroupItem",Sce=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=IUe(Nce,r),o=i.disabled||n,l=wce(r),c=_ce(r),u=_.useRef(null),d=Zt(t,u),f=i.value===a.value,m=_.useRef(!1);return _.useEffect(()=>{const p=g=>{OUe.includes(g.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(s5,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(gce,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:ft(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ft(a.onFocus,()=>{m.current&&u.current?.click()})})})});Sce.displayName=Nce;var MUe="RadioGroupIndicator",kce=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=_ce(r);return s.jsx(vce,{...a,...n,ref:t})});kce.displayName=MUe;var Cce=jce,Ece=Sce,FUe=kce;const M6=_.forwardRef(({className:e,...t},r)=>s.jsx(Cce,{className:ut("grid gap-2",e),...t,ref:r}));M6.displayName=Cce.displayName;const Ey=_.forwardRef(({className:e,...t},r)=>s.jsx(Ece,{ref:r,className:ut("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(FUe,{className:"flex items-center justify-center",children:s.jsx(BJ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ey.displayName=Ece.displayName;function LUe(e){const{product:t,store:r,url:n,availability:a="InStock"}=e,i=t.base_price||t.basePrice,o=t.price_range||t.priceRange,l=t.sku||t.baseSku||t.id,c=t.images&&t.images.length>0?t.images[0]:null;return{"@context":"https://schema.org/","@type":"Product",name:t.name,description:t.description||`${t.name} available at ${r.name}`,sku:l,...c&&{image:t.images.filter(d=>d).map(d=>d.startsWith("http")?d:`${window.location.origin}${d}`)},...t.category&&{category:t.category},offers:{"@type":"Offer",url:n,priceCurrency:"USD",...i&&{price:i.toFixed(2)},...o&&!i&&{price:o},availability:`https://schema.org/${a}`,seller:{"@type":"Organization",name:r.name}}}}function Tce(e){const{store:t,url:r,email:n}=e,a=t.seo_description||t.description,i=t.business_phone||t.whatsapp_number,o=t.business_email||n,l={"@context":"https://schema.org","@type":"Store",name:t.name,url:r,...a&&{description:a},...t.logo_url&&{image:t.logo_url.startsWith("http")?t.logo_url:`${window.location.origin}${t.logo_url}`},...i&&{telephone:i},...o&&{email:o}};if(t.alternate_names){const u=t.alternate_names.split(",").map(d=>d.trim()).filter(d=>d.length>0);u.length>0&&(l.alternateName=u)}t.street_address||t.city||t.state?l.address={"@type":"PostalAddress",...t.street_address&&{streetAddress:t.street_address},...t.city&&{addressLocality:t.city},...t.state&&{addressRegion:t.state},...t.postal_code&&{postalCode:t.postal_code},...t.country&&{addressCountry:t.country}}:t.address&&(l.address={"@type":"PostalAddress",streetAddress:t.address}),t.opening_hours&&(l.openingHours=t.opening_hours),t.price_range&&(l.priceRange=t.price_range);const c=[];return t.facebook_url&&c.push(t.facebook_url),t.instagram_url&&c.push(t.instagram_url),t.twitter_url&&c.push(t.twitter_url),t.social_links&&c.length===0&&(t.social_links.facebook&&c.push(t.social_links.facebook),t.social_links.instagram&&c.push(t.social_links.instagram),t.social_links.twitter&&c.push(t.social_links.twitter)),c.length>0&&(l.sameAs=c),l}function Ace(e){const{items:t}=e;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((n,a)=>({"@type":"ListItem",position:a+1,name:n.name,...n.url&&{item:n.url}}))}}function $Ue(e){_.useEffect(()=>{if(!e)return;const{product:t,store:r,availability:n="InStock",email:a,breadcrumbs:i}=e,o=window.location.href,l=LUe({product:t,store:r,url:o,availability:n}),c=Tce({store:r,url:`${window.location.origin}/${r.slug}`,email:a}),u=document.createElement("script");u.id="product-schema",u.type="application/ld+json",u.textContent=JSON.stringify(l);const d=document.createElement("script");d.id="organization-schema",d.type="application/ld+json",d.textContent=JSON.stringify(c);const f=document.getElementById("product-schema"),m=document.getElementById("organization-schema");if(f&&f.remove(),m&&m.remove(),document.head.appendChild(u),document.head.appendChild(d),i&&i.length>0){const p=Ace({items:i}),y=document.createElement("script");y.id="breadcrumb-schema",y.type="application/ld+json",y.textContent=JSON.stringify(p);const g=document.getElementById("breadcrumb-schema");return g&&g.remove(),document.head.appendChild(y),()=>{const v=document.getElementById("breadcrumb-schema");v&&v.remove()}}return()=>{const p=document.getElementById("product-schema"),y=document.getElementById("organization-schema");p&&p.remove(),y&&y.remove()}},[e])}function BUe(e){_.useEffect(()=>{if(!e)return;const{store:t,email:r,breadcrumbs:n}=e,a=window.location.href,i=Tce({store:t,url:a,email:r}),o=document.createElement("script");o.id="organization-schema",o.type="application/ld+json",o.textContent=JSON.stringify(i);const l=document.getElementById("organization-schema");if(l&&l.remove(),document.head.appendChild(o),n&&n.length>0){const c=Ace({items:n}),u=document.createElement("script");u.id="breadcrumb-schema",u.type="application/ld+json",u.textContent=JSON.stringify(c);const d=document.getElementById("breadcrumb-schema");return d&&d.remove(),document.head.appendChild(u),()=>{const f=document.getElementById("breadcrumb-schema");f&&f.remove()}}return()=>{const c=document.getElementById("organization-schema");c&&c.remove()}},[e])}const lA=({slug:e}={})=>{const t=sd(),r=t.productSlug||t.slug,n=wr(),{toast:a}=cs(),{addToCart:i,triggerFlyAnimation:o}=m2(),[l,c]=_.useState(null),u=_.useRef(null),d=_.useRef(null),[f,m]=_.useState(""),[p,y]=_.useState(1),[g,v]=_.useState(0),[w,b]=_.useState(!0),[j,E]=_.useState(e),[S,C]=_.useState([]),[k,R]=_.useState(null),[O,A]=_.useState(null),[P,D]=_.useState(!1),F=eu();if(_.useEffect(()=>{(async()=>{if(!r){n("/products");return}try{b(!0);let ne=await fke(r);if(!ne&&(ne=await Rj(r),ne&&ne.slug)){const ue=eu()?`/products/${ne.slug}`:j?`/${j}/products/${ne.slug}`:`/products/${ne.slug}`;n(ue,{replace:!0});return}if(!ne){a({title:"Product not found",description:"This product doesn't exist or has been removed.",variant:"destructive"}),n("/products");return}c(ne);const Q=ne.store_id;if(Q){const{data:V}=await Z.from("stores").select("*").eq("id",Q).single();if(V){E(V.slug),R(V);const{data:ie}=await Z.from("profiles").select("phone, email").eq("user_id",V.user_id).maybeSingle();ie&&A(ie)}const oe=(await tb(Q)).filter(ie=>ie.id!==ne.id),Se=oe.filter(ie=>ie.category===ne.category),Ee=Se.length>0?Se:oe;C(Ee)}}catch(ne){console.error("Error loading product:",ne),a({title:"Error",description:"Failed to load product details",variant:"destructive"}),n("/products")}finally{b(!1)}})()},[r,n,a,j,F]),_.useEffect(()=>{f&&d.current&&d.current.classList.remove("animate-pulse")},[f]),$Ue(l&&k?{product:{id:l.id,name:l.name,description:l.description,images:l.images,base_price:l.base_price||l.basePrice,price_range:l.price_range||l.priceRange,sku:l.sku||l.baseSku,category:l.category,variants:l.variants,status:l.status},store:{id:k.id,name:k.name,slug:k.slug,description:k.description,logo_url:k.logo_url,address:k.address,whatsapp_number:k.whatsapp_number,social_links:k.social_links},availability:l.status==="published"?"InStock":"OutOfStock",email:O?.email,breadcrumbs:[{name:"Home",url:F?window.location.origin:`${window.location.origin}/${j}`},{name:"Products",url:F?`${window.location.origin}/products`:`${window.location.origin}/${j}/products`},{name:l.name,url:window.location.href}]}:null),w)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:j,storeId:l?.store_id||l?.storeId}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx(ak,{size:"lg",text:"Loading product..."})}),k?s.jsx(Cb,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:O?.phone,email:O?.email,address:k.address,facebookUrl:k.facebook_url,instagramUrl:k.instagram_url,twitterUrl:k.twitter_url,youtubeUrl:k.youtube_url,linkedinUrl:k.linkedin_url,socialLinks:k.social_links,policies:k.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]});if(!l)return null;const L=l.variants?.find(U=>U.name===f),W=l.variants&&l.variants.length>0&&!f,G=L?L.price:l.basePrice||l.base_price||0,K=l.images&&l.images.length>0?l.images:["/placeholder.svg"],I=l.videoUrl||l.video_url,B=l.baseSku||l.sku,z=I?(U=>U.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||null)(I):null,J=z?`https://img.youtube.com/vi/${z}/hqdefault.jpg`:null,X=j?`/${j}`:"/home",ee=j?`/${j}/products`:"/products",he=U=>{y(Math.max(0,p+U))},fe=()=>{if(!l)return;if(l.variants&&l.variants.length>0&&!f){a({title:"Please select a variant",description:"Redirecting to variant section...",variant:"destructive"}),setTimeout(()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"center"}),d.current.classList.add("animate-pulse"))},1e3);return}const U=l.store_id;if(!U){a({title:"Error",description:"Unable to add product to cart. Store information is missing.",variant:"destructive"});return}u.current&&o(K[0],u.current),i({productId:l.id,productName:l.name,productImage:K[0],variant:f||void 0,price:G,quantity:p,sku:L?.sku||B,storeId:U}),D(!0)},ge=()=>{navigator.share?navigator.share({title:l.name,text:`Check out ${l.name} on MyStore`,url:window.location.href}):(a({title:"Link copied",description:"Product link has been copied to clipboard"}),navigator.clipboard.writeText(window.location.href))};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(D6,{title:`${l.name} - ${k?.name||"Store"} | Buy Online`,description:l.description?.slice(0,160)||`Shop ${l.name} from ${k?.name}. ${L?`Price: ${L.price}`:l.base_price?`Starting from ${l.base_price}`:""}`,canonical:CUe(j||"",l.id,k?.subdomain,k?.custom_domain),image:K[0],type:"product",price:L?.price||l.base_price,availability:l.status==="published"?"in stock":"out of stock",keywords:[l.name,l.category,k?.name||"store","buy online"]}),s.jsx(uo,{storeSlug:j,storeId:l.store_id||l.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 pb-32 md:pb-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(kt,{to:X,className:"hover:text-foreground",children:"Home"}),s.jsx(wf,{className:"w-4 h-4"}),s.jsx(kt,{to:ee,className:"hover:text-foreground",children:"Products"}),s.jsx(wf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:l.name})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"lg:hidden mb-4",children:[s.jsxs(k6,{className:"w-full",opts:{loop:!0},children:[s.jsxs(C6,{children:[K.map((U,ne)=>s.jsx(JN,{children:s.jsx(ke,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted",children:s.jsx(pf,{src:U,alt:zv({productName:l.name,category:l.category,imageIndex:ne}),className:"w-full h-full object-contain"})})})})},ne)),I&&s.jsx(JN,{children:s.jsx(ke,{className:"overflow-hidden",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${I.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||I}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})},"video")]}),(K.length>1||I)&&s.jsxs(s.Fragment,{children:[s.jsx(E6,{className:"left-2"}),s.jsx(T6,{className:"right-2"})]})]}),(K.length>1||I)&&s.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[K.map((U,ne)=>s.jsx("button",{onClick:()=>v(ne),className:`w-2 h-2 rounded-full transition-colors ${g===ne?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":`View image ${ne+1}`},ne)),I&&s.jsx("button",{onClick:()=>v(K.length),className:`w-2 h-2 rounded-full transition-colors ${g===K.length?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":"View video"},"video-dot")]})]}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsx(ke,{className:"overflow-hidden mb-4",children:s.jsx(Te,{className:"p-0",children:s.jsx("div",{ref:u,className:"aspect-square bg-muted",children:g<K.length?s.jsx(pf,{src:K[g],alt:zv({productName:l.name,category:l.category,imageIndex:g}),className:"w-full h-full object-contain"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:s.jsx("div",{className:"relative w-full h-full",children:s.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${I?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||I}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})}),(K.length>1||I)&&s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[K.map((U,ne)=>s.jsx("button",{onClick:()=>v(ne),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] ${g===ne?"border-primary":"border-transparent hover:border-border"}`,children:s.jsx(pf,{src:U,alt:zv({productName:l.name,category:l.category,imageIndex:ne}),className:"w-full h-full object-contain"})},ne)),I&&J&&s.jsxs("button",{onClick:()=>v(K.length),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] relative ${g===K.length?"border-primary":"border-transparent hover:border-border"}`,children:[s.jsx("img",{src:J,alt:`${l.name} - Product video`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})]},"video-thumb")]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(wt,{variant:"secondary",className:"mb-2",children:l.category}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:l.name}),s.jsx("p",{className:"text-muted-foreground",children:l.description})]}),l.variants&&l.variants.length>0?s.jsx(ke,{ref:d,className:`mb-6 ${f?"":"ring-2 ring-primary/50 ring-offset-2"}`,children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(Ce,{className:"text-base font-semibold",children:["Select Variant ",!f&&s.jsx("span",{className:"text-destructive",children:"*"})]}),!f&&s.jsx(wt,{variant:"destructive",className:"text-xs",children:"Required"})]}),s.jsx(M6,{value:f,onValueChange:m,children:s.jsx("div",{className:"space-y-3",children:l.variants.map(U=>s.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${f===U.name?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent"}`,onClick:()=>m(U.name),children:[s.jsx(Ey,{value:U.name,id:U.name,className:"min-w-[20px] min-h-[20px]"}),s.jsx(Ce,{htmlFor:U.name,className:"flex-1 cursor-pointer font-normal",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:U.name}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["",U.price]})]})})]},U.name))})}),f?s.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected: ",f," - ",G]})}):s.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a variant to continue"]})})]})}):s.jsx("div",{className:"mb-6",children:s.jsx("p",{className:"text-3xl font-bold text-primary",children:l.price_range||l.priceRange||`${l.basePrice||l.base_price||0}`})}),s.jsxs("div",{className:"mb-6",children:[s.jsx(Ce,{className:"text-base font-semibold mb-3 block",children:"Quantity"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>he(-1),disabled:p<=1||W,children:s.jsx(qJ,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-16 text-center font-semibold text-lg",children:p}),s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>he(1),disabled:W,children:s.jsx(Gi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",s.jsx("span",{className:"text-lg font-bold text-foreground",children:W?"":`${(G*p).toFixed(2)}`})]})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 hidden md:block",children:[s.jsxs(ae,{onClick:fe,className:"w-full min-h-[48px]",size:"lg",disabled:p===0,children:[s.jsx(Nf,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),s.jsxs(ae,{onClick:ge,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Pg,{className:"w-4 h-4 mr-2"}),"Share Product"]})]}),s.jsx("div",{className:"mb-6 md:hidden",children:s.jsxs(ae,{onClick:ge,variant:"outline",className:"w-full min-h-[44px]",children:[s.jsx(Pg,{className:"w-4 h-4 mr-2"}),"Share Product"]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Product Details"}),s.jsxs("dl",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Category:"}),s.jsx("dd",{className:"font-medium",children:l.category})]}),B&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"SKU:"}),s.jsx("dd",{className:"font-medium",children:B})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("dt",{className:"text-muted-foreground",children:"Availability:"}),s.jsx("dd",{className:"font-medium text-success",children:"In Stock"})]})]})]})})]})]}),S.length>0&&s.jsxs("div",{className:"mt-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"More Products"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:S.map(U=>s.jsx(N0,{id:U.id,slug:U.slug,name:U.name,category:U.category,priceRange:U.price_range,images:U.images,status:U.status,storeSlug:F?void 0:j},U.id))})]})]}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border shadow-lg z-50 safe-area-inset-bottom",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:W?"Select variant":l.variants&&l.variants.length>0&&f?`${f}`:l.name}),s.jsx("p",{className:"text-lg font-bold text-primary",children:W?"":`${(G*p).toFixed(2)}`})]}),s.jsxs(ae,{onClick:fe,size:"lg",className:"min-h-[48px] px-6 font-semibold",disabled:p===0,children:[s.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end sm:items-center justify-center p-4",onClick:()=>D(!1),children:s.jsxs("div",{className:"bg-background rounded-t-2xl sm:rounded-2xl w-full max-w-md p-6 space-y-4 animate-in slide-in-from-bottom sm:slide-in-from-bottom-0 duration-300",onClick:U=>U.stopPropagation(),children:[s.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:s.jsx("img",{src:K[0],alt:zv({productName:l.name,category:l.category,imageIndex:0}),className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground truncate",children:l.name}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",f]}),s.jsxs("p",{className:"text-sm font-medium text-primary",children:["",G,"  ",p]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),s.jsx("span",{className:"font-semibold",children:p})]}),s.jsxs("div",{className:"flex justify-between items-center py-3",children:[s.jsx("span",{className:"text-base font-semibold",children:"Total:"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",(G*p).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"font-semibold",children:"Added to cart"})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx(ae,{onClick:()=>{D(!1),n(F?"/cart":`/${j}/cart`)},className:"w-full min-h-[48px] font-semibold",children:"View Cart"}),s.jsx(ae,{onClick:()=>D(!1),variant:"outline",className:"w-full min-h-[48px]",children:"Continue Shopping"})]})]})}),k?s.jsx(Cb,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:O?.phone,email:O?.email,address:k.address,facebookUrl:k.facebook_url,instagramUrl:k.instagram_url,twitterUrl:k.twitter_url,youtubeUrl:k.youtube_url,linkedinUrl:k.linkedin_url,socialLinks:k.social_links,policies:k.policies}):s.jsx("footer",{className:"bg-muted border-t border-border",children:s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})},cA=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,{cart:n,cartTotal:a,updateQuantity:i,removeItem:o}=m2(),[l,c]=_.useState(r),u=eu();_.useEffect(()=>{r?c(r):n.length>0&&n[0].storeId&&(async()=>{const{data:y}=await Z.from("stores").select("slug").eq("id",n[0].storeId).maybeSingle();y&&c(y.slug)})()},[r,n]);const d=u?"/":l?`/${l}`:"/home",f=u?"/products":l?`/${l}/products`:"/products",m=u?"/checkout":l?`/${l}/checkout`:"/checkout";return n.length===0?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:l,storeId:n[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(SR,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to your cart to see them here"}),s.jsx(kt,{to:f,children:s.jsx(ae,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Iu,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:l,storeId:n[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(kt,{to:d,className:"hover:text-foreground",children:"Home"}),s.jsx(wf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Shopping Cart"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),s.jsx("div",{className:"space-y-4",children:n.map(p=>s.jsx(ke,{children:s.jsx(Te,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(pf,{src:p.productImage,alt:p.productName,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:p.productName}),p.variant&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",p.variant]}),p.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",p.sku]})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>o(p.productId,p.variant),children:s.jsx($a,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center border border-border rounded-lg w-fit",children:[s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity-1),disabled:p.quantity<=1,children:s.jsx(qJ,{className:"w-5 h-5"})}),s.jsx("span",{className:"w-14 text-center font-semibold text-lg",children:p.quantity}),s.jsx(ae,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(p.productId,p.variant,p.quantity+1),children:s.jsx(Gi,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",p.price," each"]}),s.jsxs("p",{className:"text-xl font-bold text-primary",children:["",p.price*p.quantity]})]})]})]})]})})},`${p.productId}-${p.variant}`))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(ke,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsxs("span",{children:["Subtotal (",n.reduce((p,y)=>p+y.quantity,0)," items)"]}),s.jsxs("span",{children:["",a]})]}),s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]}),s.jsxs("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",a]})]})]}),s.jsx(ae,{asChild:!0,className:"w-full min-h-[48px]",size:"lg",children:s.jsx(kt,{to:m,children:"Proceed to Checkout"})}),s.jsx(ae,{asChild:!0,variant:"outline",className:"w-full min-h-[44px] mt-3",children:s.jsx(kt,{to:f,children:"Continue Shopping"})})]})})})]})]}),s.jsx(Iu,{})]})};function UUe({onLocationSelect:e,enabled:t=!0}){const[r,n]=_.useState(!1),a=()=>{if(!t){Fe({title:"Feature Not Available",description:"Location sharing is not enabled in your current subscription plan",variant:"destructive"});return}if(!navigator.geolocation){Fe({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(i=>{const{latitude:o,longitude:l}=i.coords;e(o,l),Fe({title:"Location Captured",description:"Your location has been added to the order"}),n(!1)},i=>{let o="Failed to get location";i.code===i.PERMISSION_DENIED&&(o="Location permission denied. Please enable location access in your browser settings."),Fe({title:"Location Error",description:o,variant:"destructive"}),n(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return t?s.jsx(ae,{type:"button",variant:"outline",onClick:a,disabled:r,className:"w-full",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Location..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jf,{className:"h-4 w-4 mr-2"}),"Share My Current Location"]})}):null}const VUe=async(e,t)=>{try{const{data:r,error:n}=await Z.functions.invoke("create-phonepe-payment",{body:{amount:Math.round(e.amount*100),orderId:e.orderNumber,dbOrderId:e.orderId,customerName:e.customerName,customerPhone:e.customerPhone,customerEmail:e.customerEmail,storeId:t}});if(n)throw n;return r.paymentUrl?(window.location.href=r.paymentUrl,{success:!0,gatewayOrderId:r.merchantTransactionId}):{success:!1,error:"No payment URL received"}}catch(r){return console.error("PhonePe payment error:",r),{success:!1,error:r.message||"Failed to initiate PhonePe payment"}}},zUe=(e,t)=>{const r=[];return e.razorpay?.enabled&&e.razorpay.key_id&&r.push({id:"razorpay",name:"Razorpay",icon:"",color:"bg-blue-500",enabled:!0}),e.phonepe?.enabled&&e.phonepe.merchant_id&&r.push({id:"phonepe",name:"PhonePe",icon:"",color:"bg-purple-500",enabled:!0}),e.cashfree?.enabled&&e.cashfree.app_id&&r.push({id:"cashfree",name:"Cashfree",icon:"",color:"bg-green-500",enabled:!0}),e.payu?.enabled&&e.payu.merchant_key&&r.push({id:"payu",name:"PayU",icon:"",color:"bg-orange-500",enabled:!0}),e.paytm?.enabled&&e.paytm.merchant_id&&r.push({id:"paytm",name:"Paytm",icon:"",color:"bg-sky-500",enabled:!0}),e.stripe?.enabled&&e.stripe.publishable_key&&r.push({id:"stripe",name:"Stripe",icon:"",color:"bg-indigo-500",enabled:!0}),(t==="online_and_cod"||r.length===0)&&r.push({id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}),r},qUe=tp({fullName:nn().trim().min(2,"Name must be at least 2 characters").max(100),phone:nn().trim().regex(/^[6-9]\d{9}$/,"Enter a valid 10-digit phone number"),email:nn().trim().email("Invalid email address").optional().or(hEe("")),address:nn().trim().min(10,"Address must be at least 10 characters").max(200),landmark:nn().trim().max(100).optional(),pincode:nn().trim().regex(/^\d{6}$/,"Enter a valid 6-digit PIN code"),deliveryTime:L2(["morning","evening","anytime"],{required_error:"Please select a delivery time"})}),uA=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,n=wr(),{cart:a,cartTotal:i,clearCart:o}=m2(),{toast:l}=cs(),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(!1),[y,g]=_.useState(null),[v,w]=_.useState(null),[b,j]=_.useState(!1),E=_.useRef(null),[S,C]=_.useState(!0),[k,R]=_.useState(r),[O,A]=_.useState(!1),[P,D]=_.useState(null),[F,L]=_.useState([]),[H,W]=_.useState(""),[G,K]=_.useState("online_and_cod"),[I,B]=_.useState({}),[Y,z]=_.useState(!1),J=Rw({resolver:Dw(qUe),defaultValues:{fullName:"",phone:"",email:"",address:"",landmark:"",pincode:"",deliveryTime:"anytime"}}),X=async()=>{try{if(a.length===0)return;const ue=a[0].storeId,{data:oe}=await Z.from("stores").select("payment_mode, payment_gateway_credentials").eq("id",ue).maybeSingle();if(oe){const Se=oe.payment_mode||"online_and_cod",Ee=oe.payment_gateway_credentials||{};K(Se),B(Ee);const ie=zUe(Ee,Se);L(ie),ie.length>0&&W(ie[0].id)}}catch(ue){console.error("Error loading payment settings:",ue),L([{id:"cod",name:"Cash on Delivery",icon:"",color:"bg-gray-500",enabled:!0}]),W("cod")}},ee=async ue=>{try{z(!0);const oe=a[0]?.storeId;if(!oe||!I.razorpay?.key_id)throw new Error("Payment configuration error");const{orderId:Se,error:Ee}=await ZFe(ue.amount,ue.currency,oe);if(Ee)throw new Error(Ee);const ie=await QFe({...ue,orderId:Se},{key_id:I.razorpay.key_id},{onSuccess:async qe=>{console.log("Razorpay Success Response:",qe);const He=new URLSearchParams({gateway:"razorpay",orderId:ue.orderId,storeId:oe,paymentId:qe.razorpay_payment_id,razorpayOrderId:qe.razorpay_order_id,signature:qe.razorpay_signature,storeSlug:k||""});o(),z(!1),window.location.href=`/payment-success?${He.toString()}`},onFailure:qe=>{l({title:"Payment failed",description:qe.description||"Please try again.",variant:"destructive"}),z(!1)},onDismiss:()=>{z(!1)}});if(!ie.success&&ie.error)throw new Error(ie.error)}catch(oe){console.error("Razorpay payment error:",oe),l({title:"Payment failed",description:oe.message||"Failed to process payment. Please try again.",variant:"destructive"}),z(!1)}},he=async ue=>{try{z(!0);const oe=a[0]?.storeId;if(!oe)throw new Error("Payment configuration error");await Z.from("orders").update({payment_status:"pending",payment_gateway:"phonepe"}).eq("id",ue.orderId);const Se=await VUe(ue,oe);if(!Se.success)throw new Error(Se.error||"Failed to initiate PhonePe payment")}catch(oe){console.error("PhonePe payment error:",oe),l({title:"Payment failed",description:oe.message||"Failed to process payment. Please try again.",variant:"destructive"}),z(!1)}};_.useEffect(()=>{ge(),fe(),X(),r?R(r):a.length>0&&a[0].storeId&&(async()=>{const{data:oe}=await Z.from("stores").select("slug").eq("id",a[0].storeId).maybeSingle();oe&&R(oe.slug)})()},[r,a]);const fe=async()=>{try{if(C(!0),a.length===0){C(!1);return}const ue=a[0]?.storeId;if(!ue||ue.trim()===""){console.error("Cart storeId is invalid:",ue),w("Unable to process your order. Please clear your cart and add products again from the store."),C(!1);return}const{data:oe}=await Z.from("stores").select("id, user_id, whatsapp_number").eq("id",ue).maybeSingle();if(!oe){w("Store not found."),C(!1);return}const{data:Se}=await Z.from("subscriptions").select(`
          status,
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          subscription_plans (
            name,
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",oe.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Ee=Se&&Se.length>0?Se[0]:null;if(!Ee){w("This store has no active subscription. Orders are currently unavailable."),C(!1);return}if(!["active","trial"].includes(Ee.status)){w("This store's subscription is not active. Orders are currently unavailable."),C(!1);return}const ie=new Date,qe=Ee.current_period_end?new Date(Ee.current_period_end):null;if(qe&&qe<ie){w("This store's subscription has expired. Orders are currently unavailable."),C(!1);return}if(Ee.subscription_plans){const He=Ee.subscription_plans.whatsapp_orders_limit,de=Ee.whatsapp_orders_used||0,we=Ee.subscription_plans.website_orders_limit,Oe=Ee.website_orders_used||0;if(He===null&&we===null){w("Ordering is not available in this store's plan."),C(!1);return}const Ye=He!==null&&(He===0||de<He),Je=we!==null&&(we===0||Oe<we);if(!Ye&&!Je){const Ne=He!==null?"whatsapp":"website",te=Ne==="whatsapp"?de:Oe,_e=Ne==="whatsapp"?He:we;D({planName:Ee.subscription_plans.name||"Current Plan",ordersUsed:te,ordersLimit:_e||0,storeWhatsApp:oe.whatsapp_number}),A(!0),C(!1);return}}w(null),C(!1)}catch(ue){console.error("Error checking subscription:",ue),w("Unable to verify store subscription. Please try again later."),C(!1)}},ge=async()=>{try{if(a.length>0&&a[0].storeId){const ue=a[0].storeId,{data:oe}=await Z.from("stores").select("id, user_id, force_location_sharing").eq("id",ue).maybeSingle();if(!oe){f(!0),p(!1),console.log("No store found, enabling location by default");return}const{data:Se}=await Z.from("subscriptions").select("plan_id, subscription_plans(enable_location_sharing)").eq("user_id",oe.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),ie=(Se&&Se.length>0?Se[0]:null)?.subscription_plans?.enable_location_sharing||!1,qe=oe.force_location_sharing||!1;f(ie),p(qe),console.log("Location feature enabled:",ie,"forced:",qe,"for store:",oe.id)}else f(!1)}catch(ue){console.error("Error checking location feature:",ue),f(!1)}},U=(ue,oe)=>{g({latitude:ue,longitude:oe}),j(!1)};if(S)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsx("div",{className:"max-w-md mx-auto text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Checking availability..."})})}),s.jsx(Iu,{})]});if(v)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(SR,{className:"w-24 h-24 mx-auto mb-6 text-destructive"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Orders Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:v}),s.jsx(kt,{to:k?`/${k}`:"/home",children:s.jsx(ae,{size:"lg",children:"Back to Home"})})]})}),s.jsx(Iu,{})]});if(a.length===0)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(SR,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to proceed to checkout"}),s.jsx(kt,{to:k?`/${k}/products`:"/products",children:s.jsx(ae,{size:"lg",children:"Continue Shopping"})})]})}),s.jsx(Iu,{})]});const ne=async ue=>{if(u(!0),m&&!y){E.current?.scrollIntoView({behavior:"smooth",block:"center"}),j(!0),u(!1);return}const oe={morning:"Morning (9 AM - 12 PM)",evening:"Evening (4 PM - 7 PM)",anytime:"Anytime"}[ue.deliveryTime];try{const Se=a[0]?.storeId;if(!Se||Se.trim()===""){l({title:"Cart Error",description:"Your cart contains invalid items. Please clear your cart and add products again.",variant:"destructive"}),u(!1);return}const{data:Ee}=await Z.from("stores").select("id, user_id").eq("id",Se).maybeSingle();if(!Ee)throw new Error("Store not found");const{data:ie}=await Z.from("subscriptions").select(`
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          status,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",Ee.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),qe=ie&&ie.length>0?ie[0]:null;if(qe){const Ye=new Date,Je=qe.current_period_end?new Date(qe.current_period_end):null;if(Je&&Je<Ye)throw new Error("Your subscription has expired. Please upgrade your plan to continue accepting orders.");const Ne=H!=="cod";if(qe?.subscription_plans)if(Ne){const te=qe.subscription_plans.website_orders_limit,_e=qe.website_orders_used||0;if(te===null)throw new Error("Online ordering is not available in your current plan.");if(te>0&&_e>=te)throw new Error("Website order limit reached for this month. Please contact the store or try COD.")}else{const te=qe.subscription_plans.whatsapp_orders_limit,_e=qe.whatsapp_orders_used||0;if(te===null)throw new Error("WhatsApp ordering is not available in your current plan.");if(te>0&&_e>=te)throw new Error("WhatsApp order limit reached for this month. Please try online payment.")}}const He=`ORD${Date.now().toString().slice(-8)}`,de={store_id:Ee.id,order_number:He,customer_name:ue.fullName,customer_phone:ue.phone,customer_email:ue.email||null,delivery_address:ue.address,delivery_landmark:ue.landmark||null,delivery_pincode:ue.pincode,delivery_time:oe,delivery_latitude:y?.latitude||null,delivery_longitude:y?.longitude||null,items:a,subtotal:i,delivery_charge:0,total:i,status:"new",payment_method:H,payment_status:"pending",payment_gateway:H==="cod"?"cod":H},{data:we,error:Oe}=await Z.from("orders").insert(de).select("id").single();if(Oe)throw Oe;if(H==="razorpay")await ee({orderId:we.id,orderNumber:He,customerName:ue.fullName,customerEmail:ue.email,customerPhone:ue.phone,amount:i,currency:"INR"});else if(H==="phonepe")await he({orderId:we.id,orderNumber:He,customerName:ue.fullName,customerEmail:ue.email,customerPhone:ue.phone,amount:i,currency:"INR"});else{const Ye={customerName:ue.fullName,phone:ue.phone,email:ue.email||void 0,address:ue.address,landmark:ue.landmark||void 0,pincode:ue.pincode,deliveryTime:oe,latitude:y?.latitude,longitude:y?.longitude,cart:a,subtotal:i,deliveryCharge:0,total:i},Je=soe(Ye),Ne=await aoe(Je,void 0,Se);if(!Ne.success){l({title:"WhatsApp Not Configured",description:Ne.error,variant:"destructive"}),u(!1);return}l({title:"Order placed successfully!",description:"We'll contact you shortly on WhatsApp to confirm your order."}),o(),setTimeout(()=>{n(k?`/${k}`:"/home")},2e3)}u(!1)}catch(Se){console.error("Checkout error:",Se),l({title:"Order failed",description:Se.message||"Failed to place order. Please try again.",variant:"destructive"}),u(!1)}},Q=k?`/${k}`:"/home",V=k?`/${k}/cart`:"/cart";return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:k,storeId:a[0]?.storeId}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[s.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[s.jsx(kt,{to:Q,className:"hover:text-foreground",children:"Home"}),s.jsx(wf,{className:"w-4 h-4"}),s.jsx(kt,{to:V,className:"hover:text-foreground",children:"Cart"}),s.jsx(wf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-foreground",children:"Checkout"})]}),s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Iw,{...J,children:s.jsxs("form",{onSubmit:J.handleSubmit(ne),className:"space-y-6",children:[s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(xr,{control:J.control,name:"fullName",render:({field:ue})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Full Name *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Enter your full name",...ue})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:J.control,name:"phone",render:({field:ue})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Phone Number *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"10-digit mobile number",...ue})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:J.control,name:"email",render:({field:ue})=>s.jsxs(ur,{className:"md:col-span-2",children:[s.jsx(vr,{children:"Email (Optional)"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"your.email@example.com",...ue})}),s.jsx(Lr,{})]})})]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Address"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xr,{control:J.control,name:"address",render:({field:ue})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Complete Address *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"House/Flat No., Street, Area",...ue})}),s.jsx(Lr,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(xr,{control:J.control,name:"landmark",render:({field:ue})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Landmark (Optional)"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Nearby location",...ue})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:J.control,name:"pincode",render:({field:ue})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"PIN Code *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"6-digit PIN code",...ue})}),s.jsx(Lr,{})]})})]}),s.jsx(xr,{control:J.control,name:"deliveryTime",render:({field:ue})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Preferred Delivery Time *"}),s.jsx(dr,{children:s.jsxs(M6,{onValueChange:ue.onChange,defaultValue:ue.value,className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Ey,{value:"morning",id:"morning"}),s.jsx(Ce,{htmlFor:"morning",className:"flex-1 cursor-pointer font-normal",children:"Morning (9 AM - 12 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Ey,{value:"evening",id:"evening"}),s.jsx(Ce,{htmlFor:"evening",className:"flex-1 cursor-pointer font-normal",children:"Evening (4 PM - 7 PM)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[s.jsx(Ey,{value:"anytime",id:"anytime"}),s.jsx(Ce,{htmlFor:"anytime",className:"flex-1 cursor-pointer font-normal",children:"Anytime"})]})]})}),s.jsx(Lr,{})]})}),d&&s.jsxs("div",{ref:E,className:`space-y-3 p-4 rounded-lg border transition-all duration-300 ${m&&!y?"animate-pulse-border":""} ${b?"animate-attention-shake border-destructive bg-destructive/5 shadow-lg shadow-destructive/20":"bg-card/50 backdrop-blur-sm hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"text-base font-medium",children:"Share Your Location"}),m?s.jsx(Cu.span,{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full bg-primary/10 text-primary border border-primary/20",initial:{scale:0,x:-10},animate:{scale:1,x:0},transition:{type:"spring",stiffness:500,damping:15},children:"Required"}):s.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground",children:"Optional"})]}),m&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"We need your location for accurate delivery"]}),s.jsx(UUe,{onLocationSelect:U,enabled:d}),s.jsx(tz,{mode:"wait",children:y&&s.jsxs(Cu.div,{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 px-3 py-2 rounded-md",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:500,damping:25},children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Location captured successfully"]})}),s.jsx(tz,{children:b&&!y&&s.jsxs(Cu.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md border border-destructive/20",children:[s.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Please share your location to continue - it's required for delivery"]})})]})]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),F.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"Loading payment options..."})}):s.jsx("div",{className:"space-y-3",children:F.map(ue=>s.jsxs(Cu.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.01},whileTap:{scale:.99},className:`relative cursor-pointer rounded-xl border-2 transition-all duration-300 overflow-hidden ${H===ue.id?"border-primary bg-gradient-to-br from-primary/10 via-primary/5 to-transparent shadow-lg shadow-primary/20":"border-border hover:border-primary/40 bg-card hover:shadow-md"}`,onClick:()=>W(ue.id),children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 sm:p-5",children:[s.jsxs("div",{className:`relative w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md transition-transform duration-300 ${H===ue.id?"scale-105":""} ${ue.color}`,children:[ue.id==="razorpay"&&s.jsx(Dn,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),ue.id==="phonepe"&&s.jsx(LB,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"}),ue.id==="cod"&&s.jsx(BB,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-lg tracking-tight",children:[ue.id==="razorpay"&&"Paynow",ue.id==="phonepe"&&"Paynow",ue.id==="cod"&&"Cash on Delivery"]}),(ue.id==="razorpay"||ue.id==="phonepe")&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure"]})]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground leading-tight",children:[ue.id==="razorpay"&&"Pay with cards, UPI, net banking & wallets",ue.id==="phonepe"&&"Pay with UPI, cards & bank accounts",ue.id==="cod"&&"Pay cash when your order arrives"]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${H===ue.id?"border-primary bg-primary shadow-md":"border-muted-foreground/30 hover:border-primary/50"}`,children:H===ue.id&&s.jsx(Cu.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:20},className:"w-3 h-3 rounded-full bg-white"})})})]}),H===ue.id&&s.jsx(Cu.div,{layoutId:"payment-indicator",className:"absolute inset-0 rounded-xl border-2 border-primary pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30}})]},ue.id))}),H&&s.jsx(Cu.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-accent/50 rounded-lg border border-border",children:s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx("svg",{className:"w-4 h-4 mt-0.5 text-primary flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s.jsxs("span",{className:"text-muted-foreground",children:[H==="cod"&&"No advance payment required. Pay cash when your order is delivered.",(H==="razorpay"||H==="phonepe")&&"Your payment is secure and encrypted. Complete payment to confirm your order."]})]})})]})}),s.jsx(ae,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:c||Y,children:Y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):s.jsx(s.Fragment,{children:H==="cod"?s.jsxs(s.Fragment,{children:[s.jsx(Kh,{className:"w-5 h-5 mr-2"}),"Place Order via WhatsApp"]}):s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Proceed to Payment"]})})})]})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(ke,{className:"sticky top-24",children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:a.map(ue=>s.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0",children:[s.jsx("img",{src:ue.productImage,alt:ue.productName,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:ue.productName}),ue.variant&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ue.variant}),s.jsxs("p",{className:"text-sm font-semibold text-primary",children:["",ue.price,"  ",ue.quantity]})]})]},`${ue.productId}-${ue.variant}`))}),s.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",a.reduce((ue,oe)=>ue+oe.quantity,0)," items)"]}),s.jsxs("span",{children:["",i]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),s.jsx("span",{className:"text-success",children:"FREE"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",i]})]}),s.jsx("div",{className:"bg-accent p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[H==="razorpay"&&s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"w-4 h-4 text-blue-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via Razorpay"})]}),H==="phonepe"&&s.jsxs(s.Fragment,{children:[s.jsx(LB,{className:"w-4 h-4 text-purple-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment via PhonePe"})]}),H==="cod"&&s.jsxs(s.Fragment,{children:[s.jsx(BB,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash on Delivery"})]}),!H&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select payment method"})]})})]})})})]})]}),s.jsx(Iu,{}),s.jsx(Sn,{open:O,onOpenChange:A,children:s.jsxs(yn,{className:"sm:max-w-md",children:[s.jsxs(kn,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(ra,{className:"h-5 w-5"}),s.jsx(Cn,{children:"Order Limit Reached"})]}),s.jsxs(ps,{className:"pt-3 space-y-3",children:[s.jsx("p",{className:"text-base",children:"This store has reached its monthly order limit"}),P&&s.jsxs("div",{className:"bg-accent p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"font-semibold",children:P.planName})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Orders Used:"}),s.jsxs("span",{className:"font-semibold",children:[P.ordersUsed," of ",P.ordersLimit]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The store owner needs to upgrade their plan to accept more orders."})]})]}),s.jsxs(Da,{className:"flex-col sm:flex-row gap-2",children:[P?.storeWhatsApp&&s.jsxs(ae,{onClick:()=>{window.open(`https://wa.me/${P.storeWhatsApp}`,"_blank")},variant:"default",className:"w-full sm:w-auto",children:[s.jsx(Kh,{className:"h-4 w-4 mr-2"}),"Contact Store Owner"]}),s.jsx(ae,{onClick:()=>{A(!1),n(k?`/${k}`:"/")},variant:"outline",className:"w-full sm:w-auto",children:"Back to Store"})]})]})}),s.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% { border-color: hsl(var(--border)); }
          50% { border-color: hsl(var(--primary) / 0.5); }
        }

        @keyframes attention-shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
          20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .animate-pulse-border {
          animation: pulse-border 2s ease-in-out infinite;
        }

        .animate-attention-shake {
          animation: attention-shake 0.6s ease-in-out;
        }
      `})]})};function dA(){const[e]=vw(),t=wr(),[r,n]=_.useState("verifying"),[a,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[m,p]=_.useState(""),[y,g]=_.useState(!1),[v,w]=_.useState(!1),b=_.useRef(!1),j=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),E=async(k,R)=>{if(!b.current){b.current=!0;try{if(!await noe(R)){w(!0);return}const A=await zN(R),P=qN(A),D=encodeURIComponent(k);if(j){const F=/Android/i.test(navigator.userAgent),L=/iPhone|iPad|iPod/i.test(navigator.userAgent);if(F){const H=`intent://send/${P}#Intent;scheme=whatsapp;package=com.whatsapp;action=android.intent.action.SENDTO;S.android.intent.extra.TEXT=${D};end`;try{window.location.href=H}catch{window.location.href=`whatsapp://send?phone=${P}&text=${D}`}}else L?window.location.href=`whatsapp://send?phone=${P}&text=${D}`:window.location.href=`whatsapp://send?phone=${P}&text=${D}`;g(!0),setTimeout(()=>{w(!0)},3e3)}else{const F=`https://wa.me/${P}?text=${D}`;window.open(F,"_blank","noopener,noreferrer"),g(!0),w(!0)}}catch(O){console.error("WhatsApp auto-open error:",O),w(!0)}}};_.useEffect(()=>{(async()=>{const R=e.get("gateway"),O=e.get("orderId"),A=e.get("storeId"),P=e.get("storeSlug");if(f(A||""),p(P||""),!R||!O||!A){n("failed");return}try{let D=!1,F="";if(R==="razorpay"){const G=e.get("razorpayOrderId"),K=e.get("paymentId"),I=e.get("signature");if(!G||!K||!I)throw new Error("Missing Razorpay payment details");D=(await e6e(G,K,I,A)).verified,F=K,D&&await Z.from("orders").update({payment_status:"completed",payment_id:K,payment_gateway:"razorpay",gateway_order_id:G,payment_response:{razorpay_payment_id:K,razorpay_order_id:G,razorpay_signature:I}}).eq("id",O)}if(!D){n("failed");return}const{data:L,error:H}=await Z.from("orders").select("*").eq("id",O).single();if(H||!L)throw new Error("Failed to fetch order details");const W=soe({customerName:L.customer_name,phone:L.customer_phone,email:L.customer_email,address:L.delivery_address,landmark:L.delivery_landmark,pincode:L.delivery_pincode,deliveryTime:L.delivery_time,latitude:L.delivery_latitude,longitude:L.delivery_longitude,cart:L.items,subtotal:L.subtotal,deliveryCharge:L.delivery_charge||0,total:L.total,paymentMethod:"online",paymentGateway:"Razorpay",transactionId:F,orderNumber:L.order_number});u(W),i(L.order_number),l(F),n("success"),setTimeout(()=>{E(W,A)},500)}catch(D){console.error("Payment processing error:",D),n("failed")}})()},[e]);const S=async()=>{if(!c||!d)return;const k=await zN(d),R=qN(k),O=encodeURIComponent(c);j?window.location.href=`whatsapp://send?phone=${R}&text=${O}`:window.open(`https://wa.me/${R}?text=${O}`,"_blank")},C=()=>{t(m?`/${m}`:"/home")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 px-4 py-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[r==="verifying"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx(Gt,{className:"h-20 w-20 text-blue-600 mx-auto animate-spin mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Payment"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your payment..."})]}),r==="success"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-white mb-4",children:s.jsx(ys,{className:"h-12 w-12 text-amber-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Payment Received"}),s.jsx("p",{className:"text-amber-100 text-lg",children:"Confirm on WhatsApp to complete your order"})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx(an,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-green-600 font-medium",children:"Payment"})]}),s.jsx("div",{className:"absolute left-[15%] right-[52%] top-5 h-1 bg-green-500"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center ring-4 ring-amber-200",style:{animation:"pop 2s ease-in-out infinite"},children:s.jsx(Bn,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs mt-2 text-amber-600 font-bold",children:"Confirm"})]}),s.jsx("div",{className:"absolute left-[52%] right-[15%] top-5 h-1 bg-gray-200"}),s.jsxs("div",{className:"flex flex-col items-center z-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(fc,{className:"w-6 h-6 text-gray-400"})}),s.jsx("span",{className:"text-xs mt-2 text-gray-400 font-medium",children:"Shipped"})]})]})}),s.jsxs("div",{className:"p-8 space-y-5",children:[s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Order Number"}),s.jsx("span",{className:"text-gray-900 font-bold",children:a})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Transaction ID"}),s.jsxs("span",{className:"text-gray-900 font-mono text-sm",children:[o.slice(0,20),"..."]})]})]}),!v&&y&&s.jsx("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-2xl p-5 animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-800 font-medium",children:[s.jsx(Gt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Opening WhatsApp..."})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ae,{onClick:S,size:"lg",className:"w-full h-16 text-lg font-bold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl transition-all duration-200 animate-[pop_2s_ease-in-out_infinite]",style:{animation:"pop 2s ease-in-out infinite"},children:[s.jsx("img",{src:"/whatsapp-icon.png",alt:"WhatsApp",className:"w-7 h-7 mr-3"}),"Confirm My Order"]}),s.jsx("p",{className:"text-center text-sm text-gray-500",children:"Click to confirm order & send details via WhatsApp"})]}),s.jsx("style",{children:`
                @keyframes pop {
                  0%, 100% { transform: scale(1); }
                  50% { transform: scale(1.03); }
                }
              `}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("button",{onClick:C,className:"text-sm text-gray-400 hover:text-gray-600 underline",children:"Return to store"})})]})]}),r==="failed"&&s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 mb-6",children:s.jsx(Gn,{className:"h-12 w-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Verification Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue verifying your payment."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"If the amount was deducted from your account, please contact our support with your transaction details."}),s.jsxs(ae,{onClick:C,size:"lg",variant:"outline",className:"w-full",children:[s.jsx(UJ,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})]})})}const WUe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState("monthly"),[c,u]=_.useState(null),d=wr(),{toast:f}=cs();_.useEffect(()=>{p(),m()},[]);const m=()=>{const w=document.createElement("script");w.src="https://checkout.razorpay.com/v1/checkout.js",w.async=!0,document.body.appendChild(w)},p=async()=>{try{n(!0),i(null);const{data:w,error:b}=await Z.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price",{ascending:!0});if(b)throw b;t(w||[])}catch(w){console.error("Error fetching plans:",w),i("Failed to load pricing plans. Please try again later.")}finally{n(!1)}},y=w=>{const b=[];return w.max_products?b.push(`Up to ${w.max_products.toLocaleString()} products`):b.push("Unlimited products"),w.whatsapp_orders_limit!==null&&(w.whatsapp_orders_limit===0?b.push("Unlimited WhatsApp orders"):b.push(`${w.whatsapp_orders_limit.toLocaleString()} WhatsApp orders/month`)),w.website_orders_limit!==null&&(w.website_orders_limit===0?b.push("Unlimited website orders"):b.push(`${w.website_orders_limit.toLocaleString()} website orders/month`)),w.enable_location_sharing&&b.push("Location sharing for deliveries"),w.enable_analytics&&b.push("Advanced analytics dashboard"),w.enable_order_emails&&b.push("Email notifications"),w.trial_days>0&&b.push(`${w.trial_days}-day free trial`),b},g=async w=>{try{u(w.id);const{data:{user:b}}=await Z.auth.getUser();if(!b){d("/auth");return}const{data:j}=await Z.from("subscriptions").select("*").eq("user_id",b.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),E=j&&j.length>0?j[0]:null;if(E&&E.status==="active"){f({title:"Already subscribed",description:"You already have an active subscription",variant:"destructive"});return}const S=o==="yearly"&&w.yearly_price?w.yearly_price:w.monthly_price,{data:C,error:k}=await Z.functions.invoke("razorpay-payment",{body:{action:"create_order",plan_id:w.id,billing_cycle:o,user_id:b.id}});if(k||!C.success)throw new Error(C?.error||"Failed to create payment order");const{data:R}=await Z.from("profiles").select("full_name, email, phone").eq("user_id",b.id).maybeSingle(),O={key:C.key_id,amount:C.amount,currency:C.currency,name:"StoreBuilder",description:`${w.name} - ${o==="yearly"?"Yearly":"Monthly"} Subscription`,order_id:C.order_id,prefill:{name:R?.full_name||b.email,email:R?.email||b.email,contact:R?.phone||""},theme:{color:"#3B82F6"},handler:async function(P){console.log(" Payment completed, verifying...",{order_id:P.razorpay_order_id,payment_id:P.razorpay_payment_id});try{f({title:"Verifying payment...",description:"Please wait while we confirm your payment"});let D=0,F=null,L=null;for(;D<3;){const H=await Z.functions.invoke("razorpay-payment",{body:{action:"verify_payment",razorpay_order_id:P.razorpay_order_id,razorpay_payment_id:P.razorpay_payment_id,razorpay_signature:P.razorpay_signature,subscription_id:C.subscription_id,user_id:b.id}});if(F=H.data,L=H.error,!L&&F?.success){console.log(" Payment verified successfully");break}D++,console.warn(` Verification attempt ${D} failed, retrying...`),D<3&&await new Promise(W=>setTimeout(W,1e3*D))}if(L||!F?.success)throw console.error(" Payment verification failed after 3 attempts:",{error:L,data:F}),new Error(F?.error||"Payment verification failed");f({title:"Payment successful! ",description:"Your subscription has been activated. Redirecting..."}),setTimeout(()=>{d("/admin/dashboard")},1500)}catch(D){console.error(" Payment verification error:",D),f({title:"Payment verification failed",description:D.message||"Please contact support with your payment details",variant:"destructive"}),setTimeout(()=>{d("/admin/dashboard")},3e3)}finally{u(null)}},modal:{ondismiss:function(){u(null)}}};new window.Razorpay(O).open()}catch(b){console.error("Payment error:",b),f({title:"Payment failed",description:b.message||"Unable to process payment",variant:"destructive"})}finally{u(null)}};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx(Gt,{className:"w-8 h-8 animate-spin text-primary"})});if(a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(fce,{message:a,onRetry:p})});const v={"@context":"https://schema.org","@type":"WebPage",name:"Pricing Plans - DigitalDukandar",description:"Affordable e-commerce platform pricing for Indian businesses. Start with free 14-day trial. Plans starting from 299/month with unlimited products, WhatsApp integration & analytics.",url:"https://digitaldukandar.in/pricing"};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(AM,{children:[s.jsx("title",{children:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"title",content:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),s.jsx("meta",{name:"description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month. Unlimited products, WhatsApp orders, custom domain, analytics. No hidden fees. Cancel anytime."}),s.jsx("meta",{name:"keywords",content:"online store pricing India, e-commerce platform cost, affordable store builder, WhatsApp store pricing, small business e-commerce plans, digital store subscription India"}),s.jsx("link",{rel:"canonical",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in/pricing"}),s.jsx("meta",{property:"og:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{property:"og:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:title",content:"Pricing Plans - Affordable Online Store Builder"}),s.jsx("meta",{name:"twitter:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),s.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]}),s.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-20 flex items-center justify-between",children:[s.jsxs(kt,{to:"/",className:"flex items-center gap-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-2xl blur-sm opacity-70 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-primary via-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all",children:s.jsx(Cv,{className:"w-6 h-6 text-primary-foreground"})})]}),s.jsx("span",{className:"font-playfair font-bold text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"StoreBuilder"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsx(kt,{to:"/",children:s.jsx(ae,{variant:"ghost",size:"sm",children:"Back to Home"})}),s.jsx(kt,{to:"/auth",children:s.jsxs(ae,{size:"sm",children:["Get Started",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})}),s.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"inline-block mb-4",children:s.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Transparent Pricing"})}),s.jsx("h1",{className:"font-playfair text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6",children:"Choose Your Perfect Plan"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Simple, transparent pricing for your online store. Start free, upgrade as you grow."})]}),s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"inline-flex items-center gap-3 bg-muted p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>l("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>l("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Yearly",s.jsx(wt,{variant:"secondary",className:"ml-2 bg-primary/10 text-primary",children:"Save 20%"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(w=>{const b=o==="yearly"&&w.yearly_price?w.yearly_price:w.monthly_price,j=y(w);return s.jsxs(ke,{className:`relative p-8 transition-all duration-300 bg-card ${w.is_popular?"border-2 border-primary shadow-2xl scale-105":"border hover:shadow-lg hover:-translate-y-1"}`,children:[w.is_popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx(wt,{className:"bg-primary text-primary-foreground px-4 py-1.5 text-sm font-semibold shadow-lg",children:w.badge_text||"Most Popular"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-playfair text-3xl font-bold text-foreground mb-4 tracking-tight",children:w.name}),w.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:w.description}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[s.jsxs("span",{className:"text-5xl font-semibold text-foreground tracking-tight",children:["",b.toLocaleString()]}),s.jsxs("span",{className:"text-lg text-muted-foreground font-medium",children:["/",o==="monthly"?"month":"year"]})]}),o==="yearly"&&w.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Math.round(w.yearly_price/12).toLocaleString(),"/month billed annually"]})]}),s.jsx(ae,{size:"lg",className:`w-full font-semibold mb-8 ${w.is_popular?"shadow-lg":""}`,variant:w.is_popular?"default":"outline",onClick:()=>g(w),disabled:c===w.id,children:c===w.id?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Get Started",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-4",children:"Everything included:"}),j.map((E,S)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(rn,{className:"w-3 h-3 text-green-500"})}),s.jsx("span",{className:"text-sm text-foreground font-medium leading-relaxed",children:E})]},S))]})]},w.id)})}),s.jsx("div",{className:"mt-20 text-center",children:s.jsxs("div",{className:"inline-flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Secure payment processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Instant activation"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Cancel anytime"})]})]})})]})}),s.jsx("footer",{className:"border-t border-border/50 bg-muted/20 py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:" 2024 StoreBuilder. All rights reserved."})})})]})};function HUe(){const e=wr(),{toast:t}=cs(),[r,n]=vw(),[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1);_.useEffect(()=>{const y=r.get("ref");if(y&&(console.log("[Auth] Referral code captured:",y),sessionStorage.setItem("referral_code",y)),r.get("error")==="account_deleted"&&(u(!0),n({})),r.get("code")!==null){console.log("[Auth] OAuth callback detected - waiting for session to be established"),f(!0);return}Z.auth.getSession().then(async({data:{session:b}})=>{if(console.log("[Auth] Checking existing session:",b?"Found":"None"),b){l(!0),console.log("[Auth] Checking for helper with ID:",b.user.id);const{data:j,error:E}=await Z.from("helpers").select("*").eq("id",b.user.id).maybeSingle();if(console.log("[Auth] Helper query result:",{helperData:j,helperError:E}),j){console.log("[Auth] Helper found - redirecting to helper dashboard"),e("/helper/dashboard"),i(!1);return}const{data:S,error:C}=await Z.from("stores").select("*").eq("user_id",b.user.id).maybeSingle();console.log("[Auth] Store query error:",C),console.log("[Auth] Store found:",S?"Yes":"No",S),S?(console.log("[Auth] Redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),e("/onboarding/store-setup")),i(!1)}});const{data:{subscription:w}}=Z.auth.onAuthStateChange((b,j)=>{console.log("[Auth] Auth state changed:",b,j?"Session exists":"No session"),f(!1),b==="SIGNED_IN"&&j&&(l(!0),setTimeout(async()=>{try{console.log("[Auth] SIGNED_IN - Checking for helper with ID:",j.user.id);const{data:E,error:S}=await Z.from("helpers").select("*").eq("id",j.user.id).maybeSingle();if(console.log("[Auth] SIGNED_IN - Helper query result:",{helperData:E,helperError:S}),E){console.log("[Auth] Helper found - redirecting to helper dashboard"),t({title:"Welcome back!",description:"Redirecting to your helper dashboard."}),e("/helper/dashboard");return}const{data:C,error:k}=await Z.from("stores").select("*").eq("user_id",j.user.id).maybeSingle();console.log("[Auth] After sign in - Query error:",k),console.log("[Auth] After sign in - Store found:",C?"Yes":"No",C);const R=j.provider_token,O=j.provider_refresh_token;if(C&&R){console.log("[Auth] Saving Google Drive tokens to store");const A={google_access_token:R};if(O){const P=new Date(Date.now()+36e5);A.google_refresh_token=O,A.google_token_expiry=P.toISOString()}await Z.from("stores").update(A).eq("id",C.id)}C?(console.log("[Auth] Existing user - redirecting to admin dashboard"),sessionStorage.getItem("welcomeShown")||(t({title:"Welcome to your dashboard! ",description:"All systems are running smoothly.",className:"bottom-4 left-4 md:bottom-6 md:left-6"}),sessionStorage.setItem("welcomeShown","true")),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),t({title:"Welcome!",description:"Let's set up your store."}),e("/onboarding/store-setup"))}catch(E){console.error("[Auth] Error checking store:",E),t({variant:"destructive",title:"Error",description:"Failed to verify account. Please try again."})}},0))});return()=>w.unsubscribe()},[e,t]);const m=async()=>{try{i(!0),console.log("[Auth] Starting Google sign in...");const{error:y}=await Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth`,scopes:"https://www.googleapis.com/auth/drive.file"}});y?(console.error("[Auth] Sign in error:",y),t({variant:"destructive",title:"Error",description:y.message})):console.log("[Auth] OAuth redirect initiated")}catch(y){console.error("[Auth] Unexpected error:",y),t({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},p=async()=>{try{i(!0);const{error:y}=await Z.auth.signOut();if(y)throw y;t({title:"Signed out",description:"You have been signed out successfully."}),window.location.reload()}catch(y){t({variant:"destructive",title:"Error",description:y.message})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-4",children:[c&&s.jsx(Kr,{variant:"destructive",className:"border-2 shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bi,{className:"h-6 w-6 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(x5,{className:"text-lg font-semibold mb-2",children:"Account Deleted"}),s.jsx(Yr,{className:"text-base",children:"Your account has been deleted by the administrator. All your data has been removed from the system."})]}),s.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>u(!1),children:s.jsx(Gn,{className:"h-5 w-5"})})]})}),s.jsxs(ke,{className:"w-full",children:[s.jsxs(Ze,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(vm,{size:48})}),s.jsx(Qe,{className:"text-2xl font-bold text-center",children:"Sign In"}),s.jsx(Cr,{className:"text-center",children:"Sign in to access your dashboard"})]}),s.jsx(Te,{className:"space-y-4",children:d?s.jsxs("div",{className:"text-center space-y-4 py-4",children:[s.jsx(Gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing sign in..."})]}):o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2 py-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"You're already signed in"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Redirecting to your dashboard..."})]}),s.jsx(ae,{onClick:p,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing out..."]}):"Sign out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{onClick:m,disabled:a,variant:"outline",className:"w-full",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}function GUe(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),m="superadmin.digitaldukandar.in";_.useEffect(()=>{const y=window.location.hostname,g=y.endsWith(".lovable.app")||y.endsWith(".lovable.dev")||y.endsWith(".lovableproject.com");!(y===m)&&!(y==="localhost"||y==="127.0.0.1")&&!g&&f(!0)},[]);const p=async y=>{y.preventDefault(),u(!0);try{const{data:g,error:v}=await Z.auth.signInWithPassword({email:r,password:a});if(v)throw v;if(!g.user)throw new Error("Login failed");const{data:w,error:b}=await Z.from("user_roles").select("role").eq("user_id",g.user.id).eq("role","super_admin");if(b)throw b;if(!w||w.length===0)throw await Z.auth.signOut(),new Error("You do not have super admin access");const{data:j}=await Z.from("profiles").select("full_name").eq("user_id",g.user.id).single();sessionStorage.setItem("superadmin_session",JSON.stringify({id:g.user.id,email:g.user.email,fullName:j?.full_name||"Super Admin",loginAt:new Date().toISOString()})),o&&localStorage.setItem("superadmin_remember","true"),t({title:"Login Successful",description:"Welcome back to Super Admin Panel"}),e("/superadmin/dashboard")}catch(g){console.error("Login error:",g),t({variant:"destructive",title:"Login Failed",description:g.message||"Invalid credentials or insufficient permissions"})}finally{u(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:s.jsxs(ke,{className:"w-full max-w-md",children:[s.jsxs(Ze,{className:"space-y-4 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx($f,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(Qe,{className:"text-3xl font-bold",children:"Super Admin"}),s.jsx(Cr,{className:"mt-2",children:d?"Access Restricted":"Enter your credentials to access the admin panel"})]})]}),s.jsx(Te,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Unauthorized Domain Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This super admin panel can only be accessed from authorized domains."}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current domain: ",s.jsx("span",{className:"font-mono",children:window.location.hostname})]})]}):s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"email",children:"Email Address"}),s.jsx(Ve,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:y=>n(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"password",children:"Password"}),s.jsx(Ve,{id:"password",type:"password",placeholder:"",value:a,onChange:y=>i(y.target.value),required:!0,disabled:c})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"remember",checked:o,onCheckedChange:y=>l(y),disabled:c}),s.jsx(Ce,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(ae,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function pv({className:e,...t}){return s.jsx("div",{className:ut("animate-pulse rounded-md bg-muted",e),...t})}function KUe(){const[e,t]=_.useState([]),[r,n]=_.useState(!0);_.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const{data:o,error:l}=await Z.from("subscription_plans").select("id, name, enable_location_sharing, enable_analytics, enable_order_emails").order("display_order");if(l)throw l;t(o||[])}catch(o){Fe({title:"Error",description:o.message,variant:"destructive"})}finally{n(!1)}},i=async(o,l,c)=>{try{const{error:u}=await Z.from("subscription_plans").update({[l]:c}).eq("id",o);if(u)throw u;Fe({title:"Success",description:"Feature setting updated"}),a()}catch(u){Fe({title:"Error",description:u.message,variant:"destructive"})}};return r?s.jsx(ke,{children:s.jsx(Te,{className:"p-6 text-center",children:s.jsx(Gt,{className:"h-8 w-8 animate-spin mx-auto"})})}):s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Feature Management"})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-6",children:e.map(o=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-4",children:o.name}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:`location-${o.id}`,className:"cursor-pointer",children:"Location Sharing"}),s.jsx(Wr,{id:`location-${o.id}`,checked:o.enable_location_sharing,onCheckedChange:l=>i(o.id,"enable_location_sharing",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:`analytics-${o.id}`,className:"cursor-pointer",children:"Analytics"}),s.jsx(Wr,{id:`analytics-${o.id}`,checked:o.enable_analytics,onCheckedChange:l=>i(o.id,"enable_analytics",l)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Order Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for new orders"})]}),s.jsx(Wr,{checked:o.enable_order_emails,onCheckedChange:l=>i(o.id,"enable_order_emails",l)})]})]})]},o.id))})})]})}function YUe(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(""),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(null),[m,p]=_.useState(!0);_.useEffect(()=>{(async()=>{const E=sessionStorage.getItem("superadmin_session");if(E){const R=JSON.parse(E);n(R.fullName),y();return}const{data:{user:S}}=await Z.auth.getUser();if(!S){e("/superadmin/login");return}const{data:C}=await Z.from("user_roles").select("role").eq("user_id",S.id).eq("role","super_admin");if(!C||C.length===0){t({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:k}=await Z.from("profiles").select("full_name, email").eq("user_id",S.id).single();n(k?.full_name||k?.email||S.email||"Super Admin"),y()})();const j=setInterval(y,6e4);return()=>clearInterval(j)},[e]);const y=async()=>{try{const{data:b}=await Z.from("profiles").select("created_at, user_id"),j=b?.length||0,{data:E}=await Z.from("user_roles").select("user_id").eq("role","super_admin"),S=new Set(E?.map(le=>le.user_id)||[]),C=(b||[]).filter(le=>!S.has(le.user_id)),k=C.length,R=new Date;R.setHours(0,0,0,0);const O=C.filter(le=>new Date(le.created_at)>=R).length,A=new Date;A.setDate(A.getDate()-30);const P=new Date;P.setDate(P.getDate()-7);const{data:D}=await Z.from("stores").select("id, user_id, last_admin_visit, created_at"),{data:F}=await Z.from("orders").select("store_id").gte("created_at",A.toISOString()),L=new Set(F?.map(le=>le.store_id)||[]),W=(D||[]).filter(le=>!S.has(le.user_id)&&(L.has(le.id)||le.last_admin_visit&&new Date(le.last_admin_visit)>=P)).length,G=(D||[]).filter(le=>!S.has(le.user_id)).length,K=G>0?W/G*100:0,I=new Date;I.setDate(1),I.setHours(0,0,0,0);const B=new Date(I);B.setMonth(B.getMonth()-1);const{data:Y}=await Z.from("transactions").select("total_amount").eq("status","success").gte("created_at",I.toISOString()),z=Y?.reduce((le,Re)=>le+(Re.total_amount||0),0)||0,{data:J}=await Z.from("transactions").select("total_amount").eq("status","success").gte("created_at",B.toISOString()).lt("created_at",I.toISOString()),X=J?.reduce((le,Re)=>le+(Re.total_amount||0),0)||0,ee=X>0?(z-X)/X*100:z>0?100:0,he=new Date;he.setDate(he.getDate()-60);const fe=C.filter(le=>new Date(le.created_at)>=A).length,ge=C.filter(le=>{const Re=new Date(le.created_at);return Re>=he&&Re<A}).length,U=ge>0?(fe-ge)/ge*100:fe>0?100:0;i({totalUsers:k,todayUsers:O,activeStores:W,activePercentage:K,monthlyRevenue:z,revenueGrowth:ee,newSignups:fe,signupGrowth:U});const{data:ne}=await Z.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price"),{data:Q}=await Z.from("subscriptions").select("plan_id, user_id, status").in("status",["trial","active"]),V=(Q||[]).filter(le=>!S.has(le.user_id)),ue=new Map;V.forEach(le=>{const Re=ue.get(le.plan_id)||0;ue.set(le.plan_id,Re+1)});const oe=["bg-gray-500","bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"],Se=V.length,Ee=(ne||[]).map((le,Re)=>{const et=ue.get(le.id)||0;return{plan:le.name,users:et,percentage:Se>0?et/Se*100:0,revenue:et*(le.monthly_price||0),color:oe[Re%oe.length]}});Ee.sort((le,Re)=>Re.users-le.users),l(Ee);const ie=[],qe=C.sort((le,Re)=>new Date(Re.created_at).getTime()-new Date(le.created_at).getTime()).slice(0,5),{data:He}=await Z.from("profiles").select("user_id, email, full_name, created_at").in("user_id",qe.map(le=>le.user_id));He?.forEach(le=>{ie.push({id:`signup-${le.user_id}`,type:"signup",description:`New user registered: ${le.full_name||"Unknown"}`,userEmail:le.email,timestamp:le.created_at,icon:"user-plus"})});const{data:de}=await Z.from("subscriptions").select(`
          id,
          user_id,
          status,
          created_at,
          updated_at,
          subscription_plans(name)
        `).order("updated_at",{ascending:!1}).limit(5),we=de?.map(le=>le.user_id)||[],{data:Oe}=await Z.from("profiles").select("user_id, email, full_name").in("user_id",we),Ye=new Map(Oe?.map(le=>[le.user_id,le])||[]);de?.forEach(le=>{if(!S.has(le.user_id)){const Re=Ye.get(le.user_id);ie.push({id:`sub-${le.id}`,type:le.status==="active"?"upgrade":"subscription",description:`Subscription ${le.status}: ${le.subscription_plans?.name||"Plan"}`,userEmail:Re?.email||null,timestamp:le.updated_at,icon:"trending-up"})}}),ie.sort((le,Re)=>new Date(Re.timestamp).getTime()-new Date(le.timestamp).getTime()),u(ie.slice(0,10));const Je=performance.now(),{data:Ne}=await Z.from("profiles").select("user_id").limit(1),te=performance.now()-Je,_e=te<100?"healthy":te<500?"degraded":"down",{data:pe}=await Z.from("platform_settings").select("razorpay_key_id").single(),Ie=pe?.razorpay_key_id?"active":"inactive",{count:De}=await Z.from("orders").select("*",{count:"exact",head:!0});f({database:{status:_e,responseTime:Math.round(te)},api:{status:"operational",uptime:99.98},payment:{status:Ie,provider:"Razorpay"},storage:{totalUsers:k,totalStores:G,totalOrders:De||0}}),p(!1)}catch(b){console.error("Dashboard load error:",b),t({variant:"destructive",title:"Error Loading Data",description:b.message}),p(!1)}},g=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")},v=b=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(b),w=b=>{const j=new Date,E=new Date(b),S=j.getTime()-E.getTime(),C=Math.floor(S/6e4),k=Math.floor(S/36e5),R=Math.floor(S/864e5);return C<1?"Just now":C<60?`${C}m ago`:k<24?`${k}h ago`:`${R}d ago`};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($f,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),s.jsx("span",{children:r})]})}),s.jsxs(lu,{align:"end",className:"w-56",children:[s.jsxs(Ln,{onClick:()=>window.open("/","_blank"),children:[s.jsx(ya,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),s.jsxs(Ln,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Zm,{}),s.jsxs(Ln,{onClick:g,className:"text-destructive",children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("div",{className:"flex",children:[s.jsx("aside",{className:"w-64 border-r bg-card min-h-screen p-4",children:s.jsxs("nav",{className:"space-y-2",children:[s.jsxs(ae,{variant:"default",className:"w-full justify-start",children:[s.jsx(UJ,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/users"),children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Users & Stores"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/helpers"),children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Helper Management"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commissions"),children:[s.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Commission Management"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commission-settings"),children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Commission Settings"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/reports-analytics"),children:[s.jsx(hw,{className:"mr-2 h-4 w-4"}),"Reports & Analytics"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/subscription-plans"),children:[s.jsx(Dn,{className:"mr-2 h-4 w-4"}),"Subscription Plans"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/transactions"),children:[s.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Transactions"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/billing"),children:[s.jsx(Dn,{className:"mr-2 h-4 w-4"}),"Billing & Revenue"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/custom-domains"),children:[s.jsx(fm,{className:"mr-2 h-4 w-4"}),"Custom Domains"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/sitemaps"),children:[s.jsx(qc,{className:"mr-2 h-4 w-4"}),"SEO & Sitemaps"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/marketplace"),children:[s.jsx(Bn,{className:"mr-2 h-4 w-4"}),"Marketplace"]}),s.jsxs(ae,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/settings"),children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})]})}),s.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m?Array(4).fill(0).map((b,j)=>s.jsx(pv,{className:"h-32"},j)):a&&s.jsxs(s.Fragment,{children:[s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.totalUsers.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Al,{className:"h-4 w-4 text-green-500"}),"+",a.todayUsers," today"]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Active Stores"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.activeStores.toLocaleString()}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(an,{className:"h-4 w-4 text-green-500"}),a.activePercentage.toFixed(1),"% active"]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:v(a.monthlyRevenue)}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Al,{className:"h-4 w-4 text-green-500"}),"+",a.revenueGrowth,"% from last month"]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"New Signups (30 days)"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:a.newSignups}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Al,{className:"h-4 w-4 text-green-500"}),"+",a.signupGrowth,"% growth"]})]})]})]})}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Subscriptions by Plan"})}),s.jsx(Te,{className:"space-y-4",children:m?s.jsx(pv,{className:"h-40"}):o.length>0?s.jsxs(s.Fragment,{children:[o.map(b=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:b.plan}),s.jsxs("span",{className:"text-muted-foreground",children:[b.users," users (",b.percentage.toFixed(1),"%)",b.revenue>0&&` - ${v(b.revenue)}/mo`]})]}),s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${b.color} transition-all`,style:{width:`${Math.max(b.percentage,2)}%`}})})]},b.plan)),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Total Subscribers"}),s.jsxs("span",{className:"text-muted-foreground",children:[o.reduce((b,j)=>b+j.users,0)," users"]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Total MRR"}),s.jsx("span",{className:"text-muted-foreground",children:v(o.reduce((b,j)=>b+j.revenue,0))})]})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subscription plans available"})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Monthly Recurring Revenue"})}),s.jsxs(Te,{children:[m?s.jsx(pv,{className:"h-64"}):s.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed rounded-lg",children:s.jsx("p",{className:"text-muted-foreground",children:"Revenue chart will be displayed here"})}),a&&s.jsxs("div",{className:"mt-4 flex gap-6 text-sm",children:[s.jsxs("span",{children:["Current MRR: ",s.jsx("strong",{children:v(a.monthlyRevenue)})]}),s.jsxs("span",{children:["ARR: ",s.jsx("strong",{children:v(a.monthlyRevenue*12)})]})]})]})]}),s.jsx(KUe,{}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Recent Activity"})}),s.jsx(Te,{children:m?s.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((b,j)=>s.jsx(pv,{className:"h-16"},j))}):c.length>0?s.jsxs("div",{className:"space-y-4",children:[c.map(b=>s.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[s.jsx("div",{className:"p-2 bg-muted rounded-lg",children:s.jsx(Rge,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:b.description}),b.userEmail&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.userEmail})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:w(b.timestamp)})]},b.id)),s.jsxs(ae,{variant:"ghost",className:"w-full",children:["View All Activity",s.jsx(wf,{className:"ml-2 h-4 w-4"})]})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"System Status"})}),s.jsx(Te,{children:m?s.jsx(pv,{className:"h-32"}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.database.status==="healthy"?"bg-green-500":d.database.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Database"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.database.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.database.responseTime,"ms"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.api.status==="operational"?"bg-green-500":d.api.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"API"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.api.status}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.api.uptime,"% uptime"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${d.payment.status==="active"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium",children:"Payment Gateway"})]}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.payment.status}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.payment.provider})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Storage"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.storage.totalOrders.toLocaleString()," orders"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.storage.totalUsers," users, ",d.storage.totalStores," stores"]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString(),"  Auto-refresh every 60s"]})})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"System health data unavailable"})})]})]})]})]})}var fA={exports:{}},hA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zz;function XUe(){if(Zz)return hA;Zz=1;var e=JS();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var p=m(),y=n({inst:{value:p,getSnapshot:m}}),g=y[0].inst,v=y[1];return i(function(){g.value=p,g.getSnapshot=m,c(g)&&v({inst:g})},[f,p,m]),a(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),o(p),p}function c(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return hA.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,hA}var Qz;function JUe(){return Qz||(Qz=1,fA.exports=XUe()),fA.exports}var ZUe=JUe();function QUe(){return ZUe.useSyncExternalStore(e7e,()=>!0,()=>!1)}function e7e(){return()=>{}}var F6="Avatar",[t7e]=Vs(F6),[r7e,Pce]=t7e(F6),Oce=_.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=_.useState("idle");return s.jsx(r7e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Tt.span,{...n,ref:t})})});Oce.displayName=F6;var Rce="AvatarImage",Dce=_.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Pce(Rce,r),l=n7e(n,i),c=ks(u=>{a(u),o.onImageLoadingStatusChange(u)});return As(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Tt.img,{...i,ref:t,src:n}):null});Dce.displayName=Rce;var Ice="AvatarFallback",Mce=_.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Pce(Ice,r),[o,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Tt.span,{...a,ref:t}):null});Mce.displayName=Ice;function eq(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n7e(e,{referrerPolicy:t,crossOrigin:r}){const n=QUe(),a=_.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=_.useState(()=>eq(i,e));return As(()=>{l(eq(i,e))},[i,e]),As(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Fce=Oce,Lce=Dce,$ce=Mce;const Bce=_.forwardRef(({className:e,...t},r)=>s.jsx(Fce,{ref:r,className:ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Bce.displayName=Fce.displayName;const s7e=_.forwardRef(({className:e,...t},r)=>s.jsx(Lce,{ref:r,className:ut("aspect-square h-full w-full",e),...t}));s7e.displayName=Lce.displayName;const Uce=_.forwardRef(({className:e,...t},r)=>s.jsx($ce,{ref:r,className:ut("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Uce.displayName=$ce.displayName;var dk="Tabs",[a7e]=Vs(dk,[sx]),Vce=sx(),[i7e,L6]=a7e(dk),zce=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=zf(l),[f,m]=Si({prop:n,onChange:a,defaultProp:i??"",caller:dk});return s.jsx(i7e,{scope:r,baseId:mo(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(Tt.div,{dir:d,"data-orientation":o,...u,ref:t})})});zce.displayName=dk;var qce="TabsList",Wce=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=L6(qce,r),o=Vce(r);return s.jsx(n5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Tt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Wce.displayName=qce;var Hce="TabsTrigger",Gce=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=L6(Hce,r),l=Vce(r),c=Xce(o.baseId,n),u=Jce(o.baseId,n),d=n===o.value;return s.jsx(s5,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ft(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ft(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ft(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Gce.displayName=Hce;var Kce="TabsContent",Yce=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=L6(Kce,r),c=Xce(l.baseId,n),u=Jce(l.baseId,n),d=n===l.value,f=_.useRef(d);return _.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ca,{present:a||d,children:({present:m})=>s.jsx(Tt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Yce.displayName=Kce;function Xce(e,t){return`${e}-trigger-${t}`}function Jce(e,t){return`${e}-content-${t}`}var o7e=zce,Zce=Wce,Qce=Gce,eue=Yce;const Qu=o7e,nu=_.forwardRef(({className:e,...t},r)=>s.jsx(Zce,{ref:r,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));nu.displayName=Zce.displayName;const hn=_.forwardRef(({className:e,...t},r)=>s.jsx(Qce,{ref:r,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));hn.displayName=Qce.displayName;const mn=_.forwardRef(({className:e,...t},r)=>s.jsx(eue,{ref:r,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mn.displayName=eue.displayName;function l7e({subscription:e,open:t,onClose:r,onSuccess:n}){const[a,i]=_.useState(!1),[o,l]=_.useState(!0),c=async()=>{try{if(i(!0),console.log("Subscription object:",e),console.log("Subscription ID:",e?.id),!e?.id)throw new Error("Subscription ID is missing. Please refresh the page and try again.");const f=new Date,m=new Date;e.billing_cycle==="yearly"?m.setFullYear(m.getFullYear()+1):m.setMonth(m.getMonth()+1);const p={status:"active",current_period_start:f.toISOString(),current_period_end:m.toISOString(),next_billing_at:m.toISOString(),updated_at:new Date().toISOString()};o&&(p.whatsapp_orders_used=0,p.website_orders_used=0);const{error:y}=await Z.from("subscriptions").update(p).eq("id",e.id);if(y)throw y;Fe({title:"Success",description:"Subscription renewed successfully"}),n(),r()}catch(f){console.error("Error renewing subscription:",f),Fe({title:"Error",description:f.message||"Failed to renew subscription",variant:"destructive"})}finally{i(!1)}};if(!e)return null;const u=e.status==="expired"||e.status==="pending_payment",d={whatsapp:e.whatsapp_orders_used||0,website:e.website_orders_used||0};return s.jsx(Sn,{open:t,onOpenChange:r,children:s.jsxs(yn,{className:"sm:max-w-[500px]",children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Renew Subscription"}),s.jsx(ps,{children:"Manually renew the subscription for this user"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Kr,{className:u?"border-red-500":"",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx(Yr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Plan:"}),s.jsx("span",{children:e.plan?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx("span",{className:"capitalize",children:e.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Current Period End:"}),s.jsx("span",{children:e.current_period_end?new Date(e.current_period_end).toLocaleDateString():"N/A"})]})]})})]}),s.jsx(Kr,{children:s.jsx(Yr,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Current Order Usage:"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"WhatsApp Orders:"}),s.jsx("span",{className:"font-mono",children:d.whatsapp})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Website Orders:"}),s.jsx("span",{className:"font-mono",children:d.website})]})]})})}),s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-md border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"reset-counters",className:"font-medium",children:"Reset Order Counters"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset WhatsApp and Website order counts to 0"})]}),s.jsx(Wr,{id:"reset-counters",checked:o,onCheckedChange:l})]}),s.jsxs(Kr,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),s.jsxs(Yr,{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"After Renewal:"}),s.jsxs("ul",{className:"text-green-800 dark:text-green-200 space-y-1",children:[s.jsx("li",{children:" Status will be set to 'active'"}),s.jsxs("li",{children:[" New period: ",new Date().toLocaleDateString()," -"," ",e.billing_cycle==="yearly"?new Date(Date.now()+365*24*60*60*1e3).toLocaleDateString():new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),o&&s.jsx("li",{children:" Order counters will be reset to 0"}),!o&&s.jsx("li",{children:" Order counters will remain unchanged"})]})]})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:a,children:"Cancel"}),s.jsxs(ae,{onClick:c,disabled:a,children:[a&&s.jsx(Gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Subscription"]})]})]})})}function tue({open:e,onOpenChange:t,userId:r,userEmail:n,currentSubscription:a,onSuccess:i}){const[o,l]=_.useState([]),[c,u]=_.useState(""),[d,f]=_.useState("monthly"),[m,p]=_.useState("trial"),[y,g]=_.useState(14),[v,w]=_.useState(!1);_.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:S,error:C}=await Z.from("subscription_plans").select("id, name, trial_days").eq("is_active",!0).order("display_order");if(C)throw C;l(S||[])}catch(S){Fe({title:"Error",description:S.message,variant:"destructive"})}},j=S=>{u(S);const C=o.find(k=>k.id===S);C&&g(C.trial_days||14)},E=async()=>{if(!c){Fe({title:"Error",description:"Please select a plan",variant:"destructive"});return}try{w(!0);const S=new Date;let C=new Date;m==="trial"?C.setDate(C.getDate()+y):m==="active"?d==="monthly"?C.setMonth(C.getMonth()+1):C.setFullYear(C.getFullYear()+1):C=new Date(S.getTime()-864e5);const k=m==="trial"?new Date(S.getTime()+y*864e5):null,R=m==="active"?new Date(C.getTime()):null,{data:O}=await Z.from("subscriptions").select("id").eq("user_id",r).maybeSingle(),A={plan_id:c,billing_cycle:d,status:m,current_period_start:S.toISOString(),current_period_end:C.toISOString(),trial_ends_at:k?.toISOString()||null,next_billing_at:R?.toISOString()||null,started_at:S.toISOString()};if(O){const{error:P}=await Z.from("subscriptions").update({...A,updated_at:S.toISOString()}).eq("id",O.id);if(P)throw P}else{const{error:P}=await Z.from("subscriptions").insert({user_id:r,...A});if(P)throw P}Fe({title:"Success",description:`Subscription plan assigned to ${n}`}),i(),t(!1)}catch(S){Fe({title:"Error",description:S.message,variant:"destructive"})}finally{w(!1)}};return s.jsx(Sn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"max-w-md",children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Assign Subscription Plan"}),s.jsxs(ps,{children:["Assign or update subscription plan for ",n,a&&s.jsxs("span",{className:"block mt-2 text-sm",children:["Current: ",a.plan.name," (",a.status,")"]})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Select Plan"}),s.jsxs(yr,{value:c,onValueChange:j,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Choose a plan"})}),s.jsx(hr,{children:o.map(S=>s.jsx(Ke,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Status"}),s.jsxs(yr,{value:m,onValueChange:p,children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"trial",children:"Trial"}),s.jsx(Ke,{value:"active",children:"Active"}),s.jsx(Ke,{value:"expired",children:"Expired"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Billing Cycle"}),s.jsxs(yr,{value:d,onValueChange:f,children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"monthly",children:"Monthly"}),s.jsx(Ke,{value:"yearly",children:"Yearly"})]})]})]}),m==="trial"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Trial Days"}),s.jsx(Ve,{type:"number",value:y,onChange:S=>g(parseInt(S.target.value)),min:0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ae,{onClick:E,disabled:v,children:v?"Assigning...":"Assign Plan"})]})]})})}function c7e({user:e,open:t,onClose:r,onRefresh:n}){const[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState("");_.useEffect(()=>{if(!e?.subscription)return;const g=()=>{const w=e.subscription.status==="trial"?e.subscription.trial_ends_at:e.subscription.current_period_end;if(!w)return"";const b=new Date().getTime(),E=new Date(w).getTime()-b;if(E<=0)return"Expired";const S=Math.floor(E/(1e3*60*60*24)),C=Math.floor(E%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(E%(1e3*60*60)/(1e3*60)),R=Math.floor(E%(1e3*60)/1e3);return`${S}d ${C}h ${k}m ${R}s`};f(g());const v=setInterval(()=>{f(g())},1e3);return()=>clearInterval(v)},[e?.subscription]);const m=g=>{navigator.clipboard.writeText(g),Fe({title:"Copied",description:"Copied to clipboard"})},p=async()=>{try{console.log("Attempting to login as user:",e.id,e.email);const{data:g,error:v}=await Z.functions.invoke("login-as-user",{body:{user_id:e.id}});if(console.log("Edge function response:",{data:g,error:v}),v){if(console.error("Edge function error:",v),v.context?.body){const w=await v.context.text();console.error("Response body:",w);try{const b=JSON.parse(w);if(b.error)throw new Error(b.error)}catch(b){console.error("Could not parse response:",b)}}throw v}if(g?.error)throw console.error("Error from edge function:",g.error),new Error(g.error);if(g?.access_token){const{data:w}=await Z.auth.getSession();if(w.session){const b={...w.session,saved_at:Date.now(),user_id:w.session.user.id,reason:"impersonation"};localStorage.setItem("superadmin_session",JSON.stringify(b))}await Z.auth.setSession({access_token:g.access_token,refresh_token:g.refresh_token}),Fe({title:"Success",description:`Logged in as ${e.email}`}),window.location.href="/admin/dashboard"}else throw new Error("No access token received from edge function")}catch(g){console.error("Login as user error:",g),Fe({title:"Error",description:g.message||"Failed to login as user",variant:"destructive"})}},y=async()=>{if(!e.subscription){Fe({title:"Error",description:"No active subscription to cancel",variant:"destructive"});return}if(confirm(`Are you sure you want to cancel the subscription for ${e.email}?

Plan: ${e.subscription.plan.name}
Status: ${e.subscription.status}

This action will cancel their subscription immediately.`))try{u(!0);const{error:v}=await Z.from("subscriptions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.subscription.id);if(v)throw v;Fe({title:"Success",description:`Subscription cancelled for ${e.email}`}),n(),setTimeout(()=>{r()},1e3)}catch(v){console.error("Cancel subscription error:",v),Fe({title:"Error",description:v.message||"Failed to cancel subscription",variant:"destructive"})}finally{u(!1)}};return s.jsxs(Sn,{open:t,onOpenChange:r,children:[s.jsxs(yn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":void 0,children:[s.jsx(kn,{children:s.jsxs(Cn,{children:["User Details - ",e.email]})}),s.jsxs(Qu,{defaultValue:"overview",className:"w-full",children:[s.jsxs(nu,{className:"grid w-full grid-cols-4",children:[s.jsx(hn,{value:"overview",children:"Overview"}),s.jsx(hn,{value:"subscription",children:"Subscription"}),s.jsx(hn,{value:"store",children:"Store Details"}),s.jsx(hn,{value:"activity",children:"Activity Log"})]}),s.jsxs(mn,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Account Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-mono text-sm",children:[e.id.slice(0,8),"..."]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>m(e.id),children:s.jsx(sc,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:e.full_name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:e.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),e.store?.whatsapp_number&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.whatsapp_number}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>m(e.store.whatsapp_number),children:s.jsx(sc,{className:"w-4 h-4"})})]})]})]})]}),e.store&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Store Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Slug"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:e.store.slug}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${e.store.slug}`,"_blank"),children:s.jsx(ya,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ae,{onClick:p,children:[s.jsx($f,{className:"w-4 h-4 mr-2"}),"Login as User"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(xc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsxs(ae,{variant:"destructive",children:[s.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),s.jsx(mn,{value:"subscription",className:"space-y-6",children:e.subscription?s.jsxs(s.Fragment,{children:[d&&d!=="Expired"&&s.jsx("div",{className:`relative overflow-hidden rounded-lg border ${e.subscription.status==="trial"?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30"} backdrop-blur-sm`,children:s.jsxs("div",{className:"p-4 flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${e.subscription.status==="trial"?"bg-blue-500/20":"bg-green-500/20"}`,children:s.jsx(ys,{className:`w-6 h-6 ${e.subscription.status==="trial"?"text-blue-400":"text-green-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:e.subscription.status==="trial"?"Trial Period":"Active Subscription"}),s.jsx(wt,{variant:"outline",className:`text-xs ${e.subscription.status==="trial"?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"}`,children:e.subscription.status==="trial"?"Trial":"Paid"})]}),s.jsx("p",{className:"text-xl font-semibold mb-1",children:e.subscription.status==="trial"?`Ends in ${d}`:`Renews in ${d}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.subscription.status==="trial"?"Trial will expire on "+new Date(e.subscription.trial_ends_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Next billing on "+new Date(e.subscription.current_period_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Current Subscription"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Plan"}),s.jsx(wt,{variant:"outline",children:e.subscription.plan.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(wt,{className:e.subscription.status==="active"?"bg-green-500":e.subscription.status==="trial"?"bg-orange-500":"bg-gray-500",children:e.subscription.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing Cycle"}),s.jsx("p",{className:"font-medium capitalize",children:e.subscription.billing_cycle})]}),e.subscription.started_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Started On"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.started_at).toLocaleDateString()})]}),e.subscription.current_period_start&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period Start"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_start).toLocaleDateString()})]}),e.subscription.current_period_end&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period End"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_end).toLocaleDateString()})]}),e.subscription.trial_ends_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),s.jsx("p",{className:"font-medium",children:new Date(e.subscription.trial_ends_at).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{onClick:()=>i(!0),variant:"default",children:[s.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]}),s.jsx(ae,{variant:"outline",onClick:()=>l(!0),children:"Change Plan"}),s.jsx(ae,{variant:"destructive",onClick:y,disabled:c,children:c?"Cancelling...":"Cancel Subscription"})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No active subscription"})})}),s.jsx(mn,{value:"store",className:"space-y-6",children:e.store?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),s.jsx("p",{className:"font-medium",children:e.store.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Slug"}),s.jsx("p",{className:"font-medium",children:e.store.slug})]})]}),s.jsx(ae,{children:"Edit Store Settings"})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No store created"})})}),s.jsx(mn,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Activity log will be shown here"})})})]})]}),e.subscription&&s.jsx(l7e,{subscription:e.subscription,open:a,onClose:()=>i(!1),onSuccess:n}),s.jsx(tue,{open:o,onOpenChange:l,userId:e.id,userEmail:e.email,currentSubscription:e.subscription,onSuccess:n})]})}function u7e({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(!1),d=async()=>{try{u(!0),Fe({title:"Feature Not Available",description:"Account suspension requires database migration. Coming soon.",variant:"destructive"}),r()}catch(f){Fe({title:"Error",description:f.message,variant:"destructive"})}finally{u(!1)}};return s.jsx(Sn,{open:t,onOpenChange:r,children:s.jsxs(yn,{children:[s.jsx(kn,{children:s.jsx(Cn,{children:"Suspend Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx(Bi,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Warning"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Suspending this account will prevent the user from logging in and make their store inaccessible."})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"reason",children:"Reason for Suspension"}),s.jsxs(yr,{value:a,onValueChange:i,children:[s.jsx(fr,{id:"reason",children:s.jsx(br,{placeholder:"Select a reason"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"violation",children:"Policy Violation"}),s.jsx(Ke,{value:"non-payment",children:"Non-payment"}),s.jsx(Ke,{value:"fraud",children:"Fraudulent Activity"}),s.jsx(Ke,{value:"spam",children:"Spam"}),s.jsx(Ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"notes",children:"Internal Notes"}),s.jsx(ja,{id:"notes",placeholder:"Add any additional notes about this suspension...",value:o,onChange:f=>l(f.target.value),rows:4})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:d,disabled:!a||c,children:c?"Suspending...":"Confirm Suspend"})]})]})})}function d7e({user:e,open:t,onClose:r,onSuccess:n}){const[a,i]=_.useState(""),[o,l]=_.useState(!1),c=async()=>{if(a!=="DELETE"){Fe({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:u,error:d}=await Z.functions.invoke("delete-user-account",{body:{userId:e.id}});if(d)throw d;if(!u.success)throw new Error(u.error||"Failed to delete user account");Fe({title:"Account Completely Deleted",description:`${e.email}'s account, all data, and authentication records have been permanently deleted`}),n(),r()}catch(u){Fe({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"})}finally{l(!1)}};return s.jsx(Sn,{open:t,onOpenChange:r,children:s.jsxs(yn,{children:[s.jsx(kn,{children:s.jsx(Cn,{children:"Delete Account"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(ra,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Permanent Action"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. All data will be permanently deleted."})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"What will be deleted:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Authentication credentials (cannot login anymore)"}),s.jsx("li",{children:"User account and profile"}),s.jsx("li",{children:"Store data and settings"}),s.jsx("li",{children:"All products"}),s.jsx("li",{children:"Subscription history"}),s.jsx("li",{children:"All transactions"}),s.jsx("li",{children:"Files and assets"})]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"confirmation",children:["Type ",s.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm"]}),s.jsx(Ve,{id:"confirmation",value:a,onChange:u=>i(u.target.value),placeholder:"Type DELETE here"})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:c,disabled:a!=="DELETE"||o,children:o?"Deleting...":"Permanently Delete"})]})]})})}function dn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function f7e(e,t){const r=dn(e);return isNaN(t)?wc(e,NaN):(r.setDate(r.getDate()+t),r)}function h7e(e,t){const r=dn(e);if(isNaN(t))return wc(e,NaN);if(!t)return r;const n=r.getDate(),a=wc(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const rue=6048e5,m7e=864e5,ej=43200,tq=1440;let p7e={};function Jw(){return p7e}function Eb(e,t){const r=Jw(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=dn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ZN(e){return Eb(e,{weekStartsOn:1})}function nue(e){const t=dn(e),r=t.getFullYear(),n=wc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ZN(n),i=wc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ZN(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function rq(e){const t=dn(e);return t.setHours(0,0,0,0),t}function QN(e){const t=dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function sue(e,t){const r=rq(e),n=rq(t),a=+r-QN(r),i=+n-QN(n);return Math.round((a-i)/m7e)}function g7e(e){const t=nue(e),r=wc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ZN(r)}function zj(e,t){const r=dn(e),n=dn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function x7e(e){return wc(e,Date.now())}function v7e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function y7e(e){if(!v7e(e)&&typeof e!="number")return!1;const t=dn(e);return!isNaN(Number(t))}function b7e(e,t){const r=dn(e),n=dn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function eS(e,t){const r=dn(e),n=dn(t),a=nq(r,n),i=Math.abs(sue(r,n));r.setDate(r.getDate()-a*i);const o=+(nq(r,n)===-a),l=a*(i-o);return l===0?0:l}function nq(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function w7e(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function _7e(e,t){return+dn(e)-+dn(t)}function j7e(e){const t=dn(e);return t.setHours(23,59,59,999),t}function aue(e){const t=dn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function N7e(e){const t=dn(e);return+j7e(t)==+aue(t)}function S7e(e,t){const r=dn(e),n=dn(t),a=zj(r,n),i=Math.abs(b7e(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=zj(r,n)===-a;N7e(dn(e))&&i===1&&zj(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function k7e(e,t,r){const n=_7e(e,t)/1e3;return w7e(r?.roundingMethod)(n)}function sq(e){const t=dn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function C7e(e){const t=dn(e),r=wc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const E7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T7e=(e,t,r)=>{let n;const a=E7e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function mA(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const A7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R7e={date:mA({formats:A7e,defaultWidth:"full"}),time:mA({formats:P7e,defaultWidth:"full"}),dateTime:mA({formats:O7e,defaultWidth:"full"})},D7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I7e=(e,t,r,n)=>D7e[e];function gv(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const M7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},L7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},z7e={ordinalNumber:V7e,era:gv({values:M7e,defaultWidth:"wide"}),quarter:gv({values:F7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gv({values:L7e,defaultWidth:"wide"}),day:gv({values:$7e,defaultWidth:"wide"}),dayPeriod:gv({values:B7e,defaultWidth:"wide",formattingValues:U7e,defaultFormattingWidth:"wide"})};function xv(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?W7e(l,f=>f.test(o)):q7e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function q7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function W7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function H7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const G7e=/^(\d+)(th|st|nd|rd)?/i,K7e=/\d+/i,Y7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X7e={any:[/^b/i,/^(a|c)/i]},J7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z7e={any:[/1/i,/2/i,/3/i,/4/i]},Q7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eVe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tVe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rVe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nVe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sVe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aVe={ordinalNumber:H7e({matchPattern:G7e,parsePattern:K7e,valueCallback:e=>parseInt(e,10)}),era:xv({matchPatterns:Y7e,defaultMatchWidth:"wide",parsePatterns:X7e,defaultParseWidth:"any"}),quarter:xv({matchPatterns:J7e,defaultMatchWidth:"wide",parsePatterns:Z7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xv({matchPatterns:Q7e,defaultMatchWidth:"wide",parsePatterns:eVe,defaultParseWidth:"any"}),day:xv({matchPatterns:tVe,defaultMatchWidth:"wide",parsePatterns:rVe,defaultParseWidth:"any"}),dayPeriod:xv({matchPatterns:nVe,defaultMatchWidth:"any",parsePatterns:sVe,defaultParseWidth:"any"})},iue={code:"en-US",formatDistance:T7e,formatLong:R7e,formatRelative:I7e,localize:z7e,match:aVe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iVe(e){const t=dn(e);return sue(t,C7e(t))+1}function oVe(e){const t=dn(e),r=+ZN(t)-+g7e(t);return Math.round(r/rue)+1}function oue(e,t){const r=dn(e),n=r.getFullYear(),a=Jw(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=wc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Eb(o,t),c=wc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Eb(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function lVe(e,t){const r=Jw(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=oue(e,t),i=wc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Eb(i,t)}function cVe(e,t){const r=dn(e),n=+Eb(r,t)-+lVe(r,t);return Math.round(n/rue)+1}function jn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const $d={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return jn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):jn(r+1,2)},d(e,t){return jn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return jn(e.getHours()%12||12,t.length)},H(e,t){return jn(e.getHours(),t.length)},m(e,t){return jn(e.getMinutes(),t.length)},s(e,t){return jn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return jn(a,t.length)}},ng={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aq={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return $d.y(e,t)},Y:function(e,t,r,n){const a=oue(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return jn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):jn(i,t.length)},R:function(e,t){const r=nue(e);return jn(r,t.length)},u:function(e,t){const r=e.getFullYear();return jn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return jn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return jn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return $d.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return jn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=cVe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):jn(a,t.length)},I:function(e,t,r){const n=oVe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):jn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):$d.d(e,t)},D:function(e,t,r){const n=iVe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):jn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return jn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return jn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return jn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ng.noon:n===0?a=ng.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ng.evening:n>=12?a=ng.afternoon:n>=4?a=ng.morning:a=ng.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return $d.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):$d.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):jn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):jn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):$d.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):$d.s(e,t)},S:function(e,t){return $d.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return oq(n);case"XXXX":case"XX":return Eh(n);case"XXXXX":case"XXX":default:return Eh(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return oq(n);case"xxxx":case"xx":return Eh(n);case"xxxxx":case"xxx":default:return Eh(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iq(n,":");case"OOOO":default:return"GMT"+Eh(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iq(n,":");case"zzzz":default:return"GMT"+Eh(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return jn(n,t.length)},T:function(e,t,r){const n=e.getTime();return jn(n,t.length)}};function iq(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+jn(i,2)}function oq(e,t){return e%60===0?(e>0?"-":"+")+jn(Math.abs(e)/60,2):Eh(e,t)}function Eh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=jn(Math.trunc(n/60),2),i=jn(n%60,2);return r+a+t+i}const lq=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},lue=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uVe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return lq(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",lq(n,t)).replace("{{time}}",lue(a,t))},dVe={p:lue,P:uVe},fVe=/^D+$/,hVe=/^Y+$/,mVe=["D","DD","YY","YYYY"];function pVe(e){return fVe.test(e)}function gVe(e){return hVe.test(e)}function xVe(e,t,r){const n=vVe(e,t,r);if(console.warn(n),mVe.includes(e))throw new RangeError(n)}function vVe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yVe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bVe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wVe=/^'([^]*?)'?$/,_Ve=/''/g,jVe=/[a-zA-Z]/;function _r(e,t,r){const n=Jw(),a=n.locale??iue,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=dn(e);if(!y7e(l))throw new RangeError("Invalid time value");let c=t.match(bVe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=dVe[f];return m(d,a.formatLong)}return d}).join("").match(yVe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:NVe(d)};if(aq[f])return{isToken:!0,value:d};if(f.match(jVe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(gVe(f)||pVe(f))&&xVe(f,t,String(e));const m=aq[f[0]];return m(l,f,a.localize,u)}).join("")}function NVe(e){const t=e.match(wVe);return t?t[1].replace(_Ve,"'"):e}function SVe(e,t,r){const n=Jw(),a=r?.locale??n.locale??iue,i=2520,o=zj(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=dn(t),u=dn(e)):(c=dn(e),u=dn(t));const d=k7e(u,c),f=(QN(u)-QN(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<tq){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<ej){const y=Math.round(m/tq);return a.formatDistance("xDays",y,l)}else if(m<ej*2)return p=Math.round(m/ej),a.formatDistance("aboutXMonths",p,l)}if(p=S7e(u,c),p<12){const y=Math.round(m/ej);return a.formatDistance("xMonths",y,l)}else{const y=p%12,g=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",g,l):y<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Xg(e,t){return SVe(e,x7e(e),t)}function kVe(e,t){return h7e(e,-t)}function CVe(){const e=wr(),[t,r]=_.useState([]),[n,a]=_.useState({totalUsers:0,activeStores:0,trialUsers:0,paidUsers:0,expired:0,cancelled:0,inactiveStores:0,noStore:0}),[i,o]=_.useState(!0),[l,c]=_.useState(""),[u,d]=_.useState("all"),[f,m]=_.useState("all"),[p,y]=_.useState("all"),[g,v]=_.useState("newest"),[w,b]=_.useState([]),[j,E]=_.useState(1),[S,C]=_.useState(50),[k,R]=_.useState(0),[O,A]=_.useState(1),[P,D]=_.useState(null),[F,L]=_.useState(!1),[H,W]=_.useState(!1),[G,K]=_.useState(!1),[I,B]=_.useState(!1),[Y,z]=_.useState(!1);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){J(),X();return}const{data:{user:Ee}}=await Z.auth.getUser();if(!Ee){Fe({title:"Access Denied",description:"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}const{data:ie,error:qe}=await Z.from("user_roles").select("role").eq("user_id",Ee.id).eq("role","super_admin");if(qe||!ie||ie.length===0){Fe({title:"Access Denied",description:qe?.message||"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}J(),X()})()},[e]);const J=async(oe=j)=>{try{o(!0);const{data:{session:Se}}=await Z.auth.getSession();if(!Se?.access_token)throw new Error("Not authenticated");const Ee=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/get-all-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Se.access_token}`},body:JSON.stringify({page:oe,perPage:S})});if(!Ee.ok){const qe=await Ee.json();throw new Error(qe.error||"Failed to fetch users")}const ie=await Ee.json();r(ie.users||[]),R(ie.pagination?.totalCount||0),A(ie.pagination?.totalPages||1),E(ie.pagination?.page||1),ie.pagination?.totalCount!==void 0&&a(qe=>({...qe,totalUsers:ie.pagination.totalCount}))}catch(Se){console.error("Error fetching users:",Se),Fe({title:"Error",description:Se.message,variant:"destructive"})}finally{o(!1)}},X=async()=>{try{const{data:oe}=await Z.from("profiles").select("user_id"),{data:Se}=await Z.from("user_roles").select("user_id").eq("role","super_admin"),Ee=new Set(Se?.map(Ie=>Ie.user_id)||[]),ie=(oe||[]).filter(Ie=>!Ee.has(Ie.user_id)).length,{count:qe}=await Z.from("stores").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:He}=await Z.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","trial"),{count:de}=await Z.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{count:we}=await Z.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","expired"),{count:Oe}=await Z.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","cancelled"),Ye=new Date;Ye.setDate(Ye.getDate()-60);const{data:Je}=await Z.from("stores").select("id, last_admin_visit");let Ne=0;if(Je)for(const Ie of Je){const{data:De}=await Z.from("orders").select("id").eq("store_id",Ie.id).gte("created_at",Ye.toISOString()).limit(1),le=De&&De.length>0,Re=Ie.last_admin_visit&&new Date(Ie.last_admin_visit)>=Ye;!le&&!Re&&Ne++}const{data:te}=await Z.from("stores").select("user_id"),_e=new Set(te?.map(Ie=>Ie.user_id)||[]),pe=(oe||[]).filter(Ie=>!_e.has(Ie.user_id)&&!Ee.has(Ie.user_id)).length;a({totalUsers:ie,activeStores:qe||0,trialUsers:He||0,paidUsers:de||0,expired:we||0,cancelled:Oe||0,inactiveStores:Ne,noStore:pe})}catch(oe){console.error("Error fetching stats:",oe)}},ee=t.filter(oe=>{const Se=oe.email.toLowerCase().includes(l.toLowerCase())||oe.store?.name?.toLowerCase().includes(l.toLowerCase())||oe.store?.slug?.toLowerCase().includes(l.toLowerCase()),Ee=u==="all"||oe.subscription?.plan?.name?.toLowerCase()===u.toLowerCase(),ie=f==="all"||oe.subscription?.status===f;return Se&&Ee&&ie&&(()=>{if(p==="all")return!0;if(p==="no-store")return!oe.store;if(p==="inactive"){if(!oe.store)return!1;const He=new Date;He.setDate(He.getDate()-60);const de=oe.lastOrderDate&&new Date(oe.lastOrderDate)>=He,we=oe.store.last_admin_visit&&new Date(oe.store.last_admin_visit)>=He;return!de&&!we}if(p==="active"){if(!oe.store)return!1;const He=new Date;He.setDate(He.getDate()-60);const de=oe.lastOrderDate&&new Date(oe.lastOrderDate)>=He,we=oe.store.last_admin_visit&&new Date(oe.store.last_admin_visit)>=He;return de||we}return!0})()}),fe=[...ee].sort((oe,Se)=>{switch(g){case"newest":return new Date(Se.created_at).getTime()-new Date(oe.created_at).getTime();case"oldest":return new Date(oe.created_at).getTime()-new Date(Se.created_at).getTime();case"name":return(oe.full_name||oe.email).localeCompare(Se.full_name||Se.email);default:return 0}}),ge=oe=>{oe>=1&&oe<=O&&oe!==j&&J(oe)},U=oe=>{b(oe?fe.map(Se=>Se.id):[])},ne=(oe,Se)=>{b(Se?[...w,oe]:w.filter(Ee=>Ee!==oe))},Q=async()=>{try{const oe=await Qm(()=>Promise.resolve().then(()=>Nie),void 0),Se=await Promise.all(ee.map(async He=>{let de=null;if(He.store?.id){const{data:we}=await Z.from("stores").select("whatsapp_number, description, hero_banner_url, logo_url, custom_domain, social_links").eq("id",He.store.id).single();de=we}return{"User ID":He.id,Email:He.email,"Full Name":He.full_name||"N/A",Phone:He.phone||"N/A","Store Name":He.store?.name||"No Store","Store Slug":He.store?.slug||"N/A","Store WhatsApp":de?.whatsapp_number||"N/A","Store Description":de?.description||"N/A","Custom Domain":de?.custom_domain||"N/A","Store Logo":de?.logo_url||"N/A","Hero Banner":de?.hero_banner_url||"N/A","Social Links":de?.social_links?JSON.stringify(de.social_links):"N/A","Total Orders":He.orderCount,"Total Revenue":`${He.totalRevenue}`,"Last Order Date":He.lastOrderDate?new Date(He.lastOrderDate).toLocaleString():"No orders","Last Admin Visit":He.store?.last_admin_visit?new Date(He.store.last_admin_visit).toLocaleString():"No visits","Subscription Plan":He.subscription?.plan?.name||"Free","Plan Status":He.subscription?.status||"None","Billing Cycle":He.subscription?.billing_cycle||"N/A","Trial Ends":He.subscription?.trial_ends_at?new Date(He.subscription.trial_ends_at).toLocaleDateString():"N/A","Joined Date":new Date(He.created_at).toLocaleString()}})),Ee=oe.utils.json_to_sheet(Se),ie=[{wch:36},{wch:30},{wch:20},{wch:15},{wch:25},{wch:20},{wch:15},{wch:40},{wch:25},{wch:50},{wch:50},{wch:30},{wch:12},{wch:15},{wch:20},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:20}];Ee["!cols"]=ie;const qe=oe.utils.book_new();oe.utils.book_append_sheet(qe,Ee,"Users"),oe.writeFile(qe,`users_export_${new Date().toISOString().split("T")[0]}.xlsx`),Fe({title:"Success",description:`Exported ${Se.length} users to Excel`})}catch(oe){Fe({title:"Export Failed",description:oe.message,variant:"destructive"})}},V=async()=>{try{B(!0);const oe=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/sync-missing-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(!oe.ok)throw new Error("Failed to sync profiles");const Se=await oe.json();Fe({title:"Success",description:Se.message+(Se.count>0?` (${Se.count} profiles synced)`:"")}),Se.count>0&&J()}catch(oe){Fe({title:"Error",description:oe.message,variant:"destructive"})}finally{B(!1)}},ue=oe=>{if(!oe)return s.jsx(wt,{variant:"secondary",children:"No Plan"});const{status:Se,trial_ends_at:Ee}=oe;if(Se==="active")return s.jsx(wt,{className:"bg-green-500",children:"Active"});if(Se==="trial"){const ie=Ee?Math.ceil((new Date(Ee).getTime()-new Date().getTime())/864e5):0;return s.jsxs(wt,{variant:"outline",className:"border-orange-500 text-orange-500",children:["Trial (",ie,"d left)"]})}else{if(Se==="expired")return s.jsx(wt,{variant:"destructive",children:"Expired"});if(Se==="cancelled")return s.jsx(wt,{variant:"secondary",children:"Cancelled"})}return s.jsx(wt,{variant:"secondary",children:Se})};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Users & Stores Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all users and their stores"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ae,{children:[s.jsx(GJ,{className:"w-4 h-4 mr-2"}),"Manually Add User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.totalUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Stores"}),s.jsx("p",{className:"text-2xl font-bold",children:n.activeStores})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-yellow-500 cursor-pointer",onClick:()=>y("no-store"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No Store"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.noStore}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Not created store"})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.trialUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Users"}),s.jsx("p",{className:"text-2xl font-bold",children:n.paidUsers})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),s.jsx("p",{className:"text-2xl font-bold",children:n.expired})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),s.jsx("p",{className:"text-2xl font-bold",children:n.cancelled})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border border-orange-500 cursor-pointer",onClick:()=>y("inactive"),children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:n.inactiveStores}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No activity in 60 days"})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-lg border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsx(Ve,{placeholder:"Search by email, store name, or slug",value:l,onChange:oe=>c(oe.target.value),className:"w-full"})}),s.jsxs(yr,{value:u,onValueChange:d,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"All Plans"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Plans"}),s.jsx(Ke,{value:"free",children:"Free"}),s.jsx(Ke,{value:"starter",children:"Starter"}),s.jsx(Ke,{value:"pro",children:"Pro"}),s.jsx(Ke,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(yr,{value:f,onValueChange:m,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"All Status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"active",children:"Active"}),s.jsx(Ke,{value:"trial",children:"Trial"}),s.jsx(Ke,{value:"expired",children:"Expired"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(yr,{value:p,onValueChange:oe=>y(oe),children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Activity"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Users"}),s.jsx(Ke,{value:"no-store",children:"No Store Created"}),s.jsx(Ke,{value:"active",children:"Active (recent orders)"}),s.jsx(Ke,{value:"inactive",children:"Inactive (60+ days)"})]})]}),s.jsxs(yr,{value:g,onValueChange:v,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Sort by"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"newest",children:"Newest First"}),s.jsx(Ke,{value:"oldest",children:"Oldest First"}),s.jsx(Ke,{value:"name",children:"Name A-Z"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:()=>{J(),X()},disabled:i,children:[s.jsx(Ki,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh Data"]}),s.jsxs(ae,{variant:"outline",onClick:V,disabled:I,children:[s.jsx(Ki,{className:`w-4 h-4 mr-2 ${I?"animate-spin":""}`}),"Sync Profiles"]}),s.jsxs(ae,{variant:"outline",onClick:Q,children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),w.length>0&&s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:[w.length," users selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Export Selected"]}),s.jsx(ae,{variant:"outline",size:"sm",children:"Change Plan"}),s.jsx(ae,{variant:"outline",size:"sm",children:"Suspend"}),s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(xc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>b([]),children:"Deselect All"})]})]}),s.jsxs("div",{className:"bg-card rounded-lg border",children:[s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-12",children:s.jsx(mi,{checked:fe.length>0&&w.length===fe.length,onCheckedChange:U})}),s.jsx(tt,{children:"User Info"}),s.jsx(tt,{children:"Store Info"}),s.jsx(tt,{children:"Revenue"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Created Date"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:i?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):fe.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:8,className:"text-center py-8",children:"No users found"})}):fe.map(oe=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(mi,{checked:w.includes(oe.id),onCheckedChange:Se=>ne(oe.id,Se)})}),s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bce,{children:s.jsx(Uce,{children:oe.email[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:oe.email}),oe.full_name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:oe.full_name}),oe.phone&&s.jsx("p",{className:"text-xs text-muted-foreground",children:oe.phone})]})]})}),s.jsx(Xe,{children:oe.store?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:oe.store.name}),(()=>{const Se=new Date;Se.setDate(Se.getDate()-60);const Ee=oe.lastOrderDate&&new Date(oe.lastOrderDate)>=Se,ie=oe.store.last_admin_visit&&new Date(oe.store.last_admin_visit)>=Se;if(!Ee&&!ie){const He=[oe.lastOrderDate,oe.store.last_admin_visit].filter(Boolean).map(we=>new Date(we)).sort((we,Oe)=>Oe.getTime()-we.getTime())[0],de=He?Math.floor((Date.now()-He.getTime())/(1e3*60*60*24)):null;return s.jsxs(wt,{variant:"outline",className:"border-orange-500 text-orange-500 text-xs",children:["Inactive ",de?`${de}d`:""]})}return null})()]}),s.jsxs("a",{href:`/${oe.store.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[oe.store.slug,s.jsx(ya,{className:"h-3 w-3"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[oe.orderCount," orders",oe.lastOrderDate&&s.jsxs(s.Fragment,{children:["  Last: ",Xg(new Date(oe.lastOrderDate),{addSuffix:!0})]}),!oe.lastOrderDate&&s.jsx(s.Fragment,{children:"  No orders yet"})]}),oe.store.last_admin_visit&&s.jsxs("p",{children:["Admin visit: ",Xg(new Date(oe.store.last_admin_visit),{addSuffix:!0})]}),!oe.store.last_admin_visit&&s.jsx("p",{children:"No admin visits tracked"})]})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(wt,{variant:"outline",className:"border-yellow-500 text-yellow-600 bg-yellow-50",children:"No Store Created"})})}),s.jsxs(Xe,{children:[s.jsxs("p",{className:"font-medium",children:["",oe.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"total revenue"})]}),s.jsxs(Xe,{children:[s.jsx(wt,{variant:"outline",children:oe.subscription?.plan?.name||"Free"}),oe.subscription&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:oe.subscription.billing_cycle})]}),s.jsx(Xe,{children:ue(oe.subscription)}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(oe.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(oe.created_at),{addSuffix:!0})})]})}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{D(oe),L(!0)},children:s.jsx(Ls,{className:"w-4 h-4"})}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",children:s.jsx(Vge,{className:"w-4 h-4"})})}),s.jsxs(lu,{align:"end",children:[s.jsxs(Ln,{onClick:()=>{D(oe),L(!0)},children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"View Details"]}),s.jsxs(Ln,{onClick:()=>{D(oe),z(!0)},children:[s.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Assign Plan"]}),oe.store&&s.jsxs(Ln,{onClick:()=>window.open(`/${oe.store.slug}`,"_blank"),children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Visit Store"]}),s.jsxs(Ln,{onClick:async()=>{const Se=prompt("Enter email subject:");if(!Se)return;const Ee=prompt("Enter email message:");if(Ee)try{const{error:ie}=await Z.functions.invoke("send-user-email",{body:{to:oe.email,subject:Se,message:Ee}});if(ie)throw ie;Fe({title:"Email sent",description:`Email sent successfully to ${oe.email}`})}catch(ie){Fe({title:"Error",description:ie.message,variant:"destructive"})}},children:[s.jsx(xc,{className:"w-4 h-4 mr-2"}),"Send Email"]}),s.jsx(Ln,{onClick:()=>{D(oe),W(!0)},children:"Suspend Account"}),s.jsxs(Ln,{onClick:()=>{D(oe),K(!0)},className:"text-destructive",children:[s.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},oe.id))})]}),O>1&&s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(j-1)*S+1,"-",Math.min(j*S,k)," of"," ",k," users"]}),s.jsx(A5,{children:s.jsxs(P5,{children:[s.jsx(nm,{children:s.jsx(O5,{onClick:()=>ge(j-1),className:j===1?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{const oe=[];let Ee=Math.max(1,j-Math.floor(2.5)),ie=Math.min(O,Ee+5-1);ie-Ee+1<5&&(Ee=Math.max(1,ie-5+1));for(let qe=Ee;qe<=ie;qe++)oe.push(s.jsx(nm,{children:s.jsx(Pw,{onClick:()=>ge(qe),isActive:j===qe,className:"cursor-pointer",children:qe})},qe));return oe})(),s.jsx(nm,{children:s.jsx(R5,{onClick:()=>ge(j+1),className:j===O?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}),P&&s.jsxs(s.Fragment,{children:[s.jsx(c7e,{user:P,open:F,onClose:()=>{L(!1),D(null)},onRefresh:J}),s.jsx(u7e,{user:P,open:H,onClose:()=>{W(!1),D(null)},onSuccess:J}),s.jsx(d7e,{user:P,open:G,onClose:()=>{K(!1),D(null)},onSuccess:J}),s.jsx(tue,{userId:P.id,userEmail:P.email,currentSubscription:P.subscription,open:Y,onOpenChange:oe=>{z(oe),oe||D(null)},onSuccess:J})]})]})}function EVe({open:e,onOpenChange:t,helperId:r,helperName:n}){const[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(null),[d,f]=_.useState([]),[m,p]=_.useState({total_earned:0,store_referrals:0,product_sales:0,network_bonus:0}),[y,g]=_.useState(null),[v,w]=_.useState(null);_.useEffect(()=>{e&&r&&b()},[e,r]);const b=async()=>{i(!0);try{await Promise.all([j(),E(),S(),C()])}catch(P){console.error("Error loading helper data:",P),ot.error("Failed to load helper details")}finally{i(!1)}},j=async()=>{const{data:P,error:D}=await Z.from("helpers").select("*").eq("id",r).single();if(D)throw D;l(P)},E=async()=>{const{data:P,error:D}=await Z.from("helper_applications").select("*").eq("user_id",r).single();if(D){console.warn("No application found for helper");return}if(u(P),P.recruited_by_helper_id){const{data:F}=await Z.from("helpers").select("full_name").eq("id",P.recruited_by_helper_id).single();F&&g(F.full_name)}if(P.approved_by_admin){const{data:F}=await Z.from("profiles").select("full_name").eq("user_id",P.approved_by_admin).single();F&&w(F.full_name)}},S=async()=>{const{data:P,error:D}=await Z.from("store_referrals").select(`
        store_id,
        store_owner_name,
        created_at,
        stores (
          name,
          slug
        )
      `).eq("helper_id",r);if(D){console.error("Error loading recruited stores:",D);return}const F=(P||[]).map(L=>({store_id:L.store_id,store_name:L.stores?.name||"Unknown Store",store_slug:L.stores?.slug||"",store_owner_name:L.store_owner_name,created_at:L.created_at}));f(F)},C=async()=>{const{data:P,error:D}=await Z.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status").eq("earning_helper_id",r);if(D){console.error("Error loading commission data:",D);return}let F=0,L=0,H=0,W=0;(P||[]).forEach(G=>{const K=G.amount||0;F+=K,G.commission_type==="store_referral"?L+=K:G.commission_type==="product_sale"?H+=K:G.commission_type==="network_bonus"&&(W+=K)}),p({total_earned:F,store_referrals:L,product_sales:H,network_bonus:W})},k=(P,D)=>{navigator.clipboard.writeText(P),ot.success(`${D} copied to clipboard!`)},R=()=>{const P=`/helper/dashboard?impersonate=${r}`;window.open(P,"_blank")},O=()=>{ot.info("PDF export feature coming soon!")};if(a||!o)return s.jsx(Sn,{open:e,onOpenChange:t,children:s.jsx(yn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper details..."})]})})})});const A=Math.floor((new Date().getTime()-new Date(o.created_at).getTime())/(1e3*60*60*24));return s.jsx(Sn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(kn,{children:s.jsxs(Cn,{className:"flex items-center gap-2",children:[s.jsx(e0,{className:"h-5 w-5"}),"Helper Details - ",n]})}),s.jsxs(Qu,{defaultValue:"overview",className:"w-full",children:[s.jsxs(nu,{className:"grid w-full grid-cols-4",children:[s.jsx(hn,{value:"overview",children:"Overview"}),s.jsx(hn,{value:"performance",children:"Performance"}),s.jsxs(hn,{value:"stores",children:["Recruited Stores (",d.length,")"]}),s.jsx(hn,{value:"activity",children:"Activity"})]}),s.jsxs(mn,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(e0,{className:"h-4 w-4"}),"Personal Information"]})}),s.jsxs(Te,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium",children:o.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:o.email}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>k(o.email,"Email"),children:s.jsx(sc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:o.phone}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>k(o.phone,"Phone"),children:s.jsx(sc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helper ID"}),s.jsx("p",{className:"font-mono text-sm",children:o.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),s.jsx(wt,{variant:o.status==="Active"?"default":"destructive",children:o.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Referral Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono font-medium",children:o.referral_code}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>k(o.referral_code,"Referral Code"),children:s.jsx(sc,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Bank Account Details"]})}),s.jsx(Te,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Name"}),s.jsx("p",{className:"font-medium",children:c.bank_account_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_account_number}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>k(c.bank_account_number,"Account Number"),children:s.jsx(sc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"IFSC Code"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-mono",children:c.bank_ifsc_code}),s.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>k(c.bank_ifsc_code,"IFSC Code"),children:s.jsx(sc,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bank Name"}),s.jsx("p",{className:"font-medium",children:c.bank_name})]}),s.jsx("div",{className:"pt-2",children:s.jsx(wt,{variant:"outline",className:"bg-green-50",children:" Verified"})})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No bank details available"})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(qc,{className:"h-4 w-4"}),"Application Information"]})}),s.jsx(Te,{className:"space-y-3",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Applied On"}),s.jsx("p",{className:"font-medium text-sm",children:_r(new Date(c.created_at),"PPp")})]}),c.approved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved On"}),s.jsx("p",{className:"font-medium text-sm",children:_r(new Date(c.approved_at),"PPp")})]}),v&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved By"}),s.jsx("p",{className:"font-medium",children:v})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:c.why_helper||"Not provided"})]}),y&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recruited By"}),s.jsx("p",{className:"font-medium",children:y})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No application details available"})})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-sm",children:"Quick Statistics"})}),s.jsx(Te,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",m.total_earned.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total Earned"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stores Recruited"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:A}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days Active"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[o.direct_commission_rate,"% / ",o.network_commission_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct / Network Rate"})]})]})})]})]}),s.jsxs(mn,{value:"performance",className:"space-y-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(Al,{className:"h-4 w-4"}),"Commission Breakdown"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yh,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:"Store Referrals"})]}),s.jsxs("span",{className:"font-bold text-blue-600",children:["",m.store_referrals.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm",children:"Product Sales"})]}),s.jsxs("span",{className:"font-bold text-green-600",children:["",m.product_sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Al,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm",children:"Network Bonus"})]}),s.jsxs("span",{className:"font-bold text-purple-600",children:["",m.network_bonus.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded-lg border-2 border-primary",children:[s.jsx("span",{className:"font-semibold",children:"Total Earned"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["",m.total_earned.toLocaleString()]})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-sm",children:"Status History"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Active"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[_r(new Date(o.created_at),"PPp"),v&&` (Approved by ${v})`]})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Application Received"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(c.created_at),"PPp")})]})]})]})})]})]}),s.jsx(mn,{value:"stores",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(Yh,{className:"h-4 w-4"}),"Recruited Stores (",d.length," Total)"]}),d.length>0&&s.jsxs(wt,{variant:"outline",children:["Avg. Commission: ",d.length>0?Math.round(m.store_referrals/d.length):0]})]})}),s.jsx(Te,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No recruited stores yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Helper hasn't referred any stores"})]}):s.jsx("div",{className:"space-y-3",children:d.map((P,D)=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm font-semibold",children:[D+1,". ",P.store_name]}),s.jsx(wt,{variant:"outline",className:"text-xs",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Owner: ",P.store_owner_name," | Joined:"," ",_r(new Date(P.created_at),"PP")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>window.open(`/store/${P.store_id}`,"_blank"),children:[s.jsx(Ls,{className:"h-3 w-3 mr-1"}),"View Store"]}),P.store_slug&&s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>window.open(`https://${P.store_slug}.digitaldukandar.in`,"_blank"),children:[s.jsx(ya,{className:"h-3 w-3 mr-1"}),"Visit Website"]})]})]})})},P.store_id))})})]})}),s.jsx(mn,{value:"activity",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ml,{className:"h-4 w-4"}),"Recent Activity"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(P=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsxs("p",{children:["Recruited store ",s.jsxs("span",{className:"font-semibold",children:['"',P.store_name,'"']})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(P.created_at),"PPp")})]})]},P.store_id)),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Approved as helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.approved_at?_r(new Date(c.approved_at),"PPp"):"N/A"})]})]}),c&&s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{children:"Applied for helper"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(c.created_at),"PPp")})]})]})]})})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end mt-4 pt-4 border-t",children:[s.jsxs(ae,{variant:"outline",onClick:R,children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"View as Helper"]}),s.jsxs(ae,{variant:"outline",onClick:O,children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Close"})]})]})})}function TVe(){const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState("pending"),[i,o]=_.useState(""),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState(!1),[p,y]=_.useState(!1),[g,v]=_.useState(!1),[w,b]=_.useState(!1),[j,E]=_.useState(!1),[S,C]=_.useState(null),[k,R]=_.useState(null),[O,A]=_.useState(""),[P,D]=_.useState({direct_rate:10,network_rate:5,reason:""});_.useEffect(()=>{F()},[]);const F=async()=>{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await L(),r(!1)},L=async()=>{await Promise.all([H(),W()])},H=async()=>{try{const{data:ge,error:U}=await Z.from("helper_applications").select("*").order("created_at",{ascending:!1});if(U)throw U;c(ge||[])}catch(ge){console.error("Error loading applications:",ge),ot.error("Failed to load applications")}},W=async()=>{try{const{data:ge,error:U}=await Z.from("helpers").select("*").order("created_at",{ascending:!1});if(U)throw U;d(ge||[])}catch(ge){console.error("Error loading helpers:",ge),ot.error("Failed to load helpers")}},K={total:l.filter(ge=>ge.application_status!=="Approved").length+u.length,pending:l.filter(ge=>ge.application_status==="Pending").length,approved:u.filter(ge=>ge.status==="Active").length,rejected:l.filter(ge=>ge.application_status==="Rejected").length,suspended:u.filter(ge=>ge.status==="Suspended").length},I=()=>{let ge=[];switch(n){case"pending":ge=l.filter(U=>U.application_status==="Pending").map(U=>({...U,type:"application"}));break;case"approved":ge=u.map(U=>({...U,type:"helper"}));break;case"rejected":ge=l.filter(U=>U.application_status==="Rejected").map(U=>({...U,type:"application"}));break;case"all":ge=[...l.filter(U=>U.application_status!=="Approved").map(U=>({...U,type:"application"})),...u.map(U=>({...U,type:"helper"}))];break}return i&&(ge=ge.filter(U=>U.full_name?.toLowerCase().includes(i.toLowerCase())||U.email?.toLowerCase().includes(i.toLowerCase())||U.phone?.includes(i))),ge},B=async ge=>{try{const{data:U,error:ne}=await Z.rpc("approve_helper_application",{p_application_id:ge.id});if(ne)throw console.error("Error calling approve RPC:",ne),new Error(ne.message||"Failed to approve helper");const Q=U;if(!Q?.success)throw console.error("Approve helper failed:",U),new Error(Q?.error||"Approval operation failed");ot.success(`Helper approved! Referral code: ${Q.referralCode}`),await L()}catch(U){console.error("Error approving application:",U),ot.error(U.message||"Failed to approve application")}},Y=async()=>{if(!O.trim()||!S){ot.error("Please provide a rejection reason");return}try{const{error:ge}=await Z.from("helper_applications").update({application_status:"Rejected",rejection_reason:O}).eq("id",S.id);if(ge)throw ge;ot.success("Application rejected"),v(!1),A(""),C(null),await L()}catch(ge){console.error("Error rejecting application:",ge),ot.error("Failed to reject application")}},z=async ge=>{try{const{error:U}=await Z.from("helper_applications").update({application_status:"Pending",rejection_reason:null}).eq("id",ge.id);if(U)throw U;ot.success("Application moved to pending"),await L()}catch(U){console.error("Error reconsidering application:",U),ot.error("Failed to reconsider application")}},J=async ge=>{try{const U=ge.status==="Active"?"Suspended":"Active",{error:ne}=await Z.from("helpers").update({status:U}).eq("id",ge.id);if(ne)throw ne;ot.success(`Helper ${U.toLowerCase()}`),await L()}catch(U){console.error("Error updating helper status:",U),ot.error("Failed to update helper status")}},X=async()=>{if(!(!S&&!k))try{const ge=S?.user_id||k?.id,U=S?"application":"helper";if(!ge){ot.error("Cannot delete: User ID not found");return}const{data:ne,error:Q}=await Z.functions.invoke("delete-helper",{body:{userId:ge,deleteType:U}});if(Q){if(Q.message?.includes("BLOCKED")||Q.message?.includes("store owner")){ot.error(` ${Q.message}`,{duration:8e3}),b(!1);return}throw new Error(Q.message||"Failed to delete")}if(!ne?.success){if(ne?.error?.includes("BLOCKED")||ne?.error?.includes("store owner")){ot.error(` ${ne.error}`,{duration:8e3}),b(!1);return}throw new Error(ne?.error||"Delete operation failed")}S?await Z.from("helper_applications").delete().eq("id",S.id):k&&await Z.from("helpers").delete().eq("id",k.id),ot.success("Deleted successfully"),b(!1),C(null),R(null),await L()}catch(ge){console.error("Error deleting:",ge),ot.error(ge.message||"Failed to delete")}},ee=async()=>{if(!P.reason||!k){ot.error("Please provide a reason for changing rates");return}try{const{error:ge}=await Z.from("helpers").update({direct_commission_rate:P.direct_rate,network_commission_rate:P.network_rate,updated_at:new Date().toISOString()}).eq("id",k.id);if(ge)throw ge;ot.success("Commission rates updated successfully"),E(!1),await L()}catch(ge){console.error("Error updating rates:",ge),ot.error("Failed to update commission rates")}},he=ge=>{let U="",ne="";if(ge.type==="application")switch(U=ge.application_status,U){case"Pending":ne="bg-yellow-500";break;case"Rejected":ne="bg-red-500";break;case"Approved":ne="bg-green-500";break;default:ne="bg-gray-500"}else switch(U=ge.status,U){case"Active":ne="bg-green-500";break;case"Suspended":ne="bg-orange-500";break;default:ne="bg-gray-500"}return s.jsx(wt,{className:ne,children:U})};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading helper management..."})]})});const fe=I();return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(bi,{className:"h-8 w-8"}),"Helper Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all helper applications and approved helpers in one place"})]}),s.jsx(ae,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("all"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full",children:s.jsx(bi,{className:"h-5 w-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold",children:K.total})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("pending"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-full",children:s.jsx(qc,{className:"h-5 w-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:K.pending})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("approved"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-full",children:s.jsx(Ss,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:K.approved})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a("rejected"),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 rounded-full",children:s.jsx(Gn,{className:"h-5 w-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:K.rejected})]})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-full",children:s.jsx(vj,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:K.suspended})]})]})})})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Ve,{placeholder:"Search by name, email, or phone...",value:i,onChange:ge=>o(ge.target.value),className:"pl-10"})]})})}),s.jsxs(Qu,{value:n,onValueChange:a,className:"space-y-4",children:[s.jsxs(nu,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(hn,{value:"pending",className:"gap-2",children:[s.jsx(qc,{className:"h-4 w-4"}),"Pending ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:K.pending})]}),s.jsxs(hn,{value:"approved",className:"gap-2",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Approved ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:K.approved+K.suspended})]}),s.jsxs(hn,{value:"rejected",className:"gap-2",children:[s.jsx(Gn,{className:"h-4 w-4"}),"Rejected ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:K.rejected})]}),s.jsxs(hn,{value:"all",className:"gap-2",children:[s.jsx(bi,{className:"h-4 w-4"}),"All ",s.jsx(wt,{variant:"secondary",className:"ml-1",children:K.total})]})]}),s.jsx(mn,{value:"pending",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(qc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Applied On"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(ge=>{const U=ge;return s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:U.full_name}),s.jsx(Xe,{children:U.email}),s.jsx(Xe,{children:U.phone}),s.jsx(Xe,{children:_r(new Date(U.created_at),"PP")}),s.jsx(Xe,{children:he(ge)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{C(U),m(!0)},children:[s.jsx(Ls,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(ae,{size:"sm",variant:"default",onClick:()=>B(U),children:[s.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>{C(U),v(!0)},children:[s.jsx(Gn,{className:"h-4 w-4 mr-1"}),"Reject"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>{C(U),b(!0)},children:[s.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},U.id)})})]})})})})}),s.jsx(mn,{value:"approved",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No approved helpers"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Helper ID"}),s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Referral Code"}),s.jsx(tt,{children:"Commission Rates"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(ge=>{const U=ge;return s.jsxs(Nr,{children:[s.jsxs(Xe,{className:"font-mono",children:[U.id.slice(0,8),"..."]}),s.jsx(Xe,{className:"font-medium",children:U.full_name}),s.jsx(Xe,{children:U.email}),s.jsx(Xe,{children:U.phone}),s.jsx(Xe,{className:"font-mono",children:U.referral_code}),s.jsx(Xe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Direct: ",U.direct_commission_rate,"%"]}),s.jsxs("div",{children:["Network: ",U.network_commission_rate,"%"]})]})}),s.jsx(Xe,{children:he(ge)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(ae,{size:"sm",variant:U.status==="Active"?"destructive":"default",onClick:()=>J(U),children:U.status==="Active"?s.jsxs(s.Fragment,{children:[s.jsx(vj,{className:"h-4 w-4 mr-1"}),"Suspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(kR,{className:"h-4 w-4 mr-1"}),"Activate"]})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{R(U),b(!0)},children:s.jsx(Mn,{className:"h-4 w-4"})})]})})]},U.id)})})]})})})})}),s.jsx(mn,{value:"rejected",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No rejected applications"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Rejected On"}),s.jsx(tt,{children:"Reason"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(ge=>{const U=ge;return s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:U.full_name}),s.jsx(Xe,{children:U.email}),s.jsx(Xe,{children:U.phone}),s.jsx(Xe,{children:_r(new Date(U.created_at),"PP")}),s.jsx(Xe,{className:"max-w-xs truncate",children:U.rejection_reason||"No reason provided"}),s.jsx(Xe,{children:he(ge)}),s.jsx(Xe,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{C(U),m(!0)},children:[s.jsx(Ls,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(ae,{size:"sm",variant:"default",onClick:()=>z(U),children:[s.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Reconsider"]}),s.jsxs(ae,{size:"sm",variant:"destructive",onClick:()=>{C(U),b(!0)},children:[s.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},U.id)})})]})})})})}),s.jsx(mn,{value:"all",children:s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:fe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No helpers or applications found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Type"}),s.jsx(tt,{children:"Name"}),s.jsx(tt,{children:"Email"}),s.jsx(tt,{children:"Phone"}),s.jsx(tt,{children:"Date"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{className:"text-right",children:"Actions"})]})}),s.jsx(oa,{children:fe.map(ge=>{const U=ge.type==="helper",ne=U?ge:null,Q=U?null:ge;return s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(wt,{variant:"outline",children:U?"Helper":"Application"})}),s.jsx(Xe,{className:"font-medium",children:ge.full_name}),s.jsx(Xe,{children:ge.email}),s.jsx(Xe,{children:ge.phone}),s.jsx(Xe,{children:_r(new Date(ge.created_at),"PP")}),s.jsx(Xe,{children:he(ge)}),s.jsx(Xe,{className:"text-right",children:s.jsx("div",{className:"flex gap-2 justify-end",children:U?s.jsxs(s.Fragment,{children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{R(ne),y(!0)},children:[s.jsx(Ls,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{R(ne),D({direct_rate:ne.direct_commission_rate,network_rate:ne.network_commission_rate,reason:""}),E(!0)},children:s.jsx(Wu,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:ne.status==="Active"?"destructive":"default",onClick:()=>J(ne),children:ne.status==="Active"?s.jsx(vj,{className:"h-4 w-4"}):s.jsx(kR,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{R(ne),b(!0)},children:s.jsx(Mn,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{C(Q),m(!0)},children:s.jsx(Ls,{className:"h-4 w-4"})}),Q.application_status==="Pending"&&s.jsxs(s.Fragment,{children:[s.jsx(ae,{size:"sm",variant:"default",onClick:()=>B(Q),children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{C(Q),v(!0)},children:s.jsx(Gn,{className:"h-4 w-4"})})]}),Q.application_status==="Rejected"&&s.jsx(ae,{size:"sm",variant:"default",onClick:()=>z(Q),children:s.jsx(Ss,{className:"h-4 w-4"})}),s.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>{C(Q),b(!0)},children:s.jsx(Mn,{className:"h-4 w-4"})})]})})})]},U?ne.id:Q.id)})})]})})})})})]}),s.jsx(Sn,{open:f,onOpenChange:m,children:s.jsxs(yn,{className:"max-w-2xl",children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Application Details"}),s.jsxs(ps,{children:[S?.full_name," - ",S?.email]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Full Name"}),s.jsx("p",{className:"text-sm",children:S.full_name})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Email"}),s.jsx("p",{className:"text-sm",children:S.email})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Phone"}),s.jsx("p",{className:"text-sm",children:S.phone})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Applied On"}),s.jsx("p",{className:"text-sm",children:_r(new Date(S.created_at),"PPP")})]})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Why Helper?"}),s.jsx("p",{className:"text-sm mt-1",children:S.why_helper||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Bank Account Name"}),s.jsx("p",{className:"text-sm",children:S.bank_account_name})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Bank Name"}),s.jsx("p",{className:"text-sm",children:S.bank_name})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Account Number"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_account_number})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"IFSC Code"}),s.jsx("p",{className:"text-sm font-mono",children:S.bank_ifsc_code})]})]}),S.rejection_reason&&s.jsxs("div",{children:[s.jsx(Ce,{children:"Rejection Reason"}),s.jsx("p",{className:"text-sm mt-1 text-red-500",children:S.rejection_reason})]})]})]})}),s.jsx(Sn,{open:g,onOpenChange:v,children:s.jsxs(yn,{children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Reject Application"}),s.jsxs(ps,{children:["Provide a reason for rejecting ",S?.full_name,"'s application"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Ce,{children:"Rejection Reason *"}),s.jsx(ja,{value:O,onChange:ge=>A(ge.target.value),placeholder:"Enter the reason for rejection...",className:"mt-2"})]})}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(ae,{variant:"destructive",onClick:Y,children:"Reject Application"})]})]})}),s.jsx(Sn,{open:j,onOpenChange:E,children:s.jsxs(yn,{children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Edit Commission Rates"}),s.jsxs(ps,{children:["Update commission rates for ",k?.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"Direct Commission Rate (%)"}),s.jsx(Ve,{type:"number",value:P.direct_rate,onChange:ge=>D({...P,direct_rate:parseFloat(ge.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Network Commission Rate (%)"}),s.jsx(Ve,{type:"number",value:P.network_rate,onChange:ge=>D({...P,network_rate:parseFloat(ge.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Ce,{children:"Reason for Change *"}),s.jsx(ja,{value:P.reason,onChange:ge=>D({...P,reason:ge.target.value}),placeholder:"Explain why rates are being changed..."})]})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),s.jsx(ae,{onClick:ee,children:"Save Changes"})]})]})}),s.jsx(g0,{open:w,onOpenChange:b,children:s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Em,{children:" Permanently Delete?"}),s.jsxs(Tm,{children:["This will permanently delete"," ",s.jsx("strong",{children:S?.full_name||k?.full_name})," and ALL related data:",s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[k?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Helper account and profile"}),s.jsx("li",{children:"All store referrals"}),s.jsx("li",{children:"All commission records"}),s.jsx("li",{children:"All network connections"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Application record"}),s.jsx("li",{children:"Profile information"})]}),s.jsx("li",{children:"User authentication account"})]}),s.jsx("p",{className:"mt-3 font-bold text-destructive",children:"This action cannot be undone!"})]})]}),s.jsxs(Cm,{children:[s.jsx(Pm,{children:"Cancel"}),s.jsx(Am,{onClick:X,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Permanently"})]})]})}),k&&s.jsx(EVe,{open:p,onOpenChange:y,helperId:k.id,helperName:k.full_name})]})})}function AVe(){const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[p,y]=_.useState(!1),[g,v]=_.useState("direct"),[w,b]=_.useState({payment_date:_r(new Date,"yyyy-MM-dd"),payment_reference:""}),[j,E]=_.useState({direct:{total:0,count:0,oldestDays:0},network:{total:0,count:0,oldestDays:0},paid:{total:0,count:0}});_.useEffect(()=>{S()},[]);const S=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await C(),r(!1)}catch(D){console.error("Error checking super admin access:",D),e("/superadmin/login")}},C=async()=>{try{const{data:D,error:F}=await Z.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("direct_commission_amount",0).order("created_at",{ascending:!0});if(F)throw F;const L=(D||[]).map(he=>({id:he.id,helper_name:he.helper?.full_name||"N/A",helper_id:he.helper?.id||"N/A",store_owner_name:he.store_referral?.store_owner_name||"N/A",plan_name:he.store_referral?.subscription_plan||"N/A",plan_amount:he.store_referral?.subscription_amount||0,commission_amount:he.direct_commission_amount,earned_date:he.created_at,days_pending:eS(new Date,new Date(he.created_at))}));a(L);const{data:H,error:W}=await Z.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("network_commission_amount",0).order("created_at",{ascending:!0});if(W)throw W;const G=(H||[]).map(he=>({id:he.id,helper_name:he.helper?.full_name||"N/A",helper_id:he.helper?.id||"N/A",store_owner_name:he.store_referral?.store_owner_name||"N/A",plan_name:he.store_referral?.subscription_plan||"N/A",plan_amount:he.store_referral?.subscription_amount||0,commission_amount:he.network_commission_amount,earned_date:he.created_at,days_pending:eS(new Date,new Date(he.created_at))}));o(G);const{data:K,error:I}=await Z.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Paid").order("payment_date",{ascending:!1}).limit(100);if(I)throw I;const B=(K||[]).map(he=>({id:he.id,helper_name:he.helper?.full_name||"N/A",helper_id:he.helper?.id||"N/A",store_owner_name:he.store_referral?.store_owner_name||"N/A",plan_name:he.store_referral?.subscription_plan||"N/A",plan_amount:he.store_referral?.subscription_amount||0,commission_amount:(he.direct_commission_amount||0)+(he.network_commission_amount||0),earned_date:he.created_at,days_pending:0,payment_date:he.payment_date,payment_reference:he.payment_reference}));c(B);const Y=L.reduce((he,fe)=>he+fe.commission_amount,0),z=L.length>0?Math.max(...L.map(he=>he.days_pending)):0,J=G.reduce((he,fe)=>he+fe.commission_amount,0),X=G.length>0?Math.max(...G.map(he=>he.days_pending)):0,ee=B.reduce((he,fe)=>he+fe.commission_amount,0);E({direct:{total:Y,count:L.length,oldestDays:z},network:{total:J,count:G.length,oldestDays:X},paid:{total:ee,count:B.length}})}catch(D){console.error("Error loading commissions:",D),ot.error("Failed to load commissions")}},k=(D,F)=>{D==="direct"?d(F?n.map(L=>L.id):[]):m(F?i.map(L=>L.id):[])},R=(D,F,L)=>{D==="direct"?d(L?[...u,F]:u.filter(H=>H!==F)):m(L?[...f,F]:f.filter(H=>H!==F))},O=async()=>{const D=g==="direct"?u:f;if(D.length===0){ot.error("Please select at least one commission");return}if(!w.payment_reference){ot.error("Please enter payment reference");return}try{const{error:F}=await Z.from("network_commissions").update({commission_status:"Paid",payment_date:w.payment_date,payment_reference:w.payment_reference,updated_at:new Date().toISOString()}).in("id",D);if(F)throw F;ot.success(`Successfully marked ${D.length} commission(s) as paid`),y(!1),d([]),m([]),b({payment_date:_r(new Date,"yyyy-MM-dd"),payment_reference:""}),await C()}catch(F){console.error("Error marking commissions as paid:",F),ot.error("Failed to mark commissions as paid")}},A=D=>{try{let F=[],L="";D==="direct"?(F=n,L="Pending Direct Commissions"):D==="network"?(F=i,L="Pending Network Commissions"):(F=l,L="Paid Commissions");const H=F.map(I=>({"Helper Name":I.helper_name,"Helper ID":I.helper_id,"Store Owner":I.store_owner_name,Plan:I.plan_name,"Plan Amount":`${I.plan_amount.toLocaleString()}`,"Commission Amount":`${I.commission_amount.toLocaleString()}`,"Earned Date":_r(new Date(I.earned_date),"PPP"),...D==="paid"?{"Payment Date":I.payment_date?_r(new Date(I.payment_date),"PPP"):"N/A","Payment Reference":I.payment_reference||"N/A"}:{"Days Pending":I.days_pending}})),W=na.book_new(),G=na.json_to_sheet(H);na.book_append_sheet(W,G,L);const K=`${L.toLowerCase().replace(/ /g,"_")}_${_r(new Date,"yyyy-MM-dd")}.xlsx`;$m(W,K),ot.success("Export successful!")}catch(F){console.error("Error exporting:",F),ot.error("Failed to export data")}},P=()=>{try{const D=[{Category:"Pending Direct Commissions",Count:j.direct.count,Amount:`${j.direct.total.toLocaleString()}`},{Category:"Pending Network Commissions",Count:j.network.count,Amount:`${j.network.total.toLocaleString()}`},{Category:"Total Pending",Count:j.direct.count+j.network.count,Amount:`${(j.direct.total+j.network.total).toLocaleString()}`},{Category:"",Count:"",Amount:""},{Category:"Paid Commissions (Last 100)",Count:j.paid.count,Amount:`${j.paid.total.toLocaleString()}`}],F=na.book_new(),L=na.json_to_sheet(D);na.book_append_sheet(F,L,"Payment Report");const H=`payment_report_${_r(new Date,"yyyy-MM-dd")}.xlsx`;$m(F,H),ot.success("Payment report generated!")}catch(D){console.error("Error generating report:",D),ot.error("Failed to generate report")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commissions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Xa,{className:"h-8 w-8"}),"Commission Management"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage pending and paid commission payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",onClick:P,children:[s.jsx(qc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsx(ae,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Direct"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",j.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count," payments"]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Network"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",j.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.network.count," payments"]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:["",(j.direct.total+j.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count+j.network.count," payments"]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid (Last 100)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",j.paid.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.paid.count," payments"]})]})})]}),s.jsxs(Qu,{defaultValue:"direct",onValueChange:D=>v(D),children:[s.jsxs(nu,{className:"grid w-full grid-cols-4",children:[s.jsxs(hn,{value:"direct",children:["Pending Direct (",j.direct.count,")"]}),s.jsxs(hn,{value:"network",children:["Pending Network (",j.network.count,")"]}),s.jsxs(hn,{value:"paid",children:["Paid History (",j.paid.count,")"]}),s.jsx(hn,{value:"reports",children:"Reports"})]}),s.jsx(mn,{value:"direct",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:"Pending Direct Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",j.direct.total.toLocaleString()," | Oldest: ",j.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>A("direct"),disabled:n.length===0,children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(ae,{size:"sm",onClick:()=>{v("direct"),y(!0)},disabled:u.length===0,children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",u.length,")"]})]})]})}),s.jsx(Te,{className:"p-0",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending direct commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-12",children:s.jsx(mi,{checked:u.length===n.length,onCheckedChange:D=>k("direct",D)})}),s.jsx(tt,{children:"Helper"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Plan Amount"}),s.jsx(tt,{children:"Commission"}),s.jsx(tt,{children:"Earned Date"}),s.jsx(tt,{children:"Days Pending"})]})}),s.jsx(oa,{children:n.map(D=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(mi,{checked:u.includes(D.id),onCheckedChange:F=>R("direct",D.id,F)})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Xe,{children:D.store_owner_name}),s.jsx(Xe,{children:D.plan_name}),s.jsxs(Xe,{children:["",D.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:_r(new Date(D.earned_date),"PP")}),s.jsx(Xe,{children:s.jsxs(wt,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),s.jsx(mn,{value:"network",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:"Pending Network Commissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",j.network.total.toLocaleString()," | Oldest: ",j.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>A("network"),disabled:i.length===0,children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(ae,{size:"sm",onClick:()=>{v("network"),y(!0)},disabled:f.length===0,children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",f.length,")"]})]})]})}),s.jsx(Te,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending network commissions"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-12",children:s.jsx(mi,{checked:f.length===i.length,onCheckedChange:D=>k("network",D)})}),s.jsx(tt,{children:"Helper"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Plan Amount"}),s.jsx(tt,{children:"Commission"}),s.jsx(tt,{children:"Earned Date"}),s.jsx(tt,{children:"Days Pending"})]})}),s.jsx(oa,{children:i.map(D=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsx(mi,{checked:f.includes(D.id),onCheckedChange:F=>R("network",D.id,F)})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Xe,{children:D.store_owner_name}),s.jsx(Xe,{children:D.plan_name}),s.jsxs(Xe,{children:["",D.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-blue-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:_r(new Date(D.earned_date),"PP")}),s.jsx(Xe,{children:s.jsxs(wt,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),s.jsx(mn,{value:"paid",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{children:"Paid Commissions (Last 100)"}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>A("paid"),disabled:l.length===0,children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),s.jsx(Te,{className:"p-0",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ys,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No paid commissions yet"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Helper"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Commission"}),s.jsx(tt,{children:"Earned Date"}),s.jsx(tt,{children:"Payment Date"}),s.jsx(tt,{children:"Reference"})]})}),s.jsx(oa,{children:l.map(D=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.helper_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),s.jsx(Xe,{children:D.store_owner_name}),s.jsx(Xe,{children:D.plan_name}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:_r(new Date(D.earned_date),"PP")}),s.jsx(Xe,{children:D.payment_date&&_r(new Date(D.payment_date),"PP")}),s.jsx(Xe,{className:"text-sm",children:D.payment_reference})]},D.id))})]})})})]})}),s.jsx(mn,{value:"reports",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Pending Commissions Summary"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",j.direct.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.direct.count," payments"]})]}),s.jsx(ys,{className:"h-8 w-8 text-yellow-500"})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Network Commissions"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",j.network.total.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.network.count," payments"]})]}),s.jsx(ys,{className:"h-8 w-8 text-yellow-500"})]}),s.jsx("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-500",children:["",(j.direct.total+j.network.total).toLocaleString()]}),s.jsxs("p",{className:"text-xs",children:[j.direct.count+j.network.count," payments"]})]})})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Payment Analytics"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Direct)"}),s.jsxs("span",{className:"font-semibold",children:[j.direct.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Network)"}),s.jsxs("span",{className:"font-semibold",children:[j.network.oldestDays," days"]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Paid (Last 100)"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",j.paid.total.toLocaleString()]})]})]}),s.jsxs(ae,{className:"w-full mt-4",onClick:P,children:[s.jsx(qc,{className:"h-4 w-4 mr-2"}),"Download Full Report"]})]})]})]})})]})]}),s.jsx(Sn,{open:p,onOpenChange:y,children:s.jsxs(yn,{children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Mark Commissions as Paid"}),s.jsxs(ps,{children:["Mark ",g==="direct"?u.length:f.length," selected commission(s) as paid"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Date"}),s.jsx(Ve,{type:"date",value:w.payment_date,onChange:D=>b({...w,payment_date:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Reference / Transaction ID *"}),s.jsx(Ve,{value:w.payment_reference,onChange:D=>b({...w,payment_reference:D.target.value}),placeholder:"Enter transaction ID or reference number"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:s.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[s.jsx(Ss,{className:"inline w-4 h-4 mr-2"}),'This will update the commission status to "Paid" and record the payment details.']})})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(ae,{onClick:O,children:"Mark as Paid"})]})]})})]})}var jc="Accordion",PVe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$6,OVe,RVe]=X0(jc),[fk]=Vs(jc,[RVe,Lre]),B6=Lre(),cue=ce.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx($6.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(FVe,{...i,ref:t}):s.jsx(MVe,{...a,ref:t})})});cue.displayName=jc;var[uue,DVe]=fk(jc),[due,IVe]=fk(jc,{collapsible:!1}),MVe=ce.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Si({prop:r,defaultProp:n??"",onChange:a,caller:jc});return s.jsx(uue,{scope:e.__scopeAccordion,value:ce.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ce.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(due,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(fue,{...o,ref:t})})})}),FVe=ce.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Si({prop:r,defaultProp:n??[],onChange:a,caller:jc}),c=ce.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=ce.useCallback(d=>l((f=[])=>f.filter(m=>m!==d)),[l]);return s.jsx(uue,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(due,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(fue,{...i,ref:t})})})}),[LVe,hk]=fk(jc),fue=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=ce.useRef(null),c=Zt(l,t),u=OVe(r),f=zf(a)==="ltr",m=ft(e.onKeyDown,p=>{if(!PVe.includes(p.key))return;const y=p.target,g=u().filter(R=>!R.ref.current?.disabled),v=g.findIndex(R=>R.ref.current===y),w=g.length;if(v===-1)return;p.preventDefault();let b=v;const j=0,E=w-1,S=()=>{b=v+1,b>E&&(b=j)},C=()=>{b=v-1,b<j&&(b=E)};switch(p.key){case"Home":b=j;break;case"End":b=E;break;case"ArrowRight":i==="horizontal"&&(f?S():C());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(f?C():S());break;case"ArrowUp":i==="vertical"&&C();break}const k=b%w;g[k].ref.current?.focus()});return s.jsx(LVe,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx($6.Slot,{scope:r,children:s.jsx(Tt.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),tS="AccordionItem",[$Ve,U6]=fk(tS),hue=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=hk(tS,r),o=DVe(tS,r),l=B6(r),c=mo(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx($Ve,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Ure,{"data-orientation":i.orientation,"data-state":yue(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});hue.displayName=tS;var mue="AccordionHeader",pue=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=hk(jc,r),i=U6(mue,r);return s.jsx(Tt.h3,{"data-orientation":a.orientation,"data-state":yue(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});pue.displayName=mue;var T3="AccordionTrigger",gue=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=hk(jc,r),i=U6(T3,r),o=IVe(T3,r),l=B6(r);return s.jsx($6.ItemSlot,{scope:r,children:s.jsx(Eke,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});gue.displayName=T3;var xue="AccordionContent",vue=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=hk(jc,r),i=U6(xue,r),o=B6(r);return s.jsx(Tke,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});vue.displayName=xue;function yue(e){return e?"open":"closed"}var BVe=cue,UVe=hue,VVe=pue,bue=gue,wue=vue;const zVe=BVe,_ue=_.forwardRef(({className:e,...t},r)=>s.jsx(UVe,{ref:r,className:ut("border-b",e),...t}));_ue.displayName="AccordionItem";const jue=_.forwardRef(({className:e,children:t,...r},n)=>s.jsx(VVe,{className:"flex",children:s.jsxs(bue,{ref:n,className:ut("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx($u,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));jue.displayName=bue.displayName;const Nue=_.forwardRef(({className:e,children:t,...r},n)=>s.jsx(wue,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ut("pb-4 pt-0",e),children:t})}));Nue.displayName=wue.displayName;function qVe(){const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[l,c]=_.useState({model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}),[u,d]=_.useState("monthly"),[f,m]=_.useState([]),[p,y]=_.useState({}),[g,v]=_.useState(!0),[w,b]=_.useState(!1),[j,E]=_.useState(!0),[S,C]=_.useState(!0),[k,R]=_.useState(500),[O,A]=_.useState("monthly"),[P,D]=_.useState("1st"),[F,L]=_.useState(-1),[H,W]=_.useState("HELP"),[G,K]=_.useState(!0),[I,B]=_.useState([]),[Y,z]=_.useState(!1),[J,X]=_.useState({}),[ee,he]=_.useState(!1),[fe,ge]=_.useState({commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]}),[U,ne]=_.useState(null),Q=te=>{y(_e=>({..._e,[te]:{..._e[te],enabled:!_e[te].enabled}}))},V=(te,_e,pe,Ie)=>{y(De=>({...De,[te]:{...De[te],[_e]:{...De[te][_e],[pe]:Ie}}}))},ue=(te,_e,pe)=>{let Ie="";switch(te){case"networkMonthlyOnetimeValue":case"networkYearlyOnetimeValue":pe==="percentage"&&(_e<0||_e>100)?Ie="Percentage must be between 0-100%":pe==="fixed"&&_e<0&&(Ie="Amount cannot be negative");break;case"networkMonthlyRecurringValue":case"networkYearlyRecurringValue":pe==="percentage"&&(_e<0||_e>100)?Ie="Percentage must be between 0-100%":pe==="fixed"&&_e<0&&(Ie="Amount cannot be negative");break;case"networkMonthlyRecurringDuration":case"networkYearlyRecurringDuration":(_e<1||_e>24)&&(Ie="Duration must be between 1-24 months");break;case"minPayoutThreshold":_e<0&&(Ie="Minimum payout cannot be negative");break;case"referralCodePrefix":!_e||_e.trim()===""?Ie="Referral code prefix is required":_e.length>6&&(Ie="Prefix must be 6 characters or less");break;case"maxHelpersPerRecruiter":_e<-1&&(Ie="Value must be -1 (unlimited) or greater");break}return X(De=>{const le={...De};return Ie?le[te]=Ie:delete le[te],le}),Ie===""};_.useEffect(()=>{oe()},[]);const oe=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await ie(),r(!1)}catch(te){console.error("Error checking super admin access:",te),e("/superadmin/login")}},Se=async()=>{try{const{data:te,error:_e}=await Z.from("subscription_plans").select("id, name, slug, monthly_price, yearly_price, is_active").eq("is_active",!0).order("display_order");if(_e)throw _e;const pe=te||[];m(pe);const Ie={};pe.forEach(De=>{Ie[De.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),y(Ie)}catch(te){console.error("Error fetching subscription plans:",te),ot.error("Failed to load subscription plans")}},Ee=async()=>{try{const{data:te,error:_e}=await Z.from("commission_audit").select("*").order("created_at",{ascending:!1}).limit(50);if(_e){if(_e.message.includes("does not exist")){console.info("Audit trail table not yet created"),B([]);return}throw _e}B(te||[])}catch(te){console.error("Error fetching audit records:",te),String(te).includes("does not exist")||ot.error("Failed to load audit trail")}},ie=async()=>{try{await Se();const{data:te,error:_e}=await Z.from("commission_settings").select("*").eq("is_active",!0).single();if(_e){console.error("Error loading commission settings:",_e),ot.error("Failed to load commission settings");return}if(te){v(te.enable_multi_tier),b(te.auto_approve_applications),E(te.send_welcome_email),C(te.send_commission_notifications),R(te.min_payout_threshold),A(te.payment_schedule),D(te.payment_day),L(te.max_helpers_per_recruiter),W(te.referral_code_prefix),K(te.auto_generate_codes);const{data:pe,error:Ie}=await Z.from("network_commission").select("*").eq("settings_id",te.id);let De={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},le={model:"recurring",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12};!Ie&&pe&&pe.forEach(at=>{const St={model:at.commission_model,onetimeType:at.onetime_type,onetimeValue:at.onetime_value,recurringType:at.recurring_type,recurringValue:at.recurring_value,recurringDuration:at.recurring_duration};at.subscription_type==="monthly"?(o(St),De=St):at.subscription_type==="yearly"&&(c(St),le=St)});const{data:Re,error:et}=await Z.from("plan_commission").select("*").eq("settings_id",te.id);let xt={};if(!et&&Re){const at={};f.forEach(St=>{at[St.id]={enabled:!1,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}}}),Re.forEach(St=>{at[St.plan_id]||(at[St.plan_id]={enabled:St.enabled,monthly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12},yearly:{model:"hybrid",onetimeType:"percentage",onetimeValue:0,recurringType:"percentage",recurringValue:0,recurringDuration:12}});const Xt={model:St.commission_model,onetimeType:St.onetime_type,onetimeValue:St.onetime_value,recurringType:St.recurring_type,recurringValue:St.recurring_value,recurringDuration:St.recurring_duration};St.subscription_type==="monthly"?(at[St.plan_id].monthly=Xt,at[St.plan_id].enabled=St.enabled):St.subscription_type==="yearly"&&(at[St.plan_id].yearly=Xt)}),xt=at,y(at)}ot.success("Settings loaded successfully"),ne({networkMonthly:De,networkYearly:le,planCommissions:JSON.parse(JSON.stringify(xt)),enableMultiTier:te.enable_multi_tier,autoApproveApplications:te.auto_approve_applications,sendWelcomeEmail:te.send_welcome_email,sendCommissionNotifications:te.send_commission_notifications,minPayoutThreshold:te.min_payout_threshold,paymentSchedule:te.payment_schedule,paymentDay:te.payment_day,maxHelpersPerRecruiter:te.max_helpers_per_recruiter,referralCodePrefix:te.referral_code_prefix,autoGenerateCodes:te.auto_generate_codes})}}catch(te){console.error("Error loading settings:",te),ot.error("Failed to load settings")}},qe=()=>{const te=[];return(i.model==="onetime"||i.model==="hybrid")&&(i.onetimeType==="percentage"&&(i.onetimeValue<0||i.onetimeValue>100)&&te.push("Network Monthly: One-time percentage must be between 0-100%"),i.onetimeType==="fixed"&&i.onetimeValue<0&&te.push("Network Monthly: One-time fixed amount cannot be negative")),(i.model==="recurring"||i.model==="hybrid")&&(i.recurringType==="percentage"&&(i.recurringValue<0||i.recurringValue>100)&&te.push("Network Monthly: Recurring percentage must be between 0-100%"),i.recurringType==="fixed"&&i.recurringValue<0&&te.push("Network Monthly: Recurring fixed amount cannot be negative"),(i.recurringDuration<1||i.recurringDuration>24)&&te.push("Network Monthly: Duration must be between 1-24 months")),(l.model==="onetime"||l.model==="hybrid")&&(l.onetimeType==="percentage"&&(l.onetimeValue<0||l.onetimeValue>100)&&te.push("Network Yearly: One-time percentage must be between 0-100%"),l.onetimeType==="fixed"&&l.onetimeValue<0&&te.push("Network Yearly: One-time fixed amount cannot be negative")),(l.model==="recurring"||l.model==="hybrid")&&(l.recurringType==="percentage"&&(l.recurringValue<0||l.recurringValue>100)&&te.push("Network Yearly: Recurring percentage must be between 0-100%"),l.recurringType==="fixed"&&l.recurringValue<0&&te.push("Network Yearly: Recurring fixed amount cannot be negative"),(l.recurringDuration<1||l.recurringDuration>24)&&te.push("Network Yearly: Duration must be between 1-24 months")),Object.entries(p).forEach(([_e,pe])=>{if(pe.enabled){const De=f.find(et=>et.id===_e)?.name||"Unknown Plan";(pe.monthly.model==="onetime"||pe.monthly.model==="hybrid")&&(pe.monthly.onetimeType==="percentage"&&(pe.monthly.onetimeValue<0||pe.monthly.onetimeValue>100)&&te.push(`${De} (Monthly): One-time percentage must be between 0-100%`),pe.monthly.onetimeType==="fixed"&&pe.monthly.onetimeValue<0&&te.push(`${De} (Monthly): One-time fixed amount cannot be negative`)),(pe.monthly.model==="recurring"||pe.monthly.model==="hybrid")&&(pe.monthly.recurringType==="percentage"&&(pe.monthly.recurringValue<0||pe.monthly.recurringValue>100)&&te.push(`${De} (Monthly): Recurring percentage must be between 0-100%`),pe.monthly.recurringType==="fixed"&&pe.monthly.recurringValue<0&&te.push(`${De} (Monthly): Recurring fixed amount cannot be negative`),(pe.monthly.recurringDuration<1||pe.monthly.recurringDuration>24)&&te.push(`${De} (Monthly): Duration must be between 1-24 months`)),(pe.yearly.model==="onetime"||pe.yearly.model==="hybrid")&&(pe.yearly.onetimeType==="percentage"&&(pe.yearly.onetimeValue<0||pe.yearly.onetimeValue>100)&&te.push(`${De} (Yearly): One-time percentage must be between 0-100%`),pe.yearly.onetimeType==="fixed"&&pe.yearly.onetimeValue<0&&te.push(`${De} (Yearly): One-time fixed amount cannot be negative`)),(pe.yearly.model==="recurring"||pe.yearly.model==="hybrid")&&(pe.yearly.recurringType==="percentage"&&(pe.yearly.recurringValue<0||pe.yearly.recurringValue>100)&&te.push(`${De} (Yearly): Recurring percentage must be between 0-100%`),pe.yearly.recurringType==="fixed"&&pe.yearly.recurringValue<0&&te.push(`${De} (Yearly): Recurring fixed amount cannot be negative`),(pe.yearly.recurringDuration<1||pe.yearly.recurringDuration>24)&&te.push(`${De} (Yearly): Duration must be between 1-24 months`));const le=pe.monthly.model==="onetime"&&pe.monthly.onetimeValue>0||pe.monthly.model==="recurring"&&pe.monthly.recurringValue>0||pe.monthly.model==="hybrid"&&(pe.monthly.onetimeValue>0||pe.monthly.recurringValue>0),Re=pe.yearly.model==="onetime"&&pe.yearly.onetimeValue>0||pe.yearly.model==="recurring"&&pe.yearly.recurringValue>0||pe.yearly.model==="hybrid"&&(pe.yearly.onetimeValue>0||pe.yearly.recurringValue>0);!le&&!Re&&te.push(`${De}: Commission is enabled but all values are 0 - helpers will not earn anything`)}}),k<0&&te.push("Minimum Payout Threshold cannot be negative"),(!H||H.trim()==="")&&te.push("Referral Code Prefix cannot be empty"),H.length>6&&te.push("Referral Code Prefix must be 6 characters or less"),F<-1&&te.push("Max Helpers Per Recruiter must be -1 (unlimited) or a positive number"),{isValid:te.length===0,errors:te}},He=(te,_e)=>{const pe={..._e};return te==="onetime"?(pe.recurring_value=0,pe.recurring_duration=12):te==="recurring"&&(pe.onetime_value=0),pe},de=()=>{if(!U)return{commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]};const te={commissionModel:[],commissionRates:[],featureToggles:[],paymentSettings:[],recruitmentSettings:[]},_e=(Ie,De)=>Ie==="percentage"?`${De}%`:`${De}`,pe={onetime:"One-time",recurring:"Recurring",hybrid:"Hybrid"};if(JSON.stringify(i)!==JSON.stringify(U.networkMonthly)&&(i.model!==U.networkMonthly.model&&te.commissionModel.push(`Monthly: ${pe[U.networkMonthly.model]}  ${pe[i.model]}`),i.onetimeValue!==U.networkMonthly.onetimeValue&&te.commissionRates.push(`Monthly One-time: ${_e(U.networkMonthly.onetimeType,U.networkMonthly.onetimeValue)}  ${_e(i.onetimeType,i.onetimeValue)}`),i.recurringValue!==U.networkMonthly.recurringValue&&te.commissionRates.push(`Monthly Recurring: ${_e(U.networkMonthly.recurringType,U.networkMonthly.recurringValue)}  ${_e(i.recurringType,i.recurringValue)}`),i.recurringDuration!==U.networkMonthly.recurringDuration&&te.commissionRates.push(`Monthly Duration: ${U.networkMonthly.recurringDuration}  ${i.recurringDuration} months`)),JSON.stringify(l)!==JSON.stringify(U.networkYearly)&&(l.model!==U.networkYearly.model&&te.commissionModel.push(`Yearly: ${pe[U.networkYearly.model]}  ${pe[l.model]}`),l.onetimeValue!==U.networkYearly.onetimeValue&&te.commissionRates.push(`Yearly One-time: ${_e(U.networkYearly.onetimeType,U.networkYearly.onetimeValue)}  ${_e(l.onetimeType,l.onetimeValue)}`),l.recurringValue!==U.networkYearly.recurringValue&&te.commissionRates.push(`Yearly Recurring: ${_e(U.networkYearly.recurringType,U.networkYearly.recurringValue)}  ${_e(l.recurringType,l.recurringValue)}`)),Object.keys(p).forEach(Ie=>{const De=f.find(et=>et.id===Ie);if(!De)return;const le=p[Ie],Re=U.planCommissions?.[Ie];Re&&(le.enabled!==Re.enabled&&te.featureToggles.push(`${De.name}: ${le.enabled?"Enabled":"Disabled"}`),JSON.stringify(le.monthly)!==JSON.stringify(Re.monthly)&&(le.monthly.model!==Re.monthly.model&&te.commissionModel.push(`${De.name} Monthly: ${pe[Re.monthly.model]}  ${pe[le.monthly.model]}`),le.monthly.onetimeValue!==Re.monthly.onetimeValue&&te.commissionRates.push(`${De.name} Monthly: ${_e(Re.monthly.onetimeType,Re.monthly.onetimeValue)}  ${_e(le.monthly.onetimeType,le.monthly.onetimeValue)}`)),JSON.stringify(le.yearly)!==JSON.stringify(Re.yearly)&&(le.yearly.onetimeValue!==Re.yearly.onetimeValue||le.yearly.recurringValue!==Re.yearly.recurringValue)&&te.commissionRates.push(`${De.name} Yearly: Commission updated`))}),g!==U.enableMultiTier&&te.featureToggles.push(`Multi-Tier Program: ${g?"Enabled":"Disabled"}`),w!==U.autoApproveApplications&&te.featureToggles.push(`Auto-approve Applications: ${w?"Enabled":"Disabled"}`),j!==U.sendWelcomeEmail&&te.featureToggles.push(`Welcome Email: ${j?"Enabled":"Disabled"}`),S!==U.sendCommissionNotifications&&te.featureToggles.push(`Commission Notifications: ${S?"Enabled":"Disabled"}`),k!==U.minPayoutThreshold&&te.paymentSettings.push(`Minimum Payout: ${U.minPayoutThreshold}  ${k}`),O!==U.paymentSchedule&&te.paymentSettings.push(`Schedule: ${U.paymentSchedule}  ${O}`),P!==U.paymentDay&&te.paymentSettings.push(`Payment Day: ${U.paymentDay}  ${P}`),F!==U.maxHelpersPerRecruiter){const Ie=U.maxHelpersPerRecruiter===-1?"Unlimited":U.maxHelpersPerRecruiter,De=F===-1?"Unlimited":F;te.recruitmentSettings.push(`Max Helpers: ${Ie}  ${De}`)}return H!==U.referralCodePrefix&&te.recruitmentSettings.push(`Code Prefix: ${U.referralCodePrefix}  ${H}`),te},we=async()=>{if(Object.keys(J).length>0){ot.error("Please fix all field errors before saving",{description:"Check the red-highlighted fields above",duration:4e3});return}const _e=qe();if(!_e.isValid){_e.errors.forEach((pe,Ie)=>{setTimeout(()=>{ot.error(pe,{duration:5e3})},Ie*100)});return}a(!0);try{const{data:pe}=await Z.from("commission_settings").select("id, version").eq("is_active",!0).single(),Ie=pe?pe.version+1:1;pe&&await Z.from("commission_settings").update({is_active:!1}).eq("id",pe.id);const{data:De,error:le}=await Z.from("commission_settings").insert({version:Ie,enable_multi_tier:g,auto_approve_applications:w,send_welcome_email:j,send_commission_notifications:S,min_payout_threshold:k,payment_schedule:O,payment_day:P,max_helpers_per_recruiter:F,referral_code_prefix:H,auto_generate_codes:G,is_active:!0}).select().single();if(le)throw le;const Re=He(i.model,{onetime_type:i.onetimeType,onetime_value:i.onetimeValue,recurring_type:i.recurringType,recurring_value:i.recurringValue,recurring_duration:i.recurringDuration}),{error:et}=await Z.from("network_commission").insert({settings_id:De.id,subscription_type:"monthly",commission_model:i.model,...Re});if(et)throw et;const xt=He(l.model,{onetime_type:l.onetimeType,onetime_value:l.onetimeValue,recurring_type:l.recurringType,recurring_value:l.recurringValue,recurring_duration:l.recurringDuration}),{error:at}=await Z.from("network_commission").insert({settings_id:De.id,subscription_type:"yearly",commission_model:l.model,...xt});if(at)throw at;for(const[Xt,At]of Object.entries(p)){const Pt=He(At.monthly.model,{onetime_type:At.monthly.onetimeType,onetime_value:At.monthly.onetimeValue,recurring_type:At.monthly.recurringType,recurring_value:At.monthly.recurringValue,recurring_duration:At.monthly.recurringDuration}),{error:lr}=await Z.from("plan_commission").insert({settings_id:De.id,plan_id:Xt,subscription_type:"monthly",enabled:At.enabled,commission_model:At.monthly.model,...Pt});if(lr)throw lr;const Pr=He(At.yearly.model,{onetime_type:At.yearly.onetimeType,onetime_value:At.yearly.onetimeValue,recurring_type:At.yearly.recurringType,recurring_value:At.yearly.recurringValue,recurring_duration:At.yearly.recurringDuration}),{error:Mr}=await Z.from("plan_commission").insert({settings_id:De.id,plan_id:Xt,subscription_type:"yearly",enabled:At.enabled,commission_model:At.yearly.model,...Pr});if(Mr)throw Mr}const St=de();ge(St),he(!0),ot.success(`Settings saved successfully! (Version ${Ie})`),a(!1),ne({networkMonthly:{...i},networkYearly:{...l},planCommissions:JSON.parse(JSON.stringify(p)),enableMultiTier:g,autoApproveApplications:w,sendWelcomeEmail:j,sendCommissionNotifications:S,minPayoutThreshold:k,paymentSchedule:O,paymentDay:P,maxHelpersPerRecruiter:F,referralCodePrefix:H,autoGenerateCodes:G})}catch(pe){console.error("Error saving settings:",pe),ot.error("Failed to save settings"),a(!1)}};if(t)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})});const Oe=[{label:"1 month",value:1},{label:"3 months",value:3},{label:"6 months",value:6},{label:"12 months",value:12},{label:"24 months",value:24}],Ye=100,Je=1e3,Ne=(te,_e=!1)=>{const pe=_e?Je:Ye,Ie=_e?l:i;if(Ie.model==="onetime")return te===1?Ie.onetimeType==="percentage"?pe*Ie.onetimeValue/100:Ie.onetimeValue:0;if(Ie.model==="recurring")return te<=Ie.recurringDuration?Ie.recurringType==="percentage"?pe*Ie.recurringValue/100:Ie.recurringValue:0;{const De=te===1?Ie.onetimeType==="percentage"?pe*Ie.onetimeValue/100:Ie.onetimeValue:0,le=te>1&&te<=Ie.recurringDuration+1?Ie.recurringType==="percentage"?pe*Ie.recurringValue/100:Ie.recurringValue:0;return De+le}};return s.jsx("div",{className:"min-h-screen bg-background p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(ba,{className:"h-8 w-8"}),"Commission Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure commission rates, payment settings, and helper program rules"})]}),s.jsx(ae,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Network Commission Settings"}),s.jsx(Cr,{children:"Commission when helper recruits a another helper (multi-tier)"})]}),s.jsx(Te,{children:s.jsxs(Qu,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(nu,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(hn,{value:"monthly",children:"Monthly Subscription"}),s.jsx(hn,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(mn,{value:"monthly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-onetime",name:"network-monthly-model",checked:i.model==="onetime",onChange:()=>o(te=>({...te,model:"onetime"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-monthly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-recurring",name:"network-monthly-model",checked:i.model==="recurring",onChange:()=>o(te=>({...te,model:"recurring"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-monthly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-monthly-hybrid",name:"network-monthly-model",checked:i.model==="hybrid",onChange:()=>o(te=>({...te,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-monthly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(yr,{value:i.onetimeType,onValueChange:te=>o(_e=>({..._e,onetimeType:te})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:i.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:i.onetimeValue,onChange:te=>{const _e=te.target.value===""?0:Number(te.target.value);o(pe=>({...pe,onetimeValue:_e})),ue("networkMonthlyOnetimeValue",_e,i.onetimeType)},onBlur:()=>ue("networkMonthlyOnetimeValue",i.onetimeValue,i.onetimeType),min:0,max:i.onetimeType==="percentage"?100:void 0,className:J.networkMonthlyOnetimeValue?"border-red-500 focus-visible:ring-red-500":""}),J.networkMonthlyOnetimeValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.networkMonthlyOnetimeValue]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store completes onboarding and first subscription payment"})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(yr,{value:i.recurringType,onValueChange:te=>o(_e=>({..._e,recurringType:te})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:i.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:i.recurringValue,onChange:te=>{const _e=te.target.value===""?0:Number(te.target.value);o(pe=>({...pe,recurringValue:_e})),ue("networkMonthlyRecurringValue",_e,i.recurringType)},onBlur:()=>ue("networkMonthlyRecurringValue",i.recurringValue,i.recurringType),min:0,max:i.recurringType==="percentage"?100:void 0,className:J.networkMonthlyRecurringValue?"border-red-500 focus-visible:ring-red-500":""}),J.networkMonthlyRecurringValue&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.networkMonthlyRecurringValue]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Months)"}),s.jsxs(yr,{value:i.recurringDuration.toString(),onValueChange:te=>o(_e=>({..._e,recurringDuration:parseInt(te)})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsx(hr,{children:Oe.map(te=>s.jsx(Ke,{value:te.value.toString(),children:te.label},te.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid monthly for the specified duration while store remains active"})]}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(lc,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100",children:["Earnings Preview (Store pays ",Ye,"/month):"]}),s.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200 space-y-1",children:[s.jsxs("p",{children:[" Month 1: ",Ne(1,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 2: ",Ne(2,!1).toFixed(2)]}),s.jsxs("p",{children:[" Month 12: ",Ne(12,!1).toFixed(2)]}),i.recurringDuration>12&&s.jsxs("p",{children:[" Month ",i.recurringDuration+1,": ",Ne(i.recurringDuration+1,!1).toFixed(2)]})]})]})]})})]}),s.jsxs(mn,{value:"yearly",className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Commission Model"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-onetime",name:"network-yearly-model",checked:l.model==="onetime",onChange:()=>c(te=>({...te,model:"onetime"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-yearly-onetime",className:"font-normal cursor-pointer",children:"Model 1: One-time Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-recurring",name:"network-yearly-model",checked:l.model==="recurring",onChange:()=>c(te=>({...te,model:"recurring"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-yearly-recurring",className:"font-normal cursor-pointer",children:"Model 2: Recurring Commission Only"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"network-yearly-hybrid",name:"network-yearly-model",checked:l.model==="hybrid",onChange:()=>c(te=>({...te,model:"hybrid"})),className:"h-4 w-4"}),s.jsx(Ce,{htmlFor:"network-yearly-hybrid",className:"font-normal cursor-pointer",children:"Model 3: Onboarding + Recurring (Hybrid)"})]})]})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"One-time Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(yr,{value:l.onetimeType,onValueChange:te=>c(_e=>({..._e,onetimeType:te})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:l.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:l.onetimeValue,onChange:te=>c(_e=>({..._e,onetimeValue:te.target.value===""?0:Number(te.target.value)})),min:0,max:l.onetimeType==="percentage"?100:void 0})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid when store purchases yearly subscription (higher to incentivize yearly sales)"})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"text-base font-semibold",children:"Recurring Network Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Commission Type"}),s.jsxs(yr,{value:l.recurringType,onValueChange:te=>c(_e=>({..._e,recurringType:te})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:l.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:l.recurringValue,onChange:te=>c(_e=>({..._e,recurringValue:te.target.value===""?0:Number(te.target.value)})),min:0,max:l.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Years)"}),s.jsxs(yr,{value:l.recurringDuration.toString(),onValueChange:te=>c(_e=>({..._e,recurringDuration:parseInt(te)})),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsx(hr,{children:Oe.map(te=>s.jsxs(Ke,{value:te.value.toString(),children:[te.label," ",te.value>1?"years":"year"]},te.value))})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid yearly for the specified duration while store renews subscription"})]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(lc,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 mt-0.5"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("p",{className:"text-sm font-semibold text-orange-900 dark:text-orange-100",children:["Earnings Preview (Store pays ",Je,"/year):"]}),s.jsxs("div",{className:"text-sm text-orange-800 dark:text-orange-200 space-y-1",children:[s.jsxs("p",{children:[" Year 1: ",Ne(1,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 2: ",Ne(2,!0).toFixed(2)]}),s.jsxs("p",{children:[" Year 12: ",Ne(12,!0).toFixed(2)]}),l.recurringDuration>12&&s.jsxs("p",{children:[" Year ",l.recurringDuration+1,": ",Ne(l.recurringDuration+1,!0).toFixed(2)]})]})]})]})})]})]})})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Plan-Specific Commission"}),s.jsx(Cr,{children:"Customize commission rates for specific subscription plans. When disabled, global settings apply."})]}),s.jsx(Te,{children:f.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(ba,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No subscription plans found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please create subscription plans first before configuring plan-specific commissions."})]}):s.jsx(zVe,{type:"multiple",className:"w-full",children:f.map(te=>{const _e=p[te.id];return _e?s.jsxs(_ue,{value:te.id,children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx(jue,{className:"flex-1 hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`font-semibold ${_e.enabled?"":"text-red-600 dark:text-red-400"}`,children:te.name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",te.monthly_price,"/month  ",te.yearly_price,"/year"]})]})}),s.jsxs("div",{className:"flex items-center gap-2 pr-4",children:[s.jsx(Wr,{checked:_e.enabled,onCheckedChange:()=>Q(te.id)}),s.jsx("span",{className:`text-sm ${_e.enabled?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:_e.enabled?"Enabled":"Disabled"})]})]}),s.jsx(Nue,{children:_e.enabled?s.jsxs(Qu,{defaultValue:"monthly",className:"w-full",children:[s.jsxs(nu,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(hn,{value:"monthly",children:"Monthly Subscription"}),s.jsx(hn,{value:"yearly",children:"Yearly Subscription"})]}),s.jsxs(mn,{value:"monthly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(pe=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${te.id}-monthly-${pe}`,name:`${te.id}-monthly-model`,checked:_e.monthly.model===pe,onChange:()=>V(te.id,"monthly","model",pe),className:"h-4 w-4"}),s.jsxs(Ce,{htmlFor:`${te.id}-monthly-${pe}`,className:"font-normal cursor-pointer",children:["Model ",pe==="onetime"?"1":pe==="recurring"?"2":"3",":",pe==="onetime"?" One-time Only":pe==="recurring"?" Recurring Only":" Hybrid"]})]},pe))})]}),(_e.monthly.model==="onetime"||_e.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(yr,{value:_e.monthly.onetimeType,onValueChange:pe=>V(te.id,"monthly","onetimeType",pe),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.monthly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.monthly.onetimeValue,onChange:pe=>V(te.id,"monthly","onetimeValue",pe.target.value===""?0:Number(pe.target.value)),min:0,max:_e.monthly.onetimeType==="percentage"?100:void 0})]})]})]}),(_e.monthly.model==="recurring"||_e.monthly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(yr,{value:_e.monthly.recurringType,onValueChange:pe=>V(te.id,"monthly","recurringType",pe),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.monthly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.monthly.recurringValue,onChange:pe=>V(te.id,"monthly","recurringValue",pe.target.value===""?0:Number(pe.target.value)),min:0,max:_e.monthly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Months)"}),s.jsxs(yr,{value:_e.monthly.recurringDuration.toString(),onValueChange:pe=>V(te.id,"monthly","recurringDuration",parseInt(pe)),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsx(hr,{children:Oe.map(pe=>s.jsx(Ke,{value:pe.value.toString(),children:pe.label},pe.value))})]})]})]})]})]}),s.jsxs(mn,{value:"yearly",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{className:"font-semibold",children:"Commission Model"}),s.jsx("div",{className:"space-y-2",children:["onetime","recurring","hybrid"].map(pe=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:`${te.id}-yearly-${pe}`,name:`${te.id}-yearly-model`,checked:_e.yearly.model===pe,onChange:()=>V(te.id,"yearly","model",pe),className:"h-4 w-4"}),s.jsxs(Ce,{htmlFor:`${te.id}-yearly-${pe}`,className:"font-normal cursor-pointer",children:["Model ",pe==="onetime"?"1":pe==="recurring"?"2":"3",":",pe==="onetime"?" One-time Only":pe==="recurring"?" Recurring Only":" Hybrid"]})]},pe))})]}),(_e.yearly.model==="onetime"||_e.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Onboarding Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(yr,{value:_e.yearly.onetimeType,onValueChange:pe=>V(te.id,"yearly","onetimeType",pe),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.yearly.onetimeType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.yearly.onetimeValue,onChange:pe=>V(te.id,"yearly","onetimeValue",pe.target.value===""?0:Number(pe.target.value)),min:0,max:_e.yearly.onetimeType==="percentage"?100:void 0})]})]})]}),(_e.yearly.model==="recurring"||_e.yearly.model==="hybrid")&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(Ce,{className:"font-semibold",children:"Recurring Commission"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Type"}),s.jsxs(yr,{value:_e.yearly.recurringType,onValueChange:pe=>V(te.id,"yearly","recurringType",pe),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),s.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:_e.yearly.recurringType==="percentage"?"Rate (%)":"Amount ()"}),s.jsx(Ve,{type:"number",value:_e.yearly.recurringValue,onChange:pe=>V(te.id,"yearly","recurringValue",pe.target.value===""?0:Number(pe.target.value)),min:0,max:_e.yearly.recurringType==="percentage"?100:void 0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Duration (Years)"}),s.jsxs(yr,{value:_e.yearly.recurringDuration.toString(),onValueChange:pe=>V(te.id,"yearly","recurringDuration",parseInt(pe)),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsx(hr,{children:Oe.map(pe=>s.jsxs(Ke,{value:pe.value.toString(),children:[pe.label," ",pe.value>1?"years":"year"]},pe.value))})]})]})]})]})]})]}):s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-red-900 dark:text-red-100 font-semibold",children:" Commission Disabled"}),s.jsxs("p",{className:"text-red-700 dark:text-red-300 text-sm mt-2",children:["Helpers will receive ",s.jsx("strong",{children:"NO commission"})," for recruiting store owners on this plan. Enable commission above to set rates."]})]})})]},te.id):null})})})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Feature Controls"}),s.jsx(Cr,{children:"Enable or disable helper program features"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Enable Multi-Tier Helper Program"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow helpers to recruit other helpers and earn network commissions"})]}),s.jsx(Wr,{checked:g,onCheckedChange:v})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Auto-approve Helper Applications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve all helper applications without manual review"})]}),s.jsx(Wr,{checked:w,onCheckedChange:b})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Send Helper Welcome Email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send welcome email when helper application is approved"})]}),s.jsx(Wr,{checked:j,onCheckedChange:E})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Send Commission Earned Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify helpers when they earn new commissions"})]}),s.jsx(Wr,{checked:S,onCheckedChange:C})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Payment Settings"}),s.jsx(Cr,{children:"Configure payment schedules and thresholds"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Minimum Payout Threshold ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{type:"number",value:k,onChange:te=>{const _e=parseFloat(te.target.value);R(_e),ue("minPayoutThreshold",_e)},onBlur:()=>ue("minPayoutThreshold",k),min:0,className:J.minPayoutThreshold?"border-red-500 focus-visible:ring-red-500":""}),J.minPayoutThreshold&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.minPayoutThreshold]})]}),!J.minPayoutThreshold&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Helpers must earn at least this amount before payment is processed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Schedule"}),s.jsxs(yr,{value:O,onValueChange:A,children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"weekly",children:"Weekly"}),s.jsx(Ke,{value:"biweekly",children:"Bi-weekly"}),s.jsx(Ke,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Payment Day"}),s.jsxs(yr,{value:P,onValueChange:D,children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsx(hr,{children:O==="weekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:"monday",children:"Every Monday"}),s.jsx(Ke,{value:"tuesday",children:"Every Tuesday"}),s.jsx(Ke,{value:"wednesday",children:"Every Wednesday"}),s.jsx(Ke,{value:"thursday",children:"Every Thursday"}),s.jsx(Ke,{value:"friday",children:"Every Friday"})]}):O==="biweekly"?s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:"1st-15th",children:"1st and 15th of month"}),s.jsx(Ke,{value:"monday",children:"Every other Monday"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ke,{value:"1st",children:"1st of month"}),s.jsx(Ke,{value:"15th",children:"15th of month"}),s.jsx(Ke,{value:"last",children:"Last day of month"})]})})]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Helper Recruitment Settings"}),s.jsx(Cr,{children:"Configure helper recruitment rules and referral codes"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Maximum Helpers Per Recruiter"}),s.jsx(Ve,{type:"number",value:F===-1?"":F,onChange:te=>L(te.target.value?parseInt(te.target.value):-1),placeholder:"Leave empty for unlimited",min:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty or enter -1 for unlimited recruitment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Referral Code Prefix"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{value:H,onChange:te=>{const _e=te.target.value.toUpperCase();W(_e),ue("referralCodePrefix",_e)},onBlur:()=>ue("referralCodePrefix",H),placeholder:"HELP",maxLength:6,className:J.referralCodePrefix?"border-red-500 focus-visible:ring-red-500":""}),J.referralCodePrefix&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"text-sm",children:""})," ",J.referralCodePrefix]})]}),!J.referralCodePrefix&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix for auto-generated referral codes (e.g., HELP001, HELP002)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{children:"Auto-generate Referral Codes"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate unique referral codes for new helpers"})]}),s.jsx(Wr,{checked:G,onCheckedChange:K})]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(OB,{className:"h-5 w-5"}),"Audit Trail"]}),s.jsx(Cr,{children:"Track all changes to commission settings"})]}),s.jsxs(ae,{variant:"outline",onClick:()=>{z(!Y),Y||Ee()},children:[Y?"Hide":"Show"," History"]})]})}),Y&&s.jsx(Te,{children:I.length===0?s.jsxs("div",{className:"bg-muted/50 border border-dashed rounded-lg p-8 text-center",children:[s.jsx(OB,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground font-medium",children:"No audit records yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Changes to commission settings will appear here"})]}):s.jsx("div",{className:"space-y-3",children:I.map(te=>{let _e="",pe="";return te.table_name==="plan_commission"&&te.new_value?.plan_id?(_e=f.find(De=>De.id===te.new_value.plan_id)?.name||"Unknown Plan",pe=te.new_value.subscription_type?` - ${te.new_value.subscription_type.charAt(0).toUpperCase()+te.new_value.subscription_type.slice(1)}`:""):te.table_name==="network_commission"&&te.new_value?.subscription_type&&(pe=` - ${te.new_value.subscription_type.charAt(0).toUpperCase()+te.new_value.subscription_type.slice(1)}`),s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${te.action==="created"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":te.action==="updated"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":te.action==="deleted"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:te.action.toUpperCase()}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[te.table_name.replace(/_/g," ").replace(/\b\w/g,Ie=>Ie.toUpperCase()),_e&&` - "${_e}"${pe}`,!_e&&pe]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Ml,{className:"h-3 w-3"}),new Date(te.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(e0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:te.changed_by_email||"Unknown User"})]}),te.field_changed&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Field:"})," ",s.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:te.field_changed})]}),(te.old_value||te.new_value)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[te.old_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Previous Values:"}),s.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-3 text-xs space-y-1",children:Object.entries(te.old_value).map(([Ie,De])=>{if(["id","created_at","settings_id","plan_id"].includes(Ie))return null;const le=Ie.split("_").map(et=>et.charAt(0).toUpperCase()+et.slice(1)).join(" ");let Re=De;if(Ie==="commission_model")Re=De==="onetime"?"One-time":De==="recurring"?"Recurring":"Hybrid";else if(Ie==="subscription_type")Re=De.charAt(0).toUpperCase()+De.slice(1);else if(Ie.includes("_type")&&(De==="percentage"||De==="fixed"))Re=De==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Ie.includes("_value")&&Ie.includes("onetime")){const et=Ie.replace("value","type");Re=te.old_value[et]==="percentage"?`${De}%`:`${De}`}else if(Ie.includes("_value")&&Ie.includes("recurring")){const et=Ie.replace("value","type");Re=te.old_value[et]==="percentage"?`${De}%`:`${De}`}else Ie.includes("duration")?Re=`${De} months`:typeof De=="boolean"&&(Re=De?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-red-200 dark:border-red-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[le,":"]}),s.jsx("span",{className:"font-medium",children:String(Re)})]},Ie)})})]}),te.new_value&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"New Values:"}),s.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3 text-xs space-y-1",children:Object.entries(te.new_value).map(([Ie,De])=>{if(["id","created_at","settings_id","plan_id"].includes(Ie))return null;const le=Ie.split("_").map(et=>et.charAt(0).toUpperCase()+et.slice(1)).join(" ");let Re=De;if(Ie==="commission_model")Re=De==="onetime"?"One-time":De==="recurring"?"Recurring":"Hybrid";else if(Ie==="subscription_type")Re=De.charAt(0).toUpperCase()+De.slice(1);else if(Ie.includes("_type")&&(De==="percentage"||De==="fixed"))Re=De==="percentage"?"Percentage (%)":"Fixed Amount ()";else if(Ie.includes("_value")&&Ie.includes("onetime")){const et=Ie.replace("value","type");Re=te.new_value[et]==="percentage"?`${De}%`:`${De}`}else if(Ie.includes("_value")&&Ie.includes("recurring")){const et=Ie.replace("value","type");Re=te.new_value[et]==="percentage"?`${De}%`:`${De}`}else Ie.includes("duration")?Re=`${De} months`:typeof De=="boolean"&&(Re=De?"Enabled":"Disabled");return s.jsxs("div",{className:"flex justify-between py-1 border-b border-green-200 dark:border-green-700 last:border-0",children:[s.jsxs("span",{className:"text-muted-foreground",children:[le,":"]}),s.jsx("span",{className:"font-medium",children:String(Re)})]},Ie)})})]})]}),te.change_reason&&s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reason:"})," ",s.jsx("span",{className:"italic",children:te.change_reason})]})]},te.id)})})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[Object.keys(J).length>0&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[s.jsx("span",{children:""})," Fix ",Object.keys(J).length," error",Object.keys(J).length>1?"s":""," before saving"]}),s.jsxs(ae,{size:"lg",onClick:we,disabled:n||Object.keys(J).length>0,className:Object.keys(J).length>0?"opacity-50 cursor-not-allowed":"",children:[s.jsx(vc,{className:"h-5 w-5 mr-2"}),n?"Saving...":"Save All Settings"]})]}),s.jsx(Sn,{open:ee,onOpenChange:he,children:s.jsxs(yn,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsxs(Cn,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(an,{className:"h-6 w-6 text-green-600"}),"Settings Saved Successfully"]}),s.jsxs(ps,{className:"text-base",children:[fe.commissionModel.length+fe.commissionRates.length+fe.featureToggles.length+fe.paymentSettings.length+fe.recruitmentSettings.length," changes applied to your commission settings"]})]}),s.jsx("div",{className:"mt-6 space-y-6",children:fe.commissionModel.length+fe.commissionRates.length+fe.featureToggles.length+fe.paymentSettings.length+fe.recruitmentSettings.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(lc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No changes detected"})]}):s.jsxs(s.Fragment,{children:[U&&(JSON.stringify(i)!==JSON.stringify(U.networkMonthly)||JSON.stringify(l)!==JSON.stringify(U.networkYearly))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),U&&U.planCommissions&&Object.keys(p).some(te=>{const _e=U.planCommissions[te];return _e&&JSON.stringify(p[te])!==JSON.stringify(_e)})&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(te=>{const _e=f.find(De=>De.id===te),pe=p[te],Ie=U?.planCommissions?.[te];return!_e||!Ie||JSON.stringify(pe)===JSON.stringify(Ie)?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:_e.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${pe.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:pe.enabled?"Enabled":"Disabled"})]}),pe.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:pe.monthly.model==="onetime"?"One-time":pe.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(pe.monthly.model==="onetime"||pe.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:pe.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.monthly.onetimeType==="percentage"?`${pe.monthly.onetimeValue}%`:`${pe.monthly.onetimeValue}`})]})]}),(pe.monthly.model==="recurring"||pe.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:pe.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.monthly.recurringType==="percentage"?`${pe.monthly.recurringValue}%`:`${pe.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[pe.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:pe.yearly.model==="onetime"?"One-time":pe.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(pe.yearly.model==="onetime"||pe.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:pe.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.yearly.onetimeType==="percentage"?`${pe.yearly.onetimeValue}%`:`${pe.yearly.onetimeValue}`})]})]}),(pe.yearly.model==="recurring"||pe.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:pe.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.yearly.recurringType==="percentage"?`${pe.yearly.recurringValue}%`:`${pe.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[pe.yearly.recurringDuration," months"]})]})]})]})]})]})]},te)})})]}),(fe.commissionModel.length>0||fe.commissionRates.length>0)&&(!U||JSON.stringify(i)===JSON.stringify(U.networkMonthly)&&JSON.stringify(l)===JSON.stringify(U.networkYearly)&&!Object.keys(p).some(te=>{const _e=U.planCommissions?.[te];return _e&&JSON.stringify(p[te])!==JSON.stringify(_e)}))&&s.jsxs(s.Fragment,{children:[(fe.commissionModel.some(te=>te.startsWith("Monthly:")||te.startsWith("Yearly:"))||fe.commissionRates.some(te=>te.startsWith("Monthly")||te.startsWith("Yearly")))&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Network Commission Settings"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:i.model==="onetime"?"One-time":i.model==="recurring"?"Recurring":"Hybrid"})]}),(i.model==="onetime"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:i.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.onetimeType==="percentage"?`${i.onetimeValue}%`:`${i.onetimeValue}`})]})]}),(i.model==="recurring"||i.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:i.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:i.recurringType==="percentage"?`${i.recurringValue}%`:`${i.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[i.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:l.model==="onetime"?"One-time":l.model==="recurring"?"Recurring":"Hybrid"})]}),(l.model==="onetime"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:l.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.onetimeType==="percentage"?`${l.onetimeValue}%`:`${l.onetimeValue}`})]})]}),(l.model==="recurring"||l.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:l.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:l.recurringType==="percentage"?`${l.recurringValue}%`:`${l.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[l.recurringDuration," months"]})]})]})]})]})]})})]}),Object.keys(p).filter(te=>{const _e=f.find(pe=>pe.id===te);return _e&&(fe.commissionModel.some(pe=>pe.includes(_e.name))||fe.commissionRates.some(pe=>pe.includes(_e.name))||fe.featureToggles.some(pe=>pe.includes(_e.name)))}).length>0&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Plan-Specific Commission Settings"})}),s.jsx("div",{className:"p-4 space-y-6",children:Object.keys(p).map(te=>{const _e=f.find(Ie=>Ie.id===te),pe=p[te];return!_e||!(fe.commissionModel.some(Ie=>Ie.includes(_e.name))||fe.commissionRates.some(Ie=>Ie.includes(_e.name))||fe.featureToggles.some(Ie=>Ie.includes(_e.name)))?null:s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-semibold text-base",children:_e.name}),s.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${pe.enabled?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:pe.enabled?"Enabled":"Disabled"})]}),pe.enabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:"Monthly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:pe.monthly.model==="onetime"?"One-time":pe.monthly.model==="recurring"?"Recurring":"Hybrid"})]}),(pe.monthly.model==="onetime"||pe.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:pe.monthly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.monthly.onetimeType==="percentage"?`${pe.monthly.onetimeValue}%`:`${pe.monthly.onetimeValue}`})]})]}),(pe.monthly.model==="recurring"||pe.monthly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:pe.monthly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.monthly.recurringType==="percentage"?`${pe.monthly.recurringValue}%`:`${pe.monthly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[pe.monthly.recurringDuration," months"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h5",{className:"font-semibold text-sm text-orange-600 dark:text-orange-400 uppercase tracking-wide",children:"Yearly Subscription"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Model:"}),s.jsx("span",{className:"font-medium",children:pe.yearly.model==="onetime"?"One-time":pe.yearly.model==="recurring"?"Recurring":"Hybrid"})]}),(pe.yearly.model==="onetime"||pe.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Type:"}),s.jsx("span",{className:"font-medium",children:pe.yearly.onetimeType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"One-time Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.yearly.onetimeType==="percentage"?`${pe.yearly.onetimeValue}%`:`${pe.yearly.onetimeValue}`})]})]}),(pe.yearly.model==="recurring"||pe.yearly.model==="hybrid")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Type:"}),s.jsx("span",{className:"font-medium",children:pe.yearly.recurringType==="percentage"?"Percentage":"Fixed Amount"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recurring Rate:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:pe.yearly.recurringType==="percentage"?`${pe.yearly.recurringValue}%`:`${pe.yearly.recurringValue}`})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-medium",children:[pe.yearly.recurringDuration," months"]})]})]})]})]})]})]},te)})})]})]}),(fe.featureToggles.length>0||fe.paymentSettings.length>0||fe.recruitmentSettings.length>0)&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-3 border-b",children:s.jsx("h3",{className:"font-semibold text-base",children:"Other Settings Updated"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[fe.featureToggles.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Feature Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:fe.featureToggles.map((te,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),te]},_e))})]}),fe.paymentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Payment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:fe.paymentSettings.map((te,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),te]},_e))})]}),fe.recruitmentSettings.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Recruitment Settings"}),s.jsx("ul",{className:"space-y-1 text-sm",children:fe.recruitmentSettings.map((te,_e)=>s.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(an,{className:"h-4 w-4 text-green-600"}),te]},_e))})]})]})]})]})}),s.jsx("div",{className:"mt-6 flex justify-end border-t pt-4",children:s.jsx(ae,{onClick:()=>he(!1),size:"lg",children:"Close"})})]})})]})})}var pA,cq;function wo(){if(cq)return pA;cq=1;var e=Array.isArray;return pA=e,pA}var gA,uq;function Sue(){if(uq)return gA;uq=1;var e=typeof c_=="object"&&c_&&c_.Object===Object&&c_;return gA=e,gA}var xA,dq;function fu(){if(dq)return xA;dq=1;var e=Sue(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return xA=r,xA}var vA,fq;function Zw(){if(fq)return vA;fq=1;var e=fu(),t=e.Symbol;return vA=t,vA}var yA,hq;function WVe(){if(hq)return yA;hq=1;var e=Zw(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[a]=c:delete o[a]),d}return yA=i,yA}var bA,mq;function HVe(){if(mq)return bA;mq=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return bA=r,bA}var wA,pq;function dd(){if(pq)return wA;pq=1;var e=Zw(),t=WVe(),r=HVe(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return wA=o,wA}var _A,gq;function fd(){if(gq)return _A;gq=1;function e(t){return t!=null&&typeof t=="object"}return _A=e,_A}var jA,xq;function px(){if(xq)return jA;xq=1;var e=dd(),t=fd(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return jA=n,jA}var NA,vq;function V6(){if(vq)return NA;vq=1;var e=wo(),t=px(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return NA=a,NA}var SA,yq;function Zf(){if(yq)return SA;yq=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return SA=e,SA}var kA,bq;function z6(){if(bq)return kA;bq=1;var e=dd(),t=Zf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==a||c==r||c==i}return kA=o,kA}var CA,wq;function GVe(){if(wq)return CA;wq=1;var e=fu(),t=e["__core-js_shared__"];return CA=t,CA}var EA,_q;function KVe(){if(_q)return EA;_q=1;var e=GVe(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return EA=r,EA}var TA,jq;function kue(){if(jq)return TA;jq=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return TA=r,TA}var AA,Nq;function YVe(){if(Nq)return AA;Nq=1;var e=z6(),t=KVe(),r=Zf(),n=kue(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||t(m))return!1;var p=e(m)?d:i;return p.test(n(m))}return AA=f,AA}var PA,Sq;function XVe(){if(Sq)return PA;Sq=1;function e(t,r){return t?.[r]}return PA=e,PA}var OA,kq;function cp(){if(kq)return OA;kq=1;var e=YVe(),t=XVe();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return OA=r,OA}var RA,Cq;function mk(){if(Cq)return RA;Cq=1;var e=cp(),t=e(Object,"create");return RA=t,RA}var DA,Eq;function JVe(){if(Eq)return DA;Eq=1;var e=mk();function t(){this.__data__=e?e(null):{},this.size=0}return DA=t,DA}var IA,Tq;function ZVe(){if(Tq)return IA;Tq=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return IA=e,IA}var MA,Aq;function QVe(){if(Aq)return MA;Aq=1;var e=mk(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return MA=a,MA}var FA,Pq;function eze(){if(Pq)return FA;Pq=1;var e=mk(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return FA=n,FA}var LA,Oq;function tze(){if(Oq)return LA;Oq=1;var e=mk(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return LA=r,LA}var $A,Rq;function rze(){if(Rq)return $A;Rq=1;var e=JVe(),t=ZVe(),r=QVe(),n=eze(),a=tze();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,$A=i,$A}var BA,Dq;function nze(){if(Dq)return BA;Dq=1;function e(){this.__data__=[],this.size=0}return BA=e,BA}var UA,Iq;function q6(){if(Iq)return UA;Iq=1;function e(t,r){return t===r||t!==t&&r!==r}return UA=e,UA}var VA,Mq;function pk(){if(Mq)return VA;Mq=1;var e=q6();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return VA=t,VA}var zA,Fq;function sze(){if(Fq)return zA;Fq=1;var e=pk(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return zA=n,zA}var qA,Lq;function aze(){if(Lq)return qA;Lq=1;var e=pk();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return qA=t,qA}var WA,$q;function ize(){if($q)return WA;$q=1;var e=pk();function t(r){return e(this.__data__,r)>-1}return WA=t,WA}var HA,Bq;function oze(){if(Bq)return HA;Bq=1;var e=pk();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return HA=t,HA}var GA,Uq;function gk(){if(Uq)return GA;Uq=1;var e=nze(),t=sze(),r=aze(),n=ize(),a=oze();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,GA=i,GA}var KA,Vq;function W6(){if(Vq)return KA;Vq=1;var e=cp(),t=fu(),r=e(t,"Map");return KA=r,KA}var YA,zq;function lze(){if(zq)return YA;zq=1;var e=rze(),t=gk(),r=W6();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return YA=n,YA}var XA,qq;function cze(){if(qq)return XA;qq=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return XA=e,XA}var JA,Wq;function xk(){if(Wq)return JA;Wq=1;var e=cze();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return JA=t,JA}var ZA,Hq;function uze(){if(Hq)return ZA;Hq=1;var e=xk();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return ZA=t,ZA}var QA,Gq;function dze(){if(Gq)return QA;Gq=1;var e=xk();function t(r){return e(this,r).get(r)}return QA=t,QA}var eP,Kq;function fze(){if(Kq)return eP;Kq=1;var e=xk();function t(r){return e(this,r).has(r)}return eP=t,eP}var tP,Yq;function hze(){if(Yq)return tP;Yq=1;var e=xk();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return tP=t,tP}var rP,Xq;function H6(){if(Xq)return rP;Xq=1;var e=lze(),t=uze(),r=dze(),n=fze(),a=hze();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,rP=i,rP}var nP,Jq;function Cue(){if(Jq)return nP;Jq=1;var e=H6(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,nP=r,nP}var sP,Zq;function mze(){if(Zq)return sP;Zq=1;var e=Cue(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return sP=r,sP}var aP,Qq;function pze(){if(Qq)return aP;Qq=1;var e=mze(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return aP=n,aP}var iP,eW;function G6(){if(eW)return iP;eW=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return iP=e,iP}var oP,tW;function gze(){if(tW)return oP;tW=1;var e=Zw(),t=G6(),r=wo(),n=px(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return oP=o,oP}var lP,rW;function Eue(){if(rW)return lP;rW=1;var e=gze();function t(r){return r==null?"":e(r)}return lP=t,lP}var cP,nW;function Tue(){if(nW)return cP;nW=1;var e=wo(),t=V6(),r=pze(),n=Eue();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return cP=a,cP}var uP,sW;function vk(){if(sW)return uP;sW=1;var e=px();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return uP=t,uP}var dP,aW;function K6(){if(aW)return dP;aW=1;var e=Tue(),t=vk();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return dP=r,dP}var fP,iW;function Aue(){if(iW)return fP;iW=1;var e=K6();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return fP=t,fP}var xze=Aue();const Go=Qr(xze);var hP,oW;function vze(){if(oW)return hP;oW=1;function e(t){return t==null}return hP=e,hP}var yze=vze();const Gr=Qr(yze);var mP,lW;function bze(){if(lW)return mP;lW=1;var e=dd(),t=wo(),r=fd(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return mP=a,mP}var wze=bze();const Um=Qr(wze);var _ze=z6();const jr=Qr(_ze);var jze=Zf();const gx=Qr(jze);var pP={exports:{}},gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cW;function Nze(){if(cW)return gn;cW=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case e:switch(v=v.type,v){case r:case a:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case i:return v;default:return w}}case t:return w}}}return gn.ContextConsumer=o,gn.ContextProvider=i,gn.Element=e,gn.ForwardRef=c,gn.Fragment=r,gn.Lazy=m,gn.Memo=f,gn.Portal=t,gn.Profiler=a,gn.StrictMode=n,gn.Suspense=u,gn.SuspenseList=d,gn.isAsyncMode=function(){return!1},gn.isConcurrentMode=function(){return!1},gn.isContextConsumer=function(v){return g(v)===o},gn.isContextProvider=function(v){return g(v)===i},gn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},gn.isForwardRef=function(v){return g(v)===c},gn.isFragment=function(v){return g(v)===r},gn.isLazy=function(v){return g(v)===m},gn.isMemo=function(v){return g(v)===f},gn.isPortal=function(v){return g(v)===t},gn.isProfiler=function(v){return g(v)===a},gn.isStrictMode=function(v){return g(v)===n},gn.isSuspense=function(v){return g(v)===u},gn.isSuspenseList=function(v){return g(v)===d},gn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===u||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},gn.typeOf=g,gn}var uW;function Sze(){return uW||(uW=1,pP.exports=Nze()),pP.exports}var kze=Sze(),gP,dW;function Pue(){if(dW)return gP;dW=1;var e=dd(),t=fd(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return gP=n,gP}var xP,fW;function Cze(){if(fW)return xP;fW=1;var e=Pue();function t(r){return e(r)&&r!=+r}return xP=t,xP}var Eze=Cze();const Qw=Qr(Eze);var Tze=Pue();const Aze=Qr(Tze);var zi=function(t){return t===0?0:t>0?1:-1},qh=function(t){return Um(t)&&t.indexOf("%")===t.length-1},_t=function(t){return Aze(t)&&!Qw(t)},Pze=function(t){return Gr(t)},_a=function(t){return _t(t)||Um(t)},Oze=0,e1=function(t){var r=++Oze;return"".concat(t||"").concat(r)},qi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(t)&&!Um(t))return n;var i;if(qh(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Qw(i)&&(i=n),a&&i>r&&(i=r),i},Kd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Rze=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Wd=function(t,r){return _t(t)&&_t(r)?function(n){return t+n*(r-t)}:function(){return r}};function A3(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Go(n,t))===r})}var Dze=function(t,r){return _t(t)&&_t(r)?t-r:Um(t)&&Um(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Jg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function P3(e){"@babel/helpers - typeof";return P3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P3(e)}var Ize=["viewBox","children"],Mze=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hW=["points","pathLength"],vP={svg:Ize,polygon:hW,polyline:hW},Y6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rS=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!gx(n))return null;var a={};return Object.keys(n).forEach(function(i){Y6.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Fze=function(t,r,n){return function(a){return t(r,n,a),null}},Vm=function(t,r,n){if(!gx(t)||P3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Y6.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Fze(o,r,n))}),a},Lze=["children"],$ze=["children"];function mW(e,t){if(e==null)return{};var r=Bze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pW={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},zu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},gW=null,yP=null,X6=function e(t){if(t===gW&&Array.isArray(yP))return yP;var r=[];return _.Children.forEach(t,function(n){Gr(n)||(kze.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),yP=r,gW=t,r};function Il(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return zu(a)}):n=[zu(t)],X6(e).forEach(function(a){var i=Go(a,"type.displayName")||Go(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Po(e,t){var r=Il(e,t);return r&&r[0]}var xW=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!_t(n)||n<=0||!_t(a)||a<=0)},Uze=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Vze=function(t){return t&&t.type&&Um(t.type)&&Uze.indexOf(t.type)>=0},zze=function(t,r,n,a){var i,o=(i=vP?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!jr(t)&&(a&&o.includes(r)||Mze.includes(r))||n&&Y6.includes(r)},pr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!gx(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;zze((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},O3=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return vW(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!vW(i,o))return!1}return!0},vW=function(t,r){if(Gr(t)&&Gr(r))return!0;if(!Gr(t)&&!Gr(r)){var n=t.props||{},a=n.children,i=mW(n,Lze),o=r.props||{},l=o.children,c=mW(o,$ze);return a&&l?Jg(i,c)&&O3(a,l):!a&&!l?Jg(i,c):!1}return!1},yW=function(t,r){var n=[],a={};return X6(t).forEach(function(i,o){if(Vze(i))n.push(i);else if(i){var l=zu(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},qze=function(t){var r=t&&t.type;return r&&pW[r]?pW[r]:null},Wze=function(t,r){return X6(r).indexOf(t)},Hze=["children","width","height","viewBox","className","style","title","desc"];function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R3.apply(this,arguments)}function Gze(e,t){if(e==null)return{};var r=Kze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D3(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Gze(e,Hze),d=a||{width:r,height:n,x:0,y:0},f=Ir("recharts-surface",i);return ce.createElement("svg",R3({},pr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ce.createElement("title",null,l),ce.createElement("desc",null,c),t)}var Yze=["children","className"];function I3(){return I3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I3.apply(this,arguments)}function Xze(e,t){if(e==null)return{};var r=Jze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var En=ce.forwardRef(function(e,t){var r=e.children,n=e.className,a=Xze(e,Yze),i=Ir("recharts-layer",n);return ce.createElement("g",I3({className:i},pr(a,!0),{ref:t}),r)}),gc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},bP,bW;function Zze(){if(bW)return bP;bW=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return bP=e,bP}var wP,wW;function Qze(){if(wW)return wP;wW=1;var e=Zze();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return wP=t,wP}var _P,_W;function Oue(){if(_W)return _P;_W=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+i+"]");function c(u){return l.test(u)}return _P=c,_P}var jP,jW;function eqe(){if(jW)return jP;jW=1;function e(t){return t.split("")}return jP=e,jP}var NP,NW;function tqe(){if(NW)return NP;NW=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",g="["+i+"]?",v="(?:"+p+"(?:"+[d,f,m].join("|")+")"+g+y+")*",w=g+y+v,b="(?:"+[d+l+"?",l,f,m,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+b+w,"g");function E(S){return S.match(j)||[]}return NP=E,NP}var SP,SW;function rqe(){if(SW)return SP;SW=1;var e=eqe(),t=Oue(),r=tqe();function n(a){return t(a)?r(a):e(a)}return SP=n,SP}var kP,kW;function nqe(){if(kW)return kP;kW=1;var e=Qze(),t=Oue(),r=rqe(),n=Eue();function a(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return kP=a,kP}var CP,CW;function sqe(){if(CW)return CP;CW=1;var e=nqe(),t=e("toUpperCase");return CP=t,CP}var aqe=sqe();const yk=Qr(aqe);function Hn(e){return function(){return e}}const Rue=Math.cos,nS=Math.sin,Nc=Math.sqrt,sS=Math.PI,bk=2*sS,M3=Math.PI,F3=2*M3,Th=1e-6,iqe=F3-Th;function Due(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oqe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Due;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lqe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Due:oqe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Th)if(!(Math.abs(f*c-u*d)>Th)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=a-l,g=c*c+u*u,v=p*p+y*y,w=Math.sqrt(g),b=Math.sqrt(m),j=i*Math.tan((M3-Math.acos((g+m-v)/(2*w*b)))/2),E=j/b,S=j/w;Math.abs(E-1)>Th&&this._append`L${t+E*d},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*p>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Th||Math.abs(this._y1-d)>Th)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%F3+F3),m>iqe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Th&&this._append`A${n},${n},0,${+(m>=M3)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function J6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lqe(t)}function Z6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Iue(e){this._context=e}Iue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wk(e){return new Iue(e)}function Mue(e){return e[0]}function Fue(e){return e[1]}function Lue(e,t){var r=Hn(!0),n=null,a=wk,i=null,o=J6(l);e=typeof e=="function"?e:e===void 0?Mue:Hn(e),t=typeof t=="function"?t:t===void 0?Fue:Hn(t);function l(c){var u,d=(c=Z6(c)).length,f,m=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Hn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Hn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Hn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function tj(e,t,r){var n=null,a=Hn(!0),i=null,o=wk,l=null,c=J6(u);e=typeof e=="function"?e:e===void 0?Mue:Hn(+e),t=typeof t=="function"?t:Hn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Fue:Hn(+r);function u(f){var m,p,y,g=(f=Z6(f)).length,v,w=!1,b,j=new Array(g),E=new Array(g);for(i==null&&(l=o(b=c())),m=0;m<=g;++m){if(!(m<g&&a(v=f[m],m,f))===w)if(w=!w)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(j[y],E[y]);l.lineEnd(),l.areaEnd()}w&&(j[m]=+e(v,m,f),E[m]=+t(v,m,f),l.point(n?+n(v,m,f):j[m],r?+r(v,m,f):E[m]))}if(b)return l=null,b+""||null}function d(){return Lue().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Hn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Hn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Hn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class $ue{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cqe(e){return new $ue(e,!0)}function uqe(e){return new $ue(e,!1)}const Q6={draw(e,t){const r=Nc(t/sS);e.moveTo(r,0),e.arc(0,0,r,0,bk)}},dqe={draw(e,t){const r=Nc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Bue=Nc(1/3),fqe=Bue*2,hqe={draw(e,t){const r=Nc(t/fqe),n=r*Bue;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},mqe={draw(e,t){const r=Nc(t),n=-r/2;e.rect(n,n,r,r)}},pqe=.8908130915292852,Uue=nS(sS/10)/nS(7*sS/10),gqe=nS(bk/10)*Uue,xqe=-Rue(bk/10)*Uue,vqe={draw(e,t){const r=Nc(t*pqe),n=gqe*r,a=xqe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=bk*i/5,l=Rue(o),c=nS(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},EP=Nc(3),yqe={draw(e,t){const r=-Nc(t/(EP*3));e.moveTo(0,r*2),e.lineTo(-EP*r,-r),e.lineTo(EP*r,-r),e.closePath()}},ol=-.5,ll=Nc(3)/2,L3=1/Nc(12),bqe=(L3/2+1)*3,wqe={draw(e,t){const r=Nc(t/bqe),n=r/2,a=r*L3,i=n,o=r*L3+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ol*n-ll*a,ll*n+ol*a),e.lineTo(ol*i-ll*o,ll*i+ol*o),e.lineTo(ol*l-ll*c,ll*l+ol*c),e.lineTo(ol*n+ll*a,ol*a-ll*n),e.lineTo(ol*i+ll*o,ol*o-ll*i),e.lineTo(ol*l+ll*c,ol*c-ll*l),e.closePath()}};function _qe(e,t){let r=null,n=J6(a);e=typeof e=="function"?e:Hn(e||Q6),t=typeof t=="function"?t:Hn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Hn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Hn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function aS(){}function iS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Vue(e){this._context=e}Vue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jqe(e){return new Vue(e)}function zue(e){this._context=e}zue.prototype={areaStart:aS,areaEnd:aS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nqe(e){return new zue(e)}function que(e){this._context=e}que.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sqe(e){return new que(e)}function Wue(e){this._context=e}Wue.prototype={areaStart:aS,areaEnd:aS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function kqe(e){return new Wue(e)}function EW(e){return e<0?-1:1}function TW(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(EW(i)+EW(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function AW(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function TP(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function oS(e){this._context=e}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TP(this,this._t0,AW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TP(this,AW(this,r=TW(this,e,t)),r);break;default:TP(this,this._t0,r=TW(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Hue(e){this._context=new Gue(e)}(Hue.prototype=Object.create(oS.prototype)).point=function(e,t){oS.prototype.point.call(this,t,e)};function Gue(e){this._context=e}Gue.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Cqe(e){return new oS(e)}function Eqe(e){return new Hue(e)}function Kue(e){this._context=e}Kue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PW(e),a=PW(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PW(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Tqe(e){return new Kue(e)}function _k(e,t){this._context=e,this._t=t}_k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Aqe(e){return new _k(e,.5)}function Pqe(e){return new _k(e,0)}function Oqe(e){return new _k(e,1)}function S0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Rqe(e,t){return e[t]}function Dqe(e){const t=[];return t.key=e,t}function Iqe(){var e=Hn([]),t=$3,r=S0,n=Rqe;function a(i){var o=Array.from(e.apply(this,arguments),Dqe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Z6(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Hn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Hn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?$3:typeof i=="function"?i:Hn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??S0,a):r},a}function Mqe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}S0(e,t)}}function Fqe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}S0(e,t)}}function Lqe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,y=0;y<l;++y){var g=e[t[y]],v=g[n][1]||0,w=g[n-1][1]||0;p+=v-w}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,S0(e,t)}}function Tb(e){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tb(e)}var $qe=["type","size","sizeType"];function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B3.apply(this,arguments)}function OW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OW(Object(r),!0).forEach(function(n){Bqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bqe(e,t,r){return t=Uqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uqe(e){var t=Vqe(e,"string");return Tb(t)=="symbol"?t:t+""}function Vqe(e,t){if(Tb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zqe(e,t){if(e==null)return{};var r=qqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Yue={symbolCircle:Q6,symbolCross:dqe,symbolDiamond:hqe,symbolSquare:mqe,symbolStar:vqe,symbolTriangle:yqe,symbolWye:wqe},Wqe=Math.PI/180,Hqe=function(t){var r="symbol".concat(yk(t));return Yue[r]||Q6},Gqe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Wqe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Kqe=function(t,r){Yue["symbol".concat(yk(t))]=r},eL=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=zqe(t,$qe),u=RW(RW({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=Hqe(n),w=_qe().type(v).size(Gqe(i,l,n));return w()},f=u.className,m=u.cx,p=u.cy,y=pr(u,!0);return m===+m&&p===+p&&i===+i?ce.createElement("path",B3({},y,{className:Ir("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};eL.registerSymbol=Kqe;function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U3.apply(this,arguments)}function DW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yqe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DW(Object(r),!0).forEach(function(n){Ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jqe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jue(n.key),n)}}function Zqe(e,t,r){return t&&Jqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qqe(e,t,r){return t=lS(t),eWe(e,Xue()?Reflect.construct(t,r||[],lS(e).constructor):t.apply(e,r))}function eWe(e,t){if(t&&(k0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tWe(e)}function tWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xue=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lS(e)}function rWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V3(e,t)}function V3(e,t){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V3(e,t)}function Ab(e,t,r){return t=Jue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jue(e){var t=nWe(e,"string");return k0(t)=="symbol"?t:t+""}function nWe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cl=32,tL=(function(e){function t(){return Xqe(this,t),Qqe(this,t,arguments)}return rWe(t,e),Zqe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=cl/2,o=cl/6,l=cl/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:cl,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(cl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cl/8,"h").concat(cl,"v").concat(cl*3/4,"h").concat(-cl,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(n.legendIcon)){var u=Yqe({},n);return delete u.legendIcon,ce.cloneElement(n.legendIcon,u)}return ce.createElement(eL,{fill:c,cx:i,cy:i,size:cl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:cl,height:cl},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var g=p.formatter||c,v=Ir(Ab(Ab({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=jr(p.value)?null:p.value;gc(!jr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return ce.createElement("li",U3({className:v,style:f,key:"legend-item-".concat(y)},Vm(n.props,p,y)),ce.createElement(D3,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(w,p,y):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(_.PureComponent);Ab(tL,"displayName","Legend");Ab(tL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var AP,IW;function sWe(){if(IW)return AP;IW=1;var e=gk();function t(){this.__data__=new e,this.size=0}return AP=t,AP}var PP,MW;function aWe(){if(MW)return PP;MW=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return PP=e,PP}var OP,FW;function iWe(){if(FW)return OP;FW=1;function e(t){return this.__data__.get(t)}return OP=e,OP}var RP,LW;function oWe(){if(LW)return RP;LW=1;function e(t){return this.__data__.has(t)}return RP=e,RP}var DP,$W;function lWe(){if($W)return DP;$W=1;var e=gk(),t=W6(),r=H6(),n=200;function a(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return DP=a,DP}var IP,BW;function Zue(){if(BW)return IP;BW=1;var e=gk(),t=sWe(),r=aWe(),n=iWe(),a=oWe(),i=lWe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,IP=o,IP}var MP,UW;function cWe(){if(UW)return MP;UW=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return MP=t,MP}var FP,VW;function uWe(){if(VW)return FP;VW=1;function e(t){return this.__data__.has(t)}return FP=e,FP}var LP,zW;function Que(){if(zW)return LP;zW=1;var e=H6(),t=cWe(),r=uWe();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,LP=n,LP}var $P,qW;function ede(){if(qW)return $P;qW=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return $P=e,$P}var BP,WW;function tde(){if(WW)return BP;WW=1;function e(t,r){return t.has(r)}return BP=e,BP}var UP,HW;function rde(){if(HW)return UP;HW=1;var e=Que(),t=ede(),r=tde(),n=1,a=2;function i(o,l,c,u,d,f){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var g=f.get(o),v=f.get(l);if(g&&v)return g==l&&v==o;var w=-1,b=!0,j=c&a?new e:void 0;for(f.set(o,l),f.set(l,o);++w<p;){var E=o[w],S=l[w];if(u)var C=m?u(S,E,w,l,o,f):u(E,S,w,o,l,f);if(C!==void 0){if(C)continue;b=!1;break}if(j){if(!t(l,function(k,R){if(!r(j,R)&&(E===k||d(E,k,c,u,f)))return j.push(R)})){b=!1;break}}else if(!(E===S||d(E,S,c,u,f))){b=!1;break}}return f.delete(o),f.delete(l),b}return UP=i,UP}var VP,GW;function dWe(){if(GW)return VP;GW=1;var e=fu(),t=e.Uint8Array;return VP=t,VP}var zP,KW;function fWe(){if(KW)return zP;KW=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return zP=e,zP}var qP,YW;function rL(){if(YW)return qP;YW=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return qP=e,qP}var WP,XW;function hWe(){if(XW)return WP;XW=1;var e=Zw(),t=dWe(),r=q6(),n=rde(),a=fWe(),i=rL(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",w="[object ArrayBuffer]",b="[object DataView]",j=e?e.prototype:void 0,E=j?j.valueOf:void 0;function S(C,k,R,O,A,P,D){switch(R){case b:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case w:return!(C.byteLength!=k.byteLength||!P(new t(C),new t(k)));case c:case u:case m:return r(+C,+k);case d:return C.name==k.name&&C.message==k.message;case p:case g:return C==k+"";case f:var F=a;case y:var L=O&o;if(F||(F=i),C.size!=k.size&&!L)return!1;var H=D.get(C);if(H)return H==k;O|=l,D.set(C,k);var W=n(F(C),F(k),O,A,P,D);return D.delete(C),W;case v:if(E)return E.call(C)==E.call(k)}return!1}return WP=S,WP}var HP,JW;function nde(){if(JW)return HP;JW=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return HP=e,HP}var GP,ZW;function mWe(){if(ZW)return GP;ZW=1;var e=nde(),t=wo();function r(n,a,i){var o=a(n);return t(n)?o:e(o,i(n))}return GP=r,GP}var KP,QW;function pWe(){if(QW)return KP;QW=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return KP=e,KP}var YP,eH;function gWe(){if(eH)return YP;eH=1;function e(){return[]}return YP=e,YP}var XP,tH;function xWe(){if(tH)return XP;tH=1;var e=pWe(),t=gWe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return XP=i,XP}var JP,rH;function vWe(){if(rH)return JP;rH=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return JP=e,JP}var ZP,nH;function yWe(){if(nH)return ZP;nH=1;var e=dd(),t=fd(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return ZP=n,ZP}var QP,sH;function nL(){if(sH)return QP;sH=1;var e=yWe(),t=fd(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return QP=i,QP}var Hv={exports:{}},e4,aH;function bWe(){if(aH)return e4;aH=1;function e(){return!1}return e4=e,e4}Hv.exports;var iH;function sde(){return iH||(iH=1,(function(e,t){var r=fu(),n=bWe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Hv,Hv.exports)),Hv.exports}var t4,oH;function sL(){if(oH)return t4;oH=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return t4=r,t4}var r4,lH;function aL(){if(lH)return r4;lH=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return r4=t,r4}var n4,cH;function wWe(){if(cH)return n4;cH=1;var e=dd(),t=aL(),r=fd(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",j="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",P={};P[b]=P[j]=P[E]=P[S]=P[C]=P[k]=P[R]=P[O]=P[A]=!0,P[n]=P[a]=P[v]=P[i]=P[w]=P[o]=P[l]=P[c]=P[u]=P[d]=P[f]=P[m]=P[p]=P[y]=P[g]=!1;function D(F){return r(F)&&t(F.length)&&!!P[e(F)]}return n4=D,n4}var s4,uH;function ade(){if(uH)return s4;uH=1;function e(t){return function(r){return t(r)}}return s4=e,s4}var Gv={exports:{}};Gv.exports;var dH;function _We(){return dH||(dH=1,(function(e,t){var r=Sue(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Gv,Gv.exports)),Gv.exports}var a4,fH;function ide(){if(fH)return a4;fH=1;var e=wWe(),t=ade(),r=_We(),n=r&&r.isTypedArray,a=n?t(n):e;return a4=a,a4}var i4,hH;function jWe(){if(hH)return i4;hH=1;var e=vWe(),t=nL(),r=wo(),n=sde(),a=sL(),i=ide(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&t(u),p=!f&&!m&&n(u),y=!f&&!m&&!p&&i(u),g=f||m||p||y,v=g?e(u.length,String):[],w=v.length;for(var b in u)(d||l.call(u,b))&&!(g&&(b=="length"||p&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||a(b,w)))&&v.push(b);return v}return i4=c,i4}var o4,mH;function NWe(){if(mH)return o4;mH=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return o4=t,o4}var l4,pH;function ode(){if(pH)return l4;pH=1;function e(t,r){return function(n){return t(r(n))}}return l4=e,l4}var c4,gH;function SWe(){if(gH)return c4;gH=1;var e=ode(),t=e(Object.keys,Object);return c4=t,c4}var u4,xH;function kWe(){if(xH)return u4;xH=1;var e=NWe(),t=SWe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return u4=a,u4}var d4,vH;function t1(){if(vH)return d4;vH=1;var e=z6(),t=aL();function r(n){return n!=null&&t(n.length)&&!e(n)}return d4=r,d4}var f4,yH;function jk(){if(yH)return f4;yH=1;var e=jWe(),t=kWe(),r=t1();function n(a){return r(a)?e(a):t(a)}return f4=n,f4}var h4,bH;function CWe(){if(bH)return h4;bH=1;var e=mWe(),t=xWe(),r=jk();function n(a){return e(a,r,t)}return h4=n,h4}var m4,wH;function EWe(){if(wH)return m4;wH=1;var e=CWe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l,c,u,d){var f=l&t,m=e(i),p=m.length,y=e(o),g=y.length;if(p!=g&&!f)return!1;for(var v=p;v--;){var w=m[v];if(!(f?w in o:n.call(o,w)))return!1}var b=d.get(i),j=d.get(o);if(b&&j)return b==o&&j==i;var E=!0;d.set(i,o),d.set(o,i);for(var S=f;++v<p;){w=m[v];var C=i[w],k=o[w];if(c)var R=f?c(k,C,w,o,i,d):c(C,k,w,i,o,d);if(!(R===void 0?C===k||u(C,k,l,c,d):R)){E=!1;break}S||(S=w=="constructor")}if(E&&!S){var O=i.constructor,A=o.constructor;O!=A&&"constructor"in i&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof A=="function"&&A instanceof A)&&(E=!1)}return d.delete(i),d.delete(o),E}return m4=a,m4}var p4,_H;function TWe(){if(_H)return p4;_H=1;var e=cp(),t=fu(),r=e(t,"DataView");return p4=r,p4}var g4,jH;function AWe(){if(jH)return g4;jH=1;var e=cp(),t=fu(),r=e(t,"Promise");return g4=r,g4}var x4,NH;function lde(){if(NH)return x4;NH=1;var e=cp(),t=fu(),r=e(t,"Set");return x4=r,x4}var v4,SH;function PWe(){if(SH)return v4;SH=1;var e=cp(),t=fu(),r=e(t,"WeakMap");return v4=r,v4}var y4,kH;function OWe(){if(kH)return y4;kH=1;var e=TWe(),t=W6(),r=AWe(),n=lde(),a=PWe(),i=dd(),o=kue(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=o(e),y=o(t),g=o(r),v=o(n),w=o(a),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=m||t&&b(new t)!=l||r&&b(r.resolve())!=u||n&&b(new n)!=d||a&&b(new a)!=f)&&(b=function(j){var E=i(j),S=E==c?j.constructor:void 0,C=S?o(S):"";if(C)switch(C){case p:return m;case y:return l;case g:return u;case v:return d;case w:return f}return E}),y4=b,y4}var b4,CH;function RWe(){if(CH)return b4;CH=1;var e=Zue(),t=rde(),r=hWe(),n=EWe(),a=OWe(),i=wo(),o=sde(),l=ide(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(g,v,w,b,j,E){var S=i(g),C=i(v),k=S?d:a(g),R=C?d:a(v);k=k==u?f:k,R=R==u?f:R;var O=k==f,A=R==f,P=k==R;if(P&&o(g)){if(!o(v))return!1;S=!0,O=!1}if(P&&!O)return E||(E=new e),S||l(g)?t(g,v,w,b,j,E):r(g,v,k,w,b,j,E);if(!(w&c)){var D=O&&p.call(g,"__wrapped__"),F=A&&p.call(v,"__wrapped__");if(D||F){var L=D?g.value():g,H=F?v.value():v;return E||(E=new e),j(L,H,w,b,E)}}return P?(E||(E=new e),n(g,v,w,b,j,E)):!1}return b4=y,b4}var w4,EH;function iL(){if(EH)return w4;EH=1;var e=RWe(),t=fd();function r(n,a,i,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,o,r,l)}return w4=r,w4}var _4,TH;function DWe(){if(TH)return _4;TH=1;var e=Zue(),t=iL(),r=1,n=2;function a(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(f&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var p=m[0],y=i[p],g=m[1];if(f&&m[2]){if(y===void 0&&!(p in i))return!1}else{var v=new e;if(c)var w=c(y,g,p,i,o,v);if(!(w===void 0?t(g,y,r|n,c,v):w))return!1}}return!0}return _4=a,_4}var j4,AH;function cde(){if(AH)return j4;AH=1;var e=Zf();function t(r){return r===r&&!e(r)}return j4=t,j4}var N4,PH;function IWe(){if(PH)return N4;PH=1;var e=cde(),t=jk();function r(n){for(var a=t(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,e(l)]}return a}return N4=r,N4}var S4,OH;function ude(){if(OH)return S4;OH=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return S4=e,S4}var k4,RH;function MWe(){if(RH)return k4;RH=1;var e=DWe(),t=IWe(),r=ude();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return k4=n,k4}var C4,DH;function FWe(){if(DH)return C4;DH=1;function e(t,r){return t!=null&&r in Object(t)}return C4=e,C4}var E4,IH;function LWe(){if(IH)return E4;IH=1;var e=Tue(),t=nL(),r=wo(),n=sL(),a=aL(),i=vk();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var p=i(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&a(f)&&n(p,f)&&(r(l)||t(l)))}return E4=o,E4}var T4,MH;function $We(){if(MH)return T4;MH=1;var e=FWe(),t=LWe();function r(n,a){return n!=null&&t(n,a,e)}return T4=r,T4}var A4,FH;function BWe(){if(FH)return A4;FH=1;var e=iL(),t=Aue(),r=$We(),n=V6(),a=cde(),i=ude(),o=vk(),l=1,c=2;function u(d,f){return n(d)&&a(f)?i(o(d),f):function(m){var p=t(m,d);return p===void 0&&p===f?r(m,d):e(f,p,l|c)}}return A4=u,A4}var P4,LH;function xx(){if(LH)return P4;LH=1;function e(t){return t}return P4=e,P4}var O4,$H;function UWe(){if($H)return O4;$H=1;function e(t){return function(r){return r?.[t]}}return O4=e,O4}var R4,BH;function VWe(){if(BH)return R4;BH=1;var e=K6();function t(r){return function(n){return e(n,r)}}return R4=t,R4}var D4,UH;function zWe(){if(UH)return D4;UH=1;var e=UWe(),t=VWe(),r=V6(),n=vk();function a(i){return r(i)?e(n(i)):t(i)}return D4=a,D4}var I4,VH;function hu(){if(VH)return I4;VH=1;var e=MWe(),t=BWe(),r=xx(),n=wo(),a=zWe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return I4=i,I4}var M4,zH;function dde(){if(zH)return M4;zH=1;function e(t,r,n,a){for(var i=t.length,o=n+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return M4=e,M4}var F4,qH;function qWe(){if(qH)return F4;qH=1;function e(t){return t!==t}return F4=e,F4}var L4,WH;function WWe(){if(WH)return L4;WH=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return L4=e,L4}var $4,HH;function HWe(){if(HH)return $4;HH=1;var e=dde(),t=qWe(),r=WWe();function n(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return $4=n,$4}var B4,GH;function GWe(){if(GH)return B4;GH=1;var e=HWe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return B4=t,B4}var U4,KH;function KWe(){if(KH)return U4;KH=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return U4=e,U4}var V4,YH;function YWe(){if(YH)return V4;YH=1;function e(){}return V4=e,V4}var z4,XH;function XWe(){if(XH)return z4;XH=1;var e=lde(),t=YWe(),r=rL(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return z4=a,z4}var q4,JH;function JWe(){if(JH)return q4;JH=1;var e=Que(),t=GWe(),r=KWe(),n=tde(),a=XWe(),i=rL(),o=200;function l(c,u,d){var f=-1,m=t,p=c.length,y=!0,g=[],v=g;if(d)y=!1,m=r;else if(p>=o){var w=u?null:a(c);if(w)return i(w);y=!1,m=n,v=new e}else v=u?[]:g;e:for(;++f<p;){var b=c[f],j=u?u(b):b;if(b=d||b!==0?b:0,y&&j===j){for(var E=v.length;E--;)if(v[E]===j)continue e;u&&v.push(j),g.push(b)}else m(v,j,d)||(v!==g&&v.push(j),g.push(b))}return g}return q4=l,q4}var W4,ZH;function ZWe(){if(ZH)return W4;ZH=1;var e=hu(),t=JWe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return W4=r,W4}var QWe=ZWe();const QH=Qr(QWe);function fde(e,t,r){return t===!0?QH(e,r):jr(t)?QH(e,t):e}function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var eHe=["ref"];function eG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eG(Object(r),!0).forEach(function(n){Nk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mde(n.key),n)}}function rHe(e,t,r){return t&&tG(e.prototype,t),r&&tG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nHe(e,t,r){return t=cS(t),sHe(e,hde()?Reflect.construct(t,r||[],cS(e).constructor):t.apply(e,r))}function sHe(e,t){if(t&&(C0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aHe(e)}function aHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hde=function(){return!!e})()}function cS(e){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cS(e)}function iHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}function z3(e,t){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z3(e,t)}function Nk(e,t,r){return t=mde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e){var t=oHe(e,"string");return C0(t)=="symbol"?t:t+""}function oHe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lHe(e,t){if(e==null)return{};var r=cHe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uHe(e){return e.value}function dHe(e,t){if(ce.isValidElement(e))return ce.cloneElement(e,t);if(typeof e=="function")return ce.createElement(e,t);t.ref;var r=lHe(t,eHe);return ce.createElement(tL,r)}var rG=1,xf=(function(e){function t(){var r;tHe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=nHe(this,t,[].concat(a)),Nk(r,"lastBoundingBox",{width:-1,height:-1}),r}return iHe(t,e),rHe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>rG||Math.abs(a.height-this.lastBoundingBox.height)>rG)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Nu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Nu(Nu({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Nu(Nu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},dHe(i,Nu(Nu({},this.props),{},{payload:fde(d,u,uHe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Nu(Nu({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&_t(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(_.PureComponent);Nk(xf,"displayName","Legend");Nk(xf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var H4,nG;function fHe(){if(nG)return H4;nG=1;var e=Zw(),t=nL(),r=wo(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return H4=a,H4}var G4,sG;function pde(){if(sG)return G4;sG=1;var e=nde(),t=fHe();function r(n,a,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];a>0&&i(d)?a>1?r(d,a-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return G4=r,G4}var K4,aG;function hHe(){if(aG)return K4;aG=1;function e(t){return function(r,n,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return K4=e,K4}var Y4,iG;function mHe(){if(iG)return Y4;iG=1;var e=hHe(),t=e();return Y4=t,Y4}var X4,oG;function gde(){if(oG)return X4;oG=1;var e=mHe(),t=jk();function r(n,a){return n&&e(n,a,t)}return X4=r,X4}var J4,lG;function pHe(){if(lG)return J4;lG=1;var e=t1();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return J4=t,J4}var Z4,cG;function oL(){if(cG)return Z4;cG=1;var e=gde(),t=pHe(),r=t(e);return Z4=r,Z4}var Q4,uG;function xde(){if(uG)return Q4;uG=1;var e=oL(),t=t1();function r(n,a){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=a(l,c,u)}),o}return Q4=r,Q4}var eO,dG;function gHe(){if(dG)return eO;dG=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return eO=e,eO}var tO,fG;function xHe(){if(fG)return tO;fG=1;var e=px();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!a&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!d)return-1}return 0}return tO=t,tO}var rO,hG;function vHe(){if(hG)return rO;hG=1;var e=xHe();function t(r,n,a){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return rO=t,rO}var nO,mG;function yHe(){if(mG)return nO;mG=1;var e=G6(),t=K6(),r=hu(),n=xde(),a=gHe(),i=ade(),o=vHe(),l=xx(),c=wo();function u(d,f,m){f.length?f=e(f,function(g){return c(g)?function(v){return t(v,g.length===1?g[0]:g)}:g}):f=[l];var p=-1;f=e(f,i(r));var y=n(d,function(g,v,w){var b=e(f,function(j){return j(g)});return{criteria:b,index:++p,value:g}});return a(y,function(g,v){return o(g,v,m)})}return nO=u,nO}var sO,pG;function bHe(){if(pG)return sO;pG=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return sO=e,sO}var aO,gG;function wHe(){if(gG)return aO;gG=1;var e=bHe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=t(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var d=Array(a+1);++l<a;)d[l]=o[l];return d[a]=i(u),e(n,this,d)}}return aO=r,aO}var iO,xG;function _He(){if(xG)return iO;xG=1;function e(t){return function(){return t}}return iO=e,iO}var oO,vG;function vde(){if(vG)return oO;vG=1;var e=cp(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return oO=t,oO}var lO,yG;function jHe(){if(yG)return lO;yG=1;var e=_He(),t=vde(),r=xx(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return lO=n,lO}var cO,bG;function NHe(){if(bG)return cO;bG=1;var e=800,t=16,r=Date.now;function n(a){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return cO=n,cO}var uO,wG;function SHe(){if(wG)return uO;wG=1;var e=jHe(),t=NHe(),r=t(e);return uO=r,uO}var dO,_G;function kHe(){if(_G)return dO;_G=1;var e=xx(),t=wHe(),r=SHe();function n(a,i){return r(t(a,i,e),a+"")}return dO=n,dO}var fO,jG;function Sk(){if(jG)return fO;jG=1;var e=q6(),t=t1(),r=sL(),n=Zf();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return fO=a,fO}var hO,NG;function CHe(){if(NG)return hO;NG=1;var e=pde(),t=yHe(),r=kHe(),n=Sk(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return hO=a,hO}var EHe=CHe();const lL=Qr(EHe);function Pb(e){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pb(e)}function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q3.apply(this,arguments)}function THe(e,t){return RHe(e)||OHe(e,t)||PHe(e,t)||AHe()}function AHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PHe(e,t){if(e){if(typeof e=="string")return SG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SG(e,t)}}function SG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RHe(e){if(Array.isArray(e))return e}function kG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kG(Object(r),!0).forEach(function(n){DHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DHe(e,t,r){return t=IHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IHe(e){var t=MHe(e,"string");return Pb(t)=="symbol"?t:t+""}function MHe(e,t){if(Pb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FHe(e){return Array.isArray(e)&&_a(e[0])&&_a(e[1])?e.join(" ~ "):e}var LHe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,w=t.accessibilityLayer,b=w===void 0?!1:w,j=function(){if(d&&d.length){var D={padding:0,margin:0},F=(m?lL(d,m):d).map(function(L,H){if(L.type==="none")return null;var W=mO({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),G=L.formatter||f||FHe,K=L.value,I=L.name,B=K,Y=I;if(G&&B!=null&&Y!=null){var z=G(K,I,L,H,d);if(Array.isArray(z)){var J=THe(z,2);B=J[0],Y=J[1]}else B=z}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:W},_a(Y)?ce.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,_a(Y)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},B),ce.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:D},F)}return null},E=mO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=mO({margin:0},u),C=!Gr(g),k=C?g:"",R=Ir("recharts-default-tooltip",p),O=Ir("recharts-tooltip-label",y);C&&v&&d!==void 0&&d!==null&&(k=v(g,d));var A=b?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",q3({className:R,style:E},A),ce.createElement("p",{className:O,style:S},ce.isValidElement(k)?k:"".concat(k)),j())};function Ob(e){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ob(e)}function rj(e,t,r){return t=$He(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $He(e){var t=BHe(e,"string");return Ob(t)=="symbol"?t:t+""}function BHe(e,t){if(Ob(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vv="recharts-tooltip-wrapper",UHe={visibility:"hidden"};function VHe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ir(vv,rj(rj(rj(rj({},"".concat(vv,"-right"),_t(r)&&t&&_t(t.x)&&r>=t.x),"".concat(vv,"-left"),_t(r)&&t&&_t(t.x)&&r<t.x),"".concat(vv,"-bottom"),_t(n)&&t&&_t(t.y)&&n>=t.y),"".concat(vv,"-top"),_t(n)&&t&&_t(t.y)&&n<t.y))}function CG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&_t(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,g=c[n]+u;return y>g?Math.max(d,c[n]):Math.max(f,c[n])}function zHe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qHe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=CG({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=CG({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=zHe({translateX:d,translateY:f,useTranslate3d:l})):u=UHe,{cssProperties:u,cssClasses:VHe({translateX:d,translateY:f,coordinate:r})}}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function EG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EG(Object(r),!0).forEach(function(n){H3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bde(n.key),n)}}function GHe(e,t,r){return t&&HHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KHe(e,t,r){return t=uS(t),YHe(e,yde()?Reflect.construct(t,r||[],uS(e).constructor):t.apply(e,r))}function YHe(e,t){if(t&&(E0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XHe(e)}function XHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yde=function(){return!!e})()}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uS(e)}function JHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W3(e,t)}function W3(e,t){return W3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W3(e,t)}function H3(e,t,r){return t=bde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bde(e){var t=ZHe(e,"string");return E0(t)=="symbol"?t:t+""}function ZHe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var AG=1,QHe=(function(e){function t(){var r;WHe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=KHe(this,t,[].concat(a)),H3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),H3(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return JHe(t,e),GHe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AG||Math.abs(n.height-this.state.lastBoundingBox.height)>AG)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,j=qHe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),E=j.cssClasses,S=j.cssProperties,C=TG(TG({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ce.createElement("div",{tabIndex:-1,className:E,style:C,ref:function(R){n.wrapperNode=R}},u)}}])})(_.PureComponent),eGe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vx={isSsr:eGe()};function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function PG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PG(Object(r),!0).forEach(function(n){cL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_de(n.key),n)}}function nGe(e,t,r){return t&&rGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sGe(e,t,r){return t=dS(t),aGe(e,wde()?Reflect.construct(t,r||[],dS(e).constructor):t.apply(e,r))}function aGe(e,t){if(t&&(T0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iGe(e)}function iGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wde=function(){return!!e})()}function dS(e){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dS(e)}function oGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G3(e,t)}function G3(e,t){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G3(e,t)}function cL(e,t,r){return t=_de(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _de(e){var t=lGe(e,"string");return T0(t)=="symbol"?t:t+""}function lGe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cGe(e){return e.dataKey}function uGe(e,t){return ce.isValidElement(e)?ce.cloneElement(e,t):typeof e=="function"?ce.createElement(e,t):ce.createElement(LHe,t)}var yl=(function(e){function t(){return tGe(this,t),sGe(this,t,arguments)}return oGe(t,e),nGe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,w=a.reverseDirection,b=a.useTranslate3d,j=a.viewBox,E=a.wrapperStyle,S=y??[];f&&S.length&&(S=fde(y.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,cGe));var C=S.length>0;return ce.createElement(QHe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:w,useTranslate3d:b,viewBox:j,wrapperStyle:E},uGe(u,OG(OG({},this.props),{},{payload:S})))}}])})(_.PureComponent);cL(yl,"displayName","Tooltip");cL(yl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vx.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pO,RG;function dGe(){if(RG)return pO;RG=1;var e=fu(),t=function(){return e.Date.now()};return pO=t,pO}var gO,DG;function fGe(){if(DG)return gO;DG=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return gO=t,gO}var xO,IG;function hGe(){if(IG)return xO;IG=1;var e=fGe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return xO=r,xO}var vO,MG;function jde(){if(MG)return vO;MG=1;var e=hGe(),t=Zf(),r=px(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):a.test(u)?n:+u}return vO=c,vO}var yO,FG;function mGe(){if(FG)return yO;FG=1;var e=Zf(),t=dGe(),r=jde(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var d,f,m,p,y,g,v=0,w=!1,b=!1,j=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(w=!!u.leading,b="maxWait"in u,m=b?a(r(u.maxWait)||0,c):m,j="trailing"in u?!!u.trailing:j);function E(F){var L=d,H=f;return d=f=void 0,v=F,p=l.apply(H,L),p}function S(F){return v=F,y=setTimeout(R,c),w?E(F):p}function C(F){var L=F-g,H=F-v,W=c-L;return b?i(W,m-H):W}function k(F){var L=F-g,H=F-v;return g===void 0||L>=c||L<0||b&&H>=m}function R(){var F=t();if(k(F))return O(F);y=setTimeout(R,C(F))}function O(F){return y=void 0,j&&d?E(F):(d=f=void 0,p)}function A(){y!==void 0&&clearTimeout(y),v=0,d=g=f=y=void 0}function P(){return y===void 0?p:O(t())}function D(){var F=t(),L=k(F);if(d=arguments,f=this,g=F,L){if(y===void 0)return S(g);if(b)return clearTimeout(y),y=setTimeout(R,c),E(g)}return y===void 0&&(y=setTimeout(R,c)),p}return D.cancel=A,D.flush=P,D}return yO=o,yO}var bO,LG;function pGe(){if(LG)return bO;LG=1;var e=mGe(),t=Zf(),r="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(a,i,{leading:l,maxWait:i,trailing:c})}return bO=n,bO}var gGe=pGe();const Nde=Qr(gGe);function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function $G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$G(Object(r),!0).forEach(function(n){xGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xGe(e,t,r){return t=vGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vGe(e){var t=yGe(e,"string");return Rb(t)=="symbol"?t:t+""}function yGe(e,t){if(Rb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bGe(e,t){return NGe(e)||jGe(e,t)||_Ge(e,t)||wGe()}function wGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ge(e,t){if(e){if(typeof e=="string")return BG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BG(e,t)}}function BG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function NGe(e){if(Array.isArray(e))return e}var wO=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,p=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,w=e.className,b=e.onResize,j=e.style,E=j===void 0?{}:j,S=_.useRef(null),C=_.useRef();C.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=_.useState({containerWidth:a.width,containerHeight:a.height}),R=bGe(k,2),O=R[0],A=R[1],P=_.useCallback(function(F,L){A(function(H){var W=Math.round(F),G=Math.round(L);return H.containerWidth===W&&H.containerHeight===G?H:{containerWidth:W,containerHeight:G}})},[]);_.useEffect(function(){var F=function(I){var B,Y=I[0].contentRect,z=Y.width,J=Y.height;P(z,J),(B=C.current)===null||B===void 0||B.call(C,z,J)};g>0&&(F=Nde(F,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),H=S.current.getBoundingClientRect(),W=H.width,G=H.height;return P(W,G),L.observe(S.current),function(){L.disconnect()}},[P,g]);var D=_.useMemo(function(){var F=O.containerWidth,L=O.containerHeight;if(F<0||L<0)return null;gc(qh(o)||qh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),gc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=qh(o)?F:o,W=qh(c)?L:c;r&&r>0&&(H?W=H/r:W&&(H=W*r),m&&W>m&&(W=m)),gc(H>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,W,o,c,d,f,r);var G=!Array.isArray(p)&&zu(p.type).endsWith("Chart");return ce.Children.map(p,function(K){return ce.isValidElement(K)?_.cloneElement(K,nj({width:H,height:W},G?{style:nj({height:"100%",width:"100%",maxHeight:W,maxWidth:H},K.props.style)}:{})):K})},[r,p,c,m,f,d,O,o]);return ce.createElement("div",{id:v?"".concat(v):void 0,className:Ir("recharts-responsive-container",w),style:nj(nj({},E),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},D)}),kk=function(t){return null};kk.displayName="Cell";function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function UG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UG(Object(r),!0).forEach(function(n){SGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SGe(e,t,r){return t=kGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kGe(e){var t=CGe(e,"string");return Db(t)=="symbol"?t:t+""}function CGe(e,t){if(Db(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sg={widthCache:{},cacheCount:0},EGe=2e3,TGe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VG="recharts_measurement_span";function AGe(e){var t=K3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ty=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vx.isSsr)return{width:0,height:0};var n=AGe(r),a=JSON.stringify({text:t,copyStyle:n});if(sg.widthCache[a])return sg.widthCache[a];try{var i=document.getElementById(VG);i||(i=document.createElement("span"),i.setAttribute("id",VG),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=K3(K3({},TGe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return sg.widthCache[a]=c,++sg.cacheCount>EGe&&(sg.cacheCount=0,sg.widthCache={}),c}catch{return{width:0,height:0}}},PGe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ib(e){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(e)}function fS(e,t){return IGe(e)||DGe(e,t)||RGe(e,t)||OGe()}function OGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RGe(e,t){if(e){if(typeof e=="string")return zG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zG(e,t)}}function zG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IGe(e){if(Array.isArray(e))return e}function MGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LGe(n.key),n)}}function FGe(e,t,r){return t&&qG(e.prototype,t),r&&qG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LGe(e){var t=$Ge(e,"string");return Ib(t)=="symbol"?t:t+""}function $Ge(e,t){if(Ib(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BGe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UGe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VGe=Object.keys(Sde),kg="NaN";function zGe(e,t){return e*Sde[t]}var sj=(function(){function e(t,r){MGe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!BGe.test(r)&&(this.num=NaN,this.unit=""),VGe.includes(r)&&(this.num=zGe(t,r),this.unit="px")}return FGe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=UGe.exec(r))!==null&&n!==void 0?n:[],i=fS(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function kde(e){if(e.includes(kg))return kg;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=WG.exec(t))!==null&&r!==void 0?r:[],a=fS(n,4),i=a[1],o=a[2],l=a[3],c=sj.parse(i??""),u=sj.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return kg;t=t.replace(WG,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=HG.exec(t))!==null&&f!==void 0?f:[],p=fS(m,4),y=p[1],g=p[2],v=p[3],w=sj.parse(y??""),b=sj.parse(v??""),j=g==="+"?w.add(b):w.subtract(b);if(j.isNaN())return kg;t=t.replace(HG,j.toString())}return t}var GG=/\(([^()]*)\)/;function qGe(e){for(var t=e;t.includes("(");){var r=GG.exec(t),n=fS(r,2),a=n[1];t=t.replace(GG,kde(a))}return t}function WGe(e){var t=e.replace(/\s+/g,"");return t=qGe(t),t=kde(t),t}function HGe(e){try{return WGe(e)}catch{return kg}}function _O(e){var t=HGe(e.slice(5,-1));return t===kg?"":t}var GGe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],KGe=["dx","dy","angle","className","breakAll"];function Y3(){return Y3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y3.apply(this,arguments)}function KG(e,t){if(e==null)return{};var r=YGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YG(e,t){return QGe(e)||ZGe(e,t)||JGe(e,t)||XGe()}function XGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JGe(e,t){if(e){if(typeof e=="string")return XG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XG(e,t)}}function XG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function QGe(e){if(Array.isArray(e))return e}var Cde=/[ \f\n\r\t\v\u2028\u2029]+/,Ede=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Gr(r)||(n?i=r.toString().split(""):i=r.toString().split(Cde));var o=i.map(function(c){return{word:c,width:Ty(c,a).width}}),l=n?0:Ty("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eKe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=_t(o),f=l,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(W,G){var K=G.word,I=G.width,B=W[W.length-1];if(B&&(a==null||i||B.width+I+n<Number(a)))B.words.push(K),B.width+=I+n;else{var Y={words:[K],width:I};W.push(Y)}return W},[])},p=m(r),y=function(H){return H.reduce(function(W,G){return W.width>G.width?W:G})};if(!d)return p;for(var g="",v=function(H){var W=f.slice(0,H),G=Ede({breakAll:u,style:c,children:W+g}).wordsWithComputedWidth,K=m(G),I=K.length>o||y(K).width>Number(a);return[I,K]},w=0,b=f.length-1,j=0,E;w<=b&&j<=f.length-1;){var S=Math.floor((w+b)/2),C=S-1,k=v(C),R=YG(k,2),O=R[0],A=R[1],P=v(S),D=YG(P,1),F=D[0];if(!O&&!F&&(w=S+1),O&&F&&(b=S-1),!O&&F){E=A;break}j++}return E||p},JG=function(t){var r=Gr(t)?[]:t.toString().split(Cde);return[{words:r}]},tKe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!vx.isSsr){var c,u,d=Ede({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return JG(a);return eKe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return JG(a)},ZG="#808080",zm=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,p=m===void 0?"start":m,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,w=v===void 0?ZG:v,b=KG(t,GGe),j=_.useMemo(function(){return tKe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),E=b.dx,S=b.dy,C=b.angle,k=b.className,R=b.breakAll,O=KG(b,KGe);if(!_a(n)||!_a(i))return null;var A=n+(_t(E)?E:0),P=i+(_t(S)?S:0),D;switch(g){case"start":D=_O("calc(".concat(u,")"));break;case"middle":D=_O("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=_O("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(f){var L=j[0].width,H=b.width;F.push("scale(".concat((_t(H)?H/L:1)/L,")"))}return C&&F.push("rotate(".concat(C,", ").concat(A,", ").concat(P,")")),F.length&&(O.transform=F.join(" ")),ce.createElement("text",Y3({},pr(O,!0),{x:A,y:P,className:Ir("recharts-text",k),textAnchor:p,fill:w.includes("url")?ZG:w}),j.map(function(W,G){var K=W.words.join(R?"":" ");return ce.createElement("tspan",{x:A,dy:G===0?D:l,key:"".concat(K,"-").concat(G)},K)}))};function vf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rKe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uL(e){let t,r,n;e.length!==2?(t=vf,r=(l,c)=>vf(e(l),c),n=(l,c)=>e(l)-c):(t=e===vf||e===rKe?e:nKe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function nKe(){return 0}function Tde(e){return e===null?NaN:+e}function*sKe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const aKe=uL(vf),r1=aKe.right;uL(Tde).center;class QG extends Map{constructor(t,r=lKe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eK(this,t))}has(t){return super.has(eK(this,t))}set(t,r){return super.set(iKe(this,t),r)}delete(t){return super.delete(oKe(this,t))}}function eK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function iKe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function oKe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lKe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cKe(e=vf){if(e===vf)return Ade;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Ade(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uKe=Math.sqrt(50),dKe=Math.sqrt(10),fKe=Math.sqrt(2);function hS(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=uKe?10:i>=dKe?5:i>=fKe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?hS(e,t,r*2):[l,c,u]}function X3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?hS(t,e,r):hS(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function J3(e,t,r){return t=+t,e=+e,r=+r,hS(e,t,r)[2]}function Z3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?J3(t,e,r):J3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tK(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rK(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Pde(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Ade:cKe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+m)),y=Math.min(n,Math.floor(t+(c-u)*f/c+m));Pde(e,t,p,y,a)}const i=e[t];let o=r,l=n;for(yv(e,r,t),a(e[n],i)>0&&yv(e,r,n);o<l;){for(yv(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?yv(e,r,l):(++l,yv(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function yv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hKe(e,t,r){if(e=Float64Array.from(sKe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rK(e);if(t>=1)return tK(e);var n,a=(n-1)*t,i=Math.floor(a),o=tK(Pde(e,i).subarray(0,i+1)),l=rK(e.subarray(i+1));return o+(l-o)*(a-i)}}function mKe(e,t,r=Tde){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function pKe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Vl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Q3=Symbol("implicit");function dL(){var e=new QG,t=[],r=[],n=Q3;function a(i){let o=e.get(i);if(o===void 0){if(n!==Q3)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new QG;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dL(t,r).unknown(n)},Vl.apply(a,arguments),a}function Mb(){var e=dL().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,p=a<n,y=p?a:n,g=p?n:a;i=(g-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=pKe(m).map(function(w){return y+i*w});return r(p?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Mb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Vl.apply(f(),arguments)}function Ode(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ode(t())},e}function Ay(){return Ode(Mb.apply(null,arguments).paddingInner(1))}function fL(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Rde(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function n1(){}var Fb=.7,mS=1/Fb,Zg="\\s*([+-]?\\d+)\\s*",Lb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gKe=/^#([0-9a-f]{3,8})$/,xKe=new RegExp(`^rgb\\(${Zg},${Zg},${Zg}\\)$`),vKe=new RegExp(`^rgb\\(${Jc},${Jc},${Jc}\\)$`),yKe=new RegExp(`^rgba\\(${Zg},${Zg},${Zg},${Lb}\\)$`),bKe=new RegExp(`^rgba\\(${Jc},${Jc},${Jc},${Lb}\\)$`),wKe=new RegExp(`^hsl\\(${Lb},${Jc},${Jc}\\)$`),_Ke=new RegExp(`^hsla\\(${Lb},${Jc},${Jc},${Lb}\\)$`),nK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fL(n1,$b,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sK,formatHex:sK,formatHex8:jKe,formatHsl:NKe,formatRgb:aK,toString:aK});function sK(){return this.rgb().formatHex()}function jKe(){return this.rgb().formatHex8()}function NKe(){return Dde(this).formatHsl()}function aK(){return this.rgb().formatRgb()}function $b(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=gKe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?iK(t):r===3?new ho(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?aj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?aj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xKe.exec(e))?new ho(t[1],t[2],t[3],1):(t=vKe.exec(e))?new ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yKe.exec(e))?aj(t[1],t[2],t[3],t[4]):(t=bKe.exec(e))?aj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wKe.exec(e))?cK(t[1],t[2]/100,t[3]/100,1):(t=_Ke.exec(e))?cK(t[1],t[2]/100,t[3]/100,t[4]):nK.hasOwnProperty(e)?iK(nK[e]):e==="transparent"?new ho(NaN,NaN,NaN,0):null}function iK(e){return new ho(e>>16&255,e>>8&255,e&255,1)}function aj(e,t,r,n){return n<=0&&(e=t=r=NaN),new ho(e,t,r,n)}function SKe(e){return e instanceof n1||(e=$b(e)),e?(e=e.rgb(),new ho(e.r,e.g,e.b,e.opacity)):new ho}function eI(e,t,r,n){return arguments.length===1?SKe(e):new ho(e,t,r,n??1)}function ho(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fL(ho,eI,Rde(n1,{brighter(e){return e=e==null?mS:Math.pow(mS,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fb:Math.pow(Fb,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ho(um(this.r),um(this.g),um(this.b),pS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oK,formatHex:oK,formatHex8:kKe,formatRgb:lK,toString:lK}));function oK(){return`#${Wh(this.r)}${Wh(this.g)}${Wh(this.b)}`}function kKe(){return`#${Wh(this.r)}${Wh(this.g)}${Wh(this.b)}${Wh((isNaN(this.opacity)?1:this.opacity)*255)}`}function lK(){const e=pS(this.opacity);return`${e===1?"rgb(":"rgba("}${um(this.r)}, ${um(this.g)}, ${um(this.b)}${e===1?")":`, ${e})`}`}function pS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function um(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wh(e){return e=um(e),(e<16?"0":"")+e.toString(16)}function cK(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oc(e,t,r,n)}function Dde(e){if(e instanceof oc)return new oc(e.h,e.s,e.l,e.opacity);if(e instanceof n1||(e=$b(e)),!e)return new oc;if(e instanceof oc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new oc(o,l,c,e.opacity)}function CKe(e,t,r,n){return arguments.length===1?Dde(e):new oc(e,t,r,n??1)}function oc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fL(oc,CKe,Rde(n1,{brighter(e){return e=e==null?mS:Math.pow(mS,e),new oc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fb:Math.pow(Fb,e),new oc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ho(jO(e>=240?e-240:e+120,a,n),jO(e,a,n),jO(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new oc(uK(this.h),ij(this.s),ij(this.l),pS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pS(this.opacity);return`${e===1?"hsl(":"hsla("}${uK(this.h)}, ${ij(this.s)*100}%, ${ij(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uK(e){return e=(e||0)%360,e<0?e+360:e}function ij(e){return Math.max(0,Math.min(1,e||0))}function jO(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hL=e=>()=>e;function EKe(e,t){return function(r){return e+r*t}}function TKe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function AKe(e){return(e=+e)==1?Ide:function(t,r){return r-t?TKe(t,r,e):hL(isNaN(t)?r:t)}}function Ide(e,t){var r=t-e;return r?EKe(e,r):hL(isNaN(e)?t:e)}const dK=(function e(t){var r=AKe(t);function n(a,i){var o=r((a=eI(a)).r,(i=eI(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Ide(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function PKe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function OKe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RKe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=yx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function DKe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function gS(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function IKe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=yx(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var tI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NO=new RegExp(tI.source,"g");function MKe(e){return function(){return e}}function FKe(e){return function(t){return e(t)+""}}function LKe(e,t){var r=tI.lastIndex=NO.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=tI.exec(e))&&(a=NO.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:gS(n,a)})),r=NO.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?FKe(c[0].x):MKe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function yx(e,t){var r=typeof t,n;return t==null||r==="boolean"?hL(t):(r==="number"?gS:r==="string"?(n=$b(t))?(t=n,dK):LKe:t instanceof $b?dK:t instanceof Date?DKe:OKe(t)?PKe:Array.isArray(t)?RKe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?IKe:gS)(e,t)}function mL(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $Ke(e,t){t===void 0&&(t=e,e=yx);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function BKe(e){return function(){return e}}function xS(e){return+e}var fK=[0,1];function Wi(e){return e}function rI(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:BKe(isNaN(t)?NaN:.5)}function UKe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VKe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=rI(a,n),i=r(o,i)):(n=rI(n,a),i=r(i,o)),function(l){return i(n(l))}}function zKe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=rI(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=r1(e,l,1,n)-1;return i[c](a[c](l))}}function s1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ck(){var e=fK,t=fK,r=yx,n,a,i,o=Wi,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Wi&&(o=UKe(e[0],e[m-1])),l=m>2?zKe:VKe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),gS)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,xS),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=mL,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Wi,d()):o!==Wi},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,p){return n=m,a=p,d()}}function pL(){return Ck()(Wi,Wi)}function qKe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function A0(e){return e=vS(Math.abs(e)),e?e[1]:NaN}function WKe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function HKe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var GKe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bb(e){if(!(t=GKe.exec(e)))throw new Error("invalid format: "+e);var t;return new gL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bb.prototype=gL.prototype;function gL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KKe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Mde;function YKe(e,t){var r=vS(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Mde=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+vS(e,Math.max(0,t+i-1))[0]}function hK(e,t){var r=vS(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mK={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qKe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hK(e*100,t),r:hK,s:YKe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pK(e){return e}var gK=Array.prototype.map,xK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XKe(e){var t=e.grouping===void 0||e.thousands===void 0?pK:WKe(gK.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pK:HKe(gK.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Bb(f);var m=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,w=f.width,b=f.comma,j=f.precision,E=f.trim,S=f.type;S==="n"?(b=!0,S="g"):mK[S]||(j===void 0&&(j=12),E=!0,S="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=g==="$"?n:/[%p]/.test(S)?o:"",R=mK[S],O=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function A(P){var D=C,F=k,L,H,W;if(S==="c")F=R(P)+F,P="";else{P=+P;var G=P<0||1/P<0;if(P=isNaN(P)?c:R(Math.abs(P),j),E&&(P=KKe(P)),G&&+P==0&&y!=="+"&&(G=!1),D=(G?y==="("?y:l:y==="-"||y==="("?"":y)+D,F=(S==="s"?xK[8+Mde/3]:"")+F+(G&&y==="("?")":""),O){for(L=-1,H=P.length;++L<H;)if(W=P.charCodeAt(L),48>W||W>57){F=(W===46?a+P.slice(L+1):P.slice(L))+F,P=P.slice(0,L);break}}}b&&!v&&(P=t(P,1/0));var K=D.length+P.length+F.length,I=K<w?new Array(w-K+1).join(m):"";switch(b&&v&&(P=t(I+P,I.length?w-F.length:1/0),I=""),p){case"<":P=D+P+F+I;break;case"=":P=D+I+P+F;break;case"^":P=I.slice(0,K=I.length>>1)+D+P+F+I.slice(K);break;default:P=I+D+P+F;break}return i(P)}return A.toString=function(){return f+""},A}function d(f,m){var p=u((f=Bb(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(A0(m)/3)))*3,g=Math.pow(10,-y),v=xK[8+y/3];return function(w){return p(g*w)+v}}return{format:u,formatPrefix:d}}var oj,xL,Fde;JKe({thousands:",",grouping:[3],currency:["$",""]});function JKe(e){return oj=XKe(e),xL=oj.format,Fde=oj.formatPrefix,oj}function ZKe(e){return Math.max(0,-A0(Math.abs(e)))}function QKe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(A0(t)/3)))*3-A0(Math.abs(e)))}function eYe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,A0(t)-A0(e))+1}function Lde(e,t,r,n){var a=Z3(e,t,r),i;switch(n=Bb(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=QKe(a,o))&&(n.precision=i),Fde(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=eYe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ZKe(a))&&(n.precision=i-(n.type==="%")*2);break}}return xL(n)}function Qf(e){var t=e.domain;return e.ticks=function(r){var n=t();return X3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Lde(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=J3(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function yS(){var e=pL();return e.copy=function(){return s1(e,yS())},Vl.apply(e,arguments),Qf(e)}function $de(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,xS),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $de(e).unknown(t)},e=arguments.length?Array.from(e,xS):[0,1],Qf(r)}function Bde(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function vK(e){return Math.log(e)}function yK(e){return Math.exp(e)}function tYe(e){return-Math.log(-e)}function rYe(e){return-Math.exp(-e)}function nYe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sYe(e){return e===10?nYe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aYe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bK(e){return(t,r)=>-e(-t,r)}function vL(e){const t=e(vK,yK),r=t.domain;let n=10,a,i;function o(){return a=aYe(n),i=sYe(n),r()[0]<0?(a=bK(a),i=bK(i),e(tYe,rYe)):e(vK,yK),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),y,g;const v=l==null?10:+l;let w=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(g=m<0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;w.push(g)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(g=m>0?y/i(-m):y*i(m),!(g<u)){if(g>d)break;w.push(g)}w.length*2<v&&(w=X3(u,d,v))}else w=X3(m,p,Math.min(p-m,v)).map(i);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bb(c)).precision==null&&(c.trim=!0),c=xL(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Bde(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Ude(){const e=vL(Ck()).domain([1,10]);return e.copy=()=>s1(e,Ude()).base(e.base()),Vl.apply(e,arguments),e}function wK(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _K(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yL(e){var t=1,r=e(wK(t),_K(t));return r.constant=function(n){return arguments.length?e(wK(t=+n),_K(t)):t},Qf(r)}function Vde(){var e=yL(Ck());return e.copy=function(){return s1(e,Vde()).constant(e.constant())},Vl.apply(e,arguments)}function jK(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iYe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oYe(e){return e<0?-e*e:e*e}function bL(e){var t=e(Wi,Wi),r=1;function n(){return r===1?e(Wi,Wi):r===.5?e(iYe,oYe):e(jK(r),jK(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Qf(t)}function wL(){var e=bL(Ck());return e.copy=function(){return s1(e,wL()).exponent(e.exponent())},Vl.apply(e,arguments),e}function lYe(){return wL.apply(null,arguments).exponent(.5)}function NK(e){return Math.sign(e)*e*e}function cYe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zde(){var e=pL(),t=[0,1],r=!1,n;function a(i){var o=cYe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(NK(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,xS)).map(NK)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return zde(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vl.apply(a,arguments),Qf(a)}function qde(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=mKe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[r1(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vf),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return qde().domain(e).range(t).unknown(n)},Vl.apply(i,arguments)}function Wde(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[r1(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Wde().domain([e,t]).range(a).unknown(i)},Vl.apply(Qf(o),arguments)}function Hde(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[r1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Hde().domain(e).range(t).unknown(r)},Vl.apply(a,arguments)}const SO=new Date,kO=new Date;function Sa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Sa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(SO.setTime(+i),kO.setTime(+o),e(SO),e(kO),Math.floor(r(SO,kO))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const bS=Sa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bS);bS.range;const Mu=1e3,El=Mu*60,Fu=El*60,ed=Fu*24,_L=ed*7,SK=ed*30,CO=ed*365,Hh=Sa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mu)},(e,t)=>(t-e)/Mu,e=>e.getUTCSeconds());Hh.range;const jL=Sa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mu)},(e,t)=>{e.setTime(+e+t*El)},(e,t)=>(t-e)/El,e=>e.getMinutes());jL.range;const NL=Sa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*El)},(e,t)=>(t-e)/El,e=>e.getUTCMinutes());NL.range;const SL=Sa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mu-e.getMinutes()*El)},(e,t)=>{e.setTime(+e+t*Fu)},(e,t)=>(t-e)/Fu,e=>e.getHours());SL.range;const kL=Sa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fu)},(e,t)=>(t-e)/Fu,e=>e.getUTCHours());kL.range;const a1=Sa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*El)/ed,e=>e.getDate()-1);a1.range;const Ek=Sa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ed,e=>e.getUTCDate()-1);Ek.range;const Gde=Sa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ed,e=>Math.floor(e/ed));Gde.range;function up(e){return Sa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*El)/_L)}const Tk=up(0),wS=up(1),uYe=up(2),dYe=up(3),P0=up(4),fYe=up(5),hYe=up(6);Tk.range;wS.range;uYe.range;dYe.range;P0.range;fYe.range;hYe.range;function dp(e){return Sa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_L)}const Ak=dp(0),_S=dp(1),mYe=dp(2),pYe=dp(3),O0=dp(4),gYe=dp(5),xYe=dp(6);Ak.range;_S.range;mYe.range;pYe.range;O0.range;gYe.range;xYe.range;const CL=Sa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CL.range;const EL=Sa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());EL.range;const td=Sa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());td.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});td.range;const rd=Sa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});rd.range;function Kde(e,t,r,n,a,i){const o=[[Hh,1,Mu],[Hh,5,5*Mu],[Hh,15,15*Mu],[Hh,30,30*Mu],[i,1,El],[i,5,5*El],[i,15,15*El],[i,30,30*El],[a,1,Fu],[a,3,3*Fu],[a,6,6*Fu],[a,12,12*Fu],[n,1,ed],[n,2,2*ed],[r,1,_L],[t,1,SK],[t,3,3*SK],[e,1,CO]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,p=uL(([,,v])=>v).right(o,m);if(p===o.length)return e.every(Z3(u/CO,d/CO,f));if(p===0)return bS.every(Math.max(Z3(u,d,f),1));const[y,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(g)}return[l,c]}const[vYe,yYe]=Kde(rd,EL,Ak,Gde,kL,NL),[bYe,wYe]=Kde(td,CL,Tk,a1,SL,jL);function EO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function TO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bv(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _Ye(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=wv(a),d=_v(a),f=wv(i),m=_v(i),p=wv(o),y=_v(o),g=wv(l),v=_v(l),w=wv(c),b=_v(c),j={a:G,A:K,b:I,B,c:null,d:PK,e:PK,f:WYe,g:tXe,G:nXe,H:VYe,I:zYe,j:qYe,L:Yde,m:HYe,M:GYe,p:Y,q:z,Q:DK,s:IK,S:KYe,u:YYe,U:XYe,V:JYe,w:ZYe,W:QYe,x:null,X:null,y:eXe,Y:rXe,Z:sXe,"%":RK},E={a:J,A:X,b:ee,B:he,c:null,d:OK,e:OK,f:lXe,g:vXe,G:bXe,H:aXe,I:iXe,j:oXe,L:Jde,m:cXe,M:uXe,p:fe,q:ge,Q:DK,s:IK,S:dXe,u:fXe,U:hXe,V:mXe,w:pXe,W:gXe,x:null,X:null,y:xXe,Y:yXe,Z:wXe,"%":RK},S={a:A,A:P,b:D,B:F,c:L,d:TK,e:TK,f:LYe,g:EK,G:CK,H:AK,I:AK,j:DYe,L:FYe,m:RYe,M:IYe,p:O,q:OYe,Q:BYe,s:UYe,S:MYe,u:CYe,U:EYe,V:TYe,w:kYe,W:AYe,x:H,X:W,y:EK,Y:CK,Z:PYe,"%":$Ye};j.x=C(r,j),j.X=C(n,j),j.c=C(t,j),E.x=C(r,E),E.X=C(n,E),E.c=C(t,E);function C(U,ne){return function(Q){var V=[],ue=-1,oe=0,Se=U.length,Ee,ie,qe;for(Q instanceof Date||(Q=new Date(+Q));++ue<Se;)U.charCodeAt(ue)===37&&(V.push(U.slice(oe,ue)),(ie=kK[Ee=U.charAt(++ue)])!=null?Ee=U.charAt(++ue):ie=Ee==="e"?" ":"0",(qe=ne[Ee])&&(Ee=qe(Q,ie)),V.push(Ee),oe=ue+1);return V.push(U.slice(oe,ue)),V.join("")}}function k(U,ne){return function(Q){var V=bv(1900,void 0,1),ue=R(V,U,Q+="",0),oe,Se;if(ue!=Q.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ne&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(oe=TO(bv(V.y,0,1)),Se=oe.getUTCDay(),oe=Se>4||Se===0?_S.ceil(oe):_S(oe),oe=Ek.offset(oe,(V.V-1)*7),V.y=oe.getUTCFullYear(),V.m=oe.getUTCMonth(),V.d=oe.getUTCDate()+(V.w+6)%7):(oe=EO(bv(V.y,0,1)),Se=oe.getDay(),oe=Se>4||Se===0?wS.ceil(oe):wS(oe),oe=a1.offset(oe,(V.V-1)*7),V.y=oe.getFullYear(),V.m=oe.getMonth(),V.d=oe.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Se="Z"in V?TO(bv(V.y,0,1)).getUTCDay():EO(bv(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Se+5)%7:V.w+V.U*7-(Se+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,TO(V)):EO(V)}}function R(U,ne,Q,V){for(var ue=0,oe=ne.length,Se=Q.length,Ee,ie;ue<oe;){if(V>=Se)return-1;if(Ee=ne.charCodeAt(ue++),Ee===37){if(Ee=ne.charAt(ue++),ie=S[Ee in kK?ne.charAt(ue++):Ee],!ie||(V=ie(U,Q,V))<0)return-1}else if(Ee!=Q.charCodeAt(V++))return-1}return V}function O(U,ne,Q){var V=u.exec(ne.slice(Q));return V?(U.p=d.get(V[0].toLowerCase()),Q+V[0].length):-1}function A(U,ne,Q){var V=p.exec(ne.slice(Q));return V?(U.w=y.get(V[0].toLowerCase()),Q+V[0].length):-1}function P(U,ne,Q){var V=f.exec(ne.slice(Q));return V?(U.w=m.get(V[0].toLowerCase()),Q+V[0].length):-1}function D(U,ne,Q){var V=w.exec(ne.slice(Q));return V?(U.m=b.get(V[0].toLowerCase()),Q+V[0].length):-1}function F(U,ne,Q){var V=g.exec(ne.slice(Q));return V?(U.m=v.get(V[0].toLowerCase()),Q+V[0].length):-1}function L(U,ne,Q){return R(U,t,ne,Q)}function H(U,ne,Q){return R(U,r,ne,Q)}function W(U,ne,Q){return R(U,n,ne,Q)}function G(U){return o[U.getDay()]}function K(U){return i[U.getDay()]}function I(U){return c[U.getMonth()]}function B(U){return l[U.getMonth()]}function Y(U){return a[+(U.getHours()>=12)]}function z(U){return 1+~~(U.getMonth()/3)}function J(U){return o[U.getUTCDay()]}function X(U){return i[U.getUTCDay()]}function ee(U){return c[U.getUTCMonth()]}function he(U){return l[U.getUTCMonth()]}function fe(U){return a[+(U.getUTCHours()>=12)]}function ge(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ne=C(U+="",j);return ne.toString=function(){return U},ne},parse:function(U){var ne=k(U+="",!1);return ne.toString=function(){return U},ne},utcFormat:function(U){var ne=C(U+="",E);return ne.toString=function(){return U},ne},utcParse:function(U){var ne=k(U+="",!0);return ne.toString=function(){return U},ne}}}var kK={"-":"",_:" ",0:"0"},Ua=/^\s*\d+/,jYe=/^%/,NYe=/[\\^$*+?|[\]().{}]/g;function fn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function SYe(e){return e.replace(NYe,"\\$&")}function wv(e){return new RegExp("^(?:"+e.map(SYe).join("|")+")","i")}function _v(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kYe(e,t,r){var n=Ua.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CYe(e,t,r){var n=Ua.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function EYe(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TYe(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function AYe(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CK(e,t,r){var n=Ua.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function EK(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PYe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function OYe(e,t,r){var n=Ua.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RYe(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TK(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function DYe(e,t,r){var n=Ua.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function AK(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function IYe(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function MYe(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function FYe(e,t,r){var n=Ua.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function LYe(e,t,r){var n=Ua.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $Ye(e,t,r){var n=jYe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function BYe(e,t,r){var n=Ua.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function UYe(e,t,r){var n=Ua.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PK(e,t){return fn(e.getDate(),t,2)}function VYe(e,t){return fn(e.getHours(),t,2)}function zYe(e,t){return fn(e.getHours()%12||12,t,2)}function qYe(e,t){return fn(1+a1.count(td(e),e),t,3)}function Yde(e,t){return fn(e.getMilliseconds(),t,3)}function WYe(e,t){return Yde(e,t)+"000"}function HYe(e,t){return fn(e.getMonth()+1,t,2)}function GYe(e,t){return fn(e.getMinutes(),t,2)}function KYe(e,t){return fn(e.getSeconds(),t,2)}function YYe(e){var t=e.getDay();return t===0?7:t}function XYe(e,t){return fn(Tk.count(td(e)-1,e),t,2)}function Xde(e){var t=e.getDay();return t>=4||t===0?P0(e):P0.ceil(e)}function JYe(e,t){return e=Xde(e),fn(P0.count(td(e),e)+(td(e).getDay()===4),t,2)}function ZYe(e){return e.getDay()}function QYe(e,t){return fn(wS.count(td(e)-1,e),t,2)}function eXe(e,t){return fn(e.getFullYear()%100,t,2)}function tXe(e,t){return e=Xde(e),fn(e.getFullYear()%100,t,2)}function rXe(e,t){return fn(e.getFullYear()%1e4,t,4)}function nXe(e,t){var r=e.getDay();return e=r>=4||r===0?P0(e):P0.ceil(e),fn(e.getFullYear()%1e4,t,4)}function sXe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fn(t/60|0,"0",2)+fn(t%60,"0",2)}function OK(e,t){return fn(e.getUTCDate(),t,2)}function aXe(e,t){return fn(e.getUTCHours(),t,2)}function iXe(e,t){return fn(e.getUTCHours()%12||12,t,2)}function oXe(e,t){return fn(1+Ek.count(rd(e),e),t,3)}function Jde(e,t){return fn(e.getUTCMilliseconds(),t,3)}function lXe(e,t){return Jde(e,t)+"000"}function cXe(e,t){return fn(e.getUTCMonth()+1,t,2)}function uXe(e,t){return fn(e.getUTCMinutes(),t,2)}function dXe(e,t){return fn(e.getUTCSeconds(),t,2)}function fXe(e){var t=e.getUTCDay();return t===0?7:t}function hXe(e,t){return fn(Ak.count(rd(e)-1,e),t,2)}function Zde(e){var t=e.getUTCDay();return t>=4||t===0?O0(e):O0.ceil(e)}function mXe(e,t){return e=Zde(e),fn(O0.count(rd(e),e)+(rd(e).getUTCDay()===4),t,2)}function pXe(e){return e.getUTCDay()}function gXe(e,t){return fn(_S.count(rd(e)-1,e),t,2)}function xXe(e,t){return fn(e.getUTCFullYear()%100,t,2)}function vXe(e,t){return e=Zde(e),fn(e.getUTCFullYear()%100,t,2)}function yXe(e,t){return fn(e.getUTCFullYear()%1e4,t,4)}function bXe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?O0(e):O0.ceil(e),fn(e.getUTCFullYear()%1e4,t,4)}function wXe(){return"+0000"}function RK(){return"%"}function DK(e){return+e}function IK(e){return Math.floor(+e/1e3)}var ag,Qde,efe;_Xe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _Xe(e){return ag=_Ye(e),Qde=ag.format,ag.parse,efe=ag.utcFormat,ag.utcParse,ag}function jXe(e){return new Date(e)}function NXe(e){return e instanceof Date?+e:+new Date(+e)}function TL(e,t,r,n,a,i,o,l,c,u){var d=pL(),f=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),b=u("%b %d"),j=u("%B"),E=u("%Y");function S(C){return(c(C)<C?p:l(C)<C?y:o(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?w:b:r(C)<C?j:E)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?m(Array.from(C,NXe)):m().map(jXe)},d.ticks=function(C){var k=m();return e(k[0],k[k.length-1],C??10)},d.tickFormat=function(C,k){return k==null?S:u(k)},d.nice=function(C){var k=m();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?m(Bde(k,C)):d},d.copy=function(){return s1(d,TL(e,t,r,n,a,i,o,l,c,u))},d}function SXe(){return Vl.apply(TL(bYe,wYe,td,CL,Tk,a1,SL,jL,Hh,Qde).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kXe(){return Vl.apply(TL(vYe,yYe,rd,EL,Ak,Ek,kL,NL,Hh,efe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pk(){var e=0,t=1,r,n,a,i,o=Wi,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var p,y;return arguments.length?([p,y]=m,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(yx),u.rangeRound=d(mL),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function eh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tfe(){var e=Qf(Pk()(Wi));return e.copy=function(){return eh(e,tfe())},hd.apply(e,arguments)}function rfe(){var e=vL(Pk()).domain([1,10]);return e.copy=function(){return eh(e,rfe()).base(e.base())},hd.apply(e,arguments)}function nfe(){var e=yL(Pk());return e.copy=function(){return eh(e,nfe()).constant(e.constant())},hd.apply(e,arguments)}function AL(){var e=bL(Pk());return e.copy=function(){return eh(e,AL()).exponent(e.exponent())},hd.apply(e,arguments)}function CXe(){return AL.apply(null,arguments).exponent(.5)}function sfe(){var e=[],t=Wi;function r(n){if(n!=null&&!isNaN(n=+n))return t((r1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>hKe(e,i/n))},r.copy=function(){return sfe(t).domain(e)},hd.apply(r,arguments)}function Ok(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Wi,d,f=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var w,b,j;return arguments.length?([w,b,j]=v,u=$Ke(g,[w,b,j]),p):[u(0),u(.5),u(1)]}}return p.range=y(yx),p.rangeRound=y(mL),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function afe(){var e=Qf(Ok()(Wi));return e.copy=function(){return eh(e,afe())},hd.apply(e,arguments)}function ife(){var e=vL(Ok()).domain([.1,1,10]);return e.copy=function(){return eh(e,ife()).base(e.base())},hd.apply(e,arguments)}function ofe(){var e=yL(Ok());return e.copy=function(){return eh(e,ofe()).constant(e.constant())},hd.apply(e,arguments)}function PL(){var e=bL(Ok());return e.copy=function(){return eh(e,PL()).exponent(e.exponent())},hd.apply(e,arguments)}function EXe(){return PL.apply(null,arguments).exponent(.5)}const MK=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mb,scaleDiverging:afe,scaleDivergingLog:ife,scaleDivergingPow:PL,scaleDivergingSqrt:EXe,scaleDivergingSymlog:ofe,scaleIdentity:$de,scaleImplicit:Q3,scaleLinear:yS,scaleLog:Ude,scaleOrdinal:dL,scalePoint:Ay,scalePow:wL,scaleQuantile:qde,scaleQuantize:Wde,scaleRadial:zde,scaleSequential:tfe,scaleSequentialLog:rfe,scaleSequentialPow:AL,scaleSequentialQuantile:sfe,scaleSequentialSqrt:CXe,scaleSequentialSymlog:nfe,scaleSqrt:lYe,scaleSymlog:Vde,scaleThreshold:Hde,scaleTime:SXe,scaleUtc:kXe,tickFormat:Lde},Symbol.toStringTag,{value:"Module"}));var AO,FK;function Rk(){if(FK)return AO;FK=1;var e=px();function t(r,n,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):a(c,u)))var u=c,d=l}return d}return AO=t,AO}var PO,LK;function lfe(){if(LK)return PO;LK=1;function e(t,r){return t>r}return PO=e,PO}var OO,$K;function TXe(){if($K)return OO;$K=1;var e=Rk(),t=lfe(),r=xx();function n(a){return a&&a.length?e(a,r,t):void 0}return OO=n,OO}var AXe=TXe();const Dk=Qr(AXe);var RO,BK;function cfe(){if(BK)return RO;BK=1;function e(t,r){return t<r}return RO=e,RO}var DO,UK;function PXe(){if(UK)return DO;UK=1;var e=Rk(),t=cfe(),r=xx();function n(a){return a&&a.length?e(a,r,t):void 0}return DO=n,DO}var OXe=PXe();const Ik=Qr(OXe);var IO,VK;function RXe(){if(VK)return IO;VK=1;var e=G6(),t=hu(),r=xde(),n=wo();function a(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return IO=a,IO}var MO,zK;function DXe(){if(zK)return MO;zK=1;var e=pde(),t=RXe();function r(n,a){return e(t(n,a),1)}return MO=r,MO}var IXe=DXe();const MXe=Qr(IXe);var FO,qK;function FXe(){if(qK)return FO;qK=1;var e=iL();function t(r,n){return e(r,n)}return FO=t,FO}var LXe=FXe();const Mk=Qr(LXe);var bx=1e9,$Xe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RL,ls=!0,Ll="[DecimalError] ",dm=Ll+"Invalid argument: ",OL=Ll+"Exponent out of range: ",wx=Math.floor,Ah=Math.pow,BXe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Uo,Ra=1e7,Qn=7,ufe=9007199254740991,jS=wx(ufe/Qn),Bt={};Bt.absoluteValue=Bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Bt.comparedTo=Bt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Bt.dividedBy=Bt.div=function(e){return qu(this,new this.constructor(e))};Bt.dividedToIntegerBy=Bt.idiv=function(e){var t=this,r=t.constructor;return $n(qu(t,new r(e),0,1),r.precision)};Bt.equals=Bt.eq=function(e){return!this.cmp(e)};Bt.exponent=function(){return la(this)};Bt.greaterThan=Bt.gt=function(e){return this.cmp(e)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(e){return this.cmp(e)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(e){return this.cmp(e)<0};Bt.lessThanOrEqualTo=Bt.lte=function(e){return this.cmp(e)<1};Bt.logarithm=Bt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Uo))throw Error(Ll+"NaN");if(r.s<1)throw Error(Ll+(r.s?"NaN":"-Infinity"));return r.eq(Uo)?new n(0):(ls=!1,t=qu(Ub(r,i),Ub(e,i),i),ls=!0,$n(t,a))};Bt.minus=Bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hfe(t,e):dfe(t,(e.s=-e.s,e))};Bt.modulo=Bt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ll+"NaN");return r.s?(ls=!1,t=qu(r,e,0,1).times(e),ls=!0,r.minus(t)):$n(new n(r),a)};Bt.naturalExponential=Bt.exp=function(){return ffe(this)};Bt.naturalLogarithm=Bt.ln=function(){return Ub(this)};Bt.negated=Bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Bt.plus=Bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dfe(t,e):hfe(t,(e.s=-e.s,e))};Bt.precision=Bt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dm+e);if(t=la(a)+1,n=a.d.length-1,r=n*Qn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Bt.squareRoot=Bt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ll+"NaN")}for(e=la(l),ls=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wx((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(qu(l,i,o+2)).times(.5),zc(i.d).slice(0,o)===(t=zc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if($n(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ls=!0,$n(n,r)};Bt.times=Bt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=p.length,c<u&&(i=m,m=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*m[a-n-1]+t,i[a--]=l%Ra|0,t=l/Ra|0;i[a]=(i[a]+t)%Ra|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ls?$n(e,f.precision):e};Bt.toDecimalPlaces=Bt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(su(e,0,bx),t===void 0?t=n.rounding:su(t,0,8),$n(r,e+la(r)+1,t))};Bt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=qm(n,!0):(su(e,0,bx),t===void 0?t=a.rounding:su(t,0,8),n=$n(new a(n),e+1,t),r=qm(n,!0,e+1)),r};Bt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?qm(a):(su(e,0,bx),t===void 0?t=i.rounding:su(t,0,8),n=$n(new i(a),e+la(a)+1,t),r=qm(n.abs(),!1,e+la(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Bt.toInteger=Bt.toint=function(){var e=this,t=e.constructor;return $n(new t(e),la(e)+1,t.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Uo);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ll+"Infinity");return l}if(l.eq(Uo))return l;if(n=c.precision,e.eq(Uo))return $n(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=ufe){for(a=new c(Uo),t=Math.ceil(n/Qn+4),ls=!1;r%2&&(a=a.times(l),HK(a.d,t)),r=wx(r/2),r!==0;)l=l.times(l),HK(l.d,t);return ls=!0,e.s<0?new c(Uo).div(a):$n(a,n)}}else if(i<0)throw Error(Ll+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ls=!1,a=e.times(Ub(l,n+u)),ls=!0,a=ffe(a),a.s=i,a};Bt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=la(a),n=qm(a,r<=i.toExpNeg||r>=i.toExpPos)):(su(e,1,bx),t===void 0?t=i.rounding:su(t,0,8),a=$n(new i(a),e,t),r=la(a),n=qm(a,e<=r||r<=i.toExpNeg,e)),n};Bt.toSignificantDigits=Bt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(su(e,1,bx),t===void 0?t=n.rounding:su(t,0,8)),$n(new n(r),e,t)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=la(e),r=e.constructor;return qm(e,t<=r.toExpNeg||t>=r.toExpPos)};function dfe(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ls?$n(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Qn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ra|0,c[i]%=Ra;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ls?$n(t,f):t}function su(e,t,r){if(e!==~~e||e<t||e>r)throw Error(dm+e)}function zc(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Qn-n.length,r&&(i+=Hd(r)),i+=n;o=e[t],n=o+"",r=Qn-n.length,r&&(i+=Hd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var qu=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Ra|0,o=i/Ra|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Ra+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,p,y,g,v,w,b,j,E,S,C,k,R,O=n.constructor,A=n.s==a.s?1:-1,P=n.d,D=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Ll+"Division by zero");for(c=n.e-a.e,k=D.length,S=P.length,p=new O(A),y=p.d=[],u=0;D[u]==(P[u]||0);)++u;if(D[u]>(P[u]||0)&&--c,i==null?b=i=O.precision:o?b=i+(la(n)-la(a))+1:b=i,b<0)return new O(0);if(b=b/Qn+2|0,u=0,k==1)for(d=0,D=D[0],b++;(u<S||d)&&b--;u++)j=d*Ra+(P[u]||0),y[u]=j/D|0,d=j%D|0;else{for(d=Ra/(D[0]+1)|0,d>1&&(D=e(D,d),P=e(P,d),k=D.length,S=P.length),E=k,g=P.slice(0,k),v=g.length;v<k;)g[v++]=0;R=D.slice(),R.unshift(0),C=D[0],D[1]>=Ra/2&&++C;do d=0,l=t(D,g,k,v),l<0?(w=g[0],k!=v&&(w=w*Ra+(g[1]||0)),d=w/C|0,d>1?(d>=Ra&&(d=Ra-1),f=e(D,d),m=f.length,v=g.length,l=t(f,g,m,v),l==1&&(d--,r(f,k<m?R:D,m))):(d==0&&(l=d=1),f=D.slice()),m=f.length,m<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(D,g,k,v),l<1&&(d++,r(g,k<v?R:D,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=P[E]||0:(g=[P[E]],v=1);while((E++<S||g[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=c,$n(p,o?i+la(p)+1:i)}})();function ffe(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(la(e)>16)throw Error(OL+la(e));if(!e.s)return new d(Uo);for(ls=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ah(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Uo),d.precision=l;;){if(a=$n(a.times(e),l),r=r.times(++c),o=i.plus(qu(a,r,l)),zc(o.d).slice(0,l)===zc(i.d).slice(0,l)){for(;u--;)i=$n(i.times(i),l);return d.precision=f,t==null?(ls=!0,$n(i,f)):i}i=o}}function la(e){for(var t=e.e*Qn,r=e.d[0];r>=10;r/=10)t++;return t}function LO(e,t,r){if(t>e.LN10.sd())throw ls=!0,r&&(e.precision=r),Error(Ll+"LN10 precision limit exceeded");return $n(new e(e.LN10),t)}function Hd(e){for(var t="";e--;)t+="0";return t}function Ub(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,p=e,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ll+(p.s?"NaN":"-Infinity"));if(p.eq(Uo))return new g(0);if(t==null?(ls=!1,u=v):u=t,p.eq(10))return t==null&&(ls=!0),LO(g,u);if(u+=m,g.precision=u,r=zc(y),n=r.charAt(0),i=la(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=zc(p.d),n=r.charAt(0),f++;i=la(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return c=LO(g,u+2,v).times(i+""),p=Ub(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=v,t==null?(ls=!0,$n(p,v)):p;for(l=o=p=qu(p.minus(Uo),p.plus(Uo),u),d=$n(p.times(p),u),a=3;;){if(o=$n(o.times(d),u),c=l.plus(qu(o,new g(a),u)),zc(c.d).slice(0,u)===zc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(LO(g,u+2,v).times(i+""))),l=qu(l,new g(f),u),g.precision=v,t==null?(ls=!0,$n(l,v)):l;l=c,a+=2}}function WK(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wx(r/Qn),e.d=[],n=(r+1)%Qn,r<0&&(n+=Qn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qn;n<a;)e.d.push(+t.slice(n,n+=Qn));t=t.slice(n),n=Qn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ls&&(e.e>jS||e.e<-jS))throw Error(OL+r)}else e.s=0,e.e=0,e.d=[0];return e}function $n(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Qn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Qn,a=n-Qn+o}if(r!==void 0&&(i=Ah(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ah(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=la(e),f.length=1,t=t-i-1,f[0]=Ah(10,(Qn-t%Qn)%Qn),e.e=wx(-t/Qn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ah(10,Qn-n),f[d]=a>0?(u/Ah(10,o-a)%Ah(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ra&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ra)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ls&&(e.e>jS||e.e<-jS))throw Error(OL+la(e));return e}function hfe(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),ls?$n(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Qn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ra-1;--c[i],c[a]+=Ra}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ls?$n(t,p):t):new m(0)}function qm(e,t,r){var n,a=la(e),i=zc(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Hd(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Hd(-a-1)+i,r&&(n=r-o)>0&&(i+=Hd(n))):a>=o?(i+=Hd(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Hd(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Hd(n))),e.s<0?"-"+i:i}function HK(e,t){if(e.length>t)return e.length=t,!0}function mfe(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(dm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return WK(o,i.toString())}else if(typeof i!="string")throw Error(dm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,BXe.test(i))WK(o,i);else throw Error(dm+i)}if(a.prototype=Bt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mfe,a.config=a.set=UXe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function UXe(e){if(!e||typeof e!="object")throw Error(Ll+"Object expected");var t,r,n,a=["precision",1,bx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wx(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(dm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dm+r+": "+n);return this}var RL=mfe($Xe);Uo=new RL(1);const Pn=RL;function VXe(e){return HXe(e)||WXe(e)||qXe(e)||zXe()}function zXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qXe(e,t){if(e){if(typeof e=="string")return nI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nI(e,t)}}function WXe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HXe(e){if(Array.isArray(e))return nI(e)}function nI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var GXe=function(t){return t},pfe={},gfe=function(t){return t===pfe},GK=function(t){return function r(){return arguments.length===0||arguments.length===1&&gfe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},KXe=function e(t,r){return t===1?r:GK(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==pfe}).length;return o>=t?r.apply(void 0,a):e(t-o,GK(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return gfe(f)?c.shift():f});return r.apply(void 0,VXe(d).concat(c))}))})},Fk=function(t){return KXe(t.length,t)},sI=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},YXe=Fk(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),XXe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return GXe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},aI=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},xfe=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function JXe(e){var t;return e===0?t=1:t=Math.floor(new Pn(e).abs().log(10).toNumber())+1,t}function ZXe(e,t,r){for(var n=new Pn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var QXe=Fk(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),eJe=Fk(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),tJe=Fk(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Lk={rangeStep:ZXe,getDigitCount:JXe,interpolateNumber:QXe,uninterpolateNumber:eJe,uninterpolateTruncation:tJe};function iI(e){return sJe(e)||nJe(e)||vfe(e)||rJe()}function rJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sJe(e){if(Array.isArray(e))return oI(e)}function Vb(e,t){return oJe(e)||iJe(e,t)||vfe(e,t)||aJe()}function aJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vfe(e,t){if(e){if(typeof e=="string")return oI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(e,t)}}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iJe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function oJe(e){if(Array.isArray(e))return e}function yfe(e){var t=Vb(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function bfe(e,t,r){if(e.lte(0))return new Pn(0);var n=Lk.getDigitCount(e.toNumber()),a=new Pn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Pn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Pn(Math.ceil(c))}function lJe(e,t,r){var n=1,a=new Pn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pn(10).pow(Lk.getDigitCount(e)-1),a=new Pn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pn(Math.floor(e)))}else e===0?a=new Pn(Math.floor((t-1)/2)):r||(a=new Pn(Math.floor(e)));var o=Math.floor((t-1)/2),l=XXe(YXe(function(c){return a.add(new Pn(c-o).mul(n)).toNumber()}),sI);return l(0,t)}function wfe(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var i=bfe(new Pn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Pn(0):(o=new Pn(e).add(t).div(2),o=o.sub(new Pn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Pn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?wfe(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Pn(l).mul(i)),tickMax:o.add(new Pn(c).mul(i))})}function cJe(e){var t=Vb(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=yfe([r,n]),c=Vb(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(iI(sI(0,a-1).map(function(){return 1/0}))):[].concat(iI(sI(0,a-1).map(function(){return-1/0})),[d]);return r>n?aI(f):f}if(u===d)return lJe(u,a,i);var m=wfe(u,d,o,i),p=m.step,y=m.tickMin,g=m.tickMax,v=Lk.rangeStep(y,g.add(new Pn(.1).mul(p)),p);return r>n?aI(v):v}function uJe(e,t){var r=Vb(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yfe([n,a]),l=Vb(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=bfe(new Pn(u).sub(c).div(d-1),i,0),m=[].concat(iI(Lk.rangeStep(new Pn(c),new Pn(u).sub(new Pn(.99).mul(f)),f)),[u]);return n>a?aI(m):m}var dJe=xfe(cJe),fJe=xfe(uJe),hJe="Invariant failed";function Wm(e,t){throw new Error(hJe)}var mJe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NS.apply(this,arguments)}function pJe(e,t){return yJe(e)||vJe(e,t)||xJe(e,t)||gJe()}function gJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJe(e,t){if(e){if(typeof e=="string")return KK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KK(e,t)}}function KK(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vJe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function yJe(e){if(Array.isArray(e))return e}function bJe(e,t){if(e==null)return{};var r=wJe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nfe(n.key),n)}}function NJe(e,t,r){return t&&jJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SJe(e,t,r){return t=SS(t),kJe(e,_fe()?Reflect.construct(t,r||[],SS(e).constructor):t.apply(e,r))}function kJe(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJe(e)}function CJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_fe=function(){return!!e})()}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SS(e)}function EJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lI(e,t)}function lI(e,t){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lI(e,t)}function jfe(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=TJe(e,"string");return R0(t)=="symbol"?t:t+""}function TJe(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $k=(function(e){function t(){return _Je(this,t),SJe(this,t,arguments)}return EJe(t,e),NJe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=bJe(n,mJe),p=pr(m,!1);this.props.direction==="x"&&d.type!=="number"&&Wm();var y=c.map(function(g){var v=u(g,l),w=v.x,b=v.y,j=v.value,E=v.errorVal;if(!E)return null;var S=[],C,k;if(Array.isArray(E)){var R=pJe(E,2);C=R[0],k=R[1]}else C=k=E;if(i==="vertical"){var O=d.scale,A=b+a,P=A+o,D=A-o,F=O(j-C),L=O(j+k);S.push({x1:L,y1:P,x2:L,y2:D}),S.push({x1:F,y1:A,x2:L,y2:A}),S.push({x1:F,y1:P,x2:F,y2:D})}else if(i==="horizontal"){var H=f.scale,W=w+a,G=W-o,K=W+o,I=H(j-C),B=H(j+k);S.push({x1:G,y1:B,x2:K,y2:B}),S.push({x1:W,y1:I,x2:W,y2:B}),S.push({x1:G,y1:I,x2:K,y2:I})}return ce.createElement(En,NS({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),S.map(function(Y){return ce.createElement("line",NS({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return ce.createElement(En,{className:"recharts-errorBars"},y)}}])})(ce.Component);jfe($k,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jfe($k,"displayName","ErrorBar");function zb(e){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(e)}function YK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YK(Object(r),!0).forEach(function(n){AJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AJe(e,t,r){return t=PJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PJe(e){var t=OJe(e,"string");return zb(t)=="symbol"?t:t+""}function OJe(e,t){if(zb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sfe=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Po(r,xf);if(!o)return null;var l=xf.defaultProps,c=l!==void 0?yh(yh({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?yh(yh({},m),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,w=p.hide;return{inactive:w,dataKey:y,type:c.iconType||v||"square",color:DL(f),value:g||y,payload:p}}),yh(yh(yh({},c),xf.getWithHeight(o,a)),{},{payload:u,item:o})};function qb(e){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qb(e)}function XK(e){return MJe(e)||IJe(e)||DJe(e)||RJe()}function RJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJe(e,t){if(e){if(typeof e=="string")return cI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cI(e,t)}}function IJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MJe(e){if(Array.isArray(e))return cI(e)}function cI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JK(Object(r),!0).forEach(function(n){Qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qg(e,t,r){return t=FJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJe(e){var t=LJe(e,"string");return qb(t)=="symbol"?t:t+""}function LJe(e,t){if(qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yi(e,t,r){return Gr(e)||Gr(t)?r:_a(t)?Go(e,t,r):jr(t)?t(e):r}function Py(e,t,r,n){var a=MXe(e,function(l){return yi(l,t)});if(r==="number"){var i=a.filter(function(l){return _t(l)||parseFloat(l)});return i.length?[Ik(i),Dk(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Gr(l)}):a;return o.map(function(l){return _a(l)||l instanceof Date?l:""})}var $Je=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(zi(f-d)!==zi(m-f)){var y=[];if(zi(m-f)===zi(c[1]-c[0])){p=m;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=m+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var b=Math.min(d,m),j=Math.max(d,m);if(t>(b+f)/2&&t<=(j+f)/2){o=a[u].index;break}}}else for(var E=0;E<l;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===l-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},DL=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ns(Ns({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},BJe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],g=y.items,v=y.cateAxisId,w=g.filter(function(k){return zu(k.type).indexOf("Bar")>=0});if(w&&w.length){var b=w[0].type.defaultProps,j=b!==void 0?Ns(Ns({},b),w[0].props):w[0].props,E=j.barSize,S=j[v];o[S]||(o[S]=[]);var C=Gr(E)?r:E;o[S].push({item:w[0],stackList:w.slice(1),barSize:Gr(C)?void 0:qi(C,n,0)})}}return o},UJe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=qi(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=a/c,y=o.reduce(function(E,S){return E+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(m=!0,p*=.9,y=c*p);var g=(a-y)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(E,S){var C={item:S.item,position:{offset:v.offset+v.size+u,size:m?p:S.barSize}},k=[].concat(XK(E),[C]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){k.push({item:R,position:v})}),k},f)}else{var w=qi(n,a,0,!0);a-2*w-(c-1)*u<=0&&(u=0);var b=(a-2*w-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(E,S,C){var k=[].concat(XK(E),[{item:S.item,position:{offset:w+(b+u)*C+(b-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(R){k.push({item:R,position:k[k.length-1].position})}),k},f)}return d},VJe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Sfe({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&_t(t[p]))return Ns(Ns({},t),{},Qg({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&_t(t[y]))return Ns(Ns({},t),{},Qg({},y,t[y]+(m||0)))}return t},zJe=function(t,r,n){return Gr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kfe=function(t,r,n,a,i){var o=r.props.children,l=Il(o,$k).filter(function(u){return zJe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=yi(d,n);if(Gr(f))return u;var m=Array.isArray(f)?[Ik(f),Dk(f)]:[f,f],p=c.reduce(function(y,g){var v=yi(d,g,0),w=m[0]-Math.abs(Array.isArray(v)?v[0]:v),b=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},qJe=function(t,r,n,a,i){var o=r.map(function(l){return kfe(t,l,n,i,a)}).filter(function(l){return!Gr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Cfe=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&kfe(t,c,u,a)||Py(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Efe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Tfe=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Lu=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?zi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Qw(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},$O=new WeakMap,lj=function(t,r){if(typeof r!="function")return t;$O.has(t)||$O.set(t,new WeakMap);var n=$O.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Afe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mb(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yS(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ay(),realScaleType:"point"}:i==="category"?{scale:Mb(),realScaleType:"band"}:{scale:yS(),realScaleType:"linear"};if(Um(a)){var c="scale".concat(yk(a));return{scale:(MK[c]||Ay)(),realScaleType:MK[c]?c:"point"}}return jr(a)?{scale:a}:{scale:Ay(),realScaleType:"point"}},ZK=1e-4,Pfe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-ZK,o=Math.max(a[0],a[1])+ZK,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},WJe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},HJe=function(t,r){if(!r||r.length!==2||!_t(r[0])||!_t(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_t(t[0])||t[0]<n)&&(i[0]=n),(!_t(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},GJe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Qw(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},KJe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Qw(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},YJe={sign:GJe,expand:Mqe,none:S0,silhouette:Fqe,wiggle:Lqe,positive:KJe},XJe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=YJe[n],o=Iqe().keys(a).value(function(l,c){return+yi(l,c,0)}).order($3).offset(i);return o(t)},JJe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Ns(Ns({},m.type.defaultProps),m.props):m.props,g=y.stackId,v=y.hide;if(v)return f;var w=y[n],b=f[w]||{hasStack:!1,stackGroups:{}};if(_a(g)){var j=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(m),b.hasStack=!0,b.stackGroups[g]=j}else b.stackGroups[e1("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Ns(Ns({},f),{},Qg({},w,b))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var w=p.stackGroups[v];return Ns(Ns({},g),{},Qg({},v,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:XJe(t,w.items,i)}))},y)}return Ns(Ns({},f),{},Qg({},m,p))},d)},Ofe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=dJe(u,i,l);return t.domain([Ik(d),Dk(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),m=fJe(f,i,l);return{niceTicks:m}}return null},QK=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=yi(o,r.dataKey,r.domain[l]);return Gr(c)?null:r.scale(c)-i/2+a},ZJe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},QJe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ns(Ns({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(_a(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},eZe=function(t){return t.reduce(function(r,n){return[Ik(n.concat([r[0]]).filter(_t)),Dk(n.concat([r[1]]).filter(_t))]},[1/0,-1/0])},Rfe=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=eZe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},eY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uI=function(t,r,n){if(jr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(_t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(eY.test(t[0])){var i=+eY.exec(t[0])[1];a[0]=r[0]-i}else jr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(tY.test(t[1])){var o=+tY.exec(t[1])[1];a[1]=r[1]+o}else jr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},kS=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=lL(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},rY=function(t,r,n){return!t||!t.length||Mk(t,Go(n,"type.defaultProps.domain"))?r:t},Dfe=function(t,r){var n=t.type.defaultProps?Ns(Ns({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ns(Ns({},pr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:DL(t),value:yi(r,a),type:c,payload:r,chartType:u,hide:d})};function Wb(e){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wb(e)}function nY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nY(Object(r),!0).forEach(function(n){Ife(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ife(e,t,r){return t=tZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZe(e){var t=rZe(e,"string");return Wb(t)=="symbol"?t:t+""}function rZe(e,t){if(Wb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZe(e,t){return oZe(e)||iZe(e,t)||aZe(e,t)||sZe()}function sZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZe(e,t){if(e){if(typeof e=="string")return sY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sY(e,t)}}function sY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iZe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oZe(e){if(Array.isArray(e))return e}var CS=Math.PI/180,lZe=function(t){return t*180/Math.PI},Kn=function(t,r,n,a){return{x:t+Math.cos(-CS*a)*n,y:r+Math.sin(-CS*a)*n}},Mfe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cZe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=qi(t.cx,o,o/2),f=qi(t.cy,l,l/2),m=Mfe(o,l,n),p=qi(t.innerRadius,m,0),y=qi(t.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(v,w){var b=r[w],j=b.domain,E=b.reversed,S;if(Gr(b.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,y]),E&&(S=[S[1],S[0]]);else{S=b.range;var C=S,k=nZe(C,2);c=k[0],u=k[1]}var R=Afe(b,i),O=R.realScaleType,A=R.scale;A.domain(j).range(S),Pfe(A);var P=Ofe(A,Eu(Eu({},b),{},{realScaleType:O})),D=Eu(Eu(Eu({},b),P),{},{range:S,radius:y,realScaleType:O,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Eu(Eu({},v),{},Ife({},w,D))},{})},uZe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},dZe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=uZe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:lZe(u),angleInRadian:u}},fZe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},hZe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},aY=function(t,r){var n=t.x,a=t.y,i=dZe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=fZe(r),f=d.startAngle,m=d.endAngle,p=l,y;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=f}return y?Eu(Eu({},r),{},{radius:o,angle:hZe(p,r)}):null},Ffe=function(t){return!_.isValidElement(t)&&!jr(t)&&typeof t!="boolean"?t.className:""};function Hb(e){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hb(e)}var mZe=["offset"];function pZe(e){return yZe(e)||vZe(e)||xZe(e)||gZe()}function gZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZe(e,t){if(e){if(typeof e=="string")return dI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(e,t)}}function vZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yZe(e){if(Array.isArray(e))return dI(e)}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bZe(e,t){if(e==null)return{};var r=wZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iY(Object(r),!0).forEach(function(n){_Ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ze(e,t,r){return t=jZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZe(e){var t=NZe(e,"string");return Hb(t)=="symbol"?t:t+""}function NZe(e,t){if(Hb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(this,arguments)}var SZe=function(t){var r=t.value,n=t.formatter,a=Gr(t.children)?r:t.children;return jr(n)?n(a):a},kZe=function(t,r){var n=zi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},CZe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+m)/2,w=kZe(p,y),b=w>=0?1:-1,j,E;a==="insideStart"?(j=p+b*o,E=g):a==="insideEnd"?(j=y-b*o,E=!g):a==="end"&&(j=y+b*o,E=g),E=w<=0?E:!E;var S=Kn(u,d,v,j),C=Kn(u,d,v,j+(E?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),R=Gr(t.id)?e1("recharts-radial-line-"):t.id;return ce.createElement("text",Gb({},n,{dominantBaseline:"central",className:Ir("recharts-radial-bar-label",l)}),ce.createElement("defs",null,ce.createElement("path",{id:R,d:k})),ce.createElement("textPath",{xlinkHref:"#".concat(R)},r))},EZe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var p=Kn(o,l,u+n,m),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,w=Kn(o,l,v,m),b=w.x,j=w.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},TZe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*a,w=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ma(ma({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var E={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return ma(ma({},E),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return ma(ma({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var C={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return ma(ma({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?ma({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideRight"?ma({x:l+u-v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideTop"?ma({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?ma({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?ma({x:l+v,y:c+m,textAnchor:b,verticalAnchor:y},k):i==="insideTopRight"?ma({x:l+u-v,y:c+m,textAnchor:w,verticalAnchor:y},k):i==="insideBottomLeft"?ma({x:l+v,y:c+d-m,textAnchor:b,verticalAnchor:p},k):i==="insideBottomRight"?ma({x:l+u-v,y:c+d-m,textAnchor:w,verticalAnchor:p},k):gx(i)&&(_t(i.x)||qh(i.x))&&(_t(i.y)||qh(i.y))?ma({x:l+qi(i.x,u),y:c+qi(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):ma({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},AZe=function(t){return"cx"in t&&_t(t.cx)};function Ma(e){var t=e.offset,r=t===void 0?5:t,n=bZe(e,mZe),a=ma({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Gr(l)&&Gr(c)&&!_.isValidElement(u)&&!jr(u))return null;if(_.isValidElement(u))return _.cloneElement(u,a);var p;if(jr(u)){if(p=_.createElement(u,a),_.isValidElement(p))return p}else p=SZe(a);var y=AZe(i),g=pr(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return CZe(a,p,g);var v=y?EZe(a):TZe(a);return ce.createElement(zm,Gb({className:Ir("recharts-label",f)},g,v,{breakAll:m}),p)}Ma.displayName="Label";var Lfe=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,p=t.top,y=t.left,g=t.width,v=t.height,w=t.clockWise,b=t.labelViewBox;if(b)return b;if(_t(g)&&_t(v)){if(_t(f)&&_t(m))return{x:f,y:m,width:g,height:v};if(_t(p)&&_t(y))return{x:p,y,width:g,height:v}}return _t(f)&&_t(m)?{x:f,y:m,width:0,height:0}:_t(r)&&_t(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},PZe=function(t,r){return t?t===!0?ce.createElement(Ma,{key:"label-implicit",viewBox:r}):_a(t)?ce.createElement(Ma,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===Ma?_.cloneElement(t,{key:"label-implicit",viewBox:r}):ce.createElement(Ma,{key:"label-implicit",content:t,viewBox:r}):jr(t)?ce.createElement(Ma,{key:"label-implicit",content:t,viewBox:r}):gx(t)?ce.createElement(Ma,Gb({viewBox:r},t,{key:"label-implicit"})):null:null},OZe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Lfe(t),o=Il(a,Ma).map(function(c,u){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=PZe(t.label,r||i);return[l].concat(pZe(o))};Ma.parseViewBox=Lfe;Ma.renderCallByParent=OZe;var BO,oY;function RZe(){if(oY)return BO;oY=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return BO=e,BO}var DZe=RZe();const IZe=Qr(DZe);function Kb(e){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kb(e)}var MZe=["valueAccessor"],FZe=["data","dataKey","clockWise","id","textBreakAll"];function LZe(e){return VZe(e)||UZe(e)||BZe(e)||$Ze()}function $Ze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZe(e,t){if(e){if(typeof e=="string")return fI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fI(e,t)}}function UZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VZe(e){if(Array.isArray(e))return fI(e)}function fI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(this,arguments)}function lY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lY(Object(r),!0).forEach(function(n){zZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZe(e,t,r){return t=qZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZe(e){var t=WZe(e,"string");return Kb(t)=="symbol"?t:t+""}function WZe(e,t){if(Kb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uY(e,t){if(e==null)return{};var r=HZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GZe=function(t){return Array.isArray(t.value)?IZe(t.value):t.value};function yf(e){var t=e.valueAccessor,r=t===void 0?GZe:t,n=uY(e,MZe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=uY(n,FZe);return!a||!a.length?null:ce.createElement(En,{className:"recharts-label-list"},a.map(function(d,f){var m=Gr(i)?r(d,f):yi(d&&d.payload,i),p=Gr(l)?{}:{id:"".concat(l,"-").concat(f)};return ce.createElement(Ma,ES({},pr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ma.parseViewBox(Gr(o)?d:cY(cY({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}yf.displayName="LabelList";function KZe(e,t){return e?e===!0?ce.createElement(yf,{key:"labelList-implicit",data:t}):ce.isValidElement(e)||jr(e)?ce.createElement(yf,{key:"labelList-implicit",data:t,content:e}):gx(e)?ce.createElement(yf,ES({data:t},e,{key:"labelList-implicit"})):null:null}function YZe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Il(n,yf).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=KZe(e.label,t);return[i].concat(LZe(a))}yf.renderCallByParent=YZe;function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hI.apply(this,arguments)}function dY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dY(Object(r),!0).forEach(function(n){XZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZe(e,t,r){return t=JZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JZe(e){var t=ZZe(e,"string");return Yb(t)=="symbol"?t:t+""}function ZZe(e,t){if(Yb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QZe=function(t,r){var n=zi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},cj=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/CS,m=u?i:i+o*f,p=Kn(r,n,d,m),y=Kn(r,n,a,m),g=u?i-o*f:i,v=Kn(r,n,d*Math.cos(f*CS),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},$fe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=QZe(o,l),u=o+c,d=Kn(r,n,i,o),f=Kn(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Kn(r,n,a,o),y=Kn(r,n,a,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},eQe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=zi(d-u),m=cj({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,g=m.theta,v=cj({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),w=v.circleTangency,b=v.lineTangency,j=v.theta,E=c?Math.abs(u-d):Math.abs(u-d)-g-j;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$fe({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var C=cj({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=C.circleTangency,R=C.lineTangency,O=C.theta,A=cj({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,D=A.lineTangency,F=A.theta,L=c?Math.abs(u-d):Math.abs(u-d)-O-F;if(L<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},tQe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bfe=function(t){var r=fY(fY({},tQe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var p=Ir("recharts-sector",m),y=o-i,g=qi(l,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=eQe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=$fe({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),ce.createElement("path",hI({},pr(r,!0),{className:p,d:v,role:"img"}))};function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}function mI(){return mI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mI.apply(this,arguments)}function hY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hY(Object(r),!0).forEach(function(n){rQe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQe(e,t,r){return t=nQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQe(e){var t=sQe(e,"string");return Xb(t)=="symbol"?t:t+""}function sQe(e,t){if(Xb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pY={curveBasisClosed:Nqe,curveBasisOpen:Sqe,curveBasis:jqe,curveBumpX:cqe,curveBumpY:uqe,curveLinearClosed:kqe,curveLinear:wk,curveMonotoneX:Cqe,curveMonotoneY:Eqe,curveNatural:Tqe,curveStep:Aqe,curveStepAfter:Oqe,curveStepBefore:Pqe},uj=function(t){return t.x===+t.x&&t.y===+t.y},jv=function(t){return t.x},Nv=function(t){return t.y},aQe=function(t,r){if(jr(t))return t;var n="curve".concat(yk(t));return(n==="curveMonotone"||n==="curveBump")&&r?pY["".concat(n).concat(r==="vertical"?"Y":"X")]:pY[n]||wk},iQe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=aQe(n,l),f=u?i.filter(function(g){return uj(g)}):i,m;if(Array.isArray(o)){var p=u?o.filter(function(g){return uj(g)}):o,y=f.map(function(g,v){return mY(mY({},g),{},{base:p[v]})});return l==="vertical"?m=tj().y(Nv).x1(jv).x0(function(g){return g.base.x}):m=tj().x(jv).y1(Nv).y0(function(g){return g.base.y}),m.defined(uj).curve(d),m(y)}return l==="vertical"&&_t(o)?m=tj().y(Nv).x1(jv).x0(o):_t(o)?m=tj().x(jv).y1(Nv).y0(o):m=Lue().x(jv).y(Nv),m.defined(uj).curve(d),m(f)},pI=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?iQe(t):a;return _.createElement("path",mI({},pr(t,!1),rS(t),{className:Ir("recharts-curve",r),d:o,ref:i}))},UO={exports:{}},VO,gY;function oQe(){if(gY)return VO;gY=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VO=e,VO}var zO,xY;function lQe(){if(xY)return zO;xY=1;var e=oQe();function t(){}function r(){}return r.resetWarningCache=t,zO=function(){function n(o,l,c,u,d,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},zO}var vY;function cQe(){return vY||(vY=1,UO.exports=lQe()()),UO.exports}var uQe=cQe();const xn=Qr(uQe);var dQe=Object.getOwnPropertyNames,fQe=Object.getOwnPropertySymbols,hQe=Object.prototype.hasOwnProperty;function yY(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function dj(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function bY(e){return dQe(e).concat(fQe(e))}var mQe=Object.hasOwn||(function(e,t){return hQe.call(e,t)});function fp(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var pQe="__v",gQe="__o",xQe="_owner",wY=Object.getOwnPropertyDescriptor,_Y=Object.keys;function vQe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function yQe(e,t){return fp(e.getTime(),t.getTime())}function bQe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function wQe(e,t){return e===t}function jY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,p=l.value;if(r.equals(m[0],p[0],c,f,e,t,r)&&r.equals(m[1],p[1],m[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var _Qe=fp;function jQe(e,t,r){var n=_Y(e),a=n.length;if(_Y(t).length!==a)return!1;for(;a-- >0;)if(!Ufe(e,t,r,n[a]))return!1;return!0}function Sv(e,t,r){var n=bY(e),a=n.length;if(bY(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!Ufe(e,t,r,i)||(o=wY(e,i),l=wY(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function NQe(e,t){return fp(e.valueOf(),t.valueOf())}function SQe(e,t){return e.source===t.source&&e.flags===t.flags}function NY(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function kQe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CQe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ufe(e,t,r,n){return(n===xQe||n===gQe||n===pQe)&&(e.$$typeof||t.$$typeof)?!0:mQe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var EQe="[object Arguments]",TQe="[object Boolean]",AQe="[object Date]",PQe="[object Error]",OQe="[object Map]",RQe="[object Number]",DQe="[object Object]",IQe="[object RegExp]",MQe="[object Set]",FQe="[object String]",LQe="[object URL]",$Qe=Array.isArray,SY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kY=Object.assign,BQe=Object.prototype.toString.call.bind(Object.prototype.toString);function UQe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var w=typeof y;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?o(y,g,v):w==="function"?a(y,g,v):!1;var b=y.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(y,g,v);if($Qe(y))return t(y,g,v);if(SY!=null&&SY(y))return f(y,g,v);if(b===Date)return r(y,g,v);if(b===RegExp)return u(y,g,v);if(b===Map)return i(y,g,v);if(b===Set)return d(y,g,v);var j=BQe(y);return j===AQe?r(y,g,v):j===IQe?u(y,g,v):j===OQe?i(y,g,v):j===MQe?d(y,g,v):j===DQe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):j===LQe?m(y,g,v):j===PQe?n(y,g,v):j===EQe?l(y,g,v):j===TQe||j===RQe||j===FQe?c(y,g,v):!1}}function VQe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Sv:vQe,areDatesEqual:yQe,areErrorsEqual:bQe,areFunctionsEqual:wQe,areMapsEqual:n?yY(jY,Sv):jY,areNumbersEqual:_Qe,areObjectsEqual:n?Sv:jQe,arePrimitiveWrappersEqual:NQe,areRegExpsEqual:SQe,areSetsEqual:n?yY(NY,Sv):NY,areTypedArraysEqual:n?Sv:kQe,areUrlsEqual:CQe};if(r&&(a=kY({},a,r(a))),t){var i=dj(a.areArraysEqual),o=dj(a.areMapsEqual),l=dj(a.areObjectsEqual),c=dj(a.areSetsEqual);a=kY({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function zQe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function qQe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var WQe=th();th({strict:!0});th({circular:!0});th({circular:!0,strict:!0});th({createInternalComparator:function(){return fp}});th({strict:!0,createInternalComparator:function(){return fp}});th({circular:!0,createInternalComparator:function(){return fp}});th({circular:!0,createInternalComparator:function(){return fp},strict:!0});function th(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=VQe(e),c=UQe(l),u=n?n(c):zQe(c);return qQe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function HQe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function CY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):HQe(a)};requestAnimationFrame(n)}function gI(e){"@babel/helpers - typeof";return gI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gI(e)}function GQe(e){return JQe(e)||XQe(e)||YQe(e)||KQe()}function KQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQe(e,t){if(e){if(typeof e=="string")return EY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EY(e,t)}}function EY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JQe(e){if(Array.isArray(e))return e}function ZQe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=GQe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){CY(a.bind(null,u),c);return}a(c),CY(a.bind(null,u));return}gI(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}function TY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TY(Object(r),!0).forEach(function(n){Vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vfe(e,t,r){return t=QQe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQe(e){var t=eet(e,"string");return Jb(t)==="symbol"?t:String(t)}function eet(e,t){if(Jb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tet=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ret=function(t){return t},net=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Oy=function(t,r){return Object.keys(r).reduce(function(n,a){return AY(AY({},n),{},Vfe({},a,t(a,r[a])))},{})},PY=function(t,r,n){return t.map(function(a){return"".concat(net(a)," ").concat(r,"ms ").concat(n)}).join(",")};function set(e,t){return oet(e)||iet(e,t)||zfe(e,t)||aet()}function aet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iet(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oet(e){if(Array.isArray(e))return e}function cet(e){return fet(e)||det(e)||zfe(e)||uet()}function uet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(e,t){if(e){if(typeof e=="string")return xI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xI(e,t)}}function det(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fet(e){if(Array.isArray(e))return xI(e)}function xI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var TS=1e-4,qfe=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Wfe=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},OY=function(t,r){return function(n){var a=qfe(t,r);return Wfe(a,n)}},het=function(t,r){return function(n){var a=qfe(t,r),i=[].concat(cet(a.map(function(o,l){return o*l}).slice(1)),[0]);return Wfe(i,n)}},RY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=set(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=OY(a,o),m=OY(i,l),p=het(a,o),y=function(w){return w>1?1:w<0?0:w},g=function(w){for(var b=w>1?1:w,j=b,E=0;E<8;++E){var S=f(j)-b,C=p(j);if(Math.abs(S-b)<TS||C<TS)return m(j);j=y(j-S/C)}return m(j)};return g.isStepper=!1,g},met=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var p=-(d-f)*n,y=m*i,g=m+(p-y)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<TS&&Math.abs(g)<TS?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},pet=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RY(a);case"spring":return met();default:if(a.split("(")[0]==="cubic-bezier")return RY(a)}return typeof a=="function"?a:null};function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function DY(e){return vet(e)||xet(e)||Hfe(e)||get()}function get(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vet(e){if(Array.isArray(e))return yI(e)}function IY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IY(Object(r),!0).forEach(function(n){vI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vI(e,t,r){return t=yet(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yet(e){var t=bet(e,"string");return Zb(t)==="symbol"?t:String(t)}function bet(e,t){if(Zb(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wet(e,t){return Net(e)||jet(e,t)||Hfe(e,t)||_et()}function _et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hfe(e,t){if(e){if(typeof e=="string")return yI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yI(e,t)}}function yI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jet(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Net(e){if(Array.isArray(e))return e}var AS=function(t,r,n){return t+(r-t)*n},bI=function(t){var r=t.from,n=t.to;return r!==n},ket=function e(t,r,n){var a=Oy(function(i,o){if(bI(o)){var l=t(o.from,o.to,o.velocity),c=wet(l,2),u=c[0],d=c[1];return Ha(Ha({},o),{},{from:u,velocity:d})}return o},r);return n<1?Oy(function(i,o){return bI(o)?Ha(Ha({},o),{},{velocity:AS(o.velocity,a[i].velocity,n),from:AS(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Cet=(function(e,t,r,n,a){var i=tet(e,t),o=i.reduce(function(v,w){return Ha(Ha({},v),{},vI({},w,[e[w],t[w]]))},{}),l=i.reduce(function(v,w){return Ha(Ha({},v),{},vI({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Oy(function(w,b){return b.from},l)},p=function(){return!Object.values(l).filter(bI).length},y=function(w){u||(u=w);var b=w-u,j=b/r.dt;l=ket(r,l,j),a(Ha(Ha(Ha({},e),t),m())),u=w,p()||(c=requestAnimationFrame(f))},g=function(w){d||(d=w);var b=(w-d)/n,j=Oy(function(S,C){return AS.apply(void 0,DY(C).concat([r(b)]))},o);if(a(Ha(Ha(Ha({},e),t),j)),b<1)c=requestAnimationFrame(f);else{var E=Oy(function(S,C){return AS.apply(void 0,DY(C).concat([r(1)]))},o);a(Ha(Ha(Ha({},e),t),E))}};return f=r.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}var Eet=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tet(e,t){if(e==null)return{};var r=Aet(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aet(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qO(e){return Det(e)||Ret(e)||Oet(e)||Pet()}function Pet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oet(e,t){if(e){if(typeof e=="string")return wI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wI(e,t)}}function Ret(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Det(e){if(Array.isArray(e))return wI(e)}function wI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MY(Object(r),!0).forEach(function(n){Kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kv(e,t,r){return t=Gfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Met(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gfe(n.key),n)}}function Fet(e,t,r){return t&&Met(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gfe(e){var t=Let(e,"string");return D0(t)==="symbol"?t:String(t)}function Let(e,t){if(D0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(D0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_I(e,t)}function _I(e,t){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_I(e,t)}function Bet(e){var t=Uet();return function(){var n=PS(e),a;if(t){var i=PS(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return jI(this,a)}}function jI(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NI(e)}function NI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PS(e)}var nd=(function(e){$et(r,e);var t=Bet(r);function r(n,a){var i;Iet(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(NI(i)),i.changeStyle=i.changeStyle.bind(NI(i)),!l||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),jI(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},jI(i);i.state={style:c?Kv({},c,u):u}}else i.state={style:{}};return i}return Fet(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var p={style:c?Kv({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(WQe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:a.to;if(this.state&&m){var v={style:c?Kv({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(v)}this.runAnimation(Jl(Jl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=Cet(o,l,pet(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(g,v,w){if(w===0)return g;var b=v.duration,j=v.easing,E=j===void 0?"ease":j,S=v.style,C=v.properties,k=v.onAnimationEnd,R=w>0?o[w-1]:v,O=C||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(qO(g),[i.runJSAnimation.bind(i,{from:R.style,to:S,duration:b,easing:E}),b]);var A=PY(O,b,E),P=Jl(Jl(Jl({},R.style),S),{},{transition:A});return[].concat(qO(g),[P,b,k]).filter(ret)};return this.manager.start([c].concat(qO(o.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ZQe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?Kv({},l,c):c,v=PY(Object.keys(g),o,u);y.start([d,i,Jl(Jl({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Tet(a,Eet),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,w=y.className,b=_.cloneElement(p,Jl(Jl({},c),{},{style:Jl(Jl({},v),d),className:w}));return b};return u===1?f(_.Children.only(i)):ce.createElement("div",null,_.Children.map(i,function(m){return f(m)}))}}]),r})(_.PureComponent);nd.displayName="Animate";nd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};nd.propTypes={from:xn.oneOfType([xn.object,xn.string]),to:xn.oneOfType([xn.object,xn.string]),attributeName:xn.string,duration:xn.number,begin:xn.number,easing:xn.oneOfType([xn.string,xn.func]),steps:xn.arrayOf(xn.shape({duration:xn.number.isRequired,style:xn.object.isRequired,easing:xn.oneOfType([xn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xn.func]),properties:xn.arrayOf("string"),onAnimationEnd:xn.func})),children:xn.oneOfType([xn.node,xn.func]),isActive:xn.bool,canBegin:xn.bool,onAnimationEnd:xn.func,shouldReAnimate:xn.bool,onAnimationStart:xn.func,onAnimationReStart:xn.func};function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OS.apply(this,arguments)}function Vet(e,t){return Het(e)||Wet(e,t)||qet(e,t)||zet()}function zet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qet(e,t){if(e){if(typeof e=="string")return FY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FY(e,t)}}function FY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wet(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Het(e){if(Array.isArray(e))return e}function LY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LY(Object(r),!0).forEach(function(n){Get(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Get(e,t,r){return t=Ket(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ket(e){var t=Yet(e,"string");return Qb(t)=="symbol"?t:t+""}function Yet(e,t){if(Qb(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BY=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Xet=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},Jet={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IL=function(t){var r=$Y($Y({},Jet),t),n=_.useRef(),a=_.useState(-1),i=Vet(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=Ir("recharts-rectangle",p);return b?ce.createElement(nd,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(E){var S=E.width,C=E.height,k=E.x,R=E.y;return ce.createElement(nd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:w,easing:y},ce.createElement("path",OS({},pr(r,!0),{className:j,d:BY(k,R,S,C,m),ref:n})))}):ce.createElement("path",OS({},pr(r,!0),{className:j,d:BY(c,u,d,f,m)}))},Zet=["points","className","baseLinePoints","connectNulls"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function Qet(e,t){if(e==null)return{};var r=ett(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ett(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UY(e){return stt(e)||ntt(e)||rtt(e)||ttt()}function ttt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rtt(e,t){if(e){if(typeof e=="string")return SI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SI(e,t)}}function ntt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function stt(e){if(Array.isArray(e))return SI(e)}function SI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VY=function(t){return t&&t.x===+t.x&&t.y===+t.y},att=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){VY(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),VY(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ry=function(t,r){var n=att(t);r&&(n=[n.reduce(function(i,o){return[].concat(UY(i),UY(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},itt=function(t,r,n){var a=Ry(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ry(r.reverse(),n).slice(1))},ott=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Qet(t,Zet);if(!r||!r.length)return null;var l=Ir("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=itt(r,a,i);return ce.createElement("g",{className:l},ce.createElement("path",Cg({},pr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ce.createElement("path",Cg({},pr(o,!0),{fill:"none",d:Ry(r,i)})):null,c?ce.createElement("path",Cg({},pr(o,!0),{fill:"none",d:Ry(a,i)})):null)}var d=Ry(r,i);return ce.createElement("path",Cg({},pr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function kI(){return kI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kI.apply(this,arguments)}var ML=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ir("recharts-dot",i);return r===+r&&n===+n&&a===+a?_.createElement("circle",kI({},pr(t,!1),rS(t),{className:o,cx:r,cy:n,r:a})):null};function ew(e){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ew(e)}var ltt=["x","y","top","left","width","height","className"];function CI(){return CI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CI.apply(this,arguments)}function zY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ctt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zY(Object(r),!0).forEach(function(n){utt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function utt(e,t,r){return t=dtt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dtt(e){var t=ftt(e,"string");return ew(t)=="symbol"?t:t+""}function ftt(e,t){if(ew(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function htt(e,t){if(e==null)return{};var r=mtt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mtt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ptt=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},gtt=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,p=m===void 0?0:m,y=t.className,g=htt(t,ltt),v=ctt({x:n,y:i,top:l,left:u,width:f,height:p},g);return!_t(n)||!_t(i)||!_t(f)||!_t(p)||!_t(l)||!_t(u)?null:ce.createElement("path",CI({},pr(v,!0),{className:Ir("recharts-cross",y),d:ptt(n,i,f,p,l,u)}))},WO,qY;function xtt(){if(qY)return WO;qY=1;var e=Rk(),t=lfe(),r=hu();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return WO=n,WO}var vtt=xtt();const ytt=Qr(vtt);var HO,WY;function btt(){if(WY)return HO;WY=1;var e=Rk(),t=hu(),r=cfe();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return HO=n,HO}var wtt=btt();const _tt=Qr(wtt);var jtt=["cx","cy","angle","ticks","axisLine"],Ntt=["ticks","tick","angle","tickFormatter","stroke"];function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function HY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HY(Object(r),!0).forEach(function(n){Bk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GY(e,t){if(e==null)return{};var r=Stt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Stt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ktt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yfe(n.key),n)}}function Ctt(e,t,r){return t&&KY(e.prototype,t),r&&KY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ett(e,t,r){return t=RS(t),Ttt(e,Kfe()?Reflect.construct(t,r||[],RS(e).constructor):t.apply(e,r))}function Ttt(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Att(e)}function Att(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kfe=function(){return!!e})()}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RS(e)}function Ptt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EI(e,t)}function EI(e,t){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EI(e,t)}function Bk(e,t,r){return t=Yfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yfe(e){var t=Ott(e,"string");return I0(t)=="symbol"?t:t+""}function Ott(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uk=(function(e){function t(){return ktt(this,t),Ett(this,t,arguments)}return Ptt(t,e),Ctt(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Kn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=ytt(l,function(d){return d.coordinate||0}),u=_tt(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=GY(n,jtt),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Kn(a,i,d[0],o),m=Kn(a,i,d[1],o),p=bh(bh(bh({},pr(u,!1)),{},{fill:"none"},pr(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return ce.createElement("line",Dy({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=GY(a,Ntt),f=this.getTickTextAnchor(),m=pr(d,!1),p=pr(o,!1),y=i.map(function(g,v){var w=n.getTickValueCoord(g),b=bh(bh(bh(bh({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:v},w),{},{payload:g});return ce.createElement(En,Dy({className:Ir("recharts-polar-radius-axis-tick",Ffe(o)),key:"tick-".concat(g.coordinate)},Vm(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return ce.createElement(En,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:ce.createElement(En,{className:Ir("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ma.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,a):jr(n)?o=n(a):o=ce.createElement(zm,Dy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(_.PureComponent);Bk(Uk,"displayName","PolarRadiusAxis");Bk(Uk,"axisType","radiusAxis");Bk(Uk,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}function YY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YY(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YY(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jfe(n.key),n)}}function Dtt(e,t,r){return t&&XY(e.prototype,t),r&&XY(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Itt(e,t,r){return t=DS(t),Mtt(e,Xfe()?Reflect.construct(t,r||[],DS(e).constructor):t.apply(e,r))}function Mtt(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ftt(e)}function Ftt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xfe=function(){return!!e})()}function DS(e){return DS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DS(e)}function Ltt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TI(e,t)}function TI(e,t){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TI(e,t)}function Vk(e,t,r){return t=Jfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jfe(e){var t=$tt(e,"string");return M0(t)=="symbol"?t:t+""}function $tt(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Btt=Math.PI/180,JY=1e-5,zk=(function(e){function t(){return Rtt(this,t),Itt(this,t,arguments)}return Ltt(t,e),Dtt(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Kn(i,o,l,n.coordinate),m=Kn(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Btt),o;return i>JY?o=a==="outer"?"start":"end":i<-JY?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=wh(wh({},pr(this.props,!1)),{},{fill:"none"},pr(l,!1));if(c==="circle")return ce.createElement(ML,Ih({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return Kn(a,i,o,m.coordinate)});return ce.createElement(ott,Ih({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=pr(this.props,!1),f=pr(o,!1),m=wh(wh({},d),{},{fill:"none"},pr(l,!1)),p=i.map(function(y,g){var v=n.getTickLineCoord(y),w=n.getTickTextAnchor(y),b=wh(wh(wh({textAnchor:w},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return ce.createElement(En,Ih({className:Ir("recharts-polar-angle-axis-tick",Ffe(o)),key:"tick-".concat(y.coordinate)},Vm(n.props,y,g)),l&&ce.createElement("line",Ih({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,b,c?c(y.value,g):y.value))});return ce.createElement(En,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:ce.createElement(En,{className:Ir("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return ce.isValidElement(n)?o=ce.cloneElement(n,a):jr(n)?o=n(a):o=ce.createElement(zm,Ih({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(_.PureComponent);Vk(zk,"displayName","PolarAngleAxis");Vk(zk,"axisType","angleAxis");Vk(zk,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var GO,ZY;function Utt(){if(ZY)return GO;ZY=1;var e=ode(),t=e(Object.getPrototypeOf,Object);return GO=t,GO}var KO,QY;function Vtt(){if(QY)return KO;QY=1;var e=dd(),t=Utt(),r=fd(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return KO=u,KO}var ztt=Vtt();const qtt=Qr(ztt);var YO,eX;function Wtt(){if(eX)return YO;eX=1;var e=dd(),t=fd(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return YO=n,YO}var Htt=Wtt();const Gtt=Qr(Htt);function tw(e){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tw(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IS.apply(this,arguments)}function Ktt(e,t){return Ztt(e)||Jtt(e,t)||Xtt(e,t)||Ytt()}function Ytt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xtt(e,t){if(e){if(typeof e=="string")return tX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tX(e,t)}}function tX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jtt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ztt(e){if(Array.isArray(e))return e}function rX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(r),!0).forEach(function(n){Qtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qtt(e,t,r){return t=ert(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ert(e){var t=trt(e,"string");return tw(t)=="symbol"?t:t+""}function trt(e,t){if(tw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sX=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},rrt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nrt=function(t){var r=nX(nX({},rrt),t),n=_.useRef(),a=_.useState(-1),i=Ktt(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=Ir("recharts-trapezoid",p);return w?ce.createElement(nd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:y,isActive:w},function(j){var E=j.upperWidth,S=j.lowerWidth,C=j.height,k=j.x,R=j.y;return ce.createElement(nd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},ce.createElement("path",IS({},pr(r,!0),{className:b,d:sX(k,R,E,S,C),ref:n})))}):ce.createElement("g",null,ce.createElement("path",IS({},pr(r,!0),{className:b,d:sX(c,u,d,f,m)})))},srt=["option","shapeType","propTransformer","activeClassName","isActive"];function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function art(e,t){if(e==null)return{};var r=irt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function irt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(r),!0).forEach(function(n){ort(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ort(e,t,r){return t=lrt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lrt(e){var t=crt(e,"string");return rw(t)=="symbol"?t:t+""}function crt(e,t){if(rw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function urt(e,t){return MS(MS({},t),e)}function drt(e,t){return e==="symbols"}function iX(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ce.createElement(IL,r);case"trapezoid":return ce.createElement(nrt,r);case"sector":return ce.createElement(Bfe,r);case"symbols":if(drt(t))return ce.createElement(eL,r);break;default:return null}}function frt(e){return _.isValidElement(e)?e.props:e}function Zfe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?urt:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=art(e,srt),u;if(_.isValidElement(t))u=_.cloneElement(t,MS(MS({},c),frt(t)));else if(jr(t))u=t(c);else if(qtt(t)&&!Gtt(t)){var d=a(t,c);u=ce.createElement(iX,{shapeType:r,elementProps:d})}else{var f=c;u=ce.createElement(iX,{shapeType:r,elementProps:f})}return l?ce.createElement(En,{className:o},u):u}function qk(e,t){return t!=null&&"trapezoids"in e.props}function Wk(e,t){return t!=null&&"sectors"in e.props}function nw(e,t){return t!=null&&"points"in e.props}function hrt(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function mrt(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function prt(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function grt(e,t){var r;return qk(e,t)?r=hrt:Wk(e,t)?r=mrt:nw(e,t)&&(r=prt),r}function xrt(e,t){var r;return qk(e,t)?r="trapezoids":Wk(e,t)?r="sectors":nw(e,t)&&(r="points"),r}function vrt(e,t){if(qk(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wk(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return nw(e,t)?t.payload:{}}function yrt(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=xrt(r,t),i=vrt(r,t),o=n.filter(function(c,u){var d=Mk(i,c),f=r.props[a].filter(function(y){var g=grt(r,t);return g(y,t)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var qj;function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function oX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(r),!0).forEach(function(n){jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function brt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ehe(n.key),n)}}function wrt(e,t,r){return t&&lX(e.prototype,t),r&&lX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _rt(e,t,r){return t=FS(t),jrt(e,Qfe()?Reflect.construct(t,r||[],FS(e).constructor):t.apply(e,r))}function jrt(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nrt(e)}function Nrt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qfe=function(){return!!e})()}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FS(e)}function Srt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AI(e,t)}function AI(e,t){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AI(e,t)}function jl(e,t,r){return t=ehe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ehe(e){var t=krt(e,"string");return F0(t)=="symbol"?t:t+""}function krt(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var md=(function(e){function t(r){var n;return brt(this,t),n=_rt(this,t,[r]),jl(n,"pieRef",null),jl(n,"sectorRefs",[]),jl(n,"id",e1("recharts-pie-")),jl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),jr(a)&&a()}),jl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),jr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Srt(t,e),wrt(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=pr(this.props,!1),f=pr(o,!1),m=pr(l,!1),p=o&&o.offsetRadius||20,y=n.map(function(g,v){var w=(g.startAngle+g.endAngle)/2,b=Kn(g.cx,g.cy,g.outerRadius+p,w),j=Wn(Wn(Wn(Wn({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),E=Wn(Wn(Wn(Wn({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:v,points:[Kn(g.cx,g.cy,g.outerRadius,w),b]}),S=c;return Gr(c)&&Gr(u)?S="value":Gr(c)&&(S=u),ce.createElement(En,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,E,"line"),t.renderLabelItem(o,j,yi(g,S)))});return ce.createElement(En,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?o:m,y=Wn(Wn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ce.createElement(En,Eg({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Vm(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ce.createElement(Zfe,Eg({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return ce.createElement(nd,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],w=i&&i[0],b=w.startAngle;return i.forEach(function(j,E){var S=m&&m[E],C=E>0?Go(j,"paddingAngle",0):0;if(S){var k=Wd(S.endAngle-S.startAngle,j.endAngle-j.startAngle),R=Wn(Wn({},j),{},{startAngle:b+C,endAngle:b+k(g)+C});v.push(R),b=R.endAngle}else{var O=j.endAngle,A=j.startAngle,P=Wd(0,O-A),D=P(g),F=Wn(Wn({},j),{},{startAngle:b+C,endAngle:b+D+C});v.push(F),b=F.endAngle}}),ce.createElement(En,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Mk(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!_t(u)||!_t(d)||!_t(f)||!_t(m))return null;var g=Ir("recharts-pie",l);return ce.createElement(En,{tabIndex:this.props.rootTabIndex,className:g,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),Ma.renderCallByParent(this.props,null,!1),(!p||y)&&yf.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(ce.isValidElement(n))return ce.cloneElement(n,a);if(jr(n))return n(a);var o=Ir("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ce.createElement(pI,Eg({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(ce.isValidElement(n))return ce.cloneElement(n,a);var o=i;if(jr(n)&&(o=n(a),ce.isValidElement(o)))return o;var l=Ir("recharts-pie-label-text",typeof n!="boolean"&&!jr(n)?n.className:"");return ce.createElement(zm,Eg({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(_.PureComponent);qj=md;jl(md,"displayName","Pie");jl(md,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vx.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});jl(md,"parseDeltaAngle",function(e,t){var r=zi(t-e),n=Math.min(Math.abs(t-e),360);return r*n});jl(md,"getRealPieData",function(e){var t=e.data,r=e.children,n=pr(e,!1),a=Il(r,kk);return t&&t.length?t.map(function(i,o){return Wn(Wn(Wn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Wn(Wn({},n),i.props)}):[]});jl(md,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Mfe(a,i),l=n+qi(e.cx,a,a/2),c=r+qi(e.cy,i,i/2),u=qi(e.innerRadius,o,0),d=qi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});jl(md,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Wn(Wn({},t.type.defaultProps),t.props):t.props,a=qj.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),y=qj.parseCoordinateOfPie(n,r),g=qj.parseDeltaAngle(o,l),v=Math.abs(g),w=u;Gr(u)&&Gr(f)?(gc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Gr(u)&&(gc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var b=a.filter(function(R){return yi(R,w,0)!==0}).length,j=(v>=360?b:b-1)*c,E=v-b*p-j,S=a.reduce(function(R,O){var A=yi(O,w,0);return R+(_t(A)?A:0)},0),C;if(S>0){var k;C=a.map(function(R,O){var A=yi(R,w,0),P=yi(R,d,O),D=(_t(A)?A:0)/S,F;O?F=k.endAngle+zi(g)*c*(A!==0?1:0):F=o;var L=F+zi(g)*((A!==0?p:0)+D*E),H=(F+L)/2,W=(y.innerRadius+y.outerRadius)/2,G=[{name:P,value:A,payload:R,dataKey:w,type:m}],K=Kn(y.cx,y.cy,W,H);return k=Wn(Wn(Wn({percent:D,cornerRadius:i,name:P,tooltipPayload:G,midAngle:H,middleRadius:W,tooltipPosition:K},R),y),{},{value:yi(R,w),startAngle:F,endAngle:L,payload:R,paddingAngle:zi(g)*c}),k})}return Wn(Wn({},y),{},{sectors:C,data:a})});var XO,cX;function Crt(){if(cX)return XO;cX=1;var e=Math.ceil,t=Math.max;function r(n,a,i,o){for(var l=-1,c=t(e((a-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return XO=r,XO}var JO,uX;function the(){if(uX)return JO;uX=1;var e=jde(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return JO=n,JO}var ZO,dX;function Ert(){if(dX)return ZO;dX=1;var e=Crt(),t=Sk(),r=the();function n(a){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,a)}}return ZO=n,ZO}var QO,fX;function Trt(){if(fX)return QO;fX=1;var e=Ert(),t=e();return QO=t,QO}var Art=Trt();const LS=Qr(Art);function sw(e){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sw(e)}function hX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(r),!0).forEach(function(n){rhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rhe(e,t,r){return t=Prt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Prt(e){var t=Ort(e,"string");return sw(t)=="symbol"?t:t+""}function Ort(e,t){if(sw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rrt=["Webkit","Moz","O","ms"],Drt=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Rrt.reduce(function(i,o){return mX(mX({},i),{},rhe({},o+n,r))},{});return a[t]=r,a};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$S.apply(this,arguments)}function pX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(r),!0).forEach(function(n){Eo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Irt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,she(n.key),n)}}function Mrt(e,t,r){return t&&gX(e.prototype,t),r&&gX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Frt(e,t,r){return t=BS(t),Lrt(e,nhe()?Reflect.construct(t,r||[],BS(e).constructor):t.apply(e,r))}function Lrt(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $rt(e)}function $rt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nhe=function(){return!!e})()}function BS(e){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},BS(e)}function Brt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PI(e,t)}function PI(e,t){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PI(e,t)}function Eo(e,t,r){return t=she(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function she(e){var t=Urt(e,"string");return L0(t)=="symbol"?t:t+""}function Urt(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vrt=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ay().domain(LS(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},xX=function(t){return t.changedTouches&&!!t.changedTouches.length},$0=(function(e){function t(r){var n;return Irt(this,t),n=Frt(this,t,[r]),Eo(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Eo(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Eo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Eo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Eo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Eo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Eo(n,"handleSlideDragStart",function(a){var i=xX(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Brt(t,e),Mrt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),p=t.getIndexInRange(o,f),y=t.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=yi(i[n],l,n);return jr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==m||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=xX(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,w={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+m-p-u):b<0&&(b=Math.max(b,f-u)),w[o]=u+b;var j=this.getIndex(w),E=j.startIndex,S=j.endIndex,C=function(){var R=v.length-1;return o==="startX"&&(l>c?E%g===0:S%g===0)||l<c&&S===R||o==="endX"&&(l>c?S%g===0:E%g===0)||l>c&&S===R};this.setState(Eo(Eo({},o,u+b),"brushMoveStartX",n.pageX),function(){y&&C()&&y(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Eo({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ce.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=_.Children.only(u);return f?ce.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,w=Math.max(n,this.props.x),b=eR(eR({},pr(this.props,!1)),{},{x:w,y:u,width:d,height:f}),j=p||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return ce.createElement(En,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return ce.createElement(En,{className:"recharts-brush-texts"},ce.createElement(zm,$S({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:o+l/2},y),this.getTextOfTick(a)),ce.createElement(zm,$S({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,g=m.isTextActive,v=m.isSlideMoving,w=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!_t(l)||!_t(c)||!_t(u)||!_t(d)||u<=0||d<=0)return null;var j=Ir("recharts-brush",i),E=ce.Children.count(o)===1,S=Drt("userSelect","none");return ce.createElement(En,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||w||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ce.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ce.isValidElement(n)?i=ce.cloneElement(n,a):jr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return eR({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Vrt({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(_.PureComponent);Eo($0,"displayName","Brush");Eo($0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tR,vX;function zrt(){if(vX)return tR;vX=1;var e=oL();function t(r,n){var a;return e(r,function(i,o,l){return a=n(i,o,l),!a}),!!a}return tR=t,tR}var rR,yX;function qrt(){if(yX)return rR;yX=1;var e=ede(),t=hu(),r=zrt(),n=wo(),a=Sk();function i(o,l,c){var u=n(o)?e:r;return c&&a(o,l,c)&&(l=void 0),u(o,t(l,3))}return rR=i,rR}var Wrt=qrt();const Hrt=Qr(Wrt);var Zc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},nR,bX;function Grt(){if(bX)return nR;bX=1;var e=vde();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return nR=t,nR}var sR,wX;function Krt(){if(wX)return sR;wX=1;var e=Grt(),t=gde(),r=hu();function n(a,i){var o={};return i=r(i,3),t(a,function(l,c,u){e(o,c,i(l,c,u))}),o}return sR=n,sR}var Yrt=Krt();const Xrt=Qr(Yrt);var aR,_X;function Jrt(){if(_X)return aR;_X=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return aR=e,aR}var iR,jX;function Zrt(){if(jX)return iR;jX=1;var e=oL();function t(r,n){var a=!0;return e(r,function(i,o,l){return a=!!n(i,o,l),a}),a}return iR=t,iR}var oR,NX;function Qrt(){if(NX)return oR;NX=1;var e=Jrt(),t=Zrt(),r=hu(),n=wo(),a=Sk();function i(o,l,c){var u=n(o)?e:t;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return oR=i,oR}var ent=Qrt();const ahe=Qr(ent);var tnt=["x","y"];function aw(e){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aw(e)}function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OI.apply(this,arguments)}function SX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SX(Object(r),!0).forEach(function(n){rnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rnt(e,t,r){return t=nnt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nnt(e){var t=snt(e,"string");return aw(t)=="symbol"?t:t+""}function snt(e,t){if(aw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ant(e,t){if(e==null)return{};var r=int(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function int(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ont(e,t){var r=e.x,n=e.y,a=ant(e,tnt),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return kv(kv(kv(kv(kv({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function kX(e){return ce.createElement(Zfe,OI({shapeType:"rectangle",propTransformer:ont,activeClassName:"recharts-active-bar"},e))}var lnt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=_t(n)||Pze(n);return i?t(n,a):(i||Wm(),r)}},cnt=["value","background"],ihe;function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function unt(e,t){if(e==null)return{};var r=dnt(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dnt(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},US.apply(this,arguments)}function CX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CX(Object(r),!0).forEach(function(n){of(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lhe(n.key),n)}}function hnt(e,t,r){return t&&EX(e.prototype,t),r&&EX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mnt(e,t,r){return t=VS(t),pnt(e,ohe()?Reflect.construct(t,r||[],VS(e).constructor):t.apply(e,r))}function pnt(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gnt(e)}function gnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ohe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ohe=function(){return!!e})()}function VS(e){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},VS(e)}function xnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RI(e,t)}function RI(e,t){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RI(e,t)}function of(e,t,r){return t=lhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lhe(e){var t=vnt(e,"string");return B0(t)=="symbol"?t:t+""}function vnt(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _l=(function(e){function t(){var r;fnt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mnt(this,t,[].concat(a)),of(r,"state",{isAnimationFinished:!1}),of(r,"id",e1("recharts-bar-")),of(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),of(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xnt(t,e),hnt(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=pr(this.props,!1);return n&&n.map(function(f,m){var p=m===c,y=p?u:o,g=Ys(Ys(Ys({},d),f),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ce.createElement(En,US({className:"recharts-bar-rectangle"},Vm(a.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),ce.createElement(kX,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return ce.createElement(nd,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=i.map(function(v,w){var b=m&&m[w];if(b){var j=Wd(b.x,v.x),E=Wd(b.y,v.y),S=Wd(b.width,v.width),C=Wd(b.height,v.height);return Ys(Ys({},v),{},{x:j(y),y:E(y),width:S(y),height:C(y)})}if(o==="horizontal"){var k=Wd(0,v.height),R=k(y);return Ys(Ys({},v),{},{y:v.y+v.height-R,height:R})}var O=Wd(0,v.width),A=O(y);return Ys(Ys({},v),{},{width:A})});return ce.createElement(En,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Mk(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=pr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=unt(u,cnt);if(!f)return null;var p=Ys(Ys(Ys(Ys(Ys({},m),{},{fill:"#eee"},f),c),Vm(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ce.createElement(kX,US({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Il(d,$k);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,w){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:yi(v,w)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ce.createElement(En,y,f.map(function(g){return ce.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,p=n.isAnimationActive,y=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,w=Ir("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,E=b||j,S=Gr(g)?this.id:g;return ce.createElement(En,{className:w},b||j?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(S)},ce.createElement("rect",{x:b?u:u-f/2,y:j?d:d-m/2,width:b?f:f*2,height:j?m:m*2}))):null,ce.createElement(En,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||v)&&yf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(_.PureComponent);ihe=_l;of(_l,"displayName","Bar");of(_l,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vx.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});of(_l,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,p=WJe(n,r);if(!p)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?Ys(Ys({},g),r.props):r.props,w=v.dataKey,b=v.children,j=v.minPointSize,E=y==="horizontal"?o:i,S=u?E.scale.domain():null,C=ZJe({numericAxis:E}),k=Il(b,kk),R=f.map(function(O,A){var P,D,F,L,H,W;u?P=HJe(u[d+A],S):(P=yi(O,w),Array.isArray(P)||(P=[C,P]));var G=lnt(j,ihe.defaultProps.minPointSize)(P[1],A);if(y==="horizontal"){var K,I=[o.scale(P[0]),o.scale(P[1])],B=I[0],Y=I[1];D=QK({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:O,index:A}),F=(K=Y??B)!==null&&K!==void 0?K:void 0,L=p.size;var z=B-Y;if(H=Number.isNaN(z)?0:z,W={x:D,y:o.y,width:L,height:o.height},Math.abs(G)>0&&Math.abs(H)<Math.abs(G)){var J=zi(H||G)*(Math.abs(G)-Math.abs(H));F-=J,H+=J}}else{var X=[i.scale(P[0]),i.scale(P[1])],ee=X[0],he=X[1];if(D=ee,F=QK({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:O,index:A}),L=he-ee,H=p.size,W={x:i.x,y:F,width:i.width,height:H},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var fe=zi(L||G)*(Math.abs(G)-Math.abs(L));L+=fe}}return Ys(Ys(Ys({},O),{},{x:D,y:F,width:L,height:H,value:u?P:P[1],payload:O,background:W},k&&k[A]&&k[A].props),{},{tooltipPayload:[Dfe(r,O)],tooltipPosition:{x:D+L/2,y:F+H/2}})});return Ys({data:R,layout:y},m)});function iw(e){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iw(e)}function ynt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,che(n.key),n)}}function bnt(e,t,r){return t&&TX(e.prototype,t),r&&TX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(r),!0).forEach(function(n){Hk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hk(e,t,r){return t=che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function che(e){var t=wnt(e,"string");return iw(t)=="symbol"?t:t+""}function wnt(e,t){if(iw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _nt=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Po(u,_l);return d.reduce(function(p,y){var g=r[y],v=g.orientation,w=g.domain,b=g.padding,j=b===void 0?{}:b,E=g.mirror,S=g.reversed,C="".concat(v).concat(E?"Mirror":""),k,R,O,A,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=w[1]-w[0],F=1/0,L=g.categoricalDomain.sort(Dze);if(L.forEach(function(X,ee){ee>0&&(F=Math.min((X||0)-(L[ee-1]||0),F))}),Number.isFinite(F)){var H=F/D,W=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(k=H*W/2),g.padding==="no-gap"){var G=qi(t.barCategoryGap,H*W),K=H*W/2;k=K-G-(K-G)/W*G}}}a==="xAxis"?R=[n.left+(j.left||0)+(k||0),n.left+n.width-(j.right||0)-(k||0)]:a==="yAxis"?R=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(k||0),n.top+n.height-(j.bottom||0)-(k||0)]:R=g.range,S&&(R=[R[1],R[0]]);var I=Afe(g,i,m),B=I.scale,Y=I.realScaleType;B.domain(w).range(R),Pfe(B);var z=Ofe(B,nc(nc({},g),{},{realScaleType:Y}));a==="xAxis"?(P=v==="top"&&!E||v==="bottom"&&E,O=n.left,A=f[C]-P*g.height):a==="yAxis"&&(P=v==="left"&&!E||v==="right"&&E,O=f[C]-P*g.width,A=n.top);var J=nc(nc(nc({},g),z),{},{realScaleType:Y,x:O,y:A,scale:B,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return J.bandSize=kS(J,z),!g.hide&&a==="xAxis"?f[C]+=(P?-1:1)*J.height:g.hide||(f[C]+=(P?-1:1)*J.width),nc(nc({},p),{},Hk({},y,J))},{})},uhe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},jnt=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return uhe({x:r,y:n},{x:a,y:i})},dhe=(function(){function e(t){ynt(this,e),this.scale=t}return bnt(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Hk(dhe,"EPS",1e-4);var FL=function(t){var r=Object.keys(t).reduce(function(n,a){return nc(nc({},n),{},Hk({},a,dhe.create(t[a])))},{});return nc(nc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Xrt(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return ahe(a,function(i,o){return r[o].isInRange(i)})}})};function Nnt(e){return(e%180+180)%180}var Snt=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Nnt(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},lR,PX;function knt(){if(PX)return lR;PX=1;var e=hu(),t=t1(),r=jk();function n(a){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=a(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return lR=n,lR}var cR,OX;function Cnt(){if(OX)return cR;OX=1;var e=the();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return cR=t,cR}var uR,RX;function Ent(){if(RX)return uR;RX=1;var e=dde(),t=hu(),r=Cnt(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return uR=a,uR}var dR,DX;function Tnt(){if(DX)return dR;DX=1;var e=knt(),t=Ent(),r=e(t);return dR=r,dR}var Ant=Tnt();const Pnt=Qr(Ant);var Ont=Cue();const Rnt=Qr(Ont);var Dnt=Rnt(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),LL=_.createContext(void 0),$L=_.createContext(void 0),fhe=_.createContext(void 0),hhe=_.createContext({}),mhe=_.createContext(void 0),phe=_.createContext(0),ghe=_.createContext(0),IX=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Dnt(i);return ce.createElement(LL.Provider,{value:n},ce.createElement($L.Provider,{value:a},ce.createElement(hhe.Provider,{value:i},ce.createElement(fhe.Provider,{value:d},ce.createElement(mhe.Provider,{value:o},ce.createElement(phe.Provider,{value:u},ce.createElement(ghe.Provider,{value:c},l)))))))},Int=function(){return _.useContext(mhe)},xhe=function(t){var r=_.useContext(LL);r==null&&Wm();var n=r[t];return n==null&&Wm(),n},Mnt=function(){var t=_.useContext(LL);return Kd(t)},Fnt=function(){var t=_.useContext($L),r=Pnt(t,function(n){return ahe(n.domain,Number.isFinite)});return r||Kd(t)},vhe=function(t){var r=_.useContext($L);r==null&&Wm();var n=r[t];return n==null&&Wm(),n},Lnt=function(){var t=_.useContext(fhe);return t},$nt=function(){return _.useContext(hhe)},BL=function(){return _.useContext(ghe)},UL=function(){return _.useContext(phe)};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function Bnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Unt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bhe(n.key),n)}}function Vnt(e,t,r){return t&&Unt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function znt(e,t,r){return t=zS(t),qnt(e,yhe()?Reflect.construct(t,r||[],zS(e).constructor):t.apply(e,r))}function qnt(e,t){if(t&&(U0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wnt(e)}function Wnt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yhe=function(){return!!e})()}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zS(e)}function Hnt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DI(e,t)}function DI(e,t){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DI(e,t)}function MX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MX(Object(r),!0).forEach(function(n){VL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VL(e,t,r){return t=bhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=Gnt(e,"string");return U0(t)=="symbol"?t:t+""}function Gnt(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Knt(e,t){return Znt(e)||Jnt(e,t)||Xnt(e,t)||Ynt()}function Ynt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xnt(e,t){if(e){if(typeof e=="string")return LX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LX(e,t)}}function LX(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jnt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Znt(e){if(Array.isArray(e))return e}function II(){return II=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},II.apply(this,arguments)}var Qnt=function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):jr(t)?n=t(r):n=ce.createElement("line",II({},r,{className:"recharts-reference-line-line"})),n},est=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,p=i.height;if(n){var y=u.y,g=t.y.apply(y,{position:o});if(Zc(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var w=u.x,b=t.x.apply(w,{position:o});if(Zc(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?j.reverse():j}if(a){var E=u.segment,S=E.map(function(C){return t.apply(C,{position:o})});return Zc(u,"discard")&&Hrt(S,function(C){return!t.isInRange(C)})?null:S}return null};function tst(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Int(),d=xhe(a),f=vhe(i),m=Lnt();if(!u||!m)return null;gc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=FL({x:d.scale,y:f.scale}),y=_a(t),g=_a(r),v=n&&n.length===2,w=est(p,y,g,v,m,e.position,d.orientation,f.orientation,e);if(!w)return null;var b=Knt(w,2),j=b[0],E=j.x,S=j.y,C=b[1],k=C.x,R=C.y,O=Zc(e,"hidden")?"url(#".concat(u,")"):void 0,A=FX(FX({clipPath:O},pr(e,!0)),{},{x1:E,y1:S,x2:k,y2:R});return ce.createElement(En,{className:Ir("recharts-reference-line",l)},Qnt(o,A),Ma.renderCallByParent(e,jnt({x1:E,y1:S,x2:k,y2:R})))}var zL=(function(e){function t(){return Bnt(this,t),znt(this,t,arguments)}return Hnt(t,e),Vnt(t,[{key:"render",value:function(){return ce.createElement(tst,this.props)}}])})(ce.Component);VL(zL,"displayName","ReferenceLine");VL(zL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MI.apply(this,arguments)}function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function $X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(r),!0).forEach(function(n){Gk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$X(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nst(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_he(n.key),n)}}function sst(e,t,r){return t&&nst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ast(e,t,r){return t=qS(t),ist(e,whe()?Reflect.construct(t,r||[],qS(e).constructor):t.apply(e,r))}function ist(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ost(e)}function ost(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function whe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(whe=function(){return!!e})()}function qS(e){return qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qS(e)}function lst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FI(e,t)}function FI(e,t){return FI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FI(e,t)}function Gk(e,t,r){return t=_he(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _he(e){var t=cst(e,"string");return V0(t)=="symbol"?t:t+""}function cst(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ust=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=FL({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Zc(t,"discard")&&!o.isInRange(l)?null:l},Kk=(function(e){function t(){return rst(this,t),ast(this,t,arguments)}return lst(t,e),sst(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=_a(a),d=_a(i);if(gc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ust(this.props);if(!f)return null;var m=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,w=Zc(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=BX(BX({clipPath:w},pr(this.props,!0)),{},{cx:m,cy:p});return ce.createElement(En,{className:Ir("recharts-reference-dot",v)},t.renderDot(g,b),Ma.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])})(ce.Component);Gk(Kk,"displayName","ReferenceDot");Gk(Kk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gk(Kk,"renderDot",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):jr(e)?r=e(t):r=ce.createElement(ML,MI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function LI(){return LI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LI.apply(this,arguments)}function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function UX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UX(Object(r),!0).forEach(function(n){Yk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fst(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nhe(n.key),n)}}function hst(e,t,r){return t&&fst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mst(e,t,r){return t=WS(t),pst(e,jhe()?Reflect.construct(t,r||[],WS(e).constructor):t.apply(e,r))}function pst(e,t){if(t&&(z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gst(e)}function gst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jhe=function(){return!!e})()}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WS(e)}function xst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$I(e,t)}function $I(e,t){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$I(e,t)}function Yk(e,t,r){return t=Nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nhe(e){var t=vst(e,"string");return z0(t)=="symbol"?t:t+""}function vst(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yst=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=FL({x:d.scale,y:f.scale}),p={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Zc(i,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:uhe(p,y)},Xk=(function(e){function t(){return dst(this,t),mst(this,t,arguments)}return xst(t,e),hst(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;gc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_a(a),m=_a(i),p=_a(o),y=_a(l),g=this.props.shape;if(!f&&!m&&!p&&!y&&!g)return null;var v=yst(f,m,p,y,this.props);if(!v&&!g)return null;var w=Zc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ce.createElement(En,{className:Ir("recharts-reference-area",c)},t.renderRect(g,VX(VX({clipPath:w},pr(this.props,!0)),v)),Ma.renderCallByParent(this.props,v))}}])})(ce.Component);Yk(Xk,"displayName","ReferenceArea");Yk(Xk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yk(Xk,"renderRect",function(e,t){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,t):jr(e)?r=e(t):r=ce.createElement(IL,LI({},t,{className:"recharts-reference-area-rect"})),r});function She(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function bst(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Snt(n,r)}function wst(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function HS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function _st(e,t){return She(e,t+1)}function jst(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:She(n,u)};var g=c,v,w=function(){return v===void 0&&(v=r(y,g)),v},b=y.coordinate,j=c===0||HS(e,b,w,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(w()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function ow(e){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ow(e)}function zX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zX(Object(r),!0).forEach(function(n){Nst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nst(e,t,r){return t=Sst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sst(e){var t=kst(e,"string");return ow(t)=="symbol"?t:t+""}function kst(e,t){if(ow(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cst(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var p=i[m],y,g=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var v=e*(p.coordinate+e*g()/2-c);i[m]=p=ci(ci({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[m]=p=ci(ci({},p),{},{tickCoord:p.coordinate});var w=HS(e,p.tickCoord,g,l,c);w&&(c=p.tickCoord-e*(g()/2+a),i[m]=ci(ci({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Est(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=ci(ci({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var p=HS(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ci(ci({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(b){var j=o[b],E,S=function(){return E===void 0&&(E=r(j,b)),E};if(b===0){var C=e*(j.coordinate-e*S()/2-c);o[b]=j=ci(ci({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[b]=j=ci(ci({},j),{},{tickCoord:j.coordinate});var k=HS(e,j.tickCoord,S,c,u);k&&(c=j.tickCoord+e*(S()/2+a),o[b]=ci(ci({},j),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function qL(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(_t(c)||vx.isSsr)return _st(a,typeof c=="number"&&_t(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Ty(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,E){var S=jr(u)?u(j.value,E):j.value;return p==="width"?bst(Ty(S,{fontSize:t,letterSpacing:r}),y,f):Ty(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?zi(a[1].coordinate-a[0].coordinate):1,w=wst(i,v,p);return c==="equidistantPreserveStart"?jst(v,w,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Est(v,w,g,a,o,c==="preserveStartEnd"):m=Cst(v,w,g,a,o),m.filter(function(b){return b.isShow}))}var Tst=["viewBox"],Ast=["viewBox"],Pst=["ticks"];function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function qX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qX(Object(r),!0).forEach(function(n){WL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fR(e,t){if(e==null)return{};var r=Ost(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ost(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Che(n.key),n)}}function Dst(e,t,r){return t&&WX(e.prototype,t),r&&WX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ist(e,t,r){return t=GS(t),Mst(e,khe()?Reflect.construct(t,r||[],GS(e).constructor):t.apply(e,r))}function Mst(e,t){if(t&&(q0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fst(e)}function Fst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function khe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(khe=function(){return!!e})()}function GS(e){return GS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GS(e)}function Lst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BI(e,t)}function BI(e,t){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BI(e,t)}function WL(e,t,r){return t=Che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Che(e){var t=$st(e,"string");return q0(t)=="symbol"?t:t+""}function $st(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _x=(function(e){function t(r){var n;return Rst(this,t),n=Ist(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Lst(t,e),Dst(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=fR(n,Tst),l=this.props,c=l.viewBox,u=fR(l,Ast);return!Jg(i,c)||!Jg(o,u)||!Jg(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,p,y,g,v,w,b,j=f?-1:1,E=n.tickSize||d,S=_t(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,g=v-j*E,b=g-j*m,w=S;break;case"left":g=v=n.coordinate,y=i+ +!f*l,p=y-j*E,w=p-j*m,b=S;break;case"right":g=v=n.coordinate,y=i+ +f*l,p=y+j*E,w=p+j*m,b=S;break;default:p=y=n.coordinate,v=o+ +f*c,g=v+j*E,b=g+j*m,w=S;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:w,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ha(ha(ha({},pr(this.props,!1)),pr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=ha(ha({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ha(ha({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return ce.createElement("line",Tg({},f,{className:Ir("recharts-cartesian-axis-line",Go(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=qL(ha(ha({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=pr(this.props,!1),w=pr(d,!1),b=ha(ha({},v),{},{fill:"none"},pr(c,!1)),j=p.map(function(E,S){var C=o.getTickLineCoord(E),k=C.line,R=C.tick,O=ha(ha(ha(ha({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},w),R),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:f});return ce.createElement(En,Tg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Vm(o.props,E,S)),c&&ce.createElement("line",Tg({},b,k,{className:Ir("recharts-cartesian-axis-tick-line",Go(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(jr(f)?f(E.value,S):E.value).concat(m||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,p=fR(f,Pst),y=m;return jr(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:ce.createElement(En,{className:Ir("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ma.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=Ir(a.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(n)?o=ce.cloneElement(n,ha(ha({},a),{},{className:l})):jr(n)?o=n(ha(ha({},a),{},{className:l})):o=ce.createElement(zm,Tg({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(_.Component);WL(_x,"displayName","CartesianAxis");WL(_x,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Bst=["x1","y1","x2","y2","key"],Ust=["offset"];function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function HX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HX(Object(r),!0).forEach(function(n){Vst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vst(e,t,r){return t=zst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zst(e){var t=qst(e,"string");return Hm(t)=="symbol"?t:t+""}function qst(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function GX(e,t){if(e==null)return{};var r=Wst(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wst(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hst=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ce.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ehe(e,t){var r;if(ce.isValidElement(e))r=ce.cloneElement(e,t);else if(jr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=GX(t,Bst),u=pr(c,!1);u.offset;var d=GX(u,Ust);r=ce.createElement("line",Gh({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Gst(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=pi(pi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Ehe(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Kst(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=pi(pi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Ehe(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Yst(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?a+o-m:d[p+1]-m;if(g<=0)return null;var v=p%t.length;return ce.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Xst(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],g=y?i+l-m:d[p+1]-m;if(g<=0)return null;var v=p%n.length;return ce.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Jst=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Tfe(qL(pi(pi(pi({},_x.defaultProps),n),{},{ticks:Lu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Zst=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Tfe(qL(pi(pi(pi({},_x.defaultProps),n),{},{ticks:Lu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ig={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UI(e){var t,r,n,a,i,o,l=BL(),c=UL(),u=$nt(),d=pi(pi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ig.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ig.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ig.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ig.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ig.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ig.verticalFill,x:_t(e.x)?e.x:u.left,y:_t(e.y)?e.y:u.top,width:_t(e.width)?e.width:u.width,height:_t(e.height)?e.height:u.height}),f=d.x,m=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,w=d.verticalValues,b=Mnt(),j=Fnt();if(!_t(p)||p<=0||!_t(y)||y<=0||!_t(f)||f!==+f||!_t(m)||m!==+m)return null;var E=d.verticalCoordinatesGenerator||Jst,S=d.horizontalCoordinatesGenerator||Zst,C=d.horizontalPoints,k=d.verticalPoints;if((!C||!C.length)&&jr(S)){var R=v&&v.length,O=S({yAxis:j?pi(pi({},j),{},{ticks:R?v:j.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);gc(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hm(O),"]")),Array.isArray(O)&&(C=O)}if((!k||!k.length)&&jr(E)){var A=w&&w.length,P=E({xAxis:b?pi(pi({},b),{},{ticks:A?w:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);gc(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hm(P),"]")),Array.isArray(P)&&(k=P)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(Hst,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ce.createElement(Gst,Gh({},d,{offset:u,horizontalPoints:C,xAxis:b,yAxis:j})),ce.createElement(Kst,Gh({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:j})),ce.createElement(Yst,Gh({},d,{horizontalPoints:C})),ce.createElement(Xst,Gh({},d,{verticalPoints:k})))}UI.displayName="CartesianGrid";function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function Qst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Phe(n.key),n)}}function tat(e,t,r){return t&&eat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rat(e,t,r){return t=KS(t),nat(e,The()?Reflect.construct(t,r||[],KS(e).constructor):t.apply(e,r))}function nat(e,t){if(t&&(W0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sat(e)}function sat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function The(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(The=function(){return!!e})()}function KS(e){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KS(e)}function aat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VI(e,t)}function VI(e,t){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VI(e,t)}function Ahe(e,t,r){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=iat(e,"string");return W0(t)=="symbol"?t:t+""}function iat(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function zI(){return zI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zI.apply(this,arguments)}function oat(e){var t=e.xAxisId,r=BL(),n=UL(),a=xhe(t);return a==null?null:_.createElement(_x,zI({},a,{className:Ir("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Lu(o,!0)}}))}var lw=(function(e){function t(){return Qst(this,t),rat(this,t,arguments)}return aat(t,e),tat(t,[{key:"render",value:function(){return _.createElement(oat,this.props)}}])})(_.Component);Ahe(lw,"displayName","XAxis");Ahe(lw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function lat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dhe(n.key),n)}}function uat(e,t,r){return t&&cat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dat(e,t,r){return t=YS(t),fat(e,Ohe()?Reflect.construct(t,r||[],YS(e).constructor):t.apply(e,r))}function fat(e,t){if(t&&(H0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hat(e)}function hat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ohe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ohe=function(){return!!e})()}function YS(e){return YS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YS(e)}function mat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qI(e,t)}function qI(e,t){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qI(e,t)}function Rhe(e,t,r){return t=Dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dhe(e){var t=pat(e,"string");return H0(t)=="symbol"?t:t+""}function pat(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WI.apply(this,arguments)}var gat=function(t){var r=t.yAxisId,n=BL(),a=UL(),i=vhe(r);return i==null?null:_.createElement(_x,WI({},i,{className:Ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Lu(l,!0)}}))},cw=(function(e){function t(){return lat(this,t),dat(this,t,arguments)}return mat(t,e),uat(t,[{key:"render",value:function(){return _.createElement(gat,this.props)}}])})(_.Component);Rhe(cw,"displayName","YAxis");Rhe(cw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KX(e){return bat(e)||yat(e)||vat(e)||xat()}function xat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vat(e,t){if(e){if(typeof e=="string")return HI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(e,t)}}function yat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bat(e){if(Array.isArray(e))return HI(e)}function HI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var GI=function(t,r,n,a,i){var o=Il(t,zL),l=Il(t,Kk),c=[].concat(KX(o),KX(l)),u=Il(t,Xk),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,v){if(v.props[d]===n&&Zc(v.props,"extendDomain")&&_t(v.props[f])){var w=v.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},m)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(g,v){if(v.props[d]===n&&Zc(v.props,"extendDomain")&&_t(v.props[p])&&_t(v.props[y])){var w=v.props[p],b=v.props[y];return[Math.min(g[0],w,b),Math.max(g[1],w,b)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,v){return _t(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},m)),m},hR={exports:{}},YX;function wat(){return YX||(YX=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,y){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],w=arguments.length,b,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(j=1,b=new Array(w-1);j<w;j++)b[j-1]=arguments[j];v.fn.apply(v.context,b)}else{var E=v.length,S;for(j=0;j<E;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),w){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,m);break;default:if(!b)for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];v[j].fn.apply(v[j].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var g=0,v=[],w=y.length;g<w;g++)(y[g].fn!==d||m&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(hR)),hR.exports}var _at=wat();const jat=Qr(_at);var mR=new jat,pR="recharts.syncMouseEvents";function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}function Nat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ihe(n.key),n)}}function kat(e,t,r){return t&&Sat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gR(e,t,r){return t=Ihe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ihe(e){var t=Cat(e,"string");return uw(t)=="symbol"?t:t+""}function Cat(e,t){if(uw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eat=(function(){function e(){Nat(this,e),gR(this,"activeIndex",0),gR(this,"coordinateList",[]),gR(this,"layout","horizontal")}return kat(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function Tat(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&_t(n)&&_t(a))return!0}return!1}function Aat(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Mhe(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Kn(t,r,n,a),l=Kn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Pat(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=Kn(l,c,u,f),p=Kn(l,c,d,f);n=m.x,a=m.y,i=p.x,o=p.y}else return Mhe(t);return[{x:n,y:a},{x:i,y:o}]}function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}function XX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XX(Object(r),!0).forEach(function(n){Oat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oat(e,t,r){return t=Rat(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rat(e){var t=Dat(e,"string");return dw(t)=="symbol"?t:t+""}function Dat(e,t){if(dw(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iat(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var y,g=pI;if(m==="ScatterChart")y=o,g=gtt;else if(m==="BarChart")y=Aat(f,o,c,d),g=IL;else if(f==="radial"){var v=Mhe(o),w=v.cx,b=v.cy,j=v.radius,E=v.startAngle,S=v.endAngle;y={cx:w,cy:b,startAngle:E,endAngle:S,innerRadius:j,outerRadius:j},g=Bfe}else y={points:Pat(f,o,c)},g=pI;var C=fj(fj(fj(fj({stroke:"#ccc",pointerEvents:"none"},c),y),pr(p,!1)),{},{payload:l,payloadIndex:u,className:Ir("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,C):_.createElement(g,C)}var Mat=["item"],Fat=["children","className","width","height","style","compact","title","desc"];function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function JX(e,t){return Bat(e)||$at(e,t)||Lhe(e,t)||Lat()}function Lat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $at(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Bat(e){if(Array.isArray(e))return e}function ZX(e,t){if(e==null)return{};var r=Uat(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uat(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zat(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$he(n.key),n)}}function qat(e,t,r){return t&&zat(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wat(e,t,r){return t=XS(t),Hat(e,Fhe()?Reflect.construct(t,r||[],XS(e).constructor):t.apply(e,r))}function Hat(e,t){if(t&&(G0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gat(e)}function Gat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fhe=function(){return!!e})()}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XS(e)}function Kat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KI(e,t)}function KI(e,t){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KI(e,t)}function K0(e){return Jat(e)||Xat(e)||Lhe(e)||Yat()}function Yat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lhe(e,t){if(e){if(typeof e=="string")return YI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YI(e,t)}}function Xat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jat(e){if(Array.isArray(e))return YI(e)}function YI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QX(Object(r),!0).forEach(function(n){ir(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QX(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ir(e,t,r){return t=$he(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $he(e){var t=Zat(e,"string");return G0(t)=="symbol"?t:t+""}function Zat(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qat={xAxis:["bottom","top"],yAxis:["left","right"]},eit={width:"100%",height:"100%"},Bhe={x:0,y:0};function hj(e){return e}var tit=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},rit=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return nt(nt(nt({},a),Kn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return nt(nt(nt({},a),Kn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Bhe},Jk=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(K0(l),K0(u)):l},[]);return o.length>0?o:t&&t.length&&_t(a)&&_t(i)?t.slice(a,i+1):[]};function Uhe(e){return e==="number"?[0,"auto"]:void 0}var XI=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Jk(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;m=A3(p,o.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(K0(c),[Dfe(u,m)]):c},[])},eJ=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=tit(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=$Je(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=XI(t,r,d,f),p=rit(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},nit=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,p=Efe(d,i);return n.reduce(function(y,g){var v,w=g.type.defaultProps!==void 0?nt(nt({},g.type.defaultProps),g.props):g.props,b=w.type,j=w.dataKey,E=w.allowDataOverflow,S=w.allowDuplicatedCategory,C=w.scale,k=w.ticks,R=w.includeHidden,O=w[o];if(y[O])return y;var A=Jk(t.data,{graphicalItems:a.filter(function(z){var J,X=o in z.props?z.props[o]:(J=z.type.defaultProps)===null||J===void 0?void 0:J[o];return X===O}),dataStartIndex:c,dataEndIndex:u}),P=A.length,D,F,L;Tat(w.domain,E,b)&&(D=uI(w.domain,null,E),p&&(b==="number"||C!=="auto")&&(L=Py(A,j,"category")));var H=Uhe(b);if(!D||D.length===0){var W,G=(W=w.domain)!==null&&W!==void 0?W:H;if(j){if(D=Py(A,j,b),b==="category"&&p){var K=Rze(D);S&&K?(F=D,D=LS(0,P)):S||(D=rY(G,D,g).reduce(function(z,J){return z.indexOf(J)>=0?z:[].concat(K0(z),[J])},[]))}else if(b==="category")S?D=D.filter(function(z){return z!==""&&!Gr(z)}):D=rY(G,D,g).reduce(function(z,J){return z.indexOf(J)>=0||J===""||Gr(J)?z:[].concat(K0(z),[J])},[]);else if(b==="number"){var I=qJe(A,a.filter(function(z){var J,X,ee=o in z.props?z.props[o]:(J=z.type.defaultProps)===null||J===void 0?void 0:J[o],he="hide"in z.props?z.props.hide:(X=z.type.defaultProps)===null||X===void 0?void 0:X.hide;return ee===O&&(R||!he)}),j,i,d);I&&(D=I)}p&&(b==="number"||C!=="auto")&&(L=Py(A,j,"category"))}else p?D=LS(0,P):l&&l[O]&&l[O].hasStack&&b==="number"?D=m==="expand"?[0,1]:Rfe(l[O].stackGroups,c,u):D=Cfe(A,a.filter(function(z){var J=o in z.props?z.props[o]:z.type.defaultProps[o],X="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return J===O&&(R||!X)}),b,d,!0);if(b==="number")D=GI(f,D,O,i,k),G&&(D=uI(G,D,E));else if(b==="category"&&G){var B=G,Y=D.every(function(z){return B.indexOf(z)>=0});Y&&(D=B)}}return nt(nt({},y),{},ir({},O,nt(nt({},w),{},{axisType:i,domain:D,categoricalDomain:L,duplicateDomain:F,originalDomain:(v=w.domain)!==null&&v!==void 0?v:H,isCategorical:p,layout:d})))},{})},sit=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=Jk(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=Efe(d,i),g=-1;return n.reduce(function(v,w){var b=w.type.defaultProps!==void 0?nt(nt({},w.type.defaultProps),w.props):w.props,j=b[o],E=Uhe("number");if(!v[j]){g++;var S;return y?S=LS(0,p):l&&l[j]&&l[j].hasStack?(S=Rfe(l[j].stackGroups,c,u),S=GI(f,S,j,i)):(S=uI(E,Cfe(m,n.filter(function(C){var k,R,O=o in C.props?C.props[o]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[o],A="hide"in C.props?C.props.hide:(R=C.type.defaultProps)===null||R===void 0?void 0:R.hide;return O===j&&!A}),"number",d),a.defaultProps.allowDataOverflow),S=GI(f,S,j,i)),nt(nt({},v),{},ir({},j,nt(nt({axisType:i},a.defaultProps),{},{hide:!0,orientation:Go(Qat,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:E,isCategorical:y,layout:d})))}return v},{})},ait=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),m=Il(d,i),p={};return m&&m.length?p=nit(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=sit(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},iit=function(t){var r=Kd(t),n=Lu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lL(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:kS(r,n)}},tJ=function(t){var r=t.children,n=t.defaultShowTooltip,a=Po(r,$0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},oit=function(t){return!t||!t.length?!1:t.some(function(r){var n=zu(r&&r.type);return n&&n.indexOf("Bar")>=0})},rJ=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lit=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=Po(f,$0),y=Po(f,xf),g=Object.keys(c).reduce(function(S,C){var k=c[C],R=k.orientation;return!k.mirror&&!k.hide?nt(nt({},S),{},ir({},R,S[R]+k.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,C){var k=o[C],R=k.orientation;return!k.mirror&&!k.hide?nt(nt({},S),{},ir({},R,Go(S,"".concat(R))+k.height)):S},{top:m.top||0,bottom:m.bottom||0}),w=nt(nt({},v),g),b=w.bottom;p&&(w.bottom+=p.props.height||$0.defaultProps.height),y&&r&&(w=VJe(w,a,n,r));var j=u-w.left-w.right,E=d-w.top-w.bottom;return nt(nt({brushBottom:b},w),{},{width:Math.max(j,0),height:Math.max(E,0)})},cit=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Vhe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(w,b){var j=b.graphicalItems,E=b.stackGroups,S=b.offset,C=b.updateId,k=b.dataStartIndex,R=b.dataEndIndex,O=w.barSize,A=w.layout,P=w.barGap,D=w.barCategoryGap,F=w.maxBarSize,L=rJ(A),H=L.numericAxisName,W=L.cateAxisName,G=oit(j),K=[];return j.forEach(function(I,B){var Y=Jk(w.data,{graphicalItems:[I],dataStartIndex:k,dataEndIndex:R}),z=I.type.defaultProps!==void 0?nt(nt({},I.type.defaultProps),I.props):I.props,J=z.dataKey,X=z.maxBarSize,ee=z["".concat(H,"Id")],he=z["".concat(W,"Id")],fe={},ge=c.reduce(function(we,Oe){var Ye=b["".concat(Oe.axisType,"Map")],Je=z["".concat(Oe.axisType,"Id")];Ye&&Ye[Je]||Oe.axisType==="zAxis"||Wm();var Ne=Ye[Je];return nt(nt({},we),{},ir(ir({},Oe.axisType,Ne),"".concat(Oe.axisType,"Ticks"),Lu(Ne)))},fe),U=ge[W],ne=ge["".concat(W,"Ticks")],Q=E&&E[ee]&&E[ee].hasStack&&QJe(I,E[ee].stackGroups),V=zu(I.type).indexOf("Bar")>=0,ue=kS(U,ne),oe=[],Se=G&&BJe({barSize:O,stackGroups:E,totalSize:cit(ge,W)});if(V){var Ee,ie,qe=Gr(X)?F:X,He=(Ee=(ie=kS(U,ne,!0))!==null&&ie!==void 0?ie:qe)!==null&&Ee!==void 0?Ee:0;oe=UJe({barGap:P,barCategoryGap:D,bandSize:He!==ue?He:ue,sizeList:Se[he],maxBarSize:qe}),He!==ue&&(oe=oe.map(function(we){return nt(nt({},we),{},{position:nt(nt({},we.position),{},{offset:we.position.offset-He/2})})}))}var de=I&&I.type&&I.type.getComposedData;de&&K.push({props:nt(nt({},de(nt(nt({},ge),{},{displayedData:Y,props:w,dataKey:J,item:I,bandSize:ue,barPosition:oe,offset:S,stackedData:Q,layout:A,dataStartIndex:k,dataEndIndex:R}))),{},ir(ir(ir({key:I.key||"item-".concat(B)},H,ge[H]),W,ge[W]),"animationId",C)),childIndex:Wze(I,w.children),item:I})}),K},p=function(w,b){var j=w.props,E=w.dataStartIndex,S=w.dataEndIndex,C=w.updateId;if(!xW({props:j}))return null;var k=j.children,R=j.layout,O=j.stackOffset,A=j.data,P=j.reverseStackOrder,D=rJ(R),F=D.numericAxisName,L=D.cateAxisName,H=Il(k,n),W=JJe(A,H,"".concat(F,"Id"),"".concat(L,"Id"),O,P),G=c.reduce(function(z,J){var X="".concat(J.axisType,"Map");return nt(nt({},z),{},ir({},X,ait(j,nt(nt({},J),{},{graphicalItems:H,stackGroups:J.axisType===F&&W,dataStartIndex:E,dataEndIndex:S}))))},{}),K=lit(nt(nt({},G),{},{props:j,graphicalItems:H}),b?.legendBBox);Object.keys(G).forEach(function(z){G[z]=d(j,G[z],K,z.replace("Map",""),r)});var I=G["".concat(L,"Map")],B=iit(I),Y=m(j,nt(nt({},G),{},{dataStartIndex:E,dataEndIndex:S,updateId:C,graphicalItems:H,stackGroups:W,offset:K}));return nt(nt({formattedGraphicalItems:Y,graphicalItems:H,offset:K,stackGroups:W},B),G)},y=(function(v){function w(b){var j,E,S;return Vat(this,w),S=Wat(this,w,[b]),ir(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ir(S,"accessibilityManager",new Eat),ir(S,"handleLegendBBoxUpdate",function(C){if(C){var k=S.state,R=k.dataStartIndex,O=k.dataEndIndex,A=k.updateId;S.setState(nt({legendBBox:C},p({props:S.props,dataStartIndex:R,dataEndIndex:O,updateId:A},nt(nt({},S.state),{},{legendBBox:C}))))}}),ir(S,"handleReceiveSyncEvent",function(C,k,R){if(S.props.syncId===C){if(R===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),ir(S,"handleBrushChange",function(C){var k=C.startIndex,R=C.endIndex;if(k!==S.state.dataStartIndex||R!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return nt({dataStartIndex:k,dataEndIndex:R},p({props:S.props,dataStartIndex:k,dataEndIndex:R,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:R})}}),ir(S,"handleMouseEnter",function(C){var k=S.getMouseInfo(C);if(k){var R=nt(nt({},k),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var O=S.props.onMouseEnter;jr(O)&&O(R,C)}}),ir(S,"triggeredAfterMouseMove",function(C){var k=S.getMouseInfo(C),R=k?nt(nt({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(R),S.triggerSyncEvent(R);var O=S.props.onMouseMove;jr(O)&&O(R,C)}),ir(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ir(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ir(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),ir(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var R=S.props.onMouseLeave;jr(R)&&R(k,C)}),ir(S,"handleOuterEvent",function(C){var k=qze(C),R=Go(S.props,"".concat(k));if(k&&jr(R)){var O,A;/.*touch.*/i.test(k)?A=S.getMouseInfo(C.changedTouches[0]):A=S.getMouseInfo(C),R((O=A)!==null&&O!==void 0?O:{},C)}}),ir(S,"handleClick",function(C){var k=S.getMouseInfo(C);if(k){var R=nt(nt({},k),{},{isTooltipActive:!0});S.setState(R),S.triggerSyncEvent(R);var O=S.props.onClick;jr(O)&&O(R,C)}}),ir(S,"handleMouseDown",function(C){var k=S.props.onMouseDown;if(jr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"handleMouseUp",function(C){var k=S.props.onMouseUp;if(jr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ir(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),ir(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),ir(S,"handleDoubleClick",function(C){var k=S.props.onDoubleClick;if(jr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"handleContextMenu",function(C){var k=S.props.onContextMenu;if(jr(k)){var R=S.getMouseInfo(C);k(R,C)}}),ir(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&mR.emit(pR,S.props.syncId,C,S.eventEmitterSymbol)}),ir(S,"applySyncEvent",function(C){var k=S.props,R=k.layout,O=k.syncMethod,A=S.state.updateId,P=C.dataStartIndex,D=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(nt({dataStartIndex:P,dataEndIndex:D},p({props:S.props,dataStartIndex:P,dataEndIndex:D,updateId:A},S.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,L=C.chartY,H=C.activeTooltipIndex,W=S.state,G=W.offset,K=W.tooltipTicks;if(!G)return;if(typeof O=="function")H=O(K,C);else if(O==="value"){H=-1;for(var I=0;I<K.length;I++)if(K[I].value===C.activeLabel){H=I;break}}var B=nt(nt({},G),{},{x:G.left,y:G.top}),Y=Math.min(F,B.x+B.width),z=Math.min(L,B.y+B.height),J=K[H]&&K[H].value,X=XI(S.state,S.props.data,H),ee=K[H]?{x:R==="horizontal"?K[H].coordinate:Y,y:R==="horizontal"?z:K[H].coordinate}:Bhe;S.setState(nt(nt({},C),{},{activeLabel:J,activeCoordinate:ee,activePayload:X,activeTooltipIndex:H}))}else S.setState(C)}),ir(S,"renderCursor",function(C){var k,R=S.state,O=R.isTooltipActive,A=R.activeCoordinate,P=R.activePayload,D=R.offset,F=R.activeTooltipIndex,L=R.tooltipAxisBandSize,H=S.getTooltipEventType(),W=(k=C.props.active)!==null&&k!==void 0?k:O,G=S.props.layout,K=C.key||"_recharts-cursor";return ce.createElement(Iat,{key:K,activeCoordinate:A,activePayload:P,activeTooltipIndex:F,chartName:r,element:C,isActive:W,layout:G,offset:D,tooltipAxisBandSize:L,tooltipEventType:H})}),ir(S,"renderPolarAxis",function(C,k,R){var O=Go(C,"type.axisType"),A=Go(S.state,"".concat(O,"Map")),P=C.type.defaultProps,D=P!==void 0?nt(nt({},P),C.props):C.props,F=A&&A[D["".concat(O,"Id")]];return _.cloneElement(C,nt(nt({},F),{},{className:Ir(O,F.className),key:C.key||"".concat(k,"-").concat(R),ticks:Lu(F,!0)}))}),ir(S,"renderPolarGrid",function(C){var k=C.props,R=k.radialLines,O=k.polarAngles,A=k.polarRadius,P=S.state,D=P.radiusAxisMap,F=P.angleAxisMap,L=Kd(D),H=Kd(F),W=H.cx,G=H.cy,K=H.innerRadius,I=H.outerRadius;return _.cloneElement(C,{polarAngles:Array.isArray(O)?O:Lu(H,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(A)?A:Lu(L,!0).map(function(B){return B.coordinate}),cx:W,cy:G,innerRadius:K,outerRadius:I,key:C.key||"polar-grid",radialLines:R})}),ir(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,k=S.props,R=k.children,O=k.width,A=k.height,P=S.props.margin||{},D=O-(P.left||0)-(P.right||0),F=Sfe({children:R,formattedGraphicalItems:C,legendWidth:D,legendContent:u});if(!F)return null;var L=F.item,H=ZX(F,Mat);return _.cloneElement(L,nt(nt({},H),{},{chartWidth:O,chartHeight:A,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ir(S,"renderTooltip",function(){var C,k=S.props,R=k.children,O=k.accessibilityLayer,A=Po(R,yl);if(!A)return null;var P=S.state,D=P.isTooltipActive,F=P.activeCoordinate,L=P.activePayload,H=P.activeLabel,W=P.offset,G=(C=A.props.active)!==null&&C!==void 0?C:D;return _.cloneElement(A,{viewBox:nt(nt({},W),{},{x:W.left,y:W.top}),active:G,label:H,payload:G?L:[],coordinate:F,accessibilityLayer:O})}),ir(S,"renderBrush",function(C){var k=S.props,R=k.margin,O=k.data,A=S.state,P=A.offset,D=A.dataStartIndex,F=A.dataEndIndex,L=A.updateId;return _.cloneElement(C,{key:C.key||"_recharts-brush",onChange:lj(S.handleBrushChange,C.props.onChange),data:O,x:_t(C.props.x)?C.props.x:P.left,y:_t(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(R.bottom||0),width:_t(C.props.width)?C.props.width:P.width,startIndex:D,endIndex:F,updateId:"brush-".concat(L)})}),ir(S,"renderReferenceElement",function(C,k,R){if(!C)return null;var O=S,A=O.clipPathId,P=S.state,D=P.xAxisMap,F=P.yAxisMap,L=P.offset,H=C.type.defaultProps||{},W=C.props,G=W.xAxisId,K=G===void 0?H.xAxisId:G,I=W.yAxisId,B=I===void 0?H.yAxisId:I;return _.cloneElement(C,{key:C.key||"".concat(k,"-").concat(R),xAxis:D[K],yAxis:F[B],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:A})}),ir(S,"renderActivePoints",function(C){var k=C.item,R=C.activePoint,O=C.basePoint,A=C.childIndex,P=C.isRange,D=[],F=k.props.key,L=k.item.type.defaultProps!==void 0?nt(nt({},k.item.type.defaultProps),k.item.props):k.item.props,H=L.activeDot,W=L.dataKey,G=nt(nt({index:A,dataKey:W,cx:R.x,cy:R.y,r:4,fill:DL(k.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},pr(H,!1)),rS(H));return D.push(w.renderActiveDot(H,G,"".concat(F,"-activePoint-").concat(A))),O?D.push(w.renderActiveDot(H,nt(nt({},G),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(A))):P&&D.push(null),D}),ir(S,"renderGraphicChild",function(C,k,R){var O=S.filterFormatItem(C,k,R);if(!O)return null;var A=S.getTooltipEventType(),P=S.state,D=P.isTooltipActive,F=P.tooltipAxis,L=P.activeTooltipIndex,H=P.activeLabel,W=S.props.children,G=Po(W,yl),K=O.props,I=K.points,B=K.isRange,Y=K.baseLine,z=O.item.type.defaultProps!==void 0?nt(nt({},O.item.type.defaultProps),O.item.props):O.item.props,J=z.activeDot,X=z.hide,ee=z.activeBar,he=z.activeShape,fe=!!(!X&&D&&G&&(J||ee||he)),ge={};A!=="axis"&&G&&G.props.trigger==="click"?ge={onClick:lj(S.handleItemMouseEnter,C.props.onClick)}:A!=="axis"&&(ge={onMouseLeave:lj(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:lj(S.handleItemMouseEnter,C.props.onMouseEnter)});var U=_.cloneElement(C,nt(nt({},O.props),ge));function ne(Oe){return typeof F.dataKey=="function"?F.dataKey(Oe.payload):null}if(fe)if(L>=0){var Q,V;if(F.dataKey&&!F.allowDuplicatedCategory){var ue=typeof F.dataKey=="function"?ne:"payload.".concat(F.dataKey.toString());Q=A3(I,ue,H),V=B&&Y&&A3(Y,ue,H)}else Q=I?.[L],V=B&&Y&&Y[L];if(he||ee){var oe=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[_.cloneElement(C,nt(nt(nt({},O.props),ge),{},{activeIndex:oe})),null,null]}if(!Gr(Q))return[U].concat(K0(S.renderActivePoints({item:O,activePoint:Q,basePoint:V,childIndex:L,isRange:B})))}else{var Se,Ee=(Se=S.getItemByXY(S.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:U},ie=Ee.graphicalItem,qe=ie.item,He=qe===void 0?C:qe,de=ie.childIndex,we=nt(nt(nt({},O.props),ge),{},{activeIndex:de});return[_.cloneElement(He,we),null,null]}return B?[U,null,null]:[U,null]}),ir(S,"renderCustomized",function(C,k,R){return _.cloneElement(C,nt(nt({key:"recharts-customized-".concat(R)},S.props),S.state))}),ir(S,"renderMap",{CartesianGrid:{handler:hj,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hj},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hj},YAxis:{handler:hj},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=b.id)!==null&&j!==void 0?j:e1("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Nde(S.triggeredAfterMouseMove,(E=b.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return Kat(w,v),qat(w,[{key:"componentDidMount",value:function(){var j,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,E=j.children,S=j.data,C=j.height,k=j.layout,R=Po(E,yl);if(R){var O=R.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,P=XI(this.state,S,O,A),D=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+C)/2,L=k==="horizontal",H=L?{x:D,y:F}:{y:D,x:F},W=this.state.formattedGraphicalItems.find(function(K){var I=K.item;return I.type.name==="Scatter"});W&&(H=nt(nt({},H),W.props.points[O].tooltipPosition),P=W.props.points[O].tooltipPayload);var G={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:A,activePayload:P,activeCoordinate:H};this.setState(G),this.renderCursor(R),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(j){O3([Po(j.children,yl)],[Po(this.props.children,yl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Po(this.props.children,yl);if(j&&typeof j.props.shared=="boolean"){var E=j.props.shared?"axis":"item";return l.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),C=PGe(S),k={chartX:Math.round(j.pageX-C.left),chartY:Math.round(j.pageY-C.top)},R=S.width/E.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,R);if(!O)return null;var A=this.state,P=A.xAxisMap,D=A.yAxisMap,F=this.getTooltipEventType(),L=eJ(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&P&&D){var H=Kd(P).scale,W=Kd(D).scale,G=H&&H.invert?H.invert(k.chartX):null,K=W&&W.invert?W.invert(k.chartY):null;return nt(nt({},k),{},{xValue:G,yValue:K},L)}return L?nt(nt({},k),L):null}},{key:"inRange",value:function(j,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=j/S,R=E/S;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,A=k>=O.left&&k<=O.left+O.width&&R>=O.top&&R<=O.top+O.height;return A?{x:k,y:R}:null}var P=this.state,D=P.angleAxisMap,F=P.radiusAxisMap;if(D&&F){var L=Kd(D);return aY({x:k,y:R},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,E=this.getTooltipEventType(),S=Po(j,yl),C={};S&&E==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=rS(this.props,this.handleOuterEvent);return nt(nt({},k),C)}},{key:"addListener",value:function(){mR.on(pR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mR.removeListener(pR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,E,S){for(var C=this.state.formattedGraphicalItems,k=0,R=C.length;k<R;k++){var O=C[k];if(O.item===j||O.props.key===j.key||E===zu(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,E=this.state.offset,S=E.left,C=E.top,k=E.height,R=E.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:j},ce.createElement("rect",{x:S,y:C,height:k,width:R})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(E,S){var C=JX(S,2),k=C[0],R=C[1];return nt(nt({},E),{},ir({},k,R.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(E,S){var C=JX(S,2),k=C[0],R=C[1];return nt(nt({},E),{},ir({},k,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[j])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(j){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[j])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(j){var E=this.state,S=E.formattedGraphicalItems,C=E.activeItem;if(S&&S.length)for(var k=0,R=S.length;k<R;k++){var O=S[k],A=O.props,P=O.item,D=P.type.defaultProps!==void 0?nt(nt({},P.type.defaultProps),P.props):P.props,F=zu(P.type);if(F==="Bar"){var L=(A.data||[]).find(function(K){return Xet(j,K)});if(L)return{graphicalItem:O,payload:L}}else if(F==="RadialBar"){var H=(A.data||[]).find(function(K){return aY(j,K)});if(H)return{graphicalItem:O,payload:H}}else if(qk(O,C)||Wk(O,C)||nw(O,C)){var W=yrt({graphicalItem:O,activeTooltipItem:C,itemData:D.data}),G=D.activeIndex===void 0?W:D.activeIndex;return{graphicalItem:nt(nt({},O),{},{childIndex:G}),payload:nw(O,C)?D.data[W]:O.props.data[W]}}}return null}},{key:"render",value:function(){var j=this;if(!xW(this))return null;var E=this.props,S=E.children,C=E.className,k=E.width,R=E.height,O=E.style,A=E.compact,P=E.title,D=E.desc,F=ZX(E,Fat),L=pr(F,!1);if(A)return ce.createElement(IX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(D3,Ag({},L,{width:k,height:R,title:P,desc:D}),this.renderClipPath(),yW(S,this.renderMap)));if(this.props.accessibilityLayer){var H,W;L.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,L.role=(W=this.props.role)!==null&&W!==void 0?W:"application",L.onKeyDown=function(K){j.accessibilityManager.keyboardEvent(K)},L.onFocus=function(){j.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return ce.createElement(IX,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Ag({className:Ir("recharts-wrapper",C),style:nt({position:"relative",cursor:"default",width:k,height:R},O)},G,{ref:function(I){j.container=I}}),ce.createElement(D3,Ag({},L,{width:k,height:R,title:P,desc:D,style:eit}),this.renderClipPath(),yW(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);ir(y,"displayName",r),ir(y,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ir(y,"getDerivedStateFromProps",function(v,w){var b=v.dataKey,j=v.data,E=v.children,S=v.width,C=v.height,k=v.layout,R=v.stackOffset,O=v.margin,A=w.dataStartIndex,P=w.dataEndIndex;if(w.updateId===void 0){var D=tJ(v);return nt(nt(nt({},D),{},{updateId:0},p(nt(nt({props:v},D),{},{updateId:0}),w)),{},{prevDataKey:b,prevData:j,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:R,prevMargin:O,prevChildren:E})}if(b!==w.prevDataKey||j!==w.prevData||S!==w.prevWidth||C!==w.prevHeight||k!==w.prevLayout||R!==w.prevStackOffset||!Jg(O,w.prevMargin)){var F=tJ(v),L={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},H=nt(nt({},eJ(w,j,k)),{},{updateId:w.updateId+1}),W=nt(nt(nt({},F),L),H);return nt(nt(nt({},W),p(nt({props:v},W),w)),{},{prevDataKey:b,prevData:j,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:R,prevMargin:O,prevChildren:E})}if(!O3(E,w.prevChildren)){var G,K,I,B,Y=Po(E,$0),z=Y&&(G=(K=Y.props)===null||K===void 0?void 0:K.startIndex)!==null&&G!==void 0?G:A,J=Y&&(I=(B=Y.props)===null||B===void 0?void 0:B.endIndex)!==null&&I!==void 0?I:P,X=z!==A||J!==P,ee=!Gr(j),he=ee&&!X?w.updateId:w.updateId+1;return nt(nt({updateId:he},p(nt(nt({props:v},w),{},{updateId:he,dataStartIndex:z,dataEndIndex:J}),w)),{},{prevChildren:E,dataStartIndex:z,dataEndIndex:J})}return null}),ir(y,"renderActiveDot",function(v,w,b){var j;return _.isValidElement(v)?j=_.cloneElement(v,w):jr(v)?j=v(w):j=ce.createElement(ML,w),ce.createElement(En,{className:"recharts-active-dot",key:b},j)});var g=_.forwardRef(function(w,b){return ce.createElement(y,Ag({},w,{ref:b}))});return g.displayName=y.displayName,g},nJ=Vhe({chartName:"BarChart",GraphicalChild:_l,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lw},{axisType:"yAxis",AxisComp:cw}],formatAxisMap:_nt}),uit=Vhe({chartName:"PieChart",GraphicalChild:md,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zk},{axisType:"radiusAxis",AxisComp:Uk}],formatAxisMap:cZe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const dit=()=>{const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState(null),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[p,y]=_.useState({start:"",end:""}),[g,v]=_.useState({applications:!0,approvals:!0,referrals:!0,commissions:!0,payments:!0,networkStats:!0}),[w,b]=_.useState("month");_.useEffect(()=>{j()},[]);const j=async()=>{if(!(sessionStorage.getItem("isSuperAdmin")==="true")){ot.error("Access denied. Super Admin only."),e("/superadmin/login");return}await E()},E=async()=>{r(!0);try{await Promise.all([S(),C(),k(),R(),O()])}catch(F){console.error("Error loading analytics data:",F),ot.error("Failed to load analytics data")}finally{r(!1)}},S=async()=>{const{data:F}=await Z.from("helper_applications").select("id, application_status"),L=F?.length||0,H=F?.filter(de=>de.application_status==="Pending").length||0,W=F?.filter(de=>de.application_status==="Rejected").length||0,{data:G}=await Z.from("helpers").select("id, status"),K=G?.length||0,I=G?.filter(de=>de.status==="Active").length||0,B=G?.filter(de=>de.status==="Suspended").length||0,{data:Y}=await Z.from("store_referrals").select("id, trial_status, subscription_purchased"),z=Y?.length||0,J=Y?.filter(de=>de.trial_status==="Active").length||0,X=Y?.filter(de=>de.subscription_purchased===!0).length||0,ee=z>0?X/z*100:0,{data:he}=await Z.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status, created_at"),fe=he?.reduce((de,we)=>de+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,ge=he?.reduce((de,we)=>de+(we.direct_commission_amount||0),0)||0,U=he?.reduce((de,we)=>de+(we.network_commission_amount||0),0)||0,ne=he?.filter(de=>de.commission_status==="Earned-Pending").reduce((de,we)=>de+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,Q=sq(new Date),V=he?.filter(de=>de.commission_status==="Paid"&&new Date(de.created_at)>=Q).reduce((de,we)=>de+(we.direct_commission_amount||0)+(we.network_commission_amount||0),0)||0,{data:ue}=await Z.from("helpers").select("id, recruited_by_helper_id"),oe=ue?.filter(de=>de.recruited_by_helper_id)||[],Se=new Set(oe.map(de=>de.recruited_by_helper_id)).size,Ee=new Map;oe.forEach(de=>{const we=Ee.get(de.recruited_by_helper_id)||0;Ee.set(de.recruited_by_helper_id,we+1)});const ie=Ee.size>0?Math.max(...Array.from(Ee.values())):0,qe=Se>0?oe.length/Se:0,He=he?.filter(de=>de.commission_status==="Paid").reduce((de,we)=>de+(we.network_commission_amount||0),0)||0;a({helperProgram:{totalApplications:L,pendingApplications:H,approvedHelpers:K,rejectedApplications:W,activeHelpers:I,suspendedHelpers:B},referralPerformance:{totalReferrals:z,onTrial:J,convertedToPaid:X,conversionRate:ee},commissionOverview:{totalEarned:fe,directCommissions:ge,networkCommissions:U,pendingPayment:ne,paidThisMonth:V},networkGrowth:{totalNetworks:Se,largestNetwork:ie,averageNetworkSize:qe,networkCommissionsPaid:He}})},C=async()=>{const F=[];for(let L=11;L>=0;L--){const H=kVe(new Date,L),W=sq(H),G=aue(H),{data:K}=await Z.from("helper_applications").select("id, application_status, created_at").gte("created_at",W.toISOString()).lte("created_at",G.toISOString()),I=K?.length||0,B=K?.filter(ee=>ee.application_status==="Approved").length||0,Y=K?.filter(ee=>ee.application_status==="Rejected").length||0,{data:z}=await Z.from("network_commissions").select("direct_commission_amount, network_commission_amount").gte("date_earned",W.toISOString()).lte("date_earned",G.toISOString()),J=z?.reduce((ee,he)=>ee+(he.direct_commission_amount||0),0)||0,X=z?.reduce((ee,he)=>ee+(he.network_commission_amount||0),0)||0;F.push({month:_r(H,"MMM yyyy"),applications:I,approved:B,rejected:Y,directCommissions:J,networkCommissions:X,total:J+X})}o(F)},k=async()=>{const{data:F}=await Z.from("helpers").select("id, full_name, created_at");if(!F)return;const H=(await Promise.all(F.map(async W=>{const{data:G}=await Z.from("store_referrals").select("id").eq("helper_id",W.id),{data:K}=await Z.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",W.id),I=K?.reduce((z,J)=>z+(J.direct_commission_amount||0),0)||0,B=K?.reduce((z,J)=>z+(J.network_commission_amount||0),0)||0,{data:Y}=await Z.from("helpers").select("id").eq("recruited_by_helper_id",W.id);return{id:W.id,name:W.full_name,directCommissions:I,referralCount:G?.length||0,networkSize:Y?.length||0,totalEarnings:I+B,joinedDate:W.created_at}}))).sort((W,G)=>G.totalEarnings-W.totalEarnings).slice(0,20);c(H)},R=async()=>{const{data:F}=await Z.from("helpers").select("id");if(!F)return;const L=await Promise.all(F.map(async Y=>{const{data:z}=await Z.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",Y.id);return z?.reduce((J,X)=>J+(X.direct_commission_amount||0)+(X.network_commission_amount||0),0)||0}));L.sort((Y,z)=>z-Y);const H=L.length,W=Math.ceil(H*.1),G=Math.ceil(H*.4),K=L.slice(0,W),I=L.slice(W,W+G),B=L.slice(W+G);d([{name:"Top 10%",value:K.length,earnings:K.reduce((Y,z)=>Y+z,0)},{name:"Middle 40%",value:I.length,earnings:I.reduce((Y,z)=>Y+z,0)},{name:"Bottom 50%",value:B.length,earnings:B.reduce((Y,z)=>Y+z,0)}])},O=async()=>{const{data:F}=await Z.from("helper_applications").select("id, status"),{data:L}=await Z.from("helpers").select("id"),H=await Promise.all((L||[]).map(async W=>{const{data:G}=await Z.from("store_referrals").select("id, subscription_purchased").eq("helper_id",W.id),K=G?.some(B=>B.subscription_purchased===!0),{data:I}=await Z.from("helpers").select("id").eq("recruited_by_helper_id",W.id);return{hasReferrals:(G?.length||0)>0,hasPaidReferrals:K,hasRecruited:(I?.length||0)>0}}));m([{stage:"Applications Submitted",count:F?.length||0,percentage:100},{stage:"Applications Approved",count:L?.length||0,percentage:F?.length?(L?.length||0)/F.length*100:0},{stage:"Helpers with Referrals",count:H.filter(W=>W.hasReferrals).length,percentage:L?.length?H.filter(W=>W.hasReferrals).length/L.length*100:0},{stage:"Helpers with Paid Referrals",count:H.filter(W=>W.hasPaidReferrals).length,percentage:L?.length?H.filter(W=>W.hasPaidReferrals).length/L.length*100:0},{stage:"Helpers who Recruited",count:H.filter(W=>W.hasRecruited).length,percentage:L?.length?H.filter(W=>W.hasRecruited).length/L.length*100:0}])},A=()=>{try{const F=l.map((G,K)=>({Rank:K+1,"Helper Name":G.name,"Helper ID":G.id,"Direct Commissions":`${G.directCommissions.toLocaleString()}`,"Referral Count":G.referralCount,"Network Size":G.networkSize,"Total Earnings":`${G.totalEarnings.toLocaleString()}`,"Joined Date":_r(new Date(G.joinedDate),"PPP")})),L=na.json_to_sheet(F),H=na.book_new();na.book_append_sheet(H,L,"Top Performers");const W=`top_helpers_${_r(new Date,"yyyy-MM-dd")}.xlsx`;$m(H,W),ot.success("Report exported successfully!")}catch{ot.error("Failed to export report")}},P=()=>{if(!p.start||!p.end){ot.error("Please select date range");return}ot.success("Custom report generated!")},D=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hw,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive insights into helper program performance"})]})]}),s.jsx(wt,{variant:"default",className:"text-sm px-3 py-1",children:"Super Admin"})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-blue-500"}),"Helper Program Stats"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total applications:"}),s.jsx("span",{className:"font-semibold",children:n?.helperProgram.totalApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:n?.helperProgram.pendingApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Approved helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.approvedHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rejected:"}),s.jsx("span",{className:"font-semibold text-red-600",children:n?.helperProgram.rejectedApplications})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active helpers:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.activeHelpers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Suspended:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:n?.helperProgram.suspendedHelpers})]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(kR,{className:"h-5 w-5 text-green-500"}),"Referral Performance"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total referrals:"}),s.jsx("span",{className:"font-semibold",children:n?.referralPerformance.totalReferrals})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Currently on trial:"}),s.jsx("span",{className:"font-semibold text-blue-600",children:n?.referralPerformance.onTrial})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Converted to paid:"}),s.jsx("span",{className:"font-semibold text-green-600",children:n?.referralPerformance.convertedToPaid})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversion rate:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[n?.referralPerformance.conversionRate.toFixed(1),"%"]})]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(Xa,{className:"h-5 w-5 text-green-500"}),"Commission Overview"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total earned:"}),s.jsxs("span",{className:"font-bold",children:["",n?.commissionOverview.totalEarned.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Direct:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground ml-4",children:"Network:"}),s.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending payment:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid this month:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-base flex items-center gap-2",children:[s.jsx(NR,{className:"h-5 w-5 text-purple-500"}),"Network Growth"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest network:"}),s.jsxs("span",{className:"font-semibold text-blue-600",children:[n?.networkGrowth.largestNetwork," helpers"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Network commissions:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Performance Charts"}),s.jsx(Cr,{children:"Visual representation of key metrics over time"})]}),s.jsx(Te,{children:s.jsxs(Qu,{defaultValue:"applications",children:[s.jsxs(nu,{className:"grid w-full grid-cols-4",children:[s.jsx(hn,{value:"applications",children:"Applications"}),s.jsx(hn,{value:"commissions",children:"Commissions"}),s.jsx(hn,{value:"distribution",children:"Distribution"}),s.jsx(hn,{value:"funnel",children:"Funnel"})]}),s.jsx(mn,{value:"applications",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications Over Time"}),s.jsx(wO,{width:"100%",height:400,children:s.jsxs(nJ,{data:i,children:[s.jsx(UI,{strokeDasharray:"3 3"}),s.jsx(lw,{dataKey:"month"}),s.jsx(cw,{}),s.jsx(yl,{}),s.jsx(xf,{}),s.jsx(_l,{dataKey:"applications",fill:"#8884d8",name:"Total Applications"}),s.jsx(_l,{dataKey:"approved",fill:"#82ca9d",name:"Approved"}),s.jsx(_l,{dataKey:"rejected",fill:"#ff8042",name:"Rejected"})]})})]})}),s.jsx(mn,{value:"commissions",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commission Payouts"}),s.jsx(wO,{width:"100%",height:400,children:s.jsxs(nJ,{data:i,children:[s.jsx(UI,{strokeDasharray:"3 3"}),s.jsx(lw,{dataKey:"month"}),s.jsx(cw,{}),s.jsx(yl,{}),s.jsx(xf,{}),s.jsx(_l,{dataKey:"directCommissions",fill:"#0088FE",name:"Direct Commissions"}),s.jsx(_l,{dataKey:"networkCommissions",fill:"#00C49F",name:"Network Commissions"}),s.jsx(_l,{dataKey:"total",fill:"#FFBB28",name:"Total"})]})})]})}),s.jsx(mn,{value:"distribution",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Helper Performance Distribution"}),s.jsx(wO,{width:"100%",height:400,children:s.jsxs(uit,{children:[s.jsx(md,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:F=>`${F.name}: ${F.value} helpers`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:u.map((F,L)=>s.jsx(kk,{fill:D[L%D.length]},`cell-${L}`))}),s.jsx(yl,{})]})}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:u.map((F,L)=>s.jsx(ke,{children:s.jsxs(Te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:D[L%D.length]}}),s.jsx("span",{className:"font-semibold",children:F.name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.value," helpers"]}),s.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",F.earnings?.toLocaleString()," earned"]})]})},L))})]})}),s.jsx(mn,{value:"funnel",className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversion Funnel"}),s.jsx("div",{className:"space-y-3",children:f.map((F,L)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:F.stage}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[F.percentage.toFixed(1),"%"]}),s.jsx("span",{className:"font-bold",children:F.count})]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-8 relative overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full flex items-center justify-center text-white text-sm font-semibold transition-all",style:{width:`${F.percentage}%`},children:F.percentage>20&&`${F.count} helpers`})})]},L))})]})})]})})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Detailed Reports"}),s.jsx(Cr,{children:"In-depth analysis and performance reports"})]}),s.jsx(Te,{children:s.jsxs(Qu,{defaultValue:"top-performers",children:[s.jsxs(nu,{className:"grid w-full grid-cols-4",children:[s.jsx(hn,{value:"top-performers",children:"Top Performers"}),s.jsx(hn,{value:"network",children:"Network Analytics"}),s.jsx(hn,{value:"payments",children:"Payment Reports"}),s.jsx(hn,{value:"applications",children:"Applications"})]}),s.jsxs(mn,{value:"top-performers",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Top 20 Performing Helpers"}),s.jsxs(ae,{onClick:A,children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{className:"w-16",children:"Rank"}),s.jsx(tt,{children:"Helper Name"}),s.jsx(tt,{children:"Direct Commissions"}),s.jsx(tt,{children:"Referral Count"}),s.jsx(tt,{children:"Network Size"}),s.jsx(tt,{children:"Total Earnings"}),s.jsx(tt,{children:"Joined Date"})]})}),s.jsx(oa,{children:l.map((F,L)=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs(wt,{variant:L<3?"default":"secondary",children:["#",L+1]})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:F.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:F.id})]})}),s.jsxs(Xe,{className:"font-semibold",children:["",F.directCommissions.toLocaleString()]}),s.jsx(Xe,{children:F.referralCount}),s.jsx(Xe,{children:F.networkSize}),s.jsxs(Xe,{className:"font-bold text-green-600",children:["",F.totalEarnings.toLocaleString()]}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:_r(new Date(F.joinedDate),"PP")})]},F.id))})]})})]}),s.jsxs(mn,{value:"network",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Helper Network Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Network Distribution"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Networks:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Average Size:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Largest:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.largestNetwork})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Network Commissions"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Paid:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Growth Metrics"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Recruiters:"}),s.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Recruitment Rate:"}),s.jsxs("span",{className:"font-semibold",children:[n?.helperProgram.approvedHelpers&&n?.networkGrowth.totalNetworks?(n.networkGrowth.totalNetworks/n.helperProgram.approvedHelpers*100).toFixed(1):0,"%"]})]})]})})]})]})]}),s.jsxs(mn,{value:"payments",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reports"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Commission Type Breakdown"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Direct Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.directCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm",children:"Network Commissions"}),s.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.networkCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Payment Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Paid This Month"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Pending Payment"}),s.jsxs("span",{className:"font-bold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]})]})]}),s.jsxs(mn,{value:"applications",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Application Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Total Applications"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold",children:n?.helperProgram.totalApplications})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Approval Rate"})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.approvedHelpers/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Rejection Rate"})}),s.jsx(Te,{children:s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.rejectedApplications/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-base",children:"Pending Review"})}),s.jsx(Te,{children:s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?.helperProgram.pendingApplications})})]})]})]})]})})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Custom Report Builder"}),s.jsx(Cr,{children:"Generate custom reports based on your requirements"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Start Date"}),s.jsx("input",{type:"date",value:p.start,onChange:F=>y({...p,start:F.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"End Date"}),s.jsx("input",{type:"date",value:p.end,onChange:F=>y({...p,end:F.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Select Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"metric-applications",checked:g.applications,onCheckedChange:F=>v({...g,applications:F})}),s.jsx("label",{htmlFor:"metric-applications",className:"text-sm",children:"Applications"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"metric-approvals",checked:g.approvals,onCheckedChange:F=>v({...g,approvals:F})}),s.jsx("label",{htmlFor:"metric-approvals",className:"text-sm",children:"Approvals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"metric-referrals",checked:g.referrals,onCheckedChange:F=>v({...g,referrals:F})}),s.jsx("label",{htmlFor:"metric-referrals",className:"text-sm",children:"Referrals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"metric-commissions",checked:g.commissions,onCheckedChange:F=>v({...g,commissions:F})}),s.jsx("label",{htmlFor:"metric-commissions",className:"text-sm",children:"Commissions"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"metric-payments",checked:g.payments,onCheckedChange:F=>v({...g,payments:F})}),s.jsx("label",{htmlFor:"metric-payments",className:"text-sm",children:"Payments"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mi,{id:"metric-network",checked:g.networkStats,onCheckedChange:F=>v({...g,networkStats:F})}),s.jsx("label",{htmlFor:"metric-network",className:"text-sm",children:"Network Stats"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Group By"}),s.jsxs(yr,{value:w,onValueChange:b,children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"day",children:"By Day"}),s.jsx(Ke,{value:"week",children:"By Week"}),s.jsx(Ke,{value:"month",children:"By Month"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ae,{onClick:P,className:"flex-1",children:[s.jsx(qc,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export to Excel"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export to PDF"]}),s.jsxs(ae,{variant:"outline",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]})]})]})]})},fit=tp({name:nn().min(1,"Name is required"),slug:nn().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase with hyphens only"),description:nn().optional(),monthly_price:Fd.number().min(0,"Price must be 0 or greater"),yearly_price:Fd.number().min(0,"Price must be 0 or greater").optional(),max_products:Fd.number().optional(),enable_whatsapp_orders:Ac().default(!1),whatsapp_orders_limit:Fd.number().optional(),enable_website_orders:Ac().default(!1),website_orders_limit:Fd.number().optional(),trial_days:Fd.number().min(0).default(14),is_active:Ac().default(!0),is_popular:Ac().default(!1),badge_text:nn().optional(),badge_color:nn().optional(),display_order:Fd.number().default(0),enable_location_sharing:Ac().default(!1),enable_analytics:Ac().default(!1),enable_custom_domain:Ac().default(!1),enable_order_emails:Ac().default(!1),enable_ai_voice:Ac().default(!1),google_reviews_calls_limit:Fd.number().min(0).default(15),google_reviews_period:L2(["monthly","yearly"]).default("monthly")}),hit=({open:e,onOpenChange:t,onSubmit:r,defaultValues:n,mode:a})=>{const i=Rw({resolver:Dw(fit),defaultValues:{name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"}});_.useEffect(()=>{e&&n?i.reset(n):e&&!n&&i.reset({name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1,google_reviews_calls_limit:15,google_reviews_period:"monthly"})},[e,n,i]);const o=async l=>{await r(l),i.reset()};return s.jsx(Sn,{open:e,onOpenChange:t,children:s.jsxs(yn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:a==="add"?"Add New Plan":"Edit Plan"}),s.jsx(ps,{children:a==="add"?"Create a new subscription plan with custom features.":"Update the subscription plan details and features."})]}),s.jsx(Iw,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"}),s.jsx(xr,{control:i.control,name:"name",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Plan Name"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"e.g., Free, Pro, Business",...l})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"slug",render:({field:l})=>s.jsxs(ur,{children:[s.jsxs(vr,{className:"flex items-center gap-2",children:["Slug",s.jsx(Mh,{children:s.jsxs(mg,{children:[s.jsx(pg,{asChild:!0,children:s.jsx(lc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Fh,{children:s.jsx("p",{className:"max-w-xs",children:"Unique identifier used in URLs and code. Must be lowercase with hyphens only."})})]})})]}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"e.g., free, pro, business",...l})}),s.jsx(qa,{children:"Lowercase letters, numbers, and hyphens only"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"description",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Description"}),s.jsx(dr,{children:s.jsx(ja,{placeholder:"Brief description of the plan",...l,value:l.value||""})}),s.jsx(Lr,{})]})})]}),s.jsx(Dh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:i.control,name:"monthly_price",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Monthly Price ()"}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",placeholder:"0",...l})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"yearly_price",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Yearly Price ()"}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",placeholder:"0",...l,value:l.value||""})}),s.jsx(Lr,{})]})})]})]}),s.jsx(Dh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Limits & Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:i.control,name:"max_products",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Max Products"}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(qa,{children:"Empty = Unlimited"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"trial_days",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Trial Days"}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",...l})}),s.jsx(Lr,{})]})})]}),s.jsx(xr,{control:i.control,name:"display_order",render:({field:l})=>s.jsxs(ur,{children:[s.jsxs(vr,{className:"flex items-center gap-2",children:["Display Order",s.jsx(Mh,{children:s.jsxs(mg,{children:[s.jsx(pg,{asChild:!0,children:s.jsx(lc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Fh,{children:s.jsx("p",{className:"max-w-xs",children:"Controls the order in which plans appear on the pricing page. Lower numbers (0, 1, 2...) appear first."})})]})})]}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",...l})}),s.jsx(qa,{children:"Lower numbers appear first"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"enable_whatsapp_orders",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"WhatsApp Orders Limit"}),s.jsx(qa,{children:"Set a monthly limit for WhatsApp orders"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_whatsapp_orders")&&s.jsx(xr,{control:i.control,name:"whatsapp_orders_limit",render:({field:l})=>s.jsxs(ur,{children:[s.jsxs(vr,{className:"flex items-center gap-2",children:["WhatsApp Orders per Month",s.jsx(Mh,{children:s.jsxs(mg,{children:[s.jsx(pg,{asChild:!0,children:s.jsx(lc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Fh,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via WhatsApp per billing period."})})]})})]}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(qa,{children:"Empty = Unlimited"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"enable_website_orders",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Website Orders Limit"}),s.jsx(qa,{children:"Set a monthly limit for website orders"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_website_orders")&&s.jsx(xr,{control:i.control,name:"website_orders_limit",render:({field:l})=>s.jsxs(ur,{children:[s.jsxs(vr,{className:"flex items-center gap-2",children:["Website Orders per Month",s.jsx(Mh,{children:s.jsxs(mg,{children:[s.jsx(pg,{asChild:!0,children:s.jsx(lc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(Fh,{children:s.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via website per billing period."})})]})})]}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),s.jsx(qa,{children:"Empty = Unlimited"}),s.jsx(Lr,{})]})})]}),s.jsx(Dh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Features"}),s.jsx(xr,{control:i.control,name:"enable_location_sharing",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Location Sharing"}),s.jsx(qa,{children:"Allow users to share delivery locations"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(xr,{control:i.control,name:"enable_analytics",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Analytics"}),s.jsx(qa,{children:"Access to analytics dashboard and reports"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(xr,{control:i.control,name:"enable_custom_domain",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Custom Domain"}),s.jsx(qa,{children:"Allow store owners to connect their own domain"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(xr,{control:i.control,name:"enable_order_emails",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Order Email Notifications"}),s.jsx(qa,{children:"Send email notifications to store owners when new orders arrive"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(xr,{control:i.control,name:"enable_ai_voice",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"AI Voice Assistant"}),s.jsx(qa,{children:"Allow store owners to add ElevenLabs AI voice embed code"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsx(Dh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Google Reviews API Quota"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:i.control,name:"google_reviews_calls_limit",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"API Calls Limit"}),s.jsx(dr,{children:s.jsx(Ve,{type:"number",placeholder:"15",...l})}),s.jsx(qa,{children:"Number of API calls allowed per period"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"google_reviews_period",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Period"}),s.jsx(dr,{children:s.jsxs("select",{className:"w-full h-10 px-3 rounded-md border border-input bg-background",...l,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"yearly",children:"Yearly"})]})}),s.jsx(qa,{children:"Quota reset period"}),s.jsx(Lr,{})]})})]})]}),s.jsx(Dh,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Badge & Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:i.control,name:"badge_text",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Badge Text"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"e.g., Most Popular",...l,value:l.value||""})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:i.control,name:"badge_color",render:({field:l})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Badge Color"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"e.g., blue, green",...l,value:l.value||""})}),s.jsx(Lr,{})]})})]}),s.jsx(xr,{control:i.control,name:"is_popular",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Mark as Popular"}),s.jsx(qa,{children:"Highlight this plan with a special border"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})}),s.jsx(xr,{control:i.control,name:"is_active",render:({field:l})=>s.jsxs(ur,{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vr,{className:"text-base",children:"Active"}),s.jsx(qa,{children:"Make this plan available to users"})]}),s.jsx(dr,{children:s.jsx(Wr,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ae,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":a==="add"?"Create Plan":"Update Plan"})]})]})})]})})},mit=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState("add"),[d,f]=_.useState(null),[m,p]=_.useState(!1),[y,g]=_.useState(null),[v,w]=_.useState(0),[b,j]=_.useState(!1);_.useEffect(()=>{(async()=>{const{data:{user:D}}=await Z.auth.getUser();if(!D&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(D){const{data:F}=await Z.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!F||F.length===0){e("/superadmin/login");return}}E()})()},[e]);const E=async()=>{try{const{data:P,error:D}=await Z.from("subscription_plans").select("*").order("display_order");if(D)throw D;n(P||[])}catch{t({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{i(!1)}},S=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),C=()=>{u("add"),f(null),l(!0)},k=P=>{u("edit");const D={...P,enable_whatsapp_orders:P.whatsapp_orders_limit!==null,enable_website_orders:P.website_orders_limit!==null};f(D),l(!0)},R=async P=>{g(P),j(!0),p(!0);try{const{count:D,error:F}=await Z.from("subscriptions").select("*",{count:"exact",head:!0}).eq("plan_id",P).in("status",["active","trial"]);if(F)throw F;w(D||0)}catch(D){console.error("Error checking active subscribers:",D),w(0)}finally{j(!1)}},O=async()=>{if(y){if(v>0){t({title:"Cannot Delete Plan",description:`This plan has ${v} active subscriber${v>1?"s":""}. Please deactivate the plan instead or migrate users to another plan first.`,variant:"destructive"}),p(!1),g(null);return}try{const{error:P}=await Z.from("subscription_plans").delete().eq("id",y);if(P)throw P;n(r.filter(D=>D.id!==y)),t({title:"Success",description:"Plan deleted successfully"})}catch{t({title:"Error",description:"Failed to delete plan",variant:"destructive"}),E()}finally{p(!1),g(null),w(0)}}},A=async P=>{try{const D={...P,whatsapp_orders_limit:P.enable_whatsapp_orders?P.whatsapp_orders_limit||0:null,website_orders_limit:P.enable_website_orders?P.website_orders_limit||0:null};if(delete D.enable_whatsapp_orders,delete D.enable_website_orders,c==="add"){const{data:F,error:L}=await Z.from("subscription_plans").insert([D]).select().single();if(L)throw L;n([...r,F]),t({title:"Success",description:"Plan created successfully"})}else if(d){const{data:F,error:L}=await Z.from("subscription_plans").update(D).eq("id",d.id).select().single();if(L)throw L;n(r.map(H=>H.id===d.id?F:H)),t({title:"Success",description:"Plan updated successfully"})}l(!1)}catch{t({title:"Error",description:`Failed to ${c} plan`,variant:"destructive"}),E()}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Plans"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscription plans and pricing"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ae,{onClick:C,children:[s.jsx(Gi,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading plans..."}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(P=>s.jsxs(ke,{className:P.is_popular?"border-primary":"",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:P.name}),s.jsx(Cr,{className:"mt-2",children:P.description})]}),P.is_popular&&s.jsx(wt,{variant:"default",children:"Popular"})]}),P.badge_text&&s.jsx(wt,{variant:"outline",className:"w-fit",children:P.badge_text})]}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold",children:S(P.monthly_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"}),P.yearly_price&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[S(P.yearly_price),"/year"]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:["Max Products: ",P.max_products===0||P.max_products===null?"Unlimited":P.max_products]}),s.jsxs("p",{children:["WhatsApp Orders: ",P.whatsapp_orders_limit===0||P.whatsapp_orders_limit===null?"Unlimited":P.whatsapp_orders_limit]}),s.jsxs("p",{children:["Website Orders: ",P.website_orders_limit===0||P.website_orders_limit===null?"Unlimited":P.website_orders_limit]}),s.jsxs("p",{children:["Status: ",P.is_active?"Active":"Inactive"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[P.enable_location_sharing&&s.jsx(wt,{variant:"secondary",children:"Location"}),P.enable_analytics&&s.jsx(wt,{variant:"secondary",children:"Analytics"}),P.enable_custom_domain&&s.jsx(wt,{variant:"secondary",children:"Custom Domain"}),P.enable_ai_voice&&s.jsx(wt,{variant:"secondary",children:"AI Voice"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(ae,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>k(P),children:[s.jsx(Wu,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>R(P.id),children:s.jsx(Mn,{className:"h-4 w-4"})})]})]})})]},P.id))})}),s.jsx(hit,{open:o,onOpenChange:l,onSubmit:A,mode:c,defaultValues:d||void 0}),s.jsx(g0,{open:m,onOpenChange:p,children:s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Em,{children:b?"Checking Active Subscribers...":"Delete Subscription Plan"}),s.jsx(Tm,{className:"space-y-3",children:b?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{children:"Checking for active subscribers..."})]}):s.jsx(s.Fragment,{children:v>0?s.jsxs("div",{className:"rounded-lg border-2 border-destructive bg-destructive/10 p-4",children:[s.jsx("p",{className:"font-semibold text-destructive",children:" Cannot Delete This Plan"}),s.jsxs("p",{className:"mt-2 text-sm",children:["This plan currently has"," ",s.jsx("span",{className:"font-bold",children:v})," ","active subscriber",v>1?"s":"","."]}),s.jsxs("p",{className:"mt-2 text-sm",children:[s.jsx("strong",{children:"Recommended:"}),' Use the "Active" toggle to deactivate this plan instead. This will hide it from new users while keeping existing subscriptions working.']})]}):s.jsxs("div",{className:"rounded-lg border border-green-500 bg-green-50 p-4 dark:bg-green-950",children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Safe to Delete"}),s.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["This plan has ",s.jsx("span",{className:"font-bold",children:"0 active subscribers"}),"."]}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this subscription plan? This action cannot be undone."})]})})})]}),s.jsxs(Cm,{children:[s.jsx(Pm,{children:"Cancel"}),s.jsx(Am,{onClick:O,disabled:b||v>0,className:v>0?"bg-gray-400 hover:bg-gray-400":"bg-destructive hover:bg-destructive/90",children:v>0?"Cannot Delete":"Delete Plan"})]})]})})]})},pit=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState([]),[a,i]=_.useState(!0);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:m}}=await Z.auth.getUser();if(!m){e("/superadmin/login");return}const{data:p}=await Z.from("user_roles").select("role").eq("user_id",m.id).eq("role","super_admin");if(!p||p.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:d,error:f}=await Z.from("transactions").select("*").order("created_at",{ascending:!1});if(f)throw f;const m=[...new Set(d?.map(g=>g.user_id)||[])],{data:p}=await Z.from("profiles").select("user_id, email, full_name").in("user_id",m),y=d?.map(g=>({...g,profiles:p?.find(v=>v.user_id===g.user_id)||{email:"",full_name:""}}))||[];n(y)}catch{t({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{i(!1)}},l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),c=d=>new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{const f={completed:"default",pending:"secondary",failed:"destructive"};return s.jsx(wt,{variant:f[d]||"secondary",children:d})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View all payment transactions"})]})]}),s.jsx(ti,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading transactions..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Invoice"}),s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Gateway"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Date"})]})}),s.jsx(oa,{children:r.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground",children:"No transactions found"})}):r.map(d=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:d.invoice_number||"N/A"}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.profiles?.email})]})}),s.jsx(Xe,{children:l(d.total_amount)}),s.jsx(Xe,{children:d.payment_gateway}),s.jsx(Xe,{children:u(d.status)}),s.jsx(Xe,{children:c(d.created_at)})]},d.id))})]})})})]})};function git(){const e=wr(),[t,r]=_.useState(!0),[n,a]=_.useState({totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState(""),[p,y]=_.useState("all"),[g,v]=_.useState("30"),[w,b]=_.useState(!1);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){j();return}const{data:{user:D}}=await Z.auth.getUser();if(!D){Fe({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:F}=await Z.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!F||F.length===0){Fe({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}j()})()},[e]);const j=async()=>{try{r(!0);const{data:A,error:P}=await Z.from("subscriptions").select(`
          id,
          user_id,
          plan_id,
          status,
          billing_cycle,
          created_at,
          current_period_end,
          trial_ends_at,
          subscription_plans (
            name,
            monthly_price,
            yearly_price
          )
        `).order("created_at",{ascending:!1});if(P)throw P;const D=[...new Set(A?.map(Q=>Q.user_id)||[])],{data:F}=await Z.from("profiles").select("user_id, email, full_name").in("user_id",D),L=A?.map(Q=>({...Q,profiles:F?.find(V=>V.user_id===Q.user_id)||{email:"",full_name:null}}))||[];o(L);const H=L.filter(Q=>Q.status==="pending_payment");d(H);const{data:W,error:G}=await Z.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(G)throw G;const K=[...new Set(W?.map(Q=>Q.user_id)||[])],{data:I}=await Z.from("profiles").select("user_id, email, full_name").in("user_id",K),B=W?.map(Q=>({...Q,profiles:I?.find(V=>V.user_id===Q.user_id)||{email:"",full_name:null}}))||[];c(B);const Y=new Date,z=new Date(Y.getTime()-720*60*60*1e3),J=new Date(Y.getTime()-1440*60*60*1e3),X=B.filter(Q=>Q.status==="success"||Q.status==="completed").reduce((Q,V)=>Q+(V.total_amount||0),0),ee=B.filter(Q=>(Q.status==="success"||Q.status==="completed")&&new Date(Q.created_at)>=z).reduce((Q,V)=>Q+(V.total_amount||0),0),he=B.filter(Q=>(Q.status==="success"||Q.status==="completed")&&new Date(Q.created_at)>=J&&new Date(Q.created_at)<z).reduce((Q,V)=>Q+(V.total_amount||0),0),fe=he>0?(ee-he)/he*100:0,ge=L.filter(Q=>Q.status==="active").length,U=H.length,ne=B.filter(Q=>Q.status==="failed").length;a({totalRevenue:X,monthlyRevenue:ee,revenueGrowth:fe,activeSubscriptions:ge,pendingPayments:U,failedPayments:ne})}catch(A){Fe({title:"Error",description:A.message,variant:"destructive"})}finally{r(!1)}},E=async()=>{try{b(!0);const A=new Date(Date.now()-1440*60*1e3),{error:P}=await Z.from("subscriptions").delete().eq("status","pending_payment").lt("created_at",A.toISOString());if(P)throw P;Fe({title:"Success",description:"Old pending payments cleaned up successfully"}),j()}catch(A){Fe({title:"Error",description:A.message,variant:"destructive"})}finally{b(!1)}},S=async()=>{try{const A=await Qm(()=>Promise.resolve().then(()=>Nie),void 0),P=C.map(L=>({Invoice:L.invoice_number||"N/A","User Email":L.profiles?.email||"N/A","User Name":L.profiles?.full_name||"N/A",Amount:`${L.total_amount}`,Gateway:L.payment_gateway,Method:L.payment_method||"N/A",Status:L.status,Date:new Date(L.created_at).toLocaleString()})),D=A.utils.json_to_sheet(P),F=A.utils.book_new();A.utils.book_append_sheet(F,D,"Transactions"),A.writeFile(F,`transactions_${new Date().toISOString().split("T")[0]}.xlsx`),Fe({title:"Success",description:`Exported ${P.length} transactions`})}catch(A){Fe({title:"Error",description:A.message,variant:"destructive"})}},C=l.filter(A=>{const P=A.profiles?.email?.toLowerCase().includes(f.toLowerCase())||A.invoice_number?.toLowerCase().includes(f.toLowerCase()),D=p==="all"||A.status===p,F=parseInt(g),L=new Date(Date.now()-F*24*60*60*1e3),H=new Date(A.created_at)>=L;return P&&D&&H}),k=i.filter(A=>{const P=A.profiles?.email?.toLowerCase().includes(f.toLowerCase())||A.subscription_plans?.name?.toLowerCase().includes(f.toLowerCase()),D=p==="all"||A.status===p;return P&&D}),R=A=>{const D={success:{variant:"default",icon:Ss,label:"Success"},completed:{variant:"default",icon:Ss,label:"Completed"},pending:{variant:"secondary",icon:ys,label:"Pending"},pending_payment:{variant:"outline",icon:ra,label:"Pending Payment"},failed:{variant:"destructive",icon:Gn,label:"Failed"},active:{variant:"default",icon:Ss,label:"Active"},trial:{variant:"secondary",icon:ys,label:"Trial"},expired:{variant:"destructive",icon:Gn,label:"Expired"},cancelled:{variant:"outline",icon:Gn,label:"Cancelled"}}[A]||{variant:"secondary",icon:ys,label:A},F=D.icon;return s.jsxs(wt,{variant:D.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(F,{className:"w-3 h-3"}),D.label]})},O=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(A);return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ki,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading billing data..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Revenue"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscriptions, transactions, and revenue"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ti,{}),s.jsxs(ae,{variant:"outline",onClick:j,children:[s.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(ke,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O(n.totalRevenue)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Monthly Revenue"}),s.jsx(Al,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O(n.monthlyRevenue)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.revenueGrowth>=0?"+":"",n.revenueGrowth.toFixed(1),"% from last month"]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:n.activeSubscriptions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Pending Payments"}),s.jsx(ra,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.pendingPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Failed Payments"}),s.jsx(Gn,{className:"h-4 w-4 text-destructive"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.failedPayments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unsuccessful transactions"})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Subscriptions"}),s.jsx(Dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscriptions"})]})]})]}),n.pendingPayments>0&&s.jsxs(ke,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ra,{className:"h-5 w-5 text-orange-500"}),s.jsxs(Qe,{className:"text-orange-700 dark:text-orange-300",children:[n.pendingPayments," Pending Payment",n.pendingPayments>1?"s":""]})]}),s.jsxs(ae,{variant:"destructive",size:"sm",onClick:E,disabled:w,children:[s.jsx(Mn,{className:"w-4 h-4 mr-2"}),w?"Cleaning...":"Clean Old (>24h)"]})]}),s.jsx(Cr,{className:"text-orange-600 dark:text-orange-400",children:"These subscriptions are awaiting payment. Old pending payments (>24 hours) are automatically cleaned up every hour."})]}),u.length>0&&s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2",children:[u.slice(0,5).map(A=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:A.profiles?.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.subscription_plans?.name," - ",O(A.billing_cycle==="yearly"&&A.subscription_plans?.yearly_price?A.subscription_plans.yearly_price:A.subscription_plans?.monthly_price||0)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(A.created_at),{addSuffix:!0})})})]},A.id)),u.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",u.length-5," more pending"]})]})})]}),s.jsxs(Qu,{defaultValue:"transactions",className:"w-full",children:[s.jsxs(nu,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsx(hn,{value:"transactions",children:"Transactions"}),s.jsx(hn,{value:"subscriptions",children:"Subscriptions"})]}),s.jsx(mn,{value:"transactions",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qe,{children:"Transaction History"}),s.jsx(Cr,{children:"View and manage all payment transactions"})]}),s.jsxs(ae,{variant:"outline",onClick:S,children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ve,{placeholder:"Search by email or invoice...",value:f,onChange:A=>m(A.target.value),className:"pl-10"})]}),s.jsxs(yr,{value:p,onValueChange:y,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"success",children:"Success"}),s.jsx(Ke,{value:"completed",children:"Completed"}),s.jsx(Ke,{value:"pending",children:"Pending"}),s.jsx(Ke,{value:"failed",children:"Failed"})]})]}),s.jsxs(yr,{value:g,onValueChange:v,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Date Range"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"7",children:"Last 7 days"}),s.jsx(Ke,{value:"30",children:"Last 30 days"}),s.jsx(Ke,{value:"90",children:"Last 90 days"}),s.jsx(Ke,{value:"365",children:"Last year"}),s.jsx(Ke,{value:"9999",children:"All time"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Invoice"}),s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Gateway"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Date"})]})}),s.jsx(oa,{children:C.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No transactions found"})}):C.map(A=>s.jsxs(Nr,{children:[s.jsx(Xe,{className:"font-medium",children:A.invoice_number||"N/A"}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:A.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.profiles?.email})]})}),s.jsx(Xe,{className:"font-medium",children:O(A.total_amount)}),s.jsx(Xe,{children:s.jsx(wt,{variant:"outline",children:A.payment_gateway})}),s.jsx(Xe,{children:R(A.status)}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{children:new Date(A.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(A.created_at),{addSuffix:!0})})]})})]},A.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",C.length," of ",l.length," transactions"]})]})]})}),s.jsx(mn,{value:"subscriptions",className:"space-y-4",children:s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Qe,{children:"All Subscriptions"}),s.jsx(Cr,{children:"Manage all user subscriptions"})]})})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ve,{placeholder:"Search by email or plan...",value:f,onChange:A=>m(A.target.value),className:"pl-10"})]}),s.jsxs(yr,{value:p,onValueChange:y,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"active",children:"Active"}),s.jsx(Ke,{value:"trial",children:"Trial"}),s.jsx(Ke,{value:"pending_payment",children:"Pending Payment"}),s.jsx(Ke,{value:"expired",children:"Expired"}),s.jsx(Ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"User"}),s.jsx(tt,{children:"Plan"}),s.jsx(tt,{children:"Amount"}),s.jsx(tt,{children:"Billing Cycle"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Period End"})]})}),s.jsx(oa,{children:k.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No subscriptions found"})}):k.map(A=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:A.profiles?.full_name||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.profiles?.email})]})}),s.jsx(Xe,{children:s.jsx(wt,{variant:"outline",children:A.subscription_plans?.name})}),s.jsx(Xe,{className:"font-medium",children:O(A.billing_cycle==="yearly"&&A.subscription_plans?.yearly_price?A.subscription_plans.yearly_price:A.subscription_plans?.monthly_price||0)}),s.jsx(Xe,{children:s.jsx(wt,{variant:"secondary",children:A.billing_cycle})}),s.jsx(Xe,{children:R(A.status)}),s.jsx(Xe,{children:A.current_period_end?s.jsxs("div",{children:[s.jsx("p",{children:new Date(A.current_period_end).toLocaleDateString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Xg(new Date(A.current_period_end),{addSuffix:!0})})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},A.id))})]})}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",k.length," of ",i.length," subscriptions"]})]})]})})]})]})]})}const xit=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState([]),[a,i]=_.useState(!0);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:u}}=await Z.auth.getUser();if(!u){e("/superadmin/login");return}const{data:d}=await Z.from("user_roles").select("role").eq("user_id",u.id).eq("role","super_admin");if(!d||d.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:l,error:c}=await Z.from("stores").select("id, name, slug, custom_domain, user_id").not("custom_domain","is",null).order("name");if(c)throw c;const u=[...new Set(l?.map(m=>m.user_id)||[])],{data:d}=await Z.from("profiles").select("user_id, email, full_name").in("user_id",u),f=l?.map(m=>({id:m.id,name:m.name,slug:m.slug,custom_domain:m.custom_domain,profiles:d?.find(p=>p.user_id===m.user_id)||{email:"",full_name:""}}))||[];n(f)}catch{t({title:"Error",description:"Failed to load custom domains",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Custom Domains"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage custom domains for stores"})]})]}),s.jsx(ti,{})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"text-center py-12",children:"Loading domains..."}):s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Store"}),s.jsx(tt,{children:"Owner"}),s.jsx(tt,{children:"Domain"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Actions"})]})}),s.jsx(oa,{children:r.length===0?s.jsx(Nr,{children:s.jsx(Xe,{colSpan:5,className:"text-center text-muted-foreground",children:"No custom domains found"})}):r.map(l=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.slug})]})}),s.jsx(Xe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.profiles?.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.profiles?.email})]})}),s.jsx(Xe,{children:s.jsxs("a",{href:`https://${l.custom_domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.custom_domain,s.jsx(ya,{className:"h-3 w-3"})]})}),s.jsx(Xe,{children:s.jsx(wt,{variant:"default",children:"Active"})}),s.jsx(Xe,{children:s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>t({title:"Coming soon",description:"Domain management features"}),children:"Manage"})})]},l.id))})]})})})]})},sJ="00000000-0000-0000-0000-000000000000",vit=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState({sender_email:"",sender_name:"",platform_name:"",auto_cleanup_orders:!1,orders_cleanup_months:6,auto_cleanup_active_logs:!1,active_logs_cleanup_months:6,auto_cleanup_inactive_logs:!1,inactive_logs_cleanup_months:6,razorpay_key_id:"",razorpay_key_secret:"",razorpay_test_mode:!1}),[a,i]=_.useState(!1),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState([]),[m,p]=_.useState(""),[y,g]=_.useState(""),[v,w]=_.useState(""),[b,j]=_.useState(""),[E,S]=_.useState(!1),[C,k]=_.useState(!1);_.useEffect(()=>{const P=async()=>{if(sessionStorage.getItem("superadmin_session")){await Promise.all([D(),F()]);return}const{data:{user:H}}=await Z.auth.getUser();if(!H){e("/superadmin/login");return}const{data:W}=await Z.from("user_roles").select("role").eq("user_id",H.id).eq("role","super_admin");!W||W.length===0?e("/superadmin/login"):await Promise.all([D(),F()])},D=async()=>{const{data:L}=await Z.from("subscription_plans").select("*").eq("is_active",!0).order("display_order");if(L){f(L);const H=L.find(W=>W.is_default_plan);H&&p(H.id)}},F=async()=>{try{const{data:L,error:H}=await Z.from("platform_settings").select("*").eq("id",sJ).single();if(H)throw H;L&&n({sender_email:L.sender_email||"",sender_name:L.sender_name||"",platform_name:L.platform_name||"",auto_cleanup_orders:L.auto_cleanup_orders||!1,orders_cleanup_months:L.orders_cleanup_months||6,auto_cleanup_active_logs:L.auto_cleanup_active_logs||!1,active_logs_cleanup_months:L.active_logs_cleanup_months||6,auto_cleanup_inactive_logs:L.auto_cleanup_inactive_logs||!1,inactive_logs_cleanup_months:L.inactive_logs_cleanup_months||6,razorpay_key_id:L.razorpay_key_id||"",razorpay_key_secret:L.razorpay_key_secret||"",razorpay_test_mode:L.razorpay_test_mode||!1})}catch(L){console.error("Error loading settings:",L),t({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{l(!1)}};P()},[e,t]);const R=async()=>{i(!0);try{const{error:P}=await Z.from("platform_settings").update({sender_email:r.sender_email,sender_name:r.sender_name,platform_name:r.platform_name,auto_cleanup_orders:r.auto_cleanup_orders,orders_cleanup_months:r.orders_cleanup_months,auto_cleanup_active_logs:r.auto_cleanup_active_logs,active_logs_cleanup_months:r.active_logs_cleanup_months,auto_cleanup_inactive_logs:r.auto_cleanup_inactive_logs,inactive_logs_cleanup_months:r.inactive_logs_cleanup_months,razorpay_key_id:r.razorpay_key_id,razorpay_key_secret:r.razorpay_key_secret,razorpay_test_mode:r.razorpay_test_mode}).eq("id",sJ);if(P)throw P;m&&(await Z.from("subscription_plans").update({is_default_plan:!1}).neq("id",m),await Z.from("subscription_plans").update({is_default_plan:!0}).eq("id",m)),t({title:"Settings saved",description:"Platform settings have been updated successfully."})}catch(P){console.error("Save error:",P),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{i(!1)}},O=async P=>{u(!0);try{const D={ordersMonths:9999,activeLogsMonths:9999,inactiveLogsMonths:9999,cleanupOrders:P==="all"||P==="orders",cleanupActiveLogs:P==="all"||P==="activeLogs",cleanupInactiveLogs:P==="all"||P==="inactiveLogs"},{data:F,error:L}=await Z.functions.invoke("cleanup-old-orders",{body:D});if(L)throw L;const H=[];F.results.orders?.deleted&&H.push(`${F.results.orders.deleted} orders`),F.results.activeLogs?.deleted&&H.push(`${F.results.activeLogs.deleted} active logs`),F.results.inactiveLogs?.deleted&&H.push(`${F.results.inactiveLogs.deleted} inactive logs`),t({title:"Cleanup completed",description:`Successfully deleted: ${H.join(", ")}`})}catch(D){t({title:"Cleanup failed",description:D.message||"Failed to cleanup data.",variant:"destructive"})}finally{u(!1)}},A=async()=>{if(!y||!v||!b){t({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(v!==b){t({title:"Validation Error",description:"New password and confirm password do not match",variant:"destructive"});return}if(v.length<8){t({title:"Validation Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}S(!0);try{const{data:{user:P}}=await Z.auth.getUser();if(!P?.email)throw new Error("User not authenticated");const{error:D}=await Z.auth.signInWithPassword({email:P.email,password:y});if(D)throw new Error("Current password is incorrect");const{error:F}=await Z.auth.updateUser({password:v});if(F)throw F;g(""),w(""),j(""),t({title:"Password Changed",description:"Your password has been updated successfully"})}catch(P){t({title:"Error",description:P.message||"Failed to change password",variant:"destructive"})}finally{S(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-wide settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ae,{onClick:R,disabled:a,children:[s.jsx(vc,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Email Settings"}),s.jsx(Cr,{children:"Configure the sender information for emails sent to users"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"senderEmail",children:"Sender Email"}),s.jsx(Ve,{id:"senderEmail",type:"email",placeholder:"onboarding@resend.dev",value:r.sender_email,onChange:P=>n({...r,sender_email:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This email will be used as the sender when sending emails to users"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"senderName",children:"Sender Name"}),s.jsx(Ve,{id:"senderName",type:"text",placeholder:"Super Admin",value:r.sender_name,onChange:P=>n({...r,sender_name:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'The name that will appear in the "From" field of emails'})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"General Settings"}),s.jsx(Cr,{children:"Configure general platform settings"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"platformName",children:"Platform Name"}),s.jsx(Ve,{id:"platformName",type:"text",placeholder:"Vendy Platform",value:r.platform_name,onChange:P=>n({...r,platform_name:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The name of your platform"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"defaultPlan",children:"Default Subscription Plan"}),s.jsxs(yr,{value:m,onValueChange:p,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Select default plan for new stores"})}),s.jsx(hr,{children:d.map(P=>s.jsxs(Ke,{value:P.id,children:[P.name," - ",P.monthly_price>0?`${P.monthly_price}/mo`:"Free"]},P.id))})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This plan will be automatically assigned to new store owners"})]})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Account Security"}),s.jsx(Cr,{children:"Change your super admin password"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(Ve,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:y,onChange:P=>g(P.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Ve,{id:"newPassword",type:"password",placeholder:"Enter new password (min 8 characters)",value:v,onChange:P=>w(P.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(Ve,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:b,onChange:P=>j(P.target.value)})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(ae,{onClick:A,disabled:E||!y||!v||!b,className:"w-full",children:[s.jsx(hg,{className:"mr-2 h-4 w-4"}),E?"Changing Password...":"Change Password"]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Razorpay Payment Gateway"}),s.jsx(Cr,{children:"Configure Razorpay API credentials for subscription payments"})]}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"razorpayKeyId",children:"Razorpay API Key ID"}),s.jsx(Ve,{id:"razorpayKeyId",type:"text",placeholder:"rzp_live_xxxxxxxxxxxxxx or rzp_test_xxxxxxxxxxxxxx",value:r.razorpay_key_id,onChange:P=>n({...r,razorpay_key_id:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key ID (starts with rzp_live_ for production or rzp_test_ for testing)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"razorpayKeySecret",children:"Razorpay API Key Secret"}),s.jsx(Ve,{id:"razorpayKeySecret",type:"password",placeholder:"Enter your Razorpay Key Secret",value:r.razorpay_key_secret,onChange:P=>n({...r,razorpay_key_secret:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key Secret (keep this secure and never share)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"razorpayTestMode",children:"Test Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable only if using test credentials (rzp_test_)"})]}),s.jsx(Wr,{id:"razorpayTestMode",checked:r.razorpay_test_mode,onCheckedChange:P=>n({...r,razorpay_test_mode:P})})]}),s.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-foreground",children:[s.jsx("strong",{children:" Production Credentials:"})," Use your LIVE Razorpay credentials (rzp_live_) to accept real payments. These credentials will process actual subscription payments from store owners. Keep them secure and ensure your Razorpay account is properly configured with bank details."]})})]})]}),s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Data Cleanup Management"}),s.jsx(Cr,{children:"Configure automatic cleanup settings and manually clean data"})]}),s.jsx(Te,{children:s.jsxs(Dj,{open:C,onOpenChange:k,children:[s.jsx(Ij,{asChild:!0,children:s.jsxs(ae,{variant:"outline",className:"w-full justify-between mb-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Mn,{className:"mr-2 h-4 w-4"}),C?"Hide Cleanup Settings":"Show Cleanup Settings"]}),C?s.jsx($J,{className:"h-4 w-4"}):s.jsx($u,{className:"h-4 w-4"})]})}),s.jsxs(Mj,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Orders Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"autoCleanupOrders",children:"Auto Cleanup Orders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old orders"})]}),s.jsx(Wr,{id:"autoCleanupOrders",checked:r.auto_cleanup_orders,onCheckedChange:P=>n({...r,auto_cleanup_orders:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"ordersCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Ve,{id:"ordersCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.orders_cleanup_months,onChange:P=>n({...r,orders_cleanup_months:parseInt(P.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete orders older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Active Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"autoCleanupActiveLogs",children:"Auto Cleanup Active Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old active store logs"})]}),s.jsx(Wr,{id:"autoCleanupActiveLogs",checked:r.auto_cleanup_active_logs,onCheckedChange:P=>n({...r,auto_cleanup_active_logs:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"activeLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Ve,{id:"activeLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.active_logs_cleanup_months,onChange:P=>n({...r,active_logs_cleanup_months:parseInt(P.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete active logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Inactive Logs Cleanup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ce,{htmlFor:"autoCleanupInactiveLogs",children:"Auto Cleanup Inactive Logs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old inactive store logs"})]}),s.jsx(Wr,{id:"autoCleanupInactiveLogs",checked:r.auto_cleanup_inactive_logs,onCheckedChange:P=>n({...r,auto_cleanup_inactive_logs:P})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"inactiveLogsCleanupMonths",children:"Cleanup Interval (Months)"}),s.jsx(Ve,{id:"inactiveLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.inactive_logs_cleanup_months,onChange:P=>n({...r,inactive_logs_cleanup_months:parseInt(P.target.value)||6})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete inactive logs older than this many months (1-24 months)"})]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Manual Cleanup Actions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a cleanup action to execute immediately"}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"destructive",className:"w-full",disabled:c,children:[s.jsx(Mn,{className:"mr-2 h-4 w-4"}),c?"Cleaning up...":"Select Cleanup Action",s.jsx($u,{className:"ml-2 h-4 w-4"})]})}),s.jsxs(lu,{className:"w-full",align:"center",children:[s.jsxs(Ln,{onClick:()=>O("orders"),disabled:c||!r.auto_cleanup_orders,className:"cursor-pointer",children:[s.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Cleanup Orders Only"]}),s.jsxs(Ln,{onClick:()=>O("activeLogs"),disabled:c||!r.auto_cleanup_active_logs,className:"cursor-pointer",children:[s.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Cleanup Active Logs Only"]}),s.jsxs(Ln,{onClick:()=>O("inactiveLogs"),disabled:c||!r.auto_cleanup_inactive_logs,className:"cursor-pointer",children:[s.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Cleanup Inactive Logs Only"]}),s.jsxs(Ln,{onClick:()=>O("all"),disabled:c||!r.auto_cleanup_orders||!r.auto_cleanup_active_logs||!r.auto_cleanup_inactive_logs,className:"cursor-pointer text-destructive",children:[s.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Cleanup All Data"]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable the corresponding auto-cleanup toggle above to activate each cleanup action"})]})]})]})})]})]})})]})},yit="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google",bit="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/index-urls-to-google";function wit(){const[e,t]=_.useState(!1),[r,n]=_.useState([]),[a,i]=_.useState(!1),[o,l]=_.useState([]),{toast:c}=cs(),u=async()=>{try{t(!0),n([]),c({title:"Submitting sitemaps...",description:"This may take a few minutes for all stores."});const{data:{session:f}}=await Z.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(yit,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)n(p.results),c({title:"Sitemaps submitted!",description:`Successfully processed ${p.processed} stores.`});else throw new Error(p.error||"Failed to submit sitemaps")}catch(f){console.error("Error submitting sitemaps:",f),c({title:"Error",description:f.message||"Failed to submit sitemaps",variant:"destructive"})}finally{t(!1)}},d=async()=>{try{i(!0),l([]),c({title:"Indexing URLs...",description:"Submitting URLs to Google for immediate indexing. This may take a few minutes."});const{data:{session:f}}=await Z.auth.getSession();if(!f)throw new Error("Not authenticated. Please login again.");const p=await(await fetch(bit,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`},body:JSON.stringify({})})).json();if(p.success)l(p.results),c({title:"URLs indexed!",description:`Successfully: ${p.successful} | Failed: ${p.failed} | Total: ${p.processed}`});else throw new Error(p.error||"Failed to index URLs")}catch(f){console.error("Error indexing URLs:",f),c({title:"Error",description:f.message||"Failed to index URLs",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Google Search Console Sitemap Manager"}),s.jsx(Cr,{children:"Automatically submit sitemaps for all stores to Google Search Console"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool will automatically submit sitemaps for all stores with subdomains or custom domains to Google Search Console. New stores will automatically get their sitemaps submitted."}),s.jsx(ae,{onClick:u,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Sitemaps..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Submit All Sitemaps to Google"]})})]}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Submission Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:f.domain}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:f.sitemapUrl}),f.message&&s.jsx("p",{className:"text-xs mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(Ss,{className:"h-5 w-5 text-green-500"}):s.jsx(Gn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Automatically submits sitemaps when new stores are created"}),s.jsx("li",{children:"Automatically re-submits when subdomain or custom domain changes"}),s.jsx("li",{children:"Uses Google Search Console API for instant submission"}),s.jsx("li",{children:"No manual work needed for each store"}),s.jsx("li",{children:"Tracks submission status in database"})]})]}),s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Create Google Cloud Project"}),s.jsx("li",{children:"Enable Google Search Console API"}),s.jsx("li",{children:"Create Service Account and download JSON key"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase environment variables:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]})]})]}),s.jsxs(ke,{className:"mt-6",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Google Indexing API - Immediate URL Indexing"}),s.jsx(Cr,{children:"Submit URLs for immediate indexing in Google Search (faster than sitemap submission)"})]}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool uses the Google Web Search Indexing API to request immediate indexing of store homepages only. Unlike sitemaps which can take days or weeks, this API can get your pages indexed within hours."}),s.jsx(ae,{onClick:d,disabled:a,className:"w-full",variant:"default",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Indexing URLs..."]}):s.jsxs(s.Fragment,{children:[s.jsx(aM,{className:"mr-2 h-4 w-4"}),"Index All URLs to Google"]})})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Indexing Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:o.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:f.url}),f.message&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.message}),f.error&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:f.error})]}),s.jsx("div",{className:"ml-4",children:f.success?s.jsx(Ss,{className:"h-5 w-5 text-green-500"}):s.jsx(Gn,{className:"h-5 w-5 text-destructive"})})]},m))})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Submits URLs directly to Google for immediate indexing"}),s.jsx("li",{children:"Much faster than sitemap submission (hours vs days/weeks)"}),s.jsx("li",{children:"Indexes only store homepages (not product pages)"}),s.jsx("li",{children:"Processes up to 20 stores at a time to avoid rate limits"}),s.jsx("li",{children:"Rate limited to prevent API quota issues"})]})]}),s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Setup Required:"}),s.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside mt-2",children:[s.jsx("li",{children:"Enable Google Web Search Indexing API in Google Cloud"}),s.jsx("li",{children:"Create Service Account for indexing"}),s.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),s.jsxs("li",{children:["Add credentials to Supabase secrets:",s.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_EMAIL"})}),s.jsx("li",{children:s.jsx("code",{className:"text-xs",children:"INDEXING_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-amber-800",children:"Important Notes:"}),s.jsxs("ul",{className:"text-sm text-amber-700 space-y-1 list-disc list-inside mt-2",children:[s.jsx("li",{children:"This is for immediate indexing of important updates"}),s.jsx("li",{children:"Google has daily quotas - use wisely for critical pages"}),s.jsx("li",{children:"Sitemap submission is still important for comprehensive crawling"}),s.jsx("li",{children:"Don't spam this - Google may penalize excessive usage"})]})]})]})]})]})}const _it=[{value:"Truck",label:"Truck (Shipping)",icon:fc},{value:"BarChart3",label:"Chart (Analytics)",icon:hw},{value:"MessageSquare",label:"Chat (Live Chat)",icon:t2},{value:"Mail",label:"Mail (Email)",icon:xc},{value:"Target",label:"Target (Ads)",icon:r2},{value:"Package",label:"Package (Default)",icon:Bn}],jit=e=>({Truck:fc,BarChart3:hw,MessageSquare:t2,Mail:xc,Target:r2,Package:Bn})[e]||Bn,Nit=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState("add"),[d,f]=_.useState(null),[m,p]=_.useState(!1),[y,g]=_.useState(null),[v,w]=_.useState(!1),[b,j]=_.useState({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:0,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"});_.useEffect(()=>{(async()=>{const{data:{user:P}}=await Z.auth.getUser();if(!P&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(P){const{data:D}=await Z.from("user_roles").select("role").eq("user_id",P.id).eq("role","super_admin");if(!D||D.length===0){e("/superadmin/login");return}}E()})()},[e]);const E=async()=>{try{const{data:A,error:P}=await Z.from("marketplace_features").select("*").order("menu_order");if(P)throw P;n(A||[])}catch{t({title:"Error",description:"Failed to load marketplace features",variant:"destructive"})}finally{i(!1)}},S=()=>{u("add"),f(null),j({name:"",slug:"",description:"",icon:"Package",is_free:!0,price:0,is_active:!0,menu_order:r.length+1,pricing_model:"onetime",price_onetime:0,price_monthly:0,price_yearly:0,quota_onetime:15,quota_monthly:30,quota_yearly:50,quota_period:"monthly"}),l(!0)},C=A=>{u("edit"),f(A),j({name:A.name,slug:A.slug,description:A.description||"",icon:A.icon,is_free:A.is_free,price:A.price,is_active:A.is_active,menu_order:A.menu_order,pricing_model:A.pricing_model||"onetime",price_onetime:A.price_onetime||0,price_monthly:A.price_monthly||0,price_yearly:A.price_yearly||0,quota_onetime:A.quota_onetime||15,quota_monthly:A.quota_monthly||30,quota_yearly:A.quota_yearly||50,quota_period:A.quota_period||"monthly"}),l(!0)},k=async()=>{if(!b.name||!b.slug){t({title:"Error",description:"Name and slug are required",variant:"destructive"});return}w(!0);try{if(c==="add"){const{error:A}=await Z.from("marketplace_features").insert({name:b.name,slug:b.slug.toLowerCase().replace(/\s+/g,"-"),description:b.description,icon:b.icon,is_free:b.is_free,price:b.is_free?0:b.price,is_active:b.is_active,menu_order:b.menu_order,pricing_model:b.pricing_model,price_onetime:b.price_onetime,price_monthly:b.price_monthly,price_yearly:b.price_yearly,quota_onetime:b.quota_onetime,quota_monthly:b.quota_monthly,quota_yearly:b.quota_yearly,quota_period:b.quota_period});if(A)throw A;t({title:"Success",description:"Feature added to marketplace"})}else{const{error:A}=await Z.from("marketplace_features").update({name:b.name,slug:b.slug.toLowerCase().replace(/\s+/g,"-"),description:b.description,icon:b.icon,is_free:b.is_free,price:b.is_free?0:b.price,is_active:b.is_active,menu_order:b.menu_order,pricing_model:b.pricing_model,price_onetime:b.price_onetime,price_monthly:b.price_monthly,price_yearly:b.price_yearly,quota_onetime:b.quota_onetime,quota_monthly:b.quota_monthly,quota_yearly:b.quota_yearly,quota_period:b.quota_period}).eq("id",d?.id);if(A)throw A;t({title:"Success",description:"Feature updated successfully"})}l(!1),E()}catch(A){t({title:"Error",description:A.message||"Failed to save feature",variant:"destructive"})}finally{w(!1)}},R=async()=>{if(y)try{const{error:A}=await Z.from("marketplace_features").delete().eq("id",y);if(A)throw A;t({title:"Success",description:"Feature deleted from marketplace"}),p(!1),g(null),E()}catch(A){t({title:"Error",description:A.message||"Failed to delete feature",variant:"destructive"})}},O=A=>A.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin"),children:s.jsx(ei,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"Marketplace Features"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage features available to store owners"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ti,{}),s.jsxs(ae,{onClick:S,children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?s.jsx(ke,{children:s.jsxs(Te,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Bn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first marketplace feature"}),s.jsxs(ae,{onClick:S,children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>{const P=jit(A.icon);return s.jsxs(ke,{className:A.is_active?"":"opacity-60",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(P,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(Qe,{className:"text-lg",children:A.name}),s.jsx("code",{className:"text-xs text-muted-foreground",children:A.slug})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>C(A),children:s.jsx(Wu,{className:"h-4 w-4"})}),s.jsx(ae,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{g(A.id),p(!0)},children:s.jsx(Mn,{className:"h-4 w-4"})})]})]})}),s.jsxs(Te,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:A.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[A.is_free?s.jsx(wt,{variant:"secondary",children:"Free"}):s.jsxs(wt,{variant:"default",children:["",A.price]}),A.is_active?s.jsx(wt,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"}):s.jsx(wt,{variant:"outline",className:"text-red-600 border-red-600",children:"Inactive"})]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Order: ",A.menu_order]})]})]})]},A.id)})})}),s.jsx(Sn,{open:o,onOpenChange:l,children:s.jsxs(yn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:c==="add"?"Add Feature":"Edit Feature"}),s.jsx(ps,{children:c==="add"?"Add a new feature to the marketplace":"Update feature details"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"name",children:"Feature Name"}),s.jsx(Ve,{id:"name",value:b.name,onChange:A=>{j({...b,name:A.target.value,slug:c==="add"?O(A.target.value):b.slug})},placeholder:"e.g., Shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"slug",children:"Slug (URL identifier)"}),s.jsx(Ve,{id:"slug",value:b.slug,onChange:A=>j({...b,slug:A.target.value}),placeholder:"e.g., shipping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"description",children:"Description"}),s.jsx(ja,{id:"description",value:b.description,onChange:A=>j({...b,description:A.target.value}),placeholder:"Describe what this feature does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"icon",children:"Icon"}),s.jsxs(yr,{value:b.icon,onValueChange:A=>j({...b,icon:A}),children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Select an icon"})}),s.jsx(hr,{children:_it.map(A=>{const P=A.icon;return s.jsx(Ke,{value:A.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{className:"h-4 w-4"}),A.label]})},A.value)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:"is_free",children:"Free Feature"}),s.jsx(Wr,{id:"is_free",checked:b.is_free,onCheckedChange:A=>j({...b,is_free:A})})]}),!b.is_free&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price",children:"Price ()"}),s.jsx(Ve,{id:"price",type:"number",value:b.price,onChange:A=>j({...b,price:parseFloat(A.target.value)||0}),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{htmlFor:"is_active",children:"Active"}),s.jsx(Wr,{id:"is_active",checked:b.is_active,onCheckedChange:A=>j({...b,is_active:A})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"menu_order",children:"Menu Order"}),s.jsx(Ve,{id:"menu_order",type:"number",value:b.menu_order,onChange:A=>j({...b,menu_order:parseInt(A.target.value)||0}),placeholder:"1"})]}),b.slug==="google-reviews"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Google Reviews Pricing & API Quota"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"pricing_model",children:"Pricing Model"}),s.jsxs(yr,{value:b.pricing_model,onValueChange:A=>j({...b,pricing_model:A}),children:[s.jsx(fr,{children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"onetime",children:"One-time Only"}),s.jsx(Ke,{value:"monthly",children:"Monthly Only"}),s.jsx(Ke,{value:"yearly",children:"Yearly Only"}),s.jsx(Ke,{value:"mixed",children:"Mixed (All Options)"})]})]})]}),(b.pricing_model==="onetime"||b.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price_onetime",children:"One-time Price ()"}),s.jsx(Ve,{id:"price_onetime",type:"number",value:b.price_onetime,onChange:A=>j({...b,price_onetime:parseFloat(A.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"quota_onetime",children:"API Calls/Month"}),s.jsx(Ve,{id:"quota_onetime",type:"number",value:b.quota_onetime,onChange:A=>j({...b,quota_onetime:parseInt(A.target.value)||0})})]})]}),(b.pricing_model==="monthly"||b.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price_monthly",children:"Monthly Price ()"}),s.jsx(Ve,{id:"price_monthly",type:"number",value:b.price_monthly,onChange:A=>j({...b,price_monthly:parseFloat(A.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"quota_monthly",children:"API Calls/Month"}),s.jsx(Ve,{id:"quota_monthly",type:"number",value:b.quota_monthly,onChange:A=>j({...b,quota_monthly:parseInt(A.target.value)||0})})]})]}),(b.pricing_model==="yearly"||b.pricing_model==="mixed")&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"price_yearly",children:"Yearly Price ()"}),s.jsx(Ve,{id:"price_yearly",type:"number",value:b.price_yearly,onChange:A=>j({...b,price_yearly:parseFloat(A.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"quota_yearly",children:"API Calls/Month"}),s.jsx(Ve,{id:"quota_yearly",type:"number",value:b.quota_yearly,onChange:A=>j({...b,quota_yearly:parseInt(A.target.value)||0})})]})]})]})})]}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(ae,{onClick:k,disabled:v,children:[v&&s.jsx(Gt,{className:"h-4 w-4 mr-2 animate-spin"}),c==="add"?"Add Feature":"Save Changes"]})]})]})}),s.jsx(g0,{open:m,onOpenChange:p,children:s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Em,{children:"Delete Feature?"}),s.jsx(Tm,{children:"This will remove the feature from the marketplace. Store owners who have enabled this feature will lose access."})]}),s.jsxs(Cm,{children:[s.jsx(Pm,{children:"Cancel"}),s.jsx(Am,{onClick:R,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})};function Sit(){const[e,t]=_.useState(!1),[r,n]=_.useState(!1),a=ou();return _.useEffect(()=>{(async()=>{console.log("[SuperAdminGuard] Checking session...");try{const{data:{session:o}}=await Z.auth.getSession();if(o?.user){console.log("[SuperAdminGuard] Current user:",o.user.id);const{data:c}=await Z.from("user_roles").select("role").eq("user_id",o.user.id).eq("role","super_admin").maybeSingle();if(c){console.log("[SuperAdminGuard] Valid superadmin session found"),n(!0),t(!0);return}}const l=localStorage.getItem("superadmin_session");if(console.log("[SuperAdminGuard] Stored session found:",!!l),l)try{const c=JSON.parse(l);if(!c.access_token||!c.refresh_token){console.warn("[SuperAdminGuard] Invalid stored session structure"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}const u=c.saved_at||0,d=(Date.now()-u)/(1e3*60*60);if(d>24){console.warn("[SuperAdminGuard] Stored session too old:",d,"hours"),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] Restoring superadmin session...");const{error:f}=await Z.auth.setSession({access_token:c.access_token,refresh_token:c.refresh_token});if(f){console.error("[SuperAdminGuard] Session restoration failed:",f),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}localStorage.removeItem("superadmin_session"),await new Promise(p=>setTimeout(p,100));const{data:{session:m}}=await Z.auth.getSession();if(m?.user){const{data:p}=await Z.from("user_roles").select("role").eq("user_id",m.user.id).eq("role","super_admin").maybeSingle();if(p){console.log("[SuperAdminGuard] Session restored and verified successfully"),n(!0),t(!0);return}}console.warn("[SuperAdminGuard] Restored session is not superadmin"),n(!1),t(!0);return}catch(c){console.error("[SuperAdminGuard] Error during restoration:",c),localStorage.removeItem("superadmin_session"),n(!1),t(!0);return}console.log("[SuperAdminGuard] No valid superadmin session"),n(!1),t(!0)}catch(o){console.error("[SuperAdminGuard] Unexpected error:",o),n(!1),t(!0)}})()},[a.key]),e?r?s.jsx(Nbe,{}):s.jsx(jbe,{to:"/superadmin/login",replace:!0}):s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Restoring admin session..."})]})})}const kit=[{name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation and superior sound quality. Perfect for music lovers and professionals.",category:"Electronics",base_price:2999,price_range:"2,999 - 3,499",stock:50,status:"published",images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&q=80"],variants:[{name:"Black",price:2999,sku:"WH-BLK"},{name:"White",price:3199,sku:"WH-WHT"},{name:"Blue",price:3499,sku:"WH-BLU"}]},{name:"Smart Watch",description:"Feature-rich smartwatch with fitness tracking, heart rate monitor, and notification support. Stay connected on the go.",category:"Electronics",base_price:4999,price_range:"4,999 - 5,999",stock:30,status:"published",images:["https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80","https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=800&q=80"],variants:[{name:"Black Band",price:4999,sku:"SW-BLK"},{name:"Sport Band",price:5499,sku:"SW-SPT"},{name:"Leather Band",price:5999,sku:"SW-LTH"}]},{name:"Classic T-Shirt",description:"Comfortable cotton t-shirt perfect for everyday wear. Made from premium quality fabric that lasts.",category:"Fashion",base_price:599,price_range:"599 - 699",stock:100,status:"published",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1503341504253-dff4815485f1?w=800&q=80"],variants:[{name:"Small",price:599,sku:"TS-S"},{name:"Medium",price:599,sku:"TS-M"},{name:"Large",price:649,sku:"TS-L"},{name:"XL",price:699,sku:"TS-XL"}]},{name:"Denim Jeans",description:"Stylish and durable denim jeans with a perfect fit. Essential wardrobe staple for any occasion.",category:"Fashion",base_price:1499,price_range:"1,499 - 1,799",stock:75,status:"published",images:["https://images.unsplash.com/photo-1542272604-787c3835535d?w=800&q=80","https://images.unsplash.com/photo-1475178626620-a4d074967452?w=800&q=80"],variants:[{name:"30",price:1499,sku:"DJ-30"},{name:"32",price:1599,sku:"DJ-32"},{name:"34",price:1699,sku:"DJ-34"},{name:"36",price:1799,sku:"DJ-36"}]},{name:"Leather Wallet",description:"Genuine leather wallet with multiple card slots and compartments. Sleek design meets functionality.",category:"Accessories",base_price:899,price_range:"899 - 1,099",stock:60,status:"published",images:["https://images.unsplash.com/photo-1627123424574-724758594e93?w=800&q=80","https://images.unsplash.com/photo-1608666619878-e5f5c9c6ff04?w=800&q=80"],variants:[{name:"Brown",price:899,sku:"LW-BRN"},{name:"Black",price:999,sku:"LW-BLK"},{name:"Tan",price:1099,sku:"LW-TAN"}]},{name:"Sunglasses",description:"UV protection sunglasses with polarized lenses. Stylish eyewear for sunny days.",category:"Accessories",base_price:1299,price_range:"1,299 - 1,599",stock:45,status:"published",images:["https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80","https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=800&q=80"],variants:[{name:"Classic Black",price:1299,sku:"SG-BLK"},{name:"Aviator Gold",price:1499,sku:"SG-GLD"},{name:"Sport Blue",price:1599,sku:"SG-BLU"}]},{name:"Coffee Maker",description:"Automatic coffee maker for perfect brew every time. Start your morning right with fresh coffee.",category:"Home & Kitchen",base_price:3499,price_range:"3,499",stock:25,status:"published",images:["https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=800&q=80"],variants:[]},{name:"Yoga Mat",description:"Non-slip yoga mat with extra cushioning. Perfect for yoga, pilates, and home workouts.",category:"Sports",base_price:799,price_range:"799 - 999",stock:80,status:"published",images:["https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80"],variants:[{name:"Purple",price:799,sku:"YM-PUR"},{name:"Blue",price:899,sku:"YM-BLU"},{name:"Pink",price:999,sku:"YM-PNK"}]}],Cit=[{name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&q=80"},{name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&q=80"},{name:"Accessories",image_url:"https://images.unsplash.com/photo-1523293182086-7651a899d37f?w=400&q=80"},{name:"Home & Kitchen",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400&q=80"},{name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&q=80"},{name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&q=80"}],Eit=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Tit=async e=>{try{console.log("Seeding demo data for store:",e);const t=Cit.map(i=>({...i,store_id:e})),{error:r}=await Z.from("categories").insert(t);r&&console.error("Error inserting demo categories:",r);const n=kit.map(i=>({...i,store_id:e,slug:Eit(i.name)}));console.log(`[SEED] Inserting ${n.length} demo products with slugs...`);const{error:a}=await Z.from("products").insert(n);return a?(console.error("[SEED] Error inserting demo products:",a),!1):(console.log(`[SEED]  Successfully seeded ${n.length} demo products`),console.log("Demo data seeded successfully"),!0)}catch(t){return console.error("Error seeding demo data:",t),!1}},Ait=()=>{const e=wr(),{toast:t}=cs(),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[o,l]=_.useState(""),[c,u]=_.useState(!1),[d,f]=_.useState(""),[m,p]=_.useState({storeName:"",storeSlug:"",description:"",whatsappNumber:"",countryCode:"+91"}),[y,g]=_.useState("idle");_.useEffect(()=>{v()},[e]);const v=async()=>{const{data:{user:k}}=await Z.auth.getUser();if(!k){t({title:"Authentication required",description:"Please log in to continue with onboarding",variant:"destructive"}),e("/auth");return}const{data:R}=await Z.from("helpers").select("id, full_name, status").eq("id",k.id).maybeSingle();if(R){f("You are registered as a helper. Helpers cannot create stores. Please contact support if you need assistance."),u(!0),setTimeout(()=>e("/helper/dashboard"),3e3);return}const{data:O}=await Z.from("helper_applications").select("id, application_status").eq("user_id",k.id).maybeSingle();if(O){f("You have applied or are registered as a helper. Helpers cannot create stores."),u(!0),setTimeout(()=>e("/application-status"),3e3);return}const{data:A}=await Z.from("profiles").select("full_name").eq("user_id",k.id).maybeSingle();l(A?.full_name||k.email||"Guest")},w=k=>k.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").substring(0,30),b=k=>{p(R=>({...R,storeName:k,storeSlug:w(k)})),k&&E(w(k))},j=k=>{const R=w(k);p(O=>({...O,storeSlug:R})),R&&E(R)},E=async k=>{if(k.length<3){g("idle");return}i(!0);const{data:R}=await Z.from("stores").select("slug").eq("slug",k).maybeSingle();g(R?"taken":"available"),i(!1)},S=()=>m.storeName.length>=2&&m.storeName.length<=50&&m.storeSlug.length>=3&&m.storeSlug.length<=30&&y==="available"&&m.whatsappNumber.length>=10,C=async()=>{if(S()){n(!0);try{const{data:{user:k}}=await Z.auth.getUser();if(!k)throw new Error("No user found");const{data:{session:R}}=await Z.auth.getSession(),O=R?.provider_token,A=R?.provider_refresh_token,P=O?new Date(Date.now()+3600*1e3).toISOString():null,{data:D,error:F}=await Z.from("stores").insert({user_id:k.id,name:m.storeName,slug:m.storeSlug,subdomain:m.storeSlug,description:m.description||null,whatsapp_number:`${m.countryCode}${m.whatsappNumber}`,google_access_token:O||null,google_refresh_token:A||null,google_token_expiry:P}).select();if(F)throw F;const L=D&&D.length>0?D[0].id:null;L&&await Tit(L);const H=sessionStorage.getItem("referral_code");if(H&&L){console.log("[StoreSetup] Processing referral code:",H);const{data:G}=await Z.from("helpers").select("id").eq("referral_code",H).eq("status","Active").maybeSingle();if(G){const{data:K}=await Z.from("profiles").select("full_name, email, phone").eq("user_id",k.id).maybeSingle(),I=new Date;I.setDate(I.getDate()+14);const{error:B}=await Z.from("store_referrals").insert({helper_id:G.id,store_id:L,store_owner_name:K?.full_name||m.storeName,store_owner_email:K?.email||k.email||"",store_owner_phone:m.whatsappNumber,trial_start_date:new Date().toISOString().split("T")[0],trial_end_date:I.toISOString().split("T")[0],trial_status:"Active",subscription_purchased:!1,commission_status:"Not Applicable"});B?console.error("[StoreSetup] Error creating referral record:",B):console.log("[StoreSetup] Referral record created successfully"),sessionStorage.removeItem("referral_code")}else console.log("[StoreSetup] No active helper found for referral code:",H)}const{data:W}=await Z.from("subscription_plans").select("*").eq("is_default_plan",!0).maybeSingle();if(W){const G=new Date;G.setDate(G.getDate()+(W.trial_days||14)),await Z.from("subscriptions").insert({user_id:k.id,plan_id:W.id,status:"trial",trial_ends_at:G.toISOString(),current_period_start:new Date().toISOString(),current_period_end:G.toISOString()})}t({title:"Store created!",description:"Your store is ready with demo products."}),e("/admin/dashboard")}catch(k){t({title:"Error",description:k.message,variant:"destructive"})}finally{n(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:s.jsx("div",{className:"h-full bg-primary w-1/4 transition-all duration-300"})}),s.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2,3,4].map(k=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${k===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:k}),k<4&&s.jsx("div",{className:`w-8 md:w-16 h-0.5 ${k<1?"bg-primary":"bg-muted"}`})]},k))}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 1 of 4"})]}),s.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(Yh,{className:"w-8 h-8 text-primary"})}),s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome, ",o,"! "]}),s.jsx("p",{className:"text-muted-foreground",children:"Let's set up your online store"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"storeName",children:["Store Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Ve,{id:"storeName",placeholder:"My Awesome Store",value:m.storeName,onChange:k=>b(k.target.value),maxLength:50}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed to your customers"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"storeSlug",children:["Store Slug ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap hidden md:inline",children:"yourplatform.com/"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ve,{id:"storeSlug",value:m.storeSlug,onChange:k=>j(k.target.value),maxLength:30,className:"pr-8"}),a&&s.jsx(Gt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),!a&&y==="available"&&s.jsx(rn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!a&&y==="taken"&&s.jsx($a,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]})]}),y==="available"&&s.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(rn,{className:"w-3 h-3"})," Available"]}),y==="taken"&&s.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[s.jsx($a,{className:"w-3 h-3"})," Already taken"]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:" 3-30 characters"}),s.jsx("p",{children:" Lowercase letters, numbers, hyphens only"}),s.jsx("p",{children:" Must start with letter"})]}),m.storeSlug&&s.jsxs("p",{className:"text-xs text-primary font-medium",children:["Your store will be: ",m.storeSlug,".yourplatform.com"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{htmlFor:"description",children:"Store Description"}),s.jsx(ja,{id:"description",placeholder:"Tell customers about your store...",value:m.description,onChange:k=>p(R=>({...R,description:k.target.value})),maxLength:500,rows:4}),s.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.description.length,"/500"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ce,{htmlFor:"whatsapp",children:["WhatsApp Business Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(yr,{value:m.countryCode,onValueChange:k=>p(R=>({...R,countryCode:k})),children:[s.jsx(fr,{className:"w-24",children:s.jsx(br,{})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"+91",children:" +91"}),s.jsx(Ke,{value:"+1",children:" +1"}),s.jsx(Ke,{value:"+44",children:" +44"}),s.jsx(Ke,{value:"+971",children:" +971"})]})]}),s.jsx(Ve,{id:"whatsapp",type:"tel",placeholder:"9876543210",value:m.whatsappNumber,onChange:k=>p(R=>({...R,whatsappNumber:k.target.value.replace(/\D/g,"")})),className:"flex-1"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers will place orders via WhatsApp to this number"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t",children:[s.jsx(ae,{variant:"ghost",onClick:()=>e("/admin/dashboard"),className:"order-2 sm:order-1",children:"I'll do this later"}),s.jsx(ae,{onClick:C,disabled:!S()||r,className:"w-full sm:w-auto order-1 sm:order-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):"Continue"})]})]})}),s.jsx(Sn,{open:c,onOpenChange:u,children:s.jsxs(yn,{className:"sm:max-w-md",children:[s.jsxs(kn,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Gn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(Cn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(ps,{className:"text-center text-base pt-4",children:d})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(ae,{onClick:()=>u(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})},Pit=({storeId:e,settings:t,instagramUsername:r})=>{const[n,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{t?.enabled?u():o(!1)},[e,t?.enabled]);const u=async()=>{try{o(!0),c(null);const f=await(await fetch(`https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/instagram-fetch-reels?store_id=${e}`)).json();f.success?a(f.reels||[]):(console.log("Failed to fetch reels:",f.error),t?.manual_reels?.length&&a(t.manual_reels.map(m=>({id:m.url,type:"manual",permalink:m.url,thumbnail_url:m.thumbnail_url,caption:m.caption}))))}catch(d){console.error("Error fetching reels:",d),t?.manual_reels?.length&&a(t.manual_reels.map(f=>({id:f.url,type:"manual",permalink:f.url,thumbnail_url:f.thumbnail_url,caption:f.caption})))}finally{o(!1)}};return t?.enabled?i?s.jsx("section",{className:"py-12 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Tl,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((d,f)=>s.jsx("div",{className:"aspect-[9/16] bg-muted animate-pulse rounded-lg"},f))})]})}):n.length===0?null:s.jsx("section",{className:"py-12 px-4 bg-gradient-to-b from-background to-muted/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Tl,{className:"w-6 h-6 text-pink-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:t?.section_title||"Follow Us on Instagram"})]}),r&&s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-pink-500 transition-colors inline-flex items-center gap-1",children:["@",r,s.jsx(ya,{className:"w-3 h-3"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4",children:n.slice(0,t?.max_reels||6).map(d=>s.jsx(Oit,{reel:d},d.id))}),r&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("a",{href:`https://instagram.com/${r}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-medium rounded-full hover:opacity-90 transition-opacity",children:[s.jsx(Tl,{className:"w-5 h-5"}),"Follow on Instagram"]})})]})}):null},Oit=({reel:e})=>{const[t,r]=_.useState(!1);return s.jsxs("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-[9/16] rounded-lg overflow-hidden bg-muted group cursor-pointer",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e.thumbnail_url?s.jsx("img",{src:e.thumbnail_url,alt:e.caption||"Instagram Reel",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-orange-500/20",children:s.jsx(Tl,{className:"w-12 h-12 text-pink-500/50"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx(Hge,{className:"w-6 h-6 text-pink-500 ml-1",fill:"currentColor"})})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"w-6 h-6 rounded bg-black/50 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"})})})}),e.caption&&s.jsx("div",{className:`absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent transition-opacity ${t?"opacity-100":"opacity-0"}`,children:s.jsx("p",{className:"text-white text-xs line-clamp-2",children:e.caption})})]})},aJ=({averageRating:e,totalReviews:t,variant:r="default"})=>r==="compact"?s.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full shadow-sm",children:[s.jsx(Hi,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.toFixed(1)}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",t,")"]})]}):s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Hi,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e.toFixed(1)})]}),s.jsx("div",{className:"border-l border-gray-300 dark:border-gray-600 h-6"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 leading-tight",children:"Google reviews"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 leading-tight",children:[t," reviews"]})]})]}),Rit=({reviews:e,autoPlay:t=!0,autoPlayInterval:r=5e3})=>{const[n,a]=_.useState({}),i=m=>{a(p=>({...p,[m]:!0}))},o=m=>{const p=m.trim().split(" ");return p.length===1?p[0].substring(0,2).toUpperCase():(p[0][0]+p[p.length-1][0]).toUpperCase()},l=m=>{const p=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],y=m.split("").reduce((g,v)=>g+v.charCodeAt(0),0);return p[y%p.length]},c=m=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(p=>s.jsx(Hi,{className:`h-4 w-4 ${p<=m?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},p))});if(!e||e.length===0)return null;const u=[...e,...e],f=30*1e3;return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"review-marquee-container overflow-hidden",children:s.jsx("div",{className:"review-marquee-track flex gap-4",style:{animationDuration:`${f}ms`,animationPlayState:t?"running":"paused"},children:u.map((m,p)=>s.jsx(ke,{className:"review-card flex-shrink-0 w-full sm:w-[calc(50%-0.5rem)] md:w-[calc(33.333%-0.667rem)] lg:w-[calc(20%-0.8rem)] border-0 shadow-md hover:shadow-lg transition-shadow",children:s.jsxs(Te,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate flex-1",children:m.author_name})}),c(m.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[m.profile_photo_url&&!n[p%e.length]?s.jsx("img",{src:m.profile_photo_url,alt:m.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(p%e.length),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(m.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(m.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:m.relative_time_description})]}),m.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',m.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},`${p}-${m.author_name}`))})}),s.jsx("div",{className:"text-center mt-4 md:hidden",children:s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Swipe to see more reviews "})})]})},Dit=({reviews:e,maxReviews:t=6})=>{const[r,n]=_.useState({}),a=u=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(d=>s.jsx(Hi,{className:`h-4 w-4 ${d<=u?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},d))}),i=u=>{n(d=>({...d,[u]:!0}))},o=u=>{const d=u.trim().split(" ");return d.length===1?d[0].substring(0,2).toUpperCase():(d[0][0]+d[d.length-1][0]).toUpperCase()},l=u=>{const d=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],f=u.split("").reduce((m,p)=>m+p.charCodeAt(0),0);return d[f%d.length]};if(!e||e.length===0)return null;const c=e.slice(0,t);return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:c.map((u,d)=>s.jsx(ke,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:s.jsxs(Te,{className:"p-4 md:p-5 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm md:text-base truncate",children:u.author_name}),a(u.rating)]}),s.jsxs("div",{className:"flex items-center gap-1.5 mb-3 pb-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[u.profile_photo_url&&!r[d]?s.jsx("img",{src:u.profile_photo_url,alt:u.author_name,className:"h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>i(d),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-10 w-10 md:h-12 md:w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${l(u.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-xs md:text-sm",children:o(u.author_name)})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-1",children:u.relative_time_description})]}),u.text&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed flex-1",children:['"',u.text,'"']}),s.jsx("button",{className:"text-xs text-primary hover:underline mt-auto pt-2 text-left font-medium",children:"Read more"})]})},d))})},Iit=({reviews:e,maxReviews:t=5,showAllReviews:r=!1})=>{const[n,a]=_.useState({}),i=d=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(f=>s.jsx(Hi,{className:`h-4 w-4 ${f<=d?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},f))}),o=d=>{a(f=>({...f,[d]:!0}))},l=d=>{const f=d.trim().split(" ");return f.length===1?f[0].substring(0,2).toUpperCase():(f[0][0]+f[f.length-1][0]).toUpperCase()},c=d=>{const f=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],m=d.split("").reduce((p,y)=>p+y.charCodeAt(0),0);return f[m%f.length]};if(!e||e.length===0)return null;const u=r?e:e.slice(0,t);return s.jsxs("div",{className:"space-y-4",children:[u.map((d,f)=>s.jsx("div",{className:"p-4 md:p-6 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[d.profile_photo_url&&!n[f]?s.jsx("img",{src:d.profile_photo_url,alt:d.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover",onError:()=>o(f),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${c(d.author_name)} flex items-center justify-center`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:l(d.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:d.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.relative_time_description}),s.jsx("div",{className:"mt-1",children:i(d.rating)})]})]}),s.jsx("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded",children:s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})})]}),d.text&&s.jsx("p",{className:"text-sm md:text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:d.text})]})},f)),!r&&e.length>t&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center pt-2",children:["+ ",e.length-t," more reviews"]})]})},Mit=({storeId:e,googleMapsUrl:t})=>{const[r,n]=_.useState([]),[a,i]=_.useState(0),[o,l]=_.useState(0),[c,u]=_.useState({}),[d,f]=_.useState(!0);_.useEffect(()=>{m()},[e]);const m=async()=>{try{const{data:w,error:b}=await Z.from("google_reviews_cache").select("*").eq("store_id",e).single();if(b){console.error("Error loading reviews:",b);return}w&&(n(w.reviews||[]),i(w.average_rating||0),l(w.total_reviews||0))}catch(w){console.error("Error in loadReviews:",w)}finally{f(!1)}},p=w=>{u(b=>({...b,[w]:!0}))},y=w=>{const b=w.trim().split(" ");return b.length===1?b[0].substring(0,2).toUpperCase():(b[0][0]+b[b.length-1][0]).toUpperCase()},g=w=>{const b=["from-blue-400 to-blue-600","from-green-400 to-green-600","from-purple-400 to-purple-600","from-pink-400 to-pink-600","from-orange-400 to-orange-600","from-teal-400 to-teal-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600"],j=w.split("").reduce((E,S)=>E+S.charCodeAt(0),0);return b[j%b.length]},v=w=>s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(b=>s.jsx(Hi,{className:`h-4 w-4 ${b<=w?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},b))});return d?s.jsx("div",{className:"text-center py-12",children:"Loading reviews..."}):!r||r.length===0?s.jsx("div",{className:"w-full max-w-2xl mx-auto",children:s.jsx(ke,{className:"border-0 shadow-xl overflow-hidden",children:s.jsxs(Te,{className:"p-0",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-8 text-white text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsxs("svg",{className:"h-10 w-10",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"white",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"white",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"white",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"white",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-2xl md:text-3xl font-bold",children:"Customer Reviews"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"See what our customers are saying"})]}),s.jsx("div",{className:"p-8 bg-white dark:bg-gray-800 text-center",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>s.jsx(Hi,{className:"h-8 w-8 fill-yellow-400 text-yellow-400"},w))})}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Read authentic reviews from our verified customers"}),s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-all hover:shadow-lg",children:[s.jsx("span",{children:"View All Reviews on Google"}),s.jsx(ya,{className:"h-5 w-5"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Verified by Google  100% Authentic Customer Feedback"})]})})]})})}):s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>s.jsx(Hi,{className:`h-6 w-6 ${w<=Math.round(a)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},w))}),s.jsx("span",{className:"text-xl font-bold",children:a.toFixed(1)})]}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Based on ",o," Google reviews"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:r.map((w,b)=>s.jsx(ke,{className:"hover:shadow-xl transition-shadow border-0 shadow-md",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[w.profile_photo_url&&!c[b]?s.jsx("img",{src:w.profile_photo_url,alt:w.author_name,className:"h-12 w-12 rounded-full border-2 border-white shadow-md object-cover flex-shrink-0",onError:()=>p(b),loading:"lazy",crossOrigin:"anonymous"}):s.jsx("div",{className:`h-12 w-12 rounded-full border-2 border-white shadow-md bg-gradient-to-br ${g(w.author_name)} flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold text-sm",children:y(w.author_name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:w.author_name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w.relative_time_description})]})]}),s.jsx("div",{className:"mb-3",children:v(w.rating)}),w.text&&s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-4 leading-relaxed",children:['"',w.text,'"']}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-4 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Posted on Google"})]})]})},b))}),s.jsxs("div",{className:"text-center",children:[s.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-all hover:shadow-lg",children:[s.jsxs("span",{children:["View All ",o," Reviews on Google"]}),s.jsx(ya,{className:"h-5 w-5"})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:["Verified by Google  ",o," authentic customer reviews"]})]})]})},Fit=({storeId:e,variant:t,maxReviews:r,autoPlay:n=!0,showAllReviews:a=!1})=>{const[i,o]=_.useState(null),[l,c]=_.useState(!0),[u,d]=_.useState(!1),[f,m]=_.useState("carousel"),[p,y]=_.useState(null);_.useEffect(()=>{g()},[e]);const g=async()=>{try{const{data:w}=await Z.from("stores").select("google_reviews_enabled, google_reviews_display_type, google_maps_url").eq("id",e).single();if(!w?.google_reviews_enabled){d(!1),c(!1);return}d(!0),m(w.google_reviews_display_type||"carousel"),y(w.google_maps_url||null);try{const{data:b,error:j}=await Z.from("google_reviews_cache").select("*").eq("store_id",e).single();b&&o({average_rating:b.average_rating||0,total_reviews:b.total_reviews||0,reviews:b.reviews||[]}),j&&console.warn("Warning loading reviews (continuing):",j)}catch(b){console.warn("Cache load error (continuing):",b)}}catch(w){console.error("Error in loadReviews:",w)}finally{c(!1)}};if(l||!u)return null;const v=t||(f==="google-widget"?"google-widget":f==="carousel"?"carousel":"grid");if(v==="google-widget"){if(!p)return null}else if(!i||i.reviews.length===0)return null;switch(v){case"badge":return s.jsx(aJ,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"default"});case"badge-compact":return s.jsx(aJ,{averageRating:i.average_rating,totalReviews:i.total_reviews,variant:"compact"});case"carousel":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"What Our Customers Say"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Real reviews from Google"})]}),s.jsx(Rit,{reviews:i.reviews,autoPlay:n})]});case"grid":return s.jsxs("div",{className:"py-8 md:py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," reviews"]})]})]}),s.jsx(Dit,{reviews:i.reviews,maxReviews:r})]});case"list":return s.jsxs("div",{className:"py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-2",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.average_rating.toFixed(1)}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i.total_reviews," Google reviews"]})]})]}),s.jsx(Iit,{reviews:i.reviews,maxReviews:r,showAllReviews:a})]});case"google-widget":return p?s.jsx("div",{className:"py-8 md:py-12",children:s.jsx(Mit,{storeId:e,googleMapsUrl:p})}):null;default:return null}};Fn.registerPlugin(Tr);function mj({children:e,className:t="",animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}){const u=_.useRef(null);return _.useEffect(()=>{if(!u.current)return;const d=u.current;let f={opacity:0};switch(r){case"fadeSlideUp":f={opacity:0,y:i};break;case"fadeSlideDown":f={opacity:0,y:-i};break;case"fadeSlideLeft":f={opacity:0,x:i};break;case"fadeSlideRight":f={opacity:0,x:-i};break;case"fadeIn":f={opacity:0};break;case"scaleUp":f={opacity:0,scale:.8};break;case"slideUp":f={y:i};break}return Fn.set(d,f),Fn.to(d,{opacity:1,x:0,y:0,scale:1,duration:n,delay:a,ease:"power2.out",scrollTrigger:{trigger:d,start:`top ${100-o*100}%`,toggleActions:"play none none none"},stagger:l>0?l:void 0,...c}),()=>{Tr.getAll().forEach(m=>{m.trigger===d&&m.kill()})}},[r,n,a,i,o,l,c]),s.jsx("div",{ref:u,className:t,children:e})}Fn.registerPlugin(Tr);function xR(e={}){const t=_.useRef(null),{animation:r="fadeSlideUp",duration:n=.8,delay:a=0,distance:i=40,triggerStart:o=.15,stagger:l=0,customProps:c={}}=e;return _.useEffect(()=>{const u=t.current;if(!u)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){Fn.set(u,{opacity:1,x:0,y:0,scale:1}),u.children.length>0&&Fn.set(Array.from(u.children),{opacity:1,x:0,y:0,scale:1});return}const f={fadeIn:{from:{opacity:0},to:{opacity:1,duration:n,delay:a}},slideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideDown:{from:{opacity:0,y:-i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}},slideLeft:{from:{opacity:0,x:i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},slideRight:{from:{opacity:0,x:-i},to:{opacity:1,x:0,duration:n,delay:a,ease:"power2.out"}},scale:{from:{opacity:0,scale:.8},to:{opacity:1,scale:1,duration:n,delay:a,ease:"back.out(1.2)"}},fadeSlideUp:{from:{opacity:0,y:i},to:{opacity:1,y:0,duration:n,delay:a,ease:"power2.out"}}},m=f[r]||f.fadeSlideUp,p=l>0&&u.children.length>0,y=p?Array.from(u.children):u;Fn.set(y,m.from);const g=Fn.context(()=>{u.getBoundingClientRect().top<window.innerHeight*.9?Fn.to(y,{...m.to,stagger:p?l:0,...c}):Tr.create({trigger:u,start:"top 90%",once:!0,onEnter:()=>{Fn.to(y,{...m.to,stagger:p?l:0,...c})}})});return()=>{g.revert(),Tr.getAll().forEach(v=>{v.trigger===u&&v.kill()})}},[r,n,a,i,o,l,c]),t}const iJ=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,[n,a]=_.useState(null),[i,o]=_.useState(null),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[p,y]=_.useState([]),[g,v]=_.useState(!0),[w,b]=_.useState(!1),j=xR({animation:"slideUp",duration:.6,stagger:.1,delay:.2}),E=xR({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),S=xR({animation:"fadeSlideUp",duration:.6,stagger:.08,delay:.2}),C=eu(),k=C?"/products":`/${r}/products`;_.useEffect(()=>{R()},[r]),_.useEffect(()=>{if(!n?.ai_voice_embed_code)return;if(document.querySelector('script[src*="elevenlabs"]')){b(!0);return}const A=document.createElement("script");return A.src="https://unpkg.com/@elevenlabs/convai-widget-embed",A.async=!0,A.type="text/javascript",A.onload=()=>{console.log("ElevenLabs widget script loaded successfully"),b(!0)},A.onerror=P=>{console.error("Failed to load ElevenLabs widget script:",P)},document.body.appendChild(A),()=>{A.parentNode&&A.parentNode.removeChild(A)}},[n?.ai_voice_embed_code]),BUe(n&&i?{store:{id:n.id,name:n.name,slug:n.slug,description:n.description,logo_url:n.logo_url,address:n.address,whatsapp_number:n.whatsapp_number,social_links:n.social_links,alternate_names:n.alternate_names,seo_description:n.seo_description,business_phone:n.business_phone,business_email:n.business_email,street_address:n.street_address,city:n.city,state:n.state,postal_code:n.postal_code,country:n.country,opening_hours:n.opening_hours,facebook_url:n.facebook_url,instagram_url:n.instagram_url,twitter_url:n.twitter_url,price_range:n.price_range},email:i.email||void 0,breadcrumbs:[{name:"Home",url:window.location.origin},{name:n.name,url:window.location.href}]}:null);const R=async()=>{try{v(!0);const O=eu();let A=Z.from("stores").select("*").eq("is_active",!0);O&&r?r.includes(".")?A=A.or(`custom_domain.eq.${r},subdomain.eq.${r}`):A=A.or(`subdomain.eq.${r},slug.eq.${r}`):A=A.eq("slug",r);const{data:P,error:D}=await A.maybeSingle();if(D)throw D;if(!P){Fe({title:"Store not found",description:"The store you're looking for doesn't exist or is inactive.",variant:"destructive"});return}a({...P,social_links:P.social_links,policies:P.policies,instagram_reels_settings:P.instagram_reels_settings});const{data:F}=await Z.from("profiles").select("phone, email").eq("user_id",P.user_id).maybeSingle();F&&o(F);const{data:L,error:H}=await Z.from("categories").select("*").eq("store_id",P.id).order("name");H?console.error("Error fetching categories:",H):L&&y(L);const W=await tb(P.id);c(W),d(W.slice(0,16));const G=[...W].sort((K,I)=>new Date(I.created_at||"").getTime()-new Date(K.created_at||"").getTime());m(G.slice(0,4))}catch(O){console.error("Error loading store:",O),Fe({title:"Error",description:O.message,variant:"destructive"})}finally{v(!1)}};return g?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Gt,{className:"h-8 w-8 animate-spin"})}):n?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(D6,{title:`${n.name} - Online Store | Shop Quality Products`,description:n.description||`Browse ${n.name}'s collection of quality products. ${p.length>0?"Explore categories: "+p.map(O=>O.name).slice(0,3).join(", "):""}`,canonical:mce(n.slug,n.subdomain,n.custom_domain),image:n.logo_url||n.hero_banner_url||"https://digitaldukandar.in/logo.png",keywords:p.map(O=>O.name).concat([n.name,"online store","shop"]),type:"website"}),s.jsx(uo,{storeSlug:n.slug,storeId:n.id}),s.jsxs("main",{className:"flex-1",children:[s.jsx(Vle,{bannerUrls:n.hero_banner_urls&&n.hero_banner_urls.length>0?n.hero_banner_urls:n.hero_banner_url?[n.hero_banner_url]:[],storeName:n.name,logoUrl:n.logo_url,storeDescription:n.description}),p.length>0&&s.jsx("section",{className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsx(mj,{animation:"fadeSlideUp",duration:.8,children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]})}),s.jsx("div",{className:"relative px-4",children:s.jsx("div",{ref:j,className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:p.map((O,A)=>{const P=l.filter(D=>D.category===O.name&&D.status==="published").length;return s.jsx("div",{className:"flex-shrink-0 w-48 snap-center",children:s.jsx(b6,{name:O.name,image_url:O.image_url,productCount:P,slug:C?void 0:n?.slug})},O.id)})})})]})}),s.jsx("section",{className:"py-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(mj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),s.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),s.jsx(kt,{to:k,children:s.jsxs(ae,{variant:"outline",children:["See All",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})}),u.length>0?s.jsx("div",{ref:E,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(O=>s.jsx(N0,{id:O.id,slug:O.slug,name:O.name,category:O.category,priceRange:O.price_range||"",images:O.images,status:O.status,storeSlug:C?void 0:n.slug},O.id))}):s.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),n.instagram_reels_settings?.enabled&&n.instagram_reels_settings?.show_on_homepage&&s.jsx(Pit,{storeId:n.id,settings:n.instagram_reels_settings,instagramUsername:n.instagram_username||void 0}),s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(Fit,{storeId:n.id,autoPlay:!0})})}),f.length>0&&s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(mj,{animation:"fadeSlideUp",duration:.7,children:s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),s.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),s.jsx(kt,{to:k,children:s.jsxs(ae,{variant:"outline",children:["See All",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx("div",{ref:S,className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(O=>s.jsx(N0,{id:O.id,slug:O.slug,name:O.name,category:O.category,priceRange:O.price_range||"",images:O.images,status:O.status,storeSlug:C?void 0:n.slug},O.id))})]})}),s.jsx("section",{className:"py-20 bg-primary text-primary-foreground mb-0",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(mj,{animation:"scaleUp",duration:.8,children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore our full collection of amazing products"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(kt,{to:k,children:s.jsxs(ae,{size:"lg",variant:"secondary",children:["Browse All Products",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})}),n.whatsapp_number&&s.jsx("a",{href:`https://wa.me/${n.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(ae,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["Contact on WhatsApp",s.jsx(sa,{className:"w-4 h-4 ml-2"})]})})]})]})})})]}),s.jsx(Cb,{storeName:n.name,storeDescription:n.description,whatsappNumber:n.whatsapp_number,phone:i?.phone,email:i?.email,address:n.address,facebookUrl:n.facebook_url,instagramUrl:n.instagram_url,twitterUrl:n.twitter_url,youtubeUrl:n.youtube_url,linkedinUrl:n.linkedin_url,socialLinks:n.social_links,policies:n.policies}),n.ai_voice_embed_code&&w&&(()=>{const O=n.ai_voice_embed_code.match(/agent-id="([^"]+)"/),A=O?O[1]:null;return A?s.jsx("elevenlabs-convai",{"agent-id":A,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999}}):(console.error("No agent-id found in ai_voice_embed_code"),null)})()]}):s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Store Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you're looking for doesn't exist."}),s.jsx(kt,{to:"/",children:s.jsx(ae,{children:"Go Home"})})]})},oJ=({slug:e}={})=>{const{slug:t}=sd(),r=e||t,n=wr(),[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(null);_.useEffect(()=>{d()},[r]),_.useEffect(()=>{if(window.location.hash){const m=document.querySelector(window.location.hash);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[a]);const d=async()=>{try{i(!0);const{data:m,error:p}=await Z.from("stores").select("*").eq("slug",r).eq("is_active",!0).single();if(p||!m){ot.error("Store not found"),n("/");return}l(m);const{data:y}=await Z.from("profiles").select("phone, email").eq("user_id",m.user_id).single();y&&u(y)}catch(m){console.error("Error loading store:",m),ot.error("Failed to load store information")}finally{i(!1)}};if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Gt,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return null;const f=o.policies||{};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(uo,{storeSlug:r}),s.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[s.jsxs(ae,{variant:"ghost",onClick:()=>n(`/${r}`),className:"mb-6",children:[s.jsx(ei,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Store Policies"}),s.jsx("p",{className:"text-muted-foreground",children:"Learn about our policies and terms of service"})]}),s.jsx("section",{id:"terms",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Terms & Conditions"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.termsConditions||"Terms and conditions will be available soon."})]})}),s.jsx("section",{id:"return-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Return Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.returnPolicy||"Return policy will be available soon."})]})}),s.jsx("section",{id:"shipping-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Shipping Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.shippingPolicy||"Shipping policy will be available soon."})]})}),s.jsx("section",{id:"privacy-policy",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Privacy Policy"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.privacyPolicy||"Privacy policy will be available soon."})]})}),f.deliveryAreas&&s.jsx("section",{id:"delivery-areas",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Delivery Areas"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.deliveryAreas})]})}),o.address&&s.jsx("section",{id:"address",className:"scroll-mt-20",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Store Address"}),s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:o.address})]})})]})]}),s.jsx(Cb,{storeName:o.name,storeDescription:o.description,whatsappNumber:o.whatsapp_number,phone:c?.phone,email:c?.email,address:o.address,facebookUrl:o.facebook_url,instagramUrl:o.instagram_url,twitterUrl:o.twitter_url,youtubeUrl:o.youtube_url,linkedinUrl:o.linkedin_url,socialLinks:o.social_links,policies:o.policies})]})},Lit=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(kt,{to:"/",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['Welcome to Digital Dukandar ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ',s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"})," and use our multi-vendor store platform services."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Personal Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Register for an account (name, email address, phone number)"}),s.jsx("li",{children:"Create a store or product listing"}),s.jsx("li",{children:"Make a purchase through our platform"}),s.jsx("li",{children:"Contact our customer support"}),s.jsx("li",{children:"Sign in using Google OAuth (email, profile picture, name)"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"2.2 Automatically Collected Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you visit our website, we automatically collect certain information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Device information (browser type, operating system)"}),s.jsx("li",{children:"IP address and location data"}),s.jsx("li",{children:"Usage data (pages visited, time spent on pages)"}),s.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"To create and manage your account"}),s.jsx("li",{children:"To process transactions and deliver products/services"}),s.jsx("li",{children:"To send order confirmations and updates"}),s.jsx("li",{children:"To provide customer support"}),s.jsx("li",{children:"To improve our platform and user experience"}),s.jsx("li",{children:"To send promotional communications (with your consent)"}),s.jsx("li",{children:"To comply with legal obligations"}),s.jsx("li",{children:"To detect and prevent fraud or abuse"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may share your information in the following situations:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"With Store Owners:"})," When you make a purchase, we share your order details with the relevant store owner"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Providers:"})," We may share data with third-party service providers (payment processors, hosting services, analytics providers)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not sell your personal information to third parties."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Your Privacy Rights"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the following rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Cookies and Tracking Technologies"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our platform. Cookies help us remember your preferences, analyze site usage, and provide personalized content. You can control cookie settings through your browser preferences."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with third-party services:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google OAuth:"})," For authentication (subject to Google's Privacy Policy)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Supabase:"})," For database and authentication services"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"WhatsApp:"})," For order notifications"]})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies, and we encourage you to review them."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our services are not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),$it=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx(kt,{to:"/",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["By accessing or using Digital Dukandar's services available at ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"}),' ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.']})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"YesGive is a multi-vendor e-commerce platform that enables:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Store owners to create and manage online stores"}),s.jsx("li",{children:"Product listing and inventory management"}),s.jsx("li",{children:"Order processing through WhatsApp and website checkouts"}),s.jsx("li",{children:"Customer management and analytics"}),s.jsx("li",{children:"Subscription-based access to platform features"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Account Creation"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features, you must create an account. You agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate, current, and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Notify us immediately of any unauthorized access"}),s.jsx("li",{children:"Be responsible for all activities under your account"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"3.2 Account Types"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Store Owners:"})," Can create stores, manage products, and process orders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Customers:"})," Can browse stores, place orders, and manage their profiles"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Super Admin:"})," Platform administrators with full access"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription Plans and Payments"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.1 Subscription Tiers"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer various subscription plans (Free, Basic, Pro, Enterprise) with different features and limits. Plan details are available on our Pricing page."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.2 Payment Terms"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Subscriptions are billed monthly or yearly in advance"}),s.jsx("li",{children:"Payments are non-refundable except as required by law"}),s.jsx("li",{children:"You authorize automatic renewal unless cancelled before the renewal date"}),s.jsx("li",{children:"We reserve the right to change pricing with 30 days' notice"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"4.3 Free Trials"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Free trial periods are subject to terms disclosed at sign-up. We may require payment information upfront but won't charge until the trial ends unless you cancel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Store Owner Responsibilities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"As a store owner, you agree to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Provide accurate product descriptions and pricing"}),s.jsx("li",{children:"Honor all orders placed through your store"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"}),s.jsx("li",{children:"Not sell prohibited items (illegal goods, counterfeit products, etc.)"}),s.jsx("li",{children:"Handle customer data responsibly and securely"}),s.jsx("li",{children:"Respond to customer inquiries in a timely manner"}),s.jsx("li",{children:"Process refunds and returns according to your stated policies"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may not use our Platform to:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Infringe on intellectual property rights"}),s.jsx("li",{children:"Transmit harmful code, viruses, or malware"}),s.jsx("li",{children:"Engage in fraudulent activities or scams"}),s.jsx("li",{children:"Harass, abuse, or harm other users"}),s.jsx("li",{children:"Scrape or copy content without permission"}),s.jsx("li",{children:"Interfere with the Platform's operation"}),s.jsx("li",{children:"Create fake accounts or impersonate others"}),s.jsx("li",{children:"Manipulate prices, reviews, or ratings"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Content and Intellectual Property"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.1 Your Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You retain ownership of content you upload (products, images, descriptions). By uploading content, you grant us a license to display, store, and distribute it as necessary to provide our services."}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.2 Our Content"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Platform, including its design, features, and code, is protected by copyright and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Order Processing and Transactions"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8.1 Order Placement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orders placed through the Platform constitute an offer to purchase. Store owners reserve the right to accept or decline orders."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.2 Payment Processing"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Currently, orders are processed via Cash on Delivery (COD) or direct WhatsApp communication. Future payment integrations may be added."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.3 Disputes"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"YesGive acts as a platform provider. Disputes regarding orders, refunds, or product quality should be resolved directly between customers and store owners. We may assist in mediation but are not responsible for transaction outcomes."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Termination"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Violate these Terms"}),s.jsx("li",{children:"Engage in fraudulent or illegal activities"}),s.jsx("li",{children:"Fail to pay subscription fees"}),s.jsx("li",{children:"Create risk or legal liability for us"})]}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You may cancel your account at any time through account settings. Upon termination, you lose access to your store and data."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimers and Limitations of Liability"}),s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"10.1 Service Availability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We strive for 99.9% uptime but do not guarantee uninterrupted service. We are not liable for downtime, data loss, or service interruptions."}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.2 No Warranty"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Platform is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the service will be error-free or secure.'}),s.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.3 Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, YesGive shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Indemnification"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to indemnify and hold YesGive harmless from any claims, damages, or expenses arising from your use of the Platform, violation of these Terms, or infringement of any rights."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. Changes will be effective upon posting. Continued use of the Platform constitutes acceptance of modified Terms. Material changes will be communicated via email or platform notifications."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law and Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"These Terms are governed by the laws of India. Any disputes shall be resolved through:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Informal negotiation (30 days)"}),s.jsx("li",{children:"Binding arbitration (if negotiation fails)"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions about these Terms, please contact us:"}),s.jsx("div",{className:"bg-accent p-4 rounded-lg",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",s.jsx("br",{}),s.jsx("strong",{children:"Website:"})," ",s.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Severability"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full effect."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Entire Agreement"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and YesGive regarding use of the Platform."})]})]})]}),s.jsx("footer",{className:"border-t mt-16",children:s.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),Bit=tp({full_name:nn().min(2,"Name must be at least 2 characters"),email:nn().email("Invalid email address"),phone:nn().regex(/^\d{10}$/,"Phone number must be 10 digits"),why_helper:nn().optional(),bank_account_name:nn().min(2,"Account holder name is required"),bank_account_number:nn().min(8,"Invalid account number"),bank_ifsc_code:nn().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),bank_name:nn().min(2,"Bank name is required"),terms:Ac().refine(e=>e===!0,"You must agree to terms and conditions")});function Uit(){const[e]=vw(),[t,r]=_.useState(!1),[n,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[f,m]=_.useState(null),[p,y]=_.useState(!1),[g,v]=_.useState(""),w=e.get("ref"),b=Rw({resolver:Dw(Bit),defaultValues:{full_name:"",email:"",phone:"",why_helper:"",bank_account_name:"",bank_account_number:"",bank_ifsc_code:"",bank_name:"",terms:!1}});_.useEffect(()=>{(async()=>{const{data:{session:C}}=await Z.auth.getSession();if(C?.user){const k=C.user;k.app_metadata?.provider==="google"&&(d(!0),m(k.id),b.setValue("email",k.email||""),b.setValue("full_name",k.user_metadata?.full_name||k.user_metadata?.name||""),ot.info("Signed in with Google! Please complete the remaining fields."))}})()},[]),_.useEffect(()=>{w&&Z.from("helpers").select("full_name").eq("referral_code",w).single().then(({data:S})=>{S&&o(S.full_name)})},[w]);const j=async()=>{try{c(!0),console.log("[BecomeHelper] Starting Google sign up...");const S=w?`${window.location.origin}/become-helper?ref=${w}`:`${window.location.origin}/become-helper`,{error:C}=await Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:S}});C?(console.error("[BecomeHelper] Google sign up error:",C),ot.error(C.message||"Failed to sign up with Google")):console.log("[BecomeHelper] Google OAuth redirect initiated")}catch(S){console.error("[BecomeHelper] Unexpected error:",S),ot.error(S.message||"An unexpected error occurred")}finally{c(!1)}},E=async S=>{try{const{data:C}=await Z.from("stores").select("id, name, user_id").eq("user_id",await Z.from("profiles").select("user_id").eq("email",S.email).maybeSingle().then(({data:H})=>H?.user_id)).maybeSingle();if(C){v(`This email (${S.email}) is already registered as a store owner of "${C.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}const{data:k}=await Z.from("profiles").select("user_id").eq("email",S.email).maybeSingle();if(k){const{data:H}=await Z.from("stores").select("id, name").eq("user_id",k.user_id).maybeSingle();if(H){v(`This email is registered as store owner of "${H.name}". Store owners cannot become helpers. Please use a different email.`),y(!0);return}}const{data:R}=await Z.from("stores").select("id, name, whatsapp_number").eq("whatsapp_number",S.phone).maybeSingle();if(R){v(`This phone number is already registered for store "${R.name}". Store owners cannot become helpers. Please use a different phone number.`),y(!0);return}const{data:O}=await Z.from("helper_applications").select("email").eq("email",S.email).maybeSingle();if(O){ot.error("This email is already registered as a helper");return}const{data:A}=await Z.from("helper_applications").select("phone").eq("phone",S.phone).maybeSingle();if(A){ot.error("This phone number is already registered as a helper");return}if(!u||!f){ot.error("Please sign in with Google first to submit your application");return}const P=f;let D=null;if(w){const{data:H}=await Z.from("helpers").select("id").eq("referral_code",w).single();H&&(D=H.id)}const{data:F,error:L}=await Z.from("helper_applications").insert({user_id:P,full_name:S.full_name,email:S.email,phone:S.phone,why_helper:S.why_helper,bank_account_name:S.bank_account_name,bank_account_number:S.bank_account_number,bank_ifsc_code:S.bank_ifsc_code,bank_name:S.bank_name,recruited_by_helper_id:D}).select().single();if(L)throw L;a(F.id.slice(0,8).toUpperCase()),r(!0),ot.success("Account created! Application submitted successfully!")}catch(C){console.error("Error submitting application:",C),ot.error(C.message||"Failed to submit application. Please try again.")}};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ke,{className:"max-w-2xl w-full",children:[s.jsxs(Ze,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ss,{className:"w-10 h-10 text-white"})}),s.jsx(Qe,{className:"text-3xl",children:"Application Submitted Successfully! "}),s.jsx(Cr,{className:"text-lg mt-4",children:"We'll review your application within 2-3 business days and notify you via email"})]}),s.jsxs(Te,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Application ID"}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",n]})]}),s.jsx(kt,{to:"/application-status",children:s.jsx(ae,{className:"w-full",children:"Check Application Status"})})]})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Join Our Helper Program & Earn Commissions"}),s.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Help businesses grow and earn money for every paying customer you bring"}),i&&s.jsx("div",{className:"bg-primary-foreground text-primary p-4 rounded-lg inline-block mb-8",children:s.jsxs("p",{className:"font-semibold",children:["You're applying via ",s.jsxs("span",{className:"text-primary",children:[i,"'s"]})," referral"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Xa,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Earn 10% commission on every subscription you refer"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(bi,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Build your own helper network and earn additional 5%"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(jf,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"Flexible working - work from anywhere"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[s.jsx(Ss,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold",children:"No investment required - completely free to join"})]})]})]})}),s.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4",children:s.jsxs(ke,{children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Application Form"}),s.jsx(Cr,{children:"Fill in your details to become a helper"})]}),s.jsxs(Te,{children:[!u&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Please sign in with Google to continue with your application"}),s.jsx(ae,{type:"button",onClick:j,disabled:l,variant:"outline",className:"w-full",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing up..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),u&&s.jsx(Iw,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-6",children:[s.jsx(xr,{control:b.control,name:"full_name",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Full Name *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Enter your full name",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:b.control,name:"email",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Email Address *"}),s.jsx(dr,{children:s.jsx(Ve,{type:"email",placeholder:"Enter your email",...S,disabled:u,className:u?"bg-muted":""})}),u&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-filled from Google"}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:b.control,name:"phone",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"UPI Phone Number *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Enter 10-digit phone number",...S})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:b.control,name:"why_helper",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Why do you want to become a helper?"}),s.jsx(dr,{children:s.jsx(ja,{placeholder:"Tell us why you want to join our helper program",className:"min-h-32",...S})}),s.jsx(Lr,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Bank Account Details"}),s.jsx(xr,{control:b.control,name:"bank_account_name",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Account Holder Name *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"As per bank records",...S})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:b.control,name:"bank_account_number",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Account Number *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Enter account number",...S})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:b.control,name:"bank_ifsc_code",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"IFSC Code *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"e.g., SBIN0001234",...S})}),s.jsx(Lr,{})]})}),s.jsx(xr,{control:b.control,name:"bank_name",render:({field:S})=>s.jsxs(ur,{children:[s.jsx(vr,{children:"Bank Name *"}),s.jsx(dr,{children:s.jsx(Ve,{placeholder:"Enter your bank name",...S})}),s.jsx(Lr,{})]})})]}),s.jsx(xr,{control:b.control,name:"terms",render:({field:S})=>s.jsxs(ur,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(dr,{children:s.jsx(mi,{checked:S.value,onCheckedChange:S.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(vr,{children:"I agree to terms and conditions *"}),s.jsx(Lr,{})]})]})}),s.jsx(ae,{type:"submit",className:"w-full",size:"lg",children:"Apply Now"})]})})]})]})}),s.jsx(Sn,{open:p,onOpenChange:y,children:s.jsxs(yn,{className:"sm:max-w-md",children:[s.jsxs(kn,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-red-100 p-3",children:s.jsx(Gn,{className:"h-8 w-8 text-red-600"})})}),s.jsx(Cn,{className:"text-center text-xl font-bold text-red-600",children:"Access Blocked"}),s.jsx(ps,{className:"text-center text-base pt-4",children:g})]}),s.jsx("div",{className:"flex justify-center pt-4",children:s.jsx(ae,{onClick:()=>y(!1),className:"w-full sm:w-auto",variant:"default",children:"Close"})})]})})]})}function Vit(){const[e,t]=_.useState(""),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(!1),c=async()=>{if(!e.trim()){ot.error("Please enter an email or phone number");return}i(!0),l(!0);try{const{data:d,error:f}=await Z.from("helper_applications").select("*").or(`email.eq.${e},phone.eq.${e}`).single();if(f||!d){n(null);return}n(d)}catch(d){console.error("Error searching application:",d),ot.error("Failed to search application")}finally{i(!1)}},u=d=>{switch(d){case"Pending":return s.jsxs(wt,{className:"bg-yellow-500 text-white",children:[s.jsx(ys,{className:"w-4 h-4 mr-1"}),"Application Pending"]});case"Approved":return s.jsxs(wt,{className:"bg-green-500 text-white",children:[s.jsx(Ss,{className:"w-4 h-4 mr-1"}),"Application Approved!"]});case"Rejected":return s.jsxs(wt,{className:"bg-red-500 text-white",children:[s.jsx(Gn,{className:"w-4 h-4 mr-1"}),"Application Not Approved"]});default:return null}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Check Application Status"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter your email or phone number to check your helper application status"})]}),s.jsxs(ke,{className:"mb-8",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Search Your Application"}),s.jsx(Cr,{children:"Enter the email or phone number you used to apply"})]}),s.jsx(Te,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Ve,{placeholder:"Enter email or phone number",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),s.jsxs(ae,{onClick:c,disabled:a,children:[s.jsx(Fl,{className:"w-4 h-4 mr-2"}),a?"Searching...":"Check Status"]})]})})]}),o&&!a&&s.jsx(s.Fragment,{children:r?s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{children:"Application Details"}),u(r.application_status)]})}),s.jsxs(Te,{className:"space-y-6",children:[r.application_status==="Pending"&&s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg mb-2 text-yellow-900 dark:text-yellow-100",children:"Your application is under review. We'll notify you within 2-3 business days."}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Application ID:"})," ",r.id.slice(0,8).toUpperCase()]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Applied on:"})," ",_r(new Date(r.created_at),"PPP")]})]})]}),r.application_status==="Approved"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Congratulations! Your application has been approved."}),s.jsx("div",{className:"mt-4 space-y-2 text-sm text-green-800 dark:text-green-200",children:s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Approved on:"})," ",r.approved_at?_r(new Date(r.approved_at),"PPP"):"N/A"]})}),s.jsx(kt,{to:"/auth",children:s.jsx(ae,{className:"mt-4 w-full",children:"Login to Dashboard"})})]}),r.application_status==="Rejected"&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[s.jsx("p",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-4",children:"Your application was not approved at this time."}),r.rejection_reason&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-1 text-red-900 dark:text-red-100",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.rejection_reason})]}),s.jsxs("div",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Rejected on:"})," ",_r(new Date(r.created_at),"PPP")]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Can reapply on:"})," ",_r(f7e(new Date(r.created_at),30),"PPP")]})]}),s.jsx("p",{className:"mt-4 text-sm text-red-700 dark:text-red-300",children:"You can reapply after 30 days from rejection date"})]})]})]}):s.jsx(ke,{children:s.jsxs(Te,{className:"py-12 text-center",children:[s.jsx(Gn,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Application Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find an application with this email or phone number"}),s.jsx(kt,{to:"/become-helper",children:s.jsx(ae,{children:"Apply Now"})})]})})})]})})}function zit(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState({directReferrals:{total:0,trial:0,paid:0,conversionRate:0},helperNetwork:{total:0,pending:0,approved:0,suspended:0},directCommission:{total:0,pending:0,paid:0},networkCommission:{total:0,pending:0,paid:0}});_.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:y}}=await Z.auth.getUser();if(!y){e("/auth");return}const{data:g,error:v}=await Z.from("helpers").select("*").eq("email",y.email).single();if(v||!g){const{data:w}=await Z.from("helper_applications").select("*").eq("email",y.email).single();if(w){if(w.application_status==="Pending"){e("/application-status");return}else if(w.application_status==="Rejected"){t({title:"Application Rejected",description:w.rejection_reason||"Your application was not approved",variant:"destructive"}),e("/application-status");return}}else{e("/become-helper");return}}if(g.status==="Suspended"){t({title:"Account Suspended",description:"Your helper account has been suspended. Please contact support.",variant:"destructive"});return}i(g),await u(g.id),n(!1)}catch(y){console.error("Error checking helper access:",y),e("/auth")}},u=async y=>{try{const{data:g}=await Z.from("store_referrals").select("*").eq("helper_id",y),v=g?.length||0,w=g?.filter(W=>!W.subscription_purchased).length||0,b=g?.filter(W=>W.subscription_purchased).length||0,j=v>0?b/v*100:0,{data:E}=await Z.from("helpers").select("*, helper_applications!inner(*)").eq("recruited_by_helper_id",y),S=E?.length||0,{data:C}=await Z.from("helper_applications").select("*").eq("recruited_by_helper_id",y).eq("application_status","Pending"),k=E?.filter(W=>W.status==="Active").length||0,R=E?.filter(W=>W.status==="Suspended").length||0,{data:O}=await Z.from("network_commissions").select("*").eq("earning_helper_id",y),A=O?.reduce((W,G)=>W+(G.direct_commission_amount||0),0)||0,P=O?.reduce((W,G)=>W+(G.network_commission_amount||0),0)||0,D=O?.filter(W=>W.commission_status.includes("Pending")).reduce((W,G)=>W+(G.direct_commission_amount||0),0)||0,F=O?.filter(W=>W.commission_status==="Paid").reduce((W,G)=>W+(G.direct_commission_amount||0),0)||0,L=O?.filter(W=>W.commission_status.includes("Pending")).reduce((W,G)=>W+(G.network_commission_amount||0),0)||0,H=O?.filter(W=>W.commission_status==="Paid").reduce((W,G)=>W+(G.network_commission_amount||0),0)||0;l({directReferrals:{total:v,trial:w,paid:b,conversionRate:Math.round(j)},helperNetwork:{total:S,pending:C?.length||0,approved:k,suspended:R},directCommission:{total:A,pending:D,paid:F},networkCommission:{total:P,pending:L,paid:H}})}catch(g){console.error("Error loading stats:",g)}},d=(y,g)=>{navigator.clipboard.writeText(y),ot.success(`${g} link copied to clipboard!`)},f=async()=>{await Z.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!a)return null;const m=`${window.location.origin}/auth?ref=${a.referral_code}`,p=`${window.location.origin}/become-helper?ref=${a.referral_code}`;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($f,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Helper Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),s.jsx("span",{children:a.full_name})]})}),s.jsxs(lu,{align:"end",className:"w-56",children:[s.jsxs(Ln,{onClick:()=>e("/helper/profile"),children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Zm,{}),s.jsxs(Ln,{onClick:f,className:"text-destructive",children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome back, ",a.full_name,"!"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs(wt,{variant:"outline",className:"font-mono",children:["ID: ",a.referral_code]}),s.jsx(wt,{className:a.status==="Active"?"bg-green-500":"bg-yellow-500",children:a.status})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Direct Referrals"}),s.jsx(bi,{className:"h-5 w-5 text-blue-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:o.directReferrals.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.directReferrals.trial," on trial"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.directReferrals.paid," paid customers"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Al,{className:"h-3 w-3"}),s.jsxs("span",{children:["Conversion: ",o.directReferrals.conversionRate,"%"]})]})]})]})]}),s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Helper Network"}),s.jsx(fm,{className:"h-5 w-5 text-purple-500"})]}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o.helperNetwork.total}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-3 w-3"}),s.jsxs("span",{children:[o.helperNetwork.pending," pending approval"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:[o.helperNetwork.approved," approved & active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{children:[o.helperNetwork.suspended," suspended"]})]})]})]})]}),s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Direct Commission"}),s.jsx(Xa,{className:"h-5 w-5 text-green-500"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:["",o.directCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.directCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.directCommission.paid.toLocaleString()," paid"]})]})]})]})]}),s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Network Commission"}),s.jsx(DB,{className:"h-5 w-5 text-orange-500"})]}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:["",o.networkCommission.total.toLocaleString()]}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-3 w-3"}),s.jsxs("span",{children:["",o.networkCommission.pending.toLocaleString()," pending"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"h-3 w-3 text-green-500"}),s.jsxs("span",{children:["",o.networkCommission.paid.toLocaleString()," paid"]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-referrals"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Store Referrals"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.directReferrals.total," store owners you've referred"]})]}),s.jsx(sa,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-helper-network"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Helper Network"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.helperNetwork.total," helpers you've recruited"]})]}),s.jsx(sa,{className:"h-6 w-6 text-primary"})]})})}),s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/commission-history"),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Commission History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings & payment details"})]}),s.jsx(sa,{className:"h-6 w-6 text-primary"})]})})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(DB,{className:"h-5 w-5"}),"Your Referral Links"]})}),s.jsxs(Te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Store Owner Referral Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to refer store owners"})]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(FB,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:m}),s.jsxs(ae,{onClick:()=>d(m,"Store referral"),className:"gap-2",children:[s.jsx(sc,{className:"h-4 w-4"}),"Copy"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Helper Recruitment Link"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to recruit helpers"})]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[s.jsx(FB,{className:"h-4 w-4"}),"QR Code"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:p}),s.jsxs(ae,{onClick:()=>d(p,"Helper recruitment"),className:"gap-2",children:[s.jsx(sc,{className:"h-4 w-4"}),"Copy"]})]})]})]})]})]})]})}function qit(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(""),[m,p]=_.useState("all"),[y,g]=_.useState(""),[v,w]=_.useState(""),[b,j]=_.useState({totalReferrals:0,onTrial:0,convertedToPaid:0,conversionRate:0,totalCommission:0,pendingPayment:0,alreadyPaid:0});_.useEffect(()=>{E()},[]),_.useEffect(()=>{C()},[o,d,m,y,v]);const E=async()=>{try{const{data:{user:A}}=await Z.auth.getUser();if(!A){e("/auth");return}const{data:P,error:D}=await Z.from("helpers").select("*").eq("email",A.email).single();if(D||!P){e("/helper/dashboard");return}i(P),await S(P.id),n(!1)}catch(A){console.error("Error checking helper access:",A),e("/auth")}},S=async A=>{try{const{data:P,error:D}=await Z.from("store_referrals").select("*").eq("helper_id",A).order("signup_date",{ascending:!1});if(D)throw D;const F=P?.length||0,L=P?.filter(z=>z.trial_status==="Active"&&!z.subscription_purchased).length||0,H=P?.filter(z=>z.subscription_purchased).length||0,W=F>0?H/F*100:0,{data:G}=await Z.from("network_commissions").select("*").eq("earning_helper_id",A).in("store_referral_id",P?.map(z=>z.id)||[]),K=G?.reduce((z,J)=>z+(J.direct_commission_amount||0),0)||0,I=G?.filter(z=>z.commission_status.includes("Pending")).reduce((z,J)=>z+(J.direct_commission_amount||0),0)||0,B=G?.filter(z=>z.commission_status==="Paid").reduce((z,J)=>z+(J.direct_commission_amount||0),0)||0;j({totalReferrals:F,onTrial:L,convertedToPaid:H,conversionRate:Math.round(W),totalCommission:K,pendingPayment:I,alreadyPaid:B});const Y=P?.map(z=>{const J=G?.find(X=>X.store_referral_id===z.id);return{...z,commissionEarned:J?.direct_commission_amount||0,commissionStatus:J?.commission_status||"Not Earned",paymentDate:J?.payment_date||null}})||[];l(Y),u(Y)}catch(P){console.error("Error loading referrals:",P),ot.error("Failed to load referrals")}},C=()=>{let A=[...o];d&&(A=A.filter(P=>P.store_owner_name?.toLowerCase().includes(d.toLowerCase())||P.store_owner_email?.toLowerCase().includes(d.toLowerCase()))),m==="paid"?A=A.filter(P=>P.subscription_purchased):m==="trial"&&(A=A.filter(P=>!P.subscription_purchased)),y&&(A=A.filter(P=>new Date(P.signup_date)>=new Date(y))),v&&(A=A.filter(P=>new Date(P.signup_date)<=new Date(v))),u(A)},k=A=>{if(A.subscription_purchased)return{label:"Purchased",color:"bg-green-500",icon:an};if(A.trial_status==="Active"){const P=A.trial_end_date?eS(new Date(A.trial_end_date),new Date):0;return P>0?{label:`Active Trial (${P}d left)`,color:"bg-yellow-500",icon:ys}:{label:"Trial Expired",color:"bg-red-500",icon:Gn}}return{label:"Trial Expired",color:"bg-red-500",icon:Gn}},R=A=>A==="Paid"?s.jsx(wt,{className:"bg-blue-500",children:"Paid"}):A.includes("Pending")?s.jsx(wt,{className:"bg-yellow-500",children:"Pending"}):A.includes("Earned")?s.jsx(wt,{className:"bg-green-500",children:"Earned"}):s.jsx(wt,{variant:"outline",children:"Not Earned"}),O=async()=>{await Z.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading referrals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($f,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Referrals"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(lu,{align:"end",className:"w-56",children:[s.jsxs(Ln,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Zm,{}),s.jsxs(Ln,{onClick:O,className:"text-destructive",children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"})}),s.jsx(Te,{children:s.jsx("div",{className:"text-3xl font-bold",children:b.totalReferrals})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"On Trial / Paid"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[s.jsx("span",{className:"text-yellow-500",children:b.onTrial})," / ",s.jsx("span",{className:"text-green-500",children:b.convertedToPaid})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Conversion: ",b.conversionRate,"%"]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"})}),s.jsx(Te,{children:s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",b.totalCommission.toLocaleString()]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",b.pendingPayment.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",b.alreadyPaid.toLocaleString()]})]})]})})]})]}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Ve,{placeholder:"Search by name or email...",value:d,onChange:A=>f(A.target.value),className:"pl-10"})]}),s.jsxs(yr,{value:m,onValueChange:p,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Filter by status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"Show All"}),s.jsx(Ke,{value:"paid",children:"Show Only Paid"}),s.jsx(Ke,{value:"trial",children:"Show Only Trials"})]})]}),s.jsx(Ve,{type:"date",placeholder:"From date",value:y,onChange:A=>g(A.target.value)}),s.jsx(Ve,{type:"date",placeholder:"To date",value:v,onChange:A=>w(A.target.value)})]})})}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{children:["Store Referrals (",c.length,")"]})}),s.jsx(Te,{children:c.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No referrals found"})]}):s.jsx("div",{className:"space-y-4",children:c.map(A=>{const P=k(A),D=P.icon;return s.jsx(ke,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:A.store_owner_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:A.store_owner_email}),s.jsx("div",{className:"text-sm text-muted-foreground",children:A.store_owner_phone}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.jsx(Ml,{className:"inline w-3 h-3 mr-1"}),"Signed up: ",_r(new Date(A.signup_date),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Status"}),s.jsxs(wt,{className:`${P.color} flex items-center gap-1 w-fit`,children:[s.jsx(D,{className:"w-3 h-3"}),P.label]}),A.subscription_purchased&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsxs("div",{className:"text-muted-foreground",children:["Plan: ",A.subscription_plan]}),s.jsxs("div",{className:"text-muted-foreground",children:["Amount: ",A.subscription_amount?.toLocaleString()]}),A.purchase_date&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Purchased: ",_r(new Date(A.purchase_date),"PP")]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500",children:["",A.commissionEarned.toLocaleString()]}),s.jsx("div",{className:"mt-2",children:R(A.commissionStatus)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Payment"}),A.paymentDate?s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-muted-foreground",children:"Paid on:"}),s.jsx("div",{className:"font-medium",children:_r(new Date(A.paymentDate),"PPP")})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"Not paid yet"})]})]})})},A.id)})})})]})]})]})}function Wit(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState({totalRecruited:0,pendingApproval:0,active:0,suspended:0,totalNetworkCommission:0,pendingCommission:0,paidCommission:0,bestPerformer:{name:"",earned:0}});_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:v}}=await Z.auth.getUser();if(!v){e("/auth");return}const{data:w,error:b}=await Z.from("helpers").select("*").eq("email",v.email).single();if(b||!w){e("/helper/dashboard");return}i(w),await f(w.id),n(!1)}catch(v){console.error("Error checking helper access:",v),e("/auth")}},f=async v=>{try{const{data:w,error:b}=await Z.from("helpers").select(`
          *,
          helper_applications!inner(application_status)
        `).eq("recruited_by_helper_id",v).order("created_at",{ascending:!1});if(b)throw b;const j=await Promise.all((w||[]).map(async D=>{const{data:F}=await Z.from("store_referrals").select("id").eq("helper_id",D.id),{data:L}=await Z.from("network_commissions").select("direct_commission_amount, commission_status").eq("earning_helper_id",D.id),H=L?.reduce((I,B)=>I+(B.direct_commission_amount||0),0)||0,{data:W}=await Z.from("network_commissions").select("network_commission_amount, commission_status").eq("earning_helper_id",D.id).eq("recruiting_helper_id",v),G=W?.reduce((I,B)=>I+(B.network_commission_amount||0),0)||0;let K="Not Earned";if(W&&W.length>0){const I=W.some(Y=>Y.commission_status.includes("Pending"));W.every(Y=>Y.commission_status==="Paid")?K="Paid":I?K="Pending":K="Earned"}return{...D,store_referrals_count:F?.length||0,total_commission_earned:H,network_commission_to_recruiter:G,commission_status:K,application_status:D.helper_applications?.application_status||"Pending"}}));l(j);const E=j.length,S=j.filter(D=>D.application_status==="Pending").length,C=j.filter(D=>D.status==="Active").length,k=j.filter(D=>D.status==="Suspended").length,R=j.reduce((D,F)=>D+F.network_commission_to_recruiter,0),O=j.filter(D=>D.commission_status==="Pending").reduce((D,F)=>D+F.network_commission_to_recruiter,0),A=j.filter(D=>D.commission_status==="Paid").reduce((D,F)=>D+F.network_commission_to_recruiter,0),P=j.reduce((D,F)=>F.network_commission_to_recruiter>D.earned?{name:F.full_name,earned:F.network_commission_to_recruiter}:D,{name:"",earned:0});u({totalRecruited:E,pendingApproval:S,active:C,suspended:k,totalNetworkCommission:R,pendingCommission:O,paidCommission:A,bestPerformer:P})}catch(w){console.error("Error loading recruited helpers:",w),ot.error("Failed to load network data")}},m=(v,w)=>w==="Pending"?s.jsxs(wt,{className:"bg-yellow-500",children:[s.jsx(ys,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}):v==="Active"?s.jsxs(wt,{className:"bg-green-500",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),"Active"]}):v==="Suspended"?s.jsxs(wt,{className:"bg-red-500",children:[s.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Suspended"]}):s.jsx(wt,{variant:"outline",children:"Unknown"}),p=v=>v==="Paid"?s.jsx(wt,{className:"bg-blue-500",children:"Paid"}):v==="Pending"?s.jsx(wt,{className:"bg-yellow-500",children:"Pending"}):v==="Earned"?s.jsx(wt,{className:"bg-green-500",children:"Earned"}):s.jsx(wt,{variant:"outline",children:"Not Earned"}),y=(v,w)=>{navigator.clipboard.writeText(v),ot.success(`${w} copied to clipboard!`)},g=async()=>{await Z.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading network..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(NR,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"My Helper Network"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(lu,{align:"end",className:"w-56",children:[s.jsxs(Ln,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Zm,{}),s.jsxs(Ln,{onClick:g,className:"text-destructive",children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Network Size"})}),s.jsxs(Te,{children:[s.jsx("div",{className:"text-3xl font-bold",children:c.totalRecruited}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Pending: ",c.pendingApproval," | Active: ",c.active]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Total Network Commission"})}),s.jsxs(Te,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",c.totalNetworkCommission.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["From ",c.active," active helpers"]})]})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Commission Status"})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),s.jsxs("span",{className:"font-semibold text-yellow-500",children:["",c.pendingCommission.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",c.paidCommission.toLocaleString()]})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsx(Qe,{className:"text-sm font-medium text-muted-foreground",children:"Best Performer"})}),s.jsx(Te,{children:c.bestPerformer.name?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold text-lg truncate",children:c.bestPerformer.name}),s.jsxs("p",{className:"text-sm text-green-500",children:["Earned you ",c.bestPerformer.earned.toLocaleString()]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet"})})]})]}),o.length===0?s.jsx(ke,{children:s.jsx(Te,{className:"py-16",children:s.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[s.jsx(NR,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Build Your Helper Network"}),s.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"You haven't recruited any helpers yet. Start building your network to earn 5% network commission on their earnings!"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Xa,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Passive Income"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 5% of everything your recruited helpers earn"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(Al,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Unlimited Potential"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No limit on how many helpers you can recruit"})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx(_R,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold mb-1",children:"Build Your Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a strong network and grow together"})]})]}),s.jsxs("div",{className:"bg-primary/5 border-2 border-primary/20 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center justify-center gap-2",children:[s.jsx(VJ,{className:"h-5 w-5"}),"Your Helper Recruitment Link"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-4 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(ae,{onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(sc,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this link with people interested in becoming helpers"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(ke,{className:"bg-primary/5 border-primary/20",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(_f,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:["You (",a?.full_name," - ",a?.helper_id,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Network Builder | ",o.length," Helper",o.length!==1?"s":""," Recruited"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${a?.referral_code}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm"}),s.jsxs(ae,{size:"sm",onClick:()=>y(`${window.location.origin}/become-helper?ref=${a?.referral_code}`,"Helper recruitment link"),children:[s.jsx(sc,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Your Recruited Helpers (",o.length,")"]}),o.map((v,w)=>s.jsx(ke,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(bi,{className:"h-4 w-4 text-primary"})}),w<o.length-1&&s.jsx("div",{className:"w-0.5 h-full bg-primary/20 mt-2"})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-lg",children:v.full_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.id," | ",v.referral_code]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[s.jsx(Ml,{className:"inline w-3 h-3 mr-1"}),"Joined: ",_r(new Date(v.created_at),"PPP")]}),s.jsx("div",{className:"mt-2",children:m(v.status,v.application_status)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Their Performance"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($f,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Store Referrals:"}),s.jsx("span",{className:"font-semibold",children:v.store_referrals_count})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Their Earnings:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:["",v.total_commission_earned.toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold mb-2",children:"Your Network Commission"}),s.jsxs("div",{className:"text-2xl font-bold text-green-500 mb-2",children:["",v.network_commission_to_recruiter.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["5% of their ",v.total_commission_earned.toLocaleString()]}),p(v.commission_status)]}),s.jsx("div",{className:"flex items-center",children:s.jsxs(ae,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(ya,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})]})})},v.id))]})]})]})]})}function Hit(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState([]),[m,p]=_.useState([]),[y,g]=_.useState(""),[v,w]=_.useState(""),[b,j]=_.useState("all"),[E,S]=_.useState("all"),[C,k]=_.useState({direct:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},network:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},grand:{total:0,pending:0,paid:0,nextPaymentDate:""}});_.useEffect(()=>{R()},[]),_.useEffect(()=>{A()},[o,c,y,v,b,E]);const R=async()=>{try{const{data:{user:L}}=await Z.auth.getUser();if(!L){e("/auth");return}const{data:H,error:W}=await Z.from("helpers").select("*").eq("email",L.email).single();if(W||!H){e("/helper/dashboard");return}i(H),await O(H.id),n(!1)}catch(L){console.error("Error checking helper access:",L),e("/auth")}},O=async L=>{try{const{data:H,error:W}=await Z.from("network_commissions").select(`
          *,
          store_referral:store_referrals(
            store_owner_name,
            store_owner_email,
            subscription_plan,
            subscription_amount
          )
        `).eq("earning_helper_id",L).order("created_at",{ascending:!1});if(W)throw W;const G=[],K=[];for(const Q of H||[])if(Q.direct_commission_amount>0&&G.push({id:Q.id,date_earned:Q.created_at,store_owner_name:Q.store_referral?.store_owner_name||"N/A",subscription_plan:Q.store_referral?.subscription_plan||"N/A",plan_amount:Q.store_referral?.subscription_amount||0,commission_amount:Q.direct_commission_amount,commission_status:Q.commission_status,payment_date:Q.payment_date,payment_reference:Q.payment_reference}),Q.network_commission_amount>0&&Q.recruiting_helper_id){const{data:V}=await Z.from("helpers").select("full_name").eq("id",Q.earning_helper_id).single();K.push({id:Q.id,date_earned:Q.created_at,helper_name:V?.full_name||"N/A",customer_name:Q.store_referral?.store_owner_name||"N/A",helper_commission:Q.direct_commission_amount,network_commission:Q.network_commission_amount,commission_status:Q.commission_status,payment_date:Q.payment_date,payment_reference:Q.payment_reference})}l(G),u(K);const I=G.reduce((Q,V)=>Q+V.commission_amount,0),B=G.filter(Q=>Q.commission_status.includes("Pending")).reduce((Q,V)=>Q+V.commission_amount,0),Y=G.filter(Q=>Q.commission_status==="Paid").reduce((Q,V)=>Q+V.commission_amount,0),z=G.filter(Q=>Q.commission_status.includes("Pending")).length,J=G.filter(Q=>Q.commission_status==="Paid").length,X=K.reduce((Q,V)=>Q+V.network_commission,0),ee=K.filter(Q=>Q.commission_status.includes("Pending")).reduce((Q,V)=>Q+V.network_commission,0),he=K.filter(Q=>Q.commission_status==="Paid").reduce((Q,V)=>Q+V.network_commission,0),fe=K.filter(Q=>Q.commission_status.includes("Pending")).length,ge=K.filter(Q=>Q.commission_status==="Paid").length,U=[...G,...K].filter(Q=>Q.commission_status.includes("Pending")&&Q.payment_date).map(Q=>new Date(Q.payment_date).getTime()).sort((Q,V)=>Q-V),ne=U.length>0?_r(new Date(U[0]),"PPP"):"TBD";k({direct:{total:I,pending:B,paid:Y,pendingCount:z,paidCount:J},network:{total:X,pending:ee,paid:he,pendingCount:fe,paidCount:ge},grand:{total:I+X,pending:B+ee,paid:Y+he,nextPaymentDate:ne}})}catch(H){console.error("Error loading commissions:",H),ot.error("Failed to load commission history")}},A=()=>{let L=[...o],H=[...c];y&&(L=L.filter(W=>new Date(W.date_earned)>=new Date(y)),H=H.filter(W=>new Date(W.date_earned)>=new Date(y))),v&&(L=L.filter(W=>new Date(W.date_earned)<=new Date(v)),H=H.filter(W=>new Date(W.date_earned)<=new Date(v))),b==="pending"?(L=L.filter(W=>W.commission_status.includes("Pending")),H=H.filter(W=>W.commission_status.includes("Pending"))):b==="paid"&&(L=L.filter(W=>W.commission_status==="Paid"),H=H.filter(W=>W.commission_status==="Paid")),E==="direct"?H=[]:E==="network"&&(L=[]),f(L),p(H)},P=L=>L==="Paid"?s.jsxs(wt,{className:"bg-green-500",children:[s.jsx(an,{className:"w-3 h-3 mr-1"}),"Paid"]}):L.includes("Pending")?s.jsxs(wt,{className:"bg-yellow-500",children:[s.jsx(ys,{className:"w-3 h-3 mr-1"}),"Pending"]}):s.jsx(wt,{variant:"outline",children:L}),D=()=>{try{const L=d.map(B=>({"Date Earned":_r(new Date(B.date_earned),"PPP"),"Store Owner":B.store_owner_name,"Subscription Plan":B.subscription_plan,"Plan Amount":`${B.plan_amount.toLocaleString()}`,"Your Commission (10%)":`${B.commission_amount.toLocaleString()}`,Status:B.commission_status,"Payment Date":B.payment_date?_r(new Date(B.payment_date),"PPP"):"N/A","Payment Reference":B.payment_reference||"N/A"})),H=m.map(B=>({"Date Earned":_r(new Date(B.date_earned),"PPP"),"Helper Name":B.helper_name,"Their Customer":B.customer_name,"Their Commission":`${B.helper_commission.toLocaleString()}`,"Your Network Commission (5%)":`${B.network_commission.toLocaleString()}`,Status:B.commission_status,"Payment Date":B.payment_date?_r(new Date(B.payment_date),"PPP"):"N/A","Payment Reference":B.payment_reference||"N/A"})),W=na.book_new();if(L.length>0){const B=na.json_to_sheet(L);na.book_append_sheet(W,B,"Direct Commissions")}if(H.length>0){const B=na.json_to_sheet(H);na.book_append_sheet(W,B,"Network Commissions")}const G=[{Category:"Direct Commissions",Total:`${C.direct.total.toLocaleString()}`,Pending:`${C.direct.pending.toLocaleString()}`,Paid:`${C.direct.paid.toLocaleString()}`},{Category:"Network Commissions",Total:`${C.network.total.toLocaleString()}`,Pending:`${C.network.pending.toLocaleString()}`,Paid:`${C.network.paid.toLocaleString()}`},{Category:"GRAND TOTAL",Total:`${C.grand.total.toLocaleString()}`,Pending:`${C.grand.pending.toLocaleString()}`,Paid:`${C.grand.paid.toLocaleString()}`}],K=na.json_to_sheet(G);na.book_append_sheet(W,K,"Summary");const I=`commission_history_${_r(new Date,"yyyy-MM-dd")}.xlsx`;$m(W,I),ot.success("Commission history exported successfully!")}catch(L){console.error("Error exporting to Excel:",L),ot.error("Failed to export commission history")}},F=async()=>{await Z.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading commission history..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Commission History"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(lu,{align:"end",className:"w-56",children:[s.jsxs(Ln,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Zm,{}),s.jsxs(Ln,{onClick:F,className:"text-destructive",children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[s.jsx(ke,{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500/20",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earned"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",C.grand.total.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct + Network"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pending"}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-500",children:["",C.grand.pending.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-500",children:["",C.grand.paid.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Received"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Next Payment"}),s.jsx("p",{className:"text-xl font-bold",children:C.grand.nextPaymentDate}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected date"})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Ve,{type:"date",placeholder:"From date",value:y,onChange:L=>g(L.target.value)}),s.jsx(Ve,{type:"date",placeholder:"To date",value:v,onChange:L=>w(L.target.value)}),s.jsxs(yr,{value:b,onValueChange:j,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Status"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Status"}),s.jsx(Ke,{value:"pending",children:"Pending Only"}),s.jsx(Ke,{value:"paid",children:"Paid Only"})]})]}),s.jsxs(yr,{value:E,onValueChange:S,children:[s.jsx(fr,{children:s.jsx(br,{placeholder:"Type"})}),s.jsxs(hr,{children:[s.jsx(Ke,{value:"all",children:"All Types"}),s.jsx(Ke,{value:"direct",children:"Direct Only"}),s.jsx(Ke,{value:"network",children:"Network Only"})]})]}),s.jsxs(ae,{onClick:D,className:"w-full",children:[s.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]})})}),E!=="network"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Direct Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Store Owners You Referred)"})]}),s.jsx(ke,{className:"bg-green-500/5 border-green-500/20",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Direct Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",C.direct.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.direct.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.pendingCount," customer",C.direct.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-blue-500",children:["",C.direct.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.direct.paidCount," customer",C.direct.paidCount!==1?"s":""]})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No direct commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Date Earned"}),s.jsx(tt,{children:"Store Owner"}),s.jsx(tt,{children:"Subscription Plan"}),s.jsx(tt,{children:"Plan Amount"}),s.jsx(tt,{children:"Your Commission (10%)"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Payment Date"}),s.jsx(tt,{children:"Reference"})]})}),s.jsx(oa,{children:d.map(L=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ml,{className:"h-4 w-4 text-muted-foreground"}),_r(new Date(L.date_earned),"PP")]})}),s.jsx(Xe,{className:"font-medium",children:L.store_owner_name}),s.jsx(Xe,{children:L.subscription_plan}),s.jsxs(Xe,{children:["",L.plan_amount.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-green-500",children:["",L.commission_amount.toLocaleString()]}),s.jsx(Xe,{children:P(L.commission_status)}),s.jsx(Xe,{children:L.payment_date?_r(new Date(L.payment_date),"PP"):"-"}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:L.payment_reference||"-"})]},L.id))})]})})})})]}),E!=="direct"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Network Commissions"}),s.jsx("span",{className:"text-muted-foreground",children:"(From Helpers You Recruited)"})]}),s.jsx(ke,{className:"bg-blue-500/5 border-blue-500/20",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Network Commission"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",C.network.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),s.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",C.network.pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.pendingCount," helper",C.network.pendingCount!==1?"s":""]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),s.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",C.network.paid.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",C.network.paidCount," helper",C.network.paidCount!==1?"s":""]})]})]})})}),s.jsx(ke,{children:s.jsx(Te,{className:"p-0",children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No network commissions found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(aa,{children:[s.jsx(ia,{children:s.jsxs(Nr,{children:[s.jsx(tt,{children:"Date Earned"}),s.jsx(tt,{children:"Helper Name"}),s.jsx(tt,{children:"Their Customer"}),s.jsx(tt,{children:"Their Commission"}),s.jsx(tt,{children:"Your Network Commission (5%)"}),s.jsx(tt,{children:"Status"}),s.jsx(tt,{children:"Payment Date"}),s.jsx(tt,{children:"Reference"})]})}),s.jsx(oa,{children:m.map(L=>s.jsxs(Nr,{children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ml,{className:"h-4 w-4 text-muted-foreground"}),_r(new Date(L.date_earned),"PP")]})}),s.jsx(Xe,{className:"font-medium",children:L.helper_name}),s.jsx(Xe,{children:L.customer_name}),s.jsxs(Xe,{children:["",L.helper_commission.toLocaleString()]}),s.jsxs(Xe,{className:"font-bold text-blue-500",children:["",L.network_commission.toLocaleString()]}),s.jsx(Xe,{children:P(L.commission_status)}),s.jsx(Xe,{children:L.payment_date?_r(new Date(L.payment_date),"PP"):"-"}),s.jsx(Xe,{className:"text-sm text-muted-foreground",children:L.payment_reference||"-"})]},L.id))})]})})})})]})]})]})}function Git(){const e=wr(),{toast:t}=cs(),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,p]=_.useState(null),[y,g]=_.useState({full_name:"",phone:""}),[v,w]=_.useState({account_holder_name:"",account_number:"",ifsc_code:"",bank_name:""}),[b,j]=_.useState(""),[E,S]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,k]=_.useState({memberSince:"",daysActive:0,totalEarnings:0,rank:"Bronze",badges:[]});_.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{user:W}}=await Z.auth.getUser();if(!W){e("/auth");return}const{data:G,error:K}=await Z.from("helpers").select("*").eq("email",W.email).single();if(K||!G){e("/helper/dashboard");return}if(i(G),g({full_name:G.full_name,phone:G.phone}),G.application_id){const{data:I}=await Z.from("helper_applications").select("bank_account_name, bank_account_number, bank_ifsc_code, bank_name").eq("id",G.application_id).single();I&&w({account_holder_name:I.bank_account_name||"",account_number:I.bank_account_number||"",ifsc_code:I.bank_ifsc_code||"",bank_name:I.bank_name||""})}await O(G.id,G.created_at),n(!1)}catch(W){console.error("Error checking helper access:",W),e("/auth")}},O=async(W,G)=>{try{const K=eS(new Date,new Date(G)),{data:I}=await Z.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",W),B=I?.reduce((J,X)=>J+(X.direct_commission_amount||0)+(X.network_commission_amount||0),0)||0;let Y="Bronze";const z=[];B>=1e5?(Y="Gold",z.push("Gold Member","Top Performer","Network Builder")):B>=5e4?(Y="Silver",z.push("Silver Member","Rising Star")):(Y="Bronze",K>=30&&z.push("Consistent Helper"),B>0&&z.push("First Earnings")),k({memberSince:_r(new Date(G),"PPP"),daysActive:K,totalEarnings:B,rank:Y,badges:z})}catch(K){console.error("Error loading performance:",K)}},A=async()=>{try{const{error:W}=await Z.from("helpers").update({full_name:y.full_name,phone:y.phone,updated_at:new Date().toISOString()}).eq("id",a.id);if(W)throw W;i({...a,full_name:y.full_name,phone:y.phone}),l(!1),ot.success("Profile updated successfully!")}catch(W){console.error("Error updating profile:",W),ot.error("Failed to update profile")}},P=()=>{p(v),f(!0)},D=async()=>{try{const{data:{user:W}}=await Z.auth.getUser();if(!W?.email)throw new Error("User not found");const{error:G}=await Z.auth.signInWithPassword({email:W.email,password:b});if(G){ot.error("Incorrect password");return}const{error:K}=await Z.from("helper_applications").update({bank_account_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}).eq("id",a.application_id);if(K)throw K;i({...a,bank_account_holder_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}),u(!1),f(!1),j(""),p(null),ot.success("Bank details updated successfully!")}catch(W){console.error("Error updating bank details:",W),ot.error("Failed to update bank details")}},F=async()=>{if(E.newPassword!==E.confirmPassword){ot.error("New passwords do not match");return}if(E.newPassword.length<6){ot.error("Password must be at least 6 characters");return}try{const{data:{user:W}}=await Z.auth.getUser();if(!W?.email)throw new Error("User not found");const{error:G}=await Z.auth.signInWithPassword({email:W.email,password:E.currentPassword});if(G){ot.error("Current password is incorrect");return}const{error:K}=await Z.auth.updateUser({password:E.newPassword});if(K)throw K;S({currentPassword:"",newPassword:"",confirmPassword:""}),ot.success("Password changed successfully!")}catch(W){console.error("Error changing password:",W),ot.error("Failed to change password")}},L=W=>{const G={Bronze:"bg-orange-500",Silver:"bg-gray-400",Gold:"bg-yellow-500"};return s.jsxs(wt,{className:`${G[W]} text-white text-lg px-4 py-1`,children:[s.jsx(_R,{className:"w-4 h-4 mr-2"}),W]})},H=async()=>{await Z.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:s.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kt,{to:"/helper/dashboard",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ba,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold",children:"Profile & Settings"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ti,{}),s.jsxs(ad,{children:[s.jsx(id,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),s.jsx("span",{children:a?.full_name})]})}),s.jsxs(lu,{align:"end",className:"w-56",children:[s.jsxs(Ln,{children:[s.jsx(ba,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsx(Zm,{}),s.jsxs(Ln,{onClick:H,className:"text-destructive",children:[s.jsx(Km,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),s.jsx("main",{className:"container mx-auto p-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(_f,{className:"h-5 w-5"}),"Profile Information"]}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{l(!1),g({full_name:a.full_name,phone:a.phone})},children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ae,{size:"sm",onClick:A,children:[s.jsx(vc,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[s.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Te,{className:"space-y-4",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Full Name"}),s.jsx(Ve,{value:y.full_name,onChange:W=>g({...y,full_name:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Phone"}),s.jsx(Ve,{value:y.phone,onChange:W=>g({...y,phone:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Email (Cannot be changed)"}),s.jsx(Ve,{value:a.email,disabled:!0})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Full Name"}),s.jsx("p",{className:"font-semibold",children:a.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(xc,{className:"h-4 w-4"}),a.email]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(dc,{className:"h-4 w-4"}),a.phone]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Helper ID"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx($f,{className:"h-4 w-4"}),a.helper_id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Referral Code"}),s.jsx("p",{className:"font-semibold text-primary",children:a.referral_code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Joined Date"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Ml,{className:"h-4 w-4"}),_r(new Date(a.created_at),"PPP")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(wt,{className:a.status==="Active"?"bg-green-500":"bg-red-500",children:a.status})]})]})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-5 w-5"}),"Bank Details"]}),c?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{u(!1),w({account_holder_name:a.bank_account_holder_name||"",account_number:a.bank_account_number||"",ifsc_code:a.bank_ifsc_code||"",bank_name:a.bank_name||""})},children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ae,{size:"sm",onClick:P,children:[s.jsx(vc,{className:"h-4 w-4 mr-2"}),"Save"]})]}):s.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>u(!0),children:[s.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),s.jsx(Te,{className:"space-y-4",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Account Holder Name"}),s.jsx(Ve,{value:v.account_holder_name,onChange:W=>w({...v,account_holder_name:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Account Number"}),s.jsx(Ve,{value:v.account_number,onChange:W=>w({...v,account_number:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"IFSC Code"}),s.jsx(Ve,{value:v.ifsc_code,onChange:W=>w({...v,ifsc_code:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Bank Name"}),s.jsx(Ve,{value:v.bank_name,onChange:W=>w({...v,bank_name:W.target.value})})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.bank_account_holder_name?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Holder Name"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_holder_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Number"}),s.jsx("p",{className:"font-semibold",children:a.bank_account_number?`****${a.bank_account_number.slice(-4)}`:"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"IFSC Code"}),s.jsx("p",{className:"font-semibold",children:a.bank_ifsc_code||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Bank Name"}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Fge,{className:"h-4 w-4"}),a.bank_name||"Not provided"]})]})]}):s.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[s.jsx(Dn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No bank details added yet"})]})})})]}),s.jsxs(ke,{children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(hg,{className:"h-5 w-5"}),"Change Password"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Current Password"}),s.jsx(Ve,{type:"password",value:E.currentPassword,onChange:W=>S({...E,currentPassword:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"New Password"}),s.jsx(Ve,{type:"password",value:E.newPassword,onChange:W=>S({...E,newPassword:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Confirm New Password"}),s.jsx(Ve,{type:"password",value:E.confirmPassword,onChange:W=>S({...E,confirmPassword:W.target.value})})]}),s.jsx(ae,{onClick:F,children:"Update Password"})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(ke,{className:"bg-gradient-to-br from-primary/10 to-purple-500/10",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Al,{className:"h-5 w-5"}),"Your Performance"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsx("div",{className:"text-center py-4",children:L(C.rank)}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Member Since"}),s.jsx("span",{className:"font-semibold",children:C.memberSince})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Days Active"}),s.jsxs("span",{className:"font-semibold text-blue-500",children:[C.daysActive," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),s.jsxs("span",{className:"font-bold text-green-500 text-lg",children:["",C.totalEarnings.toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),s.jsx("span",{className:"font-semibold",children:C.rank})]})]}),C.badges.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(_R,{className:"h-4 w-4"}),"Achievement Badges"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.badges.map((W,G)=>s.jsxs(wt,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(an,{className:"h-3 w-3"}),W]},G))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Rank Progression"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bronze"}),s.jsx("span",{className:"text-muted-foreground",children:"0+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Silver"}),s.jsx("span",{className:"text-muted-foreground",children:"50,000+"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Gold"}),s.jsx("span",{className:"text-muted-foreground",children:"100,000+"})]})]})]})]})]})})]})}),s.jsx(Sn,{open:d,onOpenChange:f,children:s.jsxs(yn,{children:[s.jsxs(kn,{children:[s.jsx(Cn,{children:"Verify Password"}),s.jsx(ps,{children:"Please enter your password to confirm bank details update"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ce,{children:"Password"}),s.jsx(Ve,{type:"password",value:b,onChange:W=>j(W.target.value),placeholder:"Enter your password"})]})}),s.jsxs(Da,{children:[s.jsx(ae,{variant:"outline",onClick:()=>{f(!1),j(""),p(null)},children:"Cancel"}),s.jsx(ae,{onClick:D,children:"Verify & Update"})]})]})})]})}function Kit(){const e=wr(),[t,r]=_.useState(!1),[n,a]=_.useState(!0);_.useEffect(()=>{const o=async c=>{try{console.log("[HelperLogin] Checking helper status for user:",c);const{data:u,error:d}=await Z.from("helpers").select("*").eq("id",c).maybeSingle();if(d){console.error("[HelperLogin] Error checking helper status:",d);return}if(u){console.log("[HelperLogin] Approved helper found, redirecting to dashboard"),ot.success("Welcome back!"),e("/helper/dashboard");return}const{data:f,error:m}=await Z.from("helper_applications").select("*").eq("user_id",c).maybeSingle();if(m){console.error("[HelperLogin] Error checking application:",m);return}if(f){console.log("[HelperLogin] Application found with status:",f.application_status),f.application_status==="Pending"?ot.info("Your application is under review"):f.application_status==="Rejected"?ot.error("Your helper application was rejected"):ot.info("Checking your application status..."),e("/application-status");return}console.log("[HelperLogin] No helper or application found"),ot.error("You are not registered as a helper. Please apply to become a helper first."),await Z.auth.signOut()}catch(u){console.error("[HelperLogin] Error in session check:",u)}};Z.auth.getSession().then(async({data:{session:c}})=>{c&&(console.log("[HelperLogin] Existing session found"),await o(c.user.id)),a(!1)});const{data:{subscription:l}}=Z.auth.onAuthStateChange(async(c,u)=>{console.log("[HelperLogin] Auth state changed:",c),c==="SIGNED_IN"&&u&&(console.log("[HelperLogin] User signed in, checking helper status"),a(!0),setTimeout(async()=>{await o(u.user.id),a(!1)},100))});return()=>l.unsubscribe()},[e]);const i=async()=>{try{r(!0),console.log("[HelperLogin] Starting Google sign in for helper...");const{error:o}=await Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/helper/login`}});o?(console.error("[HelperLogin] Google sign in error:",o),ot.error(o.message||"Failed to sign in with Google")):console.log("[HelperLogin] Google OAuth redirect initiated")}catch(o){console.error("[HelperLogin] Unexpected error:",o),ot.error(o.message||"An unexpected error occurred")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"mb-4",children:s.jsx(kt,{to:"/",children:s.jsxs(ae,{variant:"ghost",size:"sm",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),s.jsxs(ke,{className:"shadow-xl",children:[s.jsxs(Ze,{className:"space-y-1 text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:s.jsx(bi,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx(Qe,{className:"text-2xl font-bold",children:"Helper Login"}),s.jsx(Cr,{children:"Sign in to access your helper dashboard"})]}),s.jsx(Te,{children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[s.jsx(Gt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking your session..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ae,{onClick:i,disabled:t,variant:"outline",className:"w-full",size:"lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't have a helper account?"}),s.jsx(kt,{to:"/become-helper",children:s.jsx(ae,{variant:"link",className:"text-blue-600 dark:text-blue-400",children:"Apply to become a helper"})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Are you a store owner?"," ",s.jsx(kt,{to:"/auth",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]})})]})})]}),s.jsx(ke,{className:"mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:s.jsx(Te,{className:"pt-4",children:s.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-200 text-center",children:[s.jsx("strong",{children:"Note:"})," This login is exclusively for helpers. Store owners should use the main login page."]})})})]})})}function lJ(){const[e,t]=_.useState(""),[r,n]=_.useState(!0);return _.useEffect(()=>{const a=async(l,c)=>{console.log("[SITEMAP] Generating store-specific sitemap for:",l);const{data:u,error:d}=await Z.from("stores").select("id, slug, subdomain, custom_domain, updated_at").or(`slug.eq.${l},subdomain.eq.${l},custom_domain.eq.${l}`).single();if(d||!u){console.error("[SITEMAP] Store not found:",d),t(`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
</urlset>`);return}let f="";u.custom_domain?f=`https://${u.custom_domain}`:u.subdomain?f=`https://${u.subdomain}.digitaldukandar.in`:f=`https://digitaldukandar.in/${u.slug}`;const{data:m,error:p}=await Z.from("products").select("id, name, slug, updated_at").eq("store_id",u.id).eq("status","published").order("created_at",{ascending:!1});p&&console.error("[SITEMAP] Error fetching products:",p),console.log("[SITEMAP] Store products found:",m?.length||0);let y=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Store Home -->
  <url>
    <loc>${f}</loc>
    <lastmod>${u.updated_at?new Date(u.updated_at).toISOString().split("T")[0]:c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Store Pages -->
  <url>
    <loc>${f}/products</loc>
    <lastmod>${c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>${f}/categories</loc>
    <lastmod>${c}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>${f}/policies</loc>
    <lastmod>${c}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- Individual Products (${m?.length||0} products) -->`;if(m&&m.length>0)for(const g of m){const v=g.slug||g.id,w=`${f}/products/${v}`,b=g.updated_at?new Date(g.updated_at).toISOString().split("T")[0]:c;y+=`
  <url>
    <loc>${w}</loc>
    <lastmod>${b}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>`}y+=`
</urlset>`,t(y)},i=async l=>{console.log("[SITEMAP] Generating platform-wide sitemap");const{data:c,error:u}=await Z.from("stores").select("slug, subdomain, custom_domain, updated_at").order("created_at",{ascending:!1});console.log("[SITEMAP] Stores query result:",{stores:c,error:u}),console.log("[SITEMAP] Number of stores:",c?.length||0);let d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Platform Pages -->
  <url>
    <loc>https://digitaldukandar.in/</loc>
    <lastmod>${l}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/pricing</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/auth</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.6</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/become-helper</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/privacy-policy</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/terms-of-service</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>

  <!-- Store Pages (${c?.length||0} stores found) -->`;if(c&&c.length>0){console.log("[SITEMAP] Adding",c.length,"stores to sitemap");for(const f of c){let m="";f.custom_domain?(m=`https://${f.custom_domain}`,console.log(`[SITEMAP] Store ${f.slug}: using custom_domain -> ${m}`)):f.subdomain?(m=`https://${f.subdomain}.digitaldukandar.in`,console.log(`[SITEMAP] Store ${f.slug}: using subdomain -> ${m}`)):(m=`https://digitaldukandar.in/${f.slug}`,console.log(`[SITEMAP] Store ${f.slug}: using slug fallback -> ${m}`));const p=f.updated_at?new Date(f.updated_at).toISOString().split("T")[0]:l;d+=`
  <url>
    <loc>${m}</loc>
    <lastmod>${p}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>`}}d+=`
</urlset>`,t(d)};(async()=>{try{n(!0);const l=p2(),c=uQ(),u=new Date().toISOString().split("T")[0];console.log("[SITEMAP] Domain Info:",l),console.log("[SITEMAP] Store Identifier:",c),l.isStoreSpecific&&c?await a(c,u):await i(u)}catch(l){console.error("[SITEMAP] Error generating sitemap:",l)}finally{n(!1)}})()},[]),_.useEffect(()=>{e&&document.querySelector('meta[http-equiv="Content-Type"]')?.setAttribute("content","application/xml")},[e]),r?s.jsx("div",{style:{padding:"20px"},children:"Generating sitemap..."}):s.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e})}const Yit=new mye,Xit=()=>{const e=p2(),t=uQ();return console.log("Domain Info:",e),console.log("Store Identifier:",t),s.jsx(yye,{client:Yit,children:s.jsx(lQ,{children:s.jsx(R0e,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(Mh,{children:s.jsxs(Wbe,{children:[s.jsx(A0e,{}),s.jsx(dxe,{}),s.jsxs(Dbe,{children:[s.jsx(vwe,{}),s.jsx(kbe,{children:e.isStoreSpecific&&t?s.jsxs(s.Fragment,{children:[s.jsx(Ot,{path:"/",element:s.jsx(iJ,{slug:t})}),s.jsx(Ot,{path:"/policies",element:s.jsx(oJ,{slug:t})}),s.jsx(Ot,{path:"/categories",element:s.jsx(oA,{slug:t})}),s.jsx(Ot,{path:"/products",element:s.jsx(iA,{slug:t})}),s.jsx(Ot,{path:"/products/:slug",element:s.jsx(lA,{slug:t})}),s.jsx(Ot,{path:"/cart",element:s.jsx(cA,{slug:t})}),s.jsx(Ot,{path:"/checkout",element:s.jsx(uA,{slug:t})}),s.jsx(Ot,{path:"/payment-success",element:s.jsx(dA,{})}),s.jsx(Ot,{path:"/sitemap.xml",element:s.jsx(lJ,{})}),s.jsx(Ot,{path:"*",element:s.jsx(jU,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ot,{path:"/",element:s.jsx(FNe,{})}),s.jsx(Ot,{path:"/pricing",element:s.jsx(WUe,{})}),s.jsx(Ot,{path:"/auth",element:s.jsx(HUe,{})}),s.jsx(Ot,{path:"/sitemap.xml",element:s.jsx(lJ,{})}),s.jsx(Ot,{path:"/privacy-policy",element:s.jsx(Lit,{})}),s.jsx(Ot,{path:"/terms-of-service",element:s.jsx($it,{})}),s.jsx(Ot,{path:"/become-helper",element:s.jsx(Uit,{})}),s.jsx(Ot,{path:"/application-status",element:s.jsx(Vit,{})}),s.jsx(Ot,{path:"/helper/login",element:s.jsx(Kit,{})}),s.jsx(Ot,{path:"/helper/dashboard",element:s.jsx(zit,{})}),s.jsx(Ot,{path:"/helper/my-referrals",element:s.jsx(qit,{})}),s.jsx(Ot,{path:"/helper/my-helper-network",element:s.jsx(Wit,{})}),s.jsx(Ot,{path:"/helper/commission-history",element:s.jsx(Hit,{})}),s.jsx(Ot,{path:"/helper/profile",element:s.jsx(Git,{})}),s.jsx(Ot,{path:"/home",element:s.jsx(sUe,{})}),s.jsx(Ot,{path:"/categories",element:s.jsx(oA,{})}),s.jsx(Ot,{path:"/products",element:s.jsx(iA,{})}),s.jsx(Ot,{path:"/products/:slug",element:s.jsx(lA,{})}),s.jsx(Ot,{path:"/cart",element:s.jsx(cA,{})}),s.jsx(Ot,{path:"/checkout",element:s.jsx(uA,{})}),s.jsx(Ot,{path:"/payment-success",element:s.jsx(dA,{})}),s.jsx(Ot,{path:"/admin/dashboard",element:s.jsx(xke,{})}),s.jsx(Ot,{path:"/admin/products",element:s.jsx(xCe,{})}),s.jsx(Ot,{path:"/admin/products/add",element:s.jsx(REe,{})}),s.jsx(Ot,{path:"/admin/products/edit/:id",element:s.jsx(MEe,{})}),s.jsx(Ot,{path:"/admin/categories",element:s.jsx(GFe,{})}),s.jsx(Ot,{path:"/admin/orders",element:s.jsx(qFe,{})}),s.jsx(Ot,{path:"/admin/analytics",element:s.jsx(WFe,{})}),s.jsx(Ot,{path:"/admin/subscription",element:s.jsx(KFe,{})}),s.jsx(Ot,{path:"/admin/growth/seo",element:s.jsx(YFe,{})}),s.jsx(Ot,{path:"/admin/growth/social-media",element:s.jsx(XFe,{})}),s.jsx(Ot,{path:"/admin/growth/instagram",element:s.jsx(JFe,{})}),s.jsx(Ot,{path:"/admin/marketplace",element:s.jsx(a6e,{})}),s.jsx(Ot,{path:"/admin/shipping",element:s.jsx(i6e,{})}),s.jsx(Ot,{path:"/admin/google-reviews",element:s.jsx(o6e,{})}),s.jsx(Ot,{path:"/admin/settings",element:s.jsx(Fke,{})}),s.jsx(Ot,{path:"/superadmin/login",element:s.jsx(GUe,{})}),s.jsxs(Ot,{path:"/superadmin",element:s.jsx(Sit,{}),children:[s.jsx(Ot,{path:"dashboard",element:s.jsx(YUe,{})}),s.jsx(Ot,{path:"users",element:s.jsx(CVe,{})}),s.jsx(Ot,{path:"helpers",element:s.jsx(TVe,{})}),s.jsx(Ot,{path:"commissions",element:s.jsx(AVe,{})}),s.jsx(Ot,{path:"commission-settings",element:s.jsx(qVe,{})}),s.jsx(Ot,{path:"reports-analytics",element:s.jsx(dit,{})}),s.jsx(Ot,{path:"subscription-plans",element:s.jsx(mit,{})}),s.jsx(Ot,{path:"transactions",element:s.jsx(pit,{})}),s.jsx(Ot,{path:"billing",element:s.jsx(git,{})}),s.jsx(Ot,{path:"custom-domains",element:s.jsx(xit,{})}),s.jsx(Ot,{path:"settings",element:s.jsx(vit,{})}),s.jsx(Ot,{path:"sitemaps",element:s.jsx(wit,{})}),s.jsx(Ot,{path:"marketplace",element:s.jsx(Nit,{})})]}),s.jsx(Ot,{path:"/onboarding/store-setup",element:s.jsx(Ait,{})}),s.jsx(Ot,{path:"/:slug",element:s.jsx(iJ,{})}),s.jsx(Ot,{path:"/:slug/policies",element:s.jsx(oJ,{})}),s.jsx(Ot,{path:"/:slug/categories",element:s.jsx(oA,{})}),s.jsx(Ot,{path:"/:slug/products",element:s.jsx(iA,{})}),s.jsx(Ot,{path:"/:slug/products/:productSlug",element:s.jsx(lA,{})}),s.jsx(Ot,{path:"/:slug/cart",element:s.jsx(cA,{})}),s.jsx(Ot,{path:"/:slug/checkout",element:s.jsx(uA,{})}),s.jsx(Ot,{path:"/:slug/payment-success",element:s.jsx(dA,{})}),s.jsx(Ot,{path:"*",element:s.jsx(jU,{})})]})})]})]})})})})})};Mpe.createRoot(document.getElementById("root")).render(s.jsx(Xit,{}));
