function Ioe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Moe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var SN={exports:{}},u0={},NN={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zF;function Foe(){if(zF)return fr;zF=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function v(G,F,X){this.props=G,this.context=F,this.refs=x,this.updater=X||g}v.prototype.isReactComponent={},v.prototype.setState=function(G,F){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,F,"setState")},v.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function j(){}j.prototype=v.prototype;function S(G,F,X){this.props=G,this.context=F,this.refs=x,this.updater=X||g}var w=S.prototype=new j;w.constructor=S,y(w,v.prototype),w.isPureReactComponent=!0;var T=Array.isArray,E=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(G,F,X){var Z,re={},ee=null,ce=null;if(F!=null)for(Z in F.ref!==void 0&&(ce=F.ref),F.key!==void 0&&(ee=""+F.key),F)E.call(F,Z)&&!k.hasOwnProperty(Z)&&(re[Z]=F[Z]);var pe=arguments.length-2;if(pe===1)re.children=X;else if(1<pe){for(var Y=Array(pe),Q=0;Q<pe;Q++)Y[Q]=arguments[Q+2];re.children=Y}if(G&&G.defaultProps)for(Z in pe=G.defaultProps,pe)re[Z]===void 0&&(re[Z]=pe[Z]);return{$$typeof:e,type:G,key:ee,ref:ce,props:re,_owner:N.current}}function A(G,F){return{$$typeof:e,type:G.type,key:F,ref:G.ref,props:G.props,_owner:G._owner}}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function P(G){var F={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(X){return F[X]})}var D=/\/+/g;function B(G,F){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):F.toString(36)}function U(G,F,X,Z,re){var ee=typeof G;(ee==="undefined"||ee==="boolean")&&(G=null);var ce=!1;if(G===null)ce=!0;else switch(ee){case"string":case"number":ce=!0;break;case"object":switch(G.$$typeof){case e:case t:ce=!0}}if(ce)return ce=G,re=re(ce),G=Z===""?"."+B(ce,0):Z,T(re)?(X="",G!=null&&(X=G.replace(D,"$&/")+"/"),U(re,F,X,"",function(Q){return Q})):re!=null&&(I(re)&&(re=A(re,X+(!re.key||ce&&ce.key===re.key?"":(""+re.key).replace(D,"$&/")+"/")+G)),F.push(re)),1;if(ce=0,Z=Z===""?".":Z+":",T(G))for(var pe=0;pe<G.length;pe++){ee=G[pe];var Y=Z+B(ee,pe);ce+=U(ee,F,X,Y,re)}else if(Y=m(G),typeof Y=="function")for(G=Y.call(G),pe=0;!(ee=G.next()).done;)ee=ee.value,Y=Z+B(ee,pe++),ce+=U(ee,F,X,Y,re);else if(ee==="object")throw F=String(G),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ce}function H(G,F,X){if(G==null)return G;var Z=[],re=0;return U(G,Z,"","",function(ee){return F.call(X,ee,re++)}),Z}function M(G){if(G._status===-1){var F=G._result;F=F(),F.then(function(X){(G._status===0||G._status===-1)&&(G._status=1,G._result=X)},function(X){(G._status===0||G._status===-1)&&(G._status=2,G._result=X)}),G._status===-1&&(G._status=0,G._result=F)}if(G._status===1)return G._result.default;throw G._result}var W={current:null},K={transition:null},V={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:K,ReactCurrentOwner:N};function z(){throw Error("act(...) is not supported in production builds of React.")}return fr.Children={map:H,forEach:function(G,F,X){H(G,function(){F.apply(this,arguments)},X)},count:function(G){var F=0;return H(G,function(){F++}),F},toArray:function(G){return H(G,function(F){return F})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},fr.Component=v,fr.Fragment=r,fr.Profiler=s,fr.PureComponent=S,fr.StrictMode=n,fr.Suspense=c,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,fr.act=z,fr.cloneElement=function(G,F,X){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Z=y({},G.props),re=G.key,ee=G.ref,ce=G._owner;if(F!=null){if(F.ref!==void 0&&(ee=F.ref,ce=N.current),F.key!==void 0&&(re=""+F.key),G.type&&G.type.defaultProps)var pe=G.type.defaultProps;for(Y in F)E.call(F,Y)&&!k.hasOwnProperty(Y)&&(Z[Y]=F[Y]===void 0&&pe!==void 0?pe[Y]:F[Y])}var Y=arguments.length-2;if(Y===1)Z.children=X;else if(1<Y){pe=Array(Y);for(var Q=0;Q<Y;Q++)pe[Q]=arguments[Q+2];Z.children=pe}return{$$typeof:e,type:G.type,key:re,ref:ee,props:Z,_owner:ce}},fr.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},fr.createElement=R,fr.createFactory=function(G){var F=R.bind(null,G);return F.type=G,F},fr.createRef=function(){return{current:null}},fr.forwardRef=function(G){return{$$typeof:l,render:G}},fr.isValidElement=I,fr.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:M}},fr.memo=function(G,F){return{$$typeof:u,type:G,compare:F===void 0?null:F}},fr.startTransition=function(G){var F=K.transition;K.transition={};try{G()}finally{K.transition=F}},fr.unstable_act=z,fr.useCallback=function(G,F){return W.current.useCallback(G,F)},fr.useContext=function(G){return W.current.useContext(G)},fr.useDebugValue=function(){},fr.useDeferredValue=function(G){return W.current.useDeferredValue(G)},fr.useEffect=function(G,F){return W.current.useEffect(G,F)},fr.useId=function(){return W.current.useId()},fr.useImperativeHandle=function(G,F,X){return W.current.useImperativeHandle(G,F,X)},fr.useInsertionEffect=function(G,F){return W.current.useInsertionEffect(G,F)},fr.useLayoutEffect=function(G,F){return W.current.useLayoutEffect(G,F)},fr.useMemo=function(G,F){return W.current.useMemo(G,F)},fr.useReducer=function(G,F,X){return W.current.useReducer(G,F,X)},fr.useRef=function(G){return W.current.useRef(G)},fr.useState=function(G){return W.current.useState(G)},fr.useSyncExternalStore=function(G,F,X){return W.current.useSyncExternalStore(G,F,X)},fr.useTransition=function(){return W.current.useTransition()},fr.version="18.3.1",fr}var WF;function e_(){return WF||(WF=1,NN.exports=Foe()),NN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF;function Loe(){if(qF)return u0;qF=1;var e=e_(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,g=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)n.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:l,key:m,ref:g,props:f,_owner:s.current}}return u0.Fragment=r,u0.jsx=o,u0.jsxs=o,u0}var HF;function $oe(){return HF||(HF=1,SN.exports=Loe()),SN.exports}var a=$oe(),Yy={},kN={exports:{}},Wa={},EN={exports:{}},CN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF;function Boe(){return GF||(GF=1,(function(e){function t(K,V){var z=K.length;K.push(V);e:for(;0<z;){var G=z-1>>>1,F=K[G];if(0<s(F,V))K[G]=V,K[z]=F,z=G;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var V=K[0],z=K.pop();if(z!==V){K[0]=z;e:for(var G=0,F=K.length,X=F>>>1;G<X;){var Z=2*(G+1)-1,re=K[Z],ee=Z+1,ce=K[ee];if(0>s(re,z))ee<F&&0>s(ce,re)?(K[G]=ce,K[ee]=z,G=ee):(K[G]=re,K[Z]=z,G=Z);else if(ee<F&&0>s(ce,z))K[G]=ce,K[ee]=z,G=ee;else break e}}return V}function s(K,V){var z=K.sortIndex-V.sortIndex;return z!==0?z:K.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(K){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=K)n(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(u)}}function T(K){if(x=!1,w(K),!y)if(r(c)!==null)y=!0,M(E);else{var V=r(u);V!==null&&W(T,V.startTime-K)}}function E(K,V){y=!1,x&&(x=!1,j(R),R=-1),g=!0;var z=m;try{for(w(V),f=r(c);f!==null&&(!(f.expirationTime>V)||K&&!P());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var F=G(f.expirationTime<=V);V=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),w(V)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var Z=r(u);Z!==null&&W(T,Z.startTime-V),X=!1}return X}finally{f=null,m=z,g=!1}}var N=!1,k=null,R=-1,A=5,I=-1;function P(){return!(e.unstable_now()-I<A)}function D(){if(k!==null){var K=e.unstable_now();I=K;var V=!0;try{V=k(!0,K)}finally{V?B():(N=!1,k=null)}}else N=!1}var B;if(typeof S=="function")B=function(){S(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=D,B=function(){H.postMessage(null)}}else B=function(){v(D,0)};function M(K){k=K,N||(N=!0,B())}function W(K,V){R=v(function(){K(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,M(E))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var z=m;m=V;try{return K()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,V){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var z=m;m=K;try{return V()}finally{m=z}},e.unstable_scheduleCallback=function(K,V,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,K){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,K={id:d++,callback:V,priorityLevel:K,startTime:z,expirationTime:F,sortIndex:-1},z>G?(K.sortIndex=z,t(u,K),r(c)===null&&K===r(u)&&(x?(j(R),R=-1):x=!0,W(T,z-G))):(K.sortIndex=F,t(c,K),y||g||(y=!0,M(E))),K},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(K){var V=m;return function(){var z=m;m=V;try{return K.apply(this,arguments)}finally{m=z}}}})(CN)),CN}var KF;function Uoe(){return KF||(KF=1,EN.exports=Boe()),EN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YF;function Voe(){if(YF)return Wa;YF=1;var e=e_(),t=Uoe();function r(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(h,p){o(h,p),o(h+"Capture",p)}function o(h,p){for(s[h]=p,h=0;h<p.length;h++)n.add(p[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function g(h,p,b,C){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return C?!1:b!==null?!b.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,p,b,C){if(p===null||typeof p>"u"||g(h,p,b,C))return!0;if(C)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function x(h,p,b,C,O,L,J){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=C,this.attributeNamespace=O,this.mustUseProperty=b,this.propertyName=h,this.type=p,this.sanitizeURL=L,this.removeEmptyString=J}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new x(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var p=h[0];v[p]=new x(p,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new x(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new x(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new x(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new x(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new x(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new x(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new x(h,5,!1,h.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function S(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var p=h.replace(j,S);v[p]=new x(p,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var p=h.replace(j,S);v[p]=new x(p,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var p=h.replace(j,S);v[p]=new x(p,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new x(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new x(h,1,!1,h.toLowerCase(),null,!0,!0)});function w(h,p,b,C){var O=v.hasOwnProperty(p)?v[p]:null;(O!==null?O.type!==0:C||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(y(p,b,O,C)&&(b=null),C||O===null?m(p)&&(b===null?h.removeAttribute(p):h.setAttribute(p,""+b)):O.mustUseProperty?h[O.propertyName]=b===null?O.type===3?!1:"":b:(p=O.attributeName,C=O.attributeNamespace,b===null?h.removeAttribute(p):(O=O.type,b=O===3||O===4&&b===!0?"":""+b,C?h.setAttributeNS(C,p,b):h.setAttribute(p,b))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),K=Symbol.iterator;function V(h){return h===null||typeof h!="object"?null:(h=K&&h[K]||h["@@iterator"],typeof h=="function"?h:null)}var z=Object.assign,G;function F(h){if(G===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);G=p&&p[1]||""}return`
`+G+h}var X=!1;function Z(h,p){if(!h||X)return"";X=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Oe){var C=Oe}Reflect.construct(h,[],p)}else{try{p.call()}catch(Oe){C=Oe}h.call(p.prototype)}else{try{throw Error()}catch(Oe){C=Oe}h()}}catch(Oe){if(Oe&&C&&typeof Oe.stack=="string"){for(var O=Oe.stack.split(`
`),L=C.stack.split(`
`),J=O.length-1,me=L.length-1;1<=J&&0<=me&&O[J]!==L[me];)me--;for(;1<=J&&0<=me;J--,me--)if(O[J]!==L[me]){if(J!==1||me!==1)do if(J--,me--,0>me||O[J]!==L[me]){var ve=`
`+O[J].replace(" at new "," at ");return h.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",h.displayName)),ve}while(1<=J&&0<=me);break}}}finally{X=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?F(h):""}function re(h){switch(h.tag){case 5:return F(h.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return h=Z(h.type,!1),h;case 11:return h=Z(h.type.render,!1),h;case 1:return h=Z(h.type,!0),h;default:return""}}function ee(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case k:return"Fragment";case N:return"Portal";case A:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case P:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case D:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case H:return p=h.displayName||null,p!==null?p:ee(h.type)||"Memo";case M:p=h._payload,h=h._init;try{return ee(h(p))}catch{}}return null}function ce(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(p);case 8:return p===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function pe(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Y(h){var p=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Q(h){var p=Y(h)?"checked":"value",b=Object.getOwnPropertyDescriptor(h.constructor.prototype,p),C=""+h[p];if(!h.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var O=b.get,L=b.set;return Object.defineProperty(h,p,{configurable:!0,get:function(){return O.call(this)},set:function(J){C=""+J,L.call(this,J)}}),Object.defineProperty(h,p,{enumerable:b.enumerable}),{getValue:function(){return C},setValue:function(J){C=""+J},stopTracking:function(){h._valueTracker=null,delete h[p]}}}}function ae(h){h._valueTracker||(h._valueTracker=Q(h))}function q(h){if(!h)return!1;var p=h._valueTracker;if(!p)return!0;var b=p.getValue(),C="";return h&&(C=Y(h)?h.checked?"true":"false":h.value),h=C,h!==b?(p.setValue(h),!0):!1}function ke(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function ye(h,p){var b=p.checked;return z({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??h._wrapperState.initialChecked})}function xe(h,p){var b=p.defaultValue==null?"":p.defaultValue,C=p.checked!=null?p.checked:p.defaultChecked;b=pe(p.value!=null?p.value:b),h._wrapperState={initialChecked:C,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Re(h,p){p=p.checked,p!=null&&w(h,"checked",p,!1)}function je(h,p){Re(h,p);var b=pe(p.value),C=p.type;if(b!=null)C==="number"?(b===0&&h.value===""||h.value!=b)&&(h.value=""+b):h.value!==""+b&&(h.value=""+b);else if(C==="submit"||C==="reset"){h.removeAttribute("value");return}p.hasOwnProperty("value")?ht(h,p.type,b):p.hasOwnProperty("defaultValue")&&ht(h,p.type,pe(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(h.defaultChecked=!!p.defaultChecked)}function mt(h,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var C=p.type;if(!(C!=="submit"&&C!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+h._wrapperState.initialValue,b||p===h.value||(h.value=p),h.defaultValue=p}b=h.name,b!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,b!==""&&(h.name=b)}function ht(h,p,b){(p!=="number"||ke(h.ownerDocument)!==h)&&(b==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+b&&(h.defaultValue=""+b))}var oe=Array.isArray;function ge(h,p,b,C){if(h=h.options,p){p={};for(var O=0;O<b.length;O++)p["$"+b[O]]=!0;for(b=0;b<h.length;b++)O=p.hasOwnProperty("$"+h[b].value),h[b].selected!==O&&(h[b].selected=O),O&&C&&(h[b].defaultSelected=!0)}else{for(b=""+pe(b),p=null,O=0;O<h.length;O++){if(h[O].value===b){h[O].selected=!0,C&&(h[O].defaultSelected=!0);return}p!==null||h[O].disabled||(p=h[O])}p!==null&&(p.selected=!0)}}function Ne(h,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},p,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function We(h,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(r(92));if(oe(b)){if(1<b.length)throw Error(r(93));b=b[0]}p=b}p==null&&(p=""),b=p}h._wrapperState={initialValue:pe(b)}}function qe(h,p){var b=pe(p.value),C=pe(p.defaultValue);b!=null&&(b=""+b,b!==h.value&&(h.value=b),p.defaultValue==null&&h.defaultValue!==b&&(h.defaultValue=b)),C!=null&&(h.defaultValue=""+C)}function Ue(h){var p=h.textContent;p===h._wrapperState.initialValue&&p!==""&&p!==null&&(h.value=p)}function it(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(h,p){return h==null||h==="http://www.w3.org/1999/xhtml"?it(p):h==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var He,Rt=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,C,O){MSApp.execUnsafeLocalFunction(function(){return h(p,b,C,O)})}:h})(function(h,p){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=p;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=He.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;p.firstChild;)h.appendChild(p.firstChild)}});function _t(h,p){if(p){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=p;return}}h.textContent=p}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(h){an.forEach(function(p){p=p+h.charAt(0).toUpperCase()+h.substring(1),$t[p]=$t[h]})});function vr(h,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||$t.hasOwnProperty(h)&&$t[h]?(""+p).trim():p+"px"}function vn(h,p){h=h.style;for(var b in p)if(p.hasOwnProperty(b)){var C=b.indexOf("--")===0,O=vr(b,p[b],C);b==="float"&&(b="cssFloat"),C?h.setProperty(b,O):h[b]=O}}var go=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(h,p){if(p){if(go[h]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function xo(h,p){if(h.indexOf("-")===-1)return typeof p.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function Pi(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var vo=null,ai=null,Na=null;function ds(h){if(h=Yp(h)){if(typeof vo!="function")throw Error(r(280));var p=h.stateNode;p&&(p=cy(p),vo(h.stateNode,h.type,p))}}function kc(h){ai?Na?Na.push(h):Na=[h]:ai=h}function Wt(){if(ai){var h=ai,p=Na;if(Na=ai=null,ds(h),p)for(h=0;h<p.length;h++)ds(p[h])}}function gr(h,p){return h(p)}function Rr(){}var Vs=!1;function ra(h,p,b){if(Vs)return h(p,b);Vs=!0;try{return gr(h,p,b)}finally{Vs=!1,(ai!==null||Na!==null)&&(Rr(),Wt())}}function na(h,p){var b=h.stateNode;if(b===null)return null;var C=cy(b);if(C===null)return null;b=C[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(r(231,p,typeof b));return b}var ii=!1;if(l)try{var $n={};Object.defineProperty($n,"passive",{get:function(){ii=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{ii=!1}function Oi(h,p,b,C,O,L,J,me,ve){var Oe=Array.prototype.slice.call(arguments,3);try{p.apply(b,Oe)}catch(Ze){this.onError(Ze)}}var Ju=!1,Uf=null,te=!1,de=null,ie={onError:function(h){Ju=!0,Uf=h}};function ue(h,p,b,C,O,L,J,me,ve){Ju=!1,Uf=null,Oi.apply(ie,arguments)}function fe(h,p,b,C,O,L,J,me,ve){if(ue.apply(this,arguments),Ju){if(Ju){var Oe=Uf;Ju=!1,Uf=null}else throw Error(r(198));te||(te=!0,de=Oe)}}function he(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function Te(h){if(h.tag===13){var p=h.memoizedState;if(p===null&&(h=h.alternate,h!==null&&(p=h.memoizedState)),p!==null)return p.dehydrated}return null}function Fe(h){if(he(h)!==h)throw Error(r(188))}function Ce(h){var p=h.alternate;if(!p){if(p=he(h),p===null)throw Error(r(188));return p!==h?null:h}for(var b=h,C=p;;){var O=b.return;if(O===null)break;var L=O.alternate;if(L===null){if(C=O.return,C!==null){b=C;continue}break}if(O.child===L.child){for(L=O.child;L;){if(L===b)return Fe(O),h;if(L===C)return Fe(O),p;L=L.sibling}throw Error(r(188))}if(b.return!==C.return)b=O,C=L;else{for(var J=!1,me=O.child;me;){if(me===b){J=!0,b=O,C=L;break}if(me===C){J=!0,C=O,b=L;break}me=me.sibling}if(!J){for(me=L.child;me;){if(me===b){J=!0,b=L,C=O;break}if(me===C){J=!0,C=L,b=O;break}me=me.sibling}if(!J)throw Error(r(189))}}if(b.alternate!==C)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:p}function Ae(h){return h=Ce(h),h!==null?Pe(h):null}function Pe(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=Pe(h);if(p!==null)return p;h=h.sibling}return null}var et=t.unstable_scheduleCallback,ft=t.unstable_cancelCallback,bt=t.unstable_shouldYield,st=t.unstable_requestPaint,rt=t.unstable_now,Qt=t.unstable_getCurrentPriorityLevel,Hr=t.unstable_ImmediatePriority,Qr=t.unstable_UserBlockingPriority,Bn=t.unstable_NormalPriority,ed=t.unstable_LowPriority,Ec=t.unstable_IdlePriority,Yo=null,Ss=null;function Ap(h){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Yo,h,void 0,(h.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:Jae,Zae=Math.log,Qae=Math.LN2;function Jae(h){return h>>>=0,h===0?32:31-(Zae(h)/Qae|0)|0}var qv=64,Hv=4194304;function Pp(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Gv(h,p){var b=h.pendingLanes;if(b===0)return 0;var C=0,O=h.suspendedLanes,L=h.pingedLanes,J=b&268435455;if(J!==0){var me=J&~O;me!==0?C=Pp(me):(L&=J,L!==0&&(C=Pp(L)))}else J=b&~O,J!==0?C=Pp(J):L!==0&&(C=Pp(L));if(C===0)return 0;if(p!==0&&p!==C&&(p&O)===0&&(O=C&-C,L=p&-p,O>=L||O===16&&(L&4194240)!==0))return p;if((C&4)!==0&&(C|=b&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=C;0<p;)b=31-Un(p),O=1<<b,C|=h[b],p&=~O;return C}function eie(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tie(h,p){for(var b=h.suspendedLanes,C=h.pingedLanes,O=h.expirationTimes,L=h.pendingLanes;0<L;){var J=31-Un(L),me=1<<J,ve=O[J];ve===-1?((me&b)===0||(me&C)!==0)&&(O[J]=eie(me,p)):ve<=p&&(h.expiredLanes|=me),L&=~me}}function qj(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function wM(){var h=qv;return qv<<=1,(qv&4194240)===0&&(qv=64),h}function Hj(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function Op(h,p,b){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-Un(p),h[p]=b}function rie(h,p){var b=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<b;){var O=31-Un(b),L=1<<O;p[O]=0,C[O]=-1,h[O]=-1,b&=~L}}function Gj(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var C=31-Un(b),O=1<<C;O&p|h[C]&p&&(h[C]|=p),b&=~O}}var Fr=0;function bM(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var _M,Kj,jM,SM,NM,Yj=!1,Kv=[],Cc=null,Tc=null,Ac=null,Rp=new Map,Dp=new Map,Pc=[],nie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kM(h,p){switch(h){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":Rp.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dp.delete(p.pointerId)}}function Ip(h,p,b,C,O,L){return h===null||h.nativeEvent!==L?(h={blockedOn:p,domEventName:b,eventSystemFlags:C,nativeEvent:L,targetContainers:[O]},p!==null&&(p=Yp(p),p!==null&&Kj(p)),h):(h.eventSystemFlags|=C,p=h.targetContainers,O!==null&&p.indexOf(O)===-1&&p.push(O),h)}function sie(h,p,b,C,O){switch(p){case"focusin":return Cc=Ip(Cc,h,p,b,C,O),!0;case"dragenter":return Tc=Ip(Tc,h,p,b,C,O),!0;case"mouseover":return Ac=Ip(Ac,h,p,b,C,O),!0;case"pointerover":var L=O.pointerId;return Rp.set(L,Ip(Rp.get(L)||null,h,p,b,C,O)),!0;case"gotpointercapture":return L=O.pointerId,Dp.set(L,Ip(Dp.get(L)||null,h,p,b,C,O)),!0}return!1}function EM(h){var p=td(h.target);if(p!==null){var b=he(p);if(b!==null){if(p=b.tag,p===13){if(p=Te(b),p!==null){h.blockedOn=p,NM(h.priority,function(){jM(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Yv(h){if(h.blockedOn!==null)return!1;for(var p=h.targetContainers;0<p.length;){var b=Zj(h.domEventName,h.eventSystemFlags,p[0],h.nativeEvent);if(b===null){b=h.nativeEvent;var C=new b.constructor(b.type,b);si=C,b.target.dispatchEvent(C),si=null}else return p=Yp(b),p!==null&&Kj(p),h.blockedOn=b,!1;p.shift()}return!0}function CM(h,p,b){Yv(h)&&b.delete(p)}function aie(){Yj=!1,Cc!==null&&Yv(Cc)&&(Cc=null),Tc!==null&&Yv(Tc)&&(Tc=null),Ac!==null&&Yv(Ac)&&(Ac=null),Rp.forEach(CM),Dp.forEach(CM)}function Mp(h,p){h.blockedOn===p&&(h.blockedOn=null,Yj||(Yj=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aie)))}function Fp(h){function p(O){return Mp(O,h)}if(0<Kv.length){Mp(Kv[0],h);for(var b=1;b<Kv.length;b++){var C=Kv[b];C.blockedOn===h&&(C.blockedOn=null)}}for(Cc!==null&&Mp(Cc,h),Tc!==null&&Mp(Tc,h),Ac!==null&&Mp(Ac,h),Rp.forEach(p),Dp.forEach(p),b=0;b<Pc.length;b++)C=Pc[b],C.blockedOn===h&&(C.blockedOn=null);for(;0<Pc.length&&(b=Pc[0],b.blockedOn===null);)EM(b),b.blockedOn===null&&Pc.shift()}var Vf=T.ReactCurrentBatchConfig,Xv=!0;function iie(h,p,b,C){var O=Fr,L=Vf.transition;Vf.transition=null;try{Fr=1,Xj(h,p,b,C)}finally{Fr=O,Vf.transition=L}}function oie(h,p,b,C){var O=Fr,L=Vf.transition;Vf.transition=null;try{Fr=4,Xj(h,p,b,C)}finally{Fr=O,Vf.transition=L}}function Xj(h,p,b,C){if(Xv){var O=Zj(h,p,b,C);if(O===null)mS(h,p,C,Zv,b),kM(h,C);else if(sie(O,h,p,b,C))C.stopPropagation();else if(kM(h,C),p&4&&-1<nie.indexOf(h)){for(;O!==null;){var L=Yp(O);if(L!==null&&_M(L),L=Zj(h,p,b,C),L===null&&mS(h,p,C,Zv,b),L===O)break;O=L}O!==null&&C.stopPropagation()}else mS(h,p,C,null,b)}}var Zv=null;function Zj(h,p,b,C){if(Zv=null,h=Pi(C),h=td(h),h!==null)if(p=he(h),p===null)h=null;else if(b=p.tag,b===13){if(h=Te(p),h!==null)return h;h=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;h=null}else p!==h&&(h=null);return Zv=h,null}function TM(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Hr:return 1;case Qr:return 4;case Bn:case ed:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var Oc=null,Qj=null,Qv=null;function AM(){if(Qv)return Qv;var h,p=Qj,b=p.length,C,O="value"in Oc?Oc.value:Oc.textContent,L=O.length;for(h=0;h<b&&p[h]===O[h];h++);var J=b-h;for(C=1;C<=J&&p[b-C]===O[L-C];C++);return Qv=O.slice(h,1<C?1-C:void 0)}function Jv(h){var p=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&p===13&&(h=13)):h=p,h===10&&(h=13),32<=h||h===13?h:0}function ey(){return!0}function PM(){return!1}function oi(h){function p(b,C,O,L,J){this._reactName=b,this._targetInst=O,this.type=C,this.nativeEvent=L,this.target=J,this.currentTarget=null;for(var me in h)h.hasOwnProperty(me)&&(b=h[me],this[me]=b?b(L):L[me]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ey:PM,this.isPropagationStopped=PM,this}return z(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=ey)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=ey)},persist:function(){},isPersistent:ey}),p}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jj=oi(zf),Lp=z({},zf,{view:0,detail:0}),lie=oi(Lp),eS,tS,$p,ty=z({},Lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nS,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==$p&&($p&&h.type==="mousemove"?(eS=h.screenX-$p.screenX,tS=h.screenY-$p.screenY):tS=eS=0,$p=h),eS)},movementY:function(h){return"movementY"in h?h.movementY:tS}}),OM=oi(ty),cie=z({},ty,{dataTransfer:0}),uie=oi(cie),die=z({},Lp,{relatedTarget:0}),rS=oi(die),fie=z({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),hie=oi(fie),mie=z({},zf,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),pie=oi(mie),gie=z({},zf,{data:0}),RM=oi(gie),xie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wie(h){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(h):(h=yie[h])?!!p[h]:!1}function nS(){return wie}var bie=z({},Lp,{key:function(h){if(h.key){var p=xie[h.key]||h.key;if(p!=="Unidentified")return p}return h.type==="keypress"?(h=Jv(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?vie[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nS,charCode:function(h){return h.type==="keypress"?Jv(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Jv(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),_ie=oi(bie),jie=z({},ty,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DM=oi(jie),Sie=z({},Lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nS}),Nie=oi(Sie),kie=z({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eie=oi(kie),Cie=z({},ty,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Tie=oi(Cie),Aie=[9,13,27,32],sS=l&&"CompositionEvent"in window,Bp=null;l&&"documentMode"in document&&(Bp=document.documentMode);var Pie=l&&"TextEvent"in window&&!Bp,IM=l&&(!sS||Bp&&8<Bp&&11>=Bp),MM=" ",FM=!1;function LM(h,p){switch(h){case"keyup":return Aie.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $M(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Wf=!1;function Oie(h,p){switch(h){case"compositionend":return $M(p);case"keypress":return p.which!==32?null:(FM=!0,MM);case"textInput":return h=p.data,h===MM&&FM?null:h;default:return null}}function Rie(h,p){if(Wf)return h==="compositionend"||!sS&&LM(h,p)?(h=AM(),Qv=Qj=Oc=null,Wf=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return IM&&p.locale!=="ko"?null:p.data;default:return null}}var Die={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BM(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p==="input"?!!Die[h.type]:p==="textarea"}function UM(h,p,b,C){kc(C),p=iy(p,"onChange"),0<p.length&&(b=new Jj("onChange","change",null,b,C),h.push({event:b,listeners:p}))}var Up=null,Vp=null;function Iie(h){a3(h,0)}function ry(h){var p=Yf(h);if(q(p))return h}function Mie(h,p){if(h==="change")return p}var VM=!1;if(l){var aS;if(l){var iS="oninput"in document;if(!iS){var zM=document.createElement("div");zM.setAttribute("oninput","return;"),iS=typeof zM.oninput=="function"}aS=iS}else aS=!1;VM=aS&&(!document.documentMode||9<document.documentMode)}function WM(){Up&&(Up.detachEvent("onpropertychange",qM),Vp=Up=null)}function qM(h){if(h.propertyName==="value"&&ry(Vp)){var p=[];UM(p,Vp,h,Pi(h)),ra(Iie,p)}}function Fie(h,p,b){h==="focusin"?(WM(),Up=p,Vp=b,Up.attachEvent("onpropertychange",qM)):h==="focusout"&&WM()}function Lie(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return ry(Vp)}function $ie(h,p){if(h==="click")return ry(p)}function Bie(h,p){if(h==="input"||h==="change")return ry(p)}function Uie(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var yo=typeof Object.is=="function"?Object.is:Uie;function zp(h,p){if(yo(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),C=Object.keys(p);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var O=b[C];if(!c.call(p,O)||!yo(h[O],p[O]))return!1}return!0}function HM(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function GM(h,p){var b=HM(h);h=0;for(var C;b;){if(b.nodeType===3){if(C=h+b.textContent.length,h<=p&&C>=p)return{node:b,offset:p-h};h=C}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=HM(b)}}function KM(h,p){return h&&p?h===p?!0:h&&h.nodeType===3?!1:p&&p.nodeType===3?KM(h,p.parentNode):"contains"in h?h.contains(p):h.compareDocumentPosition?!!(h.compareDocumentPosition(p)&16):!1:!1}function YM(){for(var h=window,p=ke();p instanceof h.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)h=p.contentWindow;else break;p=ke(h.document)}return p}function oS(h){var p=h&&h.nodeName&&h.nodeName.toLowerCase();return p&&(p==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||p==="textarea"||h.contentEditable==="true")}function Vie(h){var p=YM(),b=h.focusedElem,C=h.selectionRange;if(p!==b&&b&&b.ownerDocument&&KM(b.ownerDocument.documentElement,b)){if(C!==null&&oS(b)){if(p=C.start,h=C.end,h===void 0&&(h=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(h,b.value.length);else if(h=(p=b.ownerDocument||document)&&p.defaultView||window,h.getSelection){h=h.getSelection();var O=b.textContent.length,L=Math.min(C.start,O);C=C.end===void 0?L:Math.min(C.end,O),!h.extend&&L>C&&(O=C,C=L,L=O),O=GM(b,L);var J=GM(b,C);O&&J&&(h.rangeCount!==1||h.anchorNode!==O.node||h.anchorOffset!==O.offset||h.focusNode!==J.node||h.focusOffset!==J.offset)&&(p=p.createRange(),p.setStart(O.node,O.offset),h.removeAllRanges(),L>C?(h.addRange(p),h.extend(J.node,J.offset)):(p.setEnd(J.node,J.offset),h.addRange(p)))}}for(p=[],h=b;h=h.parentNode;)h.nodeType===1&&p.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)h=p[b],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var zie=l&&"documentMode"in document&&11>=document.documentMode,qf=null,lS=null,Wp=null,cS=!1;function XM(h,p,b){var C=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;cS||qf==null||qf!==ke(C)||(C=qf,"selectionStart"in C&&oS(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Wp&&zp(Wp,C)||(Wp=C,C=iy(lS,"onSelect"),0<C.length&&(p=new Jj("onSelect","select",null,p,b),h.push({event:p,listeners:C}),p.target=qf)))}function ny(h,p){var b={};return b[h.toLowerCase()]=p.toLowerCase(),b["Webkit"+h]="webkit"+p,b["Moz"+h]="moz"+p,b}var Hf={animationend:ny("Animation","AnimationEnd"),animationiteration:ny("Animation","AnimationIteration"),animationstart:ny("Animation","AnimationStart"),transitionend:ny("Transition","TransitionEnd")},uS={},ZM={};l&&(ZM=document.createElement("div").style,"AnimationEvent"in window||(delete Hf.animationend.animation,delete Hf.animationiteration.animation,delete Hf.animationstart.animation),"TransitionEvent"in window||delete Hf.transitionend.transition);function sy(h){if(uS[h])return uS[h];if(!Hf[h])return h;var p=Hf[h],b;for(b in p)if(p.hasOwnProperty(b)&&b in ZM)return uS[h]=p[b];return h}var QM=sy("animationend"),JM=sy("animationiteration"),e3=sy("animationstart"),t3=sy("transitionend"),r3=new Map,n3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rc(h,p){r3.set(h,p),i(p,[h])}for(var dS=0;dS<n3.length;dS++){var fS=n3[dS],Wie=fS.toLowerCase(),qie=fS[0].toUpperCase()+fS.slice(1);Rc(Wie,"on"+qie)}Rc(QM,"onAnimationEnd"),Rc(JM,"onAnimationIteration"),Rc(e3,"onAnimationStart"),Rc("dblclick","onDoubleClick"),Rc("focusin","onFocus"),Rc("focusout","onBlur"),Rc(t3,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hie=new Set("cancel close invalid load scroll toggle".split(" ").concat(qp));function s3(h,p,b){var C=h.type||"unknown-event";h.currentTarget=b,fe(C,p,void 0,h),h.currentTarget=null}function a3(h,p){p=(p&4)!==0;for(var b=0;b<h.length;b++){var C=h[b],O=C.event;C=C.listeners;e:{var L=void 0;if(p)for(var J=C.length-1;0<=J;J--){var me=C[J],ve=me.instance,Oe=me.currentTarget;if(me=me.listener,ve!==L&&O.isPropagationStopped())break e;s3(O,me,Oe),L=ve}else for(J=0;J<C.length;J++){if(me=C[J],ve=me.instance,Oe=me.currentTarget,me=me.listener,ve!==L&&O.isPropagationStopped())break e;s3(O,me,Oe),L=ve}}}if(te)throw h=de,te=!1,de=null,h}function on(h,p){var b=p[wS];b===void 0&&(b=p[wS]=new Set);var C=h+"__bubble";b.has(C)||(i3(p,h,2,!1),b.add(C))}function hS(h,p,b){var C=0;p&&(C|=4),i3(b,h,C,p)}var ay="_reactListening"+Math.random().toString(36).slice(2);function Hp(h){if(!h[ay]){h[ay]=!0,n.forEach(function(b){b!=="selectionchange"&&(Hie.has(b)||hS(b,!1,h),hS(b,!0,h))});var p=h.nodeType===9?h:h.ownerDocument;p===null||p[ay]||(p[ay]=!0,hS("selectionchange",!1,p))}}function i3(h,p,b,C){switch(TM(p)){case 1:var O=iie;break;case 4:O=oie;break;default:O=Xj}b=O.bind(null,p,b,h),O=void 0,!ii||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(O=!0),C?O!==void 0?h.addEventListener(p,b,{capture:!0,passive:O}):h.addEventListener(p,b,!0):O!==void 0?h.addEventListener(p,b,{passive:O}):h.addEventListener(p,b,!1)}function mS(h,p,b,C,O){var L=C;if((p&1)===0&&(p&2)===0&&C!==null)e:for(;;){if(C===null)return;var J=C.tag;if(J===3||J===4){var me=C.stateNode.containerInfo;if(me===O||me.nodeType===8&&me.parentNode===O)break;if(J===4)for(J=C.return;J!==null;){var ve=J.tag;if((ve===3||ve===4)&&(ve=J.stateNode.containerInfo,ve===O||ve.nodeType===8&&ve.parentNode===O))return;J=J.return}for(;me!==null;){if(J=td(me),J===null)return;if(ve=J.tag,ve===5||ve===6){C=L=J;continue e}me=me.parentNode}}C=C.return}ra(function(){var Oe=L,Ze=Pi(b),tt=[];e:{var Xe=r3.get(h);if(Xe!==void 0){var yt=Jj,Nt=h;switch(h){case"keypress":if(Jv(b)===0)break e;case"keydown":case"keyup":yt=_ie;break;case"focusin":Nt="focus",yt=rS;break;case"focusout":Nt="blur",yt=rS;break;case"beforeblur":case"afterblur":yt=rS;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=OM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=uie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Nie;break;case QM:case JM:case e3:yt=hie;break;case t3:yt=Eie;break;case"scroll":yt=lie;break;case"wheel":yt=Tie;break;case"copy":case"cut":case"paste":yt=pie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=DM}var Et=(p&4)!==0,Vn=!Et&&h==="scroll",Se=Et?Xe!==null?Xe+"Capture":null:Xe;Et=[];for(var be=Oe,Ee;be!==null;){Ee=be;var at=Ee.stateNode;if(Ee.tag===5&&at!==null&&(Ee=at,Se!==null&&(at=na(be,Se),at!=null&&Et.push(Gp(be,at,Ee)))),Vn)break;be=be.return}0<Et.length&&(Xe=new yt(Xe,Nt,null,b,Ze),tt.push({event:Xe,listeners:Et}))}}if((p&7)===0){e:{if(Xe=h==="mouseover"||h==="pointerover",yt=h==="mouseout"||h==="pointerout",Xe&&b!==si&&(Nt=b.relatedTarget||b.fromElement)&&(td(Nt)||Nt[Pl]))break e;if((yt||Xe)&&(Xe=Ze.window===Ze?Ze:(Xe=Ze.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,yt?(Nt=b.relatedTarget||b.toElement,yt=Oe,Nt=Nt?td(Nt):null,Nt!==null&&(Vn=he(Nt),Nt!==Vn||Nt.tag!==5&&Nt.tag!==6)&&(Nt=null)):(yt=null,Nt=Oe),yt!==Nt)){if(Et=OM,at="onMouseLeave",Se="onMouseEnter",be="mouse",(h==="pointerout"||h==="pointerover")&&(Et=DM,at="onPointerLeave",Se="onPointerEnter",be="pointer"),Vn=yt==null?Xe:Yf(yt),Ee=Nt==null?Xe:Yf(Nt),Xe=new Et(at,be+"leave",yt,b,Ze),Xe.target=Vn,Xe.relatedTarget=Ee,at=null,td(Ze)===Oe&&(Et=new Et(Se,be+"enter",Nt,b,Ze),Et.target=Ee,Et.relatedTarget=Vn,at=Et),Vn=at,yt&&Nt)t:{for(Et=yt,Se=Nt,be=0,Ee=Et;Ee;Ee=Gf(Ee))be++;for(Ee=0,at=Se;at;at=Gf(at))Ee++;for(;0<be-Ee;)Et=Gf(Et),be--;for(;0<Ee-be;)Se=Gf(Se),Ee--;for(;be--;){if(Et===Se||Se!==null&&Et===Se.alternate)break t;Et=Gf(Et),Se=Gf(Se)}Et=null}else Et=null;yt!==null&&o3(tt,Xe,yt,Et,!1),Nt!==null&&Vn!==null&&o3(tt,Vn,Nt,Et,!0)}}e:{if(Xe=Oe?Yf(Oe):window,yt=Xe.nodeName&&Xe.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Xe.type==="file")var Tt=Mie;else if(BM(Xe))if(VM)Tt=Bie;else{Tt=Lie;var Bt=Fie}else(yt=Xe.nodeName)&&yt.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Tt=$ie);if(Tt&&(Tt=Tt(h,Oe))){UM(tt,Tt,b,Ze);break e}Bt&&Bt(h,Xe,Oe),h==="focusout"&&(Bt=Xe._wrapperState)&&Bt.controlled&&Xe.type==="number"&&ht(Xe,"number",Xe.value)}switch(Bt=Oe?Yf(Oe):window,h){case"focusin":(BM(Bt)||Bt.contentEditable==="true")&&(qf=Bt,lS=Oe,Wp=null);break;case"focusout":Wp=lS=qf=null;break;case"mousedown":cS=!0;break;case"contextmenu":case"mouseup":case"dragend":cS=!1,XM(tt,b,Ze);break;case"selectionchange":if(zie)break;case"keydown":case"keyup":XM(tt,b,Ze)}var Ut;if(sS)e:{switch(h){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Wf?LM(h,b)&&(Xt="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&(Xt="onCompositionStart");Xt&&(IM&&b.locale!=="ko"&&(Wf||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Wf&&(Ut=AM()):(Oc=Ze,Qj="value"in Oc?Oc.value:Oc.textContent,Wf=!0)),Bt=iy(Oe,Xt),0<Bt.length&&(Xt=new RM(Xt,h,null,b,Ze),tt.push({event:Xt,listeners:Bt}),Ut?Xt.data=Ut:(Ut=$M(b),Ut!==null&&(Xt.data=Ut)))),(Ut=Pie?Oie(h,b):Rie(h,b))&&(Oe=iy(Oe,"onBeforeInput"),0<Oe.length&&(Ze=new RM("onBeforeInput","beforeinput",null,b,Ze),tt.push({event:Ze,listeners:Oe}),Ze.data=Ut))}a3(tt,p)})}function Gp(h,p,b){return{instance:h,listener:p,currentTarget:b}}function iy(h,p){for(var b=p+"Capture",C=[];h!==null;){var O=h,L=O.stateNode;O.tag===5&&L!==null&&(O=L,L=na(h,b),L!=null&&C.unshift(Gp(h,L,O)),L=na(h,p),L!=null&&C.push(Gp(h,L,O))),h=h.return}return C}function Gf(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function o3(h,p,b,C,O){for(var L=p._reactName,J=[];b!==null&&b!==C;){var me=b,ve=me.alternate,Oe=me.stateNode;if(ve!==null&&ve===C)break;me.tag===5&&Oe!==null&&(me=Oe,O?(ve=na(b,L),ve!=null&&J.unshift(Gp(b,ve,me))):O||(ve=na(b,L),ve!=null&&J.push(Gp(b,ve,me)))),b=b.return}J.length!==0&&h.push({event:p,listeners:J})}var Gie=/\r\n?/g,Kie=/\u0000|\uFFFD/g;function l3(h){return(typeof h=="string"?h:""+h).replace(Gie,`
`).replace(Kie,"")}function oy(h,p,b){if(p=l3(p),l3(h)!==p&&b)throw Error(r(425))}function ly(){}var pS=null,gS=null;function xS(h,p){return h==="textarea"||h==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var vS=typeof setTimeout=="function"?setTimeout:void 0,Yie=typeof clearTimeout=="function"?clearTimeout:void 0,c3=typeof Promise=="function"?Promise:void 0,Xie=typeof queueMicrotask=="function"?queueMicrotask:typeof c3<"u"?function(h){return c3.resolve(null).then(h).catch(Zie)}:vS;function Zie(h){setTimeout(function(){throw h})}function yS(h,p){var b=p,C=0;do{var O=b.nextSibling;if(h.removeChild(b),O&&O.nodeType===8)if(b=O.data,b==="/$"){if(C===0){h.removeChild(O),Fp(p);return}C--}else b!=="$"&&b!=="$?"&&b!=="$!"||C++;b=O}while(b);Fp(p)}function Dc(h){for(;h!=null;h=h.nextSibling){var p=h.nodeType;if(p===1||p===3)break;if(p===8){if(p=h.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return h}function u3(h){h=h.previousSibling;for(var p=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return h;p--}else b==="/$"&&p++}h=h.previousSibling}return null}var Kf=Math.random().toString(36).slice(2),Xo="__reactFiber$"+Kf,Kp="__reactProps$"+Kf,Pl="__reactContainer$"+Kf,wS="__reactEvents$"+Kf,Qie="__reactListeners$"+Kf,Jie="__reactHandles$"+Kf;function td(h){var p=h[Xo];if(p)return p;for(var b=h.parentNode;b;){if(p=b[Pl]||b[Xo]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(h=u3(h);h!==null;){if(b=h[Xo])return b;h=u3(h)}return p}h=b,b=h.parentNode}return null}function Yp(h){return h=h[Xo]||h[Pl],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Yf(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function cy(h){return h[Kp]||null}var bS=[],Xf=-1;function Ic(h){return{current:h}}function ln(h){0>Xf||(h.current=bS[Xf],bS[Xf]=null,Xf--)}function Jr(h,p){Xf++,bS[Xf]=h.current,h.current=p}var Mc={},sa=Ic(Mc),$a=Ic(!1),rd=Mc;function Zf(h,p){var b=h.type.contextTypes;if(!b)return Mc;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var O={},L;for(L in b)O[L]=p[L];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=O),O}function Ba(h){return h=h.childContextTypes,h!=null}function uy(){ln($a),ln(sa)}function d3(h,p,b){if(sa.current!==Mc)throw Error(r(168));Jr(sa,p),Jr($a,b)}function f3(h,p,b){var C=h.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var O in C)if(!(O in p))throw Error(r(108,ce(h)||"Unknown",O));return z({},b,C)}function dy(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Mc,rd=sa.current,Jr(sa,h),Jr($a,$a.current),!0}function h3(h,p,b){var C=h.stateNode;if(!C)throw Error(r(169));b?(h=f3(h,p,rd),C.__reactInternalMemoizedMergedChildContext=h,ln($a),ln(sa),Jr(sa,h)):ln($a),Jr($a,b)}var Ol=null,fy=!1,_S=!1;function m3(h){Ol===null?Ol=[h]:Ol.push(h)}function eoe(h){fy=!0,m3(h)}function Fc(){if(!_S&&Ol!==null){_S=!0;var h=0,p=Fr;try{var b=Ol;for(Fr=1;h<b.length;h++){var C=b[h];do C=C(!0);while(C!==null)}Ol=null,fy=!1}catch(O){throw Ol!==null&&(Ol=Ol.slice(h+1)),et(Hr,Fc),O}finally{Fr=p,_S=!1}}return null}var Qf=[],Jf=0,hy=null,my=0,Ri=[],Di=0,nd=null,Rl=1,Dl="";function sd(h,p){Qf[Jf++]=my,Qf[Jf++]=hy,hy=h,my=p}function p3(h,p,b){Ri[Di++]=Rl,Ri[Di++]=Dl,Ri[Di++]=nd,nd=h;var C=Rl;h=Dl;var O=32-Un(C)-1;C&=~(1<<O),b+=1;var L=32-Un(p)+O;if(30<L){var J=O-O%5;L=(C&(1<<J)-1).toString(32),C>>=J,O-=J,Rl=1<<32-Un(p)+O|b<<O|C,Dl=L+h}else Rl=1<<L|b<<O|C,Dl=h}function jS(h){h.return!==null&&(sd(h,1),p3(h,1,0))}function SS(h){for(;h===hy;)hy=Qf[--Jf],Qf[Jf]=null,my=Qf[--Jf],Qf[Jf]=null;for(;h===nd;)nd=Ri[--Di],Ri[Di]=null,Dl=Ri[--Di],Ri[Di]=null,Rl=Ri[--Di],Ri[Di]=null}var li=null,ci=null,pn=!1,wo=null;function g3(h,p){var b=Li(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=h,p=h.deletions,p===null?(h.deletions=[b],h.flags|=16):p.push(b)}function x3(h,p){switch(h.tag){case 5:var b=h.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(h.stateNode=p,li=h,ci=Dc(p.firstChild),!0):!1;case 6:return p=h.pendingProps===""||p.nodeType!==3?null:p,p!==null?(h.stateNode=p,li=h,ci=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=nd!==null?{id:Rl,overflow:Dl}:null,h.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Li(18,null,null,0),b.stateNode=p,b.return=h,h.child=b,li=h,ci=null,!0):!1;default:return!1}}function NS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function kS(h){if(pn){var p=ci;if(p){var b=p;if(!x3(h,p)){if(NS(h))throw Error(r(418));p=Dc(b.nextSibling);var C=li;p&&x3(h,p)?g3(C,b):(h.flags=h.flags&-4097|2,pn=!1,li=h)}}else{if(NS(h))throw Error(r(418));h.flags=h.flags&-4097|2,pn=!1,li=h}}}function v3(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;li=h}function py(h){if(h!==li)return!1;if(!pn)return v3(h),pn=!0,!1;var p;if((p=h.tag!==3)&&!(p=h.tag!==5)&&(p=h.type,p=p!=="head"&&p!=="body"&&!xS(h.type,h.memoizedProps)),p&&(p=ci)){if(NS(h))throw y3(),Error(r(418));for(;p;)g3(h,p),p=Dc(p.nextSibling)}if(v3(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,p=0;h;){if(h.nodeType===8){var b=h.data;if(b==="/$"){if(p===0){ci=Dc(h.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}h=h.nextSibling}ci=null}}else ci=li?Dc(h.stateNode.nextSibling):null;return!0}function y3(){for(var h=ci;h;)h=Dc(h.nextSibling)}function eh(){ci=li=null,pn=!1}function ES(h){wo===null?wo=[h]:wo.push(h)}var toe=T.ReactCurrentBatchConfig;function Xp(h,p,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var C=b.stateNode}if(!C)throw Error(r(147,h));var O=C,L=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===L?p.ref:(p=function(J){var me=O.refs;J===null?delete me[L]:me[L]=J},p._stringRef=L,p)}if(typeof h!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,h))}return h}function gy(h,p){throw h=Object.prototype.toString.call(p),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function w3(h){var p=h._init;return p(h._payload)}function b3(h){function p(Se,be){if(h){var Ee=Se.deletions;Ee===null?(Se.deletions=[be],Se.flags|=16):Ee.push(be)}}function b(Se,be){if(!h)return null;for(;be!==null;)p(Se,be),be=be.sibling;return null}function C(Se,be){for(Se=new Map;be!==null;)be.key!==null?Se.set(be.key,be):Se.set(be.index,be),be=be.sibling;return Se}function O(Se,be){return Se=qc(Se,be),Se.index=0,Se.sibling=null,Se}function L(Se,be,Ee){return Se.index=Ee,h?(Ee=Se.alternate,Ee!==null?(Ee=Ee.index,Ee<be?(Se.flags|=2,be):Ee):(Se.flags|=2,be)):(Se.flags|=1048576,be)}function J(Se){return h&&Se.alternate===null&&(Se.flags|=2),Se}function me(Se,be,Ee,at){return be===null||be.tag!==6?(be=vN(Ee,Se.mode,at),be.return=Se,be):(be=O(be,Ee),be.return=Se,be)}function ve(Se,be,Ee,at){var Tt=Ee.type;return Tt===k?Ze(Se,be,Ee.props.children,at,Ee.key):be!==null&&(be.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===M&&w3(Tt)===be.type)?(at=O(be,Ee.props),at.ref=Xp(Se,be,Ee),at.return=Se,at):(at=By(Ee.type,Ee.key,Ee.props,null,Se.mode,at),at.ref=Xp(Se,be,Ee),at.return=Se,at)}function Oe(Se,be,Ee,at){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ee.containerInfo||be.stateNode.implementation!==Ee.implementation?(be=yN(Ee,Se.mode,at),be.return=Se,be):(be=O(be,Ee.children||[]),be.return=Se,be)}function Ze(Se,be,Ee,at,Tt){return be===null||be.tag!==7?(be=fd(Ee,Se.mode,at,Tt),be.return=Se,be):(be=O(be,Ee),be.return=Se,be)}function tt(Se,be,Ee){if(typeof be=="string"&&be!==""||typeof be=="number")return be=vN(""+be,Se.mode,Ee),be.return=Se,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case E:return Ee=By(be.type,be.key,be.props,null,Se.mode,Ee),Ee.ref=Xp(Se,null,be),Ee.return=Se,Ee;case N:return be=yN(be,Se.mode,Ee),be.return=Se,be;case M:var at=be._init;return tt(Se,at(be._payload),Ee)}if(oe(be)||V(be))return be=fd(be,Se.mode,Ee,null),be.return=Se,be;gy(Se,be)}return null}function Xe(Se,be,Ee,at){var Tt=be!==null?be.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Tt!==null?null:me(Se,be,""+Ee,at);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case E:return Ee.key===Tt?ve(Se,be,Ee,at):null;case N:return Ee.key===Tt?Oe(Se,be,Ee,at):null;case M:return Tt=Ee._init,Xe(Se,be,Tt(Ee._payload),at)}if(oe(Ee)||V(Ee))return Tt!==null?null:Ze(Se,be,Ee,at,null);gy(Se,Ee)}return null}function yt(Se,be,Ee,at,Tt){if(typeof at=="string"&&at!==""||typeof at=="number")return Se=Se.get(Ee)||null,me(be,Se,""+at,Tt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case E:return Se=Se.get(at.key===null?Ee:at.key)||null,ve(be,Se,at,Tt);case N:return Se=Se.get(at.key===null?Ee:at.key)||null,Oe(be,Se,at,Tt);case M:var Bt=at._init;return yt(Se,be,Ee,Bt(at._payload),Tt)}if(oe(at)||V(at))return Se=Se.get(Ee)||null,Ze(be,Se,at,Tt,null);gy(be,at)}return null}function Nt(Se,be,Ee,at){for(var Tt=null,Bt=null,Ut=be,Xt=be=0,Es=null;Ut!==null&&Xt<Ee.length;Xt++){Ut.index>Xt?(Es=Ut,Ut=null):Es=Ut.sibling;var Cr=Xe(Se,Ut,Ee[Xt],at);if(Cr===null){Ut===null&&(Ut=Es);break}h&&Ut&&Cr.alternate===null&&p(Se,Ut),be=L(Cr,be,Xt),Bt===null?Tt=Cr:Bt.sibling=Cr,Bt=Cr,Ut=Es}if(Xt===Ee.length)return b(Se,Ut),pn&&sd(Se,Xt),Tt;if(Ut===null){for(;Xt<Ee.length;Xt++)Ut=tt(Se,Ee[Xt],at),Ut!==null&&(be=L(Ut,be,Xt),Bt===null?Tt=Ut:Bt.sibling=Ut,Bt=Ut);return pn&&sd(Se,Xt),Tt}for(Ut=C(Se,Ut);Xt<Ee.length;Xt++)Es=yt(Ut,Se,Xt,Ee[Xt],at),Es!==null&&(h&&Es.alternate!==null&&Ut.delete(Es.key===null?Xt:Es.key),be=L(Es,be,Xt),Bt===null?Tt=Es:Bt.sibling=Es,Bt=Es);return h&&Ut.forEach(function(Hc){return p(Se,Hc)}),pn&&sd(Se,Xt),Tt}function Et(Se,be,Ee,at){var Tt=V(Ee);if(typeof Tt!="function")throw Error(r(150));if(Ee=Tt.call(Ee),Ee==null)throw Error(r(151));for(var Bt=Tt=null,Ut=be,Xt=be=0,Es=null,Cr=Ee.next();Ut!==null&&!Cr.done;Xt++,Cr=Ee.next()){Ut.index>Xt?(Es=Ut,Ut=null):Es=Ut.sibling;var Hc=Xe(Se,Ut,Cr.value,at);if(Hc===null){Ut===null&&(Ut=Es);break}h&&Ut&&Hc.alternate===null&&p(Se,Ut),be=L(Hc,be,Xt),Bt===null?Tt=Hc:Bt.sibling=Hc,Bt=Hc,Ut=Es}if(Cr.done)return b(Se,Ut),pn&&sd(Se,Xt),Tt;if(Ut===null){for(;!Cr.done;Xt++,Cr=Ee.next())Cr=tt(Se,Cr.value,at),Cr!==null&&(be=L(Cr,be,Xt),Bt===null?Tt=Cr:Bt.sibling=Cr,Bt=Cr);return pn&&sd(Se,Xt),Tt}for(Ut=C(Se,Ut);!Cr.done;Xt++,Cr=Ee.next())Cr=yt(Ut,Se,Xt,Cr.value,at),Cr!==null&&(h&&Cr.alternate!==null&&Ut.delete(Cr.key===null?Xt:Cr.key),be=L(Cr,be,Xt),Bt===null?Tt=Cr:Bt.sibling=Cr,Bt=Cr);return h&&Ut.forEach(function(Doe){return p(Se,Doe)}),pn&&sd(Se,Xt),Tt}function Vn(Se,be,Ee,at){if(typeof Ee=="object"&&Ee!==null&&Ee.type===k&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case E:e:{for(var Tt=Ee.key,Bt=be;Bt!==null;){if(Bt.key===Tt){if(Tt=Ee.type,Tt===k){if(Bt.tag===7){b(Se,Bt.sibling),be=O(Bt,Ee.props.children),be.return=Se,Se=be;break e}}else if(Bt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===M&&w3(Tt)===Bt.type){b(Se,Bt.sibling),be=O(Bt,Ee.props),be.ref=Xp(Se,Bt,Ee),be.return=Se,Se=be;break e}b(Se,Bt);break}else p(Se,Bt);Bt=Bt.sibling}Ee.type===k?(be=fd(Ee.props.children,Se.mode,at,Ee.key),be.return=Se,Se=be):(at=By(Ee.type,Ee.key,Ee.props,null,Se.mode,at),at.ref=Xp(Se,be,Ee),at.return=Se,Se=at)}return J(Se);case N:e:{for(Bt=Ee.key;be!==null;){if(be.key===Bt)if(be.tag===4&&be.stateNode.containerInfo===Ee.containerInfo&&be.stateNode.implementation===Ee.implementation){b(Se,be.sibling),be=O(be,Ee.children||[]),be.return=Se,Se=be;break e}else{b(Se,be);break}else p(Se,be);be=be.sibling}be=yN(Ee,Se.mode,at),be.return=Se,Se=be}return J(Se);case M:return Bt=Ee._init,Vn(Se,be,Bt(Ee._payload),at)}if(oe(Ee))return Nt(Se,be,Ee,at);if(V(Ee))return Et(Se,be,Ee,at);gy(Se,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,be!==null&&be.tag===6?(b(Se,be.sibling),be=O(be,Ee),be.return=Se,Se=be):(b(Se,be),be=vN(Ee,Se.mode,at),be.return=Se,Se=be),J(Se)):b(Se,be)}return Vn}var th=b3(!0),_3=b3(!1),xy=Ic(null),vy=null,rh=null,CS=null;function TS(){CS=rh=vy=null}function AS(h){var p=xy.current;ln(xy),h._currentValue=p}function PS(h,p,b){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===b)break;h=h.return}}function nh(h,p){vy=h,CS=rh=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&p)!==0&&(Ua=!0),h.firstContext=null)}function Ii(h){var p=h._currentValue;if(CS!==h)if(h={context:h,memoizedValue:p,next:null},rh===null){if(vy===null)throw Error(r(308));rh=h,vy.dependencies={lanes:0,firstContext:h}}else rh=rh.next=h;return p}var ad=null;function OS(h){ad===null?ad=[h]:ad.push(h)}function j3(h,p,b,C){var O=p.interleaved;return O===null?(b.next=b,OS(p)):(b.next=O.next,O.next=b),p.interleaved=b,Il(h,C)}function Il(h,p){h.lanes|=p;var b=h.alternate;for(b!==null&&(b.lanes|=p),b=h,h=h.return;h!==null;)h.childLanes|=p,b=h.alternate,b!==null&&(b.childLanes|=p),b=h,h=h.return;return b.tag===3?b.stateNode:null}var Lc=!1;function RS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S3(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ml(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function $c(h,p,b){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(Nr&2)!==0){var O=C.pending;return O===null?p.next=p:(p.next=O.next,O.next=p),C.pending=p,Il(h,b)}return O=C.interleaved,O===null?(p.next=p,OS(C)):(p.next=O.next,O.next=p),C.interleaved=p,Il(h,b)}function yy(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var C=p.lanes;C&=h.pendingLanes,b|=C,p.lanes=b,Gj(h,b)}}function N3(h,p){var b=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var O=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var J={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};L===null?O=L=J:L=L.next=J,b=b.next}while(b!==null);L===null?O=L=p:L=L.next=p}else O=L=p;b={baseState:C.baseState,firstBaseUpdate:O,lastBaseUpdate:L,shared:C.shared,effects:C.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function wy(h,p,b,C){var O=h.updateQueue;Lc=!1;var L=O.firstBaseUpdate,J=O.lastBaseUpdate,me=O.shared.pending;if(me!==null){O.shared.pending=null;var ve=me,Oe=ve.next;ve.next=null,J===null?L=Oe:J.next=Oe,J=ve;var Ze=h.alternate;Ze!==null&&(Ze=Ze.updateQueue,me=Ze.lastBaseUpdate,me!==J&&(me===null?Ze.firstBaseUpdate=Oe:me.next=Oe,Ze.lastBaseUpdate=ve))}if(L!==null){var tt=O.baseState;J=0,Ze=Oe=ve=null,me=L;do{var Xe=me.lane,yt=me.eventTime;if((C&Xe)===Xe){Ze!==null&&(Ze=Ze.next={eventTime:yt,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var Nt=h,Et=me;switch(Xe=p,yt=b,Et.tag){case 1:if(Nt=Et.payload,typeof Nt=="function"){tt=Nt.call(yt,tt,Xe);break e}tt=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Et.payload,Xe=typeof Nt=="function"?Nt.call(yt,tt,Xe):Nt,Xe==null)break e;tt=z({},tt,Xe);break e;case 2:Lc=!0}}me.callback!==null&&me.lane!==0&&(h.flags|=64,Xe=O.effects,Xe===null?O.effects=[me]:Xe.push(me))}else yt={eventTime:yt,lane:Xe,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ze===null?(Oe=Ze=yt,ve=tt):Ze=Ze.next=yt,J|=Xe;if(me=me.next,me===null){if(me=O.shared.pending,me===null)break;Xe=me,me=Xe.next,Xe.next=null,O.lastBaseUpdate=Xe,O.shared.pending=null}}while(!0);if(Ze===null&&(ve=tt),O.baseState=ve,O.firstBaseUpdate=Oe,O.lastBaseUpdate=Ze,p=O.shared.interleaved,p!==null){O=p;do J|=O.lane,O=O.next;while(O!==p)}else L===null&&(O.shared.lanes=0);ld|=J,h.lanes=J,h.memoizedState=tt}}function k3(h,p,b){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var C=h[p],O=C.callback;if(O!==null){if(C.callback=null,C=b,typeof O!="function")throw Error(r(191,O));O.call(C)}}}var Zp={},Zo=Ic(Zp),Qp=Ic(Zp),Jp=Ic(Zp);function id(h){if(h===Zp)throw Error(r(174));return h}function DS(h,p){switch(Jr(Jp,p),Jr(Qp,h),Jr(Zo,Zp),h=p.nodeType,h){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Ot(null,"");break;default:h=h===8?p.parentNode:p,p=h.namespaceURI||null,h=h.tagName,p=Ot(p,h)}ln(Zo),Jr(Zo,p)}function sh(){ln(Zo),ln(Qp),ln(Jp)}function E3(h){id(Jp.current);var p=id(Zo.current),b=Ot(p,h.type);p!==b&&(Jr(Qp,h),Jr(Zo,b))}function IS(h){Qp.current===h&&(ln(Zo),ln(Qp))}var yn=Ic(0);function by(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var MS=[];function FS(){for(var h=0;h<MS.length;h++)MS[h]._workInProgressVersionPrimary=null;MS.length=0}var _y=T.ReactCurrentDispatcher,LS=T.ReactCurrentBatchConfig,od=0,wn=null,fs=null,Ns=null,jy=!1,e0=!1,t0=0,roe=0;function aa(){throw Error(r(321))}function $S(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!yo(h[b],p[b]))return!1;return!0}function BS(h,p,b,C,O,L){if(od=L,wn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,_y.current=h===null||h.memoizedState===null?ioe:ooe,h=b(C,O),e0){L=0;do{if(e0=!1,t0=0,25<=L)throw Error(r(301));L+=1,Ns=fs=null,p.updateQueue=null,_y.current=loe,h=b(C,O)}while(e0)}if(_y.current=ky,p=fs!==null&&fs.next!==null,od=0,Ns=fs=wn=null,jy=!1,p)throw Error(r(300));return h}function US(){var h=t0!==0;return t0=0,h}function Qo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ns===null?wn.memoizedState=Ns=h:Ns=Ns.next=h,Ns}function Mi(){if(fs===null){var h=wn.alternate;h=h!==null?h.memoizedState:null}else h=fs.next;var p=Ns===null?wn.memoizedState:Ns.next;if(p!==null)Ns=p,fs=h;else{if(h===null)throw Error(r(310));fs=h,h={memoizedState:fs.memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},Ns===null?wn.memoizedState=Ns=h:Ns=Ns.next=h}return Ns}function r0(h,p){return typeof p=="function"?p(h):p}function VS(h){var p=Mi(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var C=fs,O=C.baseQueue,L=b.pending;if(L!==null){if(O!==null){var J=O.next;O.next=L.next,L.next=J}C.baseQueue=O=L,b.pending=null}if(O!==null){L=O.next,C=C.baseState;var me=J=null,ve=null,Oe=L;do{var Ze=Oe.lane;if((od&Ze)===Ze)ve!==null&&(ve=ve.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),C=Oe.hasEagerState?Oe.eagerState:h(C,Oe.action);else{var tt={lane:Ze,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};ve===null?(me=ve=tt,J=C):ve=ve.next=tt,wn.lanes|=Ze,ld|=Ze}Oe=Oe.next}while(Oe!==null&&Oe!==L);ve===null?J=C:ve.next=me,yo(C,p.memoizedState)||(Ua=!0),p.memoizedState=C,p.baseState=J,p.baseQueue=ve,b.lastRenderedState=C}if(h=b.interleaved,h!==null){O=h;do L=O.lane,wn.lanes|=L,ld|=L,O=O.next;while(O!==h)}else O===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function zS(h){var p=Mi(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var C=b.dispatch,O=b.pending,L=p.memoizedState;if(O!==null){b.pending=null;var J=O=O.next;do L=h(L,J.action),J=J.next;while(J!==O);yo(L,p.memoizedState)||(Ua=!0),p.memoizedState=L,p.baseQueue===null&&(p.baseState=L),b.lastRenderedState=L}return[L,C]}function C3(){}function T3(h,p){var b=wn,C=Mi(),O=p(),L=!yo(C.memoizedState,O);if(L&&(C.memoizedState=O,Ua=!0),C=C.queue,WS(O3.bind(null,b,C,h),[h]),C.getSnapshot!==p||L||Ns!==null&&Ns.memoizedState.tag&1){if(b.flags|=2048,n0(9,P3.bind(null,b,C,O,p),void 0,null),ks===null)throw Error(r(349));(od&30)!==0||A3(b,p,O)}return O}function A3(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=wn.updateQueue,p===null?(p={lastEffect:null,stores:null},wn.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function P3(h,p,b,C){p.value=b,p.getSnapshot=C,R3(p)&&D3(h)}function O3(h,p,b){return b(function(){R3(p)&&D3(h)})}function R3(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!yo(h,b)}catch{return!0}}function D3(h){var p=Il(h,1);p!==null&&So(p,h,1,-1)}function I3(h){var p=Qo();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:h},p.queue=h,h=h.dispatch=aoe.bind(null,wn,h),[p.memoizedState,h]}function n0(h,p,b,C){return h={tag:h,create:p,destroy:b,deps:C,next:null},p=wn.updateQueue,p===null?(p={lastEffect:null,stores:null},wn.updateQueue=p,p.lastEffect=h.next=h):(b=p.lastEffect,b===null?p.lastEffect=h.next=h:(C=b.next,b.next=h,h.next=C,p.lastEffect=h)),h}function M3(){return Mi().memoizedState}function Sy(h,p,b,C){var O=Qo();wn.flags|=h,O.memoizedState=n0(1|p,b,void 0,C===void 0?null:C)}function Ny(h,p,b,C){var O=Mi();C=C===void 0?null:C;var L=void 0;if(fs!==null){var J=fs.memoizedState;if(L=J.destroy,C!==null&&$S(C,J.deps)){O.memoizedState=n0(p,b,L,C);return}}wn.flags|=h,O.memoizedState=n0(1|p,b,L,C)}function F3(h,p){return Sy(8390656,8,h,p)}function WS(h,p){return Ny(2048,8,h,p)}function L3(h,p){return Ny(4,2,h,p)}function $3(h,p){return Ny(4,4,h,p)}function B3(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function U3(h,p,b){return b=b!=null?b.concat([h]):null,Ny(4,4,B3.bind(null,p,h),b)}function qS(){}function V3(h,p){var b=Mi();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&$S(p,C[1])?C[0]:(b.memoizedState=[h,p],h)}function z3(h,p){var b=Mi();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&$S(p,C[1])?C[0]:(h=h(),b.memoizedState=[h,p],h)}function W3(h,p,b){return(od&21)===0?(h.baseState&&(h.baseState=!1,Ua=!0),h.memoizedState=b):(yo(b,p)||(b=wM(),wn.lanes|=b,ld|=b,h.baseState=!0),p)}function noe(h,p){var b=Fr;Fr=b!==0&&4>b?b:4,h(!0);var C=LS.transition;LS.transition={};try{h(!1),p()}finally{Fr=b,LS.transition=C}}function q3(){return Mi().memoizedState}function soe(h,p,b){var C=zc(h);if(b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},H3(h))G3(p,b);else if(b=j3(h,p,b,C),b!==null){var O=Ea();So(b,h,C,O),K3(b,p,C)}}function aoe(h,p,b){var C=zc(h),O={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(H3(h))G3(p,O);else{var L=h.alternate;if(h.lanes===0&&(L===null||L.lanes===0)&&(L=p.lastRenderedReducer,L!==null))try{var J=p.lastRenderedState,me=L(J,b);if(O.hasEagerState=!0,O.eagerState=me,yo(me,J)){var ve=p.interleaved;ve===null?(O.next=O,OS(p)):(O.next=ve.next,ve.next=O),p.interleaved=O;return}}catch{}finally{}b=j3(h,p,O,C),b!==null&&(O=Ea(),So(b,h,C,O),K3(b,p,C))}}function H3(h){var p=h.alternate;return h===wn||p!==null&&p===wn}function G3(h,p){e0=jy=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function K3(h,p,b){if((b&4194240)!==0){var C=p.lanes;C&=h.pendingLanes,b|=C,p.lanes=b,Gj(h,b)}}var ky={readContext:Ii,useCallback:aa,useContext:aa,useEffect:aa,useImperativeHandle:aa,useInsertionEffect:aa,useLayoutEffect:aa,useMemo:aa,useReducer:aa,useRef:aa,useState:aa,useDebugValue:aa,useDeferredValue:aa,useTransition:aa,useMutableSource:aa,useSyncExternalStore:aa,useId:aa,unstable_isNewReconciler:!1},ioe={readContext:Ii,useCallback:function(h,p){return Qo().memoizedState=[h,p===void 0?null:p],h},useContext:Ii,useEffect:F3,useImperativeHandle:function(h,p,b){return b=b!=null?b.concat([h]):null,Sy(4194308,4,B3.bind(null,p,h),b)},useLayoutEffect:function(h,p){return Sy(4194308,4,h,p)},useInsertionEffect:function(h,p){return Sy(4,2,h,p)},useMemo:function(h,p){var b=Qo();return p=p===void 0?null:p,h=h(),b.memoizedState=[h,p],h},useReducer:function(h,p,b){var C=Qo();return p=b!==void 0?b(p):p,C.memoizedState=C.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},C.queue=h,h=h.dispatch=soe.bind(null,wn,h),[C.memoizedState,h]},useRef:function(h){var p=Qo();return h={current:h},p.memoizedState=h},useState:I3,useDebugValue:qS,useDeferredValue:function(h){return Qo().memoizedState=h},useTransition:function(){var h=I3(!1),p=h[0];return h=noe.bind(null,h[1]),Qo().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,b){var C=wn,O=Qo();if(pn){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),ks===null)throw Error(r(349));(od&30)!==0||A3(C,p,b)}O.memoizedState=b;var L={value:b,getSnapshot:p};return O.queue=L,F3(O3.bind(null,C,L,h),[h]),C.flags|=2048,n0(9,P3.bind(null,C,L,b,p),void 0,null),b},useId:function(){var h=Qo(),p=ks.identifierPrefix;if(pn){var b=Dl,C=Rl;b=(C&~(1<<32-Un(C)-1)).toString(32)+b,p=":"+p+"R"+b,b=t0++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=roe++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},ooe={readContext:Ii,useCallback:V3,useContext:Ii,useEffect:WS,useImperativeHandle:U3,useInsertionEffect:L3,useLayoutEffect:$3,useMemo:z3,useReducer:VS,useRef:M3,useState:function(){return VS(r0)},useDebugValue:qS,useDeferredValue:function(h){var p=Mi();return W3(p,fs.memoizedState,h)},useTransition:function(){var h=VS(r0)[0],p=Mi().memoizedState;return[h,p]},useMutableSource:C3,useSyncExternalStore:T3,useId:q3,unstable_isNewReconciler:!1},loe={readContext:Ii,useCallback:V3,useContext:Ii,useEffect:WS,useImperativeHandle:U3,useInsertionEffect:L3,useLayoutEffect:$3,useMemo:z3,useReducer:zS,useRef:M3,useState:function(){return zS(r0)},useDebugValue:qS,useDeferredValue:function(h){var p=Mi();return fs===null?p.memoizedState=h:W3(p,fs.memoizedState,h)},useTransition:function(){var h=zS(r0)[0],p=Mi().memoizedState;return[h,p]},useMutableSource:C3,useSyncExternalStore:T3,useId:q3,unstable_isNewReconciler:!1};function bo(h,p){if(h&&h.defaultProps){p=z({},p),h=h.defaultProps;for(var b in h)p[b]===void 0&&(p[b]=h[b]);return p}return p}function HS(h,p,b,C){p=h.memoizedState,b=b(C,p),b=b==null?p:z({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Ey={isMounted:function(h){return(h=h._reactInternals)?he(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var C=Ea(),O=zc(h),L=Ml(C,O);L.payload=p,b!=null&&(L.callback=b),p=$c(h,L,O),p!==null&&(So(p,h,O,C),yy(p,h,O))},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var C=Ea(),O=zc(h),L=Ml(C,O);L.tag=1,L.payload=p,b!=null&&(L.callback=b),p=$c(h,L,O),p!==null&&(So(p,h,O,C),yy(p,h,O))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Ea(),C=zc(h),O=Ml(b,C);O.tag=2,p!=null&&(O.callback=p),p=$c(h,O,C),p!==null&&(So(p,h,C,b),yy(p,h,C))}};function Y3(h,p,b,C,O,L,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,L,J):p.prototype&&p.prototype.isPureReactComponent?!zp(b,C)||!zp(O,L):!0}function X3(h,p,b){var C=!1,O=Mc,L=p.contextType;return typeof L=="object"&&L!==null?L=Ii(L):(O=Ba(p)?rd:sa.current,C=p.contextTypes,L=(C=C!=null)?Zf(h,O):Mc),p=new p(b,L),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ey,h.stateNode=p,p._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=O,h.__reactInternalMemoizedMaskedChildContext=L),p}function Z3(h,p,b,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,C),p.state!==h&&Ey.enqueueReplaceState(p,p.state,null)}function GS(h,p,b,C){var O=h.stateNode;O.props=b,O.state=h.memoizedState,O.refs={},RS(h);var L=p.contextType;typeof L=="object"&&L!==null?O.context=Ii(L):(L=Ba(p)?rd:sa.current,O.context=Zf(h,L)),O.state=h.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(HS(h,p,L,b),O.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(p=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),p!==O.state&&Ey.enqueueReplaceState(O,O.state,null),wy(h,b,O,C),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308)}function ah(h,p){try{var b="",C=p;do b+=re(C),C=C.return;while(C);var O=b}catch(L){O=`
Error generating stack: `+L.message+`
`+L.stack}return{value:h,source:p,stack:O,digest:null}}function KS(h,p,b){return{value:h,source:null,stack:b??null,digest:p??null}}function YS(h,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var coe=typeof WeakMap=="function"?WeakMap:Map;function Q3(h,p,b){b=Ml(-1,b),b.tag=3,b.payload={element:null};var C=p.value;return b.callback=function(){Dy||(Dy=!0,uN=C),YS(h,p)},b}function J3(h,p,b){b=Ml(-1,b),b.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var O=p.value;b.payload=function(){return C(O)},b.callback=function(){YS(h,p)}}var L=h.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(b.callback=function(){YS(h,p),typeof C!="function"&&(Uc===null?Uc=new Set([this]):Uc.add(this));var J=p.stack;this.componentDidCatch(p.value,{componentStack:J!==null?J:""})}),b}function eF(h,p,b){var C=h.pingCache;if(C===null){C=h.pingCache=new coe;var O=new Set;C.set(p,O)}else O=C.get(p),O===void 0&&(O=new Set,C.set(p,O));O.has(b)||(O.add(b),h=joe.bind(null,h,p,b),p.then(h,h))}function tF(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function rF(h,p,b,C,O){return(h.mode&1)===0?(h===p?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Ml(-1,1),p.tag=2,$c(b,p,1))),b.lanes|=1),h):(h.flags|=65536,h.lanes=O,h)}var uoe=T.ReactCurrentOwner,Ua=!1;function ka(h,p,b,C){p.child=h===null?_3(p,null,b,C):th(p,h.child,b,C)}function nF(h,p,b,C,O){b=b.render;var L=p.ref;return nh(p,O),C=BS(h,p,b,C,L,O),b=US(),h!==null&&!Ua?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~O,Fl(h,p,O)):(pn&&b&&jS(p),p.flags|=1,ka(h,p,C,O),p.child)}function sF(h,p,b,C,O){if(h===null){var L=b.type;return typeof L=="function"&&!xN(L)&&L.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=L,aF(h,p,L,C,O)):(h=By(b.type,null,C,p,p.mode,O),h.ref=p.ref,h.return=p,p.child=h)}if(L=h.child,(h.lanes&O)===0){var J=L.memoizedProps;if(b=b.compare,b=b!==null?b:zp,b(J,C)&&h.ref===p.ref)return Fl(h,p,O)}return p.flags|=1,h=qc(L,C),h.ref=p.ref,h.return=p,p.child=h}function aF(h,p,b,C,O){if(h!==null){var L=h.memoizedProps;if(zp(L,C)&&h.ref===p.ref)if(Ua=!1,p.pendingProps=C=L,(h.lanes&O)!==0)(h.flags&131072)!==0&&(Ua=!0);else return p.lanes=h.lanes,Fl(h,p,O)}return XS(h,p,b,C,O)}function iF(h,p,b){var C=p.pendingProps,O=C.children,L=h!==null?h.memoizedState:null;if(C.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(oh,ui),ui|=b;else{if((b&1073741824)===0)return h=L!==null?L.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null,transitions:null},p.updateQueue=null,Jr(oh,ui),ui|=h,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=L!==null?L.baseLanes:b,Jr(oh,ui),ui|=C}else L!==null?(C=L.baseLanes|b,p.memoizedState=null):C=b,Jr(oh,ui),ui|=C;return ka(h,p,O,b),p.child}function oF(h,p){var b=p.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function XS(h,p,b,C,O){var L=Ba(b)?rd:sa.current;return L=Zf(p,L),nh(p,O),b=BS(h,p,b,C,L,O),C=US(),h!==null&&!Ua?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~O,Fl(h,p,O)):(pn&&C&&jS(p),p.flags|=1,ka(h,p,b,O),p.child)}function lF(h,p,b,C,O){if(Ba(b)){var L=!0;dy(p)}else L=!1;if(nh(p,O),p.stateNode===null)Ty(h,p),X3(p,b,C),GS(p,b,C,O),C=!0;else if(h===null){var J=p.stateNode,me=p.memoizedProps;J.props=me;var ve=J.context,Oe=b.contextType;typeof Oe=="object"&&Oe!==null?Oe=Ii(Oe):(Oe=Ba(b)?rd:sa.current,Oe=Zf(p,Oe));var Ze=b.getDerivedStateFromProps,tt=typeof Ze=="function"||typeof J.getSnapshotBeforeUpdate=="function";tt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(me!==C||ve!==Oe)&&Z3(p,J,C,Oe),Lc=!1;var Xe=p.memoizedState;J.state=Xe,wy(p,C,J,O),ve=p.memoizedState,me!==C||Xe!==ve||$a.current||Lc?(typeof Ze=="function"&&(HS(p,b,Ze,C),ve=p.memoizedState),(me=Lc||Y3(p,b,me,C,Xe,ve,Oe))?(tt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(p.flags|=4194308)):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=ve),J.props=C,J.state=ve,J.context=Oe,C=me):(typeof J.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{J=p.stateNode,S3(h,p),me=p.memoizedProps,Oe=p.type===p.elementType?me:bo(p.type,me),J.props=Oe,tt=p.pendingProps,Xe=J.context,ve=b.contextType,typeof ve=="object"&&ve!==null?ve=Ii(ve):(ve=Ba(b)?rd:sa.current,ve=Zf(p,ve));var yt=b.getDerivedStateFromProps;(Ze=typeof yt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(me!==tt||Xe!==ve)&&Z3(p,J,C,ve),Lc=!1,Xe=p.memoizedState,J.state=Xe,wy(p,C,J,O);var Nt=p.memoizedState;me!==tt||Xe!==Nt||$a.current||Lc?(typeof yt=="function"&&(HS(p,b,yt,C),Nt=p.memoizedState),(Oe=Lc||Y3(p,b,Oe,C,Xe,Nt,ve)||!1)?(Ze||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(C,Nt,ve),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(C,Nt,ve)),typeof J.componentDidUpdate=="function"&&(p.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof J.componentDidUpdate!="function"||me===h.memoizedProps&&Xe===h.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||me===h.memoizedProps&&Xe===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=Nt),J.props=C,J.state=Nt,J.context=ve,C=Oe):(typeof J.componentDidUpdate!="function"||me===h.memoizedProps&&Xe===h.memoizedState||(p.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||me===h.memoizedProps&&Xe===h.memoizedState||(p.flags|=1024),C=!1)}return ZS(h,p,b,C,L,O)}function ZS(h,p,b,C,O,L){oF(h,p);var J=(p.flags&128)!==0;if(!C&&!J)return O&&h3(p,b,!1),Fl(h,p,L);C=p.stateNode,uoe.current=p;var me=J&&typeof b.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,h!==null&&J?(p.child=th(p,h.child,null,L),p.child=th(p,null,me,L)):ka(h,p,me,L),p.memoizedState=C.state,O&&h3(p,b,!0),p.child}function cF(h){var p=h.stateNode;p.pendingContext?d3(h,p.pendingContext,p.pendingContext!==p.context):p.context&&d3(h,p.context,!1),DS(h,p.containerInfo)}function uF(h,p,b,C,O){return eh(),ES(O),p.flags|=256,ka(h,p,b,C),p.child}var QS={dehydrated:null,treeContext:null,retryLane:0};function JS(h){return{baseLanes:h,cachePool:null,transitions:null}}function dF(h,p,b){var C=p.pendingProps,O=yn.current,L=!1,J=(p.flags&128)!==0,me;if((me=J)||(me=h!==null&&h.memoizedState===null?!1:(O&2)!==0),me?(L=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(O|=1),Jr(yn,O&1),h===null)return kS(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((p.mode&1)===0?p.lanes=1:h.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(J=C.children,h=C.fallback,L?(C=p.mode,L=p.child,J={mode:"hidden",children:J},(C&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=J):L=Uy(J,C,0,null),h=fd(h,C,b,null),L.return=p,h.return=p,L.sibling=h,p.child=L,p.child.memoizedState=JS(b),p.memoizedState=QS,h):eN(p,J));if(O=h.memoizedState,O!==null&&(me=O.dehydrated,me!==null))return doe(h,p,J,C,me,O,b);if(L){L=C.fallback,J=p.mode,O=h.child,me=O.sibling;var ve={mode:"hidden",children:C.children};return(J&1)===0&&p.child!==O?(C=p.child,C.childLanes=0,C.pendingProps=ve,p.deletions=null):(C=qc(O,ve),C.subtreeFlags=O.subtreeFlags&14680064),me!==null?L=qc(me,L):(L=fd(L,J,b,null),L.flags|=2),L.return=p,C.return=p,C.sibling=L,p.child=C,C=L,L=p.child,J=h.child.memoizedState,J=J===null?JS(b):{baseLanes:J.baseLanes|b,cachePool:null,transitions:J.transitions},L.memoizedState=J,L.childLanes=h.childLanes&~b,p.memoizedState=QS,C}return L=h.child,h=L.sibling,C=qc(L,{mode:"visible",children:C.children}),(p.mode&1)===0&&(C.lanes=b),C.return=p,C.sibling=null,h!==null&&(b=p.deletions,b===null?(p.deletions=[h],p.flags|=16):b.push(h)),p.child=C,p.memoizedState=null,C}function eN(h,p){return p=Uy({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function Cy(h,p,b,C){return C!==null&&ES(C),th(p,h.child,null,b),h=eN(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function doe(h,p,b,C,O,L,J){if(b)return p.flags&256?(p.flags&=-257,C=KS(Error(r(422))),Cy(h,p,J,C)):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(L=C.fallback,O=p.mode,C=Uy({mode:"visible",children:C.children},O,0,null),L=fd(L,O,J,null),L.flags|=2,C.return=p,L.return=p,C.sibling=L,p.child=C,(p.mode&1)!==0&&th(p,h.child,null,J),p.child.memoizedState=JS(J),p.memoizedState=QS,L);if((p.mode&1)===0)return Cy(h,p,J,null);if(O.data==="$!"){if(C=O.nextSibling&&O.nextSibling.dataset,C)var me=C.dgst;return C=me,L=Error(r(419)),C=KS(L,C,void 0),Cy(h,p,J,C)}if(me=(J&h.childLanes)!==0,Ua||me){if(C=ks,C!==null){switch(J&-J){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(C.suspendedLanes|J))!==0?0:O,O!==0&&O!==L.retryLane&&(L.retryLane=O,Il(h,O),So(C,h,O,-1))}return gN(),C=KS(Error(r(421))),Cy(h,p,J,C)}return O.data==="$?"?(p.flags|=128,p.child=h.child,p=Soe.bind(null,h),O._reactRetry=p,null):(h=L.treeContext,ci=Dc(O.nextSibling),li=p,pn=!0,wo=null,h!==null&&(Ri[Di++]=Rl,Ri[Di++]=Dl,Ri[Di++]=nd,Rl=h.id,Dl=h.overflow,nd=p),p=eN(p,C.children),p.flags|=4096,p)}function fF(h,p,b){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),PS(h.return,p,b)}function tN(h,p,b,C,O){var L=h.memoizedState;L===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:O}:(L.isBackwards=p,L.rendering=null,L.renderingStartTime=0,L.last=C,L.tail=b,L.tailMode=O)}function hF(h,p,b){var C=p.pendingProps,O=C.revealOrder,L=C.tail;if(ka(h,p,C.children,b),C=yn.current,(C&2)!==0)C=C&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&fF(h,b,p);else if(h.tag===19)fF(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if(Jr(yn,C),(p.mode&1)===0)p.memoizedState=null;else switch(O){case"forwards":for(b=p.child,O=null;b!==null;)h=b.alternate,h!==null&&by(h)===null&&(O=b),b=b.sibling;b=O,b===null?(O=p.child,p.child=null):(O=b.sibling,b.sibling=null),tN(p,!1,O,b,L);break;case"backwards":for(b=null,O=p.child,p.child=null;O!==null;){if(h=O.alternate,h!==null&&by(h)===null){p.child=O;break}h=O.sibling,O.sibling=b,b=O,O=h}tN(p,!0,b,null,L);break;case"together":tN(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Ty(h,p){(p.mode&1)===0&&h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2)}function Fl(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),ld|=p.lanes,(b&p.childLanes)===0)return null;if(h!==null&&p.child!==h.child)throw Error(r(153));if(p.child!==null){for(h=p.child,b=qc(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=qc(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function foe(h,p,b){switch(p.tag){case 3:cF(p),eh();break;case 5:E3(p);break;case 1:Ba(p.type)&&dy(p);break;case 4:DS(p,p.stateNode.containerInfo);break;case 10:var C=p.type._context,O=p.memoizedProps.value;Jr(xy,C._currentValue),C._currentValue=O;break;case 13:if(C=p.memoizedState,C!==null)return C.dehydrated!==null?(Jr(yn,yn.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?dF(h,p,b):(Jr(yn,yn.current&1),h=Fl(h,p,b),h!==null?h.sibling:null);Jr(yn,yn.current&1);break;case 19:if(C=(b&p.childLanes)!==0,(h.flags&128)!==0){if(C)return hF(h,p,b);p.flags|=128}if(O=p.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Jr(yn,yn.current),C)break;return null;case 22:case 23:return p.lanes=0,iF(h,p,b)}return Fl(h,p,b)}var mF,rN,pF,gF;mF=function(h,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},rN=function(){},pF=function(h,p,b,C){var O=h.memoizedProps;if(O!==C){h=p.stateNode,id(Zo.current);var L=null;switch(b){case"input":O=ye(h,O),C=ye(h,C),L=[];break;case"select":O=z({},O,{value:void 0}),C=z({},C,{value:void 0}),L=[];break;case"textarea":O=Ne(h,O),C=Ne(h,C),L=[];break;default:typeof O.onClick!="function"&&typeof C.onClick=="function"&&(h.onclick=ly)}Us(b,C);var J;b=null;for(Oe in O)if(!C.hasOwnProperty(Oe)&&O.hasOwnProperty(Oe)&&O[Oe]!=null)if(Oe==="style"){var me=O[Oe];for(J in me)me.hasOwnProperty(J)&&(b||(b={}),b[J]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(s.hasOwnProperty(Oe)?L||(L=[]):(L=L||[]).push(Oe,null));for(Oe in C){var ve=C[Oe];if(me=O?.[Oe],C.hasOwnProperty(Oe)&&ve!==me&&(ve!=null||me!=null))if(Oe==="style")if(me){for(J in me)!me.hasOwnProperty(J)||ve&&ve.hasOwnProperty(J)||(b||(b={}),b[J]="");for(J in ve)ve.hasOwnProperty(J)&&me[J]!==ve[J]&&(b||(b={}),b[J]=ve[J])}else b||(L||(L=[]),L.push(Oe,b)),b=ve;else Oe==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,me=me?me.__html:void 0,ve!=null&&me!==ve&&(L=L||[]).push(Oe,ve)):Oe==="children"?typeof ve!="string"&&typeof ve!="number"||(L=L||[]).push(Oe,""+ve):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Oe)?(ve!=null&&Oe==="onScroll"&&on("scroll",h),L||me===ve||(L=[])):(L=L||[]).push(Oe,ve))}b&&(L=L||[]).push("style",b);var Oe=L;(p.updateQueue=Oe)&&(p.flags|=4)}},gF=function(h,p,b,C){b!==C&&(p.flags|=4)};function s0(h,p){if(!pn)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function ia(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,C=0;if(p)for(var O=h.child;O!==null;)b|=O.lanes|O.childLanes,C|=O.subtreeFlags&14680064,C|=O.flags&14680064,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)b|=O.lanes|O.childLanes,C|=O.subtreeFlags,C|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=C,h.childLanes=b,p}function hoe(h,p,b){var C=p.pendingProps;switch(SS(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ia(p),null;case 1:return Ba(p.type)&&uy(),ia(p),null;case 3:return C=p.stateNode,sh(),ln($a),ln(sa),FS(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(py(p)?p.flags|=4:h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,wo!==null&&(hN(wo),wo=null))),rN(h,p),ia(p),null;case 5:IS(p);var O=id(Jp.current);if(b=p.type,h!==null&&p.stateNode!=null)pF(h,p,b,C,O),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(r(166));return ia(p),null}if(h=id(Zo.current),py(p)){C=p.stateNode,b=p.type;var L=p.memoizedProps;switch(C[Xo]=p,C[Kp]=L,h=(p.mode&1)!==0,b){case"dialog":on("cancel",C),on("close",C);break;case"iframe":case"object":case"embed":on("load",C);break;case"video":case"audio":for(O=0;O<qp.length;O++)on(qp[O],C);break;case"source":on("error",C);break;case"img":case"image":case"link":on("error",C),on("load",C);break;case"details":on("toggle",C);break;case"input":xe(C,L),on("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!L.multiple},on("invalid",C);break;case"textarea":We(C,L),on("invalid",C)}Us(b,L),O=null;for(var J in L)if(L.hasOwnProperty(J)){var me=L[J];J==="children"?typeof me=="string"?C.textContent!==me&&(L.suppressHydrationWarning!==!0&&oy(C.textContent,me,h),O=["children",me]):typeof me=="number"&&C.textContent!==""+me&&(L.suppressHydrationWarning!==!0&&oy(C.textContent,me,h),O=["children",""+me]):s.hasOwnProperty(J)&&me!=null&&J==="onScroll"&&on("scroll",C)}switch(b){case"input":ae(C),mt(C,L,!0);break;case"textarea":ae(C),Ue(C);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(C.onclick=ly)}C=O,p.updateQueue=C,C!==null&&(p.flags|=4)}else{J=O.nodeType===9?O:O.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=it(b)),h==="http://www.w3.org/1999/xhtml"?b==="script"?(h=J.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof C.is=="string"?h=J.createElement(b,{is:C.is}):(h=J.createElement(b),b==="select"&&(J=h,C.multiple?J.multiple=!0:C.size&&(J.size=C.size))):h=J.createElementNS(h,b),h[Xo]=p,h[Kp]=C,mF(h,p,!1,!1),p.stateNode=h;e:{switch(J=xo(b,C),b){case"dialog":on("cancel",h),on("close",h),O=C;break;case"iframe":case"object":case"embed":on("load",h),O=C;break;case"video":case"audio":for(O=0;O<qp.length;O++)on(qp[O],h);O=C;break;case"source":on("error",h),O=C;break;case"img":case"image":case"link":on("error",h),on("load",h),O=C;break;case"details":on("toggle",h),O=C;break;case"input":xe(h,C),O=ye(h,C),on("invalid",h);break;case"option":O=C;break;case"select":h._wrapperState={wasMultiple:!!C.multiple},O=z({},C,{value:void 0}),on("invalid",h);break;case"textarea":We(h,C),O=Ne(h,C),on("invalid",h);break;default:O=C}Us(b,O),me=O;for(L in me)if(me.hasOwnProperty(L)){var ve=me[L];L==="style"?vn(h,ve):L==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&Rt(h,ve)):L==="children"?typeof ve=="string"?(b!=="textarea"||ve!=="")&&_t(h,ve):typeof ve=="number"&&_t(h,""+ve):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(s.hasOwnProperty(L)?ve!=null&&L==="onScroll"&&on("scroll",h):ve!=null&&w(h,L,ve,J))}switch(b){case"input":ae(h),mt(h,C,!1);break;case"textarea":ae(h),Ue(h);break;case"option":C.value!=null&&h.setAttribute("value",""+pe(C.value));break;case"select":h.multiple=!!C.multiple,L=C.value,L!=null?ge(h,!!C.multiple,L,!1):C.defaultValue!=null&&ge(h,!!C.multiple,C.defaultValue,!0);break;default:typeof O.onClick=="function"&&(h.onclick=ly)}switch(b){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ia(p),null;case 6:if(h&&p.stateNode!=null)gF(h,p,h.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(r(166));if(b=id(Jp.current),id(Zo.current),py(p)){if(C=p.stateNode,b=p.memoizedProps,C[Xo]=p,(L=C.nodeValue!==b)&&(h=li,h!==null))switch(h.tag){case 3:oy(C.nodeValue,b,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&oy(C.nodeValue,b,(h.mode&1)!==0)}L&&(p.flags|=4)}else C=(b.nodeType===9?b:b.ownerDocument).createTextNode(C),C[Xo]=p,p.stateNode=C}return ia(p),null;case 13:if(ln(yn),C=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(pn&&ci!==null&&(p.mode&1)!==0&&(p.flags&128)===0)y3(),eh(),p.flags|=98560,L=!1;else if(L=py(p),C!==null&&C.dehydrated!==null){if(h===null){if(!L)throw Error(r(318));if(L=p.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Xo]=p}else eh(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ia(p),L=!1}else wo!==null&&(hN(wo),wo=null),L=!0;if(!L)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):(C=C!==null,C!==(h!==null&&h.memoizedState!==null)&&C&&(p.child.flags|=8192,(p.mode&1)!==0&&(h===null||(yn.current&1)!==0?hs===0&&(hs=3):gN())),p.updateQueue!==null&&(p.flags|=4),ia(p),null);case 4:return sh(),rN(h,p),h===null&&Hp(p.stateNode.containerInfo),ia(p),null;case 10:return AS(p.type._context),ia(p),null;case 17:return Ba(p.type)&&uy(),ia(p),null;case 19:if(ln(yn),L=p.memoizedState,L===null)return ia(p),null;if(C=(p.flags&128)!==0,J=L.rendering,J===null)if(C)s0(L,!1);else{if(hs!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(J=by(h),J!==null){for(p.flags|=128,s0(L,!1),C=J.updateQueue,C!==null&&(p.updateQueue=C,p.flags|=4),p.subtreeFlags=0,C=b,b=p.child;b!==null;)L=b,h=C,L.flags&=14680066,J=L.alternate,J===null?(L.childLanes=0,L.lanes=h,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=J.childLanes,L.lanes=J.lanes,L.child=J.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=J.memoizedProps,L.memoizedState=J.memoizedState,L.updateQueue=J.updateQueue,L.type=J.type,h=J.dependencies,L.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),b=b.sibling;return Jr(yn,yn.current&1|2),p.child}h=h.sibling}L.tail!==null&&rt()>lh&&(p.flags|=128,C=!0,s0(L,!1),p.lanes=4194304)}else{if(!C)if(h=by(J),h!==null){if(p.flags|=128,C=!0,b=h.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),s0(L,!0),L.tail===null&&L.tailMode==="hidden"&&!J.alternate&&!pn)return ia(p),null}else 2*rt()-L.renderingStartTime>lh&&b!==1073741824&&(p.flags|=128,C=!0,s0(L,!1),p.lanes=4194304);L.isBackwards?(J.sibling=p.child,p.child=J):(b=L.last,b!==null?b.sibling=J:p.child=J,L.last=J)}return L.tail!==null?(p=L.tail,L.rendering=p,L.tail=p.sibling,L.renderingStartTime=rt(),p.sibling=null,b=yn.current,Jr(yn,C?b&1|2:b&1),p):(ia(p),null);case 22:case 23:return pN(),C=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(p.flags|=8192),C&&(p.mode&1)!==0?(ui&1073741824)!==0&&(ia(p),p.subtreeFlags&6&&(p.flags|=8192)):ia(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function moe(h,p){switch(SS(p),p.tag){case 1:return Ba(p.type)&&uy(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return sh(),ln($a),ln(sa),FS(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 5:return IS(p),null;case 13:if(ln(yn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(r(340));eh()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return ln(yn),null;case 4:return sh(),null;case 10:return AS(p.type._context),null;case 22:case 23:return pN(),null;case 24:return null;default:return null}}var Ay=!1,oa=!1,poe=typeof WeakSet=="function"?WeakSet:Set,jt=null;function ih(h,p){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){kn(h,p,C)}else b.current=null}function nN(h,p,b){try{b()}catch(C){kn(h,p,C)}}var xF=!1;function goe(h,p){if(pS=Xv,h=YM(),oS(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var C=b.getSelection&&b.getSelection();if(C&&C.rangeCount!==0){b=C.anchorNode;var O=C.anchorOffset,L=C.focusNode;C=C.focusOffset;try{b.nodeType,L.nodeType}catch{b=null;break e}var J=0,me=-1,ve=-1,Oe=0,Ze=0,tt=h,Xe=null;t:for(;;){for(var yt;tt!==b||O!==0&&tt.nodeType!==3||(me=J+O),tt!==L||C!==0&&tt.nodeType!==3||(ve=J+C),tt.nodeType===3&&(J+=tt.nodeValue.length),(yt=tt.firstChild)!==null;)Xe=tt,tt=yt;for(;;){if(tt===h)break t;if(Xe===b&&++Oe===O&&(me=J),Xe===L&&++Ze===C&&(ve=J),(yt=tt.nextSibling)!==null)break;tt=Xe,Xe=tt.parentNode}tt=yt}b=me===-1||ve===-1?null:{start:me,end:ve}}else b=null}b=b||{start:0,end:0}}else b=null;for(gS={focusedElem:h,selectionRange:b},Xv=!1,jt=p;jt!==null;)if(p=jt,h=p.child,(p.subtreeFlags&1028)!==0&&h!==null)h.return=p,jt=h;else for(;jt!==null;){p=jt;try{var Nt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Nt!==null){var Et=Nt.memoizedProps,Vn=Nt.memoizedState,Se=p.stateNode,be=Se.getSnapshotBeforeUpdate(p.elementType===p.type?Et:bo(p.type,Et),Vn);Se.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Ee=p.stateNode.containerInfo;Ee.nodeType===1?Ee.textContent="":Ee.nodeType===9&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(at){kn(p,p.return,at)}if(h=p.sibling,h!==null){h.return=p.return,jt=h;break}jt=p.return}return Nt=xF,xF=!1,Nt}function a0(h,p,b){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var O=C=C.next;do{if((O.tag&h)===h){var L=O.destroy;O.destroy=void 0,L!==void 0&&nN(p,b,L)}O=O.next}while(O!==C)}}function Py(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&h)===h){var C=b.create;b.destroy=C()}b=b.next}while(b!==p)}}function sN(h){var p=h.ref;if(p!==null){var b=h.stateNode;switch(h.tag){case 5:h=b;break;default:h=b}typeof p=="function"?p(h):p.current=h}}function vF(h){var p=h.alternate;p!==null&&(h.alternate=null,vF(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&(delete p[Xo],delete p[Kp],delete p[wS],delete p[Qie],delete p[Jie])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function yF(h){return h.tag===5||h.tag===3||h.tag===4}function wF(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||yF(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function aN(h,p,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(h,p):b.insertBefore(h,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(h,b)):(p=b,p.appendChild(h)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=ly));else if(C!==4&&(h=h.child,h!==null))for(aN(h,p,b),h=h.sibling;h!==null;)aN(h,p,b),h=h.sibling}function iN(h,p,b){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?b.insertBefore(h,p):b.appendChild(h);else if(C!==4&&(h=h.child,h!==null))for(iN(h,p,b),h=h.sibling;h!==null;)iN(h,p,b),h=h.sibling}var zs=null,_o=!1;function Bc(h,p,b){for(b=b.child;b!==null;)bF(h,p,b),b=b.sibling}function bF(h,p,b){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Yo,b)}catch{}switch(b.tag){case 5:oa||ih(b,p);case 6:var C=zs,O=_o;zs=null,Bc(h,p,b),zs=C,_o=O,zs!==null&&(_o?(h=zs,b=b.stateNode,h.nodeType===8?h.parentNode.removeChild(b):h.removeChild(b)):zs.removeChild(b.stateNode));break;case 18:zs!==null&&(_o?(h=zs,b=b.stateNode,h.nodeType===8?yS(h.parentNode,b):h.nodeType===1&&yS(h,b),Fp(h)):yS(zs,b.stateNode));break;case 4:C=zs,O=_o,zs=b.stateNode.containerInfo,_o=!0,Bc(h,p,b),zs=C,_o=O;break;case 0:case 11:case 14:case 15:if(!oa&&(C=b.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){O=C=C.next;do{var L=O,J=L.destroy;L=L.tag,J!==void 0&&((L&2)!==0||(L&4)!==0)&&nN(b,p,J),O=O.next}while(O!==C)}Bc(h,p,b);break;case 1:if(!oa&&(ih(b,p),C=b.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=b.memoizedProps,C.state=b.memoizedState,C.componentWillUnmount()}catch(me){kn(b,p,me)}Bc(h,p,b);break;case 21:Bc(h,p,b);break;case 22:b.mode&1?(oa=(C=oa)||b.memoizedState!==null,Bc(h,p,b),oa=C):Bc(h,p,b);break;default:Bc(h,p,b)}}function _F(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new poe),p.forEach(function(C){var O=Noe.bind(null,h,C);b.has(C)||(b.add(C),C.then(O,O))})}}function jo(h,p){var b=p.deletions;if(b!==null)for(var C=0;C<b.length;C++){var O=b[C];try{var L=h,J=p,me=J;e:for(;me!==null;){switch(me.tag){case 5:zs=me.stateNode,_o=!1;break e;case 3:zs=me.stateNode.containerInfo,_o=!0;break e;case 4:zs=me.stateNode.containerInfo,_o=!0;break e}me=me.return}if(zs===null)throw Error(r(160));bF(L,J,O),zs=null,_o=!1;var ve=O.alternate;ve!==null&&(ve.return=null),O.return=null}catch(Oe){kn(O,p,Oe)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)jF(p,h),p=p.sibling}function jF(h,p){var b=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(jo(p,h),Jo(h),C&4){try{a0(3,h,h.return),Py(3,h)}catch(Et){kn(h,h.return,Et)}try{a0(5,h,h.return)}catch(Et){kn(h,h.return,Et)}}break;case 1:jo(p,h),Jo(h),C&512&&b!==null&&ih(b,b.return);break;case 5:if(jo(p,h),Jo(h),C&512&&b!==null&&ih(b,b.return),h.flags&32){var O=h.stateNode;try{_t(O,"")}catch(Et){kn(h,h.return,Et)}}if(C&4&&(O=h.stateNode,O!=null)){var L=h.memoizedProps,J=b!==null?b.memoizedProps:L,me=h.type,ve=h.updateQueue;if(h.updateQueue=null,ve!==null)try{me==="input"&&L.type==="radio"&&L.name!=null&&Re(O,L),xo(me,J);var Oe=xo(me,L);for(J=0;J<ve.length;J+=2){var Ze=ve[J],tt=ve[J+1];Ze==="style"?vn(O,tt):Ze==="dangerouslySetInnerHTML"?Rt(O,tt):Ze==="children"?_t(O,tt):w(O,Ze,tt,Oe)}switch(me){case"input":je(O,L);break;case"textarea":qe(O,L);break;case"select":var Xe=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!L.multiple;var yt=L.value;yt!=null?ge(O,!!L.multiple,yt,!1):Xe!==!!L.multiple&&(L.defaultValue!=null?ge(O,!!L.multiple,L.defaultValue,!0):ge(O,!!L.multiple,L.multiple?[]:"",!1))}O[Kp]=L}catch(Et){kn(h,h.return,Et)}}break;case 6:if(jo(p,h),Jo(h),C&4){if(h.stateNode===null)throw Error(r(162));O=h.stateNode,L=h.memoizedProps;try{O.nodeValue=L}catch(Et){kn(h,h.return,Et)}}break;case 3:if(jo(p,h),Jo(h),C&4&&b!==null&&b.memoizedState.isDehydrated)try{Fp(p.containerInfo)}catch(Et){kn(h,h.return,Et)}break;case 4:jo(p,h),Jo(h);break;case 13:jo(p,h),Jo(h),O=h.child,O.flags&8192&&(L=O.memoizedState!==null,O.stateNode.isHidden=L,!L||O.alternate!==null&&O.alternate.memoizedState!==null||(cN=rt())),C&4&&_F(h);break;case 22:if(Ze=b!==null&&b.memoizedState!==null,h.mode&1?(oa=(Oe=oa)||Ze,jo(p,h),oa=Oe):jo(p,h),Jo(h),C&8192){if(Oe=h.memoizedState!==null,(h.stateNode.isHidden=Oe)&&!Ze&&(h.mode&1)!==0)for(jt=h,Ze=h.child;Ze!==null;){for(tt=jt=Ze;jt!==null;){switch(Xe=jt,yt=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:a0(4,Xe,Xe.return);break;case 1:ih(Xe,Xe.return);var Nt=Xe.stateNode;if(typeof Nt.componentWillUnmount=="function"){C=Xe,b=Xe.return;try{p=C,Nt.props=p.memoizedProps,Nt.state=p.memoizedState,Nt.componentWillUnmount()}catch(Et){kn(C,b,Et)}}break;case 5:ih(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){kF(tt);continue}}yt!==null?(yt.return=Xe,jt=yt):kF(tt)}Ze=Ze.sibling}e:for(Ze=null,tt=h;;){if(tt.tag===5){if(Ze===null){Ze=tt;try{O=tt.stateNode,Oe?(L=O.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(me=tt.stateNode,ve=tt.memoizedProps.style,J=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,me.style.display=vr("display",J))}catch(Et){kn(h,h.return,Et)}}}else if(tt.tag===6){if(Ze===null)try{tt.stateNode.nodeValue=Oe?"":tt.memoizedProps}catch(Et){kn(h,h.return,Et)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===h)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===h)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===h)break e;Ze===tt&&(Ze=null),tt=tt.return}Ze===tt&&(Ze=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:jo(p,h),Jo(h),C&4&&_F(h);break;case 21:break;default:jo(p,h),Jo(h)}}function Jo(h){var p=h.flags;if(p&2){try{e:{for(var b=h.return;b!==null;){if(yF(b)){var C=b;break e}b=b.return}throw Error(r(160))}switch(C.tag){case 5:var O=C.stateNode;C.flags&32&&(_t(O,""),C.flags&=-33);var L=wF(h);iN(h,L,O);break;case 3:case 4:var J=C.stateNode.containerInfo,me=wF(h);aN(h,me,J);break;default:throw Error(r(161))}}catch(ve){kn(h,h.return,ve)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function xoe(h,p,b){jt=h,SF(h)}function SF(h,p,b){for(var C=(h.mode&1)!==0;jt!==null;){var O=jt,L=O.child;if(O.tag===22&&C){var J=O.memoizedState!==null||Ay;if(!J){var me=O.alternate,ve=me!==null&&me.memoizedState!==null||oa;me=Ay;var Oe=oa;if(Ay=J,(oa=ve)&&!Oe)for(jt=O;jt!==null;)J=jt,ve=J.child,J.tag===22&&J.memoizedState!==null?EF(O):ve!==null?(ve.return=J,jt=ve):EF(O);for(;L!==null;)jt=L,SF(L),L=L.sibling;jt=O,Ay=me,oa=Oe}NF(h)}else(O.subtreeFlags&8772)!==0&&L!==null?(L.return=O,jt=L):NF(h)}}function NF(h){for(;jt!==null;){var p=jt;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:oa||Py(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!oa)if(b===null)C.componentDidMount();else{var O=p.elementType===p.type?b.memoizedProps:bo(p.type,b.memoizedProps);C.componentDidUpdate(O,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var L=p.updateQueue;L!==null&&k3(p,L,C);break;case 3:var J=p.updateQueue;if(J!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}k3(p,J,b)}break;case 5:var me=p.stateNode;if(b===null&&p.flags&4){b=me;var ve=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&b.focus();break;case"img":ve.src&&(b.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Oe=p.alternate;if(Oe!==null){var Ze=Oe.memoizedState;if(Ze!==null){var tt=Ze.dehydrated;tt!==null&&Fp(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}oa||p.flags&512&&sN(p)}catch(Xe){kn(p,p.return,Xe)}}if(p===h){jt=null;break}if(b=p.sibling,b!==null){b.return=p.return,jt=b;break}jt=p.return}}function kF(h){for(;jt!==null;){var p=jt;if(p===h){jt=null;break}var b=p.sibling;if(b!==null){b.return=p.return,jt=b;break}jt=p.return}}function EF(h){for(;jt!==null;){var p=jt;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Py(4,p)}catch(ve){kn(p,b,ve)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var O=p.return;try{C.componentDidMount()}catch(ve){kn(p,O,ve)}}var L=p.return;try{sN(p)}catch(ve){kn(p,L,ve)}break;case 5:var J=p.return;try{sN(p)}catch(ve){kn(p,J,ve)}}}catch(ve){kn(p,p.return,ve)}if(p===h){jt=null;break}var me=p.sibling;if(me!==null){me.return=p.return,jt=me;break}jt=p.return}}var voe=Math.ceil,Oy=T.ReactCurrentDispatcher,oN=T.ReactCurrentOwner,Fi=T.ReactCurrentBatchConfig,Nr=0,ks=null,Zn=null,Ws=0,ui=0,oh=Ic(0),hs=0,i0=null,ld=0,Ry=0,lN=0,o0=null,Va=null,cN=0,lh=1/0,Ll=null,Dy=!1,uN=null,Uc=null,Iy=!1,Vc=null,My=0,l0=0,dN=null,Fy=-1,Ly=0;function Ea(){return(Nr&6)!==0?rt():Fy!==-1?Fy:Fy=rt()}function zc(h){return(h.mode&1)===0?1:(Nr&2)!==0&&Ws!==0?Ws&-Ws:toe.transition!==null?(Ly===0&&(Ly=wM()),Ly):(h=Fr,h!==0||(h=window.event,h=h===void 0?16:TM(h.type)),h)}function So(h,p,b,C){if(50<l0)throw l0=0,dN=null,Error(r(185));Op(h,b,C),((Nr&2)===0||h!==ks)&&(h===ks&&((Nr&2)===0&&(Ry|=b),hs===4&&Wc(h,Ws)),za(h,C),b===1&&Nr===0&&(p.mode&1)===0&&(lh=rt()+500,fy&&Fc()))}function za(h,p){var b=h.callbackNode;tie(h,p);var C=Gv(h,h===ks?Ws:0);if(C===0)b!==null&&ft(b),h.callbackNode=null,h.callbackPriority=0;else if(p=C&-C,h.callbackPriority!==p){if(b!=null&&ft(b),p===1)h.tag===0?eoe(TF.bind(null,h)):m3(TF.bind(null,h)),Xie(function(){(Nr&6)===0&&Fc()}),b=null;else{switch(bM(C)){case 1:b=Hr;break;case 4:b=Qr;break;case 16:b=Bn;break;case 536870912:b=Ec;break;default:b=Bn}b=FF(b,CF.bind(null,h))}h.callbackPriority=p,h.callbackNode=b}}function CF(h,p){if(Fy=-1,Ly=0,(Nr&6)!==0)throw Error(r(327));var b=h.callbackNode;if(ch()&&h.callbackNode!==b)return null;var C=Gv(h,h===ks?Ws:0);if(C===0)return null;if((C&30)!==0||(C&h.expiredLanes)!==0||p)p=$y(h,C);else{p=C;var O=Nr;Nr|=2;var L=PF();(ks!==h||Ws!==p)&&(Ll=null,lh=rt()+500,ud(h,p));do try{boe();break}catch(me){AF(h,me)}while(!0);TS(),Oy.current=L,Nr=O,Zn!==null?p=0:(ks=null,Ws=0,p=hs)}if(p!==0){if(p===2&&(O=qj(h),O!==0&&(C=O,p=fN(h,O))),p===1)throw b=i0,ud(h,0),Wc(h,C),za(h,rt()),b;if(p===6)Wc(h,C);else{if(O=h.current.alternate,(C&30)===0&&!yoe(O)&&(p=$y(h,C),p===2&&(L=qj(h),L!==0&&(C=L,p=fN(h,L))),p===1))throw b=i0,ud(h,0),Wc(h,C),za(h,rt()),b;switch(h.finishedWork=O,h.finishedLanes=C,p){case 0:case 1:throw Error(r(345));case 2:dd(h,Va,Ll);break;case 3:if(Wc(h,C),(C&130023424)===C&&(p=cN+500-rt(),10<p)){if(Gv(h,0)!==0)break;if(O=h.suspendedLanes,(O&C)!==C){Ea(),h.pingedLanes|=h.suspendedLanes&O;break}h.timeoutHandle=vS(dd.bind(null,h,Va,Ll),p);break}dd(h,Va,Ll);break;case 4:if(Wc(h,C),(C&4194240)===C)break;for(p=h.eventTimes,O=-1;0<C;){var J=31-Un(C);L=1<<J,J=p[J],J>O&&(O=J),C&=~L}if(C=O,C=rt()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*voe(C/1960))-C,10<C){h.timeoutHandle=vS(dd.bind(null,h,Va,Ll),C);break}dd(h,Va,Ll);break;case 5:dd(h,Va,Ll);break;default:throw Error(r(329))}}}return za(h,rt()),h.callbackNode===b?CF.bind(null,h):null}function fN(h,p){var b=o0;return h.current.memoizedState.isDehydrated&&(ud(h,p).flags|=256),h=$y(h,p),h!==2&&(p=Va,Va=b,p!==null&&hN(p)),h}function hN(h){Va===null?Va=h:Va.push.apply(Va,h)}function yoe(h){for(var p=h;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var O=b[C],L=O.getSnapshot;O=O.value;try{if(!yo(L(),O))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Wc(h,p){for(p&=~lN,p&=~Ry,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var b=31-Un(p),C=1<<b;h[b]=-1,p&=~C}}function TF(h){if((Nr&6)!==0)throw Error(r(327));ch();var p=Gv(h,0);if((p&1)===0)return za(h,rt()),null;var b=$y(h,p);if(h.tag!==0&&b===2){var C=qj(h);C!==0&&(p=C,b=fN(h,C))}if(b===1)throw b=i0,ud(h,0),Wc(h,p),za(h,rt()),b;if(b===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,dd(h,Va,Ll),za(h,rt()),null}function mN(h,p){var b=Nr;Nr|=1;try{return h(p)}finally{Nr=b,Nr===0&&(lh=rt()+500,fy&&Fc())}}function cd(h){Vc!==null&&Vc.tag===0&&(Nr&6)===0&&ch();var p=Nr;Nr|=1;var b=Fi.transition,C=Fr;try{if(Fi.transition=null,Fr=1,h)return h()}finally{Fr=C,Fi.transition=b,Nr=p,(Nr&6)===0&&Fc()}}function pN(){ui=oh.current,ln(oh)}function ud(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==-1&&(h.timeoutHandle=-1,Yie(b)),Zn!==null)for(b=Zn.return;b!==null;){var C=b;switch(SS(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&uy();break;case 3:sh(),ln($a),ln(sa),FS();break;case 5:IS(C);break;case 4:sh();break;case 13:ln(yn);break;case 19:ln(yn);break;case 10:AS(C.type._context);break;case 22:case 23:pN()}b=b.return}if(ks=h,Zn=h=qc(h.current,null),Ws=ui=p,hs=0,i0=null,lN=Ry=ld=0,Va=o0=null,ad!==null){for(p=0;p<ad.length;p++)if(b=ad[p],C=b.interleaved,C!==null){b.interleaved=null;var O=C.next,L=b.pending;if(L!==null){var J=L.next;L.next=O,C.next=J}b.pending=C}ad=null}return h}function AF(h,p){do{var b=Zn;try{if(TS(),_y.current=ky,jy){for(var C=wn.memoizedState;C!==null;){var O=C.queue;O!==null&&(O.pending=null),C=C.next}jy=!1}if(od=0,Ns=fs=wn=null,e0=!1,t0=0,oN.current=null,b===null||b.return===null){hs=1,i0=p,Zn=null;break}e:{var L=h,J=b.return,me=b,ve=p;if(p=Ws,me.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Oe=ve,Ze=me,tt=Ze.tag;if((Ze.mode&1)===0&&(tt===0||tt===11||tt===15)){var Xe=Ze.alternate;Xe?(Ze.updateQueue=Xe.updateQueue,Ze.memoizedState=Xe.memoizedState,Ze.lanes=Xe.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var yt=tF(J);if(yt!==null){yt.flags&=-257,rF(yt,J,me,L,p),yt.mode&1&&eF(L,Oe,p),p=yt,ve=Oe;var Nt=p.updateQueue;if(Nt===null){var Et=new Set;Et.add(ve),p.updateQueue=Et}else Nt.add(ve);break e}else{if((p&1)===0){eF(L,Oe,p),gN();break e}ve=Error(r(426))}}else if(pn&&me.mode&1){var Vn=tF(J);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),rF(Vn,J,me,L,p),ES(ah(ve,me));break e}}L=ve=ah(ve,me),hs!==4&&(hs=2),o0===null?o0=[L]:o0.push(L),L=J;do{switch(L.tag){case 3:L.flags|=65536,p&=-p,L.lanes|=p;var Se=Q3(L,ve,p);N3(L,Se);break e;case 1:me=ve;var be=L.type,Ee=L.stateNode;if((L.flags&128)===0&&(typeof be.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Uc===null||!Uc.has(Ee)))){L.flags|=65536,p&=-p,L.lanes|=p;var at=J3(L,me,p);N3(L,at);break e}}L=L.return}while(L!==null)}RF(b)}catch(Tt){p=Tt,Zn===b&&b!==null&&(Zn=b=b.return);continue}break}while(!0)}function PF(){var h=Oy.current;return Oy.current=ky,h===null?ky:h}function gN(){(hs===0||hs===3||hs===2)&&(hs=4),ks===null||(ld&268435455)===0&&(Ry&268435455)===0||Wc(ks,Ws)}function $y(h,p){var b=Nr;Nr|=2;var C=PF();(ks!==h||Ws!==p)&&(Ll=null,ud(h,p));do try{woe();break}catch(O){AF(h,O)}while(!0);if(TS(),Nr=b,Oy.current=C,Zn!==null)throw Error(r(261));return ks=null,Ws=0,hs}function woe(){for(;Zn!==null;)OF(Zn)}function boe(){for(;Zn!==null&&!bt();)OF(Zn)}function OF(h){var p=MF(h.alternate,h,ui);h.memoizedProps=h.pendingProps,p===null?RF(h):Zn=p,oN.current=null}function RF(h){var p=h;do{var b=p.alternate;if(h=p.return,(p.flags&32768)===0){if(b=hoe(b,p,ui),b!==null){Zn=b;return}}else{if(b=moe(b,p),b!==null){b.flags&=32767,Zn=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{hs=6,Zn=null;return}}if(p=p.sibling,p!==null){Zn=p;return}Zn=p=h}while(p!==null);hs===0&&(hs=5)}function dd(h,p,b){var C=Fr,O=Fi.transition;try{Fi.transition=null,Fr=1,_oe(h,p,b,C)}finally{Fi.transition=O,Fr=C}return null}function _oe(h,p,b,C){do ch();while(Vc!==null);if((Nr&6)!==0)throw Error(r(327));b=h.finishedWork;var O=h.finishedLanes;if(b===null)return null;if(h.finishedWork=null,h.finishedLanes=0,b===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var L=b.lanes|b.childLanes;if(rie(h,L),h===ks&&(Zn=ks=null,Ws=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Iy||(Iy=!0,FF(Bn,function(){return ch(),null})),L=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||L){L=Fi.transition,Fi.transition=null;var J=Fr;Fr=1;var me=Nr;Nr|=4,oN.current=null,goe(h,b),jF(b,h),Vie(gS),Xv=!!pS,gS=pS=null,h.current=b,xoe(b),st(),Nr=me,Fr=J,Fi.transition=L}else h.current=b;if(Iy&&(Iy=!1,Vc=h,My=O),L=h.pendingLanes,L===0&&(Uc=null),Ap(b.stateNode),za(h,rt()),p!==null)for(C=h.onRecoverableError,b=0;b<p.length;b++)O=p[b],C(O.value,{componentStack:O.stack,digest:O.digest});if(Dy)throw Dy=!1,h=uN,uN=null,h;return(My&1)!==0&&h.tag!==0&&ch(),L=h.pendingLanes,(L&1)!==0?h===dN?l0++:(l0=0,dN=h):l0=0,Fc(),null}function ch(){if(Vc!==null){var h=bM(My),p=Fi.transition,b=Fr;try{if(Fi.transition=null,Fr=16>h?16:h,Vc===null)var C=!1;else{if(h=Vc,Vc=null,My=0,(Nr&6)!==0)throw Error(r(331));var O=Nr;for(Nr|=4,jt=h.current;jt!==null;){var L=jt,J=L.child;if((jt.flags&16)!==0){var me=L.deletions;if(me!==null){for(var ve=0;ve<me.length;ve++){var Oe=me[ve];for(jt=Oe;jt!==null;){var Ze=jt;switch(Ze.tag){case 0:case 11:case 15:a0(8,Ze,L)}var tt=Ze.child;if(tt!==null)tt.return=Ze,jt=tt;else for(;jt!==null;){Ze=jt;var Xe=Ze.sibling,yt=Ze.return;if(vF(Ze),Ze===Oe){jt=null;break}if(Xe!==null){Xe.return=yt,jt=Xe;break}jt=yt}}}var Nt=L.alternate;if(Nt!==null){var Et=Nt.child;if(Et!==null){Nt.child=null;do{var Vn=Et.sibling;Et.sibling=null,Et=Vn}while(Et!==null)}}jt=L}}if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,jt=J;else e:for(;jt!==null;){if(L=jt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:a0(9,L,L.return)}var Se=L.sibling;if(Se!==null){Se.return=L.return,jt=Se;break e}jt=L.return}}var be=h.current;for(jt=be;jt!==null;){J=jt;var Ee=J.child;if((J.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=J,jt=Ee;else e:for(J=be;jt!==null;){if(me=jt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:Py(9,me)}}catch(Tt){kn(me,me.return,Tt)}if(me===J){jt=null;break e}var at=me.sibling;if(at!==null){at.return=me.return,jt=at;break e}jt=me.return}}if(Nr=O,Fc(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Yo,h)}catch{}C=!0}return C}finally{Fr=b,Fi.transition=p}}return!1}function DF(h,p,b){p=ah(b,p),p=Q3(h,p,1),h=$c(h,p,1),p=Ea(),h!==null&&(Op(h,1,p),za(h,p))}function kn(h,p,b){if(h.tag===3)DF(h,h,b);else for(;p!==null;){if(p.tag===3){DF(p,h,b);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Uc===null||!Uc.has(C))){h=ah(b,h),h=J3(p,h,1),p=$c(p,h,1),h=Ea(),p!==null&&(Op(p,1,h),za(p,h));break}}p=p.return}}function joe(h,p,b){var C=h.pingCache;C!==null&&C.delete(p),p=Ea(),h.pingedLanes|=h.suspendedLanes&b,ks===h&&(Ws&b)===b&&(hs===4||hs===3&&(Ws&130023424)===Ws&&500>rt()-cN?ud(h,0):lN|=b),za(h,p)}function IF(h,p){p===0&&((h.mode&1)===0?p=1:(p=Hv,Hv<<=1,(Hv&130023424)===0&&(Hv=4194304)));var b=Ea();h=Il(h,p),h!==null&&(Op(h,p,b),za(h,b))}function Soe(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),IF(h,b)}function Noe(h,p){var b=0;switch(h.tag){case 13:var C=h.stateNode,O=h.memoizedState;O!==null&&(b=O.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(r(314))}C!==null&&C.delete(p),IF(h,b)}var MF;MF=function(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps||$a.current)Ua=!0;else{if((h.lanes&b)===0&&(p.flags&128)===0)return Ua=!1,foe(h,p,b);Ua=(h.flags&131072)!==0}else Ua=!1,pn&&(p.flags&1048576)!==0&&p3(p,my,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;Ty(h,p),h=p.pendingProps;var O=Zf(p,sa.current);nh(p,b),O=BS(null,p,C,h,O,b);var L=US();return p.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ba(C)?(L=!0,dy(p)):L=!1,p.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,RS(p),O.updater=Ey,p.stateNode=O,O._reactInternals=p,GS(p,C,h,b),p=ZS(null,p,C,!0,L,b)):(p.tag=0,pn&&L&&jS(p),ka(null,p,O,b),p=p.child),p;case 16:C=p.elementType;e:{switch(Ty(h,p),h=p.pendingProps,O=C._init,C=O(C._payload),p.type=C,O=p.tag=Eoe(C),h=bo(C,h),O){case 0:p=XS(null,p,C,h,b);break e;case 1:p=lF(null,p,C,h,b);break e;case 11:p=nF(null,p,C,h,b);break e;case 14:p=sF(null,p,C,bo(C.type,h),b);break e}throw Error(r(306,C,""))}return p;case 0:return C=p.type,O=p.pendingProps,O=p.elementType===C?O:bo(C,O),XS(h,p,C,O,b);case 1:return C=p.type,O=p.pendingProps,O=p.elementType===C?O:bo(C,O),lF(h,p,C,O,b);case 3:e:{if(cF(p),h===null)throw Error(r(387));C=p.pendingProps,L=p.memoizedState,O=L.element,S3(h,p),wy(p,C,null,b);var J=p.memoizedState;if(C=J.element,L.isDehydrated)if(L={element:C,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},p.updateQueue.baseState=L,p.memoizedState=L,p.flags&256){O=ah(Error(r(423)),p),p=uF(h,p,C,b,O);break e}else if(C!==O){O=ah(Error(r(424)),p),p=uF(h,p,C,b,O);break e}else for(ci=Dc(p.stateNode.containerInfo.firstChild),li=p,pn=!0,wo=null,b=_3(p,null,C,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(eh(),C===O){p=Fl(h,p,b);break e}ka(h,p,C,b)}p=p.child}return p;case 5:return E3(p),h===null&&kS(p),C=p.type,O=p.pendingProps,L=h!==null?h.memoizedProps:null,J=O.children,xS(C,O)?J=null:L!==null&&xS(C,L)&&(p.flags|=32),oF(h,p),ka(h,p,J,b),p.child;case 6:return h===null&&kS(p),null;case 13:return dF(h,p,b);case 4:return DS(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=th(p,null,C,b):ka(h,p,C,b),p.child;case 11:return C=p.type,O=p.pendingProps,O=p.elementType===C?O:bo(C,O),nF(h,p,C,O,b);case 7:return ka(h,p,p.pendingProps,b),p.child;case 8:return ka(h,p,p.pendingProps.children,b),p.child;case 12:return ka(h,p,p.pendingProps.children,b),p.child;case 10:e:{if(C=p.type._context,O=p.pendingProps,L=p.memoizedProps,J=O.value,Jr(xy,C._currentValue),C._currentValue=J,L!==null)if(yo(L.value,J)){if(L.children===O.children&&!$a.current){p=Fl(h,p,b);break e}}else for(L=p.child,L!==null&&(L.return=p);L!==null;){var me=L.dependencies;if(me!==null){J=L.child;for(var ve=me.firstContext;ve!==null;){if(ve.context===C){if(L.tag===1){ve=Ml(-1,b&-b),ve.tag=2;var Oe=L.updateQueue;if(Oe!==null){Oe=Oe.shared;var Ze=Oe.pending;Ze===null?ve.next=ve:(ve.next=Ze.next,Ze.next=ve),Oe.pending=ve}}L.lanes|=b,ve=L.alternate,ve!==null&&(ve.lanes|=b),PS(L.return,b,p),me.lanes|=b;break}ve=ve.next}}else if(L.tag===10)J=L.type===p.type?null:L.child;else if(L.tag===18){if(J=L.return,J===null)throw Error(r(341));J.lanes|=b,me=J.alternate,me!==null&&(me.lanes|=b),PS(J,b,p),J=L.sibling}else J=L.child;if(J!==null)J.return=L;else for(J=L;J!==null;){if(J===p){J=null;break}if(L=J.sibling,L!==null){L.return=J.return,J=L;break}J=J.return}L=J}ka(h,p,O.children,b),p=p.child}return p;case 9:return O=p.type,C=p.pendingProps.children,nh(p,b),O=Ii(O),C=C(O),p.flags|=1,ka(h,p,C,b),p.child;case 14:return C=p.type,O=bo(C,p.pendingProps),O=bo(C.type,O),sF(h,p,C,O,b);case 15:return aF(h,p,p.type,p.pendingProps,b);case 17:return C=p.type,O=p.pendingProps,O=p.elementType===C?O:bo(C,O),Ty(h,p),p.tag=1,Ba(C)?(h=!0,dy(p)):h=!1,nh(p,b),X3(p,C,O),GS(p,C,O,b),ZS(null,p,C,!0,h,b);case 19:return hF(h,p,b);case 22:return iF(h,p,b)}throw Error(r(156,p.tag))};function FF(h,p){return et(h,p)}function koe(h,p,b,C){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(h,p,b,C){return new koe(h,p,b,C)}function xN(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Eoe(h){if(typeof h=="function")return xN(h)?1:0;if(h!=null){if(h=h.$$typeof,h===D)return 11;if(h===H)return 14}return 2}function qc(h,p){var b=h.alternate;return b===null?(b=Li(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function By(h,p,b,C,O,L){var J=2;if(C=h,typeof h=="function")xN(h)&&(J=1);else if(typeof h=="string")J=5;else e:switch(h){case k:return fd(b.children,O,L,p);case R:J=8,O|=8;break;case A:return h=Li(12,b,p,O|2),h.elementType=A,h.lanes=L,h;case B:return h=Li(13,b,p,O),h.elementType=B,h.lanes=L,h;case U:return h=Li(19,b,p,O),h.elementType=U,h.lanes=L,h;case W:return Uy(b,O,L,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:J=10;break e;case P:J=9;break e;case D:J=11;break e;case H:J=14;break e;case M:J=16,C=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return p=Li(J,b,p,O),p.elementType=h,p.type=C,p.lanes=L,p}function fd(h,p,b,C){return h=Li(7,h,C,p),h.lanes=b,h}function Uy(h,p,b,C){return h=Li(22,h,C,p),h.elementType=W,h.lanes=b,h.stateNode={isHidden:!1},h}function vN(h,p,b){return h=Li(6,h,null,p),h.lanes=b,h}function yN(h,p,b){return p=Li(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function Coe(h,p,b,C,O){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hj(0),this.expirationTimes=Hj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hj(0),this.identifierPrefix=C,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function wN(h,p,b,C,O,L,J,me,ve){return h=new Coe(h,p,b,me,ve),p===1?(p=1,L===!0&&(p|=8)):p=0,L=Li(3,null,null,p),h.current=L,L.stateNode=h,L.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},RS(L),h}function Toe(h,p,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:C==null?null:""+C,children:h,containerInfo:p,implementation:b}}function LF(h){if(!h)return Mc;h=h._reactInternals;e:{if(he(h)!==h||h.tag!==1)throw Error(r(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ba(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(h.tag===1){var b=h.type;if(Ba(b))return f3(h,b,p)}return p}function $F(h,p,b,C,O,L,J,me,ve){return h=wN(b,C,!0,h,O,L,J,me,ve),h.context=LF(null),b=h.current,C=Ea(),O=zc(b),L=Ml(C,O),L.callback=p??null,$c(b,L,O),h.current.lanes=O,Op(h,O,C),za(h,C),h}function Vy(h,p,b,C){var O=p.current,L=Ea(),J=zc(O);return b=LF(b),p.context===null?p.context=b:p.pendingContext=b,p=Ml(L,J),p.payload={element:h},C=C===void 0?null:C,C!==null&&(p.callback=C),h=$c(O,p,J),h!==null&&(So(h,O,J,L),yy(h,O,J)),J}function zy(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function BF(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function bN(h,p){BF(h,p),(h=h.alternate)&&BF(h,p)}function Aoe(){return null}var UF=typeof reportError=="function"?reportError:function(h){console.error(h)};function _N(h){this._internalRoot=h}Wy.prototype.render=_N.prototype.render=function(h){var p=this._internalRoot;if(p===null)throw Error(r(409));Vy(h,p,null,null)},Wy.prototype.unmount=_N.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var p=h.containerInfo;cd(function(){Vy(null,h,null,null)}),p[Pl]=null}};function Wy(h){this._internalRoot=h}Wy.prototype.unstable_scheduleHydration=function(h){if(h){var p=SM();h={blockedOn:null,target:h,priority:p};for(var b=0;b<Pc.length&&p!==0&&p<Pc[b].priority;b++);Pc.splice(b,0,h),b===0&&EM(h)}};function jN(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function qy(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function VF(){}function Poe(h,p,b,C,O){if(O){if(typeof C=="function"){var L=C;C=function(){var Oe=zy(J);L.call(Oe)}}var J=$F(p,C,h,0,null,!1,!1,"",VF);return h._reactRootContainer=J,h[Pl]=J.current,Hp(h.nodeType===8?h.parentNode:h),cd(),J}for(;O=h.lastChild;)h.removeChild(O);if(typeof C=="function"){var me=C;C=function(){var Oe=zy(ve);me.call(Oe)}}var ve=wN(h,0,!1,null,null,!1,!1,"",VF);return h._reactRootContainer=ve,h[Pl]=ve.current,Hp(h.nodeType===8?h.parentNode:h),cd(function(){Vy(p,ve,b,C)}),ve}function Hy(h,p,b,C,O){var L=b._reactRootContainer;if(L){var J=L;if(typeof O=="function"){var me=O;O=function(){var ve=zy(J);me.call(ve)}}Vy(p,J,h,O)}else J=Poe(b,p,h,O,C);return zy(J)}_M=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var b=Pp(p.pendingLanes);b!==0&&(Gj(p,b|1),za(p,rt()),(Nr&6)===0&&(lh=rt()+500,Fc()))}break;case 13:cd(function(){var C=Il(h,1);if(C!==null){var O=Ea();So(C,h,1,O)}}),bN(h,1)}},Kj=function(h){if(h.tag===13){var p=Il(h,134217728);if(p!==null){var b=Ea();So(p,h,134217728,b)}bN(h,134217728)}},jM=function(h){if(h.tag===13){var p=zc(h),b=Il(h,p);if(b!==null){var C=Ea();So(b,h,p,C)}bN(h,p)}},SM=function(){return Fr},NM=function(h,p){var b=Fr;try{return Fr=h,p()}finally{Fr=b}},vo=function(h,p,b){switch(p){case"input":if(je(h,b),p=b.name,b.type==="radio"&&p!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var C=b[p];if(C!==h&&C.form===h.form){var O=cy(C);if(!O)throw Error(r(90));q(C),je(C,O)}}}break;case"textarea":qe(h,b);break;case"select":p=b.value,p!=null&&ge(h,!!b.multiple,p,!1)}},gr=mN,Rr=cd;var Ooe={usingClientEntryPoint:!1,Events:[Yp,Yf,cy,kc,Wt,mN]},c0={findFiberByHostInstance:td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Roe={bundleType:c0.bundleType,version:c0.version,rendererPackageName:c0.rendererPackageName,rendererConfig:c0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ae(h),h===null?null:h.stateNode},findFiberByHostInstance:c0.findFiberByHostInstance||Aoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gy.isDisabled&&Gy.supportsFiber)try{Yo=Gy.inject(Roe),Ss=Gy}catch{}}return Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ooe,Wa.createPortal=function(h,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jN(p))throw Error(r(200));return Toe(h,p,null,b)},Wa.createRoot=function(h,p){if(!jN(h))throw Error(r(299));var b=!1,C="",O=UF;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(O=p.onRecoverableError)),p=wN(h,1,!1,null,null,b,!1,C,O),h[Pl]=p.current,Hp(h.nodeType===8?h.parentNode:h),new _N(p)},Wa.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Ae(p),h=h===null?null:h.stateNode,h},Wa.flushSync=function(h){return cd(h)},Wa.hydrate=function(h,p,b){if(!qy(p))throw Error(r(200));return Hy(null,h,p,!0,b)},Wa.hydrateRoot=function(h,p,b){if(!jN(h))throw Error(r(405));var C=b!=null&&b.hydratedSources||null,O=!1,L="",J=UF;if(b!=null&&(b.unstable_strictMode===!0&&(O=!0),b.identifierPrefix!==void 0&&(L=b.identifierPrefix),b.onRecoverableError!==void 0&&(J=b.onRecoverableError)),p=$F(p,null,h,1,b??null,O,!1,L,J),h[Pl]=p.current,Hp(h),C)for(h=0;h<C.length;h++)b=C[h],O=b._getVersion,O=O(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,O]:p.mutableSourceEagerHydrationData.push(b,O);return new Wy(p)},Wa.render=function(h,p,b){if(!qy(p))throw Error(r(200));return Hy(null,h,p,!1,b)},Wa.unmountComponentAtNode=function(h){if(!qy(h))throw Error(r(40));return h._reactRootContainer?(cd(function(){Hy(null,null,h,!1,function(){h._reactRootContainer=null,h[Pl]=null})}),!0):!1},Wa.unstable_batchedUpdates=mN,Wa.unstable_renderSubtreeIntoContainer=function(h,p,b,C){if(!qy(b))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return Hy(h,p,b,!1,C)},Wa.version="18.3.1-next-f1338f8080-20240426",Wa}var XF;function XW(){if(XF)return kN.exports;XF=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kN.exports=Voe(),kN.exports}var ZF;function zoe(){if(ZF)return Yy;ZF=1;var e=XW();return Yy.createRoot=e.createRoot,Yy.hydrateRoot=e.hydrateRoot,Yy}var Woe=zoe(),_=e_();const se=Sr(_),n4=Ioe({__proto__:null,default:se},[_]),qoe=1,Hoe=1e6;let TN=0;function Goe(){return TN=(TN+1)%Number.MAX_SAFE_INTEGER,TN.toString()}const AN=new Map,QF=e=>{if(AN.has(e))return;const t=setTimeout(()=>{AN.delete(e),K0({type:"REMOVE_TOAST",toastId:e})},Hoe);AN.set(e,t)},Koe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qoe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?QF(r):e.toasts.forEach(n=>{QF(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Uw=[];let Vw={toasts:[]};function K0(e){Vw=Koe(Vw,e),Uw.forEach(t=>{t(Vw)})}function Ve({...e}){const t=Goe(),r=s=>K0({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>K0({type:"DISMISS_TOAST",toastId:t});return K0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Ln(){const[e,t]=_.useState(Vw);return _.useEffect(()=>(Uw.push(t),()=>{const r=Uw.indexOf(t);r>-1&&Uw.splice(r,1)}),[e]),{...e,toast:Ve,dismiss:r=>K0({type:"DISMISS_TOAST",toastId:r})}}var np=XW();const ZW=Sr(np);function Qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function JF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t_(...e){return t=>{let r=!1;const n=e.map(s=>{const i=JF(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():JF(e[s],null)}}}}function It(...e){return _.useCallback(t_(...e),e)}function Yoe(e,t){const r=_.createContext(t),n=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Yn(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:m,children:g,...y}=f,x=m?.[e]?.[c]||l,v=_.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:v,children:g})};u.displayName=i+"Provider";function d(f,m){const g=m?.[e]?.[c]||l,y=_.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=l?.[e]||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Xoe(s,...t)]}function Xoe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wu(e){const t=Zoe(e),r=_.forwardRef((n,s)=>{const{children:i,...o}=n,l=_.Children.toArray(i),c=l.find(Qoe);if(c){const u=c.props.children,d=l.map(f=>f===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var QW=wu("Slot");function Zoe(e){const t=_.forwardRef((r,n)=>{const{children:s,...i}=r;if(_.isValidElement(s)){const o=ele(s),l=Joe(i,s.props);return s.type!==_.Fragment&&(l.ref=n?t_(n,o):o),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JW=Symbol("radix.slottable");function eq(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=JW,t}function Qoe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JW}function Joe(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function ele(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qx(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:v,children:j}=x,S=se.useRef(null),w=se.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:w,collectionRef:S,children:j})};o.displayName=t;const l=e+"CollectionSlot",c=wu(l),u=se.forwardRef((x,v)=>{const{scope:j,children:S}=x,w=i(l,j),T=It(v,w.collectionRef);return a.jsx(c,{ref:T,children:S})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=wu(d),g=se.forwardRef((x,v)=>{const{scope:j,children:S,...w}=x,T=se.useRef(null),E=It(v,T),N=i(d,j);return se.useEffect(()=>(N.itemMap.set(T,{ref:T,...w}),()=>void N.itemMap.delete(T))),a.jsx(m,{[f]:"",ref:E,children:S})});g.displayName=d;function y(x){const v=i(e+"CollectionConsumer",x);return se.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const w=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,k)=>w.indexOf(N.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},y,n]}var tle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xt=tle.reduce((e,t)=>{const r=wu(`Primitive.${t}`),n=_.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s4(e,t){e&&np.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function rle(e,t=globalThis?.document){const r=An(e);_.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nle="DismissableLayer",GT="dismissableLayer.update",sle="dismissableLayer.pointerDownOutside",ale="dismissableLayer.focusOutside",eL,tq=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_f=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=_.useContext(tq),[d,f]=_.useState(null),m=d?.ownerDocument??globalThis?.document,[,g]=_.useState({}),y=It(t,k=>f(k)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(v),S=d?x.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,T=S>=j,E=ole(k=>{const R=k.target,A=[...u.branches].some(I=>I.contains(R));!T||A||(s?.(k),o?.(k),k.defaultPrevented||l?.())},m),N=lle(k=>{const R=k.target;[...u.branches].some(I=>I.contains(R))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},m);return rle(k=>{S===u.layers.size-1&&(n?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=eL)}},[d,m,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tL())},[d,u]),_.useEffect(()=>{const k=()=>g({});return document.addEventListener(GT,k),()=>document.removeEventListener(GT,k)},[]),a.jsx(xt.div,{...c,ref:y,style:{pointerEvents:w?T?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,E.onPointerDownCapture)})});_f.displayName=nle;var ile="DismissableLayerBranch",rq=_.forwardRef((e,t)=>{const r=_.useContext(tq),n=_.useRef(null),s=It(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(xt.div,{...e,ref:s})});rq.displayName=ile;function ole(e,t=globalThis?.document){const r=An(e),n=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){nq(sle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lle(e,t=globalThis?.document){const r=An(e),n=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!n.current&&nq(ale,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tL(){const e=new CustomEvent(GT);document.dispatchEvent(e)}function nq(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?s4(s,i):s.dispatchEvent(i)}var cle=_f,ule=rq,Mn=globalThis?.document?_.useLayoutEffect:()=>{},dle="Portal",sp=_.forwardRef((e,t)=>{const{container:r,...n}=e,[s,i]=_.useState(!1);Mn(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?ZW.createPortal(a.jsx(xt.div,{...n,ref:t}),o):null});sp.displayName=dle;function fle(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var us=e=>{const{present:t,children:r}=e,n=hle(t),s=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=It(n.ref,mle(s));return typeof r=="function"||n.isPresent?_.cloneElement(s,{ref:i}):null};us.displayName="Presence";function hle(e){const[t,r]=_.useState(),n=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=fle(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Xy(n.current);i.current=l==="mounted"?u:"none"},[l]),Mn(()=>{const u=n.current,d=s.current;if(d!==e){const m=i.current,g=Xy(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Mn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const x=Xy(n.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=g=>{g.target===t&&(i.current=Xy(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Xy(e){return e?.animationName||"none"}function mle(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ple=n4[" useInsertionEffect ".trim().toString()]||Mn;function ei({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=gle({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=_.useCallback(d=>{if(l){const f=xle(d)?d(e):d;f!==e&&o.current?.(f)}else i(d)},[l,e,i,o]);return[c,u]}function gle({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),s=_.useRef(r),i=_.useRef(t);return ple(()=>{i.current=t},[t]),_.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function xle(e){return typeof e=="function"}var sq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vle="VisuallyHidden",r_=_.forwardRef((e,t)=>a.jsx(xt.span,{...e,ref:t,style:{...sq,...e.style}}));r_.displayName=vle;var yle=r_,a4="ToastProvider",[i4,wle,ble]=Qx("Toast"),[aq]=Yn("Toast",[ble]),[_le,n_]=aq(a4),iq=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=_.useState(null),[u,d]=_.useState(0),f=_.useRef(!1),m=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${a4}\`. Expected non-empty \`string\`.`),a.jsx(i4.Provider,{scope:t,children:a.jsx(_le,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>d(g=>g+1),[]),onToastRemove:_.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};iq.displayName=a4;var oq="ToastViewport",jle=["F8"],KT="toast.viewportPause",YT="toast.viewportResume",lq=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=jle,label:s="Notifications ({hotkey})",...i}=e,o=n_(oq,r),l=wle(r),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),f=_.useRef(null),m=It(t,f,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;_.useEffect(()=>{const v=j=>{n.length!==0&&n.every(w=>j[w]||j.code===w)&&f.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),_.useEffect(()=>{const v=c.current,j=f.current;if(y&&v&&j){const S=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(KT);j.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(YT);j.dispatchEvent(N),o.isClosePausedRef.current=!1}},T=N=>{!v.contains(N.relatedTarget)&&w()},E=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",S),v.addEventListener("focusout",T),v.addEventListener("pointermove",S),v.addEventListener("pointerleave",E),window.addEventListener("blur",S),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",S),v.removeEventListener("focusout",T),v.removeEventListener("pointermove",S),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",S),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const x=_.useCallback(({tabbingDirection:v})=>{const S=l().map(w=>{const T=w.ref.current,E=[T,...Mle(T)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?S.reverse():S).flat()},[l]);return _.useEffect(()=>{const v=f.current;if(v){const j=S=>{const w=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!w){const E=document.activeElement,N=S.shiftKey;if(S.target===v&&N){u.current?.focus();return}const A=x({tabbingDirection:N?"backwards":"forwards"}),I=A.findIndex(P=>P===E);PN(A.slice(I+1))?S.preventDefault():N?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",j),()=>v.removeEventListener("keydown",j)}},[l,x]),a.jsxs(ule,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(XT,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});PN(v)}}),a.jsx(i4.Slot,{scope:r,children:a.jsx(xt.ol,{tabIndex:-1,...i,ref:m})}),y&&a.jsx(XT,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});PN(v)}})]})});lq.displayName=oq;var cq="ToastFocusProxy",XT=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=n_(cq,r);return a.jsx(r_,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});XT.displayName=cq;var Jx="Toast",Sle="toast.swipeStart",Nle="toast.swipeMove",kle="toast.swipeCancel",Ele="toast.swipeEnd",uq=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=ei({prop:n,defaultProp:s??!0,onChange:i,caller:Jx});return a.jsx(us,{present:r||l,children:a.jsx(Ale,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:An(e.onPause),onResume:An(e.onResume),onSwipeStart:Qe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Qe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});uq.displayName=Jx;var[Cle,Tle]=aq(Jx,{onClose(){}}),Ale=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...y}=e,x=n_(Jx,r),[v,j]=_.useState(null),S=It(t,U=>j(U)),w=_.useRef(null),T=_.useRef(null),E=s||x.duration,N=_.useRef(0),k=_.useRef(E),R=_.useRef(0),{onToastAdd:A,onToastRemove:I}=x,P=An(()=>{v?.contains(document.activeElement)&&x.viewport?.focus(),o()}),D=_.useCallback(U=>{!U||U===1/0||(window.clearTimeout(R.current),N.current=new Date().getTime(),R.current=window.setTimeout(P,U))},[P]);_.useEffect(()=>{const U=x.viewport;if(U){const H=()=>{D(k.current),u?.()},M=()=>{const W=new Date().getTime()-N.current;k.current=k.current-W,window.clearTimeout(R.current),c?.()};return U.addEventListener(KT,M),U.addEventListener(YT,H),()=>{U.removeEventListener(KT,M),U.removeEventListener(YT,H)}}},[x.viewport,E,c,u,D]),_.useEffect(()=>{i&&!x.isClosePausedRef.current&&D(E)},[i,E,x.isClosePausedRef,D]),_.useEffect(()=>(A(),()=>I()),[A,I]);const B=_.useMemo(()=>v?xq(v):null,[v]);return x.viewport?a.jsxs(a.Fragment,{children:[B&&a.jsx(Ple,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),a.jsx(Cle,{scope:r,onClose:P,children:np.createPortal(a.jsx(i4.ItemSlot,{scope:r,children:a.jsx(cle,{asChild:!0,onEscapeKeyDown:Qe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Qe(e.onKeyDown,U=>{U.key==="Escape"&&(l?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Qe(e.onPointerDown,U=>{U.button===0&&(w.current={x:U.clientX,y:U.clientY})}),onPointerMove:Qe(e.onPointerMove,U=>{if(!w.current)return;const H=U.clientX-w.current.x,M=U.clientY-w.current.y,W=!!T.current,K=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,z=K?V(0,H):0,G=K?0:V(0,M),F=U.pointerType==="touch"?10:2,X={x:z,y:G},Z={originalEvent:U,delta:X};W?(T.current=X,Zy(Nle,f,Z,{discrete:!1})):rL(X,x.swipeDirection,F)?(T.current=X,Zy(Sle,d,Z,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(H)>F||Math.abs(M)>F)&&(w.current=null)}),onPointerUp:Qe(e.onPointerUp,U=>{const H=T.current,M=U.target;if(M.hasPointerCapture(U.pointerId)&&M.releasePointerCapture(U.pointerId),T.current=null,w.current=null,H){const W=U.currentTarget,K={originalEvent:U,delta:H};rL(H,x.swipeDirection,x.swipeThreshold)?Zy(Ele,g,K,{discrete:!0}):Zy(kle,m,K,{discrete:!0}),W.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Ple=e=>{const{__scopeToast:t,children:r,...n}=e,s=n_(Jx,t),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return Dle(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(sp,{asChild:!0,children:a.jsx(r_,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Ole="ToastTitle",dq=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(xt.div,{...n,ref:t})});dq.displayName=Ole;var Rle="ToastDescription",fq=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(xt.div,{...n,ref:t})});fq.displayName=Rle;var hq="ToastAction",mq=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(gq,{altText:r,asChild:!0,children:a.jsx(o4,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hq}\`. Expected non-empty \`string\`.`),null)});mq.displayName=hq;var pq="ToastClose",o4=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Tle(pq,r);return a.jsx(gq,{asChild:!0,children:a.jsx(xt.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,s.onClose)})})});o4.displayName=pq;var gq=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function xq(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Ile(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...xq(n))}}),t}function Zy(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?s4(s,i):s.dispatchEvent(i)}var rL=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function Dle(e=()=>{}){const t=An(e);Mn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Ile(e){return e.nodeType===e.ELEMENT_NODE}function Mle(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PN(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Fle=iq,vq=lq,yq=uq,wq=dq,bq=fq,_q=mq,jq=o4;function Sq(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Sq(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ur(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Sq(e))&&(n&&(n+=" "),n+=t);return n}const nL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sL=ur,ap=(e,t)=>r=>{var n;if(t?.variants==null)return sL(e,r?.class,r?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r?.[u],f=i?.[u];if(d===null)return null;const m=nL(d)||nL(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(y=>{let[x,v]=y;return Array.isArray(v)?v.includes({...i,...l}[x]):{...i,...l}[x]===v})?[...u,f,m]:u},[]);return sL(e,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nq=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $le={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...$le,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Nq("lucide",s),...l},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const r=_.forwardRef(({className:n,...s},i)=>_.createElement(Ble,{ref:i,iconNode:t,className:Nq(`lucide-${Lle(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=nt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=nt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=nt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=nt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=nt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=nt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=nt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=nt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=nt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=nt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=nt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=nt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=nt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=nt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=nt("Layers3",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m6.08 9.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1e5n1m"}],["path",{d:"m6.08 14.5-3.5 1.6a1 1 0 0 0 0 1.81l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9a1 1 0 0 0 0-1.83l-3.5-1.59",key:"1iwflc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=nt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=nt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=nt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=nt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=nt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=nt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=nt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=nt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=nt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=nt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=nt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=nt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=nt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=nt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=nt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=nt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=nt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=nt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),d4="-",ace=e=>{const t=oce(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(d4);return l[0]===""&&l.length!==1&&l.shift(),Fq(l,t)||ice(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Fq=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Fq(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(d4);return t.validators.find(({validator:o})=>o(i))?.classGroupId},dL=/^\[(.+)\]$/,ice=e=>{if(dL.test(e)){const t=dL.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oce=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return cce(Object.entries(e.classGroups),r).forEach(([i,o])=>{tA(o,n,i,t)}),n},tA=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:fL(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(lce(s)){tA(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{tA(o,fL(t,i),r,n)})})},fL=(e,t)=>{let r=e;return t.split(d4).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lce=e=>e.isThemeGetter,cce=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,uce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Lq="!",dce=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let j=l[v];if(u===0){if(j===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(j==="/"){f=v;continue}}j==="["?u++:j==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(Lq),y=g?m.substring(1):m,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},fce=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},hce=e=>({cache:uce(e.cacheSize),parseClassName:dce(e),...ace(e)}),mce=/\s+/,pce=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(mce);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=r(u);let y=!!g,x=n(y?m.substring(0,g):m);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=fce(d).join(":"),j=f?v+Lq:v,S=j+x;if(i.includes(S))continue;i.push(S);const w=s(x,y);for(let T=0;T<w.length;++T){const E=w[T];i.push(j+E)}l=u+(l.length>0?" "+l:l)}return l};function gce(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$q(t))&&(n&&(n+=" "),n+=r);return n}const $q=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$q(e[n]))&&(r&&(r+=" "),r+=t);return r};function xce(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=hce(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=pce(c,r);return s(c,d),d}return function(){return i(gce.apply(null,arguments))}}const cn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Bq=/^\[(?:([a-z-]+):)?(.+)\]$/i,vce=/^\d+\/\d+$/,yce=new Set(["px","full","screen"]),wce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_ce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$l=e=>Jh(e)||yce.has(e)||vce.test(e),Gc=e=>op(e,"length",Oce),Jh=e=>!!e&&!Number.isNaN(Number(e)),ON=e=>op(e,"number",Jh),d0=e=>!!e&&Number.isInteger(Number(e)),Nce=e=>e.endsWith("%")&&Jh(e.slice(0,-1)),ir=e=>Bq.test(e),Kc=e=>wce.test(e),kce=new Set(["length","size","percentage"]),Ece=e=>op(e,kce,Uq),Cce=e=>op(e,"position",Uq),Tce=new Set(["image","url"]),Ace=e=>op(e,Tce,Dce),Pce=e=>op(e,"",Rce),f0=()=>!0,op=(e,t,r)=>{const n=Bq.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Oce=e=>bce.test(e)&&!_ce.test(e),Uq=()=>!1,Rce=e=>jce.test(e),Dce=e=>Sce.test(e),Ice=()=>{const e=cn("colors"),t=cn("spacing"),r=cn("blur"),n=cn("brightness"),s=cn("borderColor"),i=cn("borderRadius"),o=cn("borderSpacing"),l=cn("borderWidth"),c=cn("contrast"),u=cn("grayscale"),d=cn("hueRotate"),f=cn("invert"),m=cn("gap"),g=cn("gradientColorStops"),y=cn("gradientColorStopPositions"),x=cn("inset"),v=cn("margin"),j=cn("opacity"),S=cn("padding"),w=cn("saturate"),T=cn("scale"),E=cn("sepia"),N=cn("skew"),k=cn("space"),R=cn("translate"),A=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ir,t],D=()=>[ir,t],B=()=>["",$l,Gc],U=()=>["auto",Jh,ir],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ir],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Jh,ir];return{cacheSize:500,separator:":",theme:{colors:[f0],spacing:[$l,Gc],blur:["none","",Kc,ir],brightness:G(),borderColor:[e],borderRadius:["none","","full",Kc,ir],borderSpacing:D(),borderWidth:B(),contrast:G(),grayscale:V(),hueRotate:G(),invert:V(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[Nce,Gc],inset:P(),margin:P(),opacity:G(),padding:D(),saturate:G(),scale:G(),sepia:V(),skew:G(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[Kc]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ir]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",d0,ir]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",d0,ir]}],"grid-cols":[{"grid-cols":[f0]}],"col-start-end":[{col:["auto",{span:["full",d0,ir]},ir]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[f0]}],"row-start-end":[{row:["auto",{span:[d0,ir]},ir]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,t]}],"min-w":[{"min-w":[ir,t,"min","max","fit"]}],"max-w":[{"max-w":[ir,t,"none","full","min","max","fit","prose",{screen:[Kc]},Kc]}],h:[{h:[ir,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kc,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ON]}],"font-family":[{font:[f0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",Jh,ON]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$l,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$l,Gc]}],"underline-offset":[{"underline-offset":["auto",$l,ir]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Cce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ece]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ace]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[$l,ir]}],"outline-w":[{outline:[$l,Gc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[$l,Gc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kc,Pce]}],"shadow-color":[{shadow:[f0]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kc,ir]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[d0,ir]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$l,Gc,ON]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mce=xce(Ice);function Je(...e){return Mce(ur(e))}const Fce=Fle,Vq=_.forwardRef(({className:e,...t},r)=>a.jsx(vq,{ref:r,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Vq.displayName=vq.displayName;const Lce=ap("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-[#86efac] bg-[#86efac] text-black",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zq=_.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(yq,{ref:n,className:Je(Lce({variant:t}),e),...r}));zq.displayName=yq.displayName;const $ce=_.forwardRef(({className:e,...t},r)=>a.jsx(_q,{ref:r,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));$ce.displayName=_q.displayName;const Wq=_.forwardRef(({className:e,...t},r)=>a.jsx(jq,{ref:r,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(ri,{className:"h-4 w-4"})}));Wq.displayName=jq.displayName;const qq=_.forwardRef(({className:e,...t},r)=>a.jsx(wq,{ref:r,className:Je("text-sm font-semibold",e),...t}));qq.displayName=wq.displayName;const Hq=_.forwardRef(({className:e,...t},r)=>a.jsx(bq,{ref:r,className:Je("text-sm opacity-90",e),...t}));Hq.displayName=bq.displayName;function Bce(){const{toasts:e,dismiss:t}=Ln(),r=_.useRef(null);return _.useEffect(()=>{const n=s=>{e.length!==0&&r.current&&!r.current.contains(s.target)&&e.forEach(i=>{t(i.id)})};if(e.length>0){const s=setTimeout(()=>{document.addEventListener("click",n)},100);return()=>{clearTimeout(s),document.removeEventListener("click",n)}}},[e,t]),a.jsxs(Fce,{children:[e.map(function({id:n,title:s,description:i,action:o,...l}){return a.jsxs(zq,{...l,children:[a.jsxs("div",{className:"grid gap-1",children:[s&&a.jsx(qq,{children:s}),i&&a.jsx(Hq,{children:i})]}),o,a.jsx(Wq,{})]},n)}),a.jsx(Vq,{ref:r})]})}var ab=["light","dark"],f4="(prefers-color-scheme: dark)",Uce=typeof window>"u",h4=_.createContext(void 0),Vce={setTheme:e=>{},themes:[]},Gq=()=>{var e;return(e=_.useContext(h4))!=null?e:Vce},zce=e=>_.useContext(h4)?e.children:_.createElement(qce,{...e}),Wce=["light","dark"],qce=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=Wce,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=_.useState(()=>hL(s,o)),[g,y]=_.useState(()=>hL(s)),x=c?Object.values(c):i,v=_.useCallback(T=>{let E=T;if(!E)return;T==="system"&&r&&(E=mL());let N=c?c[E]:E,k=t?Gce():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...x),N&&R.classList.add(N)):N?R.setAttribute(l,N):R.removeAttribute(l),n){let A=ab.includes(o)?o:null,I=ab.includes(E)?E:A;R.style.colorScheme=I}k?.()},[]),j=_.useCallback(T=>{let E=typeof T=="function"?T(T):T;m(E);try{localStorage.setItem(s,E)}catch{}},[e]),S=_.useCallback(T=>{let E=mL(T);y(E),f==="system"&&r&&!e&&v("system")},[f,e]);_.useEffect(()=>{let T=window.matchMedia(f4);return T.addListener(S),S(T),()=>T.removeListener(S)},[S]),_.useEffect(()=>{let T=E=>{if(E.key!==s)return;let N=E.newValue||o;j(N)};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[j]),_.useEffect(()=>{v(e??f)},[e,f]);let w=_.useMemo(()=>({theme:f,setTheme:j,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:r?[...i,"system"]:i,systemTheme:r?g:void 0}),[f,j,e,g,r,i]);return _.createElement(h4.Provider,{value:w},_.createElement(Hce,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:x,nonce:d}),u)},Hce=_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?ab.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,x=!1,v=!0)=>{let j=o?o[y]:y,S=x?y+"|| ''":`'${j}'`,w="";return s&&v&&!x&&ab.includes(y)&&(w+=`d.style.colorScheme = '${y}';`),r==="class"?x||j?w+=`c.add(${S})`:w+="null":j&&(w+=`d[s](n,${S})`),w},g=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${f4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),hL=(e,t)=>{if(Uce)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Gce=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},mL=e=>(e||(e=window.matchMedia(f4)),e.matches?"dark":"light"),Kce=e=>{switch(e){case"success":return Zce;case"info":return Jce;case"warning":return Qce;case"error":return eue;default:return null}},Yce=Array(12).fill(0),Xce=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},Yce.map((r,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Zce=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qce=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jce=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eue=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tue=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rue=()=>{let[e,t]=se.useState(document.hidden);return se.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},rA=1,nue=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rA++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],se.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(aue(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||rA++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ga=new nue,sue=(e,t)=>{let r=t?.id||rA++;return Ga.addToast({title:e,...t,id:r}),r},aue=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",iue=sue,oue=()=>Ga.toasts,lue=()=>Ga.getActiveToasts(),dt=Object.assign(iue,{success:Ga.success,info:Ga.info,warning:Ga.warning,error:Ga.error,custom:Ga.custom,message:Ga.message,promise:Ga.promise,dismiss:Ga.dismiss,loading:Ga.loading},{getHistory:oue,getToasts:lue});function cue(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}cue(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jy(e){return e.label!==void 0}var uue=3,due="32px",fue="16px",pL=4e3,hue=356,mue=14,pue=20,gue=200;function No(...e){return e.filter(Boolean).join(" ")}function xue(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var vue=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:m,toast:g,unstyled:y,interacting:x,setHeights:v,visibleToasts:j,heights:S,index:w,toasts:T,expanded:E,removeToast:N,defaultRichColors:k,closeButton:R,style:A,cancelButtonStyle:I,actionButtonStyle:P,className:D="",descriptionClassName:B="",duration:U,position:H,gap:M,loadingIcon:W,expandByDefault:K,classNames:V,icons:z,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:F}=e,[X,Z]=se.useState(null),[re,ee]=se.useState(null),[ce,pe]=se.useState(!1),[Y,Q]=se.useState(!1),[ae,q]=se.useState(!1),[ke,ye]=se.useState(!1),[xe,Re]=se.useState(!1),[je,mt]=se.useState(0),[ht,oe]=se.useState(0),ge=se.useRef(g.duration||U||pL),Ne=se.useRef(null),We=se.useRef(null),qe=w===0,Ue=w+1<=j,it=g.type,Ot=g.dismissible!==!1,He=g.className||"",Rt=g.descriptionClassName||"",_t=se.useMemo(()=>S.findIndex(Wt=>Wt.toastId===g.id)||0,[S,g.id]),$t=se.useMemo(()=>{var Wt;return(Wt=g.closeButton)!=null?Wt:R},[g.closeButton,R]),an=se.useMemo(()=>g.duration||U||pL,[g.duration,U]),vr=se.useRef(0),vn=se.useRef(0),go=se.useRef(0),Us=se.useRef(null),[xo,si]=H.split("-"),Pi=se.useMemo(()=>S.reduce((Wt,gr,Rr)=>Rr>=_t?Wt:Wt+gr.height,0),[S,_t]),vo=rue(),ai=g.invert||m,Na=it==="loading";vn.current=se.useMemo(()=>_t*M+Pi,[_t,Pi]),se.useEffect(()=>{ge.current=an},[an]),se.useEffect(()=>{pe(!0)},[]),se.useEffect(()=>{let Wt=We.current;if(Wt){let gr=Wt.getBoundingClientRect().height;return oe(gr),v(Rr=>[{toastId:g.id,height:gr,position:g.position},...Rr]),()=>v(Rr=>Rr.filter(Vs=>Vs.toastId!==g.id))}},[v,g.id]),se.useLayoutEffect(()=>{if(!ce)return;let Wt=We.current,gr=Wt.style.height;Wt.style.height="auto";let Rr=Wt.getBoundingClientRect().height;Wt.style.height=gr,oe(Rr),v(Vs=>Vs.find(ra=>ra.toastId===g.id)?Vs.map(ra=>ra.toastId===g.id?{...ra,height:Rr}:ra):[{toastId:g.id,height:Rr,position:g.position},...Vs])},[ce,g.title,g.description,v,g.id]);let ds=se.useCallback(()=>{Q(!0),mt(vn.current),v(Wt=>Wt.filter(gr=>gr.toastId!==g.id)),setTimeout(()=>{N(g)},gue)},[g,N,v,vn]);se.useEffect(()=>{if(g.promise&&it==="loading"||g.duration===1/0||g.type==="loading")return;let Wt;return E||x||F&&vo?(()=>{if(go.current<vr.current){let gr=new Date().getTime()-vr.current;ge.current=ge.current-gr}go.current=new Date().getTime()})():ge.current!==1/0&&(vr.current=new Date().getTime(),Wt=setTimeout(()=>{var gr;(gr=g.onAutoClose)==null||gr.call(g,g),ds()},ge.current)),()=>clearTimeout(Wt)},[E,x,g,it,F,vo,ds]),se.useEffect(()=>{g.delete&&ds()},[ds,g.delete]);function kc(){var Wt,gr,Rr;return z!=null&&z.loading?se.createElement("div",{className:No(V?.loader,(Wt=g?.classNames)==null?void 0:Wt.loader,"sonner-loader"),"data-visible":it==="loading"},z.loading):W?se.createElement("div",{className:No(V?.loader,(gr=g?.classNames)==null?void 0:gr.loader,"sonner-loader"),"data-visible":it==="loading"},W):se.createElement(Xce,{className:No(V?.loader,(Rr=g?.classNames)==null?void 0:Rr.loader),visible:it==="loading"})}return se.createElement("li",{tabIndex:0,ref:We,className:No(D,He,V?.toast,(t=g?.classNames)==null?void 0:t.toast,V?.default,V?.[it],(r=g?.classNames)==null?void 0:r[it]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:k,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":ce,"data-promise":!!g.promise,"data-swiped":xe,"data-removed":Y,"data-visible":Ue,"data-y-position":xo,"data-x-position":si,"data-index":w,"data-front":qe,"data-swiping":ae,"data-dismissible":Ot,"data-type":it,"data-invert":ai,"data-swipe-out":ke,"data-swipe-direction":re,"data-expanded":!!(E||K&&ce),style:{"--index":w,"--toasts-before":w,"--z-index":T.length-w,"--offset":`${Y?je:vn.current}px`,"--initial-height":K?"auto":`${ht}px`,...A,...g.style},onDragEnd:()=>{q(!1),Z(null),Us.current=null},onPointerDown:Wt=>{Na||!Ot||(Ne.current=new Date,mt(vn.current),Wt.target.setPointerCapture(Wt.pointerId),Wt.target.tagName!=="BUTTON"&&(q(!0),Us.current={x:Wt.clientX,y:Wt.clientY}))},onPointerUp:()=>{var Wt,gr,Rr,Vs;if(ke||!Ot)return;Us.current=null;let ra=Number(((Wt=We.current)==null?void 0:Wt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),na=Number(((gr=We.current)==null?void 0:gr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ii=new Date().getTime()-((Rr=Ne.current)==null?void 0:Rr.getTime()),$n=X==="x"?ra:na,Oi=Math.abs($n)/ii;if(Math.abs($n)>=pue||Oi>.11){mt(vn.current),(Vs=g.onDismiss)==null||Vs.call(g,g),ee(X==="x"?ra>0?"right":"left":na>0?"down":"up"),ds(),ye(!0),Re(!1);return}q(!1),Z(null)},onPointerMove:Wt=>{var gr,Rr,Vs,ra;if(!Us.current||!Ot||((gr=window.getSelection())==null?void 0:gr.toString().length)>0)return;let na=Wt.clientY-Us.current.y,ii=Wt.clientX-Us.current.x,$n=(Rr=e.swipeDirections)!=null?Rr:xue(H);!X&&(Math.abs(ii)>1||Math.abs(na)>1)&&Z(Math.abs(ii)>Math.abs(na)?"x":"y");let Oi={x:0,y:0};X==="y"?($n.includes("top")||$n.includes("bottom"))&&($n.includes("top")&&na<0||$n.includes("bottom")&&na>0)&&(Oi.y=na):X==="x"&&($n.includes("left")||$n.includes("right"))&&($n.includes("left")&&ii<0||$n.includes("right")&&ii>0)&&(Oi.x=ii),(Math.abs(Oi.x)>0||Math.abs(Oi.y)>0)&&Re(!0),(Vs=We.current)==null||Vs.style.setProperty("--swipe-amount-x",`${Oi.x}px`),(ra=We.current)==null||ra.style.setProperty("--swipe-amount-y",`${Oi.y}px`)}},$t&&!g.jsx?se.createElement("button",{"aria-label":G,"data-disabled":Na,"data-close-button":!0,onClick:Na||!Ot?()=>{}:()=>{var Wt;ds(),(Wt=g.onDismiss)==null||Wt.call(g,g)},className:No(V?.closeButton,(s=g?.classNames)==null?void 0:s.closeButton)},(i=z?.close)!=null?i:tue):null,g.jsx||_.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:se.createElement(se.Fragment,null,it||g.icon||g.promise?se.createElement("div",{"data-icon":"",className:No(V?.icon,(o=g?.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||kc():null,g.type!=="loading"?g.icon||z?.[it]||Kce(it):null):null,se.createElement("div",{"data-content":"",className:No(V?.content,(l=g?.classNames)==null?void 0:l.content)},se.createElement("div",{"data-title":"",className:No(V?.title,(c=g?.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?se.createElement("div",{"data-description":"",className:No(B,Rt,V?.description,(u=g?.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),_.isValidElement(g.cancel)?g.cancel:g.cancel&&Jy(g.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:Wt=>{var gr,Rr;Jy(g.cancel)&&Ot&&((Rr=(gr=g.cancel).onClick)==null||Rr.call(gr,Wt),ds())},className:No(V?.cancelButton,(d=g?.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,_.isValidElement(g.action)?g.action:g.action&&Jy(g.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:Wt=>{var gr,Rr;Jy(g.action)&&((Rr=(gr=g.action).onClick)==null||Rr.call(gr,Wt),!Wt.defaultPrevented&&ds())},className:No(V?.actionButton,(f=g?.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function gL(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function yue(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?fue:due;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var wue=_.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:g,visibleToasts:y=uue,toastOptions:x,dir:v=gL(),gap:j=mue,loadingIcon:S,icons:w,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:E}=e,[N,k]=se.useState([]),R=se.useMemo(()=>Array.from(new Set([n].concat(N.filter(F=>F.position).map(F=>F.position)))),[N,n]),[A,I]=se.useState([]),[P,D]=se.useState(!1),[B,U]=se.useState(!1),[H,M]=se.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=se.useRef(null),K=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=se.useRef(null),z=se.useRef(!1),G=se.useCallback(F=>{k(X=>{var Z;return(Z=X.find(re=>re.id===F.id))!=null&&Z.delete||Ga.dismiss(F.id),X.filter(({id:re})=>re!==F.id)})},[]);return se.useEffect(()=>Ga.subscribe(F=>{if(F.dismiss){k(X=>X.map(Z=>Z.id===F.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{ZW.flushSync(()=>{k(X=>{let Z=X.findIndex(re=>re.id===F.id);return Z!==-1?[...X.slice(0,Z),{...X[Z],...F},...X.slice(Z+1)]:[F,...X]})})})}),[]),se.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:X})=>{M(X?"dark":"light")})}catch{F.addListener(({matches:Z})=>{try{M(Z?"dark":"light")}catch(re){console.error(re)}})}},[d]),se.useEffect(()=>{N.length<=1&&D(!1)},[N]),se.useEffect(()=>{let F=X=>{var Z,re;s.every(ee=>X[ee]||X.code===ee)&&(D(!0),(Z=W.current)==null||Z.focus()),X.code==="Escape"&&(document.activeElement===W.current||(re=W.current)!=null&&re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),se.useEffect(()=>{if(W.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,z.current=!1)}},[W.current]),se.createElement("section",{ref:t,"aria-label":`${T} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((F,X)=>{var Z;let[re,ee]=F.split("-");return N.length?se.createElement("ol",{key:F,dir:v==="auto"?gL():v,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":re,"data-lifted":P&&N.length>1&&!i,"data-x-position":ee,style:{"--front-toast-height":`${((Z=A[0])==null?void 0:Z.height)||0}px`,"--width":`${hue}px`,"--gap":`${j}px`,...g,...yue(c,u)},onBlur:ce=>{z.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(z.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||z.current||(z.current=!0,V.current=ce.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{B||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(ce=>!ce.position&&X===0||ce.position===F).map((ce,pe)=>{var Y,Q;return se.createElement(vue,{key:ce.id,icons:w,index:pe,toast:ce,defaultRichColors:f,duration:(Y=x?.duration)!=null?Y:m,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Q=x?.closeButton)!=null?Q:o,interacting:B,position:F,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:G,toasts:N.filter(ae=>ae.position==ce.position),heights:A.filter(ae=>ae.position==ce.position),setHeights:I,expandByDefault:i,gap:j,loadingIcon:S,expanded:P,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const bue=({...e})=>{const{theme:t="system"}=Gq();return a.jsx(wue,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var _ue=n4[" useId ".trim().toString()]||(()=>{}),jue=0;function _i(e){const[t,r]=_.useState(_ue());return Mn(()=>{r(n=>n??String(jue++))},[e]),t?`radix-${t}`:""}const Sue=["top","right","bottom","left"],ku=Math.min,pi=Math.max,ib=Math.round,ew=Math.floor,ul=e=>({x:e,y:e}),Nue={left:"right",right:"left",bottom:"top",top:"bottom"},kue={start:"end",end:"start"};function nA(e,t,r){return pi(e,ku(t,r))}function oc(e,t){return typeof e=="function"?e(t):e}function lc(e){return e.split("-")[0]}function lp(e){return e.split("-")[1]}function m4(e){return e==="x"?"y":"x"}function p4(e){return e==="y"?"height":"width"}const Eue=new Set(["top","bottom"]);function il(e){return Eue.has(lc(e))?"y":"x"}function g4(e){return m4(il(e))}function Cue(e,t,r){r===void 0&&(r=!1);const n=lp(e),s=g4(e),i=p4(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ob(o)),[o,ob(o)]}function Tue(e){const t=ob(e);return[sA(e),t,sA(t)]}function sA(e){return e.replace(/start|end/g,t=>kue[t])}const xL=["left","right"],vL=["right","left"],Aue=["top","bottom"],Pue=["bottom","top"];function Oue(e,t,r){switch(e){case"top":case"bottom":return r?t?vL:xL:t?xL:vL;case"left":case"right":return t?Aue:Pue;default:return[]}}function Rue(e,t,r,n){const s=lp(e);let i=Oue(lc(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(sA)))),i}function ob(e){return e.replace(/left|right|bottom|top/g,t=>Nue[t])}function Due(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kq(e){return typeof e!="number"?Due(e):{top:e,right:e,bottom:e,left:e}}function lb(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function yL(e,t,r){let{reference:n,floating:s}=e;const i=il(t),o=g4(t),l=p4(o),c=lc(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(lp(t)){case"start":g[o]-=m*(r&&u?-1:1);break;case"end":g[o]+=m*(r&&u?-1:1);break}return g}const Iue=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=yL(u,n,c),m=n,g={},y=0;for(let x=0;x<l.length;x++){const{name:v,fn:j}=l[x],{x:S,y:w,data:T,reset:E}=await j({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=S??d,f=w??f,g={...g,[v]:{...g[v],...T}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:f}=yL(u,m,c)),x=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:g}};async function _g(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=oc(t,e),y=Kq(g),v=l[m?f==="floating"?"reference":"floating":f],j=lb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),S=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=lb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:w,strategy:c}):S);return{top:(j.top-E.top+y.top)/T.y,bottom:(E.bottom-j.bottom+y.bottom)/T.y,left:(j.left-E.left+y.left)/T.x,right:(E.right-j.right+y.right)/T.x}}const Mue=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=oc(e,t)||{};if(u==null)return{};const f=Kq(d),m={x:r,y:n},g=g4(s),y=p4(g),x=await o.getDimensions(u),v=g==="y",j=v?"top":"left",S=v?"bottom":"right",w=v?"clientHeight":"clientWidth",T=i.reference[y]+i.reference[g]-m[g]-i.floating[y],E=m[g]-i.reference[g],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=N?N[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[w]||i.floating[y]);const R=T/2-E/2,A=k/2-x[y]/2-1,I=ku(f[j],A),P=ku(f[S],A),D=I,B=k-x[y]-P,U=k/2-x[y]/2+R,H=nA(D,U,B),M=!c.arrow&&lp(s)!=null&&U!==H&&i.reference[y]/2-(U<D?I:P)-x[y]/2<0,W=M?U<D?U-D:U-B:0;return{[g]:m[g]+W,data:{[g]:H,centerOffset:U-H-W,...M&&{alignmentOffset:W}},reset:M}}}),Fue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...v}=oc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=lc(s),S=il(l),w=lc(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=m||(w||!x?[ob(l)]:Tue(l)),N=y!=="none";!m&&N&&E.push(...Rue(l,x,y,T));const k=[l,...E],R=await _g(t,v),A=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(R[j]),f){const U=Cue(s,o,T);A.push(R[U[0]],R[U[1]])}if(I=[...I,{placement:s,overflows:A}],!A.every(U=>U<=0)){var P,D;const U=(((P=i.flip)==null?void 0:P.index)||0)+1,H=k[U];if(H&&(!(f==="alignment"?S!==il(H):!1)||I.every(K=>K.overflows[0]>0&&il(K.placement)===S)))return{data:{index:U,overflows:I},reset:{placement:H}};let M=(D=I.filter(W=>W.overflows[0]<=0).sort((W,K)=>W.overflows[1]-K.overflows[1])[0])==null?void 0:D.placement;if(!M)switch(g){case"bestFit":{var B;const W=(B=I.filter(K=>{if(N){const V=il(K.placement);return V===S||V==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(V=>V>0).reduce((V,z)=>V+z,0)]).sort((K,V)=>K[1]-V[1])[0])==null?void 0:B[0];W&&(M=W);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function wL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bL(e){return Sue.some(t=>e[t]>=0)}const Lue=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=oc(e,t);switch(n){case"referenceHidden":{const i=await _g(t,{...s,elementContext:"reference"}),o=wL(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bL(o)}}}case"escaped":{const i=await _g(t,{...s,altBoundary:!0}),o=wL(i,r.floating);return{data:{escapedOffsets:o,escaped:bL(o)}}}default:return{}}}}},Yq=new Set(["left","top"]);async function $ue(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=lc(r),l=lp(r),c=il(r)==="y",u=Yq.has(o)?-1:1,d=i&&c?-1:1,f=oc(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const Bue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await $ue(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Uue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:j,y:S}=v;return{x:j,y:S}}},...c}=oc(e,t),u={x:r,y:n},d=await _g(t,c),f=il(lc(s)),m=m4(f);let g=u[m],y=u[f];if(i){const v=m==="y"?"top":"left",j=m==="y"?"bottom":"right",S=g+d[v],w=g-d[j];g=nA(S,g,w)}if(o){const v=f==="y"?"top":"left",j=f==="y"?"bottom":"right",S=y+d[v],w=y-d[j];y=nA(S,y,w)}const x=l.fn({...t,[m]:g,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:i,[f]:o}}}}}},Vue=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oc(e,t),d={x:r,y:n},f=il(s),m=m4(f);let g=d[m],y=d[f];const x=oc(l,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=m==="y"?"height":"width",T=i.reference[m]-i.floating[w]+v.mainAxis,E=i.reference[m]+i.reference[w]-v.mainAxis;g<T?g=T:g>E&&(g=E)}if(u){var j,S;const w=m==="y"?"width":"height",T=Yq.has(lc(s)),E=i.reference[f]-i.floating[w]+(T&&((j=o.offset)==null?void 0:j[f])||0)+(T?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(T?0:((S=o.offset)==null?void 0:S[f])||0)-(T?v.crossAxis:0);y<E?y=E:y>N&&(y=N)}return{[m]:g,[f]:y}}}},zue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=oc(e,t),d=await _g(t,u),f=lc(s),m=lp(s),g=il(s)==="y",{width:y,height:x}=i.floating;let v,j;f==="top"||f==="bottom"?(v=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,v=m==="end"?"top":"bottom");const S=x-d.top-d.bottom,w=y-d.left-d.right,T=ku(x-d[v],S),E=ku(y-d[j],w),N=!t.middlewareData.shift;let k=T,R=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=S),N&&!m){const I=pi(d.left,0),P=pi(d.right,0),D=pi(d.top,0),B=pi(d.bottom,0);g?R=y-2*(I!==0||P!==0?I+P:pi(d.left,d.right)):k=x-2*(D!==0||B!==0?D+B:pi(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:k});const A=await o.getDimensions(l.floating);return y!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function s_(){return typeof window<"u"}function cp(e){return Xq(e)?(e.nodeName||"").toLowerCase():"#document"}function ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jl(e){var t;return(t=(Xq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xq(e){return s_()?e instanceof Node||e instanceof ji(e).Node:!1}function zo(e){return s_()?e instanceof Element||e instanceof ji(e).Element:!1}function yl(e){return s_()?e instanceof HTMLElement||e instanceof ji(e).HTMLElement:!1}function _L(e){return!s_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ji(e).ShadowRoot}const Wue=new Set(["inline","contents"]);function ev(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Wo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Wue.has(s)}const que=new Set(["table","td","th"]);function Hue(e){return que.has(cp(e))}const Gue=[":popover-open",":modal"];function a_(e){return Gue.some(t=>{try{return e.matches(t)}catch{return!1}})}const Kue=["transform","translate","scale","rotate","perspective"],Yue=["transform","translate","scale","rotate","perspective","filter"],Xue=["paint","layout","strict","content"];function x4(e){const t=v4(),r=zo(e)?Wo(e):e;return Kue.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Yue.some(n=>(r.willChange||"").includes(n))||Xue.some(n=>(r.contain||"").includes(n))}function Zue(e){let t=Eu(e);for(;yl(t)&&!xm(t);){if(x4(t))return t;if(a_(t))return null;t=Eu(t)}return null}function v4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Que=new Set(["html","body","#document"]);function xm(e){return Que.has(cp(e))}function Wo(e){return ji(e).getComputedStyle(e)}function i_(e){return zo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Eu(e){if(cp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_L(e)&&e.host||jl(e);return _L(t)?t.host:t}function Zq(e){const t=Eu(e);return xm(t)?e.ownerDocument?e.ownerDocument.body:e.body:yl(t)&&ev(t)?t:Zq(t)}function jg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Zq(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ji(s);if(i){const l=aA(o);return t.concat(o,o.visualViewport||[],ev(s)?s:[],l&&r?jg(l):[])}return t.concat(s,jg(s,[],r))}function aA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Qq(e){const t=Wo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=yl(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=ib(r)!==i||ib(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function y4(e){return zo(e)?e:e.contextElement}function em(e){const t=y4(e);if(!yl(t))return ul(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Qq(t);let o=(i?ib(r.width):r.width)/n,l=(i?ib(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Jue=ul(0);function Jq(e){const t=ji(e);return!v4()||!t.visualViewport?Jue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ede(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ji(e)?!1:t}function Zd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=y4(e);let o=ul(1);t&&(n?zo(n)&&(o=em(n)):o=em(e));const l=ede(i,r,n)?Jq(i):ul(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=ji(i),g=n&&zo(n)?ji(n):n;let y=m,x=aA(y);for(;x&&n&&g!==y;){const v=em(x),j=x.getBoundingClientRect(),S=Wo(x),w=j.left+(x.clientLeft+parseFloat(S.paddingLeft))*v.x,T=j.top+(x.clientTop+parseFloat(S.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=T,y=ji(x),x=aA(y)}}return lb({width:d,height:f,x:c,y:u})}function w4(e,t){const r=i_(e).scrollLeft;return t?t.left+r:Zd(jl(e)).left+r}function eH(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:w4(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function tde(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=jl(n),l=t?a_(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ul(1);const d=ul(0),f=yl(n);if((f||!f&&!i)&&((cp(n)!=="body"||ev(o))&&(c=i_(n)),yl(n))){const g=Zd(n);u=em(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const m=o&&!f&&!i?eH(o,c,!0):ul(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function rde(e){return Array.from(e.getClientRects())}function nde(e){const t=jl(e),r=i_(e),n=e.ownerDocument.body,s=pi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=pi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+w4(e);const l=-r.scrollTop;return Wo(n).direction==="rtl"&&(o+=pi(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function sde(e,t){const r=ji(e),n=jl(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=v4();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const ade=new Set(["absolute","fixed"]);function ide(e,t){const r=Zd(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=yl(e)?em(e):ul(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function jL(e,t,r){let n;if(t==="viewport")n=sde(e,r);else if(t==="document")n=nde(jl(e));else if(zo(t))n=ide(t,r);else{const s=Jq(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return lb(n)}function tH(e,t){const r=Eu(e);return r===t||!zo(r)||xm(r)?!1:Wo(r).position==="fixed"||tH(r,t)}function ode(e,t){const r=t.get(e);if(r)return r;let n=jg(e,[],!1).filter(l=>zo(l)&&cp(l)!=="body"),s=null;const i=Wo(e).position==="fixed";let o=i?Eu(e):e;for(;zo(o)&&!xm(o);){const l=Wo(o),c=x4(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&ade.has(s.position)||ev(o)&&!c&&tH(e,o))?n=n.filter(d=>d!==o):s=l,o=Eu(o)}return t.set(e,n),n}function lde(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?a_(t)?[]:ode(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=jL(t,d,s);return u.top=pi(f.top,u.top),u.right=ku(f.right,u.right),u.bottom=ku(f.bottom,u.bottom),u.left=pi(f.left,u.left),u},jL(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cde(e){const{width:t,height:r}=Qq(e);return{width:t,height:r}}function ude(e,t,r){const n=yl(t),s=jl(t),i=r==="fixed",o=Zd(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ul(0);function u(){c.x=w4(s)}if(n||!n&&!i)if((cp(t)!=="body"||ev(s))&&(l=i_(t)),n){const g=Zd(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?eH(s,l):ul(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function RN(e){return Wo(e).position==="static"}function SL(e,t){if(!yl(e)||Wo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return jl(e)===r&&(r=r.ownerDocument.body),r}function rH(e,t){const r=ji(e);if(a_(e))return r;if(!yl(e)){let s=Eu(e);for(;s&&!xm(s);){if(zo(s)&&!RN(s))return s;s=Eu(s)}return r}let n=SL(e,t);for(;n&&Hue(n)&&RN(n);)n=SL(n,t);return n&&xm(n)&&RN(n)&&!x4(n)?r:n||Zue(e)||r}const dde=async function(e){const t=this.getOffsetParent||rH,r=this.getDimensions,n=await r(e.floating);return{reference:ude(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fde(e){return Wo(e).direction==="rtl"}const hde={convertOffsetParentRelativeRectToViewportRelativeRect:tde,getDocumentElement:jl,getClippingRect:lde,getOffsetParent:rH,getElementRects:dde,getClientRects:rde,getDimensions:cde,getScale:em,isElement:zo,isRTL:fde};function nH(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mde(e,t){let r=null,n;const s=jl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const y=ew(f),x=ew(s.clientWidth-(d+m)),v=ew(s.clientHeight-(f+g)),j=ew(d),w={rootMargin:-y+"px "+-x+"px "+-v+"px "+-j+"px",threshold:pi(0,ku(1,c))||1};let T=!0;function E(N){const k=N[0].intersectionRatio;if(k!==c){if(!T)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!nH(u,e.getBoundingClientRect())&&o(),T=!1}try{r=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(e)}return o(!0),i}function pde(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=y4(e),d=s||i?[...u?jg(u):[],...jg(t)]:[];d.forEach(j=>{s&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=u&&l?mde(u,r):null;let m=-1,g=null;o&&(g=new ResizeObserver(j=>{let[S]=j;S&&S.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let y,x=c?Zd(e):null;c&&v();function v(){const j=Zd(e);x&&!nH(x,j)&&r(),x=j,y=requestAnimationFrame(v)}return r(),()=>{var j;d.forEach(S=>{s&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),f?.(),(j=g)==null||j.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const gde=Bue,xde=Uue,vde=Fue,yde=zue,wde=Lue,NL=Mue,bde=Vue,_de=(e,t,r)=>{const n=new Map,s={platform:hde,...r},i={...s.platform,_c:n};return Iue(e,t,{...s,platform:i})};var jde=typeof document<"u",Sde=function(){},Ww=jde?_.useLayoutEffect:Sde;function cb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!cb(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!cb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function sH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kL(e,t){const r=sH(e);return Math.round(t*r)/r}function DN(e){const t=_.useRef(e);return Ww(()=>{t.current=e}),t}function Nde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=_.useState(n);cb(m,n)||g(n);const[y,x]=_.useState(null),[v,j]=_.useState(null),S=_.useCallback(K=>{K!==N.current&&(N.current=K,x(K))},[]),w=_.useCallback(K=>{K!==k.current&&(k.current=K,j(K))},[]),T=i||y,E=o||v,N=_.useRef(null),k=_.useRef(null),R=_.useRef(d),A=c!=null,I=DN(c),P=DN(s),D=DN(u),B=_.useCallback(()=>{if(!N.current||!k.current)return;const K={placement:t,strategy:r,middleware:m};P.current&&(K.platform=P.current),_de(N.current,k.current,K).then(V=>{const z={...V,isPositioned:D.current!==!1};U.current&&!cb(R.current,z)&&(R.current=z,np.flushSync(()=>{f(z)}))})},[m,t,r,P,D]);Ww(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[u]);const U=_.useRef(!1);Ww(()=>(U.current=!0,()=>{U.current=!1}),[]),Ww(()=>{if(T&&(N.current=T),E&&(k.current=E),T&&E){if(I.current)return I.current(T,E,B);B()}},[T,E,B,I,A]);const H=_.useMemo(()=>({reference:N,floating:k,setReference:S,setFloating:w}),[S,w]),M=_.useMemo(()=>({reference:T,floating:E}),[T,E]),W=_.useMemo(()=>{const K={position:r,left:0,top:0};if(!M.floating)return K;const V=kL(M.floating,d.x),z=kL(M.floating,d.y);return l?{...K,transform:"translate("+V+"px, "+z+"px)",...sH(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:z}},[r,l,M.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:B,refs:H,elements:M,floatingStyles:W}),[d,B,H,M,W])}const kde=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?NL({element:n.current,padding:s}).fn(r):{}:n?NL({element:n,padding:s}).fn(r):{}}}},Ede=(e,t)=>({...gde(e),options:[e,t]}),Cde=(e,t)=>({...xde(e),options:[e,t]}),Tde=(e,t)=>({...bde(e),options:[e,t]}),Ade=(e,t)=>({...vde(e),options:[e,t]}),Pde=(e,t)=>({...yde(e),options:[e,t]}),Ode=(e,t)=>({...wde(e),options:[e,t]}),Rde=(e,t)=>({...kde(e),options:[e,t]});var Dde="Arrow",aH=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(xt.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});aH.displayName=Dde;var Ide=aH;function tv(e){const[t,r]=_.useState(void 0);return Mn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var b4="Popper",[iH,Lu]=Yn(b4),[Mde,oH]=iH(b4),lH=e=>{const{__scopePopper:t,children:r}=e,[n,s]=_.useState(null);return a.jsx(Mde,{scope:t,anchor:n,onAnchorChange:s,children:r})};lH.displayName=b4;var cH="PopperAnchor",uH=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=oH(cH,r),o=_.useRef(null),l=It(t,o);return _.useEffect(()=>{i.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(xt.div,{...s,ref:l})});uH.displayName=cH;var _4="PopperContent",[Fde,Lde]=iH(_4),dH=_.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...x}=e,v=oH(_4,r),[j,S]=_.useState(null),w=It(t,ce=>S(ce)),[T,E]=_.useState(null),N=tv(T),k=N?.width??0,R=N?.height??0,A=n+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],D=P.length>0,B={padding:I,boundary:P.filter(Bde),altBoundary:D},{refs:U,floatingStyles:H,placement:M,isPositioned:W,middlewareData:K}=Nde({strategy:"fixed",placement:A,whileElementsMounted:(...ce)=>pde(...ce,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[Ede({mainAxis:s+R,alignmentAxis:o}),c&&Cde({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Tde():void 0,...B}),c&&Ade({...B}),Pde({...B,apply:({elements:ce,rects:pe,availableWidth:Y,availableHeight:Q})=>{const{width:ae,height:q}=pe.reference,ke=ce.floating.style;ke.setProperty("--radix-popper-available-width",`${Y}px`),ke.setProperty("--radix-popper-available-height",`${Q}px`),ke.setProperty("--radix-popper-anchor-width",`${ae}px`),ke.setProperty("--radix-popper-anchor-height",`${q}px`)}}),T&&Rde({element:T,padding:l}),Ude({arrowWidth:k,arrowHeight:R}),m&&Ode({strategy:"referenceHidden",...B})]}),[V,z]=mH(M),G=An(y);Mn(()=>{W&&G?.()},[W,G]);const F=K.arrow?.x,X=K.arrow?.y,Z=K.arrow?.centerOffset!==0,[re,ee]=_.useState();return Mn(()=>{j&&ee(window.getComputedStyle(j).zIndex)},[j]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:W?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Fde,{scope:r,placedSide:V,onArrowChange:E,arrowX:F,arrowY:X,shouldHideArrow:Z,children:a.jsx(xt.div,{"data-side":V,"data-align":z,...x,ref:w,style:{...x.style,animation:W?void 0:"none"}})})})});dH.displayName=_4;var fH="PopperArrow",$de={top:"bottom",right:"left",bottom:"top",left:"right"},hH=_.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=Lde(fH,n),o=$de[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Ide,{...s,ref:r,style:{...s.style,display:"block"}})})});hH.displayName=fH;function Bde(e){return e!==null}var Ude=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,o=s.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=mH(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(s.arrow?.x??0)+l/2,g=(s.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${m}px`,x=`${-c}px`):u==="top"?(y=o?f:`${m}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${g}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${g}px`),{data:{x:y,y:x}}}});function mH(e){const[t,r="center"]=e.split("-");return[t,r]}var o_=lH,rv=uH,l_=dH,c_=hH,[u_]=Yn("Tooltip",[Lu]),d_=Lu(),pH="TooltipProvider",Vde=700,iA="tooltip.open",[zde,j4]=u_(pH),gH=e=>{const{__scopeTooltip:t,delayDuration:r=Vde,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(zde,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};gH.displayName=pH;var Sg="Tooltip",[Wde,f_]=u_(Sg),xH=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=j4(Sg,e.__scopeTooltip),u=d_(t),[d,f]=_.useState(null),m=_i(),g=_.useRef(0),y=o??c.disableHoverableContent,x=l??c.delayDuration,v=_.useRef(!1),[j,S]=ei({prop:n,defaultProp:s??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(iA))):c.onClose(),i?.(k)},caller:Sg}),w=_.useMemo(()=>j?v.current?"delayed-open":"instant-open":"closed",[j]),T=_.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v.current=!1,S(!0)},[S]),E=_.useCallback(()=>{window.clearTimeout(g.current),g.current=0,S(!1)},[S]),N=_.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{v.current=!0,S(!0),g.current=0},x)},[x,S]);return _.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(o_,{...u,children:a.jsx(Wde,{scope:t,contentId:m,open:j,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?N():T()},[c.isOpenDelayedRef,N,T]),onTriggerLeave:_.useCallback(()=>{y?E():(window.clearTimeout(g.current),g.current=0)},[E,y]),onOpen:T,onClose:E,disableHoverableContent:y,children:r})})};xH.displayName=Sg;var oA="TooltipTrigger",vH=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=f_(oA,r),i=j4(oA,r),o=d_(r),l=_.useRef(null),c=It(t,l,s.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(rv,{asChild:!0,...o,children:a.jsx(xt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Qe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Qe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Qe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Qe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Qe(e.onBlur,s.onClose),onClick:Qe(e.onClick,s.onClose)})})});vH.displayName=oA;var qde="TooltipPortal",[AXe,Hde]=u_(qde,{forceMount:void 0}),vm="TooltipContent",yH=_.forwardRef((e,t)=>{const r=Hde(vm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=f_(vm,e.__scopeTooltip);return a.jsx(us,{present:n||o.open,children:o.disableHoverableContent?a.jsx(wH,{side:s,...i,ref:t}):a.jsx(Gde,{side:s,...i,ref:t})})}),Gde=_.forwardRef((e,t)=>{const r=f_(vm,e.__scopeTooltip),n=j4(vm,e.__scopeTooltip),s=_.useRef(null),i=It(t,s),[o,l]=_.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=_.useCallback(()=>{l(null),f(!1)},[f]),g=_.useCallback((y,x)=>{const v=y.currentTarget,j={x:y.clientX,y:y.clientY},S=Qde(j,v.getBoundingClientRect()),w=Jde(j,S),T=efe(x.getBoundingClientRect()),E=rfe([...w,...T]);l(E),f(!0)},[f]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&d){const y=v=>g(v,d),x=v=>g(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,g,m]),_.useEffect(()=>{if(o){const y=x=>{const v=x.target,j={x:x.clientX,y:x.clientY},S=c?.contains(v)||d?.contains(v),w=!tfe(j,o);S?m():w&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),a.jsx(wH,{...e,ref:i})}),[Kde,Yde]=u_(Sg,{isInside:!1}),Xde=eq("TooltipContent"),wH=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=f_(vm,r),u=d_(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(iA,d),()=>document.removeEventListener(iA,d)),[d]),_.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(_f,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(l_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Xde,{children:n}),a.jsx(Kde,{scope:r,isInside:!0,children:a.jsx(yle,{id:c.contentId,role:"tooltip",children:s||n})})]})})});yH.displayName=vm;var bH="TooltipArrow",Zde=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=d_(r);return Yde(bH,r).isInside?null:a.jsx(c_,{...s,...n,ref:t})});Zde.displayName=bH;function Qde(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Jde(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function efe(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function tfe(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function rfe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),nfe(t)}function nfe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var sfe=gH,afe=xH,ife=vH,_H=yH;const R0=sfe,tw=afe,rw=ife,D0=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(_H,{ref:n,sideOffset:t,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));D0.displayName=_H.displayName;var nv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qd=typeof window>"u"||"Deno"in globalThis;function Ya(){}function ofe(e,t){return typeof e=="function"?e(t):e}function lA(e){return typeof e=="number"&&e>=0&&e!==1/0}function jH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fu(e,t){return typeof e=="function"?e(t):e}function Zi(e,t){return typeof e=="function"?e(t):e}function EL(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==S4(o,t.options))return!1}else if(!kg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function CL(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ng(t.options.mutationKey)!==Ng(i))return!1}else if(!kg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function S4(e,t){return(t?.queryKeyHashFn||Ng)(e)}function Ng(e){return JSON.stringify(e,(t,r)=>uA(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function kg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>kg(e[r],t[r])):!1}function SH(e,t){if(e===t)return e;const r=TL(e)&&TL(t);if(r||uA(e)&&uA(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=SH(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function cA(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function TL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function uA(e){if(!AL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!AL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AL(e){return Object.prototype.toString.call(e)==="[object Object]"}function lfe(e){return new Promise(t=>{setTimeout(t,e)})}function dA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?SH(e,t):t}function cfe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ufe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var N4=Symbol();function NH(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===N4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function dfe(e,t){return typeof e=="function"?e(...t):!!e}var ffe=class extends nv{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Qd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},k4=new ffe,hfe=class extends nv{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Qd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},ub=new hfe;function fA(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function mfe(e){return Math.min(1e3*2**e,3e4)}function kH(e){return(e??"online")==="online"?ub.isOnline():!0}var EH=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function IN(e){return e instanceof EH}function CH(e){let t=!1,r=0,n=!1,s;const i=fA(),o=x=>{n||(m(new EH(x)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>k4.isFocused()&&(e.networkMode==="always"||ub.isOnline())&&e.canRun(),d=()=>kH(e.networkMode)&&e.canRun(),f=x=>{n||(n=!0,e.onSuccess?.(x),s?.(),i.resolve(x))},m=x=>{n||(n=!0,e.onError?.(x),s?.(),i.reject(x))},g=()=>new Promise(x=>{s=v=>{(n||u())&&x(v)},e.onPause?.()}).then(()=>{s=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(j){x=Promise.reject(j)}Promise.resolve(x).then(f).catch(j=>{if(n)return;const S=e.retry??(Qd?0:3),w=e.retryDelay??mfe,T=typeof w=="function"?w(r,j):w,E=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,j);if(t||!E){m(j);return}r++,e.onFail?.(r,j),lfe(T).then(()=>u()?void 0:g()).then(()=>{t?m(j):y()})})};return{promise:i,cancel:o,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),i)}}var pfe=e=>setTimeout(e,0);function gfe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=pfe;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ys=gfe(),TH=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lA(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qd?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},xfe=class extends TH{#t;#e;#r;#n;#s;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=vfe(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=dA(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Ya).catch(Ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Zi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===N4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>fu(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jH(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},s=()=>{const c=NH(this.options,t),d=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#i=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:s};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{IN(c)&&c.silent||this.#a({type:"error",error:c}),IN(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#s=CH({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#s.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...AH(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return IN(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ys.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function AH(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kH(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vfe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yfe=class extends nv{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,s=t.queryHash??S4(n,t);let i=this.get(s);return i||(i=new xfe({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ys.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>EL(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>EL(e,r)):t}notify(e){Ys.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ys.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ys.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wfe=class extends TH{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||bfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=CH({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#n({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const s=await this.#r.start();return await this.#e.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ys.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function bfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _fe=class extends nv{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new wfe({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=nw(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=nw(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=nw(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=nw(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ys.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>CL(t,r))}findAll(e={}){return this.getAll().filter(t=>CL(e,t))}notify(e){Ys.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ys.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ya))))}};function nw(e){return e.options.scope?.id}function PL(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=NH(t.options,t.fetchOptions),g=async(y,x,v)=>{if(d)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:x,direction:v?"backward":"forward",meta:t.options.meta};return f(N),N})(),w=await m(S),{maxPages:T}=t.options,E=v?ufe:cfe;return{pages:E(y.pages,w,T),pageParams:E(y.pageParams,x,T)}};if(s&&i.length){const y=s==="backward",x=y?jfe:OL,v={pages:i,pageParams:o},j=x(n,v);l=await g(v,j,y)}else{const y=e??i.length;do{const x=c===0?o[0]??n.initialPageParam:OL(n,l);if(c>0&&x==null)break;l=await g(l,x),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function OL(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function jfe(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Sfe=class{#t;#e;#r;#n;#s;#o;#i;#a;constructor(e={}){this.#t=e.queryCache||new yfe,this.#e=e.mutationCache||new _fe,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=k4.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=ub.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(fu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,o=ofe(t,i);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ys.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Ys.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Ys.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ys.batch(()=>this.#t.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ya).catch(Ya)}invalidateQueries(e,t={}){return Ys.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ys.batch(()=>this.#t.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ya)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ya)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(fu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ya).catch(Ya)}fetchInfiniteQuery(e){return e.behavior=PL(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ya).catch(Ya)}ensureInfiniteQueryData(e){return e.behavior=PL(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ub.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ng(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{kg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#s.set(Ng(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{kg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=S4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===N4&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Nfe=class extends nv{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#i=fA(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#i;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),RL(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hA(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hA(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zi(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!cA(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&DL(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Zi(this.options.enabled,this.#e)!==Zi(t.enabled,this.#e)||fu(this.options.staleTime,this.#e)!==fu(t.staleTime,this.#e))&&this.#g();const s=this.#x();n&&(this.#e!==r||Zi(this.options.enabled,this.#e)!==Zi(t.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Efe(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ya)),t}#g(){this.#w();const e=fu(this.options.staleTime,this.#e);if(Qd||this.#n.isStale||!lA(e))return;const r=jH(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(Qd||Zi(this.options.enabled,this.#e)===!1||!lA(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||k4.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,s=this.#n,i=this.#s,o=this.#o,c=e!==r?e.state:this.#r,{state:u}=e;let d={...u},f=!1,m;if(t._optimisticResults){const R=this.hasListeners(),A=!R&&RL(e,t),I=R&&DL(e,r,t,n);(A||I)&&(d={...d,...AH(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:x}=d;m=d.data;let v=!1;if(t.placeholderData!==void 0&&m===void 0&&x==="pending"){let R;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(R=s.data,v=!0):R=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,R!==void 0&&(x="success",m=dA(s?.data,R,t),f=!0)}if(t.select&&m!==void 0&&!v)if(s&&m===i?.data&&t.select===this.#p)m=this.#f;else try{this.#p=t.select,m=t.select(m),m=dA(s?.data,m,t),this.#f=m,this.#a=null}catch(R){this.#a=R}this.#a&&(g=this.#a,m=this.#f,y=Date.now(),x="error");const j=d.fetchStatus==="fetching",S=x==="pending",w=x==="error",T=S&&j,E=m!==void 0,k={status:x,fetchStatus:d.fetchStatus,isPending:S,isSuccess:x==="success",isError:w,isInitialLoading:T,isLoading:T,data:m,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:j,isRefetching:j&&!S,isLoadingError:w&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:E4(e,t),refetch:this.refetch,promise:this.#i,isEnabled:Zi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=P=>{k.status==="error"?P.reject(k.error):k.data!==void 0&&P.resolve(k.data)},A=()=>{const P=this.#i=k.promise=fA();R(P)},I=this.#i;switch(I.status){case"pending":e.queryHash===r.queryHash&&R(I);break;case"fulfilled":(k.status==="error"||k.data!==I.value)&&A();break;case"rejected":(k.status!=="error"||k.error!==I.reason)&&A();break}}return k}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),cA(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&i.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(e){Ys.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function kfe(e,t){return Zi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function RL(e,t){return kfe(e,t)||e.state.data!==void 0&&hA(e,t,t.refetchOnMount)}function hA(e,t,r){if(Zi(t.enabled,e)!==!1&&fu(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&E4(e,t)}return!1}function DL(e,t,r,n){return(e!==t||Zi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&E4(e,r)}function E4(e,t){return Zi(t.enabled,e)!==!1&&e.isStaleByTime(fu(t.staleTime,e))}function Efe(e,t){return!cA(e.getCurrentResult(),t)}var PH=_.createContext(void 0),Cfe=e=>{const t=_.useContext(PH);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Tfe=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(PH.Provider,{value:e,children:t})),OH=_.createContext(!1),Afe=()=>_.useContext(OH);OH.Provider;function Pfe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ofe=_.createContext(Pfe()),Rfe=()=>_.useContext(Ofe),Dfe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ife=e=>{_.useEffect(()=>{e.clearReset()},[e])},Mfe=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||dfe(r,[e.error,n])),Ffe=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Lfe=(e,t)=>e.isLoading&&e.isFetching&&!t,$fe=(e,t)=>e?.suspense&&t.isPending,IL=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Bfe(e,t,r){const n=Afe(),s=Rfe(),i=Cfe(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Ffe(o),Dfe(o,s),Ife(s);const l=!i.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(f=>{const m=d?c.subscribe(Ys.batchCalls(f)):Ya;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o)},[o,c]),$fe(o,u))throw IL(o,c,s);if(Mfe({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Qd&&Lfe(u,n)&&(l?IL(o,c,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Ya).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ufe(e,t){return Bfe(e,Nfe)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}var iu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(iu||(iu={}));const ML="popstate";function Vfe(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return mA("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:db(s)}return Wfe(t,r,null,e)}function ls(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RH(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zfe(){return Math.random().toString(36).substr(2,8)}function FL(e,t){return{usr:e.state,key:e.key,idx:t}}function mA(e,t,r,n){return r===void 0&&(r=null),Eg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?up(t):t,{state:r,key:t&&t.key||n||zfe()})}function db(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function up(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Wfe(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=iu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Eg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=iu.Pop;let v=d(),j=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:j})}function m(v,j){l=iu.Push;let S=mA(x.location,v,j);u=d()+1;let w=FL(S,u),T=x.createHref(S);try{o.pushState(w,"",T)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(T)}i&&c&&c({action:l,location:x.location,delta:1})}function g(v,j){l=iu.Replace;let S=mA(x.location,v,j);u=d();let w=FL(S,u),T=x.createHref(S);o.replaceState(w,"",T),i&&c&&c({action:l,location:x.location,delta:0})}function y(v){let j=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof v=="string"?v:db(v);return S=S.replace(/ $/,"%20"),ls(j,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,j)}let x={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ML,f),c=v,()=>{s.removeEventListener(ML,f),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let j=y(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:g,go(v){return o.go(v)}};return x}var LL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(LL||(LL={}));function qfe(e,t,r){return r===void 0&&(r="/"),Hfe(e,t,r)}function Hfe(e,t,r,n){let s=typeof t=="string"?up(t):t,i=C4(s.pathname||"/",r);if(i==null)return null;let o=DH(e);Gfe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ahe(i);l=rhe(o[c],u)}return l}function DH(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ls(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=hu([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ls(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),DH(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ehe(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of IH(i.path))s(i,o,c)}),t}function IH(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=IH(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gfe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:the(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Kfe=/^:[\w-]+$/,Yfe=3,Xfe=2,Zfe=1,Qfe=10,Jfe=-2,$L=e=>e==="*";function ehe(e,t){let r=e.split("/"),n=r.length;return r.some($L)&&(n+=Jfe),t&&(n+=Xfe),r.filter(s=>!$L(s)).reduce((s,i)=>s+(Kfe.test(i)?Yfe:i===""?Zfe:Qfe),n)}function the(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function rhe(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=nhe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:hu([i,f.pathname]),pathnameBase:che(hu([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=hu([i,f.pathnameBase]))}return o}function nhe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=she(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function she(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),RH(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ahe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RH(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function C4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ihe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?up(e):e;return{pathname:r?r.startsWith("/")?r:ohe(r,t):t,search:uhe(n),hash:dhe(s)}}function ohe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function MN(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lhe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function MH(e,t){let r=lhe(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function FH(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=up(e):(s=Eg({},e),ls(!s.pathname||!s.pathname.includes("?"),MN("?","pathname","search",s)),ls(!s.pathname||!s.pathname.includes("#"),MN("#","pathname","hash",s)),ls(!s.search||!s.search.includes("#"),MN("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=ihe(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hu=e=>e.join("/").replace(/\/\/+/g,"/"),che=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uhe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dhe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fhe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LH=["post","put","patch","delete"];new Set(LH);const hhe=["get",...LH];new Set(hhe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}const T4=_.createContext(null),mhe=_.createContext(null),jf=_.createContext(null),h_=_.createContext(null),$u=_.createContext({outlet:null,matches:[],isDataRoute:!1}),$H=_.createContext(null);function phe(e,t){let{relative:r}=t===void 0?{}:t;sv()||ls(!1);let{basename:n,navigator:s}=_.useContext(jf),{hash:i,pathname:o,search:l}=UH(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:hu([n,o])),s.createHref({pathname:c,search:l,hash:i})}function sv(){return _.useContext(h_)!=null}function gc(){return sv()||ls(!1),_.useContext(h_).location}function BH(e){_.useContext(jf).static||_.useLayoutEffect(e)}function nr(){let{isDataRoute:e}=_.useContext($u);return e?Che():ghe()}function ghe(){sv()||ls(!1);let e=_.useContext(T4),{basename:t,future:r,navigator:n}=_.useContext(jf),{matches:s}=_.useContext($u),{pathname:i}=gc(),o=JSON.stringify(MH(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return BH(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=FH(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function xc(){let{matches:e}=_.useContext($u),t=e[e.length-1];return t?t.params:{}}function UH(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(jf),{matches:s}=_.useContext($u),{pathname:i}=gc(),o=JSON.stringify(MH(s,n.v7_relativeSplatPath));return _.useMemo(()=>FH(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function xhe(e,t){return vhe(e,t)}function vhe(e,t,r,n){sv()||ls(!1);let{navigator:s}=_.useContext(jf),{matches:i}=_.useContext($u),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=gc(),d;if(t){var f;let v=typeof t=="string"?up(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ls(!1),d=v}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=qfe(e,{pathname:g}),x=jhe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:hu([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:hu([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&x?_.createElement(h_.Provider,{value:{location:Cg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:iu.Pop}},x):x}function yhe(){let e=Ehe(),t=fhe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const whe=_.createElement(yhe,null);class bhe extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement($u.Provider,{value:this.props.routeContext},_.createElement($H.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _he(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(T4);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement($u.Provider,{value:t},n)}function jhe(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||ls(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,y=!1,x=null,v=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||whe,c&&(u<0&&m===0?(The("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),S=()=>{let w;return g?w=x:y?w=v:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,_.createElement(_he,{match:f,routeContext:{outlet:d,matches:j,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?_.createElement(bhe,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}var VH=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(VH||{}),zH=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(zH||{});function She(e){let t=_.useContext(T4);return t||ls(!1),t}function Nhe(e){let t=_.useContext(mhe);return t||ls(!1),t}function khe(e){let t=_.useContext($u);return t||ls(!1),t}function WH(e){let t=khe(),r=t.matches[t.matches.length-1];return r.route.id||ls(!1),r.route.id}function Ehe(){var e;let t=_.useContext($H),r=Nhe(),n=WH();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Che(){let{router:e}=She(VH.UseNavigateStable),t=WH(zH.UseNavigateStable),r=_.useRef(!1);return BH(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cg({fromRouteId:t},i)))},[e,t])}const BL={};function The(e,t,r){BL[e]||(BL[e]=!0)}function Ahe(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function kt(e){ls(!1)}function Phe(e){let{basename:t="/",children:r=null,location:n,navigationType:s=iu.Pop,navigator:i,static:o=!1,future:l}=e;sv()&&ls(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:Cg({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=up(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:y="default"}=n,x=_.useMemo(()=>{let v=C4(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:g,key:y},navigationType:s}},[c,d,f,m,g,y,s]);return x==null?null:_.createElement(jf.Provider,{value:u},_.createElement(h_.Provider,{children:r,value:x}))}function Ohe(e){let{children:t,location:r}=e;return xhe(pA(t),r)}new Promise(()=>{});function pA(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,pA(n.props.children,i));return}n.type!==kt&&ls(!1),!n.props.index||!n.props.children||ls(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=pA(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gA.apply(this,arguments)}function Rhe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Dhe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ihe(e,t){return e.button===0&&(!t||t==="_self")&&!Dhe(e)}function xA(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Mhe(e,t){let r=xA(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Fhe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lhe="6";try{window.__reactRouterVersion=Lhe}catch{}const $he="startTransition",UL=n4[$he];function Bhe(e){let{basename:t,children:r,future:n,window:s}=e,i=_.useRef();i.current==null&&(i.current=Vfe({window:s,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&UL?UL(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>Ahe(n),[n]),_.createElement(Phe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Uhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vhe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Rhe(t,Fhe),{basename:g}=_.useContext(jf),y,x=!1;if(typeof u=="string"&&Vhe.test(u)&&(y=u,Uhe))try{let w=new URL(window.location.href),T=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=C4(T.pathname,g);T.origin===w.origin&&E!=null?u=E+T.search+T.hash:x=!0}catch{}let v=phe(u,{relative:s}),j=zhe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function S(w){n&&n(w),w.defaultPrevented||j(w)}return _.createElement("a",gA({},m,{href:y||v,onClick:x||i?n:S,ref:r,target:c}))});var VL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(VL||(VL={}));var zL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zL||(zL={}));function zhe(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=nr(),u=gc(),d=UH(e,{relative:o});return _.useCallback(f=>{if(Ihe(f,r)){f.preventDefault();let m=n!==void 0?n:db(u)===db(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function A4(e){let t=_.useRef(xA(e)),r=_.useRef(!1),n=gc(),s=_.useMemo(()=>Mhe(n.search,r.current?null:t.current),[n.search]),i=nr(),o=_.useCallback((l,c)=>{const u=xA(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const P4="shopping_cart",m_=()=>{const e=localStorage.getItem(P4);return e?JSON.parse(e):[]},O4=e=>{localStorage.setItem(P4,JSON.stringify(e))},Whe=e=>{const t=m_(),r=t.findIndex(n=>n.productId===e.productId&&n.variant===e.variant);return r>-1?t[r].quantity+=e.quantity:t.push(e),O4(t),t},qhe=(e,t,r)=>{const n=m_(),s=n.findIndex(i=>i.productId===e&&i.variant===t);return s>-1&&(r<=0?n.splice(s,1):n[s].quantity=r),O4(n),n},Hhe=(e,t)=>{const r=m_().filter(n=>!(n.productId===e&&n.variant===t));return O4(r),r},Ghe=()=>{localStorage.removeItem(P4)},Khe=e=>e.reduce((t,r)=>t+r.price*r.quantity,0),Yhe=e=>e.reduce((t,r)=>t+r.quantity,0),Xhe=({animationState:e,onComplete:t})=>{const[r,n]=_.useState(!1),{imageSrc:s,startRect:i,endRect:o}=e;_.useEffect(()=>{const u=setTimeout(()=>{n(!0)},10),d=setTimeout(()=>{t()},1500);return()=>{clearTimeout(u),clearTimeout(d)}},[t]);const l={position:"fixed",top:i.top,left:i.left,width:i.width,height:i.height,zIndex:9999,pointerEvents:"none",transition:"all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)",borderRadius:"8px",objectFit:"cover"},c={...l,top:o.top+o.height/2,left:o.left+o.width/2,width:0,height:0,transform:"rotate(360deg) scale(0.1)",opacity:.5};return a.jsx("img",{src:s,alt:"Flying product",style:r?c:l})},qH=_.createContext(void 0),Zhe=({children:e})=>{const[t,r]=_.useState([]),[n,s]=_.useState(null);_.useEffect(()=>{r(m_())},[]);const i=g=>{const y=Whe(g);r(y)},o=(g,y)=>{const x=y.getBoundingClientRect(),v=document.querySelector("[data-cart-icon]");if(!v){console.warn("Cart icon not found for animation");return}const j=v.getBoundingClientRect();s({imageSrc:g,startRect:x,endRect:j})},l=()=>{s(null)},c=(g,y,x)=>{const v=qhe(g,y,x);r(v)},u=(g,y)=>{const x=Hhe(g,y);r(x)},d=()=>{Ghe(),r([])},f=Yhe(t),m=Khe(t);return a.jsxs(qH.Provider,{value:{cart:t,cartCount:f,cartTotal:m,addToCart:i,updateQuantity:c,removeItem:u,clearCart:d,triggerFlyAnimation:o},children:[e,n&&a.jsx(Xhe,{animationState:n,onComplete:l})]})},p_=()=>{const e=_.useContext(qH);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};var FN,WL;function Qhe(){if(WL)return FN;WL=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(i,o){if(i===o)return!0;if(i&&o&&typeof i=="object"&&typeof o=="object"){if(i.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(i)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!s(i[c],o[c]))return!1;return!0}var d;if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=i.entries();!(c=d.next()).done;)if(!s(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if(l=i.length,l!=o.length)return!1;for(c=l;c--!==0;)if(i[c]!==o[c])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof o.valueOf=="function")return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof o.toString=="function")return i.toString()===o.toString();if(u=Object.keys(i),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(e&&i instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&i.$$typeof)&&!s(i[u[c]],o[u[c]]))return!1;return!0}return i!==i&&o!==o}return FN=function(o,l){try{return s(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},FN}var Jhe=Qhe();const eme=Sr(Jhe);var LN,qL;function tme(){if(qL)return LN;qL=1;var e=function(t,r,n,s,i,o,l,c){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,s,i,o,l,c],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return LN=e,LN}var rme=tme();const HL=Sr(rme);var $N,GL;function nme(){return GL||(GL=1,$N=function(t,r,n,s){var i=n?n.call(s,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=t[d],m=r[d];if(i=n?n.call(s,f,m,d):void 0,i===!1||i===void 0&&f!==m)return!1}return!0}),$N}var sme=nme();const ame=Sr(sme);var HH=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(HH||{}),BN={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},KL=Object.values(HH),R4={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ime=Object.entries(R4).reduce((e,[t,r])=>(e[r]=t,e),{}),Mo="data-rh",tm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},rm=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},ome=e=>{let t=rm(e,"title");const r=rm(e,tm.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=rm(e,tm.DEFAULT_TITLE);return t||n||void 0},lme=e=>rm(e,tm.ON_CHANGE_CLIENT_STATE)||(()=>{}),UN=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),cme=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let i=0;i<s.length;i+=1){const l=s[i].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),ume=e=>console&&typeof console.warn=="function"&&console.warn(e),h0=(e,t,r)=>{const n={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&ume(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const g=d[m],y=g.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(u=g)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>s.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...n[u],...o[u]};n[u]=d}return s},[]).reverse()},dme=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},fme=e=>({baseTag:cme(["href"],e),bodyAttributes:UN("bodyAttributes",e),defer:rm(e,tm.DEFER),encode:rm(e,tm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:UN("htmlAttributes",e),linkTags:h0("link",["rel","href"],e),metaTags:h0("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:h0("noscript",["innerHTML"],e),onChangeClientState:lme(e),scriptTags:h0("script",["src","innerHTML"],e),styleTags:h0("style",["cssText"],e),title:ome(e),titleAttributes:UN("titleAttributes",e),prioritizeSeoTags:dme(e,tm.PRIORITIZE_SEO_TAGS)}),GH=e=>Array.isArray(e)?e.join(""):e,hme=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},VN=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(hme(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},YL=(e,t)=>({...e,[t]:void 0}),mme=["noscript","script","style"],vA=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),KH=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),pme=(e,t,r,n)=>{const s=KH(r),i=GH(t);return s?`<${e} ${Mo}="true" ${s}>${vA(i,n)}</${e}>`:`<${e} ${Mo}="true">${vA(i,n)}</${e}>`},gme=(e,t,r=!0)=>t.reduce((n,s)=>{const i=s,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof i[d]>"u"?d:`${d}="${vA(i[d],r)}"`;return u?`${u} ${f}`:f},""),l=i.innerHTML||i.cssText||"",c=mme.indexOf(e)===-1;return`${n}<${e} ${Mo}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),YH=(e,t={})=>Object.keys(e).reduce((r,n)=>{const s=R4[n];return r[s||n]=e[n],r},t),xme=(e,t,r)=>{const n={key:t,[Mo]:!0},s=YH(r,n);return[se.createElement("title",s,t)]},qw=(e,t)=>t.map((r,n)=>{const s={key:n,[Mo]:!0};return Object.keys(r).forEach(i=>{const l=R4[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[l]=r[i]}),se.createElement(e,s)}),Ki=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>xme(e,t.title,t.titleAttributes),toString:()=>pme(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>YH(t),toString:()=>KH(t)};default:return{toComponent:()=>qw(e,t),toString:()=>gme(e,t,r)}}},vme=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const s=VN(e,BN.meta),i=VN(t,BN.link),o=VN(r,BN.script);return{priorityMethods:{toComponent:()=>[...qw("meta",s.priority),...qw("link",i.priority),...qw("script",o.priority)],toString:()=>`${Ki("meta",s.priority,n)} ${Ki("link",i.priority,n)} ${Ki("script",o.priority,n)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}},yme=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:f,scriptTags:m}=e,g={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:g,linkTags:d,metaTags:f,scriptTags:m}=vme(e)),{priority:g,base:Ki("base",t,n),bodyAttributes:Ki("bodyAttributes",r,n),htmlAttributes:Ki("htmlAttributes",s,n),link:Ki("link",d,n),meta:Ki("meta",f,n),noscript:Ki("noscript",i,n),script:Ki("script",m,n),style:Ki("style",o,n),title:Ki("title",{title:l,titleAttributes:c},n)}},yA=yme,sw=[],XH=!!(typeof window<"u"&&window.document&&window.document.createElement),wA=class{instances=[];canUseDOM=XH;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?sw:this.instances,add:e=>{(this.canUseDOM?sw:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?sw:this.instances).indexOf(e);(this.canUseDOM?sw:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=yA({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wme={},ZH=se.createContext(wme),QH=class JH extends _.Component{static canUseDOM=XH;helmetData;constructor(t){super(t),this.helmetData=new wA(this.props.context||{},JH.canUseDOM)}render(){return se.createElement(ZH.Provider,{value:this.helmetData.value},this.props.children)}},uh=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Mo}]`),s=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(Mo,"true"),s.some((u,d)=>(o=d,c.isEqualNode(u)))?s.splice(o,1):i.push(c)}),s.forEach(l=>l.parentNode?.removeChild(l)),i.forEach(l=>r.appendChild(l)),{oldTags:s,newTags:i}},bA=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Mo),s=n?n.split(","):[],i=[...s],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),s.indexOf(l)===-1&&s.push(l);const u=i.indexOf(l);u!==-1&&i.splice(u,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);s.length===i.length?r.removeAttribute(Mo):r.getAttribute(Mo)!==o.join(",")&&r.setAttribute(Mo,o.join(","))},bme=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=GH(e)),bA("title",t)},XL=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:m}=e;bA("body",n),bA("html",s),bme(f,m);const g={baseTag:uh("base",r),linkTags:uh("link",i),metaTags:uh("meta",o),noscriptTags:uh("noscript",l),scriptTags:uh("script",u),styleTags:uh("style",d)},y={},x={};Object.keys(g).forEach(v=>{const{newTags:j,oldTags:S}=g[v];j.length&&(y[v]=j),S.length&&(x[v]=g[v].oldTags)}),t&&t(),c(e,y,x)},m0=null,_me=e=>{m0&&cancelAnimationFrame(m0),e.defer?m0=requestAnimationFrame(()=>{XL(e,()=>{m0=null})}):(XL(e),m0=null)},jme=_me,ZL=class extends _.Component{rendered=!1;shouldComponentUpdate(e){return!ame(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const n=fme(e.get().map(s=>{const i={...s.props};return delete i.context,i}));QH.canUseDOM?jme(n):yA&&(r=yA(n)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},D4=class extends _.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!eme(YL(this.props,"helmetData"),YL(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return HL(KL.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${KL.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),HL(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return se.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:s,...i}=n.props,o=Object.keys(i).reduce((c,u)=>(c[ime[u]||u]=i[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,s),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,s);break;default:t=this.mapObjectTypeChildren(n,t,o,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof wA)){const s=n;n=new wA(s.context,!0),delete r.helmetData}return n?se.createElement(ZL,{...r,context:n.value}):se.createElement(ZH.Consumer,null,s=>se.createElement(ZL,{...r,context:s}))}};function Sme(){const{pathname:e}=gc();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Hw="digitaldukandar.in",QL=window.location.protocol;function g_(){const e=window.location.hostname;if(e.endsWith(".lovable.app")||e.endsWith(".lovableproject.com"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(".localhost")){const t=e.replace(".localhost","");return["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}if(e==="localhost"||e.startsWith("127.0.0.1"))return{type:"main",isStoreSpecific:!1};if(e.endsWith(`.${Hw}`)){const t=e.replace(`.${Hw}`,"");return t===""||t==="www"?{type:"main",isStoreSpecific:!1}:["admin","superadmin","api","app","preview","dashboard"].includes(t)?{type:"main",isStoreSpecific:!1}:{type:"subdomain",subdomain:t,isStoreSpecific:!0}}return e===Hw?{type:"main",isStoreSpecific:!1}:{type:"custom",customDomain:e,isStoreSpecific:!0}}function eG(){const e=g_();return e.isStoreSpecific&&(e.subdomain||e.customDomain)||null}function Nme(e,t){return t?`${QL}//${t}`:`${QL}//${e}.${Hw}`}function wl(){return g_().isStoreSpecific}const x_=ap("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?QW:"button";return a.jsx(o,{className:Je(x_({variant:t,size:r,className:e})),ref:i,...s})});le.displayName="Button";const we=_.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));we.displayName="Card";const Ge=_.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Je("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const Ke=_.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Je("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ke.displayName="CardTitle";const nn=_.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));nn.displayName="CardDescription";const _e=_.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Je("p-6 pt-0",e),...t}));_e.displayName="CardContent";const tG=_.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Je("flex items-center p-6 pt-0",e),...t}));tG.displayName="CardFooter";var kme=_.createContext(void 0);function Sf(e){const t=_.useContext(kme);return e||t||"ltr"}var zN=0;function v_(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JL()),document.body.insertAdjacentElement("beforeend",e[1]??JL()),zN++,()=>{zN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zN--}},[])}function JL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var WN="focusScope.autoFocusOnMount",qN="focusScope.autoFocusOnUnmount",e5={bubbles:!1,cancelable:!0},Eme="FocusScope",av=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),u=An(s),d=An(i),f=_.useRef(null),m=It(t,x=>c(x)),g=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let x=function(w){if(g.paused||!l)return;const T=w.target;l.contains(T)?f.current=T:Qc(f.current,{select:!0})},v=function(w){if(g.paused||!l)return;const T=w.relatedTarget;T!==null&&(l.contains(T)||Qc(f.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Qc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const S=new MutationObserver(j);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),S.disconnect()}}},[n,l,g.paused]),_.useEffect(()=>{if(l){r5.add(g);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(WN,e5);l.addEventListener(WN,u),l.dispatchEvent(j),j.defaultPrevented||(Cme(Rme(rG(l)),{select:!0}),document.activeElement===x&&Qc(l))}return()=>{l.removeEventListener(WN,u),setTimeout(()=>{const j=new CustomEvent(qN,e5);l.addEventListener(qN,d),l.dispatchEvent(j),j.defaultPrevented||Qc(x??document.body,{select:!0}),l.removeEventListener(qN,d),r5.remove(g)},0)}}},[l,u,d,g]);const y=_.useCallback(x=>{if(!r&&!n||g.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(v&&j){const S=x.currentTarget,[w,T]=Tme(S);w&&T?!x.shiftKey&&j===T?(x.preventDefault(),r&&Qc(w,{select:!0})):x.shiftKey&&j===w&&(x.preventDefault(),r&&Qc(T,{select:!0})):j===S&&x.preventDefault()}},[r,n,g.paused]);return a.jsx(xt.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});av.displayName=Eme;function Cme(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qc(n,{select:t}),document.activeElement!==r)return}function Tme(e){const t=rG(e),r=t5(t,e),n=t5(t.reverse(),e);return[r,n]}function rG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function t5(e,t){for(const r of e)if(!Ame(r,{upTo:t}))return r}function Ame(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pme(e){return e instanceof HTMLInputElement&&"select"in e}function Qc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Pme(e)&&t&&e.select()}}var r5=Ome();function Ome(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=n5(e,t),e.unshift(t)},remove(t){e=n5(e,t),e[0]?.resume()}}}function n5(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Rme(e){return e.filter(t=>t.tagName!=="A")}var HN="rovingFocusGroup.onEntryFocus",Dme={bubbles:!1,cancelable:!0},iv="RovingFocusGroup",[_A,nG,Ime]=Qx(iv),[Mme,dp]=Yn(iv,[Ime]),[Fme,Lme]=Mme(iv),sG=_.forwardRef((e,t)=>a.jsx(_A.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(_A.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx($me,{...e,ref:t})})}));sG.displayName=iv;var $me=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=_.useRef(null),g=It(t,m),y=Sf(i),[x,v]=ei({prop:o,defaultProp:l??null,onChange:c,caller:iv}),[j,S]=_.useState(!1),w=An(u),T=nG(r),E=_.useRef(!1),[N,k]=_.useState(0);return _.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(HN,w),()=>R.removeEventListener(HN,w)},[w]),a.jsx(Fme,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:x,onItemFocus:_.useCallback(R=>v(R),[v]),onItemShiftTab:_.useCallback(()=>S(!0),[]),onFocusableItemAdd:_.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:_.useCallback(()=>k(R=>R-1),[]),children:a.jsx(xt.div,{tabIndex:j||N===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{E.current=!0}),onFocus:Qe(e.onFocus,R=>{const A=!E.current;if(R.target===R.currentTarget&&A&&!j){const I=new CustomEvent(HN,Dme);if(R.currentTarget.dispatchEvent(I),!I.defaultPrevented){const P=T().filter(M=>M.focusable),D=P.find(M=>M.active),B=P.find(M=>M.id===x),H=[D,B,...P].filter(Boolean).map(M=>M.ref.current);oG(H,d)}}E.current=!1}),onBlur:Qe(e.onBlur,()=>S(!1))})})}),aG="RovingFocusGroupItem",iG=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=_i(),u=i||c,d=Lme(aG,r),f=d.currentTabStopId===u,m=nG(r),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:x}=d;return _.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),a.jsx(_A.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(xt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Qe(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Qe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Qe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=Vme(v,d.orientation,d.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(T=>T.focusable).map(T=>T.ref.current);if(j==="last")w.reverse();else if(j==="prev"||j==="next"){j==="prev"&&w.reverse();const T=w.indexOf(v.currentTarget);w=d.loop?zme(w,T+1):w.slice(T+1)}setTimeout(()=>oG(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});iG.displayName=aG;var Bme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ume(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Vme(e,t,r){const n=Ume(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Bme[n]}function oG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function zme(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var I4=sG,M4=iG,Wme=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dh=new WeakMap,aw=new WeakMap,iw={},GN=0,lG=function(e){return e&&(e.host||lG(e.parentNode))},qme=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=lG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Hme=function(e,t,r,n){var s=qme(t,Array.isArray(e)?e:[e]);iw[r]||(iw[r]=new WeakMap);var i=iw[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(n),y=g!==null&&g!=="false",x=(dh.get(m)||0)+1,v=(i.get(m)||0)+1;dh.set(m,x),i.set(m,v),o.push(m),x===1&&y&&aw.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return d(t),l.clear(),GN++,function(){o.forEach(function(f){var m=dh.get(f)-1,g=i.get(f)-1;dh.set(f,m),i.set(f,g),m||(aw.has(f)||f.removeAttribute(n),aw.delete(f)),g||f.removeAttribute(r)}),GN--,GN||(dh=new WeakMap,dh=new WeakMap,aw=new WeakMap,iw={})}},y_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Wme(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Hme(n,s,r,"aria-hidden")):function(){return null}},al=function(){return al=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},al.apply(this,arguments)};function cG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Gme(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Gw="right-scroll-bar-position",Kw="width-before-scroll-bar",Kme="with-scroll-bars-hidden",Yme="--removed-body-scroll-bar-size";function KN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Xme(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Zme=typeof window<"u"?_.useLayoutEffect:_.useEffect,s5=new WeakMap;function Qme(e,t){var r=Xme(null,function(n){return e.forEach(function(s){return KN(s,n)})});return Zme(function(){var n=s5.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||KN(l,null)}),i.forEach(function(l){s.has(l)||KN(l,o)})}s5.set(r,e)},[e]),r}function Jme(e){return e}function epe(e,t){t===void 0&&(t=Jme);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function tpe(e){e===void 0&&(e={});var t=epe(null);return t.options=al({async:!0,ssr:!1},e),t}var uG=function(e){var t=e.sideCar,r=cG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,al({},r))};uG.isSideCarExport=!0;function rpe(e,t){return e.useMedium(t),uG}var dG=tpe(),YN=function(){},w_=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:YN,onWheelCapture:YN,onTouchMoveCapture:YN}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,y=e.noIsolation,x=e.inert,v=e.allowPinchZoom,j=e.as,S=j===void 0?"div":j,w=e.gapMode,T=cG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,N=Qme([r,t]),k=al(al({},T),s);return _.createElement(_.Fragment,null,d&&_.createElement(E,{sideCar:dG,removeScrollBar:u,shards:f,noRelative:g,noIsolation:y,inert:x,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?_.cloneElement(_.Children.only(l),al(al({},k),{ref:N})):_.createElement(S,al({},k,{className:c,ref:N}),l))});w_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};w_.classNames={fullWidth:Kw,zeroRight:Gw};var npe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function spe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=npe();return t&&e.setAttribute("nonce",t),e}function ape(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ipe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ope=function(){var e=0,t=null;return{add:function(r){e==0&&(t=spe())&&(ape(t,r),ipe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lpe=function(){var e=ope();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},fG=function(){var e=lpe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},cpe={left:0,top:0,right:0,gap:0},XN=function(e){return parseInt(e||"",10)||0},upe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[XN(r),XN(n),XN(s)]},dpe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cpe;var t=upe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},fpe=fG(),nm="data-scroll-locked",hpe=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Kme,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(nm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gw,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Kw,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gw," .").concat(Gw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kw," .").concat(Kw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nm,`] {
    `).concat(Yme,": ").concat(l,`px;
  }
`)},a5=function(){var e=parseInt(document.body.getAttribute(nm)||"0",10);return isFinite(e)?e:0},mpe=function(){_.useEffect(function(){return document.body.setAttribute(nm,(a5()+1).toString()),function(){var e=a5()-1;e<=0?document.body.removeAttribute(nm):document.body.setAttribute(nm,e.toString())}},[])},ppe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;mpe();var i=_.useMemo(function(){return dpe(s)},[s]);return _.createElement(fpe,{styles:hpe(i,!t,s,r?"":"!important")})},jA=!1;if(typeof window<"u")try{var ow=Object.defineProperty({},"passive",{get:function(){return jA=!0,!0}});window.addEventListener("test",ow,ow),window.removeEventListener("test",ow,ow)}catch{jA=!1}var fh=jA?{passive:!1}:!1,gpe=function(e){return e.tagName==="TEXTAREA"},hG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!gpe(e)&&r[t]==="visible")},xpe=function(e){return hG(e,"overflowY")},vpe=function(e){return hG(e,"overflowX")},i5=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=mG(e,n);if(s){var i=pG(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ype=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wpe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},mG=function(e,t){return e==="v"?xpe(t):vpe(t)},pG=function(e,t){return e==="v"?ype(t):wpe(t)},bpe=function(e,t){return e==="h"&&t==="rtl"?-1:1},_pe=function(e,t,r,n,s){var i=bpe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var g=pG(e,l),y=g[0],x=g[1],v=g[2],j=x-v-i*y;(y||j)&&mG(e,l)&&(f+=j,m+=y);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},lw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},o5=function(e){return[e.deltaX,e.deltaY]},l5=function(e){return e&&"current"in e?e.current:e},jpe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Spe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Npe=0,hh=[];function kpe(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),s=_.useState(Npe++)[0],i=_.useState(fG)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=Gme([e.lockRef.current],(e.shards||[]).map(l5),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var j=lw(x),S=r.current,w="deltaX"in x?x.deltaX:S[0]-j[0],T="deltaY"in x?x.deltaY:S[1]-j[1],E,N=x.target,k=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in x&&k==="h"&&N.type==="range")return!1;var R=i5(k,N);if(!R)return!0;if(R?E=k:(E=k==="v"?"h":"v",R=i5(k,N)),!R)return!1;if(!n.current&&"changedTouches"in x&&(w||T)&&(n.current=E),!E)return!0;var A=n.current||E;return _pe(A,v,x,A==="h"?w:T)},[]),c=_.useCallback(function(x){var v=x;if(!(!hh.length||hh[hh.length-1]!==i)){var j="deltaY"in v?o5(v):lw(v),S=t.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&jpe(E.delta,j)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var w=(o.current.shards||[]).map(l5).filter(Boolean).filter(function(E){return E.contains(v.target)}),T=w.length>0?l(v,w[0]):!o.current.noIsolation;T&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(x,v,j,S){var w={name:x,delta:v,target:j,should:S,shadowParent:Epe(j)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(T){return T!==w})},1)},[]),d=_.useCallback(function(x){r.current=lw(x),n.current=void 0},[]),f=_.useCallback(function(x){u(x.type,o5(x),x.target,l(x,e.lockRef.current))},[]),m=_.useCallback(function(x){u(x.type,lw(x),x.target,l(x,e.lockRef.current))},[]);_.useEffect(function(){return hh.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,fh),document.addEventListener("touchmove",c,fh),document.addEventListener("touchstart",d,fh),function(){hh=hh.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,fh),document.removeEventListener("touchmove",c,fh),document.removeEventListener("touchstart",d,fh)}},[]);var g=e.removeScrollBar,y=e.inert;return _.createElement(_.Fragment,null,y?_.createElement(i,{styles:Spe(s)}):null,g?_.createElement(ppe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Epe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cpe=rpe(dG,kpe);var ov=_.forwardRef(function(e,t){return _.createElement(w_,al({},e,{ref:t,sideCar:Cpe}))});ov.classNames=w_.classNames;var SA=["Enter"," "],Tpe=["ArrowDown","PageUp","Home"],gG=["ArrowUp","PageDown","End"],Ape=[...Tpe,...gG],Ppe={ltr:[...SA,"ArrowRight"],rtl:[...SA,"ArrowLeft"]},Ope={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lv="Menu",[Tg,Rpe,Dpe]=Qx(lv),[Nf,xG]=Yn(lv,[Dpe,Lu,dp]),b_=Lu(),vG=dp(),[Ipe,kf]=Nf(lv),[Mpe,cv]=Nf(lv),yG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=b_(t),[c,u]=_.useState(null),d=_.useRef(!1),f=An(i),m=Sf(s);return _.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(o_,{...l,children:a.jsx(Ipe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(Mpe,{scope:t,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};yG.displayName=lv;var Fpe="MenuAnchor",F4=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=b_(r);return a.jsx(rv,{...s,...n,ref:t})});F4.displayName=Fpe;var L4="MenuPortal",[Lpe,wG]=Nf(L4,{forceMount:void 0}),bG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=kf(L4,t);return a.jsx(Lpe,{scope:t,forceMount:r,children:a.jsx(us,{present:r||i.open,children:a.jsx(sp,{asChild:!0,container:s,children:n})})})};bG.displayName=L4;var io="MenuContent",[$pe,$4]=Nf(io),_G=_.forwardRef((e,t)=>{const r=wG(io,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=kf(io,e.__scopeMenu),o=cv(io,e.__scopeMenu);return a.jsx(Tg.Provider,{scope:e.__scopeMenu,children:a.jsx(us,{present:n||i.open,children:a.jsx(Tg.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Bpe,{...s,ref:t}):a.jsx(Upe,{...s,ref:t})})})})}),Bpe=_.forwardRef((e,t)=>{const r=kf(io,e.__scopeMenu),n=_.useRef(null),s=It(t,n);return _.useEffect(()=>{const i=n.current;if(i)return y_(i)},[]),a.jsx(B4,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Qe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Upe=_.forwardRef((e,t)=>{const r=kf(io,e.__scopeMenu);return a.jsx(B4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Vpe=wu("MenuContent.ScrollLock"),B4=_.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:y,...x}=e,v=kf(io,r),j=cv(io,r),S=b_(r),w=vG(r),T=Rpe(r),[E,N]=_.useState(null),k=_.useRef(null),R=It(t,k,v.onContentChange),A=_.useRef(0),I=_.useRef(""),P=_.useRef(0),D=_.useRef(null),B=_.useRef("right"),U=_.useRef(0),H=y?ov:_.Fragment,M=y?{as:Vpe,allowPinchZoom:!0}:void 0,W=V=>{const z=I.current+V,G=T().filter(ce=>!ce.disabled),F=document.activeElement,X=G.find(ce=>ce.ref.current===F)?.textValue,Z=G.map(ce=>ce.textValue),re=e0e(Z,z,X),ee=G.find(ce=>ce.textValue===re)?.ref.current;(function ce(pe){I.current=pe,window.clearTimeout(A.current),pe!==""&&(A.current=window.setTimeout(()=>ce(""),1e3))})(z),ee&&setTimeout(()=>ee.focus())};_.useEffect(()=>()=>window.clearTimeout(A.current),[]),v_();const K=_.useCallback(V=>B.current===D.current?.side&&r0e(V,D.current?.area),[]);return a.jsx($pe,{scope:r,searchRef:I,onItemEnter:_.useCallback(V=>{K(V)&&V.preventDefault()},[K]),onItemLeave:_.useCallback(V=>{K(V)||(k.current?.focus(),N(null))},[K]),onTriggerLeave:_.useCallback(V=>{K(V)&&V.preventDefault()},[K]),pointerGraceTimerRef:P,onPointerGraceIntentChange:_.useCallback(V=>{D.current=V},[]),children:a.jsx(H,{...M,children:a.jsx(av,{asChild:!0,trapped:s,onMountAutoFocus:Qe(i,V=>{V.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(_f,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:a.jsx(I4,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:N,onEntryFocus:Qe(c,V=>{j.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(l_,{role:"menu","aria-orientation":"vertical","data-state":LG(v.open),"data-radix-menu-content":"",dir:j.dir,...S,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:Qe(x.onKeyDown,V=>{const G=V.target.closest("[data-radix-menu-content]")===V.currentTarget,F=V.ctrlKey||V.altKey||V.metaKey,X=V.key.length===1;G&&(V.key==="Tab"&&V.preventDefault(),!F&&X&&W(V.key));const Z=k.current;if(V.target!==Z||!Ape.includes(V.key))return;V.preventDefault();const ee=T().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);gG.includes(V.key)&&ee.reverse(),Qpe(ee)}),onBlur:Qe(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),I.current="")}),onPointerMove:Qe(e.onPointerMove,Ag(V=>{const z=V.target,G=U.current!==V.clientX;if(V.currentTarget.contains(z)&&G){const F=V.clientX>U.current?"right":"left";B.current=F,U.current=V.clientX}}))})})})})})})});_G.displayName=io;var zpe="MenuGroup",U4=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(xt.div,{role:"group",...n,ref:t})});U4.displayName=zpe;var Wpe="MenuLabel",jG=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(xt.div,{...n,ref:t})});jG.displayName=Wpe;var fb="MenuItem",c5="menu.itemSelect",__=_.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=_.useRef(null),o=cv(fb,e.__scopeMenu),l=$4(fb,e.__scopeMenu),c=It(t,i),u=_.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(c5,{bubbles:!0,cancelable:!0});f.addEventListener(c5,g=>n?.(g),{once:!0}),s4(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(SG,{...s,ref:c,disabled:r,onClick:Qe(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:Qe(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:Qe(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||SA.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});__.displayName=fb;var SG=_.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=$4(fb,r),l=vG(r),c=_.useRef(null),u=It(t,c),[d,f]=_.useState(!1),[m,g]=_.useState("");return _.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[i.children]),a.jsx(Tg.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:a.jsx(M4,{asChild:!0,...l,focusable:!n,children:a.jsx(xt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Qe(e.onPointerMove,Ag(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(e.onPointerLeave,Ag(y=>o.onItemLeave(y))),onFocus:Qe(e.onFocus,()=>f(!0)),onBlur:Qe(e.onBlur,()=>f(!1))})})})}),qpe="MenuCheckboxItem",NG=_.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(AG,{scope:e.__scopeMenu,checked:r,children:a.jsx(__,{role:"menuitemcheckbox","aria-checked":hb(r)?"mixed":r,...s,ref:t,"data-state":z4(r),onSelect:Qe(s.onSelect,()=>n?.(hb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});NG.displayName=qpe;var kG="MenuRadioGroup",[Hpe,Gpe]=Nf(kG,{value:void 0,onValueChange:()=>{}}),EG=_.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=An(n);return a.jsx(Hpe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(U4,{...s,ref:t})})});EG.displayName=kG;var CG="MenuRadioItem",TG=_.forwardRef((e,t)=>{const{value:r,...n}=e,s=Gpe(CG,e.__scopeMenu),i=r===s.value;return a.jsx(AG,{scope:e.__scopeMenu,checked:i,children:a.jsx(__,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":z4(i),onSelect:Qe(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});TG.displayName=CG;var V4="MenuItemIndicator",[AG,Kpe]=Nf(V4,{checked:!1}),PG=_.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Kpe(V4,r);return a.jsx(us,{present:n||hb(i.checked)||i.checked===!0,children:a.jsx(xt.span,{...s,ref:t,"data-state":z4(i.checked)})})});PG.displayName=V4;var Ype="MenuSeparator",OG=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(xt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});OG.displayName=Ype;var Xpe="MenuArrow",RG=_.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=b_(r);return a.jsx(c_,{...s,...n,ref:t})});RG.displayName=Xpe;var Zpe="MenuSub",[PXe,DG]=Nf(Zpe),I0="MenuSubTrigger",IG=_.forwardRef((e,t)=>{const r=kf(I0,e.__scopeMenu),n=cv(I0,e.__scopeMenu),s=DG(I0,e.__scopeMenu),i=$4(I0,e.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(F4,{asChild:!0,...u,children:a.jsx(SG,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":LG(r.open),...e,ref:t_(t,s.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Qe(e.onPointerMove,Ag(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Qe(e.onPointerLeave,Ag(f=>{d();const m=r.content?.getBoundingClientRect();if(m){const g=r.content?.dataset.side,y=g==="right",x=y?-5:5,v=m[y?"left":"right"],j=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Ppe[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});IG.displayName=I0;var MG="MenuSubContent",FG=_.forwardRef((e,t)=>{const r=wG(io,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=kf(io,e.__scopeMenu),o=cv(io,e.__scopeMenu),l=DG(MG,e.__scopeMenu),c=_.useRef(null),u=It(t,c);return a.jsx(Tg.Provider,{scope:e.__scopeMenu,children:a.jsx(us,{present:n||i.open,children:a.jsx(Tg.Slot,{scope:e.__scopeMenu,children:a.jsx(B4,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Qe(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Qe(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Qe(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=Ope[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});FG.displayName=MG;function LG(e){return e?"open":"closed"}function hb(e){return e==="indeterminate"}function z4(e){return hb(e)?"indeterminate":e?"checked":"unchecked"}function Qpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Jpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function e0e(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Jpe(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function t0e(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>n!=m>n&&r<(f-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function r0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return t0e(r,t)}function Ag(e){return t=>t.pointerType==="mouse"?e(t):void 0}var n0e=yG,s0e=F4,a0e=bG,i0e=_G,o0e=U4,l0e=jG,c0e=__,u0e=NG,d0e=EG,f0e=TG,h0e=PG,m0e=OG,p0e=RG,g0e=IG,x0e=FG,j_="DropdownMenu",[v0e]=Yn(j_,[xG]),La=xG(),[y0e,$G]=v0e(j_),BG=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=La(t),u=_.useRef(null),[d,f]=ei({prop:s,defaultProp:i??!1,onChange:o,caller:j_});return a.jsx(y0e,{scope:t,triggerId:_i(),triggerRef:u,contentId:_i(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(n0e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};BG.displayName=j_;var UG="DropdownMenuTrigger",VG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=$G(UG,r),o=La(r);return a.jsx(s0e,{asChild:!0,...o,children:a.jsx(xt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:t_(t,i.triggerRef),onPointerDown:Qe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Qe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});VG.displayName=UG;var w0e="DropdownMenuPortal",zG=e=>{const{__scopeDropdownMenu:t,...r}=e,n=La(t);return a.jsx(a0e,{...n,...r})};zG.displayName=w0e;var WG="DropdownMenuContent",qG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=$G(WG,r),i=La(r),o=_.useRef(!1);return a.jsx(i0e,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Qe(e.onCloseAutoFocus,l=>{o.current||s.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Qe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qG.displayName=WG;var b0e="DropdownMenuGroup",_0e=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(o0e,{...s,...n,ref:t})});_0e.displayName=b0e;var j0e="DropdownMenuLabel",HG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(l0e,{...s,...n,ref:t})});HG.displayName=j0e;var S0e="DropdownMenuItem",GG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(c0e,{...s,...n,ref:t})});GG.displayName=S0e;var N0e="DropdownMenuCheckboxItem",KG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(u0e,{...s,...n,ref:t})});KG.displayName=N0e;var k0e="DropdownMenuRadioGroup",E0e=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(d0e,{...s,...n,ref:t})});E0e.displayName=k0e;var C0e="DropdownMenuRadioItem",YG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(f0e,{...s,...n,ref:t})});YG.displayName=C0e;var T0e="DropdownMenuItemIndicator",XG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(h0e,{...s,...n,ref:t})});XG.displayName=T0e;var A0e="DropdownMenuSeparator",ZG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(m0e,{...s,...n,ref:t})});ZG.displayName=A0e;var P0e="DropdownMenuArrow",O0e=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(p0e,{...s,...n,ref:t})});O0e.displayName=P0e;var R0e="DropdownMenuSubTrigger",QG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(g0e,{...s,...n,ref:t})});QG.displayName=R0e;var D0e="DropdownMenuSubContent",JG=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=La(r);return a.jsx(x0e,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JG.displayName=D0e;var I0e=BG,M0e=VG,F0e=zG,eK=qG,tK=HG,rK=GG,nK=KG,sK=YG,aK=XG,iK=ZG,oK=QG,lK=JG;const Sl=I0e,Nl=M0e,L0e=_.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(oK,{ref:s,className:Je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(bu,{className:"ml-auto h-4 w-4"})]}));L0e.displayName=oK.displayName;const $0e=_.forwardRef(({className:e,...t},r)=>a.jsx(lK,{ref:r,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$0e.displayName=lK.displayName;const Ho=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(F0e,{children:a.jsx(eK,{ref:n,sideOffset:t,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ho.displayName=eK.displayName;const Mr=_.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(rK,{ref:n,className:Je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Mr.displayName=rK.displayName;const B0e=_.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(nK,{ref:s,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(aK,{children:a.jsx(Gr,{className:"h-4 w-4"})})}),t]}));B0e.displayName=nK.displayName;const U0e=_.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(sK,{ref:n,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(aK,{children:a.jsx(Eq,{className:"h-2 w-2 fill-current"})})}),t]}));U0e.displayName=sK.displayName;const V0e=_.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(tK,{ref:n,className:Je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));V0e.displayName=tK.displayName;const Bu=_.forwardRef(({className:e,...t},r)=>a.jsx(iK,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));Bu.displayName=iK.displayName;function ta(){const{setTheme:e}=Gq();return a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"outline",size:"icon",className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:[a.jsx(uL,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(oL,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(Ho,{align:"end",children:[a.jsxs(Mr,{onClick:()=>e("light"),children:[a.jsx(uL,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Light"})]}),a.jsxs(Mr,{onClick:()=>e("dark"),children:[a.jsx(oL,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Dark"})]}),a.jsxs(Mr,{onClick:()=>e("system"),children:[a.jsx("span",{className:"mr-2 h-4 w-4",children:""}),a.jsx("span",{children:"System"})]})]})]})}var S_="Dialog",[cK,uK]=Yn(S_),[z0e,Go]=cK(S_),dK=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=ei({prop:n,defaultProp:s??!1,onChange:i,caller:S_});return a.jsx(z0e,{scope:t,triggerRef:l,contentRef:c,contentId:_i(),titleId:_i(),descriptionId:_i(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};dK.displayName=S_;var fK="DialogTrigger",hK=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Go(fK,r),i=It(t,s.triggerRef);return a.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":H4(s.open),...n,ref:i,onClick:Qe(e.onClick,s.onOpenToggle)})});hK.displayName=fK;var W4="DialogPortal",[W0e,mK]=cK(W4,{forceMount:void 0}),pK=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Go(W4,t);return a.jsx(W0e,{scope:t,forceMount:r,children:_.Children.map(n,o=>a.jsx(us,{present:r||i.open,children:a.jsx(sp,{asChild:!0,container:s,children:o})}))})};pK.displayName=W4;var mb="DialogOverlay",gK=_.forwardRef((e,t)=>{const r=mK(mb,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Go(mb,e.__scopeDialog);return i.modal?a.jsx(us,{present:n||i.open,children:a.jsx(H0e,{...s,ref:t})}):null});gK.displayName=mb;var q0e=wu("DialogOverlay.RemoveScroll"),H0e=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Go(mb,r);return a.jsx(ov,{as:q0e,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(xt.div,{"data-state":H4(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jd="DialogContent",xK=_.forwardRef((e,t)=>{const r=mK(Jd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Go(Jd,e.__scopeDialog);return a.jsx(us,{present:n||i.open,children:i.modal?a.jsx(G0e,{...s,ref:t}):a.jsx(K0e,{...s,ref:t})})});xK.displayName=Jd;var G0e=_.forwardRef((e,t)=>{const r=Go(Jd,e.__scopeDialog),n=_.useRef(null),s=It(t,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return y_(i)},[]),a.jsx(vK,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,i=>i.preventDefault())})}),K0e=_.forwardRef((e,t)=>{const r=Go(Jd,e.__scopeDialog),n=_.useRef(!1),s=_.useRef(!1);return a.jsx(vK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vK=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Go(Jd,r),c=_.useRef(null),u=It(t,c);return v_(),a.jsxs(a.Fragment,{children:[a.jsx(av,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(_f,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":H4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(X0e,{titleId:l.titleId}),a.jsx(Q0e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),q4="DialogTitle",yK=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Go(q4,r);return a.jsx(xt.h2,{id:s.titleId,...n,ref:t})});yK.displayName=q4;var wK="DialogDescription",bK=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Go(wK,r);return a.jsx(xt.p,{id:s.descriptionId,...n,ref:t})});bK.displayName=wK;var _K="DialogClose",jK=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Go(_K,r);return a.jsx(xt.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>s.onOpenChange(!1))})});jK.displayName=_K;function H4(e){return e?"open":"closed"}var SK="DialogTitleWarning",[Y0e,NK]=Yoe(SK,{contentName:Jd,titleName:q4,docsSlug:"dialog"}),X0e=({titleId:e})=>{const t=NK(SK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Z0e="DialogDescriptionWarning",Q0e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NK(Z0e).contentName}}.`;return _.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},G4=dK,kK=hK,K4=pK,uv=gK,dv=xK,fv=yK,hv=bK,N_=jK;const J0e=G4,ege=kK,tge=K4,EK=_.forwardRef(({className:e,...t},r)=>a.jsx(uv,{className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));EK.displayName=uv.displayName;const rge=ap("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),CK=_.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(tge,{children:[a.jsx(EK,{}),a.jsxs(dv,{ref:s,className:Je(rge({side:e}),t),...n,children:[r,a.jsxs(N_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(ri,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));CK.displayName=dv.displayName;const TK=({className:e,...t})=>a.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",e),...t});TK.displayName="SheetHeader";const AK=_.forwardRef(({className:e,...t},r)=>a.jsx(fv,{ref:r,className:Je("text-lg font-semibold text-foreground",e),...t}));AK.displayName=fv.displayName;const nge=_.forwardRef(({className:e,...t},r)=>a.jsx(hv,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));nge.displayName=hv.displayName;const sge=()=>{const[e,t]=_.useState(!1),r=[{icon:sce,title:"Lightning Fast Setup",description:"Launch your premium store in under 5 minutes. No technical expertise needed.",gradient:"from-amber-500 to-orange-500"},{icon:ya,title:"Smart Inventory",description:"Manage your product catalog efficiently with our intuitive interface.",gradient:"from-emerald-500 to-teal-500"},{icon:tce,title:"WhatsApp Integration",description:"Connect with customers on their preferred messaging platform.",gradient:"from-green-500 to-emerald-600"},{icon:vl,title:"Enterprise Security",description:"Bank-level security with 99.9% uptime guarantee for peace of mind.",gradient:"from-blue-500 to-indigo-500"},{icon:c4,title:"Advanced Analytics",description:"Make data-driven decisions with real-time insights and reports.",gradient:"from-purple-500 to-pink-500"},{icon:Rh,title:"Premium Experience",description:"Deliver a luxurious shopping experience that converts visitors to customers.",gradient:"from-yellow-500 to-amber-500"}],n=[{number:"01",title:"Sign Up",description:"Create your account in seconds with Google"},{number:"02",title:"Add Products",description:"Build your product catalog easily"},{number:"03",title:"Customize",description:"Brand your store with colors and logo"},{number:"04",title:"Go Live",description:"Share your store link and start selling"}],s={"@context":"https://schema.org","@type":"SoftwareApplication",name:"DigitalDukandar",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"INR",description:"Free 14-day trial, no credit card required"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"10000",bestRating:"5",worstRating:"1"},description:"Create your online store in minutes. Launch a professional e-commerce website with custom subdomain, WhatsApp integration, and powerful analytics. No coding required.",url:"https://digitaldukandar.in",image:"https://digitaldukandar.in/logo.png",provider:{"@type":"Organization",name:"DigitalDukandar",url:"https://digitaldukandar.in"}};return a.jsxs("div",{className:"min-h-screen bg-background font-inter",children:[a.jsxs(D4,{children:[a.jsx("title",{children:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),a.jsx("meta",{name:"title",content:"DigitalDukandar - Create Your Online Store in Minutes | Free E-commerce Platform India"}),a.jsx("meta",{name:"description",content:"Launch your professional online store in 5 minutes. Get free subdomain, WhatsApp integration, inventory management & analytics. No coding needed. Trusted by 10,000+ Indian entrepreneurs. Start free trial!"}),a.jsx("meta",{name:"keywords",content:"online store builder India, create online store, e-commerce platform India, free online store, sell online India, WhatsApp store, digital store maker, small business e-commerce, Indian online shopping platform, store builder no coding"}),a.jsx("link",{rel:"canonical",href:"https://digitaldukandar.in"}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in"}),a.jsx("meta",{property:"og:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),a.jsx("meta",{property:"og:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),a.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),a.jsx("meta",{property:"og:site_name",content:"DigitalDukandar"}),a.jsx("meta",{property:"og:locale",content:"en_IN"}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:url",content:"https://digitaldukandar.in"}),a.jsx("meta",{name:"twitter:title",content:"DigitalDukandar - Create Your Online Store in Minutes"}),a.jsx("meta",{name:"twitter:description",content:"Launch your professional online store in 5 minutes. No coding required. Trusted by 10,000+ entrepreneurs."}),a.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),a.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),a.jsx("meta",{name:"googlebot",content:"index, follow"}),a.jsx("meta",{name:"language",content:"English"}),a.jsx("meta",{name:"geo.region",content:"IN"}),a.jsx("meta",{name:"geo.placename",content:"India"}),a.jsx("link",{rel:"sitemap",type:"application/xml",href:"/sitemap.xml"}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(s)})]}),a.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:a.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-8 h-16 sm:h-20 flex items-center justify-between gap-2",children:[a.jsxs(pt,{to:"/",className:"flex items-center gap-3 sm:gap-4 group flex-shrink-0","aria-label":"DigitalDukandar Home",children:[a.jsx("img",{src:"/logo.png",alt:"DigitalDukandar Logo",className:"h-12 sm:h-14 md:h-16 w-auto object-contain transition-transform group-hover:scale-105"}),a.jsx("span",{className:"font-playfair font-bold text-2xl sm:text-3xl md:text-4xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),a.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[a.jsx("a",{href:"#features",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),a.jsx(pt,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"}),a.jsx("a",{href:"#helper-program",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"For Helpers"}),a.jsx(pt,{to:"/demo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Demo Store"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[a.jsx(ta,{}),a.jsxs(J0e,{open:e,onOpenChange:t,children:[a.jsx(ege,{asChild:!0,children:a.jsx(le,{variant:"ghost",size:"icon",className:"md:hidden h-11 w-11 min-h-[44px]","aria-label":"Open menu","aria-expanded":e,children:a.jsx(u4,{className:"h-5 w-5"})})}),a.jsxs(CK,{side:"right",className:"w-[300px] sm:w-[400px]",children:[a.jsx(TK,{children:a.jsxs(AK,{className:"flex items-center gap-2",children:[a.jsx(Rh,{className:"w-5 h-5 text-primary"}),"Menu"]})}),a.jsxs("nav",{className:"flex flex-col gap-4 mt-8","aria-label":"Mobile navigation",children:[a.jsx("a",{href:"#features",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Features"}),a.jsx("a",{href:"#how-it-works",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"How It Works"}),a.jsx(pt,{to:"/pricing",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Pricing"}),a.jsx("a",{href:"#helper-program",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"For Helpers"}),a.jsx(pt,{to:"/demo",className:"text-lg font-medium text-foreground hover:text-primary transition-colors py-3 border-b",onClick:()=>t(!1),children:"Demo Store"}),a.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[a.jsx(pt,{to:"/auth",className:"w-full",children:a.jsx(le,{variant:"outline",size:"lg",className:"w-full h-12 min-h-[48px]",children:"Login"})}),a.jsx(pt,{to:"/auth",className:"w-full",children:a.jsxs(le,{size:"lg",className:"w-full h-12 min-h-[48px]",children:["Get Started Free",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),a.jsx(pt,{to:"/auth",className:"hidden md:inline-block",children:a.jsx(le,{variant:"ghost",size:"sm",className:"font-medium h-11 px-4 text-sm min-h-[44px]",children:"Login"})}),a.jsx(pt,{to:"/auth",className:"hidden md:inline-block",children:a.jsxs(le,{size:"sm",className:"shadow-lg hover:shadow-xl transition-all font-medium h-11 px-4 text-sm min-h-[44px]",children:["Get Started Free",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]})]})}),a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-b from-background via-primary/[0.02] to-background",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20"}),a.jsx("div",{className:"container relative mx-auto px-4 lg:px-8 py-24 lg:py-36",children:a.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20 text-primary px-5 py-2.5 rounded-full text-sm font-semibold mb-8 shadow-lg backdrop-blur-sm animate-in fade-in slide-in-from-bottom-3 duration-700",children:[a.jsx(Rq,{className:"w-4 h-4 fill-primary"}),"Trusted by 10,000+ Entrepreneurs Worldwide",a.jsx(zw,{className:"w-4 h-4"})]}),a.jsxs("h1",{className:"font-playfair text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-foreground mb-6 leading-[1.1] animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:["Free Online Store India",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary via-primary to-primary/70 bg-clip-text text-transparent inline-block mt-2",children:"Launch in 5 Minutes"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed font-light animate-in fade-in slide-in-from-bottom-5 duration-700 delay-200",children:"Create your professional online store builder for small business India. Sell online with WhatsApp integration, custom domain, and powerful inventory management. No coding required - start your free e-commerce platform today!"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center animate-in fade-in slide-in-from-bottom-6 duration-700 delay-300 mb-12",children:[a.jsx(pt,{to:"/auth",className:"w-full sm:w-auto",children:a.jsxs(le,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl hover:shadow-primary/25 transition-all group font-semibold",children:[a.jsx(Rh,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Start Building Free"]})}),a.jsx(pt,{to:"/demo",className:"w-full sm:w-auto",children:a.jsxs(le,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[a.jsx(Kd,{className:"w-5 h-5 mr-2"}),"Explore Demo Store",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]}),a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 text-sm font-medium animate-in fade-in duration-700 delay-500",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx(Gr,{className:"w-3 h-3 text-primary"})}),a.jsx("span",{children:"No credit card required"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx(Gr,{className:"w-3 h-3 text-primary"})}),a.jsx("span",{children:"Setup in 5 minutes"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx(Gr,{className:"w-3 h-3 text-primary"})}),a.jsx("span",{children:"Cancel anytime"})]})]}),a.jsxs("div",{className:"mt-16 flex justify-center items-center gap-3 text-sm text-muted-foreground animate-in fade-in duration-700 delay-700",children:[a.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4,5].map(i=>a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-background flex items-center justify-center",children:a.jsx(Kle,{className:"w-4 h-4 text-primary"})},i))}),a.jsx("span",{className:"font-medium",children:"Join thousands of successful store owners"})]})]})})]}),a.jsx("section",{id:"features",className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Premium Features"})}),a.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Everything You Need to Succeed"}),a.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Powerful features designed to help you launch, manage, and grow your online business with elegance and ease."})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((i,o)=>a.jsxs(we,{className:"relative p-8 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${i.gradient} rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300`,children:a.jsx(i.icon,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:i.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.description})]})]},o))})]})}),a.jsx("section",{id:"how-it-works",className:"relative bg-gradient-to-b from-muted/30 via-muted/20 to-background py-24 lg:py-32",children:a.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Simple Process"})}),a.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"How It Works"}),a.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Launch your luxury online store in four elegant steps"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6",children:n.map((i,o)=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"text-center group",children:[a.jsxs("div",{className:"relative inline-block mb-6",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-3xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),a.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary via-primary to-primary/80 border-2 border-primary/30 rounded-3xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300",children:a.jsx("span",{className:"font-playfair font-bold text-3xl text-primary-foreground",children:i.number})})]}),a.jsx("h3",{className:"font-playfair font-bold text-2xl mb-3 text-foreground",children:i.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.description})]}),o<n.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-10 left-[60%] w-[80%] h-0.5 bg-gradient-to-r from-primary/40 via-primary/20 to-transparent"})]},o))})]})})}),a.jsxs("section",{id:"helper-program",className:"relative bg-gradient-to-b from-background via-green-500/5 to-background py-24 lg:py-32 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-green-500/10 via-transparent to-transparent pointer-events-none"}),a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-green-500/10 rounded-full blur-3xl opacity-20"}),a.jsx("div",{className:"container relative mx-auto px-4 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Helper Program"})}),a.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Earn While Helping Others Succeed"}),a.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Join our helper program and earn generous commissions by helping store owners build their online businesses"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[a.jsxs(we,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500 to-emerald-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:a.jsx(Ds,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Earn Commission"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Get 10% direct commission + 5% network commission on every successful store signup"})]})]}),a.jsxs(we,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:a.jsx(ti,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Build Your Network"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Recruit other helpers and earn from their referrals too. Create passive income streams"})]})]}),a.jsxs(we,{className:"p-8 text-center hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border-0 bg-gradient-to-br from-card to-card/50 backdrop-blur group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-0 group-hover:opacity-5 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-2xl group-hover:scale-110 transition-all duration-300 mx-auto",children:a.jsx(rce,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-playfair font-bold text-xl mb-3 text-foreground",children:"Flexible Work"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Work on your own schedule. Help businesses online from anywhere in the world"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[a.jsx(pt,{to:"/become-helper",className:"w-full sm:w-auto",children:a.jsxs(le,{size:"lg",className:"w-full sm:w-auto h-14 px-10 text-base shadow-2xl bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 transition-all group font-semibold",children:[a.jsx(Mq,{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform"}),"Apply to Become a Helper"]})}),a.jsx(pt,{to:"/application-status",className:"w-full sm:w-auto",children:a.jsxs(le,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 px-10 text-base border-2 hover:bg-muted/50 font-semibold",children:[a.jsx(vl,{className:"w-5 h-5 mr-2"}),"Check Application Status"]})})]}),a.jsx("div",{className:"mt-12 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already a helper? ",a.jsx(pt,{to:"/helper/login",className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]})})]}),a.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32 bg-muted/20",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"font-playfair text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Why DigitalDukandar is the Best Free Online Store Builder in India"}),a.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Trusted by over 10,000+ small businesses across India to sell online and grow their digital presence"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[a.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[a.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Built for Indian Entrepreneurs"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",a.jsx("strong",{children:"e-commerce platform India"})," is designed specifically for local businesses. Accept payments in INR, integrate WhatsApp for customer communication, and reach customers across India with our ",a.jsx("strong",{children:"online store builder"})," made for the Indian market."]})]}),a.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[a.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" Completely Free to Start"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Start your ",a.jsx("strong",{children:"free online store"})," with our 14-day trial - no credit card required. Our ",a.jsx("strong",{children:"affordable pricing plans"})," start from just 299/month, making it the most cost-effective way to ",a.jsx("strong",{children:"sell online India"})," for small businesses."]})]}),a.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[a.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" WhatsApp Store Integration"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Convert your business into a ",a.jsx("strong",{children:"WhatsApp store"})," instantly. Accept orders directly through WhatsApp - India's most popular messaging app. Perfect for ",a.jsx("strong",{children:"small business e-commerce"})," owners who want to meet customers where they are."]})]}),a.jsxs("div",{className:"bg-background p-8 rounded-2xl border border-border/50 shadow-lg",children:[a.jsx("h3",{className:"font-playfair text-2xl font-bold mb-4 text-foreground",children:" No Coding Required"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Our ",a.jsx("strong",{children:"digital store maker"})," requires zero technical knowledge. Create a professional ",a.jsx("strong",{children:"online shopping website"})," in minutes with our easy drag-and-drop interface. Perfect for ",a.jsx("strong",{children:"store builder no coding"})," solutions in India."]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-10 rounded-2xl border border-primary/20 text-center",children:[a.jsx("h3",{className:"font-playfair text-3xl font-bold mb-4 text-foreground",children:"Start Your Free Online Store in India Today"}),a.jsxs("p",{className:"text-lg text-muted-foreground mb-6 max-w-2xl mx-auto",children:["Join 10,000+ successful Indian entrepreneurs using DigitalDukandar as their ",a.jsx("strong",{children:"e-commerce platform India"}),". Create your ",a.jsx("strong",{children:"online store builder for small business India"})," in just 5 minutes."]}),a.jsx(pt,{to:"/auth",children:a.jsxs(le,{size:"lg",className:"h-14 px-10 text-base font-semibold shadow-xl",children:[a.jsx(Rh,{className:"w-5 h-5 mr-2"}),"Create Free Online Store Now",a.jsx(Rs,{className:"w-5 h-5 ml-2"})]})})]})]})}),a.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24 lg:py-32",children:a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs(we,{className:"relative overflow-hidden border-0 shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary to-primary/90"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),a.jsxs("div",{className:"relative p-10 lg:p-20 text-center text-primary-foreground",children:[a.jsx("div",{className:"mb-6",children:a.jsx(Lo,{className:"w-16 h-16 mx-auto text-primary-foreground/90"})}),a.jsx("h2",{className:"font-playfair text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Ready to Launch Your Store?"}),a.jsx("p",{className:"text-xl md:text-2xl mb-10 opacity-95 max-w-3xl mx-auto leading-relaxed font-light",children:"Join thousands of successful entrepreneurs. Create your professional online store today and start selling in minutes."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center mb-8",children:[a.jsx(pt,{to:"/auth",className:"w-full sm:w-auto",children:a.jsxs(le,{size:"lg",variant:"secondary",className:"w-full sm:w-auto h-14 shadow-2xl hover:shadow-primary-foreground/20 text-base px-10 font-semibold",children:[a.jsx(Rh,{className:"w-5 h-5 mr-2"}),"Start Building Free",a.jsx(Rs,{className:"w-5 h-5 ml-2"})]})}),a.jsx(pt,{to:"/demo",className:"w-full sm:w-auto",children:a.jsxs(le,{size:"lg",variant:"outline",className:"w-full sm:w-auto h-14 bg-white/10 hover:bg-white/20 border-2 border-white/30 text-white text-base px-10 font-semibold backdrop-blur-sm",children:[a.jsx(Kd,{className:"w-5 h-5 mr-2"}),"View Demo Store"]})})]}),a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-sm font-medium opacity-90",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4"}),a.jsx("span",{children:"No credit card required"})]}),a.jsx("span",{children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4"}),a.jsx("span",{children:"Free 14-day trial"})]}),a.jsx("span",{children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4"}),a.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}),a.jsx("footer",{className:"border-t border-border/50 bg-gradient-to-b from-background to-muted/20",children:a.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/logo.png",alt:"DigitalDukandar Logo",className:"h-10 sm:h-12 w-auto object-contain"}),a.jsx("span",{className:"font-playfair font-bold text-xl sm:text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"DigitalDukandar"})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm font-medium text-muted-foreground",children:[a.jsx(pt,{to:"/home",className:"hover:text-foreground transition-colors",children:"Demo Store"}),a.jsx("a",{href:"#features",className:"hover:text-foreground transition-colors",children:"Features"}),a.jsx(pt,{to:"/pricing",className:"hover:text-foreground transition-colors",children:"Pricing"}),a.jsx("a",{href:"#how-it-works",className:"hover:text-foreground transition-colors",children:"How It Works"}),a.jsx("a",{href:"#helper-program",className:"hover:text-foreground transition-colors",children:"For Helpers"}),a.jsx(pt,{to:"/become-helper",className:"hover:text-foreground transition-colors",children:"Apply as Helper"}),a.jsx(pt,{to:"/application-status",className:"hover:text-foreground transition-colors",children:"Check Status"}),a.jsx(pt,{to:"/privacy-policy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"}),a.jsx(pt,{to:"/terms-of-service",className:"hover:text-foreground transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"/sitemap.xml",className:"hover:text-foreground transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Sitemap"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 StoreBuilder. All rights reserved."})]})})})]})},u5=()=>{const e=gc();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},age=ap("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bn=_.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Je(age({variant:t}),e),...r}));bn.displayName="Alert";const Y4=_.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:Je("mb-1 font-medium leading-none tracking-tight",e),...t}));Y4.displayName="AlertTitle";const _n=_.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Je("text-sm [&_p]:leading-relaxed",e),...t}));_n.displayName="AlertDescription";const ige="modulepreload",oge=function(e){return"/"+e},d5={},Ef=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=u(r.map(d=>{if(d=oge(d),d in d5)return;d5[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":ige,f||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((y,x)=>{g.addEventListener("load",y),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},lge=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>fp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class X4 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class f5 extends X4{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class h5 extends X4{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class m5 extends X4{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var NA;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(NA||(NA={}));var cge=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class uge{constructor(t,{headers:r={},customFetch:n,region:s=NA.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=lge(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cge(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(u["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(u["Content-Type"]="application/json",m=JSON.stringify(l)));const g=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m,signal:c}).catch(j=>{throw j.name==="AbortError"?j:new f5(j)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new h5(g);if(!g.ok)throw new m5(g);let x=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield g.json():x==="application/octet-stream"?v=yield g.blob():x==="text/event-stream"?v=g:x==="multipart/form-data"?v=yield g.formData():v=yield g.text(),{data:v,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new f5(i)}:{data:null,error:i,response:i instanceof m5||i instanceof h5?i.context:void 0}}})}}var Cs={},mh={},ph={},gh={},xh={},vh={},dge=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ym=dge();const fge=ym.fetch,PK=ym.fetch.bind(ym),OK=ym.Headers,hge=ym.Request,mge=ym.Response,fp=Object.freeze(Object.defineProperty({__proto__:null,Headers:OK,Request:hge,Response:mge,default:PK,fetch:fge},Symbol.toStringTag,{value:"Module"})),pge=Moe(fp);var cw={},p5;function RK(){if(p5)return cw;p5=1,Object.defineProperty(cw,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return cw.default=e,cw}var g5;function DK(){if(g5)return vh;g5=1;var e=vh&&vh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vh,"__esModule",{value:!0});const t=e(pge),r=e(RK());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m,g;let y=null,x=null,v=null,j=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=N:x=JSON.parse(N))}const T=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),E=(m=u.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");T&&E&&E.length>1&&(v=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(y={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,v=null,j=406,S="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const T=await u.text();try{y=JSON.parse(T),Array.isArray(y)&&u.status===404&&(x=[],y=null,j=200,S="OK")}catch{u.status===404&&T===""?(j=204,S="No Content"):y={message:T}}if(y&&this.isMaybeSingle&&(!((g=y?.details)===null||g===void 0)&&g.includes("0 rows"))&&(y=null,j=200,S="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:x,count:v,status:j,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return vh.default=n,vh}var x5;function IK(){if(x5)return xh;x5=1;var e=xh&&xh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xh,"__esModule",{value:!0});const t=e(DK());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return xh.default=r,xh}var v5;function Z4(){if(v5)return gh;v5=1;var e=gh&&gh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gh,"__esModule",{value:!0});const t=e(IK());class r extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return gh.default=r,gh}var y5;function MK(){if(y5)return ph;y5=1;var e=ph&&ph.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ph,"__esModule",{value:!0});const t=e(Z4());class r{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ph.default=r,ph}var w5;function gge(){if(w5)return mh;w5=1;var e=mh&&mh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(mh,"__esModule",{value:!0});const t=e(MK()),r=e(Z4());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${i}`);let g;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([x,v])=>v!==void 0).map(([x,v])=>[x,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([x,v])=>{m.searchParams.append(x,v)})):(f="POST",g=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:m,headers:y,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return mh.default=n,mh}var b5;function xge(){if(b5)return Cs;b5=1;var e=Cs&&Cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.PostgrestError=Cs.PostgrestBuilder=Cs.PostgrestTransformBuilder=Cs.PostgrestFilterBuilder=Cs.PostgrestQueryBuilder=Cs.PostgrestClient=void 0;const t=e(gge());Cs.PostgrestClient=t.default;const r=e(MK());Cs.PostgrestQueryBuilder=r.default;const n=e(Z4());Cs.PostgrestFilterBuilder=n.default;const s=e(IK());Cs.PostgrestTransformBuilder=s.default;const i=e(DK());Cs.PostgrestBuilder=i.default;const o=e(RK());return Cs.PostgrestError=o.default,Cs.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Cs}var vge=xge();const yge=Sr(vge),{PostgrestClient:wge,PostgrestQueryBuilder:OXe,PostgrestFilterBuilder:RXe,PostgrestTransformBuilder:DXe,PostgrestBuilder:IXe,PostgrestError:MXe}=yge;class bge{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const _ge="2.75.0",jge=`realtime-js/${_ge}`,Sge="1.0.0",kA=1e4,Nge=1e3,kge=100;var Y0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Y0||(Y0={}));var gs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gs||(gs={}));var Po;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Po||(Po={}));var EA;(function(e){e.websocket="websocket"})(EA||(EA={}));var Nd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Nd||(Nd={}));class Ege{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class FK{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var en;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(en||(en={}));const _5=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Cge(o,e,t,s),i),{}):{}},Cge=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s?.type,o=r[e];return i&&!n.includes(i)?LK(i,o):CA(o)},LK=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Oge(t,r)}switch(e){case en.bool:return Tge(t);case en.float4:case en.float8:case en.int2:case en.int4:case en.int8:case en.numeric:case en.oid:return Age(t);case en.json:case en.jsonb:return Pge(t);case en.timestamp:return Rge(t);case en.abstime:case en.date:case en.daterange:case en.int4range:case en.int8range:case en.money:case en.reltime:case en.text:case en.time:case en.timestamptz:case en.timetz:case en.tsrange:case en.tstzrange:return CA(t);default:return CA(t)}},CA=e=>e,Tge=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Age=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Pge=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Oge=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>LK(t,l))}return e},Rge=e=>typeof e=="string"?e.replace(" ","T"):e,$K=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ZN{constructor(t,r,n={},s=kA){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var j5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(j5||(j5={}));class X0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=X0.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=X0.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=X0.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(v=>v.presence_ref),g=f.map(v=>v.presence_ref),y=d.filter(v=>g.indexOf(v.presence_ref)<0),x=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(S5||(S5={}));var Z0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Z0||(Z0={}));var Vl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vl||(Vl={}));class Q4{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ZN(this,Po.join,this.params,this.timeout),this.rejoinTimer=new FK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gs.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Po.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new X0(this),this.broadcastEndpointURL=$K(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gs.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Z0.PRESENCE]&&this.bindings[Z0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t?.(Vl.CHANNEL_ERROR,g)),this._onClose(()=>t?.(Vl.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){t?.(Vl.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(y=x?.length)!==null&&y!==void 0?y:0,j=[];for(let S=0;S<v;S++){const w=x[S],{filter:{event:T,schema:E,table:N,filter:k}}=w,R=g&&g[S];if(R&&R.event===T&&R.schema===E&&R.table===N&&R.filter===k)j.push(Object.assign(Object.assign({},w),{id:R.id}));else{this.unsubscribe(),this.state=gs.errored,t?.(Vl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Vl.SUBSCRIBED);return}}).receive("error",g=>{this.state=gs.errored,t?.(Vl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(Vl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===gs.joined&&t===Z0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Po.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ZN(this,Po.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gs.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ZN(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kge){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Po;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,x,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(x=g.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(g=>g.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,x,v,j,S,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,E=(y=g.filter)===null||y===void 0?void 0:y.event;return T&&((x=r.ids)===null||x===void 0?void 0:x.includes(T))&&(E==="*"||E?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const T=(S=(j=g?.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:x,table:v,commit_timestamp:j,type:S,errors:w}=y;m=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:j,eventType:S,new:{},old:{},errors:w}),this._getPayloadRecords(y))}g.callback(m,n)})}_isClosed(){return this.state===gs.closed}_isJoined(){return this.state===gs.joined}_isJoining(){return this.state===gs.joining}_isLeaving(){return this.state===gs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Q4.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Po.close,{},t)}_onError(t){this._on(Po.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_5(t.columns,t.old_record)),r}}const QN=()=>{},uw={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dge=[1e3,2e3,5e3,1e4],Ige=1e4,Mge=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fge{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kA,this.transport=null,this.heartbeatIntervalMs=uw.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=QN,this.ref=0,this.reconnectTimer=null,this.logger=QN,this.conn=null,this.sendBuffer=[],this.serializer=new Ege,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ef(async()=>{const{default:l}=await Promise.resolve().then(()=>fp);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${EA.websocket}`,this.httpEndpoint=$K(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bge.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sge}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Y0.connecting:return Nd.Connecting;case Y0.open:return Nd.Open;case Y0.closing:return Nd.Closing;default:return Nd.Closed}}isConnected(){return this.connectionState()===Nd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Q4(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Nge,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uw.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Po.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Mge],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:jge};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Po.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new FK(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uw.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:kA,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:uw.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:QN,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(f=>Dge[f-1]||Ige),this.encode=(u=t?.encode)!==null&&u!==void 0?u:((f,m)=>m(JSON.stringify(f))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class J4 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ss(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Lge extends J4{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TA extends J4{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $ge=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const BK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>fp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Bge=()=>$ge(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ef(()=>Promise.resolve().then(()=>fp),void 0)).Response:Response}),AA=e=>{if(Array.isArray(e))return e.map(r=>AA(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=AA(n)}),t},Uge=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cf=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const JN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vge=(e,t,r)=>Cf(void 0,void 0,void 0,function*(){const n=yield Bge();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{const i=e.status||500,o=s?.statusCode||i+"";t(new Lge(JN(s),i,o))}).catch(s=>{t(new TA(JN(s),s))}):t(new TA(JN(e),e))}),zge=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!n?s:(Uge(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(n)):s.body=n,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function mv(e,t,r,n,s,i){return Cf(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,zge(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Vge(c,l,n))})})}function pb(e,t,r,n){return Cf(this,void 0,void 0,function*(){return mv(e,"GET",t,r,n)})}function sl(e,t,r,n,s){return Cf(this,void 0,void 0,function*(){return mv(e,"POST",t,n,s,r)})}function PA(e,t,r,n,s){return Cf(this,void 0,void 0,function*(){return mv(e,"PUT",t,n,s,r)})}function Wge(e,t,r,n){return Cf(this,void 0,void 0,function*(){return mv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function UK(e,t,r,n,s){return Cf(this,void 0,void 0,function*(){return mv(e,"DELETE",t,n,s,r)})}var qge=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Hge{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return qge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ss(t))return{data:null,error:t};throw t}})}}var Gge=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Kge{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new Hge(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return Gge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ss(t))return{data:null,error:t};throw t}})}}var qa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Yge={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xge{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=BK(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return qa(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},N5),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s?.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?PA:sl)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ss(i))return{data:null,error:i};throw i}})}upload(t,r,n){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return qa(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:N5.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield PA(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ss(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return qa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const i=yield sl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new J4("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ss(n))return{data:null,error:n};throw n}})}update(t,r,n){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qa(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}})}copy(t,r,n){return qa(this,void 0,void 0,function*(){try{return{data:{path:(yield sl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return qa(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield sl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return qa(this,void 0,void 0,function*(){try{const s=yield sl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>pb(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Kge(c,this.shouldThrowOnError)}info(t){return qa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield pb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:AA(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ss(n))return{data:null,error:n};throw n}})}exists(t){return qa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Wge(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ss(n)&&n instanceof TA){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return qa(this,void 0,void 0,function*(){try{return{data:yield UK(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}})}list(t,r,n){return qa(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yge),r),{prefix:t||""});return{data:yield sl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}})}listV2(t,r){return qa(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ss(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Zge="2.75.0",Qge={"X-Client-Info":`storage-js/${Zge}`};var yh=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Jge{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qge),r),this.fetch=BK(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return yh(this,void 0,void 0,function*(){try{return{data:yield pb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ss(t))return{data:null,error:t};throw t}})}getBucket(t){return yh(this,void 0,void 0,function*(){try{return{data:yield pb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}})}createBucket(t){return yh(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ss(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return yh(this,void 0,void 0,function*(){try{return{data:yield PA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ss(n))return{data:null,error:n};throw n}})}emptyBucket(t){return yh(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}})}deleteBucket(t){return yh(this,void 0,void 0,function*(){try{return{data:yield UK(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ss(r))return{data:null,error:r};throw r}})}}class exe extends Jge{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Xge(this.url,this.headers,t,this.fetch)}}const txe="2.75.0";let M0="";typeof Deno<"u"?M0="deno":typeof document<"u"?M0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?M0="react-native":M0="node";const rxe={"X-Client-Info":`supabase-js-${M0}/${txe}`},nxe={headers:rxe},sxe={schema:"public"},axe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ixe={};var oxe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const lxe=e=>{let t;return e?t=e:typeof fetch>"u"?t=PK:t=fetch,(...r)=>t(...r)},cxe=()=>typeof Headers>"u"?OK:Headers,uxe=(e,t,r)=>{const n=lxe(r),s=cxe();return(i,o)=>oxe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var dxe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function fxe(e){return e.endsWith("/")?e:e+"/"}function hxe(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dxe(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function mxe(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fxe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const VK="2.75.0",Dh=30*1e3,OA=3,e2=OA*Dh,pxe="http://localhost:9999",gxe="supabase.auth.token",xxe={"X-Client-Info":`gotrue-js/${VK}`},RA="X-Supabase-Api-Version",zK={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vxe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yxe=600*1e3;class Pg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wxe extends Pg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bxe(e){return Vt(e)&&e.name==="AuthApiError"}class kd extends Pg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Uu extends Pg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Jc extends Uu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _xe(e){return Vt(e)&&e.name==="AuthSessionMissingError"}class wh extends Uu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dw extends Uu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fw extends Uu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jxe(e){return Vt(e)&&e.name==="AuthImplicitGrantRedirectError"}class k5 extends Uu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class DA extends Uu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function t2(e){return Vt(e)&&e.name==="AuthRetryableFetchError"}class E5 extends Uu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class IA extends Uu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C5=` 	
\r=`.split(""),Sxe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<C5.length;t+=1)e[C5[t].charCodeAt(0)]=-2;for(let t=0;t<gb.length;t+=1)e[gb[t].charCodeAt(0)]=t;return e})();function T5(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gb[n]),t.queuedBits-=6}}function WK(e,t,r){const n=Sxe[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function A5(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Exe(o,n,r)};for(let o=0;o<e.length;o+=1)WK(e.charCodeAt(o),s,i);return t.join("")}function Nxe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kxe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Nxe(n,t)}}function Exe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sm(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)WK(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Cxe(e){const t=[];return kxe(e,r=>t.push(r)),new Uint8Array(t)}function Td(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>T5(s,r,n)),T5(null,r,n),t.join("")}function Txe(e){return Math.round(Date.now()/1e3)+e}function Axe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const di=()=>typeof window<"u"&&typeof document<"u",hd={tested:!1,writable:!1},qK=()=>{if(!di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hd.tested)return hd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hd.tested=!0,hd.writable=!0}catch{hd.tested=!0,hd.writable=!1}return hd.writable};function Pxe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const HK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ef(async()=>{const{default:n}=await Promise.resolve().then(()=>fp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Oxe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ih=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},md=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yc=async(e,t)=>{await e.removeItem(t)};class k_{constructor(){this.promise=new k_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}k_.promiseConstructor=Promise;function r2(e){const t=e.split(".");if(t.length!==3)throw new IA("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vxe.test(t[n]))throw new IA("JWT not in base64url format");return{header:JSON.parse(A5(t[0])),payload:JSON.parse(A5(t[1])),signature:sm(t[2]),raw:{header:t[0],payload:t[1]}}}async function Rxe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dxe(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ixe(e){return("0"+e.toString(16)).substr(-2)}function Mxe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ixe).join("")}async function Fxe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Lxe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fxe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bh(e,t,r=!1){const n=Mxe();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ih(e,`${t}-code-verifier`,s);const i=await Lxe(n);return[i,n===i?"plain":"s256"]}const $xe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bxe(e){const t=e.headers.get(RA);if(!t||!t.match($xe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uxe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Vxe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zxe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _h(e){if(!zxe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function n2(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P5(e){return JSON.parse(JSON.stringify(e))}var Wxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const wd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qxe=[502,503,504];async function O5(e){var t;if(!Oxe(e))throw new DA(wd(e),0);if(qxe.includes(e.status))throw new DA(wd(e),e.status);let r;try{r=await e.json()}catch(i){throw new kd(wd(i),i)}let n;const s=Bxe(e);if(s&&s.getTime()>=zK["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new E5(wd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new E5(wd(r),e.status,r.weak_password.reasons);throw new wxe(wd(r),e.status||500,n)}const Hxe=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function er(e,t,r,n){var s;const i=Object.assign({},n?.headers);i[RA]||(i[RA]=zK["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Gxe(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Gxe(e,t,r,n,s,i){const o=Hxe(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new DA(wd(c),0)}if(l.ok||await O5(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await O5(c)}}function Co(e){var t;let r=null;Xxe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Txe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function R5(e){const t=Co(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function su(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kxe(e){return{data:e,error:null}}function Yxe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Wxe(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function D5(e){return e}function Xxe(e){return e.access_token&&e.refresh_token&&e.expires_in}const s2=["global","local","others"];var Zxe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Qxe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=HK(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=s2[0]){if(s2.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${s2.join(", ")}`);try{return await er(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await er(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:su})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Zxe(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await er(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yxe,redirectTo:r?.redirectTo})}catch(r){if(Vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await er(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:su})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await er(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:D5});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Vt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_h(t);try{return await er(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:su})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_h(t);try{return await er(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:su})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_h(t);try{return await er(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:su})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_h(t.userId);try{const{data:r,error:n}=await er(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_h(t.userId),_h(t.id);try{return{data:await er(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await er(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:D5});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Vt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await er(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await er(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}}function I5(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jh={debug:!!(globalThis&&qK()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GK extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Jxe extends GK{}async function eve(e,t,r){jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Jxe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function tve(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KK(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function rve(e){return parseInt(e,16)}function nve(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function sve(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=KK(e.address),y=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${g}

${x}`;let j=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(j+=`
Expiration Time: ${s.toISOString()}`),l&&(j+=`
Not Before: ${l.toISOString()}`),c&&(j+=`
Request ID: ${c}`),u){let S=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);S+=`
- ${w}`}j+=S}return`${v}
${j}`}class ns extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class xb extends ns{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ave({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ns({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ns({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ns({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ns({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ns({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ns({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ns({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ns({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(XK(o)){if(i.rp.id!==o)return new ns({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ns({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ns({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ive({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ns({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ns({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XK(n)){if(r.rpId!==n)return new ns({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ns({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var YK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class ove{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const lve=new ove;function cve(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=YK(e,["challenge","user","excludeCredentials"]),i=sm(t).buffer,o=Object.assign(Object.assign({},r),{id:sm(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:sm(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function uve(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=YK(e,["challenge","allowCredentials"]),s=sm(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:sm(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function dve(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Td(new Uint8Array(e.response.attestationObject)),clientDataJSON:Td(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fve(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Td(new Uint8Array(s.authenticatorData)),clientDataJSON:Td(new Uint8Array(s.clientDataJSON)),signature:Td(new Uint8Array(s.signature)),userHandle:s.userHandle?Td(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XK(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function M5(){var e,t;return!!(di()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function hve(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xb("Browser returned unexpected credential type",t)}:{data:null,error:new xb("Empty credential response",t)}}catch(t){return{data:null,error:ave({error:t,options:e})}}}async function mve(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xb("Browser returned unexpected credential type",t)}:{data:null,error:new xb("Empty credential response",t)}}catch(t){return{data:null,error:ive({error:t,options:e})}}}const pve={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gve={userVerification:"preferred",hints:["security-key"]};function vb(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=vb(l,o):n[i]=vb(o)}else n[i]=o}return n}function xve(e,t){return vb(pve,e,t||{})}function vve(e,t){return vb(gve,e,t||{})}class yve{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??lve.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=xve(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:f}=await hve({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=vve(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:f}=await mve(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Vt(o)?{data:null,error:o}:{data:null,error:new kd("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new Pg("rpId is required for WebAuthn authentication")};try{if(!M5())return{data:null,error:new kd("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Vt(o)?{data:null,error:o}:{data:null,error:new kd("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new Pg("rpId is required for WebAuthn registration")};try{if(!M5())return{data:null,error:new kd("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Vt(o)?{data:null,error:o}:{data:null,error:new kd("Unexpected error in register",o)}}}}tve();const wve={url:pxe,storageKey:gxe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xxe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function F5(e,t,r){return await r()}const Sh={};class Og{get jwks(){var t,r;return(r=(t=Sh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Sh[this.storageKey]=Object.assign(Object.assign({},Sh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Sh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sh[this.storageKey]=Object.assign(Object.assign({},Sh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Og.nextInstanceID,Og.nextInstanceID+=1,this.instanceID>0&&di()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wve),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Qxe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=HK(s.fetch),this.lock=s.lock||F5,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:di()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=eve:this.lock=F5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yve(this)},this.persistSession?(s.storage?this.storage=s.storage:qK()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I5(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=I5(this.memoryStorage)),di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${VK}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Pxe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),di()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jxe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Vt(r)?{error:r}:{error:new kd("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Co}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Vt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await bh(this.storage,this.storageKey)),i=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},xform:Co})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(s=m?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Co})}else throw new dw("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:R5})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:R5})}else throw new dw("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,m;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:x,wallet:v,statement:j,options:S}=t;let w;if(di())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const T=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=KK(E[0]);let k=(n=S?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await w.request({method:"eth_chainId"});k=rve(A)}const R={domain:T.host,address:N,statement:j,uri:T.href,version:"1",chainId:k,nonce:(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=sve(R),y=await w.request({method:"personal_sign",params:[nve(g),N]})}try{const{data:x,error:v}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Co});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new wh}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(Vt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,m,g;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:v,wallet:j,statement:S,options:w}=t;let T;if(di())if(typeof j=="object")T=j;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))T=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const E=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const N=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),S?{statement:S}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:v,error:j}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Td(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Co});if(j)throw j;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new wh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:j})}catch(v){if(Vt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await md(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await er(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Co});if(await Yc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Vt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Co}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new wh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await bh(this.storage,this.storageKey));const{error:f}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new dw("You must provide either an email or phone number.")}catch(l){if(Vt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await er(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Co});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bh(this.storage,this.storageKey)),await er(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kxe})}catch(i){if(Vt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jc;const{error:s}=await er(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Vt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await er(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await er(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new dw("You must provide either an email or phone number and a type")}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await md(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<e2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await md(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=n2()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:su}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jc}:await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:su})})}catch(r){if(Vt(r))return _xe(r)&&(await this._removeSession(),await Yc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Jc;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await bh(this.storage,this.storageKey));const{data:u,error:d}=await er(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:su});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jc;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=r2(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Vt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Jc;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!di())throw new fw("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fw(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new k5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fw("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new k5("No code detected.");const{data:S,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new fw("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=Dh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:x,error:v}=await this._getUser(i);if(v)throw v;const j={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(n){if(Vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await md(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bxe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Yc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Axe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await bh(this.storage,this.storageKey,!0));try{return await er(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Vt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await er(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return di()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Vt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Co}),{data:m,error:g}=f;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new wh}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:g})}catch(s){if(Vt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await er(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dxe(async s=>(s>0&&await Rxe(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await er(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Co})),(s,i)=>{const o=200*Math.pow(2,s);return i&&t2(i)&&Date.now()+o-n<Dh})}catch(n){if(this._debug(r,"error",n),Vt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),di()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await md(this.storage,this.storageKey);if(s&&this.userStorage){let o=await md(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ih(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o?.user)!==null&&t!==void 0?t:n2()}else if(s&&!s.user&&!s.user){const o=await md(this.storage,this.storageKey+"-user");o&&o?.user?(s.user=o.user,await Yc(this.storage,this.storageKey+"-user"),await Ih(this.storage,this.storageKey,s)):s.user=n2()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<e2;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${e2}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),t2(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&o?.user?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new k_;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Vt(i)){const o={data:null,error:i};return t2(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ih(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=P5(s);await Ih(this.storage,this.storageKey,i)}else{const s=P5(r);await Ih(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yc(this.storage,this.storageKey),await Yc(this.storage,this.storageKey+"-code-verifier"),await Yc(this.storage,this.storageKey+"-user"),this.userStorage&&await Yc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&di()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dh}ms, refresh threshold is ${OA} ticks`),s<=OA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof GK)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!di()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await er(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await er(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c?.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dve(t.webauthn.credential_response):fve(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await er(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await er(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:cve(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:uve(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=r2(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+yxe>s)return n;const{data:i,error:o}=await er(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=r2(n);r?.allowExpired||Uxe(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=Vxe(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Cxe(`${l}.${c}`)))throw new IA("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}}Og.nextInstanceID=0;const bve=Og;class _ve extends bve{constructor(t){super(t)}}var jve=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Sve{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=mxe(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:sxe,realtime:ixe,auth:Object.assign(Object.assign({},axe),{storageKey:c}),global:nxe},d=hxe(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=uxe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new wge(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new exe(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new uge(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return jve(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _ve({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Fge(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Nve=(e,t,r)=>new Sve(e,t,r);function kve(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kve()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Eve="https://vexeuxsvckpfvuxqchqu.supabase.co",Cve="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZleGV1eHN2Y2twZnZ1eHFjaHF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyMjQ3ODAsImV4cCI6MjA3MzgwMDc4MH0.QxgG18mgyBiB-JnKa3FLUXU_4slv1RQxTX9ruFLVf_c",ne=Nve(Eve,Cve,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});ne.auth.onAuthStateChange((e,t)=>{e==="TOKEN_REFRESHED"?console.log("Token refreshed successfully"):(e==="SIGNED_OUT"||!t&&e==="INITIAL_SESSION")&&localStorage.removeItem("supabase.auth.token")});ne.auth.getSession().catch(e=>{e?.message?.includes("Refresh Token")&&(console.warn("Clearing invalid refresh token"),ne.auth.signOut({scope:"local"}))});const Si=({children:e})=>{const t=nr(),r=gc(),[n,s]=_.useState(!1),[i,o]=_.useState("Your Store"),[l,c]=_.useState(""),[u,d]=_.useState(""),[f,m]=_.useState(!1),g=_.useRef(null),[y,x]=_.useState(null),[v,j]=_.useState(!0),[S,w]=_.useState(null),[T,E]=_.useState(!0),N=[{id:1,title:"New Order Received",description:"Order #1234 has been placed",time:"5 minutes ago",unread:!0},{id:2,title:"Product Stock Low",description:"Premium Coffee is running low",time:"2 hours ago",unread:!0},{id:3,title:"New Customer",description:"John Doe has registered",time:"1 day ago",unread:!1}];_.useEffect(()=>{(async()=>{console.log("[AdminLayout] Checking authentication...");const{data:{session:P}}=await ne.auth.getSession();if(console.log("[AdminLayout] Session:",P?"Found":"None"),!P){console.log("[AdminLayout] No session - redirecting to auth"),t("/auth");return}console.log("[AdminLayout] User authenticated:",P.user.email),P.user.email&&c(P.user.email);const{data:D,error:B}=await ne.from("profiles").select("full_name").eq("user_id",P.user.id).single();if(B&&B.code==="PGRST116"){console.log("[AdminLayout] Profile not found - account deleted"),await ne.auth.signOut(),t("/auth?error=account_deleted");return}D?.full_name&&d(D.full_name);const{data:U,error:H}=await ne.from("stores").select("*").eq("user_id",P.user.id).maybeSingle();if(console.log("[AdminLayout] Store data:",U?"Found":"None",H?`Error: ${H.message}`:""),!U&&D){console.log("[AdminLayout] No store found but profile exists - redirecting to onboarding"),t("/onboarding/store-setup");return}if(!U&&!D){console.log("[AdminLayout] No store and no profile - account deleted"),await ne.auth.signOut(),t("/auth?error=account_deleted");return}U.name&&(console.log("[AdminLayout] Setting store name:",U.name),o(U.name));const{data:M}=await ne.from("subscriptions").select(`
          *,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",P.user.id).single();if(M){const W=new Date,K=M.current_period_end?new Date(M.current_period_end):null;if(K&&K<W&&w({expired:!0,expiresAt:K.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),M?.subscription_plans){const V=M.subscription_plans.whatsapp_orders_limit,z=M.subscription_plans.website_orders_limit,G=M.whatsapp_orders_used||0,F=M.website_orders_used||0,X=V&&V>0&&G>=V,Z=z&&z>0&&F>=z;(X||Z)&&x({whatsapp:X,website:Z,whatsappUsed:G,whatsappLimit:V||0,websiteUsed:F,websiteLimit:z||0})}}})();const{data:{subscription:I}}=ne.auth.onAuthStateChange(P=>{P==="SIGNED_OUT"&&t("/auth")});return()=>I.unsubscribe()},[t]),_.useEffect(()=>{const A=I=>{g.current&&!g.current.contains(I.target)&&m(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const k=async()=>{console.log("[AdminLayout] Logging out..."),await ne.auth.signOut(),console.log("[AdminLayout] User signed out"),Ve({title:"Logged Out",description:"You have been successfully logged out"}),t("/")},R=[{name:"Dashboard",href:"/admin/dashboard",icon:aL,current:r.pathname==="/admin/dashboard"},{name:"Products",href:"/admin/products",icon:ya,current:r.pathname.startsWith("/admin/products")},{name:"Categories",href:"/admin/categories",icon:ya,current:r.pathname==="/admin/categories"},{name:"Orders",href:"/admin/orders",icon:ic,current:r.pathname==="/admin/orders"},{name:"Analytics",href:"/admin/analytics",icon:aL,current:r.pathname==="/admin/analytics"},{name:"Subscription",href:"/admin/subscription",icon:_u,current:r.pathname==="/admin/subscription"},{name:"Settings",href:"/admin/settings",icon:bi,current:r.pathname==="/admin/settings"}];return a.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>s(!1)}),a.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col
          transform transition-transform duration-300 ease-out shadow-xl lg:shadow-none
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:a.jsx(bg,{className:"w-6 h-6 text-primary-foreground"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"font-semibold text-foreground text-sm truncate",children:i}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Admin Panel"})]})]}),a.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-1.5 hover:bg-muted rounded-md transition-colors touch-target",children:a.jsx(ri,{className:"w-5 h-5 text-muted-foreground"})})]})}),a.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-hide",children:R.map(A=>a.jsxs(pt,{to:A.href,onClick:()=>{window.innerWidth<1024&&s(!1)},className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 touch-target
                ${A.current?"bg-primary text-primary-foreground shadow-sm":"text-foreground hover:bg-muted"}
              `,children:[a.jsx(A.icon,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm",children:A.name})]},A.name))}),a.jsx("div",{className:"p-3 border-t border-border",children:a.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 transition-all duration-200 touch-target",children:[a.jsx(Fu,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center justify-between px-4 lg:px-6 h-14 lg:h-16",children:[a.jsx("button",{onClick:()=>s(!n),className:"lg:hidden p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Toggle menu",children:a.jsx(u4,{className:"w-6 h-6 text-foreground"})}),a.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:a.jsx(bg,{className:"w-5 h-5 text-primary-foreground"})}),a.jsx("span",{className:"font-semibold text-foreground text-sm truncate max-w-[120px]",children:i})]}),a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 ml-auto",children:[a.jsx(ta,{}),a.jsxs("div",{className:"relative",ref:g,children:[a.jsxs("button",{onClick:()=>m(!f),className:"relative p-2 hover:bg-muted rounded-lg transition-colors touch-target","aria-label":"Notifications",children:[a.jsx(Vle,{className:"w-5 h-5 text-foreground"}),N.filter(A=>A.unread).length>0&&a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary rounded-full ring-2 ring-card"})]}),f&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[calc(100vw-2rem)] bg-card border border-border rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-top-2",children:[a.jsxs("div",{className:"p-4 border-b border-border",children:[a.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Notifications"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["You have ",N.filter(A=>A.unread).length," unread notifications"]})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-hide",children:N.map(A=>a.jsxs("div",{className:`p-4 hover:bg-muted transition-colors cursor-pointer border-b border-border last:border-0 ${A.unread?"bg-primary/5":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground flex-1",children:A.title}),A.unread&&a.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-1 ml-2 flex-shrink-0"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.description}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:A.time})]},A.id))})]})]}),a.jsxs("div",{className:"flex items-center gap-2 pl-2 lg:pl-3 border-l border-border",children:[a.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-primary rounded-full flex items-center justify-center",children:a.jsx(sb,{className:"w-4 h-4 lg:w-5 lg:h-5 text-primary-foreground"})}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[180px]",children:u||l||"Admin User"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[180px]",children:u&&l?l:"Store Manager"})]})]})]})]})}),S&&T&&a.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(bn,{className:"border-destructive bg-destructive/10",children:[a.jsx(wa,{className:"h-5 w-5 text-destructive"}),a.jsxs(_n,{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Subscription Expired"}),a.jsxs("p",{className:"text-sm text-foreground",children:["Your subscription expired on ",S.expiresAt,". You cannot accept new orders until you renew your subscription."," ",a.jsx(le,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Renew your subscription"})," ","to continue accepting orders."]})]}),a.jsx(le,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>E(!1),children:a.jsx(Qs,{className:"h-4 w-4"})})]})]})})}),y&&v&&!S&&a.jsx("div",{className:"px-4 lg:px-6 pt-4 lg:pt-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(bn,{className:"border-destructive bg-destructive/10",children:[a.jsx(wa,{className:"h-5 w-5 text-destructive"}),a.jsxs(_n,{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-destructive mb-1",children:"Order Limit Reached"}),a.jsxs("p",{className:"text-sm text-foreground",children:[y.whatsapp&&y.website&&a.jsxs(a.Fragment,{children:["You've reached your WhatsApp (",y.whatsappUsed,"/",y.whatsappLimit,") and Website (",y.websiteUsed,"/",y.websiteLimit,") order limits. "]}),y.whatsapp&&!y.website&&a.jsxs(a.Fragment,{children:["You've reached your WhatsApp order limit (",y.whatsappUsed,"/",y.whatsappLimit,"). "]}),!y.whatsapp&&y.website&&a.jsxs(a.Fragment,{children:["You've reached your Website order limit (",y.websiteUsed,"/",y.websiteLimit,"). "]}),a.jsx(le,{variant:"link",className:"h-auto p-0 text-primary hover:text-primary/80 font-semibold",onClick:()=>t("/admin/subscription"),children:"Upgrade your plan"})," ","to continue receiving orders."]})]}),a.jsx(le,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-6 w-6 hover:bg-destructive/20",onClick:()=>j(!1),children:a.jsx(Qs,{className:"h-4 w-4"})})]})]})})}),a.jsx("main",{className:"flex-1 overflow-y-auto smooth-scroll",children:a.jsx("div",{className:"p-4 lg:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})]})},eR=async()=>{const{data:{session:e}}=await ne.auth.getSession();if(!e?.user)return null;const{data:t}=await ne.from("stores").select("id").eq("user_id",e.user.id).maybeSingle();return t?.id||null},Tve=()=>{console.log("Products are now stored in Supabase database")},MA=async()=>{const e=await eR();if(!e)return[];const{data:t,error:r}=await ne.from("products").select("*").eq("store_id",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching products:",r),[]):t||[]},Rg=async e=>{if(!e){const n=await eR();if(!n)return[];e=n}const{data:t,error:r}=await ne.from("products").select("*").eq("store_id",e).eq("status","published").order("created_at",{ascending:!1});return r?(console.error("Error fetching published products:",r),[]):t||[]},Yw=async e=>{const{data:t,error:r}=await ne.from("products").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching product:",r),null):t},Ave=async(e,t)=>{let r=ne.from("products").select("*").eq("slug",e);const{data:n,error:s}=await r.maybeSingle();return s?(console.error("Error fetching product by slug:",s),null):n},Pve=async e=>{const t=await eR();if(!t)throw console.error("[PRODUCT] No store ID found for current user"),new Error("No store found for current user");console.log("[PRODUCT] Creating product for store:",t,"Name:",e.name,"Status:",e.status||"published");const{data:r,error:n}=await ne.from("products").insert([{store_id:t,name:e.name,slug:e.slug,description:e.description,category:e.category,base_price:e.basePrice||e.base_price,price_range:e.priceRange||e.price_range,stock:e.stock||0,sku:e.sku,status:e.status||"published",images:e.images||[],video_url:e.videoUrl||e.video_url,variants:e.variants||[]}]).select().single();if(n)throw console.error("[PRODUCT] Error adding product:",n),n;return console.log("[PRODUCT]  Product created successfully:",r.id,"Name:",r.name,"Status:",r.status),r},Ove=async(e,t)=>{const r={};t.name!==void 0&&(r.name=t.name),t.description!==void 0&&(r.description=t.description),t.category!==void 0&&(r.category=t.category),(t.basePrice!==void 0||t.base_price!==void 0)&&(r.base_price=t.basePrice||t.base_price),(t.priceRange!==void 0||t.price_range!==void 0)&&(r.price_range=t.priceRange||t.price_range),t.stock!==void 0&&(r.stock=t.stock),t.sku!==void 0&&(r.sku=t.sku),t.status!==void 0&&(r.status=t.status),t.images!==void 0&&(r.images=t.images),(t.videoUrl!==void 0||t.video_url!==void 0)&&(r.video_url=t.videoUrl||t.video_url),t.variants!==void 0&&(r.variants=t.variants);const{data:n,error:s}=await ne.from("products").update(r).eq("id",e).select().single();if(s)throw console.error("Error updating product:",s),s;return n},Rve=async e=>{const{error:t}=await ne.from("products").delete().eq("id",e);if(t)throw console.error("Error deleting product:",t),t},Dve=()=>{const e=nr(),[t,r]=_.useState({totalProducts:0,activeProducts:0,totalOrders:0,totalCustomers:0}),[n,s]=_.useState("Your Store"),[i,o]=_.useState(""),[l,c]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),[g,y]=_.useState(null),[x,v]=_.useState([]);_.useEffect(()=>{Tve(),(async()=>{const{data:{user:T}}=await ne.auth.getUser();if(!T)return;const{data:E}=await ne.from("stores").select("id, name, slug, subdomain, custom_domain").eq("user_id",T.id).maybeSingle();if(!E)return;const N=Nme(E.subdomain||E.slug,E.custom_domain);o(N);const[k,R,A,I]=await Promise.all([MA(),ne.from("subscriptions").select(`
            trial_ends_at,
            current_period_end,
            created_at,
            status,
            subscription_plans (trial_days)
          `).eq("user_id",T.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),ne.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",E.id),ne.from("orders").select("customer_email, customer_phone").eq("store_id",E.id),ne.from("stores").update({last_admin_visit:new Date().toISOString()}).eq("id",E.id)]);E.name&&s(E.name);const P=R.data,D=P&&P.length>0?P[0]:null;if(D){let W=null;if(D.status==="trial"?D.trial_ends_at?W=new Date(D.trial_ends_at):D.subscription_plans?.trial_days&&(W=new Date(D.created_at),W.setDate(W.getDate()+D.subscription_plans.trial_days)):D.status==="active"&&D.current_period_end&&(W=new Date(D.current_period_end)),W){const K=new Date,V=W.getTime()-K.getTime(),z=Math.ceil(V/(1e3*60*60*24));z>0&&(c(z),d(W),m(D.status))}}const B=k.filter(W=>W.status==="published").length,U=A.count||0;let H=0;I.data&&(H=new Set(I.data.map(K=>K.customer_email||K.customer_phone)).size),r({totalProducts:k.length,activeProducts:B,totalOrders:U,totalCustomers:H});const M=[{id:"1",action:"Product published",product:k[0]?.name||"Sample Product",time:"2 hours ago"},{id:"2",action:"New order received",product:k[1]?.name||"Sample Product",time:"5 hours ago"},{id:"3",action:"Product updated",product:k[2]?.name||"Sample Product",time:"1 day ago"}];v(M)})(),Ve({title:"Welcome to your dashboard! ",description:"All systems are running smoothly."})},[]),_.useEffect(()=>{if(!u)return;const w=()=>{const E=new Date,N=u.getTime()-E.getTime();if(N<=0){y({days:0,hours:0,minutes:0,seconds:0});return}const k=Math.floor(N/(1e3*60*60*24)),R=Math.floor(N%(1e3*60*60*24)/(1e3*60*60)),A=Math.floor(N%(1e3*60*60)/(1e3*60)),I=Math.floor(N%(1e3*60)/1e3);y({days:k,hours:R,minutes:A,seconds:I})};w();const T=setInterval(w,1e3);return()=>clearInterval(T)},[u]);const j=[{title:"Add New Product",description:"Create a new product listing",icon:Ei,action:()=>e("/admin/products/add"),primary:!0},{title:"View All Products",description:"Manage your product catalog",icon:ao,action:()=>e("/admin/products"),primary:!1}],S=[{title:"Total Products",value:t.totalProducts,change:"+12%",icon:ya,color:"text-primary",bgColor:"bg-primary/10"},{title:"Active Products",value:t.activeProducts,change:"+8%",icon:Lo,color:"text-success",bgColor:"bg-success/10"},{title:"Total Orders",value:t.totalOrders,change:"+23%",icon:ic,color:"text-warning",bgColor:"bg-warning/10"},{title:"Customers",value:t.totalCustomers,change:"+16%",icon:ti,color:"text-primary",bgColor:"bg-primary/10"}];return a.jsx(Si,{children:a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[l!==null&&l>0&&g&&f&&a.jsx(we,{className:`border-l-4 ${f==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:a.jsxs(_e,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gn,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${f==="trial"?"text-warning":"text-primary"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-foreground text-sm",children:f==="trial"?"Trial Status":"Subscription Status"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[f==="trial"?"Your free trial ends in ":"Your subscription renews in ",a.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[g.days,"d ",g.hours,"h ",g.minutes,"m ",g.seconds,"s"]})]})]})]}),f==="trial"&&a.jsx("div",{className:"flex flex-wrap gap-2 sm:ml-auto",children:a.jsx(le,{size:"sm",className:"whitespace-nowrap",onClick:()=>e("/admin/subscription"),children:"Upgrade Now"})})]})}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Welcome back! "}),a.jsxs("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:["Here's what's happening with ",a.jsx("span",{className:"font-medium text-primary",children:n})," today."]})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:S.map((w,T)=>a.jsx(we,{className:"admin-stat-card group",children:a.jsx(_e,{className:"p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:w.title}),a.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:w.value}),a.jsxs("p",{className:"flex items-center text-xs lg:text-sm text-success mt-0.5 lg:mt-1",children:[a.jsx(ZT,{className:"w-3 h-3 mr-1 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[w.change," from last month"]})]})]}),a.jsx("div",{className:`p-2 lg:p-3 rounded-xl ${w.bgColor} group-hover:scale-110 transition-transform duration-200 flex-shrink-0 ml-2`,children:a.jsx(w.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${w.color}`})})]})})},T))}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[a.jsx(ic,{className:"w-5 h-5"}),"Your Store URL"]})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm font-mono text-foreground break-all",children:i||"Loading..."})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(le,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{i&&(navigator.clipboard.writeText(i),Ve({title:"Link copied!",description:"Store URL copied to clipboard"}))},children:[a.jsx(ya,{className:"w-4 h-4 mr-2"}),"Copy Link"]}),a.jsxs(le,{size:"sm",variant:"outline",className:"flex-1 sm:flex-initial",onClick:()=>{if(i){const w=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(i)}`;window.open(w,"_blank")}},children:[a.jsx(ao,{className:"w-4 h-4 mr-2"}),"Generate QR"]})]})]})]}),a.jsxs(we,{className:"admin-card",children:[a.jsxs(Ge,{children:[a.jsx(Ke,{className:"text-xl font-semibold",children:"Quick Actions"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get started with these common tasks"})]}),a.jsx(_e,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:j.map((w,T)=>a.jsx(we,{className:"admin-card cursor-pointer hover:shadow-lg transition-all duration-200 border-2 hover:border-primary/20",onClick:w.action,children:a.jsx(_e,{className:"p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-start gap-3 lg:gap-4",children:[a.jsx("div",{className:`p-2 lg:p-3 rounded-lg flex-shrink-0 ${w.primary?"bg-primary/10":"bg-muted"}`,children:a.jsx(w.icon,{className:`w-5 h-5 lg:w-6 lg:h-6 ${w.primary?"text-primary":"text-muted-foreground"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-foreground mb-1 text-sm lg:text-base",children:w.title}),a.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground mb-3",children:w.description}),a.jsxs(le,{variant:w.primary?"default":"outline",size:"sm",className:`w-full sm:w-auto ${w.primary?"admin-button-primary":"admin-button-secondary"}`,onClick:E=>{E.stopPropagation(),w.action()},children:["Get Started",a.jsx(ZT,{className:"w-4 h-4 ml-2"})]})]})]})})},T))})]}),a.jsxs(we,{className:"border-l-4 border-l-primary",children:[a.jsxs(Ge,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ke,{className:"text-xl font-semibold flex items-center gap-2",children:[a.jsx(Rq,{className:"w-5 h-5 text-primary"}),"Getting Started"]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"2/4 complete"})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"50%"}})})]}),a.jsxs(_e,{className:"space-y-3",children:[[{done:!0,text:"Create account"},{done:!0,text:"Set up store"},{done:!1,text:"Add first product"},{done:!1,text:"Customize store appearance"}].map((w,T)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted transition-colors",children:[a.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${w.done?"bg-success text-success-foreground":"bg-muted border-2 border-border"}`,children:w.done&&a.jsx("span",{className:"text-xs",children:""})}),a.jsx("span",{className:`text-sm ${w.done?"text-muted-foreground line-through":"text-foreground"}`,children:w.text})]},T)),a.jsx(le,{className:"w-full mt-4",size:"sm",children:"Complete Setup"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs(we,{className:"lg:col-span-2",children:[a.jsxs(Ge,{children:[a.jsx(Ke,{className:"text-xl font-semibold",children:"Recent Activity"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates from your store"})]}),a.jsx(_e,{className:"space-y-3",children:x.length>0?x.map(w=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10 flex-shrink-0",children:a.jsx(Gn,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-foreground text-sm",children:w.action}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:w.product}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:w.time})]})]},w.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ya,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No recent activity to display"}),a.jsx("p",{className:"text-xs",children:"Start by adding your first product!"})]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-lg font-semibold",children:"Tips & Resources"})}),a.jsx(_e,{className:"space-y-3",children:[{icon:"",text:"Video Tutorials",color:"text-red-500"},{icon:"",text:"Help Documentation",color:"text-blue-500"},{icon:"",text:"Contact Support",color:"text-green-500"},{icon:"",text:"Best Practices Guide",color:"text-purple-500"}].map((w,T)=>a.jsxs(le,{variant:"ghost",className:"w-full justify-start hover:bg-muted",size:"sm",children:[a.jsx("span",{className:"text-lg mr-3",children:w.icon}),a.jsx("span",{className:"text-sm",children:w.text})]},T))})]})]})]})})},De=_.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));De.displayName="Input";var Ive="Label",ZK=_.forwardRef((e,t)=>a.jsx(xt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZK.displayName=Ive;var QK=ZK;const Mve=ap("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=_.forwardRef(({className:e,...t},r)=>a.jsx(QK,{ref:r,className:Je(Mve(),e),...t}));$e.displayName=QK.displayName;const Js=_.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Js.displayName="Textarea";function pv(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E_="Switch",[Fve]=Yn(E_),[Lve,$ve]=Fve(E_),JK=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,g]=_.useState(null),y=It(t,w=>g(w)),x=_.useRef(!1),v=m?d||!!m.closest("form"):!0,[j,S]=ei({prop:s,defaultProp:i??!1,onChange:u,caller:E_});return a.jsxs(Lve,{scope:r,checked:j,disabled:l,children:[a.jsx(xt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":nY(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Qe(e.onClick,w=>{S(T=>!T),v&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),v&&a.jsx(rY,{control:m,bubbles:!x.current,name:n,value:c,checked:j,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});JK.displayName=E_;var eY="SwitchThumb",tY=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=$ve(eY,r);return a.jsx(xt.span,{"data-state":nY(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});tY.displayName=eY;var Bve="SwitchBubbleInput",rY=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=_.useRef(null),l=It(o,i),c=pv(r),u=tv(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&g){const y=new Event("click",{bubbles:n});g.call(d,r),d.dispatchEvent(y)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rY.displayName=Bve;function nY(e){return e?"checked":"unchecked"}var sY=JK,Uve=tY;const un=_.forwardRef(({className:e,...t},r)=>a.jsx(sY,{className:Je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-border transition-colors data-[state=checked]:bg-primary data-[state=checked]:border-primary data-[state=unchecked]:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:a.jsx(Uve,{className:Je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));un.displayName=sY.displayName;var C_="Collapsible",[Vve]=Yn(C_),[zve,tR]=Vve(C_),aY=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=ei({prop:n,defaultProp:s??!1,onChange:o,caller:C_});return a.jsx(zve,{scope:r,disabled:i,contentId:_i(),open:c,onOpenToggle:_.useCallback(()=>u(d=>!d),[u]),children:a.jsx(xt.div,{"data-state":nR(c),"data-disabled":i?"":void 0,...l,ref:t})})});aY.displayName=C_;var iY="CollapsibleTrigger",oY=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=tR(iY,r);return a.jsx(xt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":nR(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Qe(e.onClick,s.onOpenToggle)})});oY.displayName=iY;var rR="CollapsibleContent",lY=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=tR(rR,e.__scopeCollapsible);return a.jsx(us,{present:r||s.open,children:({present:i})=>a.jsx(Wve,{...n,ref:t,present:i})})});lY.displayName=rR;var Wve=_.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=tR(rR,r),[l,c]=_.useState(n),u=_.useRef(null),d=It(t,u),f=_.useRef(0),m=f.current,g=_.useRef(0),y=g.current,x=o.open||l,v=_.useRef(x),j=_.useRef(void 0);return _.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),Mn(()=>{const S=u.current;if(S){j.current=j.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const w=S.getBoundingClientRect();f.current=w.height,g.current=w.width,v.current||(S.style.transitionDuration=j.current.transitionDuration,S.style.animationName=j.current.animationName),c(n)}},[o.open,n]),a.jsx(xt.div,{"data-state":nR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:x&&s})});function nR(e){return e?"open":"closed"}var qve=aY;const FA=qve,LA=oY,$A=lY;function sR(){const[e,t]=_.useState({maxProducts:null,currentProducts:0,whatsappOrdersLimit:null,whatsappOrdersUsed:0,websiteOrdersLimit:null,websiteOrdersUsed:0,enableAnalytics:!1,enableLocationSharing:!1,enableCustomDomain:!1,enableAiVoice:!1,isLoading:!0,hasActiveSubscription:!1});_.useEffect(()=>{r();const c=ne.channel("subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{console.log("Subscription changed, reloading limits..."),r()}).subscribe(),u=ne.channel("plans-changes").on("postgres_changes",{event:"*",schema:"public",table:"subscription_plans"},()=>{console.log("Subscription plan changed, reloading limits..."),r()}).subscribe();return()=>{c.unsubscribe(),u.unsubscribe()}},[]);const r=async()=>{try{const{data:{user:c}}=await ne.auth.getUser();if(!c){t(y=>({...y,isLoading:!1}));return}const{data:u}=await ne.from("subscriptions").select(`
          *,
          subscription_plans(
            max_products,
            whatsapp_orders_limit,
            website_orders_limit,
            enable_analytics,
            enable_location_sharing,
            enable_custom_domain,
            enable_ai_voice
          )
        `).eq("user_id",c.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),d=u&&u.length>0?u[0]:null;if(!d||!d.subscription_plans){t(y=>({...y,isLoading:!1,hasActiveSubscription:!1}));return}const{data:f}=await ne.from("stores").select("id").eq("user_id",c.id).single();let m=0;if(f){const{count:y}=await ne.from("products").select("*",{count:"exact",head:!0}).eq("store_id",f.id).eq("status","published");m=y||0}const g=d.subscription_plans;t({maxProducts:g.max_products,currentProducts:m,whatsappOrdersLimit:g.whatsapp_orders_limit,whatsappOrdersUsed:d.whatsapp_orders_used||0,websiteOrdersLimit:g.website_orders_limit,websiteOrdersUsed:d.website_orders_used||0,enableAnalytics:g.enable_analytics||!1,enableLocationSharing:g.enable_location_sharing||!1,enableCustomDomain:g.enable_custom_domain||!1,enableAiVoice:g.enable_ai_voice||!1,isLoading:!1,hasActiveSubscription:["active","trial"].includes(d.status)})}catch(c){console.error("Error loading subscription limits:",c),t(u=>({...u,isLoading:!1}))}};return{...e,canPublishProduct:()=>e.hasActiveSubscription?e.maxProducts===null?!0:e.currentProducts<e.maxProducts:!1,canPlaceWhatsAppOrder:()=>!e.hasActiveSubscription||e.whatsappOrdersLimit===null?!1:e.whatsappOrdersLimit===0?!0:e.whatsappOrdersUsed<e.whatsappOrdersLimit,canPlaceWebsiteOrder:()=>!e.hasActiveSubscription||e.websiteOrdersLimit===null?!1:e.websiteOrdersLimit===0?!0:e.websiteOrdersUsed<e.websiteOrdersLimit,getProductLimitMessage:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to publish products.";if(e.maxProducts===null)return null;const c=e.maxProducts-e.currentProducts;return c<=0?`Product limit reached (${e.currentProducts}/${e.maxProducts}). Upgrade your plan to publish more products.`:c<=3?`Warning: Only ${c} product slots remaining (${e.currentProducts}/${e.maxProducts}).`:null},getOrderLimitWarning:()=>{if(!e.hasActiveSubscription)return"No active subscription. Please upgrade to place orders.";const c=e.whatsappOrdersLimit,u=e.whatsappOrdersUsed,d=e.websiteOrdersLimit,f=e.websiteOrdersUsed;if(c===null&&d===null)return"Ordering features are not available in your current plan.";if(c!==null&&c>0){const m=c-u;if(m<=0)return`WhatsApp order limit reached (${u}/${c}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} WhatsApp order slots remaining (${u}/${c}).`}if(d!==null&&d>0){const m=d-f;if(m<=0)return`Website order limit reached (${f}/${d}). Upgrade your plan to accept more orders.`;if(m<=3)return`Warning: Only ${m} website order slots remaining (${f}/${d}).`}return null},refresh:r}}const Hve=async e=>{try{const{data:t,error:r}=await ne.from("stores").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Store not found");const n=t,{data:s}=await ne.from("profiles").select("phone, email").eq("user_id",t.user_id).maybeSingle(),i=s,{data:o,error:l}=await ne.from("products").select("id, name, category, price_range, description, status").eq("store_id",e).eq("status","published").order("category",{ascending:!0}).order("name",{ascending:!0});if(l)throw l;const c=o||[],u=c.map(x=>x.id);let d=[];if(u.length>0){const{data:x,error:v}=await ne.from("product_variants").select("id, product_id, size, color, price, stock_quantity").in("product_id",u).order("price",{ascending:!0});!v&&x&&(d=x)}let f="";if(f+="=".repeat(80)+`
`,f+=`${n.name.toUpperCase()}
`,f+=`STORE INFORMATION FOR AI VOICE AGENT
`,f+=`Generated on: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
`,f+="=".repeat(80)+`

`,f+="-".repeat(80)+`
`,f+=`STORE INFORMATION
`,f+="-".repeat(80)+`

`,f+=`Store Name: ${n.name}
`,n.description&&(f+=`
Description:
${n.description}
`),n.address&&(f+=`
Address:
${n.address}
`),n.whatsapp_number&&(f+=`
WhatsApp: ${n.whatsapp_number}
`),i?.phone&&(f+=`Phone: ${i.phone}
`),i?.email&&(f+=`Email: ${i.email}
`),n.social_links&&(f+=`
Social Media:
`,n.social_links.facebook&&(f+=`  Facebook: ${n.social_links.facebook}
`),n.social_links.instagram&&(f+=`  Instagram: ${n.social_links.instagram}
`),n.social_links.twitter&&(f+=`  Twitter: ${n.social_links.twitter}
`)),f+=`
`,f+="-".repeat(80)+`
`,f+=`STORE POLICIES
`,f+="-".repeat(80)+`

`,n.policies?.deliveryAreas&&(f+=`Delivery Areas:
${n.policies.deliveryAreas}

`),n.policies?.returnPolicy&&(f+=`Return Policy:
${n.policies.returnPolicy}

`),n.policies?.shippingPolicy&&(f+=`Shipping Policy:
${n.policies.shippingPolicy}

`),n.policies?.termsConditions&&(f+=`Terms & Conditions:
${n.policies.termsConditions}

`),f+="-".repeat(80)+`
`,f+=`PRODUCT CATALOG (${c.length} Products)
`,f+="-".repeat(80)+`

`,c.length>0){const x=c.reduce((v,j)=>{const S=j.category||"Uncategorized";return v[S]||(v[S]=[]),v[S].push(j),v},{});Object.entries(x).forEach(([v,j],S)=>{S>0&&(f+=`
`),f+=`
${"=".repeat(80)}
`,f+=`CATEGORY: ${v.toUpperCase()}
`,f+=`${"=".repeat(80)}

`,j.forEach((w,T)=>{f+=`${T+1}. ${w.name}
`,w.price_range&&(f+=`   Price: ${w.price_range}
`),w.description&&(f+=`   Description: ${w.description}
`);const E=d.filter(N=>N.product_id===w.id);E.length>0&&(f+=`   Available Variants:
`,E.forEach((N,k)=>{let R=`     ${k+1}) `;const A=[];N.size&&A.push(`Size: ${N.size}`),N.color&&A.push(`Color: ${N.color}`),A.push(`Price: Rs ${N.price}`),A.push(`Stock: ${N.stock_quantity}`),R+=A.join(", "),f+=R+`
`})),f+=`
`})})}else f+=`No products available.

`;f+=`
`+"=".repeat(80)+`
`,f+=`END OF STORE INFORMATION
`,f+="=".repeat(80)+`
`;const m=new Blob([f],{type:"text/plain;charset=utf-8"}),g=URL.createObjectURL(m),y=document.createElement("a");return y.href=g,y.download=`${n.slug}-store-info-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g),{success:!0,filename:y.download}}catch(t){throw console.error("Error generating TXT:",t),t}},Hn=G4,Gve=K4,cY=_.forwardRef(({className:e,...t},r)=>a.jsx(uv,{ref:r,className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cY.displayName=uv.displayName;const Pn=_.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Gve,{children:[a.jsx(cY,{}),a.jsxs(dv,{ref:n,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(N_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(ri,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pn.displayName=dv.displayName;const On=({className:e,...t})=>a.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});On.displayName="DialogHeader";const wi=({className:e,...t})=>a.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wi.displayName="DialogFooter";const Rn=_.forwardRef(({className:e,...t},r)=>a.jsx(fv,{ref:r,className:Je("text-lg font-semibold leading-none tracking-tight",e),...t}));Rn.displayName=fv.displayName;const Xs=_.forwardRef(({className:e,...t},r)=>a.jsx(hv,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));Xs.displayName=hv.displayName;function Kve({open:e,onClose:t,userEmail:r,storeName:n}){const[s,i]=_.useState(""),[o,l]=_.useState(!1);nr();const c=async()=>{if(s!=="DELETE"){Ve({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:{user:u}}=await ne.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:f}=await ne.functions.invoke("delete-user-account",{body:{userId:u.id}});if(f)throw f;if(!d.success)throw new Error(d.error||"Failed to delete account");Ve({title:"Account Deleted",description:"Your account and all associated data have been permanently deleted"}),await ne.auth.signOut(),setTimeout(()=>{window.location.href="/"},2e3)}catch(u){Ve({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"}),l(!1)}};return a.jsx(Hn,{open:e,onOpenChange:t,children:a.jsxs(Pn,{className:"max-w-lg",children:[a.jsxs(On,{children:[a.jsxs(Rn,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(wa,{className:"w-5 h-5"}),"Delete My Account Permanently"]}),a.jsx(Xs,{children:"This action is permanent and cannot be undone. All your data will be permanently deleted."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx(wa,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:" Warning: This Cannot Be Undone!"}),a.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:["This action is ",a.jsx("strong",{children:"permanent and irreversible"}),". All your data will be completely deleted from our servers."]})]})]}),a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:[a.jsx("p",{className:"text-sm font-semibold text-foreground",children:"The following will be permanently deleted:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Your account"})," - You will not be able to log in anymore"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Your store"})," - ",n||"Your store"," will be permanently removed"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"All products"})," - Every product you've created"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"All orders"})," - Complete order history"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Subscription data"})," - Billing history and subscription info"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Analytics data"})," - All performance metrics"]})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive font-bold",children:""}),a.jsxs("span",{children:[a.jsx("strong",{children:"Uploaded files"})," - Images, documents, and assets"]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Account: ",a.jsx("span",{className:"font-bold text-foreground",children:r})]}),n&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Store: ",a.jsx("span",{className:"font-semibold",children:n})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsxs($e,{htmlFor:"confirmation",className:"text-base",children:["Type ",a.jsx("span",{className:"font-bold text-destructive text-lg",children:"DELETE"})," to confirm permanent deletion"]}),a.jsx(De,{id:"confirmation",value:s,onChange:u=>i(u.target.value),placeholder:"Type DELETE here",className:"text-center font-semibold text-lg",autoComplete:"off"})]})]}),a.jsxs(wi,{className:"gap-2",children:[a.jsx(le,{variant:"outline",onClick:t,disabled:o,className:"flex-1",children:"Cancel"}),a.jsx(le,{variant:"destructive",onClick:c,disabled:s!=="DELETE"||o,className:"flex-1",children:o?"Deleting Forever...":"Delete My Account Forever"})]})]})})}const Yve=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[s,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,g]=_.useState(""),[y,x]=_.useState(!1),[v,j]=_.useState(!1),S=sR(),[w,T]=_.useState({storeName:"",tagline:"",logoUrl:"",heroImageUrl:"",heroBannerUrls:[],phone:"",email:"",address:"",whatsappNumber:"",currency:"INR",currencySymbol:"",customDomain:"",aiVoiceEmbedCode:"",forceLocationSharing:!1,deliveryAreas:"",returnPolicy:"",shippingPolicy:"",termsConditions:"",privacyPolicy:"",facebook:"",instagram:"",twitter:""}),[E,N]=_.useState("");_.useEffect(()=>{(async()=>{try{const{data:{user:M}}=await ne.auth.getUser();if(!M)return;g(M.email||"");const{data:{session:W}}=await ne.auth.getSession(),K=W?.provider_token,V=W?.provider_refresh_token,{data:z,error:G}=await ne.from("stores").select("*").eq("user_id",M.id).single();if(G&&console.error("Error loading store:",G),z?.id&&i(z.id),z&&K){const X={google_access_token:K};if(V){const Z=new Date(Date.now()+36e5).toISOString();X.google_refresh_token=V,X.google_token_expiry=Z}await ne.from("stores").update(X).eq("id",z.id),Ve({title:"Google Drive Connected",description:"You can now upload images to Google Drive."}),x(!0)}else x(!!z?.google_access_token);const{data:F}=await ne.from("profiles").select("phone, email").eq("user_id",M.id).single();T({storeName:z?.name||"",tagline:z?.description||"",logoUrl:z?.logo_url||"",heroImageUrl:z?.hero_banner_url||"",heroBannerUrls:z?.hero_banner_urls||[],phone:F?.phone||"",email:F?.email||"",address:z?.address||"",whatsappNumber:z?.whatsapp_number||"",currency:"INR",currencySymbol:"",customDomain:z?.custom_domain||"",aiVoiceEmbedCode:z?.ai_voice_embed_code||"",forceLocationSharing:z?.force_location_sharing||!1,deliveryAreas:z?.policies?.deliveryAreas||"",returnPolicy:z?.policies?.returnPolicy||"",shippingPolicy:z?.policies?.shippingPolicy||"",termsConditions:z?.policies?.termsConditions||"",privacyPolicy:z?.policies?.privacyPolicy||"",facebook:z?.social_links?.facebook||"",instagram:z?.social_links?.instagram||"",twitter:z?.social_links?.twitter||""})}catch(M){console.error("Error loading settings:",M)}})()},[]);const k=(H,M)=>{T(W=>({...W,[H]:M}))},R=()=>{E.trim()&&(T(H=>({...H,heroBannerUrls:[...H.heroBannerUrls,E.trim()]})),N(""))},A=H=>{T(M=>({...M,heroBannerUrls:M.heroBannerUrls.filter((W,K)=>K!==H)}))},I=async()=>{if(!s){Ve({variant:"destructive",title:"Error",description:"Store ID not found. Please refresh the page."});return}n(!0);try{await Hve(s),Ve({title:"File Generated Successfully",description:"Your store information TXT file has been downloaded."})}catch(H){console.error("Error generating file:",H),Ve({variant:"destructive",title:"File Generation Failed",description:"There was an error generating your file. Please try again."})}finally{n(!1)}},P=async()=>{try{j(!0);const{error:H}=await ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/admin/settings`,scopes:"https://www.googleapis.com/auth/drive.file",queryParams:{access_type:"offline",prompt:"consent"}}});H&&(console.error("Google Drive connection error:",H),Ve({variant:"destructive",title:"Connection Failed",description:H.message}))}catch(H){console.error("Error connecting Google Drive:",H),Ve({variant:"destructive",title:"Connection Failed",description:"Failed to initiate Google Drive connection"})}finally{j(!1)}},D=async H=>{H.preventDefault(),t(!0);try{if(!w.storeName.trim()){Ve({variant:"destructive",title:"Validation Error",description:"Store name is required"}),t(!1);return}if(w.customDomain.trim()){if(!S.enableCustomDomain){Ve({variant:"destructive",title:"Feature Not Available",description:"Custom domain is only available for Pro, Premium, and Enterprise plans. Please upgrade your subscription."}),t(!1);return}const z=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?(\.[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?)*\.[a-zA-Z]{2,}$/,G=w.customDomain.trim().toLowerCase();if(G.includes("http://")||G.includes("https://")){Ve({variant:"destructive",title:"Invalid Domain Format",description:"Please enter domain without http:// or https:// (e.g., shop.yourdomain.com)"}),t(!1);return}if(!z.test(G)){Ve({variant:"destructive",title:"Invalid Domain Format",description:"Please enter a valid domain name (e.g., shop.yourdomain.com)"}),t(!1);return}}const M=w.whatsappNumber.replace(/[^0-9]/g,"");if(M==="9876543210"||M==="919876543210"){Ve({variant:"destructive",title:"Invalid WhatsApp Number",description:"The default number 9876543210 is not allowed. Please enter your actual WhatsApp business number."}),t(!1);return}if(w.whatsappNumber.trim()&&M.length<10){Ve({variant:"destructive",title:"Invalid WhatsApp Number",description:"Please enter a valid WhatsApp number with at least 10 digits."}),t(!1);return}const{data:{user:W}}=await ne.auth.getUser();if(!W)throw new Error("User not authenticated");const K={name:w.storeName,description:w.tagline||null,logo_url:w.logoUrl||null,hero_banner_url:w.heroImageUrl||null,hero_banner_urls:w.heroBannerUrls.length>0?w.heroBannerUrls:null,whatsapp_number:w.whatsappNumber,address:w.address||null,social_links:{facebook:w.facebook||null,instagram:w.instagram||null,twitter:w.twitter||null},policies:{deliveryAreas:w.deliveryAreas||null,returnPolicy:w.returnPolicy||null,shippingPolicy:w.shippingPolicy||null,termsConditions:w.termsConditions||null,privacyPolicy:w.privacyPolicy||null}};S.enableCustomDomain&&(K.custom_domain=w.customDomain.trim().toLowerCase()||null),S.enableAiVoice&&(K.ai_voice_embed_code=w.aiVoiceEmbedCode.trim()||null),S.enableLocationSharing&&(K.force_location_sharing=w.forceLocationSharing);const{error:V}=await ne.from("stores").update(K).eq("user_id",W.id);if(V)throw V;if(w.phone||w.email){const{error:z}=await ne.from("profiles").update({phone:w.phone||null,email:w.email||null}).eq("user_id",W.id);z&&console.error("Error updating profile:",z)}Ve({title:"Settings Saved",description:"Your store settings have been updated successfully"})}catch{Ve({variant:"destructive",title:"Save Failed",description:"There was an error saving your settings"})}finally{t(!1)}},B=[{title:"Store Information",icon:eA,fields:[{key:"storeName",label:"Store Name",placeholder:"My Awesome Store",required:!0},{key:"tagline",label:"Store Tagline",placeholder:"Your one-stop shop for everything"},{key:"logoUrl",label:"Logo URL (Google Drive Link)",placeholder:"https://drive.google.com/..."},{key:"heroImageUrl",label:"Single Hero Banner URL (Legacy - Google Drive Link)",placeholder:"https://drive.google.com/..."}]},{title:"Contact Information",icon:Su,fields:[{key:"phone",label:"Phone Number",placeholder:"+1 (555) 123-4567"},{key:"email",label:"Email Address",placeholder:"contact@yourstore.com"},{key:"whatsappNumber",label:"WhatsApp Business Number",placeholder:"919876543210 (with country code, no spaces)"},{key:"address",label:"Store Address",placeholder:"123 Main St, City, State 12345",multiline:!0}]},{title:"Social Media",icon:$h,fields:[{key:"facebook",label:"Facebook URL",placeholder:"https://facebook.com/yourstore"},{key:"instagram",label:"Instagram URL",placeholder:"https://instagram.com/yourstore"},{key:"twitter",label:"Twitter URL",placeholder:"https://twitter.com/yourstore"}]},{title:"Currency Settings",icon:eA,fields:[{key:"currencySymbol",label:"Currency Symbol",placeholder:", $, , , etc."},{key:"currency",label:"Currency Code",placeholder:"INR, USD, EUR, GBP, etc."}]}],U=[{key:"deliveryAreas",label:"Delivery Areas",placeholder:"List areas where you deliver..."},{key:"returnPolicy",label:"Return Policy",placeholder:"Describe your return policy..."},{key:"shippingPolicy",label:"Shipping Policy",placeholder:"Describe your shipping terms..."},{key:"termsConditions",label:"Terms & Conditions",placeholder:"Your terms and conditions..."},{key:"privacyPolicy",label:"Privacy Policy",placeholder:"Describe how you collect, use, and protect customer data..."}];return a.jsx(Si,{children:a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Store Settings"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your store information and policies"})]})}),a.jsxs("form",{onSubmit:D,className:"space-y-8",children:[B.map((H,M)=>a.jsxs(we,{className:"admin-card",children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(H.icon,{className:"w-5 h-5 text-primary"})}),H.title]})}),a.jsx(_e,{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:H.fields.map((W,K)=>a.jsxs("div",{className:W.multiline?"md:col-span-2":"",children:[a.jsxs($e,{htmlFor:W.key,className:"flex items-center gap-2",children:[W.label,W.required&&a.jsx("span",{className:"text-destructive",children:"*"})]}),W.multiline?a.jsx(Js,{id:W.key,placeholder:W.placeholder,value:String(w[W.key]||""),onChange:V=>k(W.key,V.target.value),className:"admin-input min-h-[100px] mt-2",required:W.required}):a.jsx(De,{id:W.key,type:"text",placeholder:W.placeholder,value:String(w[W.key]||""),onChange:V=>k(W.key,V.target.value),className:"admin-input mt-2",required:W.required})]},K))})})]},M)),a.jsxs(we,{className:"admin-card",children:[a.jsxs(Ge,{children:[a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Kd,{className:"w-5 h-5 text-primary"})}),"Custom Domain"]}),a.jsx("p",{className:"text-muted-foreground",children:"Connect your own domain to your store"})]}),a.jsx(_e,{className:"space-y-4",children:S.enableCustomDomain?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"customDomain",children:"Custom Domain"}),a.jsx(De,{id:"customDomain",type:"text",placeholder:"yourdomain.com or www.yourdomain.com or shop.yourdomain.com",value:w.customDomain,onChange:H=>k("customDomain",H.target.value),className:"admin-input mt-2",disabled:!S.enableCustomDomain}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Enter your domain: ",a.jsx("strong",{children:"yourdomain.com"})," (root), ",a.jsx("strong",{children:"www.yourdomain.com"}),", or ",a.jsx("strong",{children:"shop.yourdomain.com"})]})]}),w.customDomain&&(()=>{const M=w.customDomain.trim().split("."),W=M.length===2,K=W?"@":M[0];return a.jsxs(bn,{children:[a.jsx(Kd,{className:"h-4 w-4"}),a.jsx(_n,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:"DNS Configuration Required:"}),a.jsx("p",{className:"text-sm",children:W?"For root domain, add an A record pointing to your server IP:":"For subdomain, add a CNAME record in your domain's DNS settings:"}),a.jsx("div",{className:"bg-muted p-2 rounded mt-2 font-mono text-xs",children:W?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"Type: A"}),a.jsx("div",{children:"Name: @ (or leave blank)"}),a.jsx("div",{children:"Value: Your Server IP"}),a.jsx("div",{className:"mt-2 text-muted-foreground",children:"Alternative: Use CNAME for www, then redirect @ to www"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"Type: CNAME"}),a.jsxs("div",{children:["Name: ",K]}),a.jsx("div",{children:"Value: yesgive.shop"})]})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"DNS changes may take up to 48 hours to propagate."})]})})]})})()]}):a.jsxs(bn,{children:[a.jsx(Lh,{className:"h-4 w-4"}),a.jsxs(_n,{children:["Custom domain is only available for Pro, Premium, and Enterprise plans.",a.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),a.jsxs(we,{className:"admin-card",children:[a.jsxs(Ge,{children:[a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(ip,{className:"w-5 h-5 text-primary"})}),"Location Settings"]}),a.jsx("p",{className:"text-muted-foreground",children:"Control how location sharing works for your customers"})]}),a.jsx(_e,{className:"space-y-4",children:S.enableLocationSharing?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{htmlFor:"forceLocationSharing",className:"text-base font-medium cursor-pointer",children:"Force Location Sharing"}),w.forceLocationSharing&&a.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:"Mandatory"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.forceLocationSharing?"Customers must share their location to place orders (mandatory)":"Location sharing is optional for customers (recommended)"})]}),a.jsx(un,{id:"forceLocationSharing",checked:w.forceLocationSharing,onCheckedChange:H=>T(M=>({...M,forceLocationSharing:H})),className:`ml-4 ${w.forceLocationSharing?"data-[state=checked]:bg-green-500":""}`})]}),a.jsxs(bn,{children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsxs(_n,{children:[a.jsx("strong",{children:"Important:"})," Forcing location sharing may reduce conversions. We recommend keeping it optional unless you have specific delivery area requirements."]})]})]}):a.jsxs(bn,{children:[a.jsx(Lh,{className:"h-4 w-4"}),a.jsxs(_n,{children:["Location sharing is not available in your current plan.",a.jsx("a",{href:"/admin/subscription",className:"ml-1 underline font-medium",children:"Upgrade your plan"})," to use this feature."]})]})})]}),a.jsxs(we,{className:"admin-card",children:[a.jsxs(Ge,{children:[a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Yle,{className:"w-5 h-5 text-primary"})}),"Hero Banner Carousel (Multiple Images)"]}),a.jsx("p",{className:"text-muted-foreground",children:"Add multiple banner images for auto-sliding carousel (Recommended size: 1920x450px)"})]}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"newBannerUrl",children:"Add New Banner URL (Google Drive Link)"}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(De,{id:"newBannerUrl",type:"text",placeholder:"https://drive.google.com/...",value:E,onChange:H=>N(H.target.value),onKeyPress:H=>H.key==="Enter"&&(H.preventDefault(),R()),className:"admin-input flex-1"}),a.jsx(le,{type:"button",onClick:R,className:"admin-button-primary",children:a.jsx(Ei,{className:"w-4 h-4"})})]})]}),w.heroBannerUrls.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{children:["Current Banner Images (",w.heroBannerUrls.length,")"]}),a.jsx("div",{className:"space-y-2",children:w.heroBannerUrls.map((H,M)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[a.jsxs("span",{className:"text-sm text-muted-foreground font-mono flex-1 truncate",children:[M+1,". ",H]}),a.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>A(M),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(ri,{className:"w-4 h-4"})})]},M))})]}),w.heroBannerUrls.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No banner images added yet. Add URLs above to create a carousel."})]})]}),a.jsxs(we,{className:"admin-card",children:[a.jsxs(Ge,{children:[a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Qy,{className:"w-5 h-5 text-primary"})}),"Google Drive Connection"]}),a.jsx("p",{className:"text-muted-foreground",children:"Connect your Google Drive to upload product images directly"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{className:"text-base font-medium",children:"Status"}),y?a.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-1 rounded-full font-medium flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]}):a.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full font-medium",children:"Not Connected"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y?"You can upload images to Google Drive from product pages":"Connect your Google Drive account to enable image uploads"})]}),a.jsx(le,{type:"button",onClick:P,disabled:v,className:y?"admin-button":"admin-button-primary",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Zl,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):y?a.jsxs(a.Fragment,{children:[a.jsx(Qy,{className:"w-4 h-4 mr-2"}),"Reconnect"]}):a.jsxs(a.Fragment,{children:[a.jsx(Qy,{className:"w-4 h-4 mr-2"}),"Connect Google Drive"]})})]}),!y&&a.jsxs(bn,{children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsxs(_n,{children:[a.jsx("strong",{children:"Note:"}),` You'll be redirected to Google to grant Drive permissions. Make sure to allow "See and download files from your Google Drive" permission.`]})]}),y&&a.jsxs(bn,{className:"border-green-500/20 bg-green-500/5",children:[a.jsx(Qy,{className:"h-4 w-4 text-green-600"}),a.jsx(_n,{className:"text-green-600 dark:text-green-400",children:"Your Google Drive is connected. You can now upload images directly when adding or editing products."})]})]})]}),a.jsx(we,{className:"admin-card border-2 border-primary/20",children:a.jsxs(FA,{open:c,onOpenChange:u,children:[a.jsx(LA,{asChild:!0,children:a.jsxs(Ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx($h,{className:"w-5 h-5 text-primary"})}),"AI Assistant",!S.enableAiVoice&&a.jsx(Lh,{className:"w-4 h-4 text-muted-foreground ml-2"}),a.jsx(pm,{className:`ml-auto h-5 w-5 transition-transform duration-200 ${c?"transform rotate-180":""}`})]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure AI voice assistant and training data for your store"})]})}),a.jsx($A,{children:a.jsxs(_e,{className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:a.jsx($h,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"AI Voice Assistant"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.enableAiVoice?"Add ElevenLabs conversational AI to your store":"Upgrade to premium to enable"})]})]}),S.enableAiVoice?a.jsxs("div",{className:"space-y-3",children:[a.jsx($e,{htmlFor:"aiVoiceEmbedCode",className:"text-base",children:"ElevenLabs Embed Code"}),a.jsx(Js,{id:"aiVoiceEmbedCode",placeholder:'<elevenlabs-convai agent-id="your_agent_id"></elevenlabs-convai><script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"><\/script>',value:w.aiVoiceEmbedCode,onChange:H=>k("aiVoiceEmbedCode",H.target.value),className:"admin-input min-h-[100px] font-mono text-sm"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste your ElevenLabs embed code to enable AI voice on your store"})]}):a.jsxs(bn,{children:[a.jsx(Lh,{className:"h-4 w-4"}),a.jsx(_n,{children:"Premium feature - Upgrade your subscription to enable voice interactions"})]})]}),a.jsxs("div",{className:"bg-muted/30 border rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-primary text-primary-foreground",children:a.jsx(gm,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Training Data Export"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Download store data to train your AI agent"})]})]}),a.jsx("div",{className:"bg-background/50 p-4 rounded-lg border space-y-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(gm,{className:"h-4 w-4 text-primary mt-0.5"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Export includes store info, policies, products, and variants - ready for AI training"})]})}),a.jsx(le,{type:"button",onClick:I,disabled:r||!s,className:"w-full admin-button-primary",size:"lg",children:r?a.jsxs(a.Fragment,{children:[a.jsx(Zl,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating File..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Download Training Data (TXT)"]})})]})]})})]})}),a.jsx(FA,{open:o,onOpenChange:l,children:a.jsxs(we,{className:"admin-card",children:[a.jsxs(Ge,{children:[a.jsx(LA,{className:"w-full",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs(Ke,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx($h,{className:"w-5 h-5 text-primary"})}),"Store Policies"]}),a.jsx(pm,{className:`w-5 h-5 text-muted-foreground transition-transform duration-200 ${o?"transform rotate-180":""}`})]})}),a.jsx("p",{className:"text-muted-foreground text-left mt-2",children:"Define your store policies and terms"})]}),a.jsx($A,{children:a.jsx(_e,{className:"space-y-6",children:U.map((H,M)=>a.jsxs("div",{children:[a.jsx($e,{htmlFor:H.key,children:H.label}),a.jsx(Js,{id:H.key,placeholder:H.placeholder,value:String(w[H.key]||""),onChange:W=>k(H.key,W.target.value),className:"admin-input min-h-[120px] mt-2"})]},M))})})]})}),a.jsx(we,{className:"admin-card bg-muted/50",children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Zl,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Image Upload Tips"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:" Upload images to Google Drive and use the sharing link"}),a.jsx("li",{children:' Make sure images are set to "Anyone with the link can view"'}),a.jsx("li",{children:" Recommended logo size: 200x80px (PNG/JPG)"}),a.jsx("li",{children:" Recommended hero banner: 1920x450px (JPG/PNG)"})]})]})]})})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(le,{type:"submit",className:"admin-button-primary min-w-[150px]",disabled:e,children:e?"Saving...":a.jsxs(a.Fragment,{children:[a.jsx(Xd,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]}),a.jsxs(we,{className:"admin-card border-2 border-destructive/50 bg-destructive/5",children:[a.jsxs(Ge,{children:[a.jsxs(Ke,{className:"flex items-center gap-3 text-destructive",children:[a.jsx("div",{className:"p-2 rounded-lg bg-destructive/20",children:a.jsx(wa,{className:"w-5 h-5 text-destructive"})}),"Danger Zone"]}),a.jsx("p",{className:"text-muted-foreground",children:"Irreversible and destructive actions"})]}),a.jsx(_e,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 bg-background rounded-lg border border-destructive/30",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-semibold text-foreground",children:"Delete My Account"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account, store, and all associated data"})]}),a.jsxs(le,{type:"button",variant:"destructive",onClick:()=>f(!0),className:"sm:ml-auto whitespace-nowrap",children:[a.jsx(fa,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]}),a.jsx(Kve,{open:d,onClose:()=>f(!1),userEmail:m,storeName:w.storeName})]})})},Xve=ap("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vt({className:e,variant:t,...r}){return a.jsx("div",{className:Je(Xve({variant:t}),e),...r})}function Dg(e,[t,r]){return Math.min(r,Math.max(t,e))}var Zve=[" ","Enter","ArrowUp","ArrowDown"],Qve=[" ","Enter"],ef="Select",[T_,A_,Jve]=Qx(ef),[hp]=Yn(ef,[Jve,Lu]),P_=Lu(),[eye,Vu]=hp(ef),[tye,rye]=hp(ef),uY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:y}=e,x=P_(t),[v,j]=_.useState(null),[S,w]=_.useState(null),[T,E]=_.useState(!1),N=Sf(u),[k,R]=ei({prop:n,defaultProp:s??!1,onChange:i,caller:ef}),[A,I]=ei({prop:o,defaultProp:l,onChange:c,caller:ef}),P=_.useRef(null),D=v?y||!!v.closest("form"):!0,[B,U]=_.useState(new Set),H=Array.from(B).map(M=>M.props.value).join(";");return a.jsx(o_,{...x,children:a.jsxs(eye,{required:g,scope:t,trigger:v,onTriggerChange:j,valueNode:S,onValueNodeChange:w,valueNodeHasChildren:T,onValueNodeHasChildrenChange:E,contentId:_i(),value:A,onValueChange:I,open:k,onOpenChange:R,dir:N,triggerPointerDownPosRef:P,disabled:m,children:[a.jsx(T_.Provider,{scope:t,children:a.jsx(tye,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(M=>{U(W=>new Set(W).add(M))},[]),onNativeOptionRemove:_.useCallback(M=>{U(W=>{const K=new Set(W);return K.delete(M),K})},[]),children:r})}),D?a.jsxs(DY,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:M=>I(M.target.value),disabled:m,form:y,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},H):null]})})};uY.displayName=ef;var dY="SelectTrigger",fY=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=P_(r),o=Vu(dY,r),l=o.disabled||n,c=It(t,o.onTriggerChange),u=A_(r),d=_.useRef("touch"),[f,m,g]=MY(x=>{const v=u().filter(w=>!w.disabled),j=v.find(w=>w.value===o.value),S=FY(v,x,j);S!==void 0&&o.onValueChange(S.value)}),y=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(rv,{asChild:!0,...i,children:a.jsx(xt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":IY(o.value)?"":void 0,...s,ref:c,onClick:Qe(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Qe(s.onPointerDown,x=>{d.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Qe(s.onKeyDown,x=>{const v=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(v&&x.key===" ")&&Zve.includes(x.key)&&(y(),x.preventDefault())})})})});fY.displayName=dY;var hY="SelectValue",mY=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Vu(hY,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=It(t,c.onValueNodeChange);return Mn(()=>{u(d)},[u,d]),a.jsx(xt.span,{...l,ref:f,style:{pointerEvents:"none"},children:IY(c.value)?a.jsx(a.Fragment,{children:o}):i})});mY.displayName=hY;var nye="SelectIcon",pY=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(xt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});pY.displayName=nye;var sye="SelectPortal",gY=e=>a.jsx(sp,{asChild:!0,...e});gY.displayName=sye;var tf="SelectContent",xY=_.forwardRef((e,t)=>{const r=Vu(tf,e.__scopeSelect),[n,s]=_.useState();if(Mn(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?np.createPortal(a.jsx(vY,{scope:e.__scopeSelect,children:a.jsx(T_.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(yY,{...e,ref:t})});xY.displayName=tf;var To=10,[vY,zu]=hp(tf),aye="SelectContentImpl",iye=wu("SelectContent.RemoveScroll"),yY=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:v,...j}=e,S=Vu(tf,r),[w,T]=_.useState(null),[E,N]=_.useState(null),k=It(t,ce=>T(ce)),[R,A]=_.useState(null),[I,P]=_.useState(null),D=A_(r),[B,U]=_.useState(!1),H=_.useRef(!1);_.useEffect(()=>{if(w)return y_(w)},[w]),v_();const M=_.useCallback(ce=>{const[pe,...Y]=D().map(q=>q.ref.current),[Q]=Y.slice(-1),ae=document.activeElement;for(const q of ce)if(q===ae||(q?.scrollIntoView({block:"nearest"}),q===pe&&E&&(E.scrollTop=0),q===Q&&E&&(E.scrollTop=E.scrollHeight),q?.focus(),document.activeElement!==ae))return},[D,E]),W=_.useCallback(()=>M([R,w]),[M,R,w]);_.useEffect(()=>{B&&W()},[B,W]);const{onOpenChange:K,triggerPointerDownPosRef:V}=S;_.useEffect(()=>{if(w){let ce={x:0,y:0};const pe=Q=>{ce={x:Math.abs(Math.round(Q.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(Q.pageY)-(V.current?.y??0))}},Y=Q=>{ce.x<=10&&ce.y<=10?Q.preventDefault():w.contains(Q.target)||K(!1),document.removeEventListener("pointermove",pe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,K,V]),_.useEffect(()=>{const ce=()=>K(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[K]);const[z,G]=MY(ce=>{const pe=D().filter(ae=>!ae.disabled),Y=pe.find(ae=>ae.ref.current===document.activeElement),Q=FY(pe,ce,Y);Q&&setTimeout(()=>Q.ref.current.focus())}),F=_.useCallback((ce,pe,Y)=>{const Q=!H.current&&!Y;(S.value!==void 0&&S.value===pe||Q)&&(A(ce),Q&&(H.current=!0))},[S.value]),X=_.useCallback(()=>w?.focus(),[w]),Z=_.useCallback((ce,pe,Y)=>{const Q=!H.current&&!Y;(S.value!==void 0&&S.value===pe||Q)&&P(ce)},[S.value]),re=n==="popper"?BA:wY,ee=re===BA?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:y,hideWhenDetached:x,avoidCollisions:v}:{};return a.jsx(vY,{scope:r,content:w,viewport:E,onViewportChange:N,itemRefCallback:F,selectedItem:R,onItemLeave:X,itemTextRefCallback:Z,focusSelectedItem:W,selectedItemText:I,position:n,isPositioned:B,searchRef:z,children:a.jsx(ov,{as:iye,allowPinchZoom:!0,children:a.jsx(av,{asChild:!0,trapped:S.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Qe(s,ce=>{S.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(_f,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(re,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ce=>ce.preventDefault(),...j,...ee,onPlaced:()=>U(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Qe(j.onKeyDown,ce=>{const pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!pe&&ce.key.length===1&&G(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Q=D().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ae=ce.target,q=Q.indexOf(ae);Q=Q.slice(q+1)}setTimeout(()=>M(Q)),ce.preventDefault()}})})})})})})});yY.displayName=aye;var oye="SelectItemAlignedPosition",wY=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Vu(tf,r),o=zu(tf,r),[l,c]=_.useState(null),[u,d]=_.useState(null),f=It(t,k=>d(k)),m=A_(r),g=_.useRef(!1),y=_.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:j,focusSelectedItem:S}=o,w=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&v&&j){const k=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),I=j.getBoundingClientRect();if(i.dir!=="rtl"){const ae=I.left-R.left,q=A.left-ae,ke=k.left-q,ye=k.width+ke,xe=Math.max(ye,R.width),Re=window.innerWidth-To,je=Dg(q,[To,Math.max(To,Re-xe)]);l.style.minWidth=ye+"px",l.style.left=je+"px"}else{const ae=R.right-I.right,q=window.innerWidth-A.right-ae,ke=window.innerWidth-k.right-q,ye=k.width+ke,xe=Math.max(ye,R.width),Re=window.innerWidth-To,je=Dg(q,[To,Math.max(To,Re-xe)]);l.style.minWidth=ye+"px",l.style.right=je+"px"}const P=m(),D=window.innerHeight-To*2,B=x.scrollHeight,U=window.getComputedStyle(u),H=parseInt(U.borderTopWidth,10),M=parseInt(U.paddingTop,10),W=parseInt(U.borderBottomWidth,10),K=parseInt(U.paddingBottom,10),V=H+M+B+K+W,z=Math.min(v.offsetHeight*5,V),G=window.getComputedStyle(x),F=parseInt(G.paddingTop,10),X=parseInt(G.paddingBottom,10),Z=k.top+k.height/2-To,re=D-Z,ee=v.offsetHeight/2,ce=v.offsetTop+ee,pe=H+M+ce,Y=V-pe;if(pe<=Z){const ae=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-x.offsetTop-x.offsetHeight,ke=Math.max(re,ee+(ae?X:0)+q+W),ye=pe+ke;l.style.height=ye+"px"}else{const ae=P.length>0&&v===P[0].ref.current;l.style.top="0px";const ke=Math.max(Z,H+x.offsetTop+(ae?F:0)+ee)+Y;l.style.height=ke+"px",x.scrollTop=pe-Z+x.offsetTop}l.style.margin=`${To}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,v,j,i.dir,n]);Mn(()=>w(),[w]);const[T,E]=_.useState();Mn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=_.useCallback(k=>{k&&y.current===!0&&(w(),S?.(),y.current=!1)},[w,S]);return a.jsx(cye,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(xt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});wY.displayName=oye;var lye="SelectPopperPosition",BA=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=To,...i}=e,o=P_(r);return a.jsx(l_,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BA.displayName=lye;var[cye,aR]=hp(tf,{}),UA="SelectViewport",bY=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=zu(UA,r),o=aR(UA,r),l=It(t,i.onViewportChange),c=_.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(T_.Slot,{scope:r,children:a.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Qe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-To*2,x=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),j=Math.max(x,v);if(j<y){const S=j+g,w=Math.min(y,S),T=S-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});bY.displayName=UA;var _Y="SelectGroup",[uye,dye]=hp(_Y),fye=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=_i();return a.jsx(uye,{scope:r,id:s,children:a.jsx(xt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});fye.displayName=_Y;var jY="SelectLabel",SY=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=dye(jY,r);return a.jsx(xt.div,{id:s.id,...n,ref:t})});SY.displayName=jY;var yb="SelectItem",[hye,NY]=hp(yb),kY=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Vu(yb,r),c=zu(yb,r),u=l.value===n,[d,f]=_.useState(i??""),[m,g]=_.useState(!1),y=It(t,S=>c.itemRefCallback?.(S,n,s)),x=_i(),v=_.useRef("touch"),j=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(hye,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:_.useCallback(S=>{f(w=>w||(S?.textContent??"").trim())},[]),children:a.jsx(T_.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(xt.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:Qe(o.onFocus,()=>g(!0)),onBlur:Qe(o.onBlur,()=>g(!1)),onClick:Qe(o.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:Qe(o.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:Qe(o.onPointerDown,S=>{v.current=S.pointerType}),onPointerMove:Qe(o.onPointerMove,S=>{v.current=S.pointerType,s?c.onItemLeave?.():v.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Qe(o.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(Qve.includes(S.key)&&j(),S.key===" "&&S.preventDefault())})})})})});kY.displayName=yb;var F0="SelectItemText",EY=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Vu(F0,r),l=zu(F0,r),c=NY(F0,r),u=rye(F0,r),[d,f]=_.useState(null),m=It(t,j=>f(j),c.onItemTextChange,j=>l.itemTextRefCallback?.(j,c.value,c.disabled)),g=d?.textContent,y=_.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return Mn(()=>(x(y),()=>v(y)),[x,v,y]),a.jsxs(a.Fragment,{children:[a.jsx(xt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?np.createPortal(i.children,o.valueNode):null]})});EY.displayName=F0;var CY="SelectItemIndicator",TY=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return NY(CY,r).isSelected?a.jsx(xt.span,{"aria-hidden":!0,...n,ref:t}):null});TY.displayName=CY;var VA="SelectScrollUpButton",AY=_.forwardRef((e,t)=>{const r=zu(VA,e.__scopeSelect),n=aR(VA,e.__scopeSelect),[s,i]=_.useState(!1),o=It(t,n.onScrollButtonChange);return Mn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(OY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});AY.displayName=VA;var zA="SelectScrollDownButton",PY=_.forwardRef((e,t)=>{const r=zu(zA,e.__scopeSelect),n=aR(zA,e.__scopeSelect),[s,i]=_.useState(!1),o=It(t,n.onScrollButtonChange);return Mn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(OY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PY.displayName=zA;var OY=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=zu("SelectScrollButton",r),o=_.useRef(null),l=A_(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Mn(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(xt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Qe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Qe(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Qe(s.onPointerLeave,()=>{c()})})}),mye="SelectSeparator",RY=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(xt.div,{"aria-hidden":!0,...n,ref:t})});RY.displayName=mye;var WA="SelectArrow",pye=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=P_(r),i=Vu(WA,r),o=zu(WA,r);return i.open&&o.position==="popper"?a.jsx(c_,{...s,...n,ref:t}):null});pye.displayName=WA;var gye="SelectBubbleInput",DY=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=_.useRef(null),i=It(n,s),o=pv(t);return _.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(xt.select,{...r,style:{...sq,...r.style},ref:i,defaultValue:t})});DY.displayName=gye;function IY(e){return e===""||e===void 0}function MY(e){const t=An(e),r=_.useRef(""),n=_.useRef(0),s=_.useCallback(o=>{const l=r.current+o;t(l),(function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function FY(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=xye(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function xye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vye=uY,LY=fY,yye=mY,wye=pY,bye=gY,$Y=xY,_ye=bY,BY=SY,UY=kY,jye=EY,Sye=TY,VY=AY,zY=PY,WY=RY;const _r=vye,jr=yye,yr=_.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(LY,{ref:n,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(wye,{asChild:!0,children:a.jsx(pm,{className:"h-4 w-4 opacity-50"})})]}));yr.displayName=LY.displayName;const qY=_.forwardRef(({className:e,...t},r)=>a.jsx(VY,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(kq,{className:"h-4 w-4"})}));qY.displayName=VY.displayName;const HY=_.forwardRef(({className:e,...t},r)=>a.jsx(zY,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(pm,{className:"h-4 w-4"})}));HY.displayName=zY.displayName;const wr=_.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(bye,{children:a.jsxs($Y,{ref:s,className:Je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(qY,{}),a.jsx(_ye,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(HY,{})]})}));wr.displayName=$Y.displayName;const Nye=_.forwardRef(({className:e,...t},r)=>a.jsx(BY,{ref:r,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Nye.displayName=BY.displayName;const Me=_.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(UY,{ref:n,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Sye,{children:a.jsx(Gr,{className:"h-4 w-4"})})}),a.jsx(jye,{children:t})]}));Me.displayName=UY.displayName;const kye=_.forwardRef(({className:e,...t},r)=>a.jsx(WY,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));kye.displayName=WY.displayName;const iR=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:Je("mx-auto flex w-full justify-center",e),...t});iR.displayName="Pagination";const oR=_.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:Je("flex flex-row items-center gap-1",e),...t}));oR.displayName="PaginationContent";const Ld=_.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:Je("",e),...t}));Ld.displayName="PaginationItem";const gv=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:Je(x_({variant:t?"outline":"ghost",size:r}),e),...n});gv.displayName="PaginationLink";const lR=({className:e,...t})=>a.jsxs(gv,{"aria-label":"Go to previous page",size:"default",className:Je("gap-1 pl-2.5",e),...t,children:[a.jsx(qle,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});lR.displayName="PaginationPrevious";const cR=({className:e,...t})=>a.jsxs(gv,{"aria-label":"Go to next page",size:"default",className:Je("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(bu,{className:"h-4 w-4"})]});cR.displayName="PaginationNext";const Fs=_.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Je("w-full caption-bottom text-sm",e),...t})}));Fs.displayName="Table";const Ls=_.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Je("[&_tr]:border-b",e),...t}));Ls.displayName="TableHeader";const $s=_.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Je("[&_tr:last-child]:border-0",e),...t}));$s.displayName="TableBody";const Eye=_.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Eye.displayName="TableFooter";const cr=_.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Je("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));cr.displayName="TableRow";const ze=_.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ze.displayName="TableHead";const Be=_.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Je("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Be.displayName="TableCell";const Cye=_.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Je("mt-4 text-sm text-muted-foreground",e),...t}));Cye.displayName="TableCaption";const Tye=()=>{const e=nr(),[t,r]=_.useState([]),[n,s]=_.useState(""),[i,o]=_.useState([]),[l,c]=_.useState("all"),[u,d]=_.useState("all"),[f,m]=_.useState(1),g=10,y=async()=>{const N=(await MA()).map(k=>({...k,variantCount:k.variants?.length||0}));r(N),o(N)};_.useEffect(()=>{y();const N=R=>{R.key==="products"&&y()},k=()=>{y()};return window.addEventListener("storage",N),window.addEventListener("focus",k),()=>{window.removeEventListener("storage",N),window.removeEventListener("focus",k)}},[]),_.useEffect(()=>{let N=t.filter(k=>{const R=k.name.toLowerCase().includes(n.toLowerCase())||(k.sku||"").toLowerCase().includes(n.toLowerCase())||k.category.toLowerCase().includes(n.toLowerCase()),A=l==="all"||k.category===l,I=u==="all"||k.status===u;return R&&A&&I});o(N),m(1)},[t,n,l,u]);const x=N=>{switch(N){case"published":return"bg-success/10 text-success";case"draft":return"bg-warning/10 text-warning";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},v=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(N),j=async N=>{await Rve(N);const k=(await MA()).map(R=>({...R,variantCount:R.variants?.length||0}));r(k),Ve({title:"Product deleted",description:"Product removed from catalog"})},S=()=>[...new Set(t.map(k=>k.category))].sort(),w=Math.ceil(i.length/g),T=i.slice((f-1)*g,f*g),E=()=>{const N=[];let R=Math.max(1,f-Math.floor(2.5)),A=Math.min(w,R+5-1);A-R+1<5&&(R=Math.max(1,A-5+1));for(let I=R;I<=A;I++)N.push(I);return N};return a.jsx(Si,{children:a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Products"}),a.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Manage your product catalog"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsxs(le,{onClick:()=>e("/admin/products/add"),className:"touch-target flex-1 sm:flex-initial",children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}),a.jsx(we,{children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Products Used"}),a.jsxs("span",{className:"font-semibold text-foreground",children:[t.length," / 200"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-success h-2 rounded-full transition-all",style:{width:`${Math.min(t.length/200*100,100)}%`}})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(we,{children:a.jsx(_e,{className:"p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Total Products"}),a.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:t.length})]}),a.jsx(ya,{className:"w-6 h-6 lg:w-8 lg:h-8 text-primary flex-shrink-0 ml-2"})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Published"}),a.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:t.filter(N=>N.status==="published").length})]}),a.jsx(ao,{className:"w-6 h-6 lg:w-8 lg:h-8 text-success flex-shrink-0 ml-2"})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-4 lg:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs lg:text-sm font-medium text-muted-foreground truncate",children:"Drafts"}),a.jsx("p",{className:"text-xl lg:text-2xl font-bold text-foreground mt-1 lg:mt-2",children:t.filter(N=>N.status==="draft").length})]}),a.jsx(Nu,{className:"w-6 h-6 lg:w-8 lg:h-8 text-warning flex-shrink-0 ml-2"})]})})})]}),a.jsx(we,{children:a.jsx(_e,{className:"p-4 lg:p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(De,{placeholder:"Search products by name, SKU, or category...",value:n,onChange:N=>s(N.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(_r,{value:l,onValueChange:c,children:[a.jsxs(yr,{className:"w-full sm:w-[180px]",children:[a.jsx(JT,{className:"w-4 h-4 mr-2"}),a.jsx(jr,{placeholder:"Category"})]}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Categories"}),S().map(N=>a.jsx(Me,{value:N,children:N},N))]})]}),a.jsxs(_r,{value:u,onValueChange:d,children:[a.jsx(yr,{className:"w-full sm:w-[150px]",children:a.jsx(jr,{placeholder:"Status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"published",children:"Published"}),a.jsx(Me,{value:"draft",children:"Draft"}),a.jsx(Me,{value:"inactive",children:"Inactive"})]})]})]})]})})}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ke,{children:["Product List (",i.length,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",f," of ",w]})]})}),a.jsxs(_e,{children:[i.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ya,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:t.length===0?"Start by adding your first product to your catalog":"Try adjusting your search criteria"}),t.length===0&&a.jsxs(le,{onClick:()=>e("/admin/products/add"),children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):a.jsx("div",{className:"overflow-x-auto -mx-6 px-6 lg:mx-0 lg:px-0",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{className:"hover:bg-transparent",children:[a.jsx(ze,{className:"min-w-[200px]",children:"Product"}),a.jsx(ze,{className:"hidden sm:table-cell",children:"Category"}),a.jsx(ze,{className:"hidden md:table-cell",children:"Variants"}),a.jsx(ze,{children:"Price"}),a.jsx(ze,{className:"hidden lg:table-cell",children:"Status"}),a.jsx(ze,{className:"text-right",children:"Actions"})]})}),a.jsx($s,{children:T.map(N=>a.jsxs(cr,{className:"hover:bg-muted/50 transition-colors",children:[a.jsx(Be,{className:"min-w-[200px]",children:a.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[a.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(ya,{className:"w-4 h-4 lg:w-5 lg:h-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground text-sm lg:text-base truncate",children:N.name}),a.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground font-mono truncate",children:N.sku})]})]})}),a.jsx(Be,{className:"hidden sm:table-cell",children:a.jsx(vt,{variant:"outline",className:"text-xs",children:N.category})}),a.jsx(Be,{className:"hidden md:table-cell",children:a.jsxs("div",{className:"flex items-center space-x-1.5",children:[a.jsx(Xle,{className:"w-3.5 h-3.5 text-muted-foreground flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm",children:N.variantCount||0})]})}),a.jsx(Be,{className:"font-semibold text-sm whitespace-nowrap",children:N.priceRange||(N.basePrice?v(N.basePrice):"")}),a.jsx(Be,{className:"hidden lg:table-cell",children:a.jsx(vt,{className:x(N.status),variant:"outline",children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})}),a.jsx(Be,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[a.jsx(le,{variant:"ghost",size:"sm",title:"View Details",onClick:()=>window.open(`/products/${N.id}`,"_blank"),className:"h-8 w-8 p-0",children:a.jsx(ao,{className:"w-4 h-4"})}),a.jsx(le,{variant:"ghost",size:"sm",title:"Edit Product",onClick:()=>e(`/admin/products/edit/${N.id}`),className:"h-8 w-8 p-0",children:a.jsx(Nu,{className:"w-4 h-4"})}),a.jsx(le,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8 p-0",onClick:()=>j(N.id),title:"Delete Product",children:a.jsx(fa,{className:"w-4 h-4"})})]})})]},N.id))})]})}),i.length>g&&a.jsx("div",{className:"mt-6 flex justify-center",children:a.jsx(iR,{children:a.jsxs(oR,{children:[a.jsx(Ld,{children:a.jsx(lR,{onClick:()=>m(N=>Math.max(1,N-1)),className:f===1?"pointer-events-none opacity-50":"cursor-pointer"})}),E().map(N=>a.jsx(Ld,{children:a.jsx(gv,{onClick:()=>m(N),isActive:f===N,className:"cursor-pointer",children:N})},N)),a.jsx(Ld,{children:a.jsx(cR,{onClick:()=>m(N=>Math.min(w,N+1)),className:f===w?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})]})]})})};var xv=e=>e.type==="checkbox",Ad=e=>e instanceof Date,Ta=e=>e==null;const GY=e=>typeof e=="object";var Kn=e=>!Ta(e)&&!Array.isArray(e)&&GY(e)&&!Ad(e),KY=e=>Kn(e)&&e.target?xv(e.target)?e.target.checked:e.target.value:e,Aye=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YY=(e,t)=>e.has(Aye(t)),Pye=e=>{const t=e.constructor&&e.constructor.prototype;return Kn(t)&&t.hasOwnProperty("isPrototypeOf")},uR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xs(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(uR&&(e instanceof Blob||n))&&(r||Kn(e)))if(t=r?[]:{},!r&&!Pye(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=xs(e[s]));else return e;return t}var O_=e=>/^\w*$/.test(e),qn=e=>e===void 0,dR=e=>Array.isArray(e)?e.filter(Boolean):[],fR=e=>dR(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(e,t,r)=>{if(!t||!Kn(e))return r;const n=(O_(t)?[t]:fR(t)).reduce((s,i)=>Ta(s)?s:s[i],e);return qn(n)||n===e?qn(e[t])?r:e[t]:n},mi=e=>typeof e=="boolean",Lr=(e,t,r)=>{let n=-1;const s=O_(t)?[t]:fR(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Kn(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const wb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ro={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hR=se.createContext(null);hR.displayName="HookFormContext";const R_=()=>se.useContext(hR),Oye=e=>{const{children:t,...r}=e;return se.createElement(hR.Provider,{value:r},t)};var XY=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ro.all&&(t._proxyFormState[o]=!n||Ro.all),r&&(r[o]=!0),e[o]}});return s};const mR=typeof window<"u"?se.useLayoutEffect:se.useEffect;function Rye(e){const t=R_(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=se.useState(r._formState),c=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return mR(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),se.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),se.useMemo(()=>XY(o,r,c.current,!1),[o,r])}var ol=e=>typeof e=="string",ZY=(e,t,r,n,s)=>ol(e)?(n&&t.watch.add(e),gt(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),gt(r,i))):(n&&(t.watchAll=!0),r),qA=e=>Ta(e)||!GY(e);function Wl(e,t,r=new WeakSet){if(qA(e)||qA(t))return e===t;if(Ad(e)&&Ad(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ad(o)&&Ad(l)||Kn(o)&&Kn(l)||Array.isArray(o)&&Array.isArray(l)?!Wl(o,l,r):o!==l)return!1}}return!0}function Dye(e){const t=R_(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o,compute:l}=e||{},c=se.useRef(s),u=se.useRef(l),d=se.useRef(void 0);u.current=l;const f=se.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,g]=se.useState(u.current?u.current(f):f);return mR(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!i){const x=ZY(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const v=u.current(x);Wl(v,d.current)||(g(v),d.current=v)}else g(x)}}}),[r,i,n,o]),se.useEffect(()=>r._removeUnmounted()),m}function Iye(e){const t=R_(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i,defaultValue:o}=e,l=YY(s._names.array,r),c=se.useMemo(()=>gt(s._formValues,r,gt(s._defaultValues,r,o)),[s,r,o]),u=Dye({control:s,name:r,defaultValue:c,exact:!0}),d=Rye({control:s,name:r,exact:!0}),f=se.useRef(e),m=se.useRef(s.register(r,{...e.rules,value:u,...mi(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const g=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!gt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!gt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!gt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!gt(d.validatingFields,r)},error:{enumerable:!0,get:()=>gt(d.errors,r)}}),[d,r]),y=se.useCallback(S=>m.current.onChange({target:{value:KY(S),name:r},type:wb.CHANGE}),[r]),x=se.useCallback(()=>m.current.onBlur({target:{value:gt(s._formValues,r),name:r},type:wb.BLUR}),[r,s._formValues]),v=se.useCallback(S=>{const w=gt(s._fields,r);w&&S&&(w._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:T=>S.setCustomValidity(T),reportValidity:()=>S.reportValidity()})},[s._fields,r]),j=se.useMemo(()=>({name:r,value:u,...mi(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:y,onBlur:x,ref:v}),[r,n,d.disabled,y,x,v,u]);return se.useEffect(()=>{const S=s._options.shouldUnregister||i;s.register(r,{...f.current.rules,...mi(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(T,E)=>{const N=gt(s._fields,T);N&&N._f&&(N._f.mount=E)};if(w(r,!0),S){const T=xs(gt(s._options.defaultValues,r));Lr(s._defaultValues,r,T),qn(gt(s._formValues,r))&&Lr(s._formValues,r,T)}return!l&&s.register(r),()=>{(l?S&&!s._state.action:S)?s.unregister(r):w(r,!1)}},[r,s,l,i]),se.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),se.useMemo(()=>({field:j,formState:d,fieldState:g}),[j,d,g])}const Mye=e=>e.render(Iye(e));var QY=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Q0=e=>Array.isArray(e)?e:[e],L5=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Ha=e=>Kn(e)&&!Object.keys(e).length,pR=e=>e.type==="file",Do=e=>typeof e=="function",bb=e=>{if(!uR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},JY=e=>e.type==="select-multiple",gR=e=>e.type==="radio",Fye=e=>gR(e)||xv(e),a2=e=>bb(e)&&e.isConnected;function Lye(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=qn(e)?n++:e[t[n++]];return e}function $ye(e){for(const t in e)if(e.hasOwnProperty(t)&&!qn(e[t]))return!1;return!0}function Jn(e,t){const r=Array.isArray(t)?t:O_(t)?[t]:fR(t),n=r.length===1?e:Lye(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Kn(n)&&Ha(n)||Array.isArray(n)&&$ye(n))&&Jn(e,r.slice(0,-1)),e}var eX=e=>{for(const t in e)if(Do(e[t]))return!0;return!1};function _b(e,t={}){const r=Array.isArray(e);if(Kn(e)||r)for(const n in e)Array.isArray(e[n])||Kn(e[n])&&!eX(e[n])?(t[n]=Array.isArray(e[n])?[]:{},_b(e[n],t[n])):Ta(e[n])||(t[n]=!0);return t}function tX(e,t,r){const n=Array.isArray(e);if(Kn(e)||n)for(const s in e)Array.isArray(e[s])||Kn(e[s])&&!eX(e[s])?qn(t)||qA(r[s])?r[s]=Array.isArray(e[s])?_b(e[s],[]):{..._b(e[s])}:tX(e[s],Ta(t)?{}:t[s],r[s]):r[s]=!Wl(e[s],t[s]);return r}var p0=(e,t)=>tX(e,t,_b(t));const $5={value:!1,isValid:!1},B5={value:!0,isValid:!0};var rX=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qn(e[0].attributes.value)?qn(e[0].value)||e[0].value===""?B5:{value:e[0].value,isValid:!0}:B5:$5}return $5},nX=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>qn(e)?e:t?e===""?NaN:e&&+e:r&&ol(e)?new Date(e):n?n(e):e;const U5={isValid:!1,value:null};var sX=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,U5):U5;function V5(e){const t=e.ref;return pR(t)?t.files:gR(t)?sX(e.refs).value:JY(t)?[...t.selectedOptions].map(({value:r})=>r):xv(t)?rX(e.refs).value:nX(qn(t.value)?e.ref.value:t.value,e)}var Bye=(e,t,r,n)=>{const s={};for(const i of e){const o=gt(t,i);o&&Lr(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},jb=e=>e instanceof RegExp,g0=e=>qn(e)?e:jb(e)?e.source:Kn(e)?jb(e.value)?e.value.source:e.value:e,z5=e=>({isOnSubmit:!e||e===Ro.onSubmit,isOnBlur:e===Ro.onBlur,isOnChange:e===Ro.onChange,isOnAll:e===Ro.all,isOnTouch:e===Ro.onTouched});const W5="AsyncFunction";var Uye=e=>!!e&&!!e.validate&&!!(Do(e.validate)&&e.validate.constructor.name===W5||Kn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===W5)),Vye=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),q5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const J0=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=gt(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(J0(l,t))break}else if(Kn(l)&&J0(l,t))break}}};function H5(e,t,r){const n=gt(e,r);if(n||O_(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=gt(t,i),l=gt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var zye=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Ha(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ro.all))},Wye=(e,t,r)=>!e||!t||e===t||Q0(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),qye=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Hye=(e,t)=>!dR(gt(e,t)).length&&Jn(e,t),Gye=(e,t,r)=>{const n=Q0(gt(e,r));return Lr(n,"root",t[r]),Lr(e,r,n),e},Xw=e=>ol(e);function G5(e,t,r="validate"){if(Xw(e)||Array.isArray(e)&&e.every(Xw)||mi(e)&&!e)return{type:r,message:Xw(e)?e:"",ref:t}}var Nh=e=>Kn(e)&&!jb(e)?e:{value:e,message:""},K5=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:g,validate:y,name:x,valueAsNumber:v,mount:j}=e._f,S=gt(r,x);if(!j||t.has(x))return{};const w=l?l[0]:o,T=D=>{s&&w.reportValidity&&(w.setCustomValidity(mi(D)?"":D||""),w.reportValidity())},E={},N=gR(o),k=xv(o),R=N||k,A=(v||pR(o))&&qn(o.value)&&qn(S)||bb(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,I=QY.bind(null,x,n,E),P=(D,B,U,H=Bl.maxLength,M=Bl.minLength)=>{const W=D?B:U;E[x]={type:D?H:M,message:W,ref:o,...I(D?H:M,W)}};if(i?!Array.isArray(S)||!S.length:c&&(!R&&(A||Ta(S))||mi(S)&&!S||k&&!rX(l).isValid||N&&!sX(l).isValid)){const{value:D,message:B}=Xw(c)?{value:!!c,message:c}:Nh(c);if(D&&(E[x]={type:Bl.required,message:B,ref:w,...I(Bl.required,B)},!n))return T(B),E}if(!A&&(!Ta(f)||!Ta(m))){let D,B;const U=Nh(m),H=Nh(f);if(!Ta(S)&&!isNaN(S)){const M=o.valueAsNumber||S&&+S;Ta(U.value)||(D=M>U.value),Ta(H.value)||(B=M<H.value)}else{const M=o.valueAsDate||new Date(S),W=z=>new Date(new Date().toDateString()+" "+z),K=o.type=="time",V=o.type=="week";ol(U.value)&&S&&(D=K?W(S)>W(U.value):V?S>U.value:M>new Date(U.value)),ol(H.value)&&S&&(B=K?W(S)<W(H.value):V?S<H.value:M<new Date(H.value))}if((D||B)&&(P(!!D,U.message,H.message,Bl.max,Bl.min),!n))return T(E[x].message),E}if((u||d)&&!A&&(ol(S)||i&&Array.isArray(S))){const D=Nh(u),B=Nh(d),U=!Ta(D.value)&&S.length>+D.value,H=!Ta(B.value)&&S.length<+B.value;if((U||H)&&(P(U,D.message,B.message),!n))return T(E[x].message),E}if(g&&!A&&ol(S)){const{value:D,message:B}=Nh(g);if(jb(D)&&!S.match(D)&&(E[x]={type:Bl.pattern,message:B,ref:o,...I(Bl.pattern,B)},!n))return T(B),E}if(y){if(Do(y)){const D=await y(S,r),B=G5(D,w);if(B&&(E[x]={...B,...I(Bl.validate,B.message)},!n))return T(B.message),E}else if(Kn(y)){let D={};for(const B in y){if(!Ha(D)&&!n)break;const U=G5(await y[B](S,r),w,B);U&&(D={...U,...I(B,U.message)},T(U.message),n&&(E[x]=D))}if(!Ha(D)&&(E[x]={ref:w,...D},!n))return E}}return T(!0),E};const Kye={mode:Ro.onSubmit,reValidateMode:Ro.onChange,shouldFocusError:!0};function Yye(e={}){let t={...Kye,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Do(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Kn(t.defaultValues)||Kn(t.values)?xs(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:xs(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:L5(),state:L5()},g=t.criteriaMode===Ro.all,y=oe=>ge=>{clearTimeout(u),u=setTimeout(oe,ge)},x=async oe=>{if(!t.disabled&&(d.isValid||f.isValid||oe)){const ge=t.resolver?Ha((await k()).errors):await A(n,!0);ge!==r.isValid&&m.state.next({isValid:ge})}},v=(oe,ge)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((oe||Array.from(l.mount)).forEach(Ne=>{Ne&&(ge?Lr(r.validatingFields,Ne,ge):Jn(r.validatingFields,Ne))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ha(r.validatingFields)}))},j=(oe,ge=[],Ne,We,qe=!0,Ue=!0)=>{if(We&&Ne&&!t.disabled){if(o.action=!0,Ue&&Array.isArray(gt(n,oe))){const it=Ne(gt(n,oe),We.argA,We.argB);qe&&Lr(n,oe,it)}if(Ue&&Array.isArray(gt(r.errors,oe))){const it=Ne(gt(r.errors,oe),We.argA,We.argB);qe&&Lr(r.errors,oe,it),Hye(r.errors,oe)}if((d.touchedFields||f.touchedFields)&&Ue&&Array.isArray(gt(r.touchedFields,oe))){const it=Ne(gt(r.touchedFields,oe),We.argA,We.argB);qe&&Lr(r.touchedFields,oe,it)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=p0(s,i)),m.state.next({name:oe,isDirty:P(oe,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Lr(i,oe,ge)},S=(oe,ge)=>{Lr(r.errors,oe,ge),m.state.next({errors:r.errors})},w=oe=>{r.errors=oe,m.state.next({errors:r.errors,isValid:!1})},T=(oe,ge,Ne,We)=>{const qe=gt(n,oe);if(qe){const Ue=gt(i,oe,qn(Ne)?gt(s,oe):Ne);qn(Ue)||We&&We.defaultChecked||ge?Lr(i,oe,ge?Ue:V5(qe._f)):U(oe,Ue),o.mount&&x()}},E=(oe,ge,Ne,We,qe)=>{let Ue=!1,it=!1;const Ot={name:oe};if(!t.disabled){if(!Ne||We){(d.isDirty||f.isDirty)&&(it=r.isDirty,r.isDirty=Ot.isDirty=P(),Ue=it!==Ot.isDirty);const He=Wl(gt(s,oe),ge);it=!!gt(r.dirtyFields,oe),He?Jn(r.dirtyFields,oe):Lr(r.dirtyFields,oe,!0),Ot.dirtyFields=r.dirtyFields,Ue=Ue||(d.dirtyFields||f.dirtyFields)&&it!==!He}if(Ne){const He=gt(r.touchedFields,oe);He||(Lr(r.touchedFields,oe,Ne),Ot.touchedFields=r.touchedFields,Ue=Ue||(d.touchedFields||f.touchedFields)&&He!==Ne)}Ue&&qe&&m.state.next(Ot)}return Ue?Ot:{}},N=(oe,ge,Ne,We)=>{const qe=gt(r.errors,oe),Ue=(d.isValid||f.isValid)&&mi(ge)&&r.isValid!==ge;if(t.delayError&&Ne?(c=y(()=>S(oe,Ne)),c(t.delayError)):(clearTimeout(u),c=null,Ne?Lr(r.errors,oe,Ne):Jn(r.errors,oe)),(Ne?!Wl(qe,Ne):qe)||!Ha(We)||Ue){const it={...We,...Ue&&mi(ge)?{isValid:ge}:{},errors:r.errors,name:oe};r={...r,...it},m.state.next(it)}},k=async oe=>{v(oe,!0);const ge=await t.resolver(i,t.context,Bye(oe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(oe),ge},R=async oe=>{const{errors:ge}=await k(oe);if(oe)for(const Ne of oe){const We=gt(ge,Ne);We?Lr(r.errors,Ne,We):Jn(r.errors,Ne)}else r.errors=ge;return ge},A=async(oe,ge,Ne={valid:!0})=>{for(const We in oe){const qe=oe[We];if(qe){const{_f:Ue,...it}=qe;if(Ue){const Ot=l.array.has(Ue.name),He=qe._f&&Uye(qe._f);He&&d.validatingFields&&v([We],!0);const Rt=await K5(qe,l.disabled,i,g,t.shouldUseNativeValidation&&!ge,Ot);if(He&&d.validatingFields&&v([We]),Rt[Ue.name]&&(Ne.valid=!1,ge))break;!ge&&(gt(Rt,Ue.name)?Ot?Gye(r.errors,Rt,Ue.name):Lr(r.errors,Ue.name,Rt[Ue.name]):Jn(r.errors,Ue.name))}!Ha(it)&&await A(it,ge,Ne)}}return Ne.valid},I=()=>{for(const oe of l.unMount){const ge=gt(n,oe);ge&&(ge._f.refs?ge._f.refs.every(Ne=>!a2(Ne)):!a2(ge._f.ref))&&ce(oe)}l.unMount=new Set},P=(oe,ge)=>!t.disabled&&(oe&&ge&&Lr(i,oe,ge),!Wl(z(),s)),D=(oe,ge,Ne)=>ZY(oe,l,{...o.mount?i:qn(ge)?s:ol(oe)?{[oe]:ge}:ge},Ne,ge),B=oe=>dR(gt(o.mount?i:s,oe,t.shouldUnregister?gt(s,oe,[]):[])),U=(oe,ge,Ne={})=>{const We=gt(n,oe);let qe=ge;if(We){const Ue=We._f;Ue&&(!Ue.disabled&&Lr(i,oe,nX(ge,Ue)),qe=bb(Ue.ref)&&Ta(ge)?"":ge,JY(Ue.ref)?[...Ue.ref.options].forEach(it=>it.selected=qe.includes(it.value)):Ue.refs?xv(Ue.ref)?Ue.refs.forEach(it=>{(!it.defaultChecked||!it.disabled)&&(Array.isArray(qe)?it.checked=!!qe.find(Ot=>Ot===it.value):it.checked=qe===it.value||!!qe)}):Ue.refs.forEach(it=>it.checked=it.value===qe):pR(Ue.ref)?Ue.ref.value="":(Ue.ref.value=qe,Ue.ref.type||m.state.next({name:oe,values:xs(i)})))}(Ne.shouldDirty||Ne.shouldTouch)&&E(oe,qe,Ne.shouldTouch,Ne.shouldDirty,!0),Ne.shouldValidate&&V(oe)},H=(oe,ge,Ne)=>{for(const We in ge){if(!ge.hasOwnProperty(We))return;const qe=ge[We],Ue=oe+"."+We,it=gt(n,Ue);(l.array.has(oe)||Kn(qe)||it&&!it._f)&&!Ad(qe)?H(Ue,qe,Ne):U(Ue,qe,Ne)}},M=(oe,ge,Ne={})=>{const We=gt(n,oe),qe=l.array.has(oe),Ue=xs(ge);Lr(i,oe,Ue),qe?(m.array.next({name:oe,values:xs(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Ne.shouldDirty&&m.state.next({name:oe,dirtyFields:p0(s,i),isDirty:P(oe,Ue)})):We&&!We._f&&!Ta(Ue)?H(oe,Ue,Ne):U(oe,Ue,Ne),q5(oe,l)&&m.state.next({...r,name:oe}),m.state.next({name:o.mount?oe:void 0,values:xs(i)})},W=async oe=>{o.mount=!0;const ge=oe.target;let Ne=ge.name,We=!0;const qe=gt(n,Ne),Ue=He=>{We=Number.isNaN(He)||Ad(He)&&isNaN(He.getTime())||Wl(He,gt(i,Ne,He))},it=z5(t.mode),Ot=z5(t.reValidateMode);if(qe){let He,Rt;const _t=ge.type?V5(qe._f):KY(oe),$t=oe.type===wb.BLUR||oe.type===wb.FOCUS_OUT,an=!Vye(qe._f)&&!t.resolver&&!gt(r.errors,Ne)&&!qe._f.deps||qye($t,gt(r.touchedFields,Ne),r.isSubmitted,Ot,it),vr=q5(Ne,l,$t);Lr(i,Ne,_t),$t?(qe._f.onBlur&&qe._f.onBlur(oe),c&&c(0)):qe._f.onChange&&qe._f.onChange(oe);const vn=E(Ne,_t,$t),go=!Ha(vn)||vr;if(!$t&&m.state.next({name:Ne,type:oe.type,values:xs(i)}),an)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?$t&&x():$t||x()),go&&m.state.next({name:Ne,...vr?{}:vn});if(!$t&&vr&&m.state.next({...r}),t.resolver){const{errors:Us}=await k([Ne]);if(Ue(_t),We){const xo=H5(r.errors,n,Ne),si=H5(Us,n,xo.name||Ne);He=si.error,Ne=si.name,Rt=Ha(Us)}}else v([Ne],!0),He=(await K5(qe,l.disabled,i,g,t.shouldUseNativeValidation))[Ne],v([Ne]),Ue(_t),We&&(He?Rt=!1:(d.isValid||f.isValid)&&(Rt=await A(n,!0)));We&&(qe._f.deps&&V(qe._f.deps),N(Ne,Rt,He,vn))}},K=(oe,ge)=>{if(gt(r.errors,ge)&&oe.focus)return oe.focus(),1},V=async(oe,ge={})=>{let Ne,We;const qe=Q0(oe);if(t.resolver){const Ue=await R(qn(oe)?oe:qe);Ne=Ha(Ue),We=oe?!qe.some(it=>gt(Ue,it)):Ne}else oe?(We=(await Promise.all(qe.map(async Ue=>{const it=gt(n,Ue);return await A(it&&it._f?{[Ue]:it}:it)}))).every(Boolean),!(!We&&!r.isValid)&&x()):We=Ne=await A(n);return m.state.next({...!ol(oe)||(d.isValid||f.isValid)&&Ne!==r.isValid?{}:{name:oe},...t.resolver||!oe?{isValid:Ne}:{},errors:r.errors}),ge.shouldFocus&&!We&&J0(n,K,oe?qe:l.mount),We},z=oe=>{const ge={...o.mount?i:s};return qn(oe)?ge:ol(oe)?gt(ge,oe):oe.map(Ne=>gt(ge,Ne))},G=(oe,ge)=>({invalid:!!gt((ge||r).errors,oe),isDirty:!!gt((ge||r).dirtyFields,oe),error:gt((ge||r).errors,oe),isValidating:!!gt(r.validatingFields,oe),isTouched:!!gt((ge||r).touchedFields,oe)}),F=oe=>{oe&&Q0(oe).forEach(ge=>Jn(r.errors,ge)),m.state.next({errors:oe?r.errors:{}})},X=(oe,ge,Ne)=>{const We=(gt(n,oe,{_f:{}})._f||{}).ref,qe=gt(r.errors,oe)||{},{ref:Ue,message:it,type:Ot,...He}=qe;Lr(r.errors,oe,{...He,...ge,ref:We}),m.state.next({name:oe,errors:r.errors,isValid:!1}),Ne&&Ne.shouldFocus&&We&&We.focus&&We.focus()},Z=(oe,ge)=>Do(oe)?m.state.subscribe({next:Ne=>"values"in Ne&&oe(D(void 0,ge),Ne)}):D(oe,ge,!0),re=oe=>m.state.subscribe({next:ge=>{Wye(oe.name,ge.name,oe.exact)&&zye(ge,oe.formState||d,je,oe.reRenderRoot)&&oe.callback({values:{...i},...r,...ge,defaultValues:s})}}).unsubscribe,ee=oe=>(o.mount=!0,f={...f,...oe.formState},re({...oe,formState:f})),ce=(oe,ge={})=>{for(const Ne of oe?Q0(oe):l.mount)l.mount.delete(Ne),l.array.delete(Ne),ge.keepValue||(Jn(n,Ne),Jn(i,Ne)),!ge.keepError&&Jn(r.errors,Ne),!ge.keepDirty&&Jn(r.dirtyFields,Ne),!ge.keepTouched&&Jn(r.touchedFields,Ne),!ge.keepIsValidating&&Jn(r.validatingFields,Ne),!t.shouldUnregister&&!ge.keepDefaultValue&&Jn(s,Ne);m.state.next({values:xs(i)}),m.state.next({...r,...ge.keepDirty?{isDirty:P()}:{}}),!ge.keepIsValid&&x()},pe=({disabled:oe,name:ge})=>{(mi(oe)&&o.mount||oe||l.disabled.has(ge))&&(oe?l.disabled.add(ge):l.disabled.delete(ge))},Y=(oe,ge={})=>{let Ne=gt(n,oe);const We=mi(ge.disabled)||mi(t.disabled);return Lr(n,oe,{...Ne||{},_f:{...Ne&&Ne._f?Ne._f:{ref:{name:oe}},name:oe,mount:!0,...ge}}),l.mount.add(oe),Ne?pe({disabled:mi(ge.disabled)?ge.disabled:t.disabled,name:oe}):T(oe,!0,ge.value),{...We?{disabled:ge.disabled||t.disabled}:{},...t.progressive?{required:!!ge.required,min:g0(ge.min),max:g0(ge.max),minLength:g0(ge.minLength),maxLength:g0(ge.maxLength),pattern:g0(ge.pattern)}:{},name:oe,onChange:W,onBlur:W,ref:qe=>{if(qe){Y(oe,ge),Ne=gt(n,oe);const Ue=qn(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,it=Fye(Ue),Ot=Ne._f.refs||[];if(it?Ot.find(He=>He===Ue):Ue===Ne._f.ref)return;Lr(n,oe,{_f:{...Ne._f,...it?{refs:[...Ot.filter(a2),Ue,...Array.isArray(gt(s,oe))?[{}]:[]],ref:{type:Ue.type,name:oe}}:{ref:Ue}}}),T(oe,!1,void 0,Ue)}else Ne=gt(n,oe,{}),Ne._f&&(Ne._f.mount=!1),(t.shouldUnregister||ge.shouldUnregister)&&!(YY(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},Q=()=>t.shouldFocusError&&J0(n,K,l.mount),ae=oe=>{mi(oe)&&(m.state.next({disabled:oe}),J0(n,(ge,Ne)=>{const We=gt(n,Ne);We&&(ge.disabled=We._f.disabled||oe,Array.isArray(We._f.refs)&&We._f.refs.forEach(qe=>{qe.disabled=We._f.disabled||oe}))},0,!1))},q=(oe,ge)=>async Ne=>{let We;Ne&&(Ne.preventDefault&&Ne.preventDefault(),Ne.persist&&Ne.persist());let qe=xs(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Ue,values:it}=await k();r.errors=Ue,qe=xs(it)}else await A(n);if(l.disabled.size)for(const Ue of l.disabled)Jn(qe,Ue);if(Jn(r.errors,"root"),Ha(r.errors)){m.state.next({errors:{}});try{await oe(qe,Ne)}catch(Ue){We=Ue}}else ge&&await ge({...r.errors},Ne),Q(),setTimeout(Q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ha(r.errors)&&!We,submitCount:r.submitCount+1,errors:r.errors}),We)throw We},ke=(oe,ge={})=>{gt(n,oe)&&(qn(ge.defaultValue)?M(oe,xs(gt(s,oe))):(M(oe,ge.defaultValue),Lr(s,oe,xs(ge.defaultValue))),ge.keepTouched||Jn(r.touchedFields,oe),ge.keepDirty||(Jn(r.dirtyFields,oe),r.isDirty=ge.defaultValue?P(oe,xs(gt(s,oe))):P()),ge.keepError||(Jn(r.errors,oe),d.isValid&&x()),m.state.next({...r}))},ye=(oe,ge={})=>{const Ne=oe?xs(oe):s,We=xs(Ne),qe=Ha(oe),Ue=qe?s:We;if(ge.keepDefaultValues||(s=Ne),!ge.keepValues){if(ge.keepDirtyValues){const it=new Set([...l.mount,...Object.keys(p0(s,i))]);for(const Ot of Array.from(it))gt(r.dirtyFields,Ot)?Lr(Ue,Ot,gt(i,Ot)):M(Ot,gt(Ue,Ot))}else{if(uR&&qn(oe))for(const it of l.mount){const Ot=gt(n,it);if(Ot&&Ot._f){const He=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(bb(He)){const Rt=He.closest("form");if(Rt){Rt.reset();break}}}}if(ge.keepFieldsRef)for(const it of l.mount)M(it,gt(Ue,it));else n={}}i=t.shouldUnregister?ge.keepDefaultValues?xs(s):{}:xs(Ue),m.array.next({values:{...Ue}}),m.state.next({values:{...Ue}})}l={mount:ge.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:qe?!1:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!Wl(oe,s)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:qe?{}:ge.keepDirtyValues?ge.keepDefaultValues&&i?p0(s,i):r.dirtyFields:ge.keepDefaultValues&&oe?p0(s,oe):ge.keepDirty?r.dirtyFields:{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(oe,ge)=>ye(Do(oe)?oe(i):oe,ge),Re=(oe,ge={})=>{const Ne=gt(n,oe),We=Ne&&Ne._f;if(We){const qe=We.refs?We.refs[0]:We.ref;qe.focus&&(qe.focus(),ge.shouldSelect&&Do(qe.select)&&qe.select())}},je=oe=>{r={...r,...oe}},ht={control:{register:Y,unregister:ce,getFieldState:G,handleSubmit:q,setError:X,_subscribe:re,_runSchema:k,_focusError:Q,_getWatch:D,_getDirty:P,_setValid:x,_setFieldArray:j,_setDisabledField:pe,_setErrors:w,_getFieldArray:B,_reset:ye,_resetDefaultValues:()=>Do(t.defaultValues)&&t.defaultValues().then(oe=>{xe(oe,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ae,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return s},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},get _options(){return t},set _options(oe){t={...t,...oe}}},subscribe:ee,trigger:V,register:Y,handleSubmit:q,watch:Z,setValue:M,getValues:z,reset:xe,resetField:ke,clearErrors:F,unregister:ce,setError:X,setFocus:Re,getFieldState:G};return{...ht,formControl:ht}}function vv(e={}){const t=se.useRef(void 0),r=se.useRef(void 0),[n,s]=se.useState({isDirty:!1,isValidating:!1,isLoading:Do(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Do(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Do(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Yye(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,mR(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),se.useEffect(()=>{e.values&&!Wl(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=XY(n,i),t.current}const Y5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=gt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},aX=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Y5(n.ref,r,e):n.refs&&n.refs.forEach(s=>Y5(s,r,e))}},Xye=(e,t)=>{t.shouldUseNativeValidation&&aX(e,t);const r={};for(const n in e){const s=gt(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Zye(t.names||Object.keys(e),n)){const o=Object.assign({},gt(r,n));Lr(o,"root",i),Lr(r,n,o)}else Lr(r,n,i)}return r},Zye=(e,t)=>e.some(r=>r.startsWith(t+"."));var Qye=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=QY(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},yv=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&aX({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:Xye(Qye(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ar;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ar||(Ar={}));var X5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(X5||(X5={}));const Ct=Ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tu=e=>{switch(typeof e){case"undefined":return Ct.undefined;case"string":return Ct.string;case"number":return Number.isNaN(e)?Ct.nan:Ct.number;case"boolean":return Ct.boolean;case"function":return Ct.function;case"bigint":return Ct.bigint;case"symbol":return Ct.symbol;case"object":return Array.isArray(e)?Ct.array:e===null?Ct.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ct.promise:typeof Map<"u"&&e instanceof Map?Ct.map:typeof Set<"u"&&e instanceof Set?Ct.set:typeof Date<"u"&&e instanceof Date?Ct.date:Ct.object;default:return Ct.unknown}},ot=Ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class cc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof cc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ar.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}cc.create=e=>new cc(e);const HA=(e,t)=>{let r;switch(e.code){case ot.invalid_type:e.received===Ct.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ot.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ar.jsonStringifyReplacer)}`;break;case ot.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ar.joinValues(e.keys,", ")}`;break;case ot.invalid_union:r="Invalid input";break;case ot.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ar.joinValues(e.options)}`;break;case ot.invalid_enum_value:r=`Invalid enum value. Expected ${Ar.joinValues(e.options)}, received '${e.received}'`;break;case ot.invalid_arguments:r="Invalid function arguments";break;case ot.invalid_return_type:r="Invalid function return type";break;case ot.invalid_date:r="Invalid date";break;case ot.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ar.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ot.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ot.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ot.custom:r="Invalid input";break;case ot.invalid_intersection_types:r="Intersection results could not be merged";break;case ot.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ot.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ar.assertNever(e)}return{message:r}};let Jye=HA;function ewe(){return Jye}const twe=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function wt(e,t){const r=ewe(),n=twe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===HA?void 0:HA].filter(s=>!!s)});e.common.issues.push(n)}class Ci{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return tr;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Ci.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return tr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const tr=Object.freeze({status:"aborted"}),L0=e=>({status:"dirty",value:e}),fo=e=>({status:"valid",value:e}),Z5=e=>e.status==="aborted",Q5=e=>e.status==="dirty",wm=e=>e.status==="valid",Sb=e=>typeof Promise<"u"&&e instanceof Promise;var At;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(At||(At={}));class Cu{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J5=(e,t)=>{if(wm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new cc(e.common.issues);return this._error=r,this._error}}};function mr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Er{get description(){return this._def.description}_getType(t){return tu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:tu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ci,ctx:{common:t.parent.common,data:t.data,parsedType:tu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Sb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tu(t)},s=this._parseSync({data:t,path:n.path,parent:n});return J5(n,s)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tu(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return wm(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>wm(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tu(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Sb(s)?s:Promise.resolve(s));return J5(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:ot.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new jm({schema:this,typeName:rr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return mu.create(this,this._def)}nullable(){return Sm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dl.create(this)}promise(){return Cb.create(this,this._def)}or(t){return kb.create([this,t],this._def)}and(t){return Eb.create(this,t,this._def)}transform(t){return new jm({...mr(this._def),schema:this,typeName:rr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new YA({...mr(this._def),innerType:this,defaultValue:r,typeName:rr.ZodDefault})}brand(){return new Swe({typeName:rr.ZodBranded,type:this,...mr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new XA({...mr(this._def),innerType:this,catchValue:r,typeName:rr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return xR.create(this,t)}readonly(){return ZA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rwe=/^c[^\s-]{8,}$/i,nwe=/^[0-9a-z]+$/,swe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,awe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iwe=/^[a-z0-9_-]{21}$/i,owe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lwe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cwe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let i2;const dwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pwe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gwe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xwe=new RegExp(`^${iX}$`);function oX(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function vwe(e){return new RegExp(`^${oX(e)}$`)}function ywe(e){let t=`${iX}T${oX(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function wwe(e,t){return!!((t==="v4"||!t)&&dwe.test(e)||(t==="v6"||!t)&&hwe.test(e))}function bwe(e,t){if(!owe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function _we(e,t){return!!((t==="v4"||!t)&&fwe.test(e)||(t==="v6"||!t)&&mwe.test(e))}class ql extends Er{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ct.string){const i=this._getOrReturnCtx(t);return wt(i,{code:ot.invalid_type,expected:Ct.string,received:i.parsedType}),tr}const n=new Ci;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?wt(s,{code:ot.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&wt(s,{code:ot.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")cwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"email",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")i2||(i2=new RegExp(uwe,"u")),i2.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"emoji",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")awe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"uuid",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")iwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"nanoid",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")rwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"cuid",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")nwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"cuid2",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")swe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"ulid",code:ot.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),wt(s,{validation:"url",code:ot.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"regex",code:ot.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ywe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?xwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?vwe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?lwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"duration",code:ot.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?wwe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"ip",code:ot.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?bwe(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"jwt",code:ot.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?_we(t.data,i.version)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"cidr",code:ot.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?pwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"base64",code:ot.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?gwe.test(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{validation:"base64url",code:ot.invalid_string,message:i.message}),n.dirty()):Ar.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ot.invalid_string,...At.errToObj(n)})}_addCheck(t){return new ql({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...At.errToObj(t)})}url(t){return this._addCheck({kind:"url",...At.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...At.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...At.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...At.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...At.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...At.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...At.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...At.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...At.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...At.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...At.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...At.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...At.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...At.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...At.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...At.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...At.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...At.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...At.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...At.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...At.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...At.errToObj(r)})}nonempty(t){return this.min(1,At.errToObj(t))}trim(){return new ql({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ql({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ql({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ql.create=e=>new ql({checks:[],typeName:rr.ZodString,coerce:e?.coerce??!1,...mr(e)});function jwe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class rf extends Er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ct.number){const i=this._getOrReturnCtx(t);return wt(i,{code:ot.invalid_type,expected:Ct.number,received:i.parsedType}),tr}let n;const s=new Ci;for(const i of this._def.checks)i.kind==="int"?Ar.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jwe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.not_finite,message:i.message}),s.dirty()):Ar.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,At.toString(r))}gt(t,r){return this.setLimit("min",t,!1,At.toString(r))}lte(t,r){return this.setLimit("max",t,!0,At.toString(r))}lt(t,r){return this.setLimit("max",t,!1,At.toString(r))}setLimit(t,r,n,s){return new rf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:At.toString(s)}]})}_addCheck(t){return new rf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:At.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:At.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:At.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:At.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:At.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:At.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:At.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:At.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:At.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ar.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}rf.create=e=>new rf({checks:[],typeName:rr.ZodNumber,coerce:e?.coerce||!1,...mr(e)});class nf extends Er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ct.bigint)return this._getInvalidInput(t);let n;const s=new Ci;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),wt(n,{code:ot.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ar.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return wt(r,{code:ot.invalid_type,expected:Ct.bigint,received:r.parsedType}),tr}gte(t,r){return this.setLimit("min",t,!0,At.toString(r))}gt(t,r){return this.setLimit("min",t,!1,At.toString(r))}lte(t,r){return this.setLimit("max",t,!0,At.toString(r))}lt(t,r){return this.setLimit("max",t,!1,At.toString(r))}setLimit(t,r,n,s){return new nf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:At.toString(s)}]})}_addCheck(t){return new nf({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:At.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:At.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:At.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:At.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:At.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}nf.create=e=>new nf({checks:[],typeName:rr.ZodBigInt,coerce:e?.coerce??!1,...mr(e)});class Nb extends Er{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ct.boolean){const n=this._getOrReturnCtx(t);return wt(n,{code:ot.invalid_type,expected:Ct.boolean,received:n.parsedType}),tr}return fo(t.data)}}Nb.create=e=>new Nb({typeName:rr.ZodBoolean,coerce:e?.coerce||!1,...mr(e)});class bm extends Er{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ct.date){const i=this._getOrReturnCtx(t);return wt(i,{code:ot.invalid_type,expected:Ct.date,received:i.parsedType}),tr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return wt(i,{code:ot.invalid_date}),tr}const n=new Ci;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ot.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ar.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new bm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:At.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:At.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}bm.create=e=>new bm({checks:[],coerce:e?.coerce||!1,typeName:rr.ZodDate,...mr(e)});class e6 extends Er{_parse(t){if(this._getType(t)!==Ct.symbol){const n=this._getOrReturnCtx(t);return wt(n,{code:ot.invalid_type,expected:Ct.symbol,received:n.parsedType}),tr}return fo(t.data)}}e6.create=e=>new e6({typeName:rr.ZodSymbol,...mr(e)});class t6 extends Er{_parse(t){if(this._getType(t)!==Ct.undefined){const n=this._getOrReturnCtx(t);return wt(n,{code:ot.invalid_type,expected:Ct.undefined,received:n.parsedType}),tr}return fo(t.data)}}t6.create=e=>new t6({typeName:rr.ZodUndefined,...mr(e)});class r6 extends Er{_parse(t){if(this._getType(t)!==Ct.null){const n=this._getOrReturnCtx(t);return wt(n,{code:ot.invalid_type,expected:Ct.null,received:n.parsedType}),tr}return fo(t.data)}}r6.create=e=>new r6({typeName:rr.ZodNull,...mr(e)});class n6 extends Er{constructor(){super(...arguments),this._any=!0}_parse(t){return fo(t.data)}}n6.create=e=>new n6({typeName:rr.ZodAny,...mr(e)});class s6 extends Er{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fo(t.data)}}s6.create=e=>new s6({typeName:rr.ZodUnknown,...mr(e)});class Tu extends Er{_parse(t){const r=this._getOrReturnCtx(t);return wt(r,{code:ot.invalid_type,expected:Ct.never,received:r.parsedType}),tr}}Tu.create=e=>new Tu({typeName:rr.ZodNever,...mr(e)});class a6 extends Er{_parse(t){if(this._getType(t)!==Ct.undefined){const n=this._getOrReturnCtx(t);return wt(n,{code:ot.invalid_type,expected:Ct.void,received:n.parsedType}),tr}return fo(t.data)}}a6.create=e=>new a6({typeName:rr.ZodVoid,...mr(e)});class dl extends Er{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ct.array)return wt(r,{code:ot.invalid_type,expected:Ct.array,received:r.parsedType}),tr;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(wt(r,{code:o?ot.too_big:ot.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(wt(r,{code:ot.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(wt(r,{code:ot.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Cu(r,o,r.path,l)))).then(o=>Ci.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new Cu(r,o,r.path,l)));return Ci.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new dl({...this._def,minLength:{value:t,message:At.toString(r)}})}max(t,r){return new dl({...this._def,maxLength:{value:t,message:At.toString(r)}})}length(t,r){return new dl({...this._def,exactLength:{value:t,message:At.toString(r)}})}nonempty(t){return this.min(1,t)}}dl.create=(e,t)=>new dl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:rr.ZodArray,...mr(t)});function Mh(e){if(e instanceof as){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=mu.create(Mh(n))}return new as({...e._def,shape:()=>t})}else return e instanceof dl?new dl({...e._def,type:Mh(e.element)}):e instanceof mu?mu.create(Mh(e.unwrap())):e instanceof Sm?Sm.create(Mh(e.unwrap())):e instanceof sf?sf.create(e.items.map(t=>Mh(t))):e}class as extends Er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ar.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ct.object){const u=this._getOrReturnCtx(t);return wt(u,{code:ot.invalid_type,expected:Ct.object,received:u.parsedType}),tr}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Tu&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Cu(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Tu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(wt(s,{code:ot.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Cu(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Ci.mergeObjectSync(n,u)):Ci.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return At.errToObj,new as({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:At.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new as({...this._def,unknownKeys:"strip"})}passthrough(){return new as({...this._def,unknownKeys:"passthrough"})}extend(t){return new as({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new as({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:rr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new as({...this._def,catchall:t})}pick(t){const r={};for(const n of Ar.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new as({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ar.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new as({...this._def,shape:()=>r})}deepPartial(){return Mh(this)}partial(t){const r={};for(const n of Ar.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new as({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ar.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof mu;)i=i._def.innerType;r[n]=i}return new as({...this._def,shape:()=>r})}keyof(){return lX(Ar.objectKeys(this.shape))}}as.create=(e,t)=>new as({shape:()=>e,unknownKeys:"strip",catchall:Tu.create(),typeName:rr.ZodObject,...mr(t)});as.strictCreate=(e,t)=>new as({shape:()=>e,unknownKeys:"strict",catchall:Tu.create(),typeName:rr.ZodObject,...mr(t)});as.lazycreate=(e,t)=>new as({shape:e,unknownKeys:"strip",catchall:Tu.create(),typeName:rr.ZodObject,...mr(t)});class kb extends Er{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new cc(l.ctx.common.issues));return wt(r,{code:ot.invalid_union,unionErrors:o}),tr}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new cc(c));return wt(r,{code:ot.invalid_union,unionErrors:l}),tr}}get options(){return this._def.options}}kb.create=(e,t)=>new kb({options:e,typeName:rr.ZodUnion,...mr(t)});function GA(e,t){const r=tu(e),n=tu(t);if(e===t)return{valid:!0,data:e};if(r===Ct.object&&n===Ct.object){const s=Ar.objectKeys(t),i=Ar.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=GA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ct.array&&n===Ct.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=GA(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ct.date&&n===Ct.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Eb extends Er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Z5(i)||Z5(o))return tr;const l=GA(i.value,o.value);return l.valid?((Q5(i)||Q5(o))&&r.dirty(),{status:r.value,value:l.data}):(wt(n,{code:ot.invalid_intersection_types}),tr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Eb.create=(e,t,r)=>new Eb({left:e,right:t,typeName:rr.ZodIntersection,...mr(r)});class sf extends Er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ct.array)return wt(n,{code:ot.invalid_type,expected:Ct.array,received:n.parsedType}),tr;if(n.data.length<this._def.items.length)return wt(n,{code:ot.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tr;!this._def.rest&&n.data.length>this._def.items.length&&(wt(n,{code:ot.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Cu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Ci.mergeArray(r,o)):Ci.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new sf({...this._def,rest:t})}}sf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sf({items:e,typeName:rr.ZodTuple,rest:null,...mr(t)})};class i6 extends Er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ct.map)return wt(n,{code:ot.invalid_type,expected:Ct.map,received:n.parsedType}),tr;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Cu(n,l,n.path,[u,"key"])),value:i._parse(new Cu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return tr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return tr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}i6.create=(e,t,r)=>new i6({valueType:t,keyType:e,typeName:rr.ZodMap,...mr(r)});class Ig extends Er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ct.set)return wt(n,{code:ot.invalid_type,expected:Ct.set,received:n.parsedType}),tr;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(wt(n,{code:ot.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(wt(n,{code:ot.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return tr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Cu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ig({...this._def,minSize:{value:t,message:At.toString(r)}})}max(t,r){return new Ig({...this._def,maxSize:{value:t,message:At.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ig.create=(e,t)=>new Ig({valueType:e,minSize:null,maxSize:null,typeName:rr.ZodSet,...mr(t)});class o6 extends Er{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}o6.create=(e,t)=>new o6({getter:e,typeName:rr.ZodLazy,...mr(t)});class KA extends Er{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return wt(r,{received:r.data,code:ot.invalid_literal,expected:this._def.value}),tr}return{status:"valid",value:t.data}}get value(){return this._def.value}}KA.create=(e,t)=>new KA({value:e,typeName:rr.ZodLiteral,...mr(t)});function lX(e,t){return new _m({values:e,typeName:rr.ZodEnum,...mr(t)})}class _m extends Er{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return wt(r,{expected:Ar.joinValues(n),received:r.parsedType,code:ot.invalid_type}),tr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return wt(r,{received:r.data,code:ot.invalid_enum_value,options:n}),tr}return fo(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return _m.create(t,{...this._def,...r})}exclude(t,r=this._def){return _m.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}_m.create=lX;class l6 extends Er{_parse(t){const r=Ar.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ct.string&&n.parsedType!==Ct.number){const s=Ar.objectValues(r);return wt(n,{expected:Ar.joinValues(s),received:n.parsedType,code:ot.invalid_type}),tr}if(this._cache||(this._cache=new Set(Ar.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ar.objectValues(r);return wt(n,{received:n.data,code:ot.invalid_enum_value,options:s}),tr}return fo(t.data)}get enum(){return this._def.values}}l6.create=(e,t)=>new l6({values:e,typeName:rr.ZodNativeEnum,...mr(t)});class Cb extends Er{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ct.promise&&r.common.async===!1)return wt(r,{code:ot.invalid_type,expected:Ct.promise,received:r.parsedType}),tr;const n=r.parsedType===Ct.promise?r.data:Promise.resolve(r.data);return fo(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Cb.create=(e,t)=>new Cb({type:e,typeName:rr.ZodPromise,...mr(t)});class jm extends Er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{wt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return tr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?tr:c.status==="dirty"||r.value==="dirty"?L0(c.value):c});{if(r.value==="aborted")return tr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?tr:l.status==="dirty"||r.value==="dirty"?L0(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?tr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?tr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wm(o))return tr;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>wm(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):tr);Ar.assertNever(s)}}jm.create=(e,t,r)=>new jm({schema:e,typeName:rr.ZodEffects,effect:t,...mr(r)});jm.createWithPreprocess=(e,t,r)=>new jm({schema:t,effect:{type:"preprocess",transform:e},typeName:rr.ZodEffects,...mr(r)});class mu extends Er{_parse(t){return this._getType(t)===Ct.undefined?fo(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mu.create=(e,t)=>new mu({innerType:e,typeName:rr.ZodOptional,...mr(t)});class Sm extends Er{_parse(t){return this._getType(t)===Ct.null?fo(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sm.create=(e,t)=>new Sm({innerType:e,typeName:rr.ZodNullable,...mr(t)});class YA extends Er{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ct.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}YA.create=(e,t)=>new YA({innerType:e,typeName:rr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...mr(t)});class XA extends Er{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sb(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new cc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new cc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}XA.create=(e,t)=>new XA({innerType:e,typeName:rr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...mr(t)});class c6 extends Er{_parse(t){if(this._getType(t)!==Ct.nan){const n=this._getOrReturnCtx(t);return wt(n,{code:ot.invalid_type,expected:Ct.nan,received:n.parsedType}),tr}return{status:"valid",value:t.data}}}c6.create=e=>new c6({typeName:rr.ZodNaN,...mr(e)});class Swe extends Er{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class xR extends Er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?tr:i.status==="dirty"?(r.dirty(),L0(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?tr:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new xR({in:t,out:r,typeName:rr.ZodPipeline})}}class ZA extends Er{_parse(t){const r=this._def.innerType._parse(t),n=s=>(wm(s)&&(s.value=Object.freeze(s.value)),s);return Sb(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ZA.create=(e,t)=>new ZA({innerType:e,typeName:rr.ZodReadonly,...mr(t)});var rr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(rr||(rr={}));const lr=ql.create;rf.create;nf.create;const tl=Nb.create;bm.create;Tu.create;const cX=dl.create,Tf=as.create;kb.create;Eb.create;sf.create;const Nwe=KA.create,vR=_m.create;Cb.create;mu.create;Sm.create;const pd={string:(e=>ql.create({...e,coerce:!0})),number:(e=>rf.create({...e,coerce:!0})),boolean:(e=>Nb.create({...e,coerce:!0})),bigint:(e=>nf.create({...e,coerce:!0})),date:(e=>bm.create({...e,coerce:!0}))},wv=Oye,uX=_.createContext({}),Lt=({...e})=>a.jsx(uX.Provider,{value:{name:e.name},children:a.jsx(Mye,{...e})}),D_=()=>{const e=_.useContext(uX),t=_.useContext(dX),{getFieldState:r,formState:n}=R_(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},dX=_.createContext({}),Mt=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return a.jsx(dX.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:Je("space-y-2",e),...t})})});Mt.displayName="FormItem";const Dt=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=D_();return a.jsx($e,{ref:r,className:Je(n&&"text-destructive",e),htmlFor:s,...t})});Dt.displayName="FormLabel";const Ft=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=D_();return a.jsx(QW,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Ft.displayName="FormControl";const Ca=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=D_();return a.jsx("p",{ref:r,id:n,className:Je("text-sm text-muted-foreground",e),...t})});Ca.displayName="FormDescription";const Jt=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=D_(),o=s?String(s?.message):t;return o?a.jsx("p",{ref:n,id:i,className:Je("text-sm font-medium text-destructive",e),...r,children:o}):null});Jt.displayName="FormMessage";const kwe=()=>{const e=Date.now(),t=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${t}`};var fX="AlertDialog",[Ewe]=Yn(fX,[uK]),vc=uK(),hX=e=>{const{__scopeAlertDialog:t,...r}=e,n=vc(t);return a.jsx(G4,{...n,...r,modal:!0})};hX.displayName=fX;var Cwe="AlertDialogTrigger",Twe=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=vc(r);return a.jsx(kK,{...s,...n,ref:t})});Twe.displayName=Cwe;var Awe="AlertDialogPortal",mX=e=>{const{__scopeAlertDialog:t,...r}=e,n=vc(t);return a.jsx(K4,{...n,...r})};mX.displayName=Awe;var Pwe="AlertDialogOverlay",pX=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=vc(r);return a.jsx(uv,{...s,...n,ref:t})});pX.displayName=Pwe;var am="AlertDialogContent",[Owe,Rwe]=Ewe(am),Dwe=eq("AlertDialogContent"),gX=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=vc(r),o=_.useRef(null),l=It(t,o),c=_.useRef(null);return a.jsx(Y0e,{contentName:am,titleName:xX,docsSlug:"alert-dialog",children:a.jsx(Owe,{scope:r,cancelRef:c,children:a.jsxs(dv,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Qe(s.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(Dwe,{children:n}),a.jsx(Mwe,{contentRef:o})]})})})});gX.displayName=am;var xX="AlertDialogTitle",vX=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=vc(r);return a.jsx(fv,{...s,...n,ref:t})});vX.displayName=xX;var yX="AlertDialogDescription",wX=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=vc(r);return a.jsx(hv,{...s,...n,ref:t})});wX.displayName=yX;var Iwe="AlertDialogAction",bX=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=vc(r);return a.jsx(N_,{...s,...n,ref:t})});bX.displayName=Iwe;var _X="AlertDialogCancel",jX=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Rwe(_X,r),i=vc(r),o=It(t,s);return a.jsx(N_,{...i,...n,ref:o})});jX.displayName=_X;var Mwe=({contentRef:e})=>{const t=`\`${am}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${am}\` by passing a \`${yX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${am}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Fwe=hX,Lwe=mX,SX=pX,NX=gX,kX=bX,EX=jX,CX=vX,TX=wX;const Tb=Fwe,$we=Lwe,AX=_.forwardRef(({className:e,...t},r)=>a.jsx(SX,{className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));AX.displayName=SX.displayName;const Mg=_.forwardRef(({className:e,...t},r)=>a.jsxs($we,{children:[a.jsx(AX,{}),a.jsx(NX,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Mg.displayName=NX.displayName;const Fg=({className:e,...t})=>a.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",e),...t});Fg.displayName="AlertDialogHeader";const Lg=({className:e,...t})=>a.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lg.displayName="AlertDialogFooter";const $g=_.forwardRef(({className:e,...t},r)=>a.jsx(CX,{ref:r,className:Je("text-lg font-semibold",e),...t}));$g.displayName=CX.displayName;const Bg=_.forwardRef(({className:e,...t},r)=>a.jsx(TX,{ref:r,className:Je("text-sm text-muted-foreground",e),...t}));Bg.displayName=TX.displayName;const Ug=_.forwardRef(({className:e,...t},r)=>a.jsx(kX,{ref:r,className:Je(x_(),e),...t}));Ug.displayName=kX.displayName;const Vg=_.forwardRef(({className:e,...t},r)=>a.jsx(EX,{ref:r,className:Je(x_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Vg.displayName=EX.displayName;function PX({value:e,onChange:t,storeId:r}){const[n,s]=_.useState([]),[i,o]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState(!1),[f,m]=_.useState(null),[g,y]=_.useState(!1);_.useEffect(()=>{x()},[r]);const x=async()=>{if(r)try{const{data:w,error:T}=await ne.from("categories").select("id, name").eq("store_id",r).order("name");if(T)throw T;s(w||[])}catch(w){Ve({title:"Error loading categories",description:w.message,variant:"destructive"})}},v=async()=>{if(!l.trim()){Ve({title:"Invalid category",description:"Please enter a category name",variant:"destructive"});return}if(n.some(w=>w.name.toLowerCase()===l.trim().toLowerCase())){Ve({title:"Category exists",description:"This category already exists",variant:"destructive"});return}try{const{data:w,error:T}=await ne.from("categories").insert({name:l.trim(),store_id:r}).select().single();if(T)throw T;s(E=>[...E,w].sort((N,k)=>N.name.localeCompare(k.name))),t(w.name),c(""),o(!1),Ve({title:"Category added",description:`${w.name} has been added`})}catch(w){Ve({title:"Error adding category",description:w.message,variant:"destructive"})}},j=(w,T)=>{w.stopPropagation(),m(T),d(!0)},S=async()=>{if(f){y(!0);try{const{error:w}=await ne.from("categories").delete().eq("id",f.id);if(w)throw w;s(T=>T.filter(E=>E.id!==f.id)),e===f.name&&t(""),Ve({title:"Category deleted",description:`${f.name} has been removed`})}catch(w){Ve({title:"Error deleting category",description:w.message,variant:"destructive"})}finally{y(!1),d(!1),m(null)}}};return a.jsxs(a.Fragment,{children:[i?a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{placeholder:"Enter custom category",value:l,onChange:w=>c(w.target.value),onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),v())}}),a.jsx(le,{type:"button",size:"sm",onClick:v,children:"Add"}),a.jsx(le,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(!1),c("")},children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsxs(_r,{value:e,onValueChange:t,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Select category"})}),a.jsx(wr,{className:"z-50 bg-popover",children:n.map(w=>a.jsx(Me,{value:w.name,className:"flex items-center justify-between pr-2",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{children:w.name}),a.jsx(le,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-2 hover:bg-destructive/10 hover:text-destructive",onClick:T=>j(T,w),children:a.jsx(fa,{className:"h-3 w-3"})})]})},w.id))})]}),a.jsx(le,{type:"button",variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>o(!0),children:"+ Add custom category"})]}),a.jsx(Tb,{open:u,onOpenChange:d,children:a.jsxs(Mg,{children:[a.jsxs(Fg,{children:[a.jsx($g,{children:"Delete Category"}),a.jsxs(Bg,{children:['Are you sure you want to delete "',f?.name,'"? This action cannot be undone.']})]}),a.jsxs(Lg,{children:[a.jsx(Vg,{disabled:g,children:"Cancel"}),a.jsx(Ug,{onClick:S,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?"Deleting...":"Delete"})]})]})})]})}const Ab=["https://images.unsplash.com/photo-1763359161311-1a62681fb3c0?w=800&q=80","https://images.unsplash.com/photo-1763359161278-0cabc4924746?w=800&q=80","https://images.unsplash.com/photo-1763359161530-6631e16431fd?w=800&q=80","https://images.unsplash.com/photo-1763359161346-dbb620ef8fe9?w=800&q=80","https://images.unsplash.com/photo-1763359161317-5e4e5ea3075f?w=800&q=80","https://images.unsplash.com/photo-1763359161302-ccacb7b785da?w=800&q=80","https://images.unsplash.com/photo-1763358991454-2d0059bf6796?w=800&q=80","https://images.unsplash.com/photo-1763358958563-b9efe06f989f?w=800&q=80","https://images.unsplash.com/photo-1763358927011-ab7d82821124?w=800&q=80","https://images.unsplash.com/photo-1763358896930-3982ec4e3293?w=800&q=80"],Bwe=()=>{const e=Math.floor(Math.random()*Ab.length);return Ab[e]},Uwe=(e=1)=>{const t=[...Ab];for(let n=t.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[t[n],t[s]]=[t[s],t[n]]}const r=Math.min(e,Ab.length);return t.slice(0,r)},Vwe=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),zwe=Tf({id:lr(),name:lr().trim().min(1,"Variant name is required"),price:lr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:lr().trim().optional()}),Wwe=Tf({name:lr().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:lr().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:lr().min(1,"Category is required"),basePrice:lr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Base price must be a valid positive number"),baseSku:lr().trim().optional(),baseStock:lr().refine(e=>{const t=parseInt(e);return!isNaN(t)&&t>=0},"Stock must be a valid number (0 or greater)"),status:vR(["published","draft","inactive"]),variants:cX(zwe).optional()}),qwe=()=>{const e=nr(),[t]=_.useState(kwe()),[r,n]=_.useState(!1),[s,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState([]),[m,g]=_.useState({name:"",price:"",sku:""}),[y,x]=_.useState(null),[v,j]=_.useState(!1),[S,w]=_.useState(!1),[T,E]=_.useState(!1),N=sR(),k=vv({resolver:yv(Wwe),defaultValues:{name:"",description:"",basePrice:"",category:"",baseSku:"",baseStock:"",status:"published",variants:[]}});_.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{user:M}}=await ne.auth.getUser();if(!M)return;const{data:{session:W}}=await ne.auth.getSession(),K=W?.provider_token,V=W?.provider_refresh_token,{data:z,error:G}=await ne.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",M.id).single();if(G)throw G;if(z)if(x(z.id),K&&!z.google_access_token){const F={google_access_token:K};if(V){const X=new Date(Date.now()+36e5).toISOString();F.google_refresh_token=V,F.google_token_expiry=X}await ne.from("stores").update(F).eq("id",z.id),Ve({title:"Google Drive Connected",description:"You can now upload images from your device."}),w(!0)}else w(!!z.google_access_token)}catch(M){Ve({title:"Error loading store",description:M.message,variant:"destructive"})}},A=async M=>{console.log("handleImageUpload triggered");const W=Array.from(M.target.files||[]);if(console.log("Files selected:",W.length),W.length===0){console.log("No files selected");return}const K=W.filter(V=>V.type.startsWith("image/")?!0:(Ve({title:"Invalid file type",description:`${V.name} is not a valid image file`,variant:"destructive"}),!1));if(console.log("Valid files:",K.length),K.length!==0){j(!0);try{const{data:{session:V}}=await ne.auth.getSession();if(console.log("Session:",V?"Found":"Not found"),!V)throw new Error("Not authenticated");for(const z of K){console.log("Uploading file:",z.name);const G=new FormData;G.append("file",z);const F=await ne.functions.invoke("upload-to-drive",{body:G,headers:{Authorization:`Bearer ${V.access_token}`}});if(console.log("Upload response:",F),F.error)throw console.error("Upload error:",F.error),new Error(F.error.message||"Failed to upload image");F.data?.imageUrl&&(console.log("Image URL received:",F.data.imageUrl),i(X=>[...X,F.data.imageUrl]),Ve({title:"Image uploaded",description:`${z.name} uploaded successfully to Google Drive`}))}}catch(V){console.error("Upload error:",V),console.error("Error details:",JSON.stringify(V,null,2));let z=V.message||"";if(V.context?.body)try{const G=JSON.parse(V.context.body);z=G.error||G.message||z}catch(G){console.error("Could not parse error body:",G)}console.log("Extracted error message:",z),z.toLowerCase().includes("drive")&&z.toLowerCase().includes("not connected")?Ve({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):z.includes("Unauthorized")||z.includes("authenticated")?Ve({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):z.toLowerCase().includes("token")||z.toLowerCase().includes("expired")?Ve({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Ve({title:"Upload Failed",description:z||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{j(!1),M.target.value=""}}},I=()=>{if(!o.trim()){Ve({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let M=o.trim();if(M.includes("drive.google.com")){const W=M.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);W&&(M=`https://drive.google.com/thumbnail?id=${W[1]||W[2]}&sz=w1000`,Ve({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(W=>[...W,M]),l("")},P=M=>{i(W=>W.filter((K,V)=>V!==M))},D=()=>{if(!m.name.trim()||!m.price.trim()){Ve({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const M={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(W=>[...W,M]),g({name:"",price:"",sku:""})},B=M=>{f(W=>W.filter(K=>K.id!==M))},U=()=>{if(d.length===0)return null;const M=d.map(V=>parseFloat(V.price)),W=Math.min(...M),K=Math.max(...M);return W===K?`${W.toFixed(2)}`:`${W.toFixed(2)} - ${K.toFixed(2)}`},H=async M=>{if(M.status==="published"&&!N.canPublishProduct()){Ve({title:"Product Limit Reached",description:N.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(V=>setTimeout(V,1e3));const W=s.length>0?s:Uwe(3),K={id:t,name:M.name,slug:Vwe(M.name),description:M.description,category:M.category,basePrice:parseFloat(M.basePrice),stock:parseInt(M.baseStock),sku:M.baseSku||void 0,status:M.status,images:W,videoUrl:c.trim()||void 0,variants:d.map(V=>({name:V.name,price:parseFloat(V.price),sku:V.sku})),priceRange:U()||`${parseFloat(M.basePrice).toFixed(2)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};Pve(K),Ve({title:"Product created successfully",description:`${M.name} has been added to your catalog`}),e("/admin/products")}catch{Ve({title:"Error creating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return a.jsx(Si,{children:a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Add New Product"}),a.jsx("p",{className:"text-sm lg:text-base text-muted-foreground mt-1",children:"Create a new product listing for your store"})]}),N.getProductLimitMessage()&&a.jsxs(bn,{variant:N.canPublishProduct()?"default":"destructive",children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx(_n,{children:N.getProductLimitMessage()})]}),a.jsx(wv,{...k,children:a.jsx("form",{onSubmit:k.handleSubmit(H),className:"space-y-4 lg:space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Product Information"})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{className:"text-muted-foreground",children:"Product ID (Auto-generated)"}),a.jsx("div",{className:"px-3 py-2 bg-muted rounded-md font-mono text-sm text-foreground",children:t})]}),a.jsx(Lt,{control:k.control,name:"name",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Product Name"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter product name",...M})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:k.control,name:"description",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Description"}),a.jsx(Ft,{children:a.jsx(Js,{placeholder:"Describe your product...",className:"min-h-[120px]",...M})}),a.jsx(Jt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:k.control,name:"basePrice",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Base Price ()"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",step:"0.01",placeholder:"0.00",...M})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:k.control,name:"category",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Category"}),a.jsx(Ft,{children:a.jsx(PX,{value:M.value,onChange:M.onChange,storeId:y})}),a.jsx(Jt,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:k.control,name:"baseSku",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Base SKU (Optional)"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Product SKU (optional)",...M})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:k.control,name:"baseStock",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Base Stock Quantity"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"0",...M})}),a.jsx(Jt,{})]})})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Product Variants"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Add Variant"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),a.jsx(De,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:M=>g(W=>({...W,name:M.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),a.jsx(De,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:M=>g(W=>({...W,price:M.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"SKU (Optional)"}),a.jsx(De,{placeholder:"Optional SKU",value:m.sku,onChange:M=>g(W=>({...W,sku:M.target.value}))})]})]}),a.jsxs(le,{type:"button",onClick:D,size:"sm",children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",a.jsx("span",{className:"font-medium",children:U()})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Variant Name"}),a.jsx(ze,{children:"Price"}),a.jsx(ze,{children:"SKU"}),a.jsx(ze,{className:"w-[50px]"})]})}),a.jsx($s,{children:d.map(M=>a.jsxs(cr,{children:[a.jsx(Be,{className:"font-medium",children:M.name}),a.jsxs(Be,{children:["$",parseFloat(M.price).toFixed(2)]}),a.jsx(Be,{className:"text-muted-foreground",children:M.sku||""}),a.jsx(Be,{children:a.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>B(M.id),className:"text-destructive hover:text-destructive",children:a.jsx(fa,{className:"w-4 h-4"})})})]},M.id))})]})})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Product Images"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive or upload from your device"})]}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs(bn,{children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx(_n,{className:"flex items-center justify-between gap-4",children:S?a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Connect Google Drive to upload images from your device"}),a.jsx(le,{type:"button",size:"sm",variant:"outline",onClick:async()=>{E(!0);try{const{error:M}=await ne.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(M)throw M}catch(M){Ve({title:"Connection Failed",description:M.message,variant:"destructive"}),E(!1)}},disabled:T,children:T?"Connecting...":"Connect Drive"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{placeholder:"Paste Google Drive shareable link",value:o,onChange:M=>l(M.target.value),onKeyPress:M=>{M.key==="Enter"&&(M.preventDefault(),I())}}),a.jsx(le,{type:"button",onClick:I,size:"sm",children:"Add URL"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[a.jsx(Zl,{className:"w-8 h-8 mx-auto mb-4 text-muted-foreground"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"image-upload",disabled:v}),a.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:a.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mt-4",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Zl,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Choose Files"})})]}),s.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.map((M,W)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:M,alt:`Product Image ${W+1}`,className:"w-full h-full object-cover",onError:K=>{K.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),a.jsx(le,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>P(W),children:a.jsx(ri,{className:"w-3 h-3"})}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["Image ",W+1]})]},`url-${W}`))})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Product Video"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),a.jsx(De,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:M=>u(M.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const W=(K=>{const V=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,z=K.match(V);return z&&z[2].length===11?z[2]:null})(c);return a.jsxs("div",{className:"border rounded-lg p-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),W?a.jsx("div",{className:"max-w-md mx-auto",children:a.jsx("img",{src:`https://img.youtube.com/vi/${W}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):a.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Product Status"})}),a.jsx(_e,{children:a.jsx(Lt,{control:k.control,name:"status",render:({field:M})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Status"}),a.jsxs(_r,{onValueChange:M.onChange,defaultValue:M.value,children:[a.jsx(Ft,{children:a.jsx(yr,{children:a.jsx(jr,{})})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"draft",children:"Draft"}),a.jsx(Me,{value:"published",children:"Published"}),a.jsx(Me,{value:"inactive",children:"Inactive"})]})]}),a.jsx(Jt,{})]})})})]}),a.jsx(we,{children:a.jsx(_e,{className:"pt-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs(le,{type:"submit",className:"w-full",disabled:r,children:[a.jsx(Xd,{className:"w-4 h-4 mr-2"}),r?"Creating...":"Create Product"]}),a.jsx(le,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})},Hwe=Tf({id:lr(),name:lr().trim().min(1,"Variant name is required"),price:lr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Price must be a valid positive number"),sku:lr().trim().optional()}),Gwe=Tf({name:lr().trim().min(1,"Product name is required").max(100,"Name must be less than 100 characters"),description:lr().trim().min(10,"Description must be at least 10 characters").max(1e3,"Description must be less than 1000 characters"),category:lr().min(1,"Category is required"),basePrice:lr().refine(e=>{const t=parseFloat(e);return!isNaN(t)&&t>0},"Base price must be a valid positive number"),baseSku:lr().trim().optional(),baseStock:lr().refine(e=>{const t=parseInt(e);return!isNaN(t)&&t>=0},"Stock must be a valid number (0 or greater)"),status:vR(["published","draft","inactive"]),variants:cX(Hwe).optional()}),Kwe=()=>{const e=nr(),{id:t}=xc(),[r,n]=_.useState(!1),[s,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState([]),[m,g]=_.useState({name:"",price:"",sku:""}),[y,x]=_.useState(!0),[v,j]=_.useState(null),[S,w]=_.useState(""),[T,E]=_.useState(!1),[N,k]=_.useState(!1),[R,A]=_.useState(!1),I=sR(),P=vv({resolver:yv(Gwe),defaultValues:{name:"",description:"",basePrice:"",category:"",baseSku:"",baseStock:"",status:"draft",variants:[]}});_.useEffect(()=>{D()},[t,e,P]);const D=async()=>{if(!t){Ve({title:"Error",description:"Product ID is missing",variant:"destructive"}),e("/admin/products");return}const z=await Yw(t);if(!z){Ve({title:"Product not found",description:"The product you're trying to edit doesn't exist",variant:"destructive"}),e("/admin/products");return}try{const{data:{user:G}}=await ne.auth.getUser();if(!G)return;const{data:{session:F}}=await ne.auth.getSession(),X=F?.provider_token,Z=F?.provider_refresh_token,{data:re,error:ee}=await ne.from("stores").select("id, google_access_token, google_refresh_token").eq("user_id",G.id).single();if(ee)throw ee;if(re)if(j(re.id),X&&!re.google_access_token){const ce={google_access_token:X};if(Z){const pe=new Date(Date.now()+36e5).toISOString();ce.google_refresh_token=Z,ce.google_token_expiry=pe}await ne.from("stores").update(ce).eq("id",re.id),Ve({title:"Google Drive Connected",description:"You can now upload images from your device."}),k(!0)}else k(!!re.google_access_token)}catch(G){Ve({title:"Error loading store",description:G.message,variant:"destructive"})}P.reset({name:z.name,description:z.description,category:z.category,basePrice:z.basePrice?.toString()||z.base_price?.toString()||"",baseSku:z.sku||"",baseStock:z.stock?.toString()||"",status:z.status}),w(z.status),i(z.images||[]),u(z.videoUrl||z.video_url||""),z.variants&&f(z.variants.map((G,F)=>({id:`${F}`,name:G.name,price:G.price.toString(),sku:G.sku}))),x(!1)},B=()=>{if(!o.trim()){Ve({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"});return}let z=o.trim();if(z.includes("drive.google.com")){const G=z.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);G&&(z=`https://drive.google.com/thumbnail?id=${G[1]||G[2]}&sz=w1000`,Ve({title:"Google Drive Link Added",description:"Make sure the file is set to 'Anyone with the link can view'"}))}i(G=>[...G,z]),l("")},U=async z=>{console.log("handleImageUpload triggered");const G=Array.from(z.target.files||[]);if(console.log("Files selected:",G.length),G.length===0){console.log("No files selected");return}const F=G.filter(X=>X.type.startsWith("image/")?!0:(Ve({title:"Invalid file type",description:`${X.name} is not a valid image file`,variant:"destructive"}),!1));if(console.log("Valid files:",F.length),F.length!==0){E(!0);try{const{data:{session:X}}=await ne.auth.getSession();if(console.log("Session:",X?"Found":"Not found"),!X)throw new Error("Not authenticated");for(const Z of F){console.log("Uploading file:",Z.name);const re=new FormData;re.append("file",Z);const ee=await ne.functions.invoke("upload-to-drive",{body:re,headers:{Authorization:`Bearer ${X.access_token}`}});if(console.log("Upload response:",ee),ee.error)throw console.error("Upload error:",ee.error),new Error(ee.error.message||"Failed to upload image");ee.data?.imageUrl&&(console.log("Image URL received:",ee.data.imageUrl),i(ce=>[...ce,ee.data.imageUrl]),Ve({title:"Image uploaded",description:`${Z.name} uploaded successfully to Google Drive`}))}}catch(X){console.error("Upload error:",X),console.error("Error details:",JSON.stringify(X,null,2));let Z=X.message||"";if(X.context?.body)try{const re=JSON.parse(X.context.body);Z=re.error||re.message||Z}catch(re){console.error("Could not parse error body:",re)}console.log("Extracted error message:",Z),Z.toLowerCase().includes("drive")&&Z.toLowerCase().includes("not connected")?Ve({title:"Google Drive Not Connected",description:"Please connect your Google Drive account in Store Settings first, or use the Google Drive URL option instead.",variant:"destructive",duration:6e3}):Z.includes("Unauthorized")||Z.includes("authenticated")?Ve({title:"Authentication Required",description:"Please sign in again to upload images.",variant:"destructive"}):Z.toLowerCase().includes("token")||Z.toLowerCase().includes("expired")?Ve({title:"Google Drive Connection Expired",description:"Your Google Drive connection has expired. Please reconnect in Store Settings.",variant:"destructive",duration:6e3}):Ve({title:"Upload Failed",description:Z||"Failed to upload to Google Drive. Try using the Google Drive URL option instead.",variant:"destructive",duration:5e3})}finally{E(!1),z.target.value=""}}},H=z=>{i(G=>G.filter((F,X)=>X!==z))},M=()=>{if(!m.name.trim()||!m.price.trim()){Ve({title:"Invalid variant",description:"Please provide variant name and price",variant:"destructive"});return}const z={id:Date.now().toString(),name:m.name.trim(),price:m.price,sku:m.sku.trim()||void 0};f(G=>[...G,z]),g({name:"",price:"",sku:""})},W=z=>{f(G=>G.filter(F=>F.id!==z))},K=()=>{if(d.length===0)return null;const z=d.map(X=>parseFloat(X.price)),G=Math.min(...z),F=Math.max(...z);return G===F?`${G.toFixed(2)}`:`${G.toFixed(2)} - ${F.toFixed(2)}`},V=async z=>{if(!t)return;const G=S!=="published",F=z.status==="published";if(G&&F&&!I.canPublishProduct()){Ve({title:"Product Limit Reached",description:I.getProductLimitMessage()||"Cannot publish more products",variant:"destructive"});return}n(!0);try{await new Promise(Z=>setTimeout(Z,1e3));const X={id:t,name:z.name,description:z.description,category:z.category,basePrice:parseFloat(z.basePrice),stock:parseInt(z.baseStock),sku:z.baseSku||void 0,status:z.status,images:s.length>0?s:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"],videoUrl:c.trim()||void 0,variants:d.map(Z=>({name:Z.name,price:parseFloat(Z.price),sku:Z.sku})),priceRange:K()||`${parseFloat(z.basePrice).toFixed(2)}`,createdAt:(await Yw(t))?.createdAt||(await Yw(t))?.created_at||new Date().toISOString(),updatedAt:new Date().toISOString()};await Ove(t,X),Ve({title:"Product updated successfully",description:`${z.name} has been updated`}),e("/admin/products")}catch{Ve({title:"Error updating product",description:"Please try again later",variant:"destructive"})}finally{n(!1)}};return y?a.jsx(Si,{children:a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})})}):a.jsx(Si,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Edit Product"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]}),I.getProductLimitMessage()&&a.jsxs(bn,{variant:I.canPublishProduct()?"default":"destructive",children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx(_n,{children:I.getProductLimitMessage()})]}),a.jsx(wv,{...P,children:a.jsx("form",{onSubmit:P.handleSubmit(V),className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Product Information"})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsx(Lt,{control:P.control,name:"name",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Product Name"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter product name",...z})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:P.control,name:"description",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Description"}),a.jsx(Ft,{children:a.jsx(Js,{placeholder:"Describe your product...",className:"min-h-[120px]",...z})}),a.jsx(Jt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:P.control,name:"basePrice",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Base Price ()"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",step:"0.01",placeholder:"0.00",...z})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:P.control,name:"category",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Category"}),a.jsx(Ft,{children:a.jsx(PX,{value:z.value,onChange:z.onChange,storeId:v})}),a.jsx(Jt,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:P.control,name:"baseSku",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Base SKU (Optional)"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Product SKU (optional)",...z})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:P.control,name:"baseStock",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Base Stock Quantity"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"0",...z})}),a.jsx(Jt,{})]})})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Product Variants"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create different variations of your product (e.g., sizes, weights, colors)"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Add Variant"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Variant Name"}),a.jsx(De,{placeholder:"e.g., 1 KG Pack, Size XL",value:m.name,onChange:z=>g(G=>({...G,name:z.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Price ()"}),a.jsx(De,{type:"number",step:"0.01",placeholder:"0.00",value:m.price,onChange:z=>g(G=>({...G,price:z.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"SKU (Optional)"}),a.jsx(De,{placeholder:"Optional SKU",value:m.sku,onChange:z=>g(G=>({...G,sku:z.target.value}))})]})]}),a.jsxs(le,{type:"button",onClick:M,size:"sm",children:[a.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Add Variant"]})]}),d.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Variants (",d.length,")"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Price Range: ",a.jsx("span",{className:"font-medium",children:K()})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Variant Name"}),a.jsx(ze,{children:"Price"}),a.jsx(ze,{children:"SKU"}),a.jsx(ze,{className:"w-[50px]"})]})}),a.jsx($s,{children:d.map(z=>a.jsxs(cr,{children:[a.jsx(Be,{className:"font-medium",children:z.name}),a.jsxs(Be,{children:["$",parseFloat(z.price).toFixed(2)]}),a.jsx(Be,{className:"text-muted-foreground",children:z.sku||""}),a.jsx(Be,{children:a.jsx(le,{type:"button",variant:"ghost",size:"sm",onClick:()=>W(z.id),className:"text-destructive hover:text-destructive",children:a.jsx(fa,{className:"w-4 h-4"})})})]},z.id))})]})})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Product Images"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add images from Google Drive"})]}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs(bn,{children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx(_n,{className:"flex items-center justify-between gap-4",children:N?a.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:" Google Drive Connected - You can now upload images from your device"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm",children:"Connect Google Drive to upload images from your device"}),a.jsx(le,{type:"button",size:"sm",variant:"outline",onClick:async()=>{A(!0);try{const{error:z}=await ne.auth.signInWithOAuth({provider:"google",options:{scopes:"https://www.googleapis.com/auth/drive.file",redirectTo:window.location.href,queryParams:{access_type:"offline",prompt:"consent"}}});if(z)throw z}catch(z){Ve({title:"Connection Failed",description:z.message,variant:"destructive"}),A(!1)}},disabled:R,children:R?"Connecting...":"Connect Drive"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Google Drive Image URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{placeholder:"Paste Google Drive shareable link",value:o,onChange:z=>l(z.target.value),onKeyPress:z=>{z.key==="Enter"&&(z.preventDefault(),B())}}),a.jsx(le,{type:"button",onClick:B,size:"sm",children:"Add URL"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Make sure the link is set to "Anyone with the link can view"'})]}),a.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[a.jsx(Zl,{className:"w-8 h-8 mx-auto mb-4 text-muted-foreground"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Or upload from device"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG images. Will be uploaded to your Google Drive."})]}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:U,className:"hidden",id:"image-upload-edit",disabled:T}),a.jsx("label",{htmlFor:"image-upload-edit",className:"cursor-pointer",children:a.jsx("span",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mt-4",children:T?a.jsxs(a.Fragment,{children:[a.jsx(Zl,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Choose Files"})})]}),s.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.map((z,G)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:z,alt:`Preview ${G+1}`,className:"w-full h-full object-cover",onError:F=>{F.currentTarget.src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800"}})}),a.jsx(le,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>H(G),children:a.jsx(ri,{className:"w-3 h-3"})})]},G))})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Product Video"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a YouTube video to showcase your product"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"YouTube Video URL"}),a.jsx(De,{placeholder:"https://www.youtube.com/watch?v=...",value:c,onChange:z=>u(z.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a YouTube video URL to show it alongside your product images"})]}),c&&(()=>{const G=(F=>{const X=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,Z=F.match(X);return Z&&Z[2].length===11?Z[2]:null})(c);return a.jsxs("div",{className:"border rounded-lg p-2",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),G?a.jsx("div",{className:"max-w-md mx-auto",children:a.jsx("img",{src:`https://img.youtube.com/vi/${G}/hqdefault.jpg`,alt:"YouTube video thumbnail",className:"w-full h-auto rounded-lg"})}):a.jsx("div",{className:"max-w-md mx-auto aspect-video bg-muted rounded-lg flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid YouTube URL"})})]})})()]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Product Status"})}),a.jsx(_e,{children:a.jsx(Lt,{control:P.control,name:"status",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Status"}),a.jsxs(_r,{onValueChange:z.onChange,value:z.value,children:[a.jsx(Ft,{children:a.jsx(yr,{children:a.jsx(jr,{})})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"draft",children:"Draft"}),a.jsx(Me,{value:"published",children:"Published"}),a.jsx(Me,{value:"inactive",children:"Inactive"})]})]}),a.jsx(Jt,{})]})})})]}),a.jsx(we,{children:a.jsx(_e,{className:"pt-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs(le,{type:"submit",className:"w-full",disabled:r,children:[a.jsx(Xd,{className:"w-4 h-4 mr-2"}),r?"Updating...":"Update Product"]}),a.jsx(le,{type:"button",variant:"outline",className:"w-full",onClick:()=>e("/admin/products"),disabled:r,children:"Cancel"})]})})})]})]})})})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zg={};zg.version="0.18.5";var Ni=1200,af=1252,Ywe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yR={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},I_=function(e){Ywe.indexOf(e)!=-1&&(af=yR[0]=e)};function Xwe(){I_(1252)}var ro=function(e){Ni=e,I_(e)};function M_(){ro(1200),Xwe()}function Pb(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Zwe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function OX(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Bh=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Zwe(e.slice(2)):t==254&&r==255?OX(e.slice(2)):t==65279?e.slice(1):e},$0=function(t){return String.fromCharCode(t)},QA=function(t){return String.fromCharCode(t)},br;function Qwe(e){br=e,ro=function(t){Ni=t,I_(t)},Bh=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?br.utils.decode(1200,Pb(t.slice(2))):t},$0=function(r){return Ni===1200?String.fromCharCode(r):br.utils.decode(Ni,[r&255,r>>8])[0]},QA=function(r){return br.utils.decode(af,[r])[0]},oZ()}var ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Wg(e){for(var t="",r=0,n=0,s=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,s=e.charCodeAt(u++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=ou.charAt(i)+ou.charAt(o)+ou.charAt(l)+ou.charAt(c);return t}function Ti(e){var t="",r=0,n=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=ou.indexOf(e.charAt(u++)),o=ou.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=ou.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ou.indexOf(e.charAt(u++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var dr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),yc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Au(e){return dr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function u6(e){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var xi=function(t){return dr?yc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function bv(e){if(typeof ArrayBuffer>"u")return xi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Wu(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Jwe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function wR(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return wR(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Is=dr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function ebe(e){for(var t=[],r=0,n=e.length+250,s=Au(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Au(65535),n=65530)}return t.push(s.slice(0,r)),Is(t)}var ba=/\u0000/g,B0=/[\u0001-\u0006]/g;function im(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Fo(e,t){var r=""+e;return r.length>=t?r:Cn("0",t-r.length)+r}function bR(e,t){var r=""+e;return r.length>=t?r:Cn(" ",t-r.length)+r}function Ob(e,t){var r=""+e;return r.length>=t?r:r+Cn(" ",t-r.length)}function tbe(e,t){var r=""+Math.round(e);return r.length>=t?r:Cn("0",t-r.length)+r}function rbe(e,t){var r=""+e;return r.length>=t?r:Cn("0",t-r.length)+r}var d6=Math.pow(2,32);function kh(e,t){if(e>d6||e<-d6)return tbe(e,t);var r=Math.round(e);return rbe(r,t)}function Rb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var f6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],o2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nbe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var zt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},h6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sbe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Db(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(s);u<t&&(f=Math.floor(s),l=f*o+i,d=f*u+c,!(s-f<5e-8));)s=1/(s-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function lu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=ube(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var RX=new Date(1899,11,31,0,0,0),abe=RX.getTime(),ibe=new Date(1900,2,1,0,0,0);function DX(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=ibe&&(r+=1440*60*1e3),(r-(abe+(e.getTimezoneOffset()-RX.getTimezoneOffset())*6e4))/(1440*60*1e3)}function _R(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function obe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lbe(e){var t=e<0?12:11,r=_R(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function cbe(e){var t=_R(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function qg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=lbe(e):t===10?r=e.toFixed(10).substr(0,12):r=cbe(e),_R(obe(r.toUpperCase()))}function of(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):qg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ai(14,DX(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ube(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function dbe(e,t,r,n){var s="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return o2[r.m-1][1];case 5:return o2[r.m-1][0];default:return o2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return f6[r.q][0];default:return f6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Fo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Fo(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?Fo(c,u):"";return d}function cu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var IX=/%/g;function fbe(e,t,r){var n=t.replace(IX,""),s=t.length-n.length;return Ql(e,n,r*Math.pow(10,2*s))+Cn("%",s)}function hbe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ql(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function MX(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+MX(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var FX=/# (\?+)( ?)\/( ?)(\d+)/;function mbe(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),o=s-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Cn(" ",e[1].length+1+e[4].length):bR(o,e[1].length)+e[2]+"/"+e[3]+Fo(l,e[4].length))}function pbe(e,t,r){return r+(t===0?"":""+t)+Cn(" ",e[1].length+2+e[4].length)}var LX=/^#*0*\.([0#]+)/,$X=/\).*[0#]/,BX=/\(###\) ###\\?-####/;function Aa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function m6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function p6(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gbe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function xbe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Wi(e,t,r){if(e.charCodeAt(0)===40&&!t.match($X)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wi("n",n,r):"("+Wi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hbe(e,t,r);if(t.indexOf("%")!==-1)return fbe(e,t,r);if(t.indexOf("E")!==-1)return MX(t,r);if(t.charCodeAt(0)===36)return"$"+Wi(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+kh(c,t.length);if(t.match(/^[#?]+$/))return s=kh(r,0),s==="0"&&(s=""),s.length>t.length?s:Aa(t.substr(0,t.length-s.length))+s;if(i=t.match(FX))return mbe(i,c,u);if(t.match(/^#+0+$/))return u+kh(c,t.length-t.indexOf("0"));if(i=t.match(LX))return s=m6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Aa(i[1])).replace(/\.$/,"."+Aa(i[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+Cn("0",Aa(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+m6(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+cu(kh(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wi(e,t,-r):cu(""+(Math.floor(r)+gbe(r,i[1].length)))+"."+Fo(p6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Wi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=im(Wi(e,t.replace(/[\\-]/g,""),r)),o=0,im(im(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(BX))return s=Wi(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Db(c,Math.pow(10,o)-1,!1),s=""+u,d=Ql("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=Ob(l[2],o),d.length<i[4].length&&(d=Aa(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Db(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?bR(l[1],o)+i[2]+"/"+i[3]+Ob(l[2],o):Cn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=kh(r,0),t.length<=s.length?s:Aa(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,m=t.length-s.length-f;return Aa(t.substr(0,f)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=p6(r,i[1].length),r<0?"-"+Wi(e,t,-r):cu(xbe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Fo(0,3-y.length):"")+y})+"."+Fo(o,i[1].length);switch(t){case"###,##0.00":return Wi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=cu(kh(c,0));return g!=="0"?u+g:"";case"###,###.00":return Wi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Wi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vbe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ql(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ybe(e,t,r){var n=t.replace(IX,""),s=t.length-n.length;return Ql(e,n,r*Math.pow(10,2*s))+Cn("%",s)}function UX(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+UX(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function rl(e,t,r){if(e.charCodeAt(0)===40&&!t.match($X)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?rl("n",n,r):"("+rl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vbe(e,t,r);if(t.indexOf("%")!==-1)return ybe(e,t,r);if(t.indexOf("E")!==-1)return UX(t,r);if(t.charCodeAt(0)===36)return"$"+rl(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Fo(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Aa(t.substr(0,t.length-s.length))+s;if(i=t.match(FX))return pbe(i,c,u);if(t.match(/^#+0+$/))return u+Fo(c,t.length-t.indexOf("0"));if(i=t.match(LX))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Aa(i[1])).replace(/\.$/,"."+Aa(i[1])),s=s.replace(/\.(\d*)$/,function(y,x){return"."+x+Cn("0",Aa(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+cu(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+rl(e,t,-r):cu(""+r)+"."+Cn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return rl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=im(rl(e,t.replace(/[\\-]/g,""),r)),o=0,im(im(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(BX))return s=rl(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Db(c,Math.pow(10,o)-1,!1),s=""+u,d=Ql("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=Ob(l[2],o),d.length<i[4].length&&(d=Aa(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Db(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?bR(l[1],o)+i[2]+"/"+i[3]+Ob(l[2],o):Cn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Aa(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,m=t.length-s.length-f;return Aa(t.substr(0,f)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+rl(e,t,-r):cu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Fo(0,3-y.length):"")+y})+"."+Fo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=cu(""+c);return g!=="0"?u+g:"";default:if(t.match(/\.[0#?]*$/))return rl(e,t.slice(0,t.lastIndexOf(".")),r)+Aa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ql(e,t,r){return(r|0)===r?rl(e,t,r):Wi(e,t,r)}function wbe(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var VX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Af(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Rb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(VX))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function bbe(e,t,r,n){for(var s=[],i="",o=0,l="",c="t",u,d,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Rb(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);s[s.length]={t:"t",v:i},++o;break;case"\\":var g=e.charAt(++o),y=g==="("||g===")"?g:"t";s[s.length]={t:y,v:g},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=lu(t,r,e.charAt(o+1)==="2"),u==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=lu(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(u==null&&(u=lu(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),u==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(VX)){if(u==null&&(u=lu(t,r),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Af(e)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var v=0,j=0,S;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,c="h",v<1&&(v=1);break;case"s":(S=s[o].v.match(/\.0+$/))&&(j=Math.max(j,S[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",T;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=dbe(s[o].t.charCodeAt(0),s[o].v,u,j),s[o].t="t";break;case"n":case"?":for(T=o+1;s[T]!=null&&((l=s[T].t)==="?"||l==="D"||(l===" "||l==="t")&&s[T+1]!=null&&(s[T+1].t==="?"||s[T+1].t==="t"&&s[T+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[T].v==="/"||s[T].v===" "&&s[T+1]!=null&&s[T+1].t=="?"));)s[o].v+=s[T].v,s[T]={v:"",t:";"},++T;w+=s[o].v,o=T-1;break;case"G":s[o].t="t",s[o].v=of(t,r);break}var E="",N,k;if(w.length>0){w.charCodeAt(0)==40?(N=t<0&&w.charCodeAt(0)===45?-t:t,k=Ql("n",w,N)):(N=t<0&&n>1?-t:t,k=Ql("n",w,N),N<0&&s[0]&&s[0].t=="t"&&(k=k.substr(1),s[0].v="-"+s[0].v)),T=k.length-1;var R=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){R=o;break}var A=s.length;if(R===s.length&&k.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(T>=s[o].v.length-1?(T-=s[o].v.length,s[o].v=k.substr(T+1,s[o].v.length)):T<0?s[o].v="":(s[o].v=k.substr(0,T+1),T=-1),s[o].t="t",A=o);T>=0&&A<s.length&&(s[A].v=k.substr(0,T+1)+s[A].v)}else if(R!==s.length&&k.indexOf("E")===-1){for(T=k.indexOf(".")-1,o=R;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(d=s[o].v.indexOf(".")>-1&&o===R?s[o].v.indexOf(".")-1:s[o].v.length-1,E=s[o].v.substr(d+1);d>=0;--d)T>=0&&(s[o].v.charAt(d)==="0"||s[o].v.charAt(d)==="#")&&(E=k.charAt(T--)+E);s[o].v=E,s[o].t="t",A=o}for(T>=0&&A<s.length&&(s[A].v=k.substr(0,T+1)+s[A].v),T=k.indexOf(".")+1,o=R;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==R)){for(d=s[o].v.indexOf(".")>-1&&o===R?s[o].v.indexOf(".")+1:0,E=s[o].v.substr(0,d);d<s[o].v.length;++d)T<k.length&&(E+=k.charAt(T++));s[o].v=E,s[o].t="t",A=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(N=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Ql(s[o].t,s[o].v,N),s[o].t="t");var I="";for(o=0;o!==s.length;++o)s[o]!=null&&(I+=s[o].v);return I}var g6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function x6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function _be(e,t){var r=wbe(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(g6),l=r[1].match(g6);return x6(t,o)?[n,r[0]]:x6(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Ai(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:zt)[e],n==null&&(n=r.table&&r.table[h6[e]]||zt[h6[e]]),n==null&&(n=sbe[e]||"General");break}if(Rb(n,0))return of(t,r);t instanceof Date&&(t=DX(t,r.date1904));var s=_be(n,t);if(Rb(s[1]))return of(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return bbe(s[1],t,r,s[0])}function fl(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(zt[r]==null){t<0&&(t=r);continue}if(zt[r]==e){t=r;break}}t<0&&(t=391)}return zt[t]=e,t}function _v(e){for(var t=0;t!=392;++t)e[t]!==void 0&&fl(e[t],t)}function mp(){zt=nbe()}var zX={format:Ai,load:fl,_table:zt,load_table:_v,parse_date_code:lu,is_date:Af,get_table:function(){return zX._table=zt}},jbe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},WX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Sbe(e){var t=typeof e=="number"?zt[e]:e;return t=t.replace(WX,"(\\d+)"),new RegExp("^"+t+"$")}function Nbe(e,t,r){var n=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(WX)||[]).forEach(function(f,m){var g=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=g;break;case"d":i=g;break;case"h":o=g;break;case"s":c=g;break;case"m":o>=0?l=g:s=g;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&s==-1&&i==-1?d:u+"T"+d}var kbe=(function(){var e={};e.version="1.2.0";function t(){for(var k=0,R=new Array(256),A=0;A!=256;++A)k=A,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,R[A]=k;return typeof Int32Array<"u"?new Int32Array(R):R}var r=t();function n(k){var R=0,A=0,I=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)P[I]=k[I];for(I=0;I!=256;++I)for(A=k[I],R=256+I;R<4096;R+=256)A=P[R]=A>>>8^k[A&255];var D=[];for(I=1;I!=16;++I)D[I-1]=typeof Int32Array<"u"?P.subarray(I*256,I*256+256):P.slice(I*256,I*256+256);return D}var s=n(r),i=s[0],o=s[1],l=s[2],c=s[3],u=s[4],d=s[5],f=s[6],m=s[7],g=s[8],y=s[9],x=s[10],v=s[11],j=s[12],S=s[13],w=s[14];function T(k,R){for(var A=R^-1,I=0,P=k.length;I<P;)A=A>>>8^r[(A^k.charCodeAt(I++))&255];return~A}function E(k,R){for(var A=R^-1,I=k.length-15,P=0;P<I;)A=w[k[P++]^A&255]^S[k[P++]^A>>8&255]^j[k[P++]^A>>16&255]^v[k[P++]^A>>>24]^x[k[P++]]^y[k[P++]]^g[k[P++]]^m[k[P++]]^f[k[P++]]^d[k[P++]]^u[k[P++]]^c[k[P++]]^l[k[P++]]^o[k[P++]]^i[k[P++]]^r[k[P++]];for(I+=15;P<I;)A=A>>>8^r[(A^k[P++])&255];return~A}function N(k,R){for(var A=R^-1,I=0,P=k.length,D=0,B=0;I<P;)D=k.charCodeAt(I++),D<128?A=A>>>8^r[(A^D)&255]:D<2048?(A=A>>>8^r[(A^(192|D>>6&31))&255],A=A>>>8^r[(A^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,B=k.charCodeAt(I++)&1023,A=A>>>8^r[(A^(240|D>>8&7))&255],A=A>>>8^r[(A^(128|D>>2&63))&255],A=A>>>8^r[(A^(128|B>>6&15|(D&3)<<4))&255],A=A>>>8^r[(A^(128|B&63))&255]):(A=A>>>8^r[(A^(224|D>>12&15))&255],A=A>>>8^r[(A^(128|D>>6&63))&255],A=A>>>8^r[(A^(128|D&63))&255]);return~A}return e.table=r,e.bstr=T,e.buf=E,e.str=N,e})(),Pt=(function(){var t={};t.version="1.2.1";function r(te,de){for(var ie=te.split("/"),ue=de.split("/"),fe=0,he=0,Te=Math.min(ie.length,ue.length);fe<Te;++fe){if(he=ie[fe].length-ue[fe].length)return he;if(ie[fe]!=ue[fe])return ie[fe]<ue[fe]?-1:1}return ie.length-ue.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var de=te.lastIndexOf("/");return de===-1?te:te.slice(0,de+1)}function s(te){if(te.charAt(te.length-1)=="/")return s(te.slice(0,-1));var de=te.lastIndexOf("/");return de===-1?te:te.slice(de+1)}function i(te,de){typeof de=="string"&&(de=new Date(de));var ie=de.getHours();ie=ie<<6|de.getMinutes(),ie=ie<<5|de.getSeconds()>>>1,te.write_shift(2,ie);var ue=de.getFullYear()-1980;ue=ue<<4|de.getMonth()+1,ue=ue<<5|de.getDate(),te.write_shift(2,ue)}function o(te){var de=te.read_shift(2)&65535,ie=te.read_shift(2)&65535,ue=new Date,fe=ie&31;ie>>>=5;var he=ie&15;ie>>>=4,ue.setMilliseconds(0),ue.setFullYear(ie+1980),ue.setMonth(he-1),ue.setDate(fe);var Te=de&31;de>>>=5;var Fe=de&63;return de>>>=6,ue.setHours(de),ue.setMinutes(Fe),ue.setSeconds(Te<<1),ue}function l(te){Ks(te,0);for(var de={},ie=0;te.l<=te.length-4;){var ue=te.read_shift(2),fe=te.read_shift(2),he=te.l+fe,Te={};switch(ue){case 21589:ie=te.read_shift(1),ie&1&&(Te.mtime=te.read_shift(4)),fe>5&&(ie&2&&(Te.atime=te.read_shift(4)),ie&4&&(Te.ctime=te.read_shift(4))),Te.mtime&&(Te.mt=new Date(Te.mtime*1e3));break}te.l=he,de[ue]=Te}return de}var c;function u(){return c||(c={})}function d(te,de){if(te[0]==80&&te[1]==75)return vo(te,de);if((te[0]|32)==109&&(te[1]|32)==105)return ra(te,de);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var ie=3,ue=512,fe=0,he=0,Te=0,Fe=0,Ce=0,Ae=[],Pe=te.slice(0,512);Ks(Pe,0);var et=f(Pe);switch(ie=et[0],ie){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(et[1]==0)return vo(te,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}ue!==512&&(Pe=te.slice(0,ue),Ks(Pe,28));var ft=te.slice(0,ue);m(Pe,ie);var bt=Pe.read_shift(4,"i");if(ie===3&&bt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+bt);Pe.l+=4,Te=Pe.read_shift(4,"i"),Pe.l+=4,Pe.chk("00100000","Mini Stream Cutoff Size: "),Fe=Pe.read_shift(4,"i"),fe=Pe.read_shift(4,"i"),Ce=Pe.read_shift(4,"i"),he=Pe.read_shift(4,"i");for(var st=-1,rt=0;rt<109&&(st=Pe.read_shift(4,"i"),!(st<0));++rt)Ae[rt]=st;var Qt=g(te,ue);v(Ce,he,Qt,ue,Ae);var Hr=S(Qt,Te,Ae,ue);Hr[Te].name="!Directory",fe>0&&Fe!==B&&(Hr[Fe].name="!MiniFAT"),Hr[Ae[0]].name="!FAT",Hr.fat_addrs=Ae,Hr.ssz=ue;var Qr={},Bn=[],ed=[],Ec=[];w(Te,Hr,Qt,Bn,fe,Qr,ed,Fe),y(ed,Ec,Bn),Bn.shift();var Yo={FileIndex:ed,FullPaths:Ec};return de&&de.raw&&(Yo.raw={header:ft,sectors:Qt}),Yo}function f(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(U,"Header Signature: "),te.l+=16;var de=te.read_shift(2,"u");return[te.read_shift(2,"u"),de]}function m(te,de){var ie=9;switch(te.l+=2,ie=te.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function g(te,de){for(var ie=Math.ceil(te.length/de)-1,ue=[],fe=1;fe<ie;++fe)ue[fe-1]=te.slice(fe*de,(fe+1)*de);return ue[ie-1]=te.slice(ie*de),ue}function y(te,de,ie){for(var ue=0,fe=0,he=0,Te=0,Fe=0,Ce=ie.length,Ae=[],Pe=[];ue<Ce;++ue)Ae[ue]=Pe[ue]=ue,de[ue]=ie[ue];for(;Fe<Pe.length;++Fe)ue=Pe[Fe],fe=te[ue].L,he=te[ue].R,Te=te[ue].C,Ae[ue]===ue&&(fe!==-1&&Ae[fe]!==fe&&(Ae[ue]=Ae[fe]),he!==-1&&Ae[he]!==he&&(Ae[ue]=Ae[he])),Te!==-1&&(Ae[Te]=ue),fe!==-1&&ue!=Ae[ue]&&(Ae[fe]=Ae[ue],Pe.lastIndexOf(fe)<Fe&&Pe.push(fe)),he!==-1&&ue!=Ae[ue]&&(Ae[he]=Ae[ue],Pe.lastIndexOf(he)<Fe&&Pe.push(he));for(ue=1;ue<Ce;++ue)Ae[ue]===ue&&(he!==-1&&Ae[he]!==he?Ae[ue]=Ae[he]:fe!==-1&&Ae[fe]!==fe&&(Ae[ue]=Ae[fe]));for(ue=1;ue<Ce;++ue)if(te[ue].type!==0){if(Fe=ue,Fe!=Ae[Fe])do Fe=Ae[Fe],de[ue]=de[Fe]+"/"+de[ue];while(Fe!==0&&Ae[Fe]!==-1&&Fe!=Ae[Fe]);Ae[ue]=-1}for(de[0]+="/",ue=1;ue<Ce;++ue)te[ue].type!==2&&(de[ue]+="/")}function x(te,de,ie){for(var ue=te.start,fe=te.size,he=[],Te=ue;ie&&fe>0&&Te>=0;)he.push(de.slice(Te*D,Te*D+D)),fe-=D,Te=Ed(ie,Te*4);return he.length===0?Ie(0):Is(he).slice(0,te.size)}function v(te,de,ie,ue,fe){var he=B;if(te===B){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Te=ie[te],Fe=(ue>>>2)-1;if(!Te)return;for(var Ce=0;Ce<Fe&&(he=Ed(Te,Ce*4))!==B;++Ce)fe.push(he);v(Ed(Te,ue-4),de-1,ie,ue,fe)}}function j(te,de,ie,ue,fe){var he=[],Te=[];fe||(fe=[]);var Fe=ue-1,Ce=0,Ae=0;for(Ce=de;Ce>=0;){fe[Ce]=!0,he[he.length]=Ce,Te.push(te[Ce]);var Pe=ie[Math.floor(Ce*4/ue)];if(Ae=Ce*4&Fe,ue<4+Ae)throw new Error("FAT boundary crossed: "+Ce+" 4 "+ue);if(!te[Pe])break;Ce=Ed(te[Pe],Ae)}return{nodes:he,data:T6([Te])}}function S(te,de,ie,ue){var fe=te.length,he=[],Te=[],Fe=[],Ce=[],Ae=ue-1,Pe=0,et=0,ft=0,bt=0;for(Pe=0;Pe<fe;++Pe)if(Fe=[],ft=Pe+de,ft>=fe&&(ft-=fe),!Te[ft]){Ce=[];var st=[];for(et=ft;et>=0;){st[et]=!0,Te[et]=!0,Fe[Fe.length]=et,Ce.push(te[et]);var rt=ie[Math.floor(et*4/ue)];if(bt=et*4&Ae,ue<4+bt)throw new Error("FAT boundary crossed: "+et+" 4 "+ue);if(!te[rt]||(et=Ed(te[rt],bt),st[et]))break}he[ft]={nodes:Fe,data:T6([Ce])}}return he}function w(te,de,ie,ue,fe,he,Te,Fe){for(var Ce=0,Ae=ue.length?2:0,Pe=de[te].data,et=0,ft=0,bt;et<Pe.length;et+=128){var st=Pe.slice(et,et+128);Ks(st,64),ft=st.read_shift(2),bt=B_(st,0,ft-Ae),ue.push(bt);var rt={name:bt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Qt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Qt!==0&&(rt.ct=T(st,st.l-8));var Hr=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Hr!==0&&(rt.mt=T(st,st.l-8)),rt.start=st.read_shift(4,"i"),rt.size=st.read_shift(4,"i"),rt.size<0&&rt.start<0&&(rt.size=rt.type=0,rt.start=B,rt.name=""),rt.type===5?(Ce=rt.start,fe>0&&Ce!==B&&(de[Ce].name="!StreamData")):rt.size>=4096?(rt.storage="fat",de[rt.start]===void 0&&(de[rt.start]=j(ie,rt.start,de.fat_addrs,de.ssz)),de[rt.start].name=rt.name,rt.content=de[rt.start].data.slice(0,rt.size)):(rt.storage="minifat",rt.size<0?rt.size=0:Ce!==B&&rt.start!==B&&de[Ce]&&(rt.content=x(rt,de[Ce].data,(de[Fe]||{}).data))),rt.content&&Ks(rt.content,0),he[bt]=rt,Te.push(rt)}}function T(te,de){return new Date((Ps(te,de+4)/1e7*Math.pow(2,32)+Ps(te,de)/1e7-11644473600)*1e3)}function E(te,de){return u(),d(c.readFileSync(te),de)}function N(te,de){var ie=de&&de.type;switch(ie||dr&&Buffer.isBuffer(te)&&(ie="buffer"),ie||"base64"){case"file":return E(te,de);case"base64":return d(xi(Ti(te)),de);case"binary":return d(xi(te),de)}return d(te,de)}function k(te,de){var ie=de||{},ue=ie.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=ue+"/",te.FileIndex[0]={name:ue,type:5}),ie.CLSID&&(te.FileIndex[0].clsid=ie.CLSID),R(te)}function R(te){var de="Sh33tJ5";if(!Pt.find(te,"/"+de)){var ie=Ie(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,te.FileIndex.push({name:de,type:2,content:ie,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+de),A(te)}}function A(te,de){k(te);for(var ie=!1,ue=!1,fe=te.FullPaths.length-1;fe>=0;--fe){var he=te.FileIndex[fe];switch(he.type){case 0:ue?ie=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(he.R*he.L*he.C)&&(ie=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!de)){var Te=new Date(1987,1,19),Fe=0,Ce=Object.create?Object.create(null):{},Ae=[];for(fe=0;fe<te.FullPaths.length;++fe)Ce[te.FullPaths[fe]]=!0,te.FileIndex[fe].type!==0&&Ae.push([te.FullPaths[fe],te.FileIndex[fe]]);for(fe=0;fe<Ae.length;++fe){var Pe=n(Ae[fe][0]);ue=Ce[Pe],ue||(Ae.push([Pe,{name:s(Pe).replace("/",""),type:1,clsid:M,ct:Te,mt:Te,content:null}]),Ce[Pe]=!0)}for(Ae.sort(function(bt,st){return r(bt[0],st[0])}),te.FullPaths=[],te.FileIndex=[],fe=0;fe<Ae.length;++fe)te.FullPaths[fe]=Ae[fe][0],te.FileIndex[fe]=Ae[fe][1];for(fe=0;fe<Ae.length;++fe){var et=te.FileIndex[fe],ft=te.FullPaths[fe];if(et.name=s(ft).replace("/",""),et.L=et.R=et.C=-(et.color=1),et.size=et.content?et.content.length:0,et.start=0,et.clsid=et.clsid||M,fe===0)et.C=Ae.length>1?1:-1,et.size=0,et.type=5;else if(ft.slice(-1)=="/"){for(Fe=fe+1;Fe<Ae.length&&n(te.FullPaths[Fe])!=ft;++Fe);for(et.C=Fe>=Ae.length?-1:Fe,Fe=fe+1;Fe<Ae.length&&n(te.FullPaths[Fe])!=n(ft);++Fe);et.R=Fe>=Ae.length?-1:Fe,et.type=1}else n(te.FullPaths[fe+1]||"")==n(ft)&&(et.R=fe+1),et.type=2}}}function I(te,de){var ie=de||{};if(ie.fileType=="mad")return na(te,ie);switch(A(te),ie.fileType){case"zip":return Na(te,ie)}var ue=(function(bt){for(var st=0,rt=0,Qt=0;Qt<bt.FileIndex.length;++Qt){var Hr=bt.FileIndex[Qt];if(Hr.content){var Qr=Hr.content.length;Qr>0&&(Qr<4096?st+=Qr+63>>6:rt+=Qr+511>>9)}}for(var Bn=bt.FullPaths.length+3>>2,ed=st+7>>3,Ec=st+127>>7,Yo=ed+rt+Bn+Ec,Ss=Yo+127>>7,Ap=Ss<=109?0:Math.ceil((Ss-109)/127);Yo+Ss+Ap+127>>7>Ss;)Ap=++Ss<=109?0:Math.ceil((Ss-109)/127);var Un=[1,Ap,Ss,Ec,Bn,rt,st,0];return bt.FileIndex[0].size=st<<6,Un[7]=(bt.FileIndex[0].start=Un[0]+Un[1]+Un[2]+Un[3]+Un[4]+Un[5])+(Un[6]+7>>3),Un})(te),fe=Ie(ue[7]<<9),he=0,Te=0;{for(he=0;he<8;++he)fe.write_shift(1,H[he]);for(he=0;he<8;++he)fe.write_shift(2,0);for(fe.write_shift(2,62),fe.write_shift(2,3),fe.write_shift(2,65534),fe.write_shift(2,9),fe.write_shift(2,6),he=0;he<3;++he)fe.write_shift(2,0);for(fe.write_shift(4,0),fe.write_shift(4,ue[2]),fe.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),fe.write_shift(4,0),fe.write_shift(4,4096),fe.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:B),fe.write_shift(4,ue[3]),fe.write_shift(-4,ue[1]?ue[0]-1:B),fe.write_shift(4,ue[1]),he=0;he<109;++he)fe.write_shift(-4,he<ue[2]?ue[1]+he:-1)}if(ue[1])for(Te=0;Te<ue[1];++Te){for(;he<236+Te*127;++he)fe.write_shift(-4,he<ue[2]?ue[1]+he:-1);fe.write_shift(-4,Te===ue[1]-1?B:Te+1)}var Fe=function(bt){for(Te+=bt;he<Te-1;++he)fe.write_shift(-4,he+1);bt&&(++he,fe.write_shift(-4,B))};for(Te=he=0,Te+=ue[1];he<Te;++he)fe.write_shift(-4,W.DIFSECT);for(Te+=ue[2];he<Te;++he)fe.write_shift(-4,W.FATSECT);Fe(ue[3]),Fe(ue[4]);for(var Ce=0,Ae=0,Pe=te.FileIndex[0];Ce<te.FileIndex.length;++Ce)Pe=te.FileIndex[Ce],Pe.content&&(Ae=Pe.content.length,!(Ae<4096)&&(Pe.start=Te,Fe(Ae+511>>9)));for(Fe(ue[6]+7>>3);fe.l&511;)fe.write_shift(-4,W.ENDOFCHAIN);for(Te=he=0,Ce=0;Ce<te.FileIndex.length;++Ce)Pe=te.FileIndex[Ce],Pe.content&&(Ae=Pe.content.length,!(!Ae||Ae>=4096)&&(Pe.start=Te,Fe(Ae+63>>6)));for(;fe.l&511;)fe.write_shift(-4,W.ENDOFCHAIN);for(he=0;he<ue[4]<<2;++he){var et=te.FullPaths[he];if(!et||et.length===0){for(Ce=0;Ce<17;++Ce)fe.write_shift(4,0);for(Ce=0;Ce<3;++Ce)fe.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)fe.write_shift(4,0);continue}Pe=te.FileIndex[he],he===0&&(Pe.start=Pe.size?Pe.start-1:B);var ft=he===0&&ie.root||Pe.name;if(Ae=2*(ft.length+1),fe.write_shift(64,ft,"utf16le"),fe.write_shift(2,Ae),fe.write_shift(1,Pe.type),fe.write_shift(1,Pe.color),fe.write_shift(-4,Pe.L),fe.write_shift(-4,Pe.R),fe.write_shift(-4,Pe.C),Pe.clsid)fe.write_shift(16,Pe.clsid,"hex");else for(Ce=0;Ce<4;++Ce)fe.write_shift(4,0);fe.write_shift(4,Pe.state||0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(4,Pe.start),fe.write_shift(4,Pe.size),fe.write_shift(4,0)}for(he=1;he<te.FileIndex.length;++he)if(Pe=te.FileIndex[he],Pe.size>=4096)if(fe.l=Pe.start+1<<9,dr&&Buffer.isBuffer(Pe.content))Pe.content.copy(fe,fe.l,0,Pe.size),fe.l+=Pe.size+511&-512;else{for(Ce=0;Ce<Pe.size;++Ce)fe.write_shift(1,Pe.content[Ce]);for(;Ce&511;++Ce)fe.write_shift(1,0)}for(he=1;he<te.FileIndex.length;++he)if(Pe=te.FileIndex[he],Pe.size>0&&Pe.size<4096)if(dr&&Buffer.isBuffer(Pe.content))Pe.content.copy(fe,fe.l,0,Pe.size),fe.l+=Pe.size+63&-64;else{for(Ce=0;Ce<Pe.size;++Ce)fe.write_shift(1,Pe.content[Ce]);for(;Ce&63;++Ce)fe.write_shift(1,0)}if(dr)fe.l=fe.length;else for(;fe.l<fe.length;)fe.write_shift(1,0);return fe}function P(te,de){var ie=te.FullPaths.map(function(Ce){return Ce.toUpperCase()}),ue=ie.map(function(Ce){var Ae=Ce.split("/");return Ae[Ae.length-(Ce.slice(-1)=="/"?2:1)]}),fe=!1;de.charCodeAt(0)===47?(fe=!0,de=ie[0].slice(0,-1)+de):fe=de.indexOf("/")!==-1;var he=de.toUpperCase(),Te=fe===!0?ie.indexOf(he):ue.indexOf(he);if(Te!==-1)return te.FileIndex[Te];var Fe=!he.match(B0);for(he=he.replace(ba,""),Fe&&(he=he.replace(B0,"!")),Te=0;Te<ie.length;++Te)if((Fe?ie[Te].replace(B0,"!"):ie[Te]).replace(ba,"")==he||(Fe?ue[Te].replace(B0,"!"):ue[Te]).replace(ba,"")==he)return te.FileIndex[Te];return null}var D=64,B=-2,U="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(te,de,ie){u();var ue=I(te,ie);c.writeFileSync(de,ue)}function V(te){for(var de=new Array(te.length),ie=0;ie<te.length;++ie)de[ie]=String.fromCharCode(te[ie]);return de.join("")}function z(te,de){var ie=I(te,de);switch(de&&de.type||"buffer"){case"file":return u(),c.writeFileSync(de.filename,ie),ie;case"binary":return typeof ie=="string"?ie:V(ie);case"base64":return Wg(typeof ie=="string"?ie:V(ie));case"buffer":if(dr)return Buffer.isBuffer(ie)?ie:yc(ie);case"array":return typeof ie=="string"?xi(ie):ie}return ie}var G;function F(te){try{var de=te.InflateRaw,ie=new de;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)G=te;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function X(te,de){if(!G)return si(te,de);var ie=G.InflateRaw,ue=new ie,fe=ue._processChunk(te.slice(te.l),ue._finishFlushFlag);return te.l+=ue.bytesRead,fe}function Z(te){return G?G.deflateRawSync(te):_t(te)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(te){var de=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(de>>16|de>>8|de)&255}for(var Y=typeof Uint8Array<"u",Q=Y?new Uint8Array(256):[],ae=0;ae<256;++ae)Q[ae]=pe(ae);function q(te,de){var ie=Q[te&255];return de<=8?ie>>>8-de:(ie=ie<<8|Q[te>>8&255],de<=16?ie>>>16-de:(ie=ie<<8|Q[te>>16&255],ie>>>24-de))}function ke(te,de){var ie=de&7,ue=de>>>3;return(te[ue]|(ie<=6?0:te[ue+1]<<8))>>>ie&3}function ye(te,de){var ie=de&7,ue=de>>>3;return(te[ue]|(ie<=5?0:te[ue+1]<<8))>>>ie&7}function xe(te,de){var ie=de&7,ue=de>>>3;return(te[ue]|(ie<=4?0:te[ue+1]<<8))>>>ie&15}function Re(te,de){var ie=de&7,ue=de>>>3;return(te[ue]|(ie<=3?0:te[ue+1]<<8))>>>ie&31}function je(te,de){var ie=de&7,ue=de>>>3;return(te[ue]|(ie<=1?0:te[ue+1]<<8))>>>ie&127}function mt(te,de,ie){var ue=de&7,fe=de>>>3,he=(1<<ie)-1,Te=te[fe]>>>ue;return ie<8-ue||(Te|=te[fe+1]<<8-ue,ie<16-ue)||(Te|=te[fe+2]<<16-ue,ie<24-ue)||(Te|=te[fe+3]<<24-ue),Te&he}function ht(te,de,ie){var ue=de&7,fe=de>>>3;return ue<=5?te[fe]|=(ie&7)<<ue:(te[fe]|=ie<<ue&255,te[fe+1]=(ie&7)>>8-ue),de+3}function oe(te,de,ie){var ue=de&7,fe=de>>>3;return ie=(ie&1)<<ue,te[fe]|=ie,de+1}function ge(te,de,ie){var ue=de&7,fe=de>>>3;return ie<<=ue,te[fe]|=ie&255,ie>>>=8,te[fe+1]=ie,de+8}function Ne(te,de,ie){var ue=de&7,fe=de>>>3;return ie<<=ue,te[fe]|=ie&255,ie>>>=8,te[fe+1]=ie&255,te[fe+2]=ie>>>8,de+16}function We(te,de){var ie=te.length,ue=2*ie>de?2*ie:de+5,fe=0;if(ie>=de)return te;if(dr){var he=u6(ue);if(te.copy)te.copy(he);else for(;fe<te.length;++fe)he[fe]=te[fe];return he}else if(Y){var Te=new Uint8Array(ue);if(Te.set)Te.set(te);else for(;fe<ie;++fe)Te[fe]=te[fe];return Te}return te.length=ue,te}function qe(te){for(var de=new Array(te),ie=0;ie<te;++ie)de[ie]=0;return de}function Ue(te,de,ie){var ue=1,fe=0,he=0,Te=0,Fe=0,Ce=te.length,Ae=Y?new Uint16Array(32):qe(32);for(he=0;he<32;++he)Ae[he]=0;for(he=Ce;he<ie;++he)te[he]=0;Ce=te.length;var Pe=Y?new Uint16Array(Ce):qe(Ce);for(he=0;he<Ce;++he)Ae[fe=te[he]]++,ue<fe&&(ue=fe),Pe[he]=0;for(Ae[0]=0,he=1;he<=ue;++he)Ae[he+16]=Fe=Fe+Ae[he-1]<<1;for(he=0;he<Ce;++he)Fe=te[he],Fe!=0&&(Pe[he]=Ae[Fe+16]++);var et=0;for(he=0;he<Ce;++he)if(et=te[he],et!=0)for(Fe=q(Pe[he],ue)>>ue-et,Te=(1<<ue+4-et)-1;Te>=0;--Te)de[Fe|Te<<et]=et&15|he<<4;return ue}var it=Y?new Uint16Array(512):qe(512),Ot=Y?new Uint16Array(32):qe(32);if(!Y){for(var He=0;He<512;++He)it[He]=0;for(He=0;He<32;++He)Ot[He]=0}(function(){for(var te=[],de=0;de<32;de++)te.push(5);Ue(te,Ot,32);var ie=[];for(de=0;de<=143;de++)ie.push(8);for(;de<=255;de++)ie.push(9);for(;de<=279;de++)ie.push(7);for(;de<=287;de++)ie.push(8);Ue(ie,it,288)})();var Rt=(function(){for(var de=Y?new Uint8Array(32768):[],ie=0,ue=0;ie<ce.length-1;++ie)for(;ue<ce[ie+1];++ue)de[ue]=ie;for(;ue<32768;++ue)de[ue]=29;var fe=Y?new Uint8Array(259):[];for(ie=0,ue=0;ie<ee.length-1;++ie)for(;ue<ee[ie+1];++ue)fe[ue]=ie;function he(Fe,Ce){for(var Ae=0;Ae<Fe.length;){var Pe=Math.min(65535,Fe.length-Ae),et=Ae+Pe==Fe.length;for(Ce.write_shift(1,+et),Ce.write_shift(2,Pe),Ce.write_shift(2,~Pe&65535);Pe-- >0;)Ce[Ce.l++]=Fe[Ae++]}return Ce.l}function Te(Fe,Ce){for(var Ae=0,Pe=0,et=Y?new Uint16Array(32768):[];Pe<Fe.length;){var ft=Math.min(65535,Fe.length-Pe);if(ft<10){for(Ae=ht(Ce,Ae,+(Pe+ft==Fe.length)),Ae&7&&(Ae+=8-(Ae&7)),Ce.l=Ae/8|0,Ce.write_shift(2,ft),Ce.write_shift(2,~ft&65535);ft-- >0;)Ce[Ce.l++]=Fe[Pe++];Ae=Ce.l*8;continue}Ae=ht(Ce,Ae,+(Pe+ft==Fe.length)+2);for(var bt=0;ft-- >0;){var st=Fe[Pe];bt=(bt<<5^st)&32767;var rt=-1,Qt=0;if((rt=et[bt])&&(rt|=Pe&-32768,rt>Pe&&(rt-=32768),rt<Pe))for(;Fe[rt+Qt]==Fe[Pe+Qt]&&Qt<250;)++Qt;if(Qt>2){st=fe[Qt],st<=22?Ae=ge(Ce,Ae,Q[st+1]>>1)-1:(ge(Ce,Ae,3),Ae+=5,ge(Ce,Ae,Q[st-23]>>5),Ae+=3);var Hr=st<8?0:st-4>>2;Hr>0&&(Ne(Ce,Ae,Qt-ee[st]),Ae+=Hr),st=de[Pe-rt],Ae=ge(Ce,Ae,Q[st]>>3),Ae-=3;var Qr=st<4?0:st-2>>1;Qr>0&&(Ne(Ce,Ae,Pe-rt-ce[st]),Ae+=Qr);for(var Bn=0;Bn<Qt;++Bn)et[bt]=Pe&32767,bt=(bt<<5^Fe[Pe])&32767,++Pe;ft-=Qt-1}else st<=143?st=st+48:Ae=oe(Ce,Ae,1),Ae=ge(Ce,Ae,Q[st]),et[bt]=Pe&32767,++Pe}Ae=ge(Ce,Ae,0)-1}return Ce.l=(Ae+7)/8|0,Ce.l}return function(Ce,Ae){return Ce.length<8?he(Ce,Ae):Te(Ce,Ae)}})();function _t(te){var de=Ie(50+Math.floor(te.length*1.1)),ie=Rt(te,de);return de.slice(0,ie)}var $t=Y?new Uint16Array(32768):qe(32768),an=Y?new Uint16Array(32768):qe(32768),vr=Y?new Uint16Array(128):qe(128),vn=1,go=1;function Us(te,de){var ie=Re(te,de)+257;de+=5;var ue=Re(te,de)+1;de+=5;var fe=xe(te,de)+4;de+=4;for(var he=0,Te=Y?new Uint8Array(19):qe(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,Ae=Y?new Uint8Array(8):qe(8),Pe=Y?new Uint8Array(8):qe(8),et=Te.length,ft=0;ft<fe;++ft)Te[re[ft]]=he=ye(te,de),Ce<he&&(Ce=he),Ae[he]++,de+=3;var bt=0;for(Ae[0]=0,ft=1;ft<=Ce;++ft)Pe[ft]=bt=bt+Ae[ft-1]<<1;for(ft=0;ft<et;++ft)(bt=Te[ft])!=0&&(Fe[ft]=Pe[bt]++);var st=0;for(ft=0;ft<et;++ft)if(st=Te[ft],st!=0){bt=Q[Fe[ft]]>>8-st;for(var rt=(1<<7-st)-1;rt>=0;--rt)vr[bt|rt<<st]=st&7|ft<<3}var Qt=[];for(Ce=1;Qt.length<ie+ue;)switch(bt=vr[je(te,de)],de+=bt&7,bt>>>=3){case 16:for(he=3+ke(te,de),de+=2,bt=Qt[Qt.length-1];he-- >0;)Qt.push(bt);break;case 17:for(he=3+ye(te,de),de+=3;he-- >0;)Qt.push(0);break;case 18:for(he=11+je(te,de),de+=7;he-- >0;)Qt.push(0);break;default:Qt.push(bt),Ce<bt&&(Ce=bt);break}var Hr=Qt.slice(0,ie),Qr=Qt.slice(ie);for(ft=ie;ft<286;++ft)Hr[ft]=0;for(ft=ue;ft<30;++ft)Qr[ft]=0;return vn=Ue(Hr,$t,286),go=Ue(Qr,an,30),de}function xo(te,de){if(te[0]==3&&!(te[1]&3))return[Au(de),2];for(var ie=0,ue=0,fe=u6(de||1<<18),he=0,Te=fe.length>>>0,Fe=0,Ce=0;(ue&1)==0;){if(ue=ye(te,ie),ie+=3,ue>>>1)ue>>1==1?(Fe=9,Ce=5):(ie=Us(te,ie),Fe=vn,Ce=go);else{ie&7&&(ie+=8-(ie&7));var Ae=te[ie>>>3]|te[(ie>>>3)+1]<<8;if(ie+=32,Ae>0)for(!de&&Te<he+Ae&&(fe=We(fe,he+Ae),Te=fe.length);Ae-- >0;)fe[he++]=te[ie>>>3],ie+=8;continue}for(;;){!de&&Te<he+32767&&(fe=We(fe,he+32767),Te=fe.length);var Pe=mt(te,ie,Fe),et=ue>>>1==1?it[Pe]:$t[Pe];if(ie+=et&15,et>>>=4,(et>>>8&255)===0)fe[he++]=et;else{if(et==256)break;et-=257;var ft=et<8?0:et-4>>2;ft>5&&(ft=0);var bt=he+ee[et];ft>0&&(bt+=mt(te,ie,ft),ie+=ft),Pe=mt(te,ie,Ce),et=ue>>>1==1?Ot[Pe]:an[Pe],ie+=et&15,et>>>=4;var st=et<4?0:et-2>>1,rt=ce[et];for(st>0&&(rt+=mt(te,ie,st),ie+=st),!de&&Te<bt&&(fe=We(fe,bt+100),Te=fe.length);he<bt;)fe[he]=fe[he-rt],++he}}}return de?[fe,ie+7>>>3]:[fe.slice(0,he),ie+7>>>3]}function si(te,de){var ie=te.slice(te.l||0),ue=xo(ie,de);return te.l+=ue[1],ue[0]}function Pi(te,de){if(te)typeof console<"u"&&console.error(de);else throw new Error(de)}function vo(te,de){var ie=te;Ks(ie,0);var ue=[],fe=[],he={FileIndex:ue,FullPaths:fe};k(he,{root:de.root});for(var Te=ie.length-4;(ie[Te]!=80||ie[Te+1]!=75||ie[Te+2]!=5||ie[Te+3]!=6)&&Te>=0;)--Te;ie.l=Te+4,ie.l+=4;var Fe=ie.read_shift(2);ie.l+=6;var Ce=ie.read_shift(4);for(ie.l=Ce,Te=0;Te<Fe;++Te){ie.l+=20;var Ae=ie.read_shift(4),Pe=ie.read_shift(4),et=ie.read_shift(2),ft=ie.read_shift(2),bt=ie.read_shift(2);ie.l+=8;var st=ie.read_shift(4),rt=l(ie.slice(ie.l+et,ie.l+et+ft));ie.l+=et+ft+bt;var Qt=ie.l;ie.l=st+4,ai(ie,Ae,Pe,he,rt),ie.l=Qt}return he}function ai(te,de,ie,ue,fe){te.l+=2;var he=te.read_shift(2),Te=te.read_shift(2),Fe=o(te);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=te.read_shift(4),Ae=te.read_shift(4),Pe=te.read_shift(4),et=te.read_shift(2),ft=te.read_shift(2),bt="",st=0;st<et;++st)bt+=String.fromCharCode(te[te.l++]);if(ft){var rt=l(te.slice(te.l,te.l+ft));(rt[21589]||{}).mt&&(Fe=rt[21589].mt),((fe||{})[21589]||{}).mt&&(Fe=fe[21589].mt)}te.l+=ft;var Qt=te.slice(te.l,te.l+Ae);switch(Te){case 8:Qt=X(te,Pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Te)}var Hr=!1;he&8&&(Ce=te.read_shift(4),Ce==134695760&&(Ce=te.read_shift(4),Hr=!0),Ae=te.read_shift(4),Pe=te.read_shift(4)),Ae!=de&&Pi(Hr,"Bad compressed size: "+de+" != "+Ae),Pe!=ie&&Pi(Hr,"Bad uncompressed size: "+ie+" != "+Pe),$n(ue,bt,Qt,{unsafe:!0,mt:Fe})}function Na(te,de){var ie=de||{},ue=[],fe=[],he=Ie(1),Te=ie.compression?8:0,Fe=0,Ce=0,Ae=0,Pe=0,et=0,ft=te.FullPaths[0],bt=ft,st=te.FileIndex[0],rt=[],Qt=0;for(Ce=1;Ce<te.FullPaths.length;++Ce)if(bt=te.FullPaths[Ce].slice(ft.length),st=te.FileIndex[Ce],!(!st.size||!st.content||bt=="Sh33tJ5")){var Hr=Pe,Qr=Ie(bt.length);for(Ae=0;Ae<bt.length;++Ae)Qr.write_shift(1,bt.charCodeAt(Ae)&127);Qr=Qr.slice(0,Qr.l),rt[et]=kbe.buf(st.content,0);var Bn=st.content;Te==8&&(Bn=Z(Bn)),he=Ie(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,Fe),he.write_shift(2,Te),st.mt?i(he,st.mt):he.write_shift(4,0),he.write_shift(-4,rt[et]),he.write_shift(4,Bn.length),he.write_shift(4,st.content.length),he.write_shift(2,Qr.length),he.write_shift(2,0),Pe+=he.length,ue.push(he),Pe+=Qr.length,ue.push(Qr),Pe+=Bn.length,ue.push(Bn),he=Ie(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,Fe),he.write_shift(2,Te),he.write_shift(4,0),he.write_shift(-4,rt[et]),he.write_shift(4,Bn.length),he.write_shift(4,st.content.length),he.write_shift(2,Qr.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,Hr),Qt+=he.l,fe.push(he),Qt+=Qr.length,fe.push(Qr),++et}return he=Ie(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,et),he.write_shift(2,et),he.write_shift(4,Qt),he.write_shift(4,Pe),he.write_shift(2,0),Is([Is(ue),Is(fe),he])}var ds={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kc(te,de){if(te.ctype)return te.ctype;var ie=te.name||"",ue=ie.match(/\.([^\.]+)$/);return ue&&ds[ue[1]]||de&&(ue=(ie=de).match(/[\.\\]([^\.\\])+$/),ue&&ds[ue[1]])?ds[ue[1]]:"application/octet-stream"}function Wt(te){for(var de=Wg(te),ie=[],ue=0;ue<de.length;ue+=76)ie.push(de.slice(ue,ue+76));return ie.join(`\r
`)+`\r
`}function gr(te){var de=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ae){var Pe=Ae.charCodeAt(0).toString(16).toUpperCase();return"="+(Pe.length==1?"0"+Pe:Pe)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],ue=de.split(`\r
`),fe=0;fe<ue.length;++fe){var he=ue[fe];if(he.length==0){ie.push("");continue}for(var Te=0;Te<he.length;){var Fe=76,Ce=he.slice(Te,Te+Fe);Ce.charAt(Fe-1)=="="?Fe--:Ce.charAt(Fe-2)=="="?Fe-=2:Ce.charAt(Fe-3)=="="&&(Fe-=3),Ce=he.slice(Te,Te+Fe),Te+=Fe,Te<he.length&&(Ce+="="),ie.push(Ce)}}return ie.join(`\r
`)}function Rr(te){for(var de=[],ie=0;ie<te.length;++ie){for(var ue=te[ie];ie<=te.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+te[++ie];de.push(ue)}for(var fe=0;fe<de.length;++fe)de[fe]=de[fe].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return xi(de.join(`\r
`))}function Vs(te,de,ie){for(var ue="",fe="",he="",Te,Fe=0;Fe<10;++Fe){var Ce=de[Fe];if(!Ce||Ce.match(/^\s*$/))break;var Ae=Ce.match(/^(.*?):\s*([^\s].*)$/);if(Ae)switch(Ae[1].toLowerCase()){case"content-location":ue=Ae[2].trim();break;case"content-type":he=Ae[2].trim();break;case"content-transfer-encoding":fe=Ae[2].trim();break}}switch(++Fe,fe.toLowerCase()){case"base64":Te=xi(Ti(de.slice(Fe).join("")));break;case"quoted-printable":Te=Rr(de.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+fe)}var Pe=$n(te,ue.slice(ie.length),Te,{unsafe:!0});he&&(Pe.ctype=he)}function ra(te,de){if(V(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=de&&de.root||"",ue=(dr&&Buffer.isBuffer(te)?te.toString("binary"):V(te)).split(`\r
`),fe=0,he="";for(fe=0;fe<ue.length;++fe)if(he=ue[fe],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ie||(ie=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),he.slice(0,ie.length)!=ie););var Te=(ue[1]||"").match(/boundary="(.*?)"/);if(!Te)throw new Error("MAD cannot find boundary");var Fe="--"+(Te[1]||""),Ce=[],Ae=[],Pe={FileIndex:Ce,FullPaths:Ae};k(Pe);var et,ft=0;for(fe=0;fe<ue.length;++fe){var bt=ue[fe];bt!==Fe&&bt!==Fe+"--"||(ft++&&Vs(Pe,ue.slice(et,fe),ie),et=fe)}return Pe}function na(te,de){var ie=de||{},ue=ie.boundary||"SheetJS";ue="------="+ue;for(var fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],he=te.FullPaths[0],Te=he,Fe=te.FileIndex[0],Ce=1;Ce<te.FullPaths.length;++Ce)if(Te=te.FullPaths[Ce].slice(he.length),Fe=te.FileIndex[Ce],!(!Fe.size||!Fe.content||Te=="Sh33tJ5")){Te=Te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var Ae=Fe.content,Pe=dr&&Buffer.isBuffer(Ae)?Ae.toString("binary"):V(Ae),et=0,ft=Math.min(1024,Pe.length),bt=0,st=0;st<=ft;++st)(bt=Pe.charCodeAt(st))>=32&&bt<128&&++et;var rt=et>=ft*4/5;fe.push(ue),fe.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+Te),fe.push("Content-Transfer-Encoding: "+(rt?"quoted-printable":"base64")),fe.push("Content-Type: "+kc(Fe,Te)),fe.push(""),fe.push(rt?gr(Pe):Wt(Pe))}return fe.push(ue+`--\r
`),fe.join(`\r
`)}function ii(te){var de={};return k(de,te),de}function $n(te,de,ie,ue){var fe=ue&&ue.unsafe;fe||k(te);var he=!fe&&Pt.find(te,de);if(!he){var Te=te.FullPaths[0];de.slice(0,Te.length)==Te?Te=de:(Te.slice(-1)!="/"&&(Te+="/"),Te=(Te+de).replace("//","/")),he={name:s(de),type:2},te.FileIndex.push(he),te.FullPaths.push(Te),fe||Pt.utils.cfb_gc(te)}return he.content=ie,he.size=ie?ie.length:0,ue&&(ue.CLSID&&(he.clsid=ue.CLSID),ue.mt&&(he.mt=ue.mt),ue.ct&&(he.ct=ue.ct)),he}function Oi(te,de){k(te);var ie=Pt.find(te,de);if(ie){for(var ue=0;ue<te.FileIndex.length;++ue)if(te.FileIndex[ue]==ie)return te.FileIndex.splice(ue,1),te.FullPaths.splice(ue,1),!0}return!1}function Ju(te,de,ie){k(te);var ue=Pt.find(te,de);if(ue){for(var fe=0;fe<te.FileIndex.length;++fe)if(te.FileIndex[fe]==ue)return te.FileIndex[fe].name=s(ie),te.FullPaths[fe]=ie,!0}return!1}function Uf(te){A(te,!0)}return t.find=P,t.read=N,t.parse=d,t.write=z,t.writeFile=K,t.utils={cfb_new:ii,cfb_add:$n,cfb_del:Oi,cfb_mov:Ju,cfb_gc:Uf,ReadShift:eg,CheckField:lZ,prep_blob:Ks,bconcat:Is,use_zlib:F,_deflateRaw:_t,_inflateRaw:si,consts:W},t})();let uu;function Ebe(e){uu=e}function Cbe(e){return typeof e=="string"?bv(e):Array.isArray(e)?Jwe(e):e}function jv(e,t,r){if(typeof uu<"u"&&uu.writeFileSync)return r?uu.writeFileSync(e,t,r):uu.writeFileSync(e,t);if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=bv(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ll(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([Cbe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Wu(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Tbe(e){if(typeof uu<"u")return uu.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Fn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function v6(e,t){for(var r=[],n=Fn(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function F_(e){for(var t=[],r=Fn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function L_(e){for(var t=[],r=Fn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Abe(e){for(var t=[],r=Fn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Ib=new Date(1899,11,30,0,0,0);function _s(e,t){var r=e.getTime(),n=Ib.getTime()+(e.getTimezoneOffset()-Ib.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var qX=new Date,Pbe=Ib.getTime()+(qX.getTimezoneOffset()-Ib.getTimezoneOffset())*6e4,y6=qX.getTimezoneOffset();function $_(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Pbe),t.getTimezoneOffset()!==y6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-y6)*6e4),t}function Obe(e){var t=0,r=0,n=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(r=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[i],10)}return t}var w6=new Date("2017-02-19T19:06:09.000Z"),HX=isNaN(w6.getFullYear())?new Date("2/19/17"):w6,Rbe=HX.getFullYear()==2017;function mn(e,t){var r=new Date(e);if(Rbe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(HX.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function lf(e,t){if(dr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ll(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ll(OX(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ll(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ll(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Zr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Zr(e[r]));return t}function Cn(e,t){for(var r="";r.length<t;)r+=e;return r}function $o(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Dbe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nm(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Dbe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Ibe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(s),o.push(i[l]);return o}})();function GX(e){return e?e.content&&e.type?lf(e.content,!0):e.data?Bh(e.data):e.asNodeBuffer&&dr?Bh(e.asNodeBuffer().toString("binary")):e.asBinary?Bh(e.asBinary()):e._data&&e._data.getContent?Bh(lf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function KX(e){if(!e)return null;if(e.data)return Pb(e.data);if(e.asNodeBuffer&&dr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Pb(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Mbe(e){return e&&e.name.slice(-4)===".bin"?KX(e):GX(e)}function Yi(e,t){for(var r=e.FullPaths||Fn(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||s==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function jR(e,t){var r=Yi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function es(e,t,r){if(!r)return Mbe(jR(e,t));if(!t)return null;try{return es(e,t)}catch{return null}}function vi(e,t,r){if(!r)return GX(jR(e,t));if(!t)return null;try{return vi(e,t)}catch{return null}}function Fbe(e,t,r){return KX(jR(e,t))}function b6(e){for(var t=e.FullPaths||Fn(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function or(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return dr?n=yc(r):n=ebe(r),Pt.utils.cfb_add(e,t,n)}Pt.utils.cfb_add(e,t,r)}else e.file(t,r)}function SR(){return Pt.utils.cfb_new()}function YX(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function U0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var Xn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Lbe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,_6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,$be=/<[^>]*>/g,Sa=Xn.match(_6)?_6:$be,Bbe=/<\w*:/,Ube=/<(\/?)\w+:/;function Kt(e,t,r){for(var n={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(t||(n[0]=e.slice(0,s)),s===e.length)return n;var o=e.match(Lbe),l=0,c="",u=0,d="",f="",m=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(m=(s=f.charCodeAt(i+1))==34||s==39?1:0,c=f.slice(i+1+m,f.length-m),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var g=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[g]&&d.slice(l-3,l)=="ext")continue;n[g]=c,n[g.toLowerCase()]=c}}return n}function kl(e){return e.replace(Ube,"<$1")}var XX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},NR=F_(XX),kr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(l,c){return XX[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=s.indexOf("]]>");return r(s.slice(0,i))+s.slice(i+9,o)+r(s.slice(o+3))}})(),kR=/[&<>'"]/g,Vbe=/[\u0000-\u0008\u000b-\u001f]/g;function zr(e){var t=e+"";return t.replace(kR,function(r){return NR[r]}).replace(Vbe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function j6(e){return zr(e).replace(/ /g,"_x0020_")}var ZX=/[\u0000-\u001f]/g;function ER(e){var t=e+"";return t.replace(kR,function(r){return NR[r]}).replace(/\n/g,"<br/>").replace(ZX,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function zbe(e){var t=e+"";return t.replace(kR,function(r){return NR[r]}).replace(ZX,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var S6=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function Wbe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function fn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function l2(e){for(var t="",r=0,n=0,s=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function N6(e){var t=Au(2*e.length),r,n,s=1,i=0,o=0,l;for(n=0;n<e.length;n+=s)s=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function k6(e){return yc(e,"binary").toString("utf8")}var hw="foo bar baz",qr=dr&&(k6(hw)==l2(hw)&&k6||N6(hw)==l2(hw)&&N6)||l2,ll=dr?function(e){return yc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Hg=(function(){var e={};return function(r,n){var s=r+"|"+(n||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),QX=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}})(),qbe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Hbe=/<\/?(?:vt:)?variant>/g,Gbe=/<(?:vt:)([^>]*)>([\s\S]*)</;function E6(e,t){var r=Kt(e),n=e.match(qbe(r.baseType))||[],s=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(i){var o=i.replace(Hbe,"").match(Gbe);o&&s.push({v:qr(o[2]),t:o[1]})}),s}var JX=/(^\s|\s$|\n)/;function Zs(e,t){return"<"+e+(t.match(JX)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Gg(e){return Fn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ct(e,t,r){return"<"+e+(r!=null?Gg(r):"")+(t!=null?(t.match(JX)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function JA(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Kbe(e,t){switch(typeof e){case"string":var r=ct("vt:lpwstr",zr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ct((e|0)==e?"vt:i4":"vt:r8",zr(String(e)));case"boolean":return ct("vt:bool",e?"true":"false")}if(e instanceof Date)return ct("vt:filetime",JA(e));throw new Error("Unable to serialize "+e)}function CR(e){if(dr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return qr(Wu(wR(e)));throw new Error("Bad input format: expected Buffer or string")}var Kg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ys={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Pf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],gi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Ybe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Xbe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=n?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var C6=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},T6=dr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yc(t)})):C6(e)}:C6,A6=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(Hl(e,s)));return n.join("").replace(ba,"")},B_=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ba,""):A6(e,t,r)}:A6,P6=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},eZ=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):P6(e,t,r)}:P6,O6=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(Fh(e,s)));return n.join("")},pp=dr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):O6(t,r,n)}:O6,tZ=function(e,t){var r=Ps(e,t);return r>0?pp(e,t+4,t+4+r-1):""},TR=tZ,rZ=function(e,t){var r=Ps(e,t);return r>0?pp(e,t+4,t+4+r-1):""},AR=rZ,nZ=function(e,t){var r=2*Ps(e,t);return r>0?pp(e,t+4,t+4+r-1):""},PR=nZ,sZ=function(t,r){var n=Ps(t,r);return n>0?B_(t,r+4,r+4+n):""},OR=sZ,aZ=function(e,t){var r=Ps(e,t);return r>0?pp(e,t+4,t+4+r):""},RR=aZ,iZ=function(e,t){return Ybe(e,t)},Mb=iZ,DR=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};dr&&(TR=function(t,r){if(!Buffer.isBuffer(t))return tZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},AR=function(t,r){if(!Buffer.isBuffer(t))return rZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},PR=function(t,r){if(!Buffer.isBuffer(t))return nZ(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},OR=function(t,r){if(!Buffer.isBuffer(t))return sZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},RR=function(t,r){if(!Buffer.isBuffer(t))return aZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Mb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):iZ(t,r)},DR=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function oZ(){B_=function(e,t,r){return br.utils.decode(1200,e.slice(t,r)).replace(ba,"")},pp=function(e,t,r){return br.utils.decode(65001,e.slice(t,r))},TR=function(e,t){var r=Ps(e,t);return r>0?br.utils.decode(af,e.slice(t+4,t+4+r-1)):""},AR=function(e,t){var r=Ps(e,t);return r>0?br.utils.decode(Ni,e.slice(t+4,t+4+r-1)):""},PR=function(e,t){var r=2*Ps(e,t);return r>0?br.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},OR=function(e,t){var r=Ps(e,t);return r>0?br.utils.decode(1200,e.slice(t+4,t+4+r)):""},RR=function(e,t){var r=Ps(e,t);return r>0?br.utils.decode(65001,e.slice(t+4,t+4+r)):""}}typeof br<"u"&&oZ();var Fh=function(e,t){return e[t]},Hl=function(e,t){return e[t+1]*256+e[t]},Zbe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ps=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ed=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Qbe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function eg(e,t){var r="",n,s,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Hl(this,u)),u+=2;e*=2;break;case"utf8":r=pp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=B_(this,this.l,this.l+e);break;case"wstr":if(typeof br<"u")r=br.utils.decode(Ni,this.slice(this.l,this.l+2*e));else return eg.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=TR(this,this.l),e=4+Ps(this,this.l);break;case"lpstr-cp":r=AR(this,this.l),e=4+Ps(this,this.l);break;case"lpwstr":r=PR(this,this.l),e=4+2*Ps(this,this.l);break;case"lpp4":e=4+Ps(this,this.l),r=OR(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ps(this,this.l),r=RR(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Fh(this,this.l+e++))!==0;)i.push($0(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Hl(this,this.l+e))!==0;)i.push($0(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Fh(this,u),this.l=u+1,l=eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($0(Hl(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":if(typeof br<"u"){r=br.utils.decode(Ni,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Fh(this,u),this.l=u+1,l=eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($0(Fh(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Fh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zbe:Hl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Ed:Qbe)(this,this.l),this.l+=4,n):(s=Ps(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=Mb(this,this.l):s=Mb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=eZ(this,this.l,e);break}}return this.l+=e,r}var Jbe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},e1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},t1e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function r1e(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)t1e(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){if(typeof br<"u"&&af==874)for(s=0;s!=t.length;++s){var i=br.utils.encode(af,t.charAt(s));this[this.l+s]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var l=t.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Jbe(this,t,this.l);break;case 8:if(n=8,r==="f"){Xbe(this,t,this.l);break}case 16:break;case-4:n=4,e1e(this,t,this.l);break}return this.l+=n,this}function lZ(e,t){var r=eZ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ks(e,t){e.l=t,e.read_shift=eg,e.chk=lZ,e.write_shift=r1e}function ja(e,t){e.l+=t}function Ie(e){var t=Au(e);return Ks(t,0),t}function wc(e,t,r){if(e){var n,s,i;Ks(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=ex[l]||ex[65535];for(n=e.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=e.read_shift(1))&127)<<7*s;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function Ja(){var e=[],t=dr?256:2048,r=function(u){var d=Ie(u);return Ks(d,0),d},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(s(),n=r(Math.max(u+1,t)))},o=function(){return s(),Is(e)},l=function(u){s(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Ye(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=ex[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&DR(r)&&e.push(r)}}function tg(e,t,r){var n=Zr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function R6(e,t,r){var n=Zr(e);return n.s=tg(n.s,t.s,r),n.e=tg(n.e,t.s,r),n}function rg(e,t){if(e.cRel&&e.c<0)for(e=Zr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Zr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ht(e);return!e.cRel&&e.cRel!=null&&(r=a1e(r)),!e.rRel&&e.rRel!=null&&(r=n1e(r)),r}function c2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hn(e.s.c)+":"+(e.e.cRel?"":"$")+hn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Dn(e.s.r)+":"+(e.e.rRel?"":"$")+Dn(e.e.r):rg(e.s,t.biff)+":"+rg(e.e,t.biff)}function IR(e){return parseInt(s1e(e),10)-1}function Dn(e){return""+(e+1)}function n1e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function s1e(e){return e.replace(/\$(\d+)$/,"$1")}function MR(e){for(var t=i1e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function hn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function a1e(e){return e.replace(/^([A-Z])/,"$$$1")}function i1e(e){return e.replace(/^\$([A-Z])/,"$1")}function o1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Nn(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Ht(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Fa(e){var t=e.indexOf(":");return t==-1?{s:Nn(e),e:Nn(e)}:{s:Nn(e.slice(0,t)),e:Nn(e.slice(t+1))}}function ar(e,t){return typeof t>"u"||typeof t=="number"?ar(e.s,e.e):(typeof e!="string"&&(e=Ht(e)),typeof t!="string"&&(t=Ht(t)),e==t?e:e+":"+t)}function xr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function D6(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ai(e.z,r?_s(t):t)}catch{}try{return e.w=Ai((e.XF||{}).numFmtId||(r?14:0),r?_s(t):t)}catch{return""+t}}function bl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?bc[e.v]||e.v:t==null?D6(e,e.v):D6(e,t))}function qu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function cZ(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Nn(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=xr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var g={v:t[f][m]},y=o+f,x=l+m;if(u.s.r>y&&(u.s.r=y),u.s.c>x&&(u.s.c=x),u.e.r<y&&(u.e.r=y),u.e.c<x&&(u.e.c=x),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))g=t[f][m];else if(Array.isArray(g.v)&&(g.f=t[f][m][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||zt[14],n.cellDates?(g.t="d",g.w=Ai(g.z,_s(g.v))):(g.t="n",g.v=_s(g.v),g.w=Ai(g.z,g.v))):g.t="s";if(s)i[y]||(i[y]=[]),i[y][x]&&i[y][x].z&&(g.z=i[y][x].z),i[y][x]=g;else{var v=Ht({c:x,r:y});i[v]&&i[v].z&&(g.z=i[v].z),i[v]=g}}}return u.s.c<1e7&&(i["!ref"]=ar(u)),i}function gp(e,t){return cZ(null,e,t)}function l1e(e){return e.read_shift(4,"i")}function Bo(e,t){return t||(t=Ie(4)),t.write_shift(4,e),t}function _a(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ms(e,t){var r=!1;return t==null&&(r=!0,t=Ie(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function c1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function u1e(e,t){return t||(t=Ie(4)),t.write_shift(2,0),t.write_shift(2,0),t}function FR(e,t){var r=e.l,n=e.read_shift(1),s=_a(e),i=[],o={t:s,h:s};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(c1e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function d1e(e,t){var r=!1;return t==null&&(r=!0,t=Ie(15+4*e.t.length)),t.write_shift(1,0),Ms(e.t,t),r?t.slice(0,t.l):t}var f1e=FR;function h1e(e,t){var r=!1;return t==null&&(r=!0,t=Ie(23+4*e.t.length)),t.write_shift(1,1),Ms(e.t,t),t.write_shift(4,1),u1e({},t),r?t.slice(0,t.l):t}function ho(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Of(e,t){return t==null&&(t=Ie(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Rf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Df(e,t){return t==null&&(t=Ie(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var m1e=_a,uZ=Ms;function LR(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Fb(e,t){var r=!1;return t==null&&(r=!0,t=Ie(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var p1e=_a,eP=LR,$R=Fb;function BR(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?Mb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ed(t,0)>>2;return r?s/100:s}function dZ(e,t){t==null&&(t=Ie(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function fZ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function g1e(e,t){return t||(t=Ie(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var If=fZ,xp=g1e;function ga(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cf(e,t){return(t||Ie(8)).write_shift(8,e,"f")}function x1e(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var u=$d[s];u&&(t.rgb=Xg(u));break;case 2:t.rgb=Xg([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Lb(e,t){if(t||(t=Ie(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function v1e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function y1e(e,t){t||(t=Ie(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function hZ(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function w1e(e){return hZ(e,1)}function b1e(e){return hZ(e,2)}var UR=2,Ka=3,mw=11,I6=12,$b=19,pw=64,_1e=65,j1e=71,S1e=4108,N1e=4126,Ts=80,mZ=81,k1e=[Ts,mZ],tP={1:{n:"CodePage",t:UR},2:{n:"Category",t:Ts},3:{n:"PresentationFormat",t:Ts},4:{n:"ByteCount",t:Ka},5:{n:"LineCount",t:Ka},6:{n:"ParagraphCount",t:Ka},7:{n:"SlideCount",t:Ka},8:{n:"NoteCount",t:Ka},9:{n:"HiddenCount",t:Ka},10:{n:"MultimediaClipCount",t:Ka},11:{n:"ScaleCrop",t:mw},12:{n:"HeadingPairs",t:S1e},13:{n:"TitlesOfParts",t:N1e},14:{n:"Manager",t:Ts},15:{n:"Company",t:Ts},16:{n:"LinksUpToDate",t:mw},17:{n:"CharacterCount",t:Ka},19:{n:"SharedDoc",t:mw},22:{n:"HyperlinksChanged",t:mw},23:{n:"AppVersion",t:Ka,p:"version"},24:{n:"DigSig",t:_1e},26:{n:"ContentType",t:Ts},27:{n:"ContentStatus",t:Ts},28:{n:"Language",t:Ts},29:{n:"Version",t:Ts},255:{},2147483648:{n:"Locale",t:$b},2147483651:{n:"Behavior",t:$b},1919054434:{}},rP={1:{n:"CodePage",t:UR},2:{n:"Title",t:Ts},3:{n:"Subject",t:Ts},4:{n:"Author",t:Ts},5:{n:"Keywords",t:Ts},6:{n:"Comments",t:Ts},7:{n:"Template",t:Ts},8:{n:"LastAuthor",t:Ts},9:{n:"RevNumber",t:Ts},10:{n:"EditTime",t:pw},11:{n:"LastPrinted",t:pw},12:{n:"CreatedDate",t:pw},13:{n:"ModifiedDate",t:pw},14:{n:"PageCount",t:Ka},15:{n:"WordCount",t:Ka},16:{n:"CharCount",t:Ka},17:{n:"Thumbnail",t:j1e},18:{n:"Application",t:Ts},19:{n:"DocSecurity",t:Ka},255:{},2147483648:{n:"Locale",t:$b},2147483651:{n:"Behavior",t:$b},1919054434:{}},M6={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},E1e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function C1e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var T1e=C1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),$d=Zr(T1e),bc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pZ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},nP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},gw={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function VR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function A1e(e){var t=VR();if(!e||!e.match)return t;var r={};if((e.match(Sa)||[]).forEach(function(n){var s=Kt(n);switch(s[0].replace(Bbe,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[nP[s.ContentType]]!==void 0&&t[nP[s.ContentType]].push(s.PartName);break}}),t.xmlns!==ys.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function gZ(e,t){var r=Abe(nP),n=[],s;n[n.length]=Xn,n[n.length]=ct("Types",null,{xmlns:ys.CT,"xmlns:xsd":ys.xsd,"xmlns:xsi":ys.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ct("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=ct("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:gw[c][t.bookType]||gw[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ct("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:gw[c][t.bookType]||gw[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ct("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var hr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Yg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ng(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Sa)||[]).forEach(function(s){var i=Kt(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:U0(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}function om(e){var t=[Xn,ct("Relationships",null,{xmlns:ys.RELS})];return Fn(e["!id"]).forEach(function(r){t[t.length]=ct("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ur(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[hr.HLINK,hr.XPATH,hr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}var P1e="application/vnd.oasis.opendocument.spreadsheet";function O1e(e,t){for(var r=CR(e),n,s;n=Kg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=Kt(n[0],!1),s.path=="/"&&s.type!==P1e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function R1e(e){var t=[Xn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function F6(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function D1e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function I1e(e){var t=[Xn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(F6(e[r][0],e[r][1])),t.push(D1e("",e[r][0]));return t.push(F6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function xZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zg.version+"</meta:generator></office:meta></office:document-meta>"}var oo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],M1e=(function(){for(var e=new Array(oo.length),t=0;t<oo.length;++t){var r=oo[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function vZ(e){var t={};e=qr(e);for(var r=0;r<oo.length;++r){var n=oo[r],s=e.match(M1e[r]);s!=null&&s.length>0&&(t[n[1]]=kr(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=mn(t[n[1]]))}return t}function u2(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=zr(t),n[n.length]=r?ct(e,t,r):Zs(e,t))}function yZ(e,t){var r=t||{},n=[Xn,ct("cp:coreProperties",null,{"xmlns:cp":ys.CORE_PROPS,"xmlns:dc":ys.dc,"xmlns:dcterms":ys.dcterms,"xmlns:dcmitype":ys.dcmitype,"xmlns:xsi":ys.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&u2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:JA(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&u2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:JA(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=oo.length;++i){var o=oo[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&u2(o[0],l,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Bd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],wZ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function bZ(e,t,r,n){var s=[];if(typeof e=="string")s=E6(e,n);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?E6(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==s.length;u+=2){switch(c=+s[u+1].v,s[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function F1e(e,t,r){var n={};return t||(t={}),e=qr(e),Bd.forEach(function(s){var i=(e.match(Hg(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=kr(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(n[s[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&bZ(n.HeadingPairs,n.TitlesOfParts,t,r),t}function _Z(e){var t=[],r=ct;return e||(e={}),e.Application="SheetJS",t[t.length]=Xn,t[t.length]=ct("Properties",null,{xmlns:ys.EXT_PROPS,"xmlns:vt":ys.vt}),Bd.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=zr(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+zr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var L1e=/<[^>]+>[^<]*/g;function $1e(e,t){var r={},n="",s=e.match(L1e);if(s)for(var i=0;i!=s.length;++i){var o=s[i],l=Kt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=kr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=kr(d);break;case"bool":r[n]=fn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=mn(d);break;case"cy":case"error":r[n]=kr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function jZ(e){var t=[Xn,ct("Properties",null,{xmlns:ys.CUST_PROPS,"xmlns:vt":ys.vt})];if(!e)return t.join("");var r=1;return Fn(e).forEach(function(s){++r,t[t.length]=ct("property",Kbe(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:zr(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var sP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},d2;function B1e(e,t,r){d2||(d2=F_(sP)),t=d2[t]||t,e[t]=r}function U1e(e,t){var r=[];return Fn(sP).map(function(n){for(var s=0;s<oo.length;++s)if(oo[s][1]==n)return oo[s];for(s=0;s<Bd.length;++s)if(Bd[s][1]==n)return Bd[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Zs(sP[n[1]]||n[1],s))}}),ct("DocumentProperties",r.join(""),{xmlns:gi.o})}function V1e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&Fn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<oo.length;++o)if(i==oo[o][1])return;for(o=0;o<Bd.length;++o)if(i==Bd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(ct(j6(i),l,{"dt:dt":c}))}}),t&&Fn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(ct(j6(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+gi.o+'">'+s.join("")+"</"+n+">"}function zR(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function z1e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Ie(8);return o.write_shift(4,n),o.write_shift(4,s),o}function SZ(e,t,r){var n=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return s}function NZ(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function kZ(e,t,r){return t===31?NZ(e):SZ(e,t,r)}function aP(e,t,r){return kZ(e,t,r===!1?0:4)}function W1e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return kZ(e,t,0)}function q1e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var s=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ba,""),e.l-s&2&&(e.l+=2)}return r}function H1e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ba,"");return r}function G1e(e){var t=e.l,r=Bb(e,mZ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Bb(e,Ka);return[r,n]}function K1e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(G1e(e));return r}function L6(e,t){for(var r=e.read_shift(4),n={},s=0;s!=r;++s){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ba,"").replace(B0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function EZ(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Y1e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Bb(e,t,r){var n=e.read_shift(2),s,i=r||{};if(e.l+=2,t!==I6&&n!==t&&k1e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===I6?n:t){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return SZ(e,n,4).replace(ba,"");case 31:return NZ(e);case 64:return zR(e);case 65:return EZ(e);case 71:return Y1e(e);case 80:return aP(e,n,!i.raw).replace(ba,"");case 81:return W1e(e,n).replace(ba,"");case 4108:return K1e(e);case 4126:case 4127:return n==4127?q1e(e):H1e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function $6(e,t){var r=Ie(4),n=Ie(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ie(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=z1e(t);break;case 31:case 80:for(n=Ie(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Is([r,n])}function B6(e,t){var r=e.l,n=e.read_shift(4),s=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=s;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(S,w){return S[1]-w[1]});var m={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var g=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,g=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],g=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],g=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(g=!1,e.l=i[o][1]),g)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(m[y.n]=Bb(e,y.t,{raw:!0}),y.p==="version"&&(m[y.n]=String(m[y.n]>>16)+"."+("0000"+String(m[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(m[y.n]){case 0:m[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ro(l=m[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[y.n])}}else if(i[o][0]===1){if(l=m.CodePage=Bb(e,UR),ro(l),c!==-1){var x=e.l;e.l=i[c][1],u=L6(e,l),e.l=x}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=L6(e,l)}else{var v=u[i[o][0]],j;switch(e[e.l]){case 65:e.l+=4,j=EZ(e);break;case 30:e.l+=4,j=aP(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,j=aP(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,j=e.read_shift(4,"i");break;case 19:e.l+=4,j=e.read_shift(4);break;case 5:e.l+=4,j=e.read_shift(8,"f");break;case 11:e.l+=4,j=zn(e,4);break;case 64:e.l+=4,j=mn(zR(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[v]=j}}return e.l=r+n,m}var CZ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function X1e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function U6(e,t,r){var n=Ie(8),s=[],i=[],o=8,l=0,c=Ie(8),u=Ie(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),s.push(u),o+=8+c.length,!t){u=Ie(8),u.write_shift(4,0),s.unshift(u);var d=[Ie(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Ie(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Is(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(CZ.indexOf(e[l][0])>-1||wZ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],g=0;if(t){g=+t[e[l][0]];var y=r[g];if(y.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=$6(y.t,m)}else{var v=X1e(m);v==-1&&(v=31,m=String(m)),c=$6(v,m)}i.push(c),u=Ie(8),u.write_shift(4,t?g:2+l),s.push(u),o+=8+c.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,j),j+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Is([n].concat(s).concat(i))}function V6(e,t,r){var n=e.content;if(!n)return{};Ks(n,0);var s,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Pt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),l=n.read_shift(4),s===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);s===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=B6(n,t),m={SystemIdentifier:u};for(var g in f)m[g]=f[g];if(m.FMTID=i,s===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var y;try{y=B6(n,null)}catch{}for(g in y)m[g]=y[g];return m.FMTID=[i,o],m}function z6(e,t,r,n,s,i){var o=Ie(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Pt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=U6(e,r,n);if(l.push(c),s){var u=U6(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Is(l)}function Xc(e,t){return e.read_shift(t),null}function Z1e(e,t){t||(t=Ie(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Q1e(e,t,r){for(var n=[],s=e.l+t;e.l<s;)n.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return n}function zn(e,t){return e.read_shift(t)===1}function Pa(e,t){return t||(t=Ie(2)),t.write_shift(2,+!!e),t}function ts(e){return e.read_shift(2,"u")}function Xi(e,t){return t||(t=Ie(2)),t.write_shift(2,e),t}function TZ(e,t){return Q1e(e,t,ts)}function J1e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function AZ(e,t,r){return r||(r=Ie(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Sv(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont",i=Ni;if(r&&r.biff>=8&&(Ni=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var l=n?e.read_shift(n,s):"";return Ni=i,l}function e_e(e){var t=Ni;Ni=1200;var r=e.read_shift(2),n=e.read_shift(1),s=n&4,i=n&8,o=1+(n&1),l=0,c,u={};i&&(l=e.read_shift(2)),s&&(c=e.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return i&&(e.l+=4*l),s&&(e.l+=c),u.t=f,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),Ni=t,u}function t_e(e){var t=e.t||"",r=Ie(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ie(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Is(s)}function uf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Nv(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):uf(e,n,r)}function Mf(e,t,r){if(r.biff>5)return Nv(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function PZ(e,t,r){return r||(r=Ie(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function r_e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function n_e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var s=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ba,"");return n&&(e.l+=24),s}function s_e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(ba,"");return r+o}function a_e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return n_e(e);case"0303000000000000c000000000000046":return s_e(e);default:throw new Error("Unsupported Moniker "+r)}}function xw(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ba,""):"";return r}function W6(e,t){t||(t=Ie(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function i_e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;s&16&&(i=xw(e,r-e.l)),s&128&&(o=xw(e,r-e.l)),(s&257)===257&&(l=xw(e,r-e.l)),(s&257)===1&&(c=a_e(e,r-e.l)),s&8&&(u=xw(e,r-e.l)),s&32&&(d=e.read_shift(16)),s&64&&(f=zR(e)),e.l=r;var m=o||l||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),s&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var g={Target:m};return d&&(g.guid=d),f&&(g.time=f),i&&(g.Tooltip=i),g}function o_e(e){var t=Ie(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),W6(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&W6(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function OZ(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),s=e.read_shift(1);return[t,r,n,s]}function RZ(e,t){var r=OZ(e);return r[3]=0,r}function El(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function df(e,t,r,n){return n||(n=Ie(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function l_e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function c_e(e,t,r){return t===0?"":Mf(e,t,r)}function u_e(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,i,o]}function DZ(e){var t=e.read_shift(2),r=BR(e);return[t,r]}function d_e(e,t,r){e.l+=4,t-=4;var n=e.l+t,s=Sv(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,s}function U_(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function IZ(e,t){return t||(t=Ie(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function MZ(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),s=e.read_shift(1);return{s:{c:n,r:t},e:{c:s,r}}}var f_e=MZ;function FZ(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function h_e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function m_e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function la(e){e.l+=2,e.l+=e.read_shift(2)}var p_e={0:la,4:la,5:la,6:la,7:m_e,8:la,9:la,10:la,11:la,12:la,13:h_e,14:la,15:la,16:la,17:la,18:la,19:la,20:la,21:FZ};function g_e(e,t){for(var r=e.l+t,n=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{n.push(p_e[s](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function vw(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function WR(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ie(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function x_e(e,t){return t===0||e.read_shift(2),1200}function v_e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,s=Mf(e,0,r);return e.read_shift(t+n-e.l),s}function y_e(e,t){var r=!t||t.biff==8,n=Ie(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function w_e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function b_e(e,t,r){var n=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Sv(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:s,dt:i,name:o}}function __e(e,t){var r=!t||t.biff>=8?2:1,n=Ie(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function j_e(e,t){for(var r=e.l+t,n=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<r;++o)i.push(e_e(e));return i.Count=n,i.Unique=s,i}function S_e(e,t){var r=Ie(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=t_e(e[s]);var i=Is([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function N_e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function k_e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function E_e(e){var t=l_e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function C_e(e){return e.read_shift(2),e.read_shift(4)}function q6(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function T_e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,s],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function A_e(){var e=Ie(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function P_e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function O_e(e){var t=Ie(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function R_e(){}function D_e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Sv(e,0,r),n}function I_e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Ie(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function M_e(e){var t=El(e);return t.isst=e.read_shift(4),t}function F_e(e,t,r,n){var s=Ie(10);return df(e,t,n,s),s.write_shift(4,r),s}function L_e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,s=El(e);r.biff==2&&e.l++;var i=Nv(e,n-e.l,r);return s.val=i,s}function $_e(e,t,r,n,s){var i=!s||s.biff==8,o=Ie(8+ +i+(1+i)*r.length);return df(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function B_e(e,t,r){var n=e.read_shift(2),s=Mf(e,0,r);return[n,s]}function U_e(e,t,r,n){var s=r&&r.biff==5;n||(n=Ie(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var V_e=Mf;function H6(e,t,r){var n=e.l+t,s=r.biff==8||!r.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function z_e(e,t){var r=t.biff==8||!t.biff?4:2,n=Ie(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function W_e(e){var t=e.read_shift(2),r=e.read_shift(2),n=DZ(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function q_e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(DZ(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:o,rkrec:i}}function H_e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:o,ixfe:i}}function G_e(e,t,r,n){var s={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return s.patternType=E1e[l>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function K_e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=G_e(e,t,n.fStyle,r),n}function G6(e,t,r,n){var s=r&&r.biff==5;n||(n=Ie(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function Y_e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function X_e(e){var t=Ie(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function K6(e,t,r){var n=El(e);(r.biff==2||t==9)&&++e.l;var s=J1e(e);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function Z_e(e,t,r,n,s,i){var o=Ie(8);return df(e,t,n,o),AZ(r,i,o),o}function Q_e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=El(e),s=ga(e);return n.val=s,n}function J_e(e,t,r,n){var s=Ie(14);return df(e,t,n,s),cf(r,s),s}var Y6=c_e;function eje(e,t,r){var n=e.l+t,s=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=uf(e,i),l=[];n>e.l;)l.push(Nv(e));return[i,s,o,l]}function X6(e,t,r){var n=e.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=d_e(e,t-2,r)),i.body=s||e.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var tje=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Z6(e,t,r){var n=e.l+t,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=uf(e,o,r);s&32&&(u=tje[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:gke(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function LZ(e,t,r){if(r.biff<8)return rje(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(u_e(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function rje(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Sv(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function nje(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),s=e.read_shift(2),i=uf(e,n,r),o=uf(e,s,r);return[i,o]}function sje(e,t,r){var n=MZ(e);e.l++;var s=e.read_shift(1);return t-=8,[xke(e,t,r),s,n]}function Q6(e,t,r){var n=f_e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,mke(e,t,r)]}function aje(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function ije(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Mf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:s},l,o,i]}}function oje(e,t,r){return ije(e,t,r)}function lje(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(U_(e));return r}function cje(e){var t=Ie(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)IZ(e[r],t);return t}function uje(e,t,r){if(r&&r.biff<8)return fje(e,t,r);var n=FZ(e),s=g_e(e,t-22,n[1]);return{cmo:n,ft:s}}var dje={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:n}}};function fje(e,t,r){e.l+=4;var n=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((dje[n]||ja)(e,t,r)),{cmo:[s,n,i],ft:o}}function hje(e,t,r){var n=e.l,s="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=r_e(e,6,r);var l=e.read_shift(2);e.read_shift(2),ts(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=uf(e,e.lens[u+1]-e.lens[u]-1);if(s+=f,s.length>=(d?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return e.l=n+t,{t:s}}catch{return e.l=n+t,{t:s}}}function mje(e,t){var r=U_(e);e.l+=16;var n=i_e(e,t-24);return[r,n]}function pje(e){var t=Ie(24),r=Nn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Is([t,o_e(e[1])])}function gje(e,t){e.read_shift(2);var r=U_(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ba,""),[r,n]}function xje(e){var t=e[1].Tooltip,r=Ie(10+2*(t.length+1));r.write_shift(2,2048);var n=Nn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function vje(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=M6[r]||r,r=e.read_shift(2),t[1]=M6[r]||r,t}function yje(e){return e||(e=Ie(4)),e.write_shift(2,1),e.write_shift(2,1),e}function wje(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(RZ(e));return r}function bje(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(RZ(e));return r}function _je(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function $Z(e,t,r){if(!r.cellStyles)return ja(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function jje(e,t){var r=Ie(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Sje(e,t){var r={};return t<32||(e.l+=16,r.header=ga(e),r.footer=ga(e),e.l+=2),r}function Nje(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var s=e.read_shift(1);return e.l+=3,s&16&&(n.area=!0),n}function kje(e){for(var t=Ie(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Eje=El,Cje=TZ,Tje=Nv;function Aje(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,s}function Pje(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=El(e);++e.l;var s=Mf(e,t-7,r);return n.t="str",n.val=s,n}function Oje(e){var t=El(e);++e.l;var r=ga(e);return t.t="n",t.val=r,t}function Rje(e,t,r){var n=Ie(15);return Tv(n,e,t),n.write_shift(8,r,"f"),n}function Dje(e){var t=El(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Ije(e,t,r){var n=Ie(9);return Tv(n,e,t),n.write_shift(2,r),n}function Mje(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Fje(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Lje(e,t,r){var n=e.l+t,s=El(e),i=e.read_shift(2),o=uf(e,i,r);return e.l=n,s.t="str",s.val=o,s}var $je=[2,3,48,49,131,139,140,245],iP=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=F_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Au(1);switch(c.type){case"base64":d=xi(Ti(l));break;case"binary":d=xi(l);break;case"buffer":case"array":d=l;break}Ks(d,0);var f=d.read_shift(1),m=!!(f&136),g=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:g=!0,m=!0;break;case 49:g=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,v=521;f==2&&(x=d.read_shift(2)),d.l+=3,f!=2&&(x=d.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(v=d.read_shift(2));var j=d.read_shift(2),S=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(S=e[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var w=[],T={},E=Math.min(d.length,f==2?521:v-10-(g?264:0)),N=y?32:11;d.l<E&&d[d.l]!=13;)switch(T={},T.name=br.utils.decode(S,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,T.type=String.fromCharCode(d.read_shift(1)),f!=2&&!y&&(T.offset=d.read_shift(4)),T.len=d.read_shift(1),f==2&&(T.offset=d.read_shift(2)),T.dec=d.read_shift(1),T.name.length&&w.push(T),f!=2&&(d.l+=y?13:14),T.type){case"B":(!g||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var k=0,R=0;for(u[0]=[],R=0;R!=w.length;++R)u[0][R]=w[R].name;for(;x-- >0;){if(d[d.l]===42){d.l+=j;continue}for(++d.l,u[++k]=[],R=0,R=0;R!=w.length;++R){var A=d.slice(d.l,d.l+w[R].len);d.l+=w[R].len,Ks(A,0);var I=br.utils.decode(S,A);switch(w[R].type){case"C":I.trim().length&&(u[k][R]=I.replace(/\s+$/,""));break;case"D":I.length===8?u[k][R]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):u[k][R]=I;break;case"F":u[k][R]=parseFloat(I.trim());break;case"+":case"I":u[k][R]=y?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":u[k][R]=!0;break;case"N":case"F":u[k][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][R]="##MEMO##"+(y?parseInt(I.trim(),10):A.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(u[k][R]=+I||0);break;case"@":u[k][R]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[k][R]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[k][R]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][R]=-A.read_shift(-8,"f");break;case"B":if(g&&w[R].len==8){u[k][R]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[R].len;break;case"0":if(w[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[R].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=gp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function s(l,c){try{return qu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&ro(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ja(),f=Wb(l,{header:1,raw:!0,cellDates:!0}),m=f[0],g=f.slice(1),y=l["!cols"]||[],x=0,v=0,j=0,S=1;for(x=0;x<m.length;++x){if(((y[x]||{}).DBF||{}).name){m[x]=y[x].DBF.name,++j;continue}if(m[x]!=null){if(++j,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(v=0;v<1024;++v)if(m.indexOf(m[x]+"_"+v)==-1){m[x]+="_"+v;break}}}}var w=xr(l["!ref"]),T=[],E=[],N=[];for(x=0;x<=w.e.c-w.s.c;++x){var k="",R="",A=0,I=[];for(v=0;v<g.length;++v)g[v][x]!=null&&I.push(g[v][x]);if(I.length==0||m[x]==null){T[x]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=I[v]instanceof Date?"D":"C";break;default:R="C"}A=Math.max(A,String(I[v]).length),k=k&&k!=R?"C":R}A>250&&(A=250),R=((y[x]||{}).DBF||{}).type,R=="C"&&y[x].DBF.len>A&&(A=y[x].DBF.len),k=="B"&&R=="N"&&(k="N",N[x]=y[x].DBF.dec,A=y[x].DBF.len),E[x]=k=="C"||R=="N"?A:i[k]||0,S+=E[x],T[x]=k}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,g.length),P.write_shift(2,296+32*j),P.write_shift(2,S),x=0;x<4;++x)P.write_shift(4,0);for(P.write_shift(4,0|(+t[af]||3)<<8),x=0,v=0;x<m.length;++x)if(m[x]!=null){var D=d.next(32),B=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,B,"sbcs"),D.write_shift(1,T[x]=="?"?"C":T[x],"sbcs"),D.write_shift(4,v),D.write_shift(1,E[x]||i[T[x]]||0),D.write_shift(1,N[x]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),v+=E[x]||i[T[x]]||0}var U=d.next(264);for(U.write_shift(4,13),x=0;x<65;++x)U.write_shift(4,0);for(x=0;x<g.length;++x){var H=d.next(S);for(H.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(T[v]){case"L":H.write_shift(1,g[x][v]==null?63:g[x][v]?84:70);break;case"B":H.write_shift(8,g[x][v]||0,"f");break;case"N":var M="0";for(typeof g[x][v]=="number"&&(M=g[x][v].toFixed(N[v]||0)),j=0;j<E[v]-M.length;++j)H.write_shift(1,32);H.write_shift(1,M,"sbcs");break;case"D":g[x][v]?(H.write_shift(4,("0000"+g[x][v].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(g[x][v].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+g[x][v].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var W=String(g[x][v]!=null?g[x][v]:"").slice(0,E[v]);for(H.write_shift(1,W,"sbcs"),j=0;j<E[v]-W.length;++j)H.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),BZ=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,g){var y=e[g];return typeof y=="number"?QA(y):y},n=function(m,g,y){var x=g.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?m:QA(x)};e["|"]=254;function s(m,g){switch(g.type){case"base64":return i(Ti(m),g);case"binary":return i(m,g);case"buffer":return i(dr&&Buffer.isBuffer(m)?m.toString("binary"):Wu(m),g);case"array":return i(lf(m),g)}throw new Error("Unrecognized type "+g.type)}function i(m,g){var y=m.split(/[\n\r]+/),x=-1,v=-1,j=0,S=0,w=[],T=[],E=null,N={},k=[],R=[],A=[],I=0,P;for(+g.codepage>=0&&ro(+g.codepage);j!==y.length;++j){I=0;var D=y[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),B=D.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),U=B[0],H;if(D.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&T.push(D.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,W=!1,K=!1,V=!1,z=-1,G=-1;for(S=1;S<B.length;++S)switch(B[S].charAt(0)){case"A":break;case"X":v=parseInt(B[S].slice(1))-1,W=!0;break;case"Y":for(x=parseInt(B[S].slice(1))-1,W||(v=0),P=w.length;P<=x;++P)w[P]=[];break;case"K":H=B[S].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN($o(H))?isNaN(Nm(H).getDate())||(H=mn(H)):(H=$o(H),E!==null&&Af(E)&&(H=$_(H))),typeof br<"u"&&typeof H=="string"&&(g||{}).type!="string"&&(g||{}).codepage&&(H=br.utils.decode(g.codepage,H)),M=!0;break;case"E":V=!0;var F=lm(B[S].slice(1),{r:x,c:v});w[x][v]=[w[x][v],F];break;case"S":K=!0,w[x][v]=[w[x][v],"S5S"];break;case"G":break;case"R":z=parseInt(B[S].slice(1))-1;break;case"C":G=parseInt(B[S].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+D)}if(M&&(w[x][v]&&w[x][v].length==2?w[x][v][0]=H:w[x][v]=H,E=null),K){if(V)throw new Error("SYLK shared formula cannot have own formula");var X=z>-1&&w[z][G];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");w[x][v][1]=sQ(X[1],{r:x-z,c:v-G})}break;case"F":var Z=0;for(S=1;S<B.length;++S)switch(B[S].charAt(0)){case"X":v=parseInt(B[S].slice(1))-1,++Z;break;case"Y":for(x=parseInt(B[S].slice(1))-1,P=w.length;P<=x;++P)w[P]=[];break;case"M":I=parseInt(B[S].slice(1))/20;break;case"F":break;case"G":break;case"P":E=T[parseInt(B[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=B[S].slice(1).split(" "),P=parseInt(A[0],10);P<=parseInt(A[1],10);++P)I=parseInt(A[2],10),R[P-1]=I===0?{hidden:!0}:{wch:I},Pu(R[P-1]);break;case"C":v=parseInt(B[S].slice(1))-1,R[v]||(R[v]={});break;case"R":x=parseInt(B[S].slice(1))-1,k[x]||(k[x]={}),I>0?(k[x].hpt=I,k[x].hpx=Em(I)):I===0&&(k[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+D)}Z<1&&(E=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+D)}}return k.length>0&&(N["!rows"]=k),R.length>0&&(N["!cols"]=R),g&&g.sheetRows&&(w=w.slice(0,g.sheetRows)),[w,N]}function o(m,g){var y=s(m,g),x=y[0],v=y[1],j=gp(x,g);return Fn(v).forEach(function(S){j[S]=v[S]}),j}function l(m,g){return qu(o(m,g),g)}function c(m,g,y,x){var v="C;Y"+(y+1)+";X"+(x+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+XR(m.f,{r:y,c:x}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(m,g){g.forEach(function(y,x){var v="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Zg(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Qg(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function d(m,g){g.forEach(function(y,x){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*Jg(y.hpx)+";"),v.length>2&&m.push(v+"R"+(x+1))})}function f(m,g){var y=["ID;PWXL;N;E"],x=[],v=xr(m["!ref"]),j,S=Array.isArray(m),w=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&d(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var T=v.s.r;T<=v.e.r;++T)for(var E=v.s.c;E<=v.e.c;++E){var N=Ht({r:T,c:E});j=S?(m[T]||[])[E]:m[N],!(!j||j.v==null&&(!j.f||j.F))&&x.push(c(j,m,T,E))}return y.join(w)+w+x.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}})(),UZ=(function(){function e(i,o){switch(o.type){case"base64":return t(Ti(i),o);case"binary":return t(i,o);case"buffer":return t(dr&&Buffer.isBuffer(i)?i.toString("binary"):Wu(i),o);case"array":return t(lf(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),g=m[0],y=m[1];++d;for(var x=l[d]||"";(x.match(/["]/g)||[]).length&1&&d<l.length-1;)x+=`
`+l[++d];switch(x=x.trim(),+g){case-1:if(x==="BOT"){f[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][u]=!0:x==="FALSE"?f[c][u]=!1:isNaN($o(y))?isNaN(Nm(y).getDate())?f[c][u]=y:f[c][u]=mn(y):f[c][u]=$o(y),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return gp(e(i,o),o)}function n(i,o){return qu(r(i,o),o)}var s=(function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=xr(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var g=d.s.r;g<=d.e.r;++g){o(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var x=Ht({r:g,c:y});if(f=m?(c[g]||[])[y]:c[x],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ai(f.z||zt[14],_s(mn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var j=`\r
`,S=u.join(j);return S}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),VZ=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var g=f.split(`
`),y=-1,x=-1,v=0,j=[];v!==g.length;++v){var S=g[v].trim().split(":");if(S[0]==="cell"){var w=Nn(S[1]);if(j.length<=w.r)for(y=j.length;y<=w.r;++y)j[y]||(j[y]=[]);switch(y=w.r,x=w.c,S[2]){case"t":j[y][x]=e(S[3]);break;case"v":j[y][x]=+S[3];break;case"vtf":var T=S[S.length-1];case"vtc":switch(S[3]){case"nl":j[y][x]=!!+S[4];break;default:j[y][x]=+S[4];break}S[2]=="vtf"&&(j[y][x]=[j[y][x],T])}}}return m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),j}function n(f,m){return gp(r(f,m),m)}function s(f,m){return qu(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],g=[],y,x="",v=Fa(f["!ref"]),j=Array.isArray(f),S=v.s.r;S<=v.e.r;++S)for(var w=v.s.c;w<=v.e.c;++w)if(x=Ht({r:S,c:w}),y=j?(f[S]||[])[w]:f[x],!(!y||y.v==null||y.t==="z")){switch(g=["cell",x,"t"],y.t){case"s":case"str":g.push(t(y.v));break;case"n":y.f?(g[2]="vtf",g[3]="n",g[4]=y.v,g[5]=t(y.f)):(g[2]="v",g[3]=y.v);break;case"b":g[2]="vt"+(y.f?"f":"c"),g[3]="nl",g[4]=y.v?"1":"0",g[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var T=_s(mn(y.v));g[2]="vtc",g[3]="nd",g[4]=""+T,g[5]=y.w||Ai(y.z||zt[14],T);break;case"e":continue}m.push(g.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:d}})(),km=(function(){function e(d,f,m,g,y){y.raw?f[m][g]=d:d===""||(d==="TRUE"?f[m][g]=!0:d==="FALSE"?f[m][g]=!1:isNaN($o(d))?isNaN(Nm(d).getDate())?f[m][g]=d:f[m][g]=mn(d):f[m][g]=$o(d))}function t(d,f){var m=f||{},g=[];if(!d||d.length===0)return g;for(var y=d.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var v=10,j=0,S=0;S<=x;++S)j=y[S].indexOf(" "),j==-1?j=y[S].length:j++,v=Math.max(v,j);for(S=0;S<=x;++S){g[S]=[];var w=0;for(e(y[S].slice(0,v).trim(),g,S,w,m),w=1;w<=(y[S].length-v)/10+1;++w)e(y[S].slice(v+(w-1)*10,v+w*10).trim(),g,S,w,m)}return m.sheetRows&&(g=g.slice(0,m.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(d){for(var f={},m=!1,g=0,y=0;g<d.length;++g)(y=d.charCodeAt(g))==34?m=!m:!m&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&y.push([f[g],g]);if(!y.length){f=n;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&y.push([f[g],g])}return y.sort(function(x,v){return x[0]-v[0]||n[x[1]]-n[v[1]]}),r[y.pop()[1]]||44}function i(d,f){var m=f||{},g="",y=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(g=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(g=d.charAt(4),d=d.slice(6)):g=s(d.slice(0,1024)):m&&m.FS?g=m.FS:g=s(d.slice(0,1024));var v=0,j=0,S=0,w=0,T=0,E=g.charCodeAt(0),N=!1,k=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var A=m.dateNF!=null?Sbe(m.dateNF):null;function I(){var P=d.slice(w,T),D={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)D.t="z";else if(m.raw)D.t="s",D.v=P;else if(P.trim().length===0)D.t="s",D.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(D.t="s",D.v=P.slice(2,-1).replace(/""/g,'"')):e2e(P)?(D.t="n",D.f=P.slice(1)):(D.t="s",D.v=P);else if(P=="TRUE")D.t="b",D.v=!0;else if(P=="FALSE")D.t="b",D.v=!1;else if(!isNaN(S=$o(P)))D.t="n",m.cellText!==!1&&(D.w=P),D.v=S;else if(!isNaN(Nm(P).getDate())||A&&P.match(A)){D.z=m.dateNF||zt[14];var B=0;A&&P.match(A)&&(P=Nbe(P,m.dateNF,P.match(A)||[]),B=1),m.cellDates?(D.t="d",D.v=mn(P,B)):(D.t="n",D.v=_s(mn(P,B))),m.cellText!==!1&&(D.w=Ai(D.z,D.v instanceof Date?_s(D.v):D.v)),m.cellNF||delete D.z}else D.t="s",D.v=P;if(D.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][j]=D):y[Ht({c:j,r:v})]=D),w=T+1,R=d.charCodeAt(w),x.e.c<j&&(x.e.c=j),x.e.r<v&&(x.e.r=v),k==E)++j;else if(j=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;T<d.length;++T)switch(k=d.charCodeAt(T)){case 34:R===34&&(N=!N);break;case E:case 10:case 13:if(!N&&I())break e;break}return T-w>0&&I(),y["!ref"]=ar(x),y}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):gp(t(d,f),f)}function l(d,f){var m="",g=f.type=="string"?[0,0,0,0]:aD(d,f);switch(f.type){case"base64":m=Ti(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):f.codepage&&typeof br<"u"?m=br.utils.decode(f.codepage,d):m=dr&&Buffer.isBuffer(d)?d.toString("binary"):Wu(d);break;case"array":m=lf(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return g[0]==239&&g[1]==187&&g[2]==191?m=qr(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=qr(m):f.type=="binary"&&typeof br<"u"&&f.codepage&&(m=br.utils.decode(f.codepage,br.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?VZ.to_sheet(f.type=="string"?m:qr(m),f):o(m,f)}function c(d,f){return qu(l(d,f),f)}function u(d){for(var f=[],m=xr(d["!ref"]),g,y=Array.isArray(d),x=m.s.r;x<=m.e.r;++x){for(var v=[],j=m.s.c;j<=m.e.c;++j){var S=Ht({r:x,c:j});if(g=y?(d[x]||[])[j]:d[S],!g||g.v==null){v.push("          ");continue}for(var w=(g.w||(bl(g),g.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(j===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}})();function Bje(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var s=BZ.to_workbook(e,r);return r.WTF=n,s}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return km.to_workbook(e,t)}}var Ud=(function(){function e(F,X,Z){if(F){Ks(F,F.l||0);for(var re=Z.Enum||z;F.l<F.length;){var ee=F.read_shift(2),ce=re[ee]||re[65535],pe=F.read_shift(2),Y=F.l+pe,Q=ce.f&&ce.f(F,pe,Z);if(F.l=Y,X(Q,ce,ee))return}}}function t(F,X){switch(X.type){case"base64":return r(xi(Ti(F)),X);case"binary":return r(xi(F),X);case"buffer":case"array":return r(F,X)}throw"Unsupported type "+X.type}function r(F,X){if(!F)return F;var Z=X||{},re=Z.dense?[]:{},ee="Sheet1",ce="",pe=0,Y={},Q=[],ae=[],q={s:{r:0,c:0},e:{r:0,c:0}},ke=Z.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)Z.Enum=z,e(F,function(je,mt,ht){switch(ht){case 0:Z.vers=je,je>=4096&&(Z.qpro=!0);break;case 6:q=je;break;case 204:je&&(ce=je);break;case 222:ce=je;break;case 15:case 51:Z.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:ht==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=Z.dateNF||zt[14],Z.cellDates&&(je[1].t="d",je[1].v=$_(je[1].v))),Z.qpro&&je[3]>pe&&(re["!ref"]=ar(q),Y[ee]=re,Q.push(ee),re=Z.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},pe=je[3],ee=ce||"Sheet"+(pe+1),ce="");var oe=Z.dense?(re[je[0].r]||[])[je[0].c]:re[Ht(je[0])];if(oe){oe.t=je[1].t,oe.v=je[1].v,je[1].z!=null&&(oe.z=je[1].z),je[1].f!=null&&(oe.f=je[1].f);break}Z.dense?(re[je[0].r]||(re[je[0].r]=[]),re[je[0].r][je[0].c]=je[1]):re[Ht(je[0])]=je[1];break}},Z);else if(F[2]==26||F[2]==14)Z.Enum=G,F[2]==14&&(Z.qpro=!0,F.l=0),e(F,function(je,mt,ht){switch(ht){case 204:ee=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>pe&&(re["!ref"]=ar(q),Y[ee]=re,Q.push(ee),re=Z.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},pe=je[3],ee="Sheet"+(pe+1)),ke>0&&je[0].r>=ke)break;Z.dense?(re[je[0].r]||(re[je[0].r]=[]),re[je[0].r][je[0].c]=je[1]):re[Ht(je[0])]=je[1],q.e.c<je[0].c&&(q.e.c=je[0].c),q.e.r<je[0].r&&(q.e.r=je[0].r);break;case 27:je[14e3]&&(ae[je[14e3][0]]=je[14e3][1]);break;case 1537:ae[je[0]]=je[1],je[0]==pe&&(ee=je[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(re["!ref"]=ar(q),Y[ce||ee]=re,Q.push(ce||ee),!ae.length)return{SheetNames:Q,Sheets:Y};for(var ye={},xe=[],Re=0;Re<ae.length;++Re)Y[Q[Re]]?(xe.push(ae[Re]||Q[Re]),ye[ae[Re]]=Y[ae[Re]]||Y[Q[Re]]):(xe.push(ae[Re]),ye[ae[Re]]={"!ref":"A1"});return{SheetNames:xe,Sheets:ye}}function n(F,X){var Z=X||{};if(+Z.codepage>=0&&ro(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var re=Ja(),ee=xr(F["!ref"]),ce=Array.isArray(F),pe=[];ut(re,0,i(1030)),ut(re,6,c(ee));for(var Y=Math.min(ee.e.r,8191),Q=ee.s.r;Q<=Y;++Q)for(var ae=Dn(Q),q=ee.s.c;q<=ee.e.c;++q){Q===ee.s.r&&(pe[q]=hn(q));var ke=pe[q]+ae,ye=ce?(F[Q]||[])[q]:F[ke];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?ut(re,13,g(Q,q,ye.v)):ut(re,14,x(Q,q,ye.v));else{var xe=bl(ye);ut(re,15,f(Q,q,xe.slice(0,239)))}}return ut(re,1),re.end()}function s(F,X){var Z=X||{};if(+Z.codepage>=0&&ro(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var re=Ja();ut(re,0,o(F));for(var ee=0,ce=0;ee<F.SheetNames.length;++ee)(F.Sheets[F.SheetNames[ee]]||{})["!ref"]&&ut(re,27,V(F.SheetNames[ee],ce++));var pe=0;for(ee=0;ee<F.SheetNames.length;++ee){var Y=F.Sheets[F.SheetNames[ee]];if(!(!Y||!Y["!ref"])){for(var Q=xr(Y["!ref"]),ae=Array.isArray(Y),q=[],ke=Math.min(Q.e.r,8191),ye=Q.s.r;ye<=ke;++ye)for(var xe=Dn(ye),Re=Q.s.c;Re<=Q.e.c;++Re){ye===Q.s.r&&(q[Re]=hn(Re));var je=q[Re]+xe,mt=ae?(Y[ye]||[])[Re]:Y[je];if(!(!mt||mt.t=="z"))if(mt.t=="n")ut(re,23,I(ye,Re,pe,mt.v));else{var ht=bl(mt);ut(re,22,k(ye,Re,pe,ht.slice(0,239)))}}++pe}}return ut(re,1),re.end()}function i(F){var X=Ie(2);return X.write_shift(2,F),X}function o(F){var X=Ie(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var Z=0,re=0,ee=0,ce=0;ce<F.SheetNames.length;++ce){var pe=F.SheetNames[ce],Y=F.Sheets[pe];if(!(!Y||!Y["!ref"])){++ee;var Q=Fa(Y["!ref"]);Z<Q.e.r&&(Z=Q.e.r),re<Q.e.c&&(re=Q.e.c)}}return Z>8191&&(Z=8191),X.write_shift(2,Z),X.write_shift(1,ee),X.write_shift(1,re),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function l(F,X,Z){var re={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&Z.qpro?(re.s.c=F.read_shift(1),F.l++,re.s.r=F.read_shift(2),re.e.c=F.read_shift(1),F.l++,re.e.r=F.read_shift(2),re):(re.s.c=F.read_shift(2),re.s.r=F.read_shift(2),X==12&&Z.qpro&&(F.l+=2),re.e.c=F.read_shift(2),re.e.r=F.read_shift(2),X==12&&Z.qpro&&(F.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function c(F){var X=Ie(8);return X.write_shift(2,F.s.c),X.write_shift(2,F.s.r),X.write_shift(2,F.e.c),X.write_shift(2,F.e.r),X}function u(F,X,Z){var re=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(re[0].c=F.read_shift(1),re[3]=F.read_shift(1),re[0].r=F.read_shift(2),F.l+=2):(re[2]=F.read_shift(1),re[0].c=F.read_shift(2),re[0].r=F.read_shift(2)),re}function d(F,X,Z){var re=F.l+X,ee=u(F,X,Z);if(ee[1].t="s",Z.vers==20768){F.l++;var ce=F.read_shift(1);return ee[1].v=F.read_shift(ce,"utf8"),ee}return Z.qpro&&F.l++,ee[1].v=F.read_shift(re-F.l,"cstr"),ee}function f(F,X,Z){var re=Ie(7+Z.length);re.write_shift(1,255),re.write_shift(2,X),re.write_shift(2,F),re.write_shift(1,39);for(var ee=0;ee<re.length;++ee){var ce=Z.charCodeAt(ee);re.write_shift(1,ce>=128?95:ce)}return re.write_shift(1,0),re}function m(F,X,Z){var re=u(F,X,Z);return re[1].v=F.read_shift(2,"i"),re}function g(F,X,Z){var re=Ie(7);return re.write_shift(1,255),re.write_shift(2,X),re.write_shift(2,F),re.write_shift(2,Z,"i"),re}function y(F,X,Z){var re=u(F,X,Z);return re[1].v=F.read_shift(8,"f"),re}function x(F,X,Z){var re=Ie(13);return re.write_shift(1,255),re.write_shift(2,X),re.write_shift(2,F),re.write_shift(8,Z,"f"),re}function v(F,X,Z){var re=F.l+X,ee=u(F,X,Z);if(ee[1].v=F.read_shift(8,"f"),Z.qpro)F.l=re;else{var ce=F.read_shift(2);T(F.slice(F.l,F.l+ce),ee),F.l+=ce}return ee}function j(F,X,Z){var re=X&32768;return X&=-32769,X=(re?F:0)+(X>=8192?X-16384:X),(re?"":"$")+(Z?hn(X):Dn(X))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(F,X){Ks(F,0);for(var Z=[],re=0,ee="",ce="",pe="",Y="";F.l<F.length;){var Q=F[F.l++];switch(Q){case 0:Z.push(F.read_shift(8,"f"));break;case 1:ce=j(X[0].c,F.read_shift(2),!0),ee=j(X[0].r,F.read_shift(2),!1),Z.push(ce+ee);break;case 2:{var ae=j(X[0].c,F.read_shift(2),!0),q=j(X[0].r,F.read_shift(2),!1);ce=j(X[0].c,F.read_shift(2),!0),ee=j(X[0].r,F.read_shift(2),!1),Z.push(ae+q+":"+ce+ee)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(F.read_shift(2));break;case 6:{for(var ke="";Q=F[F.l++];)ke+=String.fromCharCode(Q);Z.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:Y=Z.pop(),pe=Z.pop(),Z.push(["AND","OR"][Q-20]+"("+pe+","+Y+")");break;default:if(Q<32&&w[Q])Y=Z.pop(),pe=Z.pop(),Z.push(pe+w[Q]+Y);else if(S[Q]){if(re=S[Q][1],re==69&&(re=F[F.l++]),re>Z.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+Z.join("|")+"|");return}var ye=Z.slice(-re);Z.length-=re,Z.push(S[Q][0]+"("+ye.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}Z.length==1?X[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function E(F){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=F.read_shift(2),X[3]=F[F.l++],X[0].c=F[F.l++],X}function N(F,X){var Z=E(F);return Z[1].t="s",Z[1].v=F.read_shift(X-4,"cstr"),Z}function k(F,X,Z,re){var ee=Ie(6+re.length);ee.write_shift(2,F),ee.write_shift(1,Z),ee.write_shift(1,X),ee.write_shift(1,39);for(var ce=0;ce<re.length;++ce){var pe=re.charCodeAt(ce);ee.write_shift(1,pe>=128?95:pe)}return ee.write_shift(1,0),ee}function R(F,X){var Z=E(F);Z[1].v=F.read_shift(2);var re=Z[1].v>>1;if(Z[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return Z[1].v=re,Z}function A(F,X){var Z=E(F),re=F.read_shift(4),ee=F.read_shift(4),ce=F.read_shift(2);if(ce==65535)return re===0&&ee===3221225472?(Z[1].t="e",Z[1].v=15):re===0&&ee===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var pe=ce&32768;return ce=(ce&32767)-16446,Z[1].v=(1-pe*2)*(ee*Math.pow(2,ce+32)+re*Math.pow(2,ce)),Z}function I(F,X,Z,re){var ee=Ie(14);if(ee.write_shift(2,F),ee.write_shift(1,Z),ee.write_shift(1,X),re==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ce=0,pe=0,Y=0,Q=0;return re<0&&(ce=1,re=-re),pe=Math.log2(re)|0,re/=Math.pow(2,pe-31),Q=re>>>0,(Q&2147483648)==0&&(re/=2,++pe,Q=re>>>0),re-=Q,Q|=2147483648,Q>>>=0,re*=Math.pow(2,32),Y=re>>>0,ee.write_shift(4,Y),ee.write_shift(4,Q),pe+=16383+(ce?32768:0),ee.write_shift(2,pe),ee}function P(F,X){var Z=A(F);return F.l+=X-14,Z}function D(F,X){var Z=E(F),re=F.read_shift(4);return Z[1].v=re>>6,Z}function B(F,X){var Z=E(F),re=F.read_shift(8,"f");return Z[1].v=re,Z}function U(F,X){var Z=B(F);return F.l+=X-10,Z}function H(F,X){return F[F.l+X-1]==0?F.read_shift(X,"cstr"):""}function M(F,X){var Z=F[F.l++];Z>X-1&&(Z=X-1);for(var re="";re.length<Z;)re+=String.fromCharCode(F[F.l++]);return re}function W(F,X,Z){if(!(!Z.qpro||X<21)){var re=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ee=F.read_shift(X-21,"cstr");return[re,ee]}}function K(F,X){for(var Z={},re=F.l+X;F.l<re;){var ee=F.read_shift(2);if(ee==14e3){for(Z[ee]=[0,""],Z[ee][0]=F.read_shift(2);F[F.l];)Z[ee][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return Z}function V(F,X){var Z=Ie(5+F.length);Z.write_shift(2,14e3),Z.write_shift(2,X);for(var re=0;re<F.length;++re){var ee=F.charCodeAt(re);Z[Z.l++]=ee>127?95:ee}return Z[Z.l++]=0,Z}var z={0:{n:"BOF",f:ts},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function Uje(e){var t={},r=e.match(Sa),n=0,s=!1;if(r)for(;n!=r.length;++n){var i=Kt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=yR[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var Vje=(function(){var e=Hg("t"),t=Hg("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:kr(o[1])},c=i.match(t);return c&&(l.s=Uje(c[1])),l}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(s).map(r).filter(function(l){return l.v})}})(),zje=(function(){var t=/(\r\n|\n)/g;function r(s,i,o){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&r(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),Wje=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,qje=/<(?:\w+:)?r>/,Hje=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function qR(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=kr(qr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=qr(e),r&&(n.h=ER(n.t))):e.match(qje)&&(n.r=qr(e),n.t=kr(qr((e.replace(Hje,"").match(Wje)||[]).join("").replace(Sa,""))),r&&(n.h=zje(Vje(n.r)))),n):{t:""}}var Gje=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Kje=/<(?:\w+:)?(?:si|sstItem)>/g,Yje=/<\/(?:\w+:)?(?:si|sstItem)>/;function Xje(e,t){var r=[],n="";if(!e)return r;var s=e.match(Gje);if(s){n=s[2].replace(Kje,"").split(Yje);for(var i=0;i!=n.length;++i){var o=qR(n[i].trim(),t);o!=null&&(r[r.length]=o)}s=Kt(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}var Zje=/^\s|\s$|[\t\n\r]/;function zZ(e,t){if(!t.bookSST)return"";var r=[Xn];r[r.length]=ct("sst",null,{xmlns:Pf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(Zje)&&(i+=' xml:space="preserve"'),i+=">"+zr(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Qje(e){return[e.read_shift(4),e.read_shift(4)]}function Jje(e,t){var r=[],n=!1;return wc(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function eSe(e,t){return t||(t=Ie(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var tSe=d1e;function rSe(e){var t=Ja();Ye(t,159,eSe(e));for(var r=0;r<e.length;++r)Ye(t,19,tSe(e[r]));return Ye(t,160),t.end()}function WZ(e){if(typeof br<"u")return br.utils.encode(af,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Jl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function nSe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Jl(e,4),t.U=Jl(e,4),t.W=Jl(e,4),t}function sSe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function aSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(sSe(e));return t}function iSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function oSe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Jl(e,4),t.U=Jl(e,4),t.W=Jl(e,4),t}function lSe(e){var t=oSe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function qZ(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function HZ(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function cSe(e){var t=Jl(e);switch(t.Minor){case 2:return[t.Minor,uSe(e)];case 3:return[t.Minor,dSe()];case 4:return[t.Minor,fSe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function uSe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=qZ(e,r),s=HZ(e,e.length-e.l);return{t:"Std",h:n,v:s}}function dSe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function fSe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Sa,function(i){var o=Kt(i);switch(kl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function hSe(e,t){var r={},n=r.EncryptionVersionInfo=Jl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=qZ(e,s),t-=s,r.EncryptionVerifier=HZ(e,t),r}function mSe(e){var t={},r=t.EncryptionVersionInfo=Jl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function HR(e){var t=0,r,n=WZ(e),s=n.length+1,i,o,l,c,u;for(r=Au(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var GZ=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},s=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=WZ(o),c=i(l),u=l.length,d=Au(16),f=0;f!=16;++f)d[f]=0;var m,g,y;for((u&1)===1&&(m=c>>8,d[u]=s(e[0],m),--u,m=c&255,g=l[l.length-1],d[u]=s(g,m));u>0;)--u,m=c>>8,d[u]=s(l[u],m),--u,m=c&255,d[u]=s(l[u],m);for(u=15,y=15-l.length;y>0;)m=c>>8,d[u]=s(e[y],m),--u,--y,m=c&255,d[u]=s(l[u],m),--u,--y;return d}})(),pSe=function(e,t,r,n,s){s||(s=t),n||(n=GZ(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,s[i]=o,++r;return[s,r,n]},gSe=function(e){var t=0,r=GZ(e);return function(n){var s=pSe("",n,t,r);return t=s[1],s[0]}};function xSe(e,t,r,n){var s={key:ts(e),verificationBytes:ts(e)};return r.password&&(s.verifier=HR(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=gSe(r.password)),s}function vSe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=mSe(e):n.Data=hSe(e,t),n}function ySe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?vSe(e,t-2,n):xSe(e,r.biff>=8?t:t-2,r,n),n}var KZ=(function(){function e(s,i){switch(i.type){case"base64":return t(Ti(s),i);case"binary":return t(s,i);case"buffer":return t(dr&&Buffer.isBuffer(s)?s.toString("binary"):Wu(s),i);case"array":return t(lf(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,g=0,y,x=-1;y=m.exec(d);){switch(y[0]){case"\\cell":var v=d.slice(g,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++x,v.length){var j={v,t:"s"};Array.isArray(l)?l[f][x]=j:l[Ht({r:f,c:x})]=j}break}g=m.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=ar(u),l}function r(s,i){return qu(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=xr(s["!ref"]),l,c=Array.isArray(s),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Ht({r:u,c:d});l=c?(s[u]||[])[d]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(bl(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function wSe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Xg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function bSe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(t,r,n),i=Math.min(t,r,n),o=s-i;if(o===0)return[0,0,t];var l=0,c=0,u=s+i;switch(c=o/(u>1?2-u:u),s){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function _Se(e){var t=e[0],r=e[1],n=e[2],s=r*2*(n<.5?n:1-n),i=n-s/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=s*l,o[0]+=s,o[1]+=c;break;case 1:c=s*(2-l),o[0]+=c,o[1]+=s;break;case 2:c=s*(l-2),o[1]+=s,o[2]+=c;break;case 3:c=s*(4-l),o[1]+=c,o[2]+=s;break;case 4:c=s*(l-4),o[2]+=s,o[0]+=c;break;case 5:c=s*(6-l),o[2]+=c,o[0]+=s;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function Ub(e,t){if(t===0)return e;var r=bSe(wSe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Xg(_Se(r))}var YZ=6,jSe=15,SSe=1,ha=YZ;function Zg(e){return Math.floor((e+Math.round(128/ha)/256)*ha)}function Qg(e){return Math.floor((e-5)/ha*100+.5)/100}function Vb(e){return Math.round((e*ha+5)/ha*256)/256}function f2(e){return Vb(Qg(Zg(e)))}function GR(e){var t=Math.abs(e-f2(e)),r=ha;if(t>.005)for(ha=SSe;ha<jSe;++ha)Math.abs(e-f2(e))<=t&&(t=Math.abs(e-f2(e)),r=ha);ha=r}function Pu(e){e.width?(e.wpx=Zg(e.width),e.wch=Qg(e.wpx),e.MDW=ha):e.wpx?(e.wch=Qg(e.wpx),e.width=Vb(e.wch),e.MDW=ha):typeof e.wch=="number"&&(e.width=Vb(e.wch),e.wpx=Zg(e.width),e.MDW=ha),e.customWidth&&delete e.customWidth}var NSe=96,XZ=NSe;function Jg(e){return e*96/XZ}function Em(e){return e*XZ/96}var kSe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ESe(e,t,r,n){t.Borders=[];var s={},i=!1;(e[0].match(Sa)||[]).forEach(function(o){var l=Kt(o);switch(kl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=fn(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=fn(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function CSe(e,t,r,n){t.Fills=[];var s={},i=!1;(e[0].match(Sa)||[]).forEach(function(o){var l=Kt(o);switch(kl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function TSe(e,t,r,n){t.Fonts=[];var s={},i=!1;(e[0].match(Sa)||[]).forEach(function(o){var l=Kt(o);switch(kl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=qr(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?fn(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?fn(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?fn(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?fn(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?fn(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?fn(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?fn(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=yR[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=fn(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=$d[s.color.index];s.color.index==81&&(c=$d[1]),c||(c=$d[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=Ub(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function ASe(e,t,r){t.NumberFmt=[];for(var n=Fn(zt),s=0;s<n.length;++s)t.NumberFmt[n[s]]=zt[n[s]];var i=e[0].match(Sa);if(i)for(s=0;s<i.length;++s){var o=Kt(i[s]);switch(kl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=kr(qr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}fl(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function PSe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ct("numFmt",null,{numFmtId:n,formatCode:zr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ct("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var yw=["numFmtId","fillId","fontId","borderId","xfId"],ww=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function OSe(e,t,r){t.CellXf=[];var n,s=!1;(e[0].match(Sa)||[]).forEach(function(i){var o=Kt(i),l=0;switch(kl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<yw.length;++l)n[yw[l]]&&(n[yw[l]]=parseInt(n[yw[l]],10));for(l=0;l<ww.length;++l)n[ww[l]]&&(n[ww[l]]=fn(n[ww[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=fn(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function RSe(e){var t=[];return t[t.length]=ct("cellXfs",null),e.forEach(function(r){t[t.length]=ct("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ct("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var DSe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&ASe(f,d,u),(f=l.match(s))&&TSe(f,d,c,u),(f=l.match(n))&&CSe(f,d,c,u),(f=l.match(i))&&ESe(f,d,c,u),(f=l.match(r))&&OSe(f,d,u),d}})();function ZZ(e,t){var r=[Xn,ct("styleSheet",null,{xmlns:Pf[0],"xmlns:vt":ys.vt})],n;return e.SSF&&(n=PSe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=RSe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function ISe(e,t){var r=e.read_shift(2),n=_a(e);return[r,n]}function MSe(e,t,r){r||(r=Ie(6+4*t.length)),r.write_shift(2,e),Ms(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function FSe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=v1e(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=x1e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_a(e),n}function LSe(e,t){t||(t=Ie(153)),t.write_shift(2,e.sz*20),y1e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Lb(e.color,t);var n=0;return n=2,t.write_shift(1,n),Ms(e.name,t),t.length>t.l?t.slice(0,t.l):t}var $Se=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],h2,BSe=ja;function J6(e,t){t||(t=Ie(84)),h2||(h2=F_($Se));var r=h2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Lb({auto:1},t),Lb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function USe(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function QZ(e,t,r){r||(r=Ie(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function x0(e,t){return t||(t=Ie(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var VSe=ja;function zSe(e,t){return t||(t=Ie(51)),t.write_shift(1,0),x0(null,t),x0(null,t),x0(null,t),x0(null,t),x0(null,t),t.length>t.l?t.slice(0,t.l):t}function WSe(e,t){return t||(t=Ie(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Fb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function qSe(e,t,r){var n=Ie(2052);return n.write_shift(4,e),Fb(t,n),Fb(r,n),n.length>n.l?n.slice(0,n.l):n}function HSe(e,t,r){var n={};n.NumberFmt=[];for(var s in zt)n.NumberFmt[s]=zt[s];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return wc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],fl(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ub(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function GSe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Ye(e,615,Bo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ye(e,44,MSe(s,t[s]))}),Ye(e,616))}}function KSe(e){var t=1;Ye(e,611,Bo(t)),Ye(e,43,LSe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ye(e,612)}function YSe(e){var t=2;Ye(e,603,Bo(t)),Ye(e,45,J6({patternType:"none"})),Ye(e,45,J6({patternType:"gray125"})),Ye(e,604)}function XSe(e){var t=1;Ye(e,613,Bo(t)),Ye(e,46,zSe()),Ye(e,614)}function ZSe(e){var t=1;Ye(e,626,Bo(t)),Ye(e,47,QZ({numFmtId:0},65535)),Ye(e,627)}function QSe(e,t){Ye(e,617,Bo(t.length)),t.forEach(function(r){Ye(e,47,QZ(r,0))}),Ye(e,618)}function JSe(e){var t=1;Ye(e,619,Bo(t)),Ye(e,48,WSe({xfId:0,name:"Normal"})),Ye(e,620)}function eNe(e){var t=0;Ye(e,505,Bo(t)),Ye(e,506)}function tNe(e){var t=0;Ye(e,508,qSe(t,"TableStyleMedium9","PivotStyleMedium4")),Ye(e,509)}function rNe(e,t){var r=Ja();return Ye(r,278),GSe(r,e.SSF),KSe(r),YSe(r),XSe(r),ZSe(r),QSe(r,t.cellXfs),JSe(r),eNe(r),tNe(r),Ye(r,279),r.end()}var nNe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function sNe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Sa)||[]).forEach(function(s){var i=Kt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[nNe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function aNe(){}function iNe(){}var oNe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,lNe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,cNe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function uNe(e,t,r){t.themeElements={};var n;[["clrScheme",oNe,sNe],["fontScheme",lNe,aNe],["fmtScheme",cNe,iNe]].forEach(function(s){if(!(n=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,r)})}var dNe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function JZ(e,t){(!e||e.length===0)&&(e=KR());var r,n={};if(!(r=e.match(dNe)))throw new Error("themeElements not found in theme");return uNe(r[0],n,t),n.raw=e,n}function KR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Xn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function fNe(e,t,r){var n=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=YX(i,{type:"array"})}catch{return}var l=vi(o,"theme/theme/theme1.xml",!0);if(l)return JZ(l,r)}}function hNe(e){return e.read_shift(4)}function mNe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=pNe(e,4);break;case 2:t.xclrValue=OZ(e);break;case 3:t.xclrValue=hNe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function pNe(e,t){return ja(e,t)}function gNe(e,t){return ja(e,t)}function xNe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=mNe(e);break;case 6:n[1]=gNe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function vNe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(xNe(e,r-e.l));return{ixfe:n,ext:i}}function yNe(e,t){t.forEach(function(r){r[0]})}function wNe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_a(e)}}function bNe(e){var t=Ie(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ms(e.name,t),t.slice(0,t.l)}function _Ne(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function jNe(e){var t=Ie(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function SNe(e,t){var r=Ie(8+2*t.length);return r.write_shift(4,e),Ms(t,r),r.slice(0,r.l)}function NNe(e){return e.l+=4,e.read_shift(4)!=0}function kNe(e,t){var r=Ie(8);return r.write_shift(4,e),r.write_shift(4,1),r}function ENe(e,t,r){var n={Types:[],Cell:[],Value:[]},s=r||{},i=[],o=!1,l=2;return wc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function CNe(){var e=Ja();return Ye(e,332),Ye(e,334,Bo(1)),Ye(e,335,bNe({name:"XLDAPR",version:12e4,flags:3496657072})),Ye(e,336),Ye(e,339,SNe(1,"XLDAPR")),Ye(e,52),Ye(e,35,Bo(514)),Ye(e,4096,Bo(0)),Ye(e,4097,Xi(1)),Ye(e,36),Ye(e,53),Ye(e,340),Ye(e,337,kNe(1)),Ye(e,51,jNe([[1,0]])),Ye(e,338),Ye(e,333),e.end()}function TNe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var s=!1,i=2,o;return e.replace(Sa,function(l){var c=Kt(l);switch(kl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function eQ(){var e=[Xn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function ANe(e){var t=[];if(!e)return t;var r=1;return(e.match(Sa)||[]).forEach(function(n){var s=Kt(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function PNe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ht(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function ONe(e,t,r){var n=[];return wc(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function RNe(e,t,r,n){if(!e)return e;var s=n||{},i=!1;wc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},s)}function DNe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Uh=1024;function tQ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[ct("xml",null,{"xmlns:v":gi.v,"xmlns:o":gi.o,"xmlns:x":gi.x,"xmlns:mv":gi.mv}).replace(/\/>/,">"),ct("o:shapelayout",ct("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ct("v:shapetype",[ct("v:stroke",null,{joinstyle:"miter"}),ct("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Uh<e*1e3;)Uh+=1e3;return t.forEach(function(i){var o=Nn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ct("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ct("v:fill",c,l),d={on:"t",obscured:"t"};++Uh,s=s.concat(["<v:shape"+Gg({id:"_x0000_s"+Uh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ct("v:shadow",null,d),ct("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Zs("x:AutoFill","False"),Zs("x:Row",String(o.r)),Zs("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function e8(e,t,r,n){var s=Array.isArray(e),i;t.forEach(function(o){var l=Nn(o.ref);if(s?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},s?e[l.r][l.c]=i:e[o.ref]=i;var c=xr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=ar(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function INe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Kt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Nn(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&qR(f[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function rQ(e){var t=[Xn,ct("comments",null,{xmlns:Pf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=zr(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(zr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Zs("t",zr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Zs("t",zr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function MNe(e,t){var r=[],n=!1,s={},i=0;return e.replace(Sa,function(l,c){var u=Kt(l);switch(kl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function FNe(e,t,r){var n=[Xn,ct("ThreadedComments",null,{xmlns:ys.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(ct("threadedComment",Zs("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function LNe(e,t){var r=[],n=!1;return e.replace(Sa,function(i){var o=Kt(i);switch(kl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function $Ne(e){var t=[Xn,ct("personList",null,{xmlns:ys.TCMNT,"xmlns:x":Pf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ct("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function BNe(e){var t={};t.iauthor=e.read_shift(4);var r=If(e);return t.rfx=r.s,t.ref=Ht(r.s),e.l+=16,t}function UNe(e,t){return t==null&&(t=Ie(36)),t.write_shift(4,e[1].iauthor),xp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var VNe=_a;function zNe(e){return Ms(e.slice(0,54))}function WNe(e,t){var r=[],n=[],s={},i=!1;return wc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function qNe(e){var t=Ja(),r=[];return Ye(t,628),Ye(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ye(t,632,zNe(s.a)))})}),Ye(t,631),Ye(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:Nn(n[0]),e:Nn(n[0])};Ye(t,635,UNe([i,s])),s.t&&s.t.length>0&&Ye(t,637,h1e(s)),Ye(t,636),delete s.iauthor})}),Ye(t,634),Ye(t,629),t.end()}var HNe="application/vnd.ms-office.vbaProject";function GNe(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,s,e.FileIndex[n].content)}}),Pt.write(t)}function KNe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Pt.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var nQ=["xlsb","xlsm","xlam","biff8","xla"];function YNe(){return{"!type":"dialog"}}function XNe(){return{"!type":"dialog"}}function ZNe(){return{"!type":"macro"}}function QNe(){return{"!type":"macro"}}var lm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,s+(l?"":"$")+hn(d)+(c?"":"$")+Dn(u)}return function(s,i){return t=i,s.replace(e,r)}})(),YR=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,XR=(function(){return function(t,r){return t.replace(YR,function(n,s,i,o,l,c){var u=MR(o)-(i?0:r.c),d=IR(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return s+"R"+f+"C"+m})}})();function sQ(e,t){return e.replace(YR,function(r,n,s,i,o,l){return n+(s=="$"?s+i:hn(MR(i)+t.c))+(o=="$"?o+l:Dn(IR(l)+t.r))})}function JNe(e,t,r){var n=Fa(t),s=n.s,i=Nn(r),o={r:i.r-s.r,c:i.c-s.c};return sQ(e,o)}function e2e(e){return e.length!=1}function t8(e){return e.replace(/_xlfn\./g,"")}function Qn(e){e.l+=1}function Ou(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function aQ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return iQ(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),o=Ou(e),l=Ou(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function iQ(e){var t=Ou(e),r=Ou(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function t2e(e,t,r){if(r.biff<8)return iQ(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=Ou(e),o=Ou(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function oQ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return r2e(e);var n=e.read_shift(r&&r.biff==12?4:2),s=Ou(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function r2e(e){var t=Ou(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function n2e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function s2e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return a2e(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function a2e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function i2e(e,t,r){var n=(e[e.l++]&96)>>5,s=aQ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function o2e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=aQ(e,i,r);return[n,s,o]}function l2e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function c2e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function u2e(e,t,r){var n=(e[e.l++]&96)>>5,s=t2e(e,t-1,r);return[n,s]}function d2e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function r8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function f2e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function h2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function m2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function p2e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function g2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function lQ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function x2e(e){return e.read_shift(2),lQ(e)}function v2e(e){return e.read_shift(2),lQ(e)}function y2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=oQ(e,0,r);return[n,s]}function w2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=s2e(e,0,r);return[n,s]}function b2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=oQ(e,0,r);return[n,s,i]}function _2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Nke[s],dQ[s],n]}function j2e(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:S2e(e);return[s,(i[0]===0?dQ:Ske)[i[1]]]}function S2e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function N2e(e,t,r){e.l+=r&&r.biff==2?3:4}function k2e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function E2e(e){return e.l++,bc[e.read_shift(1)]}function C2e(e){return e.l++,e.read_shift(2)}function T2e(e){return e.l++,e.read_shift(1)!==0}function A2e(e){return e.l++,ga(e)}function P2e(e,t,r){return e.l++,Sv(e,t-1,r)}function O2e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=bc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ga(e);break;case 2:r[1]=Mf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function R2e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?If:U_)(e));return s}function D2e(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=O2e(e,r.biff);return o}function I2e(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function M2e(e,t,r){if(r.biff==5)return F2e(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function F2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function L2e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function $2e(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function B2e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function U2e(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var V2e=ja,z2e=ja,W2e=ja;function kv(e,t,r){return e.l+=2,[n2e(e)]}function ZR(e){return e.l+=6,[]}var q2e=kv,H2e=ZR,G2e=ZR,K2e=kv;function cQ(e){return e.l+=2,[ts(e),e.read_shift(2)&1]}var Y2e=kv,X2e=cQ,Z2e=ZR,Q2e=kv,J2e=kv,eke=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tke(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=eke[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:i}}function rke(e){return e.l+=2,[e.read_shift(4)]}function nke(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function ske(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ake(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ike(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function oke(e){return e.l+=4,[0,0]}var n8={1:{n:"PtgExp",f:k2e},2:{n:"PtgTbl",f:W2e},3:{n:"PtgAdd",f:Qn},4:{n:"PtgSub",f:Qn},5:{n:"PtgMul",f:Qn},6:{n:"PtgDiv",f:Qn},7:{n:"PtgPower",f:Qn},8:{n:"PtgConcat",f:Qn},9:{n:"PtgLt",f:Qn},10:{n:"PtgLe",f:Qn},11:{n:"PtgEq",f:Qn},12:{n:"PtgGe",f:Qn},13:{n:"PtgGt",f:Qn},14:{n:"PtgNe",f:Qn},15:{n:"PtgIsect",f:Qn},16:{n:"PtgUnion",f:Qn},17:{n:"PtgRange",f:Qn},18:{n:"PtgUplus",f:Qn},19:{n:"PtgUminus",f:Qn},20:{n:"PtgPercent",f:Qn},21:{n:"PtgParen",f:Qn},22:{n:"PtgMissArg",f:Qn},23:{n:"PtgStr",f:P2e},26:{n:"PtgSheet",f:nke},27:{n:"PtgEndSheet",f:ske},28:{n:"PtgErr",f:E2e},29:{n:"PtgBool",f:T2e},30:{n:"PtgInt",f:C2e},31:{n:"PtgNum",f:A2e},32:{n:"PtgArray",f:d2e},33:{n:"PtgFunc",f:_2e},34:{n:"PtgFuncVar",f:j2e},35:{n:"PtgName",f:I2e},36:{n:"PtgRef",f:y2e},37:{n:"PtgArea",f:i2e},38:{n:"PtgMemArea",f:L2e},39:{n:"PtgMemErr",f:V2e},40:{n:"PtgMemNoMem",f:z2e},41:{n:"PtgMemFunc",f:$2e},42:{n:"PtgRefErr",f:B2e},43:{n:"PtgAreaErr",f:l2e},44:{n:"PtgRefN",f:w2e},45:{n:"PtgAreaN",f:u2e},46:{n:"PtgMemAreaN",f:ake},47:{n:"PtgMemNoMemN",f:ike},57:{n:"PtgNameX",f:M2e},58:{n:"PtgRef3d",f:b2e},59:{n:"PtgArea3d",f:o2e},60:{n:"PtgRefErr3d",f:U2e},61:{n:"PtgAreaErr3d",f:c2e},255:{}},lke={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cke={1:{n:"PtgElfLel",f:cQ},2:{n:"PtgElfRw",f:Q2e},3:{n:"PtgElfCol",f:q2e},6:{n:"PtgElfRwV",f:J2e},7:{n:"PtgElfColV",f:K2e},10:{n:"PtgElfRadical",f:Y2e},11:{n:"PtgElfRadicalS",f:Z2e},13:{n:"PtgElfColS",f:H2e},15:{n:"PtgElfColSV",f:G2e},16:{n:"PtgElfRadicalLel",f:X2e},25:{n:"PtgList",f:tke},29:{n:"PtgSxName",f:rke},255:{}},uke={0:{n:"PtgAttrNoop",f:oke},1:{n:"PtgAttrSemi",f:g2e},2:{n:"PtgAttrIf",f:m2e},4:{n:"PtgAttrChoose",f:f2e},8:{n:"PtgAttrGoto",f:h2e},16:{n:"PtgAttrSum",f:N2e},32:{n:"PtgAttrBaxcel",f:r8},33:{n:"PtgAttrBaxcel",f:r8},64:{n:"PtgAttrSpace",f:x2e},65:{n:"PtgAttrSpaceSemi",f:v2e},128:{n:"PtgAttrIfError",f:p2e},255:{}};function Ev(e,t,r,n){if(n.biff<8)return ja(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=D2e(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=R2e(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(ja(e,t)),i}function Cv(e,t,r){for(var n=e.l+t,s,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],s=n8[i]||n8[lke[i]],(i===24||i===25)&&(s=(i===24?cke:uke)[e[e.l+1]]),!s||!s.f?ja(e,t):o.push([s.n,s.f(e,t,r)]);return o}function dke(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var fke={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hke(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function uQ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function s8(e,t,r){var n=uQ(e,t,r);return n=="#REF"?n:hke(n,r)}function da(e,t,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,g,y="";if(!e[0]||!e[0][0])return"";for(var x=-1,v="",j=0,S=e[0].length;j<S;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:v=Cn(" ",e[0][x][1][1]);break;case 1:v=Cn("\r",e[0][x][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+v,x=-1}l.push(u+fke[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=tg(w[1][1],o,s),l.push(rg(d,i));break;case"PtgRefN":d=r?tg(w[1][1],r,s):w[1][1],l.push(rg(d,i));break;case"PtgRef3d":f=w[1][1],d=tg(w[1][2],o,s),y=s8(n,f,s),l.push(y+"!"+rg(d,i));break;case"PtgFunc":case"PtgFuncVar":var T=w[1][0],E=w[1][1];T||(T=0),T&=127;var N=T==0?[]:l.slice(-T);l.length-=T,E==="User"&&(E=N.shift()),l.push(E+"("+N.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":g=R6(w[1][1],r?{s:r}:o,s),l.push(c2(g,s));break;case"PtgArea":g=R6(w[1][1],o,s),l.push(c2(g,s));break;case"PtgArea3d":f=w[1][1],g=w[1][2],y=s8(n,f,s),l.push(y+"!"+c2(g,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var k=(n.names||[])[m-1]||(n[0]||[])[m],R=k?k.Name:"SH33TJSNAME"+String(m);R&&R.slice(0,6)=="_xlfn."&&!s.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var A=w[1][1];m=w[1][2];var I;if(s.biff<=5)A<0&&(A=-A),n[A]&&(I=n[A][m]);else{var P="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][m]&&n[A][m].itab>0&&(P=n.SheetNames[n[A][m].itab-1]+"!"):P=n.SheetNames[m-1]+"!"),n[A]&&n[A][m])P+=n[A][m].Name;else if(n[0]&&n[0][m])P+=n[0][m].Name;else{var D=(uQ(n,A,s)||"").split(";;");D[m-1]?P=D[m-1]:P+="SH33TJSERRX"}l.push(P);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var B="(",U=")";if(x>=0){switch(v="",e[0][x][1][0]){case 2:B=Cn(" ",e[0][x][1][1])+B;break;case 3:B=Cn("\r",e[0][x][1][1])+B;break;case 4:U=Cn(" ",e[0][x][1][1])+U;break;case 5:U=Cn("\r",e[0][x][1][1])+U;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(B+l.pop()+U);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[Ht(d)]){var M=n.sharedf[Ht(d)];l.push(da(M,o,H,n,s))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(da(u[1],o,H,n,s)),W=!0;break}W||l.push(w[1])}break;case"PtgArray":l.push("{"+dke(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&K.indexOf(e[0][j][0])==-1){w=e[0][x];var V=!0;switch(w[1][0]){case 4:V=!1;case 0:v=Cn(" ",w[1][1]);break;case 5:V=!1;case 1:v=Cn("\r",w[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((V?v:"")+l.pop()+(V?"":v)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function mke(e,t,r){var n=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],ja(e,t-2)];var l=Cv(e,o,r);return t!==o+s&&(i=Ev(e,t-o-s,l,r)),e.l=n,[l,i]}function pke(e,t,r){var n=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],ja(e,t-2)];var l=Cv(e,o,r);return t!==o+s&&(i=Ev(e,t-o-s,l,r)),e.l=n,[l,i]}function gke(e,t,r,n){var s=e.l+t,i=Cv(e,n,r),o;return s!==e.l&&(o=Ev(e,s-e.l,i,r)),[i,o]}function xke(e,t,r){var n=e.l+t,s,i=e.read_shift(2),o=Cv(e,i,r);return i==65535?[[],ja(e,t-2)]:(t!==i+2&&(s=Ev(e,n-i-2,o,r)),[o,s])}function vke(e){var t;if(Hl(e,e.l+6)!==65535)return[ga(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function yke(e){if(e==null){var t=Ie(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return cf(e);return cf(0)}function m2(e,t,r){var n=e.l+t,s=El(e);r.biff==2&&++e.l;var i=vke(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=pke(e,n-e.l,r);return{cell:s,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function wke(e,t,r,n,s){var i=df(t,r,s),o=yke(e.v),l=Ie(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Ie(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Is([i,o,l,u]);return f}function V_(e,t,r){var n=e.read_shift(4),s=Cv(e,n,r),i=e.read_shift(4),o=i>0?Ev(e,i,s,r):null;return[s,o]}var bke=V_,z_=V_,_ke=V_,jke=V_,Ske={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Nke={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function a8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function kke(e){var t="of:="+e.replace(YR,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function p2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Eke(e){return e.replace(/\./,"!")}var sg={},cm={},ag=typeof Map<"u";function QR(e,t,r){var n=0,s=e.length;if(r){if(ag?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=ag?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(ag?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function W_(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ha=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Qg(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Vb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Vd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Hu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){fl(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function fQ(e,t,r,n,s,i){try{n.cellNF&&(e.z=zt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=mn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(zt[t]==null&&fl(jbe[t]||"General",t),e.t==="e")e.w=e.w||bc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v);else if(e.t==="d"){var o=_s(e.v);(o|0)===o?e.w=o.toString(10):e.w=qg(o)}else{if(e.v===void 0)return"";e.w=of(e.v,cm)}else e.t==="d"?e.w=Ai(t,_s(e.v),cm):e.w=Ai(t,e.v,cm)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ub(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ub(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function Cke(e,t,r){if(e&&e["!ref"]){var n=xr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Tke(e,t){var r=xr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ar(r))}var Ake=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Pke=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Oke=/<(?:\w:)?hyperlink [^>]*>/mg,Rke=/"(\w*:\w*)"/,Dke=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ike=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Mke=/<(?:\w:)?pageMargins[^>]*\/>/g,hQ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Fke=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Lke=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $ke(e,t,r,n,s,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Pke);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var m=u.match(hQ);m?JR(m[0],l,s,r):(m=u.match(Fke))&&Uke(m[0],m[1]||"",l,s,r);var g=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var y=u.slice(g,g+50).match(Rke);y&&Tke(l,y[1])}var x=u.match(Lke);x&&x[1]&&eEe(x[1],s);var v=[];if(t.cellStyles){var j=u.match(Dke);j&&Yke(v,j)}f&&nEe(f[1],l,t,c,i,o);var S=d.match(Ike);S&&(l["!autofilter"]=Zke(S[0]));var w=[],T=d.match(Ake);if(T)for(g=0;g!=T.length;++g)w[g]=xr(T[g].slice(T[g].indexOf('"')+1));var E=d.match(Oke);E&&Hke(l,E,n);var N=d.match(Mke);if(N&&(l["!margins"]=Gke(Kt(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ar(c)),t.sheetRows>0&&l["!ref"]){var k=xr(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ar(k))}return v.length>0&&(l["!cols"]=v),w.length>0&&(l["!merges"]=w),l}function Bke(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ar(e[r])+'"/>';return t+"</mergeCells>"}function JR(e,t,r,n){var s=Kt(e);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=kr(qr(s.codeName)))}function Uke(e,t,r,n,s){JR(e.slice(0,e.indexOf(">")),r,n,s)}function Vke(e,t,r,n,s){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=ll(zr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ct("outlinePr",null,u)}!i&&!l||(s[s.length]=ct("sheetPr",l,o))}var zke=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Wke=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qke(e){var t={sheet:1};return zke.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Wke.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=HR(e.password).toString(16).toUpperCase()),ct("sheetProtection",null,t)}function Hke(e,t,r){for(var n=Array.isArray(e),s=0;s!=t.length;++s){var i=Kt(qr(t[s]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+kr(i.location))):(i.Target="#"+kr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=xr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Ht({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Gke(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Kke(e){return Vd(e),ct("pageMargins",null,e)}function Yke(e,t){for(var r=!1,n=0;n!=t.length;++n){var s=Kt(t[n],!0);s.hidden&&(s.hidden=fn(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,GR(s.width)),Pu(s);i<=o;)e[i++]=Zr(s)}}function Xke(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=ct("col",null,W_(s,n)));return r[r.length]="</cols>",r.join("")}function Zke(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Qke(e,t,r,n){var s=typeof e.ref=="string"?e.ref:ar(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Fa(s);o.s.r==o.e.r&&(o.e.r=Fa(t["!ref"]).e.r,s=ar(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ct("autoFilter",null,{ref:s})}var Jke=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function eEe(e,t){t.Views||(t.Views=[{}]),(e.match(Jke)||[]).forEach(function(r,n){var s=Kt(r);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),fn(s.rightToLeft)&&(t.Views[n].RTL=!0)})}function tEe(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ct("sheetViews",ct("sheetView",null,s),{})}function rEe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=bc[e.v];break;case"d":n&&n.cellDates?s=mn(e.v,-1).toISOString():(e=Zr(e),e.t="n",s=""+(e.v=_s(mn(e.v)))),typeof e.z>"u"&&(e.z=zt[14]);break;default:s=e.v;break}var l=Zs("v",zr(s)),c={r:t},u=Hu(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Zs("v",""+QR(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ct("f",zr(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ct("c",l,c)}var nEe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Hg("v"),o=Hg("f");return function(c,u,d,f,m,g){for(var y=0,x="",v=[],j=[],S=0,w=0,T=0,E="",N,k,R=0,A=0,I,P,D=0,B=0,U=Array.isArray(g.CellXf),H,M=[],W=[],K=Array.isArray(u),V=[],z={},G=!1,F=!!d.sheetStubs,X=c.split(t),Z=0,re=X.length;Z!=re;++Z){x=X[Z].trim();var ee=x.length;if(ee!==0){var ce=0;e:for(y=0;y<ee;++y)switch(x[y]){case">":if(x[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(k=Kt(x.slice(ce,y),!0),R=k.r!=null?parseInt(k.r,10):R+1,A=-1,d.sheetRows&&d.sheetRows<R)continue;z={},G=!1,k.ht&&(G=!0,z.hpt=parseFloat(k.ht),z.hpx=Em(z.hpt)),k.hidden=="1"&&(G=!0,z.hidden=!0),k.outlineLevel!=null&&(G=!0,z.level=+k.outlineLevel),G&&(V[R-1]=z)}break;case"<":ce=y;break}if(ce>=y)break;if(k=Kt(x.slice(ce,y),!0),R=k.r!=null?parseInt(k.r,10):R+1,A=-1,!(d.sheetRows&&d.sheetRows<R)){f.s.r>R-1&&(f.s.r=R-1),f.e.r<R-1&&(f.e.r=R-1),d&&d.cellStyles&&(z={},G=!1,k.ht&&(G=!0,z.hpt=parseFloat(k.ht),z.hpx=Em(z.hpt)),k.hidden=="1"&&(G=!0,z.hidden=!0),k.outlineLevel!=null&&(G=!0,z.level=+k.outlineLevel),G&&(V[R-1]=z)),v=x.slice(y).split(e);for(var pe=0;pe!=v.length&&v[pe].trim().charAt(0)=="<";++pe);for(v=v.slice(pe),y=0;y!=v.length;++y)if(x=v[y].trim(),x.length!==0){if(j=x.match(r),S=y,w=0,T=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,j!=null&&j.length===2){for(S=0,E=j[1],w=0;w!=E.length&&!((T=E.charCodeAt(w)-64)<1||T>26);++w)S=26*S+T;--S,A=S}else++A;for(w=0;w!=x.length&&x.charCodeAt(w)!==62;++w);if(++w,k=Kt(x.slice(0,w),!0),k.r||(k.r=Ht({r:R-1,c:A})),E=x.slice(w),N={t:""},(j=E.match(i))!=null&&j[1]!==""&&(N.v=kr(j[1])),d.cellFormula){if((j=E.match(o))!=null&&j[1]!==""){if(N.f=kr(qr(j[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=t8(N.f)),j[0].indexOf('t="array"')>-1)N.F=(E.match(s)||[])[1],N.F.indexOf(":")>-1&&M.push([xr(N.F),N.F]);else if(j[0].indexOf('t="shared"')>-1){P=Kt(j[0]);var Y=kr(qr(j[1]));d.xlfn||(Y=t8(Y)),W[parseInt(P.si,10)]=[P,Y,k.r]}}else(j=E.match(/<f[^>]*\/>/))&&(P=Kt(j[0]),W[P.si]&&(N.f=JNe(W[P.si][1],W[P.si][2],k.r)));var Q=Nn(k.r);for(w=0;w<M.length;++w)Q.r>=M[w][0].s.r&&Q.r<=M[w][0].e.r&&Q.c>=M[w][0].s.c&&Q.c<=M[w][0].e.c&&(N.F=M[w][1])}if(k.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(F)N.t="z";else continue;else N.t=k.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),N.t){case"n":if(N.v==""||N.v==null){if(!F)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!F)continue;N.t="z"}else I=sg[parseInt(N.v,10)],N.v=I.t,N.r=I.r,d.cellHTML&&(N.h=I.h);break;case"str":N.t="s",N.v=N.v!=null?qr(N.v):"",d.cellHTML&&(N.h=ER(N.v));break;case"inlineStr":j=E.match(n),N.t="s",j!=null&&(I=qR(j[1]))?(N.v=I.t,d.cellHTML&&(N.h=I.h)):N.v="";break;case"b":N.v=fn(N.v);break;case"d":d.cellDates?N.v=mn(N.v,1):(N.v=_s(mn(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=pZ[N.v];break}if(D=B=0,H=null,U&&k.s!==void 0&&(H=g.CellXf[k.s],H!=null&&(H.numFmtId!=null&&(D=H.numFmtId),d.cellStyles&&H.fillId!=null&&(B=H.fillId))),fQ(N,D,B,d,m,g),d.cellDates&&U&&N.t=="n"&&Af(zt[D])&&(N.t="d",N.v=$_(N.v)),k.cm&&d.xlmeta){var ae=(d.xlmeta.Cell||[])[+k.cm-1];ae&&ae.type=="XLDAPR"&&(N.D=!0)}if(K){var q=Nn(k.r);u[q.r]||(u[q.r]=[]),u[q.r][q.c]=N}else u[k.r]=N}}}}V.length>0&&(u["!rows"]=V)}})();function sEe(e,t,r,n){var s=[],i=[],o=xr(e["!ref"]),l="",c,u="",d=[],f=0,m=0,g=e["!rows"],y=Array.isArray(e),x={r:u},v,j=-1;for(m=o.s.c;m<=o.e.c;++m)d[m]=hn(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Dn(f),m=o.s.c;m<=o.e.c;++m){c=d[m]+u;var S=y?(e[f]||[])[m]:e[c];S!==void 0&&(l=rEe(S,c,e,t))!=null&&i.push(l)}(i.length>0||g&&g[f])&&(x={r:u},g&&g[f]&&(v=g[f],v.hidden&&(x.hidden=1),j=-1,v.hpx?j=Jg(v.hpx):v.hpt&&(j=v.hpt),j>-1&&(x.ht=j,x.customHeight=1),v.level&&(x.outlineLevel=v.level)),s[s.length]=ct("row",i.join(""),x))}if(g)for(;f<g.length;++f)g&&g[f]&&(x={r:f+1},v=g[f],v.hidden&&(x.hidden=1),j=-1,v.hpx?j=Jg(v.hpx):v.hpt&&(j=v.hpt),j>-1&&(x.ht=j,x.customHeight=1),v.level&&(x.outlineLevel=v.level),s[s.length]=ct("row","",x));return s.join("")}function mQ(e,t,r,n){var s=[Xn,ct("worksheet",null,{xmlns:Pf[0],"xmlns:r":ys.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=xr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=ar(d)}n||(n={}),c["!comments"]=[];var f=[];Vke(c,r,e,t,s),s[s.length]=ct("dimension",null,{ref:u}),s[s.length]=tEe(c,t,e,r),t.sheetFormat&&(s[s.length]=ct("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=Xke(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=sEe(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=qke(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=Qke(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=Bke(c["!merges"]));var m=-1,g,y=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(g={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=Ur(n,-1,zr(x[1].Target).replace(/#.*$/,""),hr.HLINK),g["r:id"]="rId"+y),(m=x[1].Target.indexOf("#"))>-1&&(g.location=zr(x[1].Target.slice(m+1))),x[1].Tooltip&&(g.tooltip=zr(x[1].Tooltip)),s[s.length]=ct("hyperlink",null,g))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=Kke(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Zs("ignoredErrors",ct("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=Ur(n,-1,"../drawings/drawing"+(e+1)+".xml",hr.DRAW),s[s.length]=ct("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=f),c["!comments"].length>0&&(y=Ur(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",hr.VML),s[s.length]=ct("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function aEe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function iEe(e,t,r){var n=Ie(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=Jg(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,m=-1,g=d<<10;g<d+1<<10;++g){u.c=g;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ht(u)];y&&(f<0&&(f=g),m=g)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var x=n.l;return n.l=c,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function oEe(e,t,r,n){var s=iEe(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Ye(e,0,s)}var lEe=If,cEe=xp;function uEe(){}function dEe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=m1e(e),r}function fEe(e,t,r){r==null&&(r=Ie(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Lb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),uZ(e,r),r.slice(0,r.l)}function hEe(e){var t=ho(e);return[t]}function mEe(e,t,r){return r==null&&(r=Ie(8)),Of(t,r)}function pEe(e){var t=Rf(e);return[t]}function gEe(e,t,r){return r==null&&(r=Ie(4)),Df(t,r)}function xEe(e){var t=ho(e),r=e.read_shift(1);return[t,r,"b"]}function vEe(e,t,r){return r==null&&(r=Ie(9)),Of(t,r),r.write_shift(1,e.v?1:0),r}function yEe(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"b"]}function wEe(e,t,r){return r==null&&(r=Ie(5)),Df(t,r),r.write_shift(1,e.v?1:0),r}function bEe(e){var t=ho(e),r=e.read_shift(1);return[t,r,"e"]}function _Ee(e,t,r){return r==null&&(r=Ie(9)),Of(t,r),r.write_shift(1,e.v),r}function jEe(e){var t=Rf(e),r=e.read_shift(1);return[t,r,"e"]}function SEe(e,t,r){return r==null&&(r=Ie(8)),Df(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function NEe(e){var t=ho(e),r=e.read_shift(4);return[t,r,"s"]}function kEe(e,t,r){return r==null&&(r=Ie(12)),Of(t,r),r.write_shift(4,t.v),r}function EEe(e){var t=Rf(e),r=e.read_shift(4);return[t,r,"s"]}function CEe(e,t,r){return r==null&&(r=Ie(8)),Df(t,r),r.write_shift(4,t.v),r}function TEe(e){var t=ho(e),r=ga(e);return[t,r,"n"]}function AEe(e,t,r){return r==null&&(r=Ie(16)),Of(t,r),cf(e.v,r),r}function pQ(e){var t=Rf(e),r=ga(e);return[t,r,"n"]}function PEe(e,t,r){return r==null&&(r=Ie(12)),Df(t,r),cf(e.v,r),r}function OEe(e){var t=ho(e),r=BR(e);return[t,r,"n"]}function REe(e,t,r){return r==null&&(r=Ie(12)),Of(t,r),dZ(e.v,r),r}function DEe(e){var t=Rf(e),r=BR(e);return[t,r,"n"]}function IEe(e,t,r){return r==null&&(r=Ie(8)),Df(t,r),dZ(e.v,r),r}function MEe(e){var t=ho(e),r=FR(e);return[t,r,"is"]}function FEe(e){var t=ho(e),r=_a(e);return[t,r,"str"]}function LEe(e,t,r){return r==null&&(r=Ie(12+4*e.v.length)),Of(t,r),Ms(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $Ee(e){var t=Rf(e),r=_a(e);return[t,r,"str"]}function BEe(e,t,r){return r==null&&(r=Ie(8+4*e.v.length)),Df(t,r),Ms(e.v,r),r.length>r.l?r.slice(0,r.l):r}function UEe(e,t,r){var n=e.l+t,s=ho(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=z_(e,n-e.l,r);o[3]=da(l,null,s,r.supbooks,r)}else e.l=n;return o}function VEe(e,t,r){var n=e.l+t,s=ho(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=z_(e,n-e.l,r);o[3]=da(l,null,s,r.supbooks,r)}else e.l=n;return o}function zEe(e,t,r){var n=e.l+t,s=ho(e);s.r=r["!row"];var i=ga(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=z_(e,n-e.l,r);o[3]=da(l,null,s,r.supbooks,r)}else e.l=n;return o}function WEe(e,t,r){var n=e.l+t,s=ho(e);s.r=r["!row"];var i=_a(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=z_(e,n-e.l,r);o[3]=da(l,null,s,r.supbooks,r)}else e.l=n;return o}var qEe=If,HEe=xp;function GEe(e,t){return t==null&&(t=Ie(4)),t.write_shift(4,e),t}function KEe(e,t){var r=e.l+t,n=If(e),s=LR(e),i=_a(e),o=_a(e),l=_a(e);e.l=r;var c={rfx:n,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function YEe(e,t){var r=Ie(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xp({s:Nn(e[0]),e:Nn(e[0])},r),$R("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Ms(s||"",r),Ms(e[1].Tooltip||"",r),Ms("",r),r.slice(0,r.l)}function XEe(){}function ZEe(e,t,r){var n=e.l+t,s=fZ(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=bke(e,n-e.l,r);o[1]=l}else e.l=n;return o}function QEe(e,t,r){var n=e.l+t,s=If(e),i=[s];if(r.cellFormula){var o=jke(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function JEe(e,t,r){r==null&&(r=Ie(18));var n=W_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var gQ=["left","right","top","bottom","header","footer"];function eCe(e){var t={};return gQ.forEach(function(r){t[r]=ga(e)}),t}function tCe(e,t){return t==null&&(t=Ie(48)),Vd(e),gQ.forEach(function(r){cf(e[r],t)}),t}function rCe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function nCe(e,t,r){r==null&&(r=Ie(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function sCe(e){var t=Ie(24);return t.write_shift(4,4),t.write_shift(4,1),xp(e,t),t}function aCe(e,t){return t==null&&(t=Ie(66)),t.write_shift(2,e.password?HR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function iCe(){}function oCe(){}function lCe(e,t,r,n,s,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,g,y,x,v,j,S,w,T,E,N=[];l.biff=12,l["!row"]=0;var k=0,R=!1,A=[],I={},P=l.supbooks||s.supbooks||[[]];if(P.sharedf=I,P.arrayf=A,P.SheetNames=s.SheetNames||s.Sheets.map(function(K){return K.name}),!l.supbooks&&(l.supbooks=P,s.Names))for(var D=0;D<s.Names.length;++D)P[0][D+1]=s.Names[D];var B=[],U=[],H=!1;ex[16]={n:"BrtShortReal",f:pQ};var M;if(wc(e,function(V,z,G){if(!m)switch(G){case 148:u=V;break;case 0:g=V,l.sheetRows&&l.sheetRows<=g.r&&(m=!0),T=Dn(v=g.r),l["!row"]=g.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=Em(V.hpt)),U[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:V[2]},V[2]){case"n":y.v=V[1];break;case"s":w=sg[V[1]],y.v=w.t,y.r=w.r;break;case"b":y.v=!!V[1];break;case"e":y.v=V[1],l.cellText!==!1&&(y.w=bc[y.v]);break;case"str":y.t="s",y.v=V[1];break;case"is":y.t="s",y.v=V[1].t;break}if((x=o.CellXf[V[0].iStyleRef])&&fQ(y,x.numFmtId,null,l,i,o),j=V[0].c==-1?j+1:V[0].c,l.dense?(c[v]||(c[v]=[]),c[v][j]=y):c[hn(j)+T]=y,l.cellFormula){for(R=!1,k=0;k<A.length;++k){var F=A[k];g.r>=F[0].s.r&&g.r<=F[0].e.r&&j>=F[0].s.c&&j<=F[0].e.c&&(y.F=ar(F[0]),R=!0)}!R&&V.length>3&&(y.f=V[3])}if(d.s.r>g.r&&(d.s.r=g.r),d.s.c>j&&(d.s.c=j),d.e.r<g.r&&(d.e.r=g.r),d.e.c<j&&(d.e.c=j),l.cellDates&&x&&y.t=="n"&&Af(zt[x.numFmtId])){var X=lu(y.v);X&&(y.t="d",y.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}M&&(M.type=="XLDAPR"&&(y.D=!0),M=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;y={t:"z",v:void 0},j=V[0].c==-1?j+1:V[0].c,l.dense?(c[v]||(c[v]=[]),c[v][j]=y):c[hn(j)+T]=y,d.s.r>g.r&&(d.s.r=g.r),d.s.c>j&&(d.s.c=j),d.e.r<g.r&&(d.e.r=g.r),d.e.c<j&&(d.e.c=j),M&&(M.type=="XLDAPR"&&(y.D=!0),M=void 0);break;case 176:N.push(V);break;case 49:M=((l.xlmeta||{}).Cell||[])[V-1];break;case 494:var Z=n["!id"][V.relId];for(Z?(V.Target=Z.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=Z):V.relId==""&&(V.Target="#"+V.loc),v=V.rfx.s.r;v<=V.rfx.e.r;++v)for(j=V.rfx.s.c;j<=V.rfx.e.c;++j)l.dense?(c[v]||(c[v]=[]),c[v][j]||(c[v][j]={t:"z",v:void 0}),c[v][j].l=V):(S=Ht({c:j,r:v}),c[S]||(c[S]={t:"z",v:void 0}),c[S].l=V);break;case 426:if(!l.cellFormula)break;A.push(V),E=l.dense?c[v][j]:c[hn(j)+T],E.f=da(V[1],d,{r:g.r,c:j},P,l),E.F=ar(V[0]);break;case 427:if(!l.cellFormula)break;I[Ht(V[0].s)]=V[1],E=l.dense?c[v][j]:c[hn(j)+T],E.f=da(V[1],d,{r:g.r,c:j},P,l);break;case 60:if(!l.cellStyles)break;for(;V.e>=V.s;)B[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},H||(H=!0,GR(V.w/256)),Pu(B[V.e+1]);break;case 161:c["!autofilter"]={ref:ar(V)};break;case 476:c["!margins"]=V;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),V.name&&(s.Sheets[r].CodeName=V.name),(V.above||V.left)&&(c["!outline"]={above:V.above,left:V.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),V.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!z.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+G.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=ar(u||d)),l.sheetRows&&c["!ref"]){var W=xr(c["!ref"]);l.sheetRows<=+W.e.r&&(W.e.r=l.sheetRows-1,W.e.r>d.e.r&&(W.e.r=d.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>d.e.c&&(W.e.c=d.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ar(W))}return N.length>0&&(c["!merges"]=N),B.length>0&&(c["!cols"]=B),U.length>0&&(c["!rows"]=U),c}function cCe(e,t,r,n,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Zr(t),t.z=t.z||zt[14],t.v=_s(mn(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Hu(s.cellXfs,t,s),t.l&&i["!links"].push([Ht(c),t.l]),t.c&&i["!comments"].push([Ht(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=QR(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?Ye(e,18,CEe(t,c)):Ye(e,7,kEe(t,c))):(c.t="str",o?Ye(e,17,BEe(t,c)):Ye(e,6,LEe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ye(e,13,IEe(t,c)):Ye(e,2,REe(t,c)):o?Ye(e,16,PEe(t,c)):Ye(e,5,AEe(t,c)),!0;case"b":return c.t="b",o?Ye(e,15,wEe(t,c)):Ye(e,4,vEe(t,c)),!0;case"e":return c.t="e",o?Ye(e,14,SEe(t,c)):Ye(e,3,_Ee(t,c)),!0}return o?Ye(e,12,gEe(t,c)):Ye(e,1,mEe(t,c)),!0}function uCe(e,t,r,n){var s=xr(t["!ref"]||"A1"),i,o="",l=[];Ye(e,145);var c=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var d=s.s.r;d<=u;++d){o=Dn(d),oEe(e,t,s,d);var f=!1;if(d<=s.e.r)for(var m=s.s.c;m<=s.e.c;++m){d===s.s.r&&(l[m]=hn(m)),i=l[m]+o;var g=c?(t[d]||[])[m]:t[i];if(!g){f=!1;continue}f=cCe(e,g,d,m,n,t,f)}}Ye(e,146)}function dCe(e,t){!t||!t["!merges"]||(Ye(e,177,GEe(t["!merges"].length)),t["!merges"].forEach(function(r){Ye(e,176,HEe(r))}),Ye(e,178))}function fCe(e,t){!t||!t["!cols"]||(Ye(e,390),t["!cols"].forEach(function(r,n){r&&Ye(e,60,JEe(n,r))}),Ye(e,391))}function hCe(e,t){!t||!t["!ref"]||(Ye(e,648),Ye(e,649,sCe(xr(t["!ref"]))),Ye(e,650))}function mCe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=Ur(r,-1,n[1].Target.replace(/#.*$/,""),hr.HLINK);Ye(e,494,YEe(n,s))}}),delete t["!links"]}function pCe(e,t,r,n){if(t["!comments"].length>0){var s=Ur(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",hr.VML);Ye(e,551,$R("rId"+s)),t["!legacy"]=s}}function gCe(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:ar(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Fa(i);l.s.r==l.e.r&&(l.e.r=Fa(t["!ref"]).e.r,i=ar(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ye(e,161,xp(xr(i))),Ye(e,162)}}function xCe(e,t,r){Ye(e,133),Ye(e,137,nCe(t,r)),Ye(e,138),Ye(e,134)}function vCe(e,t){t["!protect"]&&Ye(e,535,aCe(t["!protect"]))}function yCe(e,t,r,n){var s=Ja(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=xr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ye(s,129),(r.vbaraw||o["!outline"])&&Ye(s,147,fEe(l,o["!outline"])),Ye(s,148,cEe(c)),xCe(s,o,r.Workbook),fCe(s,o),uCe(s,o,e,t),vCe(s,o),gCe(s,o,r,e),dCe(s,o),mCe(s,o,n),o["!margins"]&&Ye(s,476,tCe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&hCe(s,o),pCe(s,o,e,n),Ye(s,130),s.end()}function wCe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var s=kr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,s,n]}function bCe(e,t,r,n,s,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=wCe(f);d.s.r=d.s.c=0,d.e.c=l,u=hn(l),m[0].forEach(function(g,y){o[u+Dn(y)]={t:"n",v:g,z:m[1]},c=y}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=ar(d)),o}function _Ce(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(hQ);return l&&JR(l[0],i,s,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function jCe(e,t){e.l+=10;var r=_a(e);return{name:r}}function SCe(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return wc(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var eD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],NCe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],kCe=[],ECe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function i8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],s=0;s!=t.length;++s){var i=t[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=fn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function o8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=fn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function xQ(e){o8(e.WBProps,eD),o8(e.CalcPr,ECe),i8(e.WBView,NCe),i8(e.Sheets,kCe),cm.date1904=fn(e.WBProps.date1904)}function CCe(e){return!e.Workbook||!e.Workbook.WBProps?"false":fn(e.Workbook.WBProps.date1904)?"true":"false"}var TCe="][*?/\\".split("");function vQ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return TCe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ACe(e,t,r){e.forEach(function(n,s){vQ(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function yQ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ACe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Cke(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var PCe=/<\w+:workbook/;function OCe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},o=0;if(e.replace(Sa,function(c,u){var d=Kt(c);switch(kl(d[0])){case"<?xml":break;case"<workbook":c.match(PCe)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":eD.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=fn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=qr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=kr(qr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=qr(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),fn(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=kr(qr(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Pf.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return xQ(r),r}function wQ(e){var t=[Xn];t[t.length]=ct("workbook",null,{xmlns:Pf[0],"xmlns:r":ys.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(eD.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ct("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:zr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ct("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ct("definedName",zr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function RCe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=eP(e),r.name=_a(e),r}function DCe(e,t){return t||(t=Ie(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),$R(e.strRelID,t),Ms(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ICe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?_a(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function MCe(e,t){t||(t=Ie(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),uZ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function FCe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function LCe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=p1e(e),o=_ke(e,0,r),l=LR(e);e.l=n;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function $Ce(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],ex[16]={n:"BrtFRTArchID$",f:FCe},wc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=da(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(d),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!u.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),xQ(r),r.Names=i,r.supbooks=o,r}function BCe(e,t){Ye(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ye(e,156,DCe(s))}Ye(e,144)}function UCe(e,t){t||(t=Ie(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ms("SheetJS",t),Ms(zg.version,t),Ms(zg.version,t),Ms("7262",t),t.length>t.l?t.slice(0,t.l):t}function VCe(e,t){t||(t=Ie(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function zCe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Ye(e,135),Ye(e,158,VCe(s)),Ye(e,136))}}function WCe(e,t){var r=Ja();return Ye(r,131),Ye(r,128,UCe()),Ye(r,153,MCe(e.Workbook&&e.Workbook.WBProps||null)),zCe(r,e),BCe(r,e),Ye(r,132),r.end()}function qCe(e,t,r){return t.slice(-4)===".bin"?$Ce(e,r):OCe(e,r)}function HCe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?lCe(e,n,r,s,i,o,l):$ke(e,n,r,s,i,o,l)}function GCe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?SCe(e,n,r,s,i):_Ce(e,n,r,s,i)}function KCe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?ZNe():QNe()}function YCe(e,t,r,n,s,i,o,l){return t.slice(-4)===".bin"?YNe():XNe()}function XCe(e,t,r,n){return t.slice(-4)===".bin"?HSe(e,r,n):DSe(e,r,n)}function ZCe(e,t,r){return JZ(e,r)}function QCe(e,t,r){return t.slice(-4)===".bin"?Jje(e,r):Xje(e,r)}function JCe(e,t,r){return t.slice(-4)===".bin"?WNe(e,r):INe(e,r)}function eTe(e,t,r){return t.slice(-4)===".bin"?ONe(e):ANe(e)}function tTe(e,t,r,n){return r.slice(-4)===".bin"?RNe(e,t,r,n):void 0}function rTe(e,t,r){return t.slice(-4)===".bin"?ENe(e,t,r):TNe(e,t,r)}function nTe(e,t,r){return(t.slice(-4)===".bin"?WCe:wQ)(e)}function sTe(e,t,r,n,s){return(t.slice(-4)===".bin"?yCe:mQ)(e,r,n,s)}function aTe(e,t,r){return(t.slice(-4)===".bin"?rNe:ZZ)(e,r)}function iTe(e,t,r){return(t.slice(-4)===".bin"?rSe:zZ)(e,r)}function oTe(e,t,r){return(t.slice(-4)===".bin"?qNe:rQ)(e)}function lTe(e){return(e.slice(-4)===".bin"?CNe:eQ)()}var bQ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_Q=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ko(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=e.match(bQ),i,o,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(_Q),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function cTe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(bQ),s,i,o,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(_Q),(i=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),r[o]=s[2].slice(1,s[2].length-1));return r}var ig;function uTe(e,t){var r=ig[e]||kr(e);return r==="General"?of(t):Ai(r,t)}function dTe(e,t,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=fn(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=mn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[kr(t)]=s}function fTe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||bc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v):e.w=of(e.v):e.w=uTe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=ig[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Af(n)){var s=lu(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(r.WTF)throw i}}}function hTe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=kSe[n.Pattern]||n.Pattern)}e[t.ID]=t}function mTe(e,t,r,n,s,i,o,l,c,u){var d="General",f=n.StyleID,m={};u=u||{};var g=[],y=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&g.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=fn(e);break;case"String":n.t="s",n.r=S6(kr(e)),n.v=e.indexOf("<")>-1?kr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(mn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=kr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=pZ[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=S6(t||e));break}if(fTe(n,d,u),u.cellFormula!==!1)if(n.Formula){var x=kr(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=lm(x,s),delete n.Formula,n.ArrayRange=="RC"?n.F=lm("RC:RC",s):n.ArrayRange&&(n.F=lm(n.ArrayRange,s),c.push([xr(n.F),n.F]))}else for(y=0;y<c.length;++y)s.r>=c[y][0].s.r&&s.r<=c[y][0].e.r&&s.c>=c[y][0].s.c&&s.c<=c[y][0].e.c&&(n.F=c[y][1]);u.cellStyles&&(g.forEach(function(v){!m.patternType&&v.patternType&&(m.patternType=v.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function pTe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function g2(e,t){var r=t||{};mp();var n=Bh(CR(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof br<"u"?n=br.utils.decode(65001,Pb(n)):n=qr(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=Zr(r);return o.type="string",km.to_workbook(n,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(mt){s.indexOf("<"+mt)>=0&&(i=!0)}),i)return ZTe(n,r);ig={"General Number":"General","General Date":zt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":zt[15],"Short Date":zt[14],"Long Time":zt[19],"Medium Time":zt[18],"Short Time":zt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:zt[2],Standard:zt[4],Percent:zt[10],Scientific:zt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],m=r.dense?[]:{},g="",y={},x={},v=ko('<Data ss:Type="String">'),j=0,S=0,w=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},N={},k="",R=0,A=[],I={},P={},D=0,B=[],U=[],H={},M=[],W,K=!1,V=[],z=[],G={},F=0,X=0,Z={Sheets:[],WBProps:{date1904:!1}},re={};Kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";l=Kg.exec(n);)switch(l[3]=(ee=l[3]).toLowerCase()){case"data":if(ee=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?mTe(n.slice(j,l.index),k,v,c[c.length-1][0]=="comment"?H:y,{c:S,r:w},E,M[S],x,V,r):(k="",v=ko(l[0]),j=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(U.length>0&&(y.c=U),(!r.sheetRows||r.sheetRows>w)&&y.v!==void 0&&(r.dense?(m[w]||(m[w]=[]),m[w][S]=y):m[hn(S)+Dn(w)]=y),y.HRef&&(y.l={Target:kr(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(F=S+(parseInt(y.MergeAcross,10)|0),X=w+(parseInt(y.MergeDown,10)|0),A.push({s:{c:S,r:w},e:{c:F,r:X}})),!r.sheetStubs)y.MergeAcross?S=F+1:++S;else if(y.MergeAcross||y.MergeDown){for(var ce=S;ce<=F;++ce)for(var pe=w;pe<=X;++pe)(ce>S||pe>w)&&(r.dense?(m[pe]||(m[pe]=[]),m[pe][ce]={t:"z"}):m[hn(ce)+Dn(pe)]={t:"z"});S=F+1}else++S;else y=cTe(l[0]),y.Index&&(S=+y.Index-1),S<T.s.c&&(T.s.c=S),S>T.e.c&&(T.e.c=S),l[0].slice(-2)==="/>"&&++S,U=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<T.s.r&&(T.s.r=w),w>T.e.r&&(T.e.r=w),l[0].slice(-2)==="/>"&&(x=ko(l[0]),x.Index&&(w=+x.Index-1)),S=0,++w):(x=ko(l[0]),x.Index&&(w=+x.Index-1),G={},(x.AutoFitHeight=="0"||x.Height)&&(G.hpx=parseInt(x.Height,10),G.hpt=Jg(G.hpx),z[w]=G),x.Hidden=="1"&&(G.hidden=!0,z[w]=G));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(g),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(m["!ref"]=ar(T),r.sheetRows&&r.sheetRows<=T.e.r&&(m["!fullref"]=m["!ref"],T.e.r=r.sheetRows-1,m["!ref"]=ar(T))),A.length&&(m["!merges"]=A),M.length>0&&(m["!cols"]=M),z.length>0&&(m["!rows"]=z),d[g]=m}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=S=0,c.push([l[3],!1]),u=ko(l[0]),g=kr(u.Name),m=r.dense?[]:{},A=[],V=[],z=[],re={name:g,Hidden:0},Z.Sheets.push(re);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),M=[],K=!1}break;case"style":l[1]==="/"?hTe(E,N,r):N=ko(l[0]);break;case"numberformat":N.nf=kr(ko(l[0]).Format||"General"),ig[N.nf]&&(N.nf=ig[N.nf]);for(var Y=0;Y!=392&&zt[Y]!=N.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(zt[Y]==null){fl(N.nf,Y);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=ko(l[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!K&&W.wpx>10){K=!0,ha=YZ;for(var Q=0;Q<M.length;++Q)M[Q]&&Pu(M[Q])}K&&Pu(W),M[W.Index-1||M.length]=W;for(var ae=0;ae<+W.Span;++ae)M[M.length]=Zr(W);break;case"namedrange":if(l[1]==="/")break;Z.Names||(Z.Names=[]);var q=Kt(l[0]),ke={Name:q.Name,Ref:lm(q.RefersTo.slice(1),{r:0,c:0})};Z.Sheets.length>0&&(ke.Sheet=Z.Sheets.length-1),Z.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?k+=n.slice(R,l.index):R=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=ko(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?B1e(I,ee,n.slice(D,l.index)):D=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));pTe(H),U.push(H)}else c.push([l[3],!1]),u=ko(l[0]),H={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ye=ko(l[0]);m["!autofilter"]={ref:lm(ye.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return f8(n,r);var xe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(D,l.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else D=l.index+l[0].length;break;case"header":m["!margins"]||Vd(m["!margins"]={},"xlml"),isNaN(+Kt(l[0]).Margin)||(m["!margins"].header=+Kt(l[0]).Margin);break;case"footer":m["!margins"]||Vd(m["!margins"]={},"xlml"),isNaN(+Kt(l[0]).Margin)||(m["!margins"].footer=+Kt(l[0]).Margin);break;case"pagemargins":var Re=Kt(l[0]);m["!margins"]||Vd(m["!margins"]={},"xlml"),isNaN(+Re.Top)||(m["!margins"].top=+Re.Top),isNaN(+Re.Left)||(m["!margins"].left=+Re.Left),isNaN(+Re.Right)||(m["!margins"].right=+Re.Right),isNaN(+Re.Bottom)||(m["!margins"].bottom=+Re.Bottom);break;case"displayrighttoleft":Z.Views||(Z.Views=[]),Z.Views[0]||(Z.Views[0]={}),Z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?dTe(P,ee,B,n.slice(D,l.index)):(B=l,D=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var je={};return!r.bookSheets&&!r.bookProps&&(je.Sheets=d),je.SheetNames=f,je.Workbook=Z,je.SSF=Zr(zt),je.Props=I,je.Custprops=P,je}function oP(e,t){switch(nD(t=t||{}),t.type||"base64"){case"base64":return g2(Ti(e),t);case"binary":case"buffer":case"file":return g2(e,t);case"array":return g2(Wu(e),t)}}function gTe(e,t){var r=[];return e.Props&&r.push(U1e(e.Props,t)),e.Custprops&&r.push(V1e(e.Props,e.Custprops)),r.join("")}function xTe(){return""}function vTe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(ct("NumberFormat",null,{"ss:Format":zr(zt[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(ct("Style",i.join(""),o))}),ct("Styles",r.join(""))}function jQ(e){return ct("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+XR(e.Ref,{r:0,c:0})})}function yTe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(jQ(s)))}return ct("Names",r.join(""))}function wTe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(jQ(l)))}return i.join("")}function bTe(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(ct("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(ct("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(ct("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(ct("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Zs("ProtectContents","True")),e["!protect"].objects&&s.push(Zs("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Zs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Zs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Zs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":ct("WorksheetOptions",s.join(""),{xmlns:gi.x})}function _Te(e){return e.map(function(t){var r=Wbe(t.t||""),n=ct("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ct("Comment",n,{"ss:Author":t.a})}).join("")}function jTe(e,t,r,n,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+zr(XR(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Nn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=zr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=zr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=bc[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||zt[14]);break;case"s":f="String",m=zbe(e.v||"");break}var g=Hu(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+g),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(x+=_Te(e.c)),ct("Cell",x,l)}function STe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Em(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function NTe(e,t,r,n){if(!e["!ref"])return"";var s=xr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,j){Pu(v);var S=!!v.width,w=W_(j,v),T={"ss:Index":j+1};S&&(T["ss:Width"]=Zg(w.width)),v.hidden&&(T["ss:Hidden"]="1"),l.push(ct("Column",null,T))});for(var c=Array.isArray(e),u=s.s.r;u<=s.e.r;++u){for(var d=[STe(u,(e["!rows"]||[])[u])],f=s.s.c;f<=s.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(m=!0);break}if(!m){var g={r:u,c:f},y=Ht(g),x=c?(e[u]||[])[f]:e[y];d.push(jTe(x,y,e,t,r,n,g))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function kTe(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?wTe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?NTe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(bTe(i,t,e,r)),n.join("")}function ETe(e,t){t||(t={}),e.SSF||(e.SSF=Zr(zt)),e.SSF&&(mp(),_v(e.SSF),t.revssf=L_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Hu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(gTe(e,t)),r.push(xTe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ct("Worksheet",kTe(n,t,e),{"ss:Name":zr(e.SheetNames[n])}));return r[2]=vTe(e,t),r[3]=yTe(e),Xn+ct("Workbook",r.join(""),{xmlns:gi.ss,"xmlns:o":gi.o,"xmlns:x":gi.x,"xmlns:ss":gi.ss,"xmlns:dt":gi.dt,"xmlns:html":gi.html})}function CTe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=w1e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=b1e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var TTe=[60,1084,2066,2165,2175];function ATe(e,t,r,n,s){var i=n,o=[],l=r.slice(r.l,r.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Hl(r,r.l),u=lP[c],d=0;u!=null&&TTe.indexOf(c)>-1;)i=Hl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=lP[c=Hl(r,r.l)];var f=Is(o);Ks(f,0);var m=0;f.lens=[];for(var g=0;g<o.length;++g)f.lens.push(m),m+=o[g].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,s)}function el(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=zt[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||bc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v):e.w=of(e.v):e.w=Ai(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Af(zt[n]||String(n))){var s=lu(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function bw(e,t,r){return{v:e,ixfe:t,t:r}}function PTe(e,t){var r={opts:{}},n={},s=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,m="",g,y,x,v,j={},S=[],w,T,E=[],N=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},A=function(_t){return _t<8?$d[_t]:_t<64&&N[_t-8]||$d[_t]},I=function(_t,$t,an){var vr=$t.XF.data;if(!(!vr||!vr.patternType||!an||!an.cellStyles)){$t.s={},$t.s.patternType=vr.patternType;var vn;(vn=Xg(A(vr.icvFore)))&&($t.s.fgColor={rgb:vn}),(vn=Xg(A(vr.icvBack)))&&($t.s.bgColor={rgb:vn})}},P=function(_t,$t,an){if(!(G>1)&&!(an.sheetRows&&_t.r>=an.sheetRows)){if(an.cellStyles&&$t.XF&&$t.XF.data&&I(_t,$t,an),delete $t.ixfe,delete $t.XF,f=_t,m=Ht(_t),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<o.s.r&&(o.s.r=_t.r),_t.c<o.s.c&&(o.s.c=_t.c),_t.r+1>o.e.r&&(o.e.r=_t.r+1),_t.c+1>o.e.c&&(o.e.c=_t.c+1),an.cellFormula&&$t.f){for(var vr=0;vr<S.length;++vr)if(!(S[vr][0].s.c>_t.c||S[vr][0].s.r>_t.r)&&!(S[vr][0].e.c<_t.c||S[vr][0].e.r<_t.r)){$t.F=ar(S[vr][0]),(S[vr][0].s.c!=_t.c||S[vr][0].s.r!=_t.r)&&delete $t.f,$t.f&&($t.f=""+da(S[vr][1],o,_t,V,D));break}}an.dense?(s[_t.r]||(s[_t.r]=[]),s[_t.r][_t.c]=$t):s[m]=$t}},D={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:S,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var B,U=[],H=[],M=[],W=[],K=!1,V=[];V.SheetNames=D.snames,V.sharedf=D.sharedf,V.arrayf=D.arrayf,V.names=[],V.XTI=[];var z=0,G=0,F=0,X=[],Z=[],re;D.codepage=1200,ro(1200);for(var ee=!1;e.l<e.length-1;){var ce=e.l,pe=e.read_shift(2);if(pe===0&&z===10)break;var Y=e.l===e.length?0:e.read_shift(2),Q=lP[pe];if(Q&&Q.f){if(t.bookSheets&&z===133&&pe!==133)break;if(z=pe,Q.r===2||Q.r==12){var ae=e.read_shift(2);if(Y-=2,!D.enc&&ae!==pe&&((ae&255)<<8|ae>>8)!==pe)throw new Error("rt mismatch: "+ae+"!="+pe);Q.r==12&&(e.l+=10,Y-=10)}var q={};if(pe===10?q=Q.f(e,Y,D):q=ATe(pe,Q,e,Y,D),G==0&&[9,521,1033,2057].indexOf(z)===-1)continue;switch(pe){case 34:r.opts.Date1904=k.WBProps.date1904=q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(D.enc||(e.l=0),D.enc=q,!t.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=q;break;case 66:var ke=Number(q);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}ro(D.codepage=ke),ee=!0;break;case 317:D.rrtabid=q;break;case 25:D.winlocked=q;break;case 439:r.opts.RefreshAll=q;break;case 12:r.opts.CalcCount=q;break;case 16:r.opts.CalcDelta=q;break;case 17:r.opts.CalcIter=q;break;case 13:r.opts.CalcMode=q;break;case 14:r.opts.CalcPrecision=q;break;case 95:r.opts.CalcSaveRecalc=q;break;case 15:D.CalcRefMode=q;break;case 2211:r.opts.FullCalc=q;break;case 129:q.fDialog&&(s["!type"]="dialog"),q.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),q.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:E.push(q);break;case 430:V.push([q]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(q);break;case 24:case 536:re={Name:q.Name,Ref:da(q.rgce,o,null,V,D)},q.itab>0&&(re.Sheet=q.itab-1),V.names.push(re),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(Z[q.itab-1]={ref:ar(q.rgce[0][0][1][2])});break;case 22:D.ExternCount=q;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(q),V.XTI=V.XTI.concat(q);break;case 2196:if(D.biff<8)break;re!=null&&(re.Comment=q[1]);break;case 18:s["!protect"]=q;break;case 19:q!==0&&D.WTF&&console.error("Password verifier: "+q);break;case 133:i[q.pos]=q,D.snames.push(q.name);break;case 10:{if(--G)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=ar(o),t.sheetRows&&t.sheetRows<=o.e.r){var ye=o.e.r;o.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=ar(o),o.e.r=ye}o.e.r++,o.e.c++}U.length>0&&(s["!merges"]=U),H.length>0&&(s["!objects"]=H),M.length>0&&(s["!cols"]=M),W.length>0&&(s["!rows"]=W),k.Sheets.push(R)}u===""?d=s:n[u]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),D.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(D.biff=5,ee=!0,ro(D.codepage=28591)),D.biff==8&&q.BIFFVer==0&&q.dt==16&&(D.biff=2),G++)break;if(s=t.dense?[]:{},D.biff<8&&!ee&&(ee=!0,ro(D.codepage=t.codepage||1252)),D.biff<5||q.BIFFVer==0&&q.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-Y,name:u};i[xe.pos]=xe,D.snames.push(u)}else u=(i[ce]||{name:""}).name;q.dt==32&&(s["!type"]="chart"),q.dt==64&&(s["!type"]="macro"),U=[],H=[],D.arrayf=S=[],M=[],W=[],K=!1,R={Hidden:(i[ce]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[q.r]||[])[q.c]:s[Ht({c:q.c,r:q.r})])&&++q.c,w={ixfe:q.ixfe,XF:E[q.ixfe]||{},v:q.val,t:"n"},F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:q.c,r:q.r},w,t);break;case 5:case 517:w={ixfe:q.ixfe,XF:E[q.ixfe],v:q.val,t:q.t},F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:q.c,r:q.r},w,t);break;case 638:w={ixfe:q.ixfe,XF:E[q.ixfe],v:q.rknum,t:"n"},F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:q.c,r:q.r},w,t);break;case 189:for(var Re=q.c;Re<=q.C;++Re){var je=q.rkrec[Re-q.c][0];w={ixfe:je,XF:E[je],v:q.rkrec[Re-q.c][1],t:"n"},F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:Re,r:q.r},w,t)}break;case 6:case 518:case 1030:{if(q.val=="String"){l=q;break}if(w=bw(q.val,q.cell.ixfe,q.tt),w.XF=E[w.ixfe],t.cellFormula){var mt=q.formula;if(mt&&mt[0]&&mt[0][0]&&mt[0][0][0]=="PtgExp"){var ht=mt[0][0][1][0],oe=mt[0][0][1][1],ge=Ht({r:ht,c:oe});j[ge]?w.f=""+da(q.formula,o,q.cell,V,D):w.F=((t.dense?(s[ht]||[])[oe]:s[ge])||{}).F}else w.f=""+da(q.formula,o,q.cell,V,D)}F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P(q.cell,w,t),l=q}break;case 7:case 519:if(l)l.val=q,w=bw(q,l.cell.ixfe,"s"),w.XF=E[w.ixfe],t.cellFormula&&(w.f=""+da(l.formula,o,l.cell,V,D)),F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P(l.cell,w,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{S.push(q);var Ne=Ht(q[0].s);if(g=t.dense?(s[q[0].s.r]||[])[q[0].s.c]:s[Ne],t.cellFormula&&g){if(!l||!Ne||!g)break;g.f=""+da(q[1],o,q[0],V,D),g.F=ar(q[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!l)break;j[Ht(l.cell)]=q[0],g=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[Ht(l.cell)],(g||{}).f=""+da(q[0],o,f,V,D)}}break;case 253:w=bw(c[q.isst].t,q.ixfe,"s"),c[q.isst].h&&(w.h=c[q.isst].h),w.XF=E[w.ixfe],F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:q.c,r:q.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:q.ixfe,XF:E[q.ixfe],t:"z"},F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:q.c,r:q.r},w,t));break;case 190:if(t.sheetStubs)for(var We=q.c;We<=q.C;++We){var qe=q.ixfe[We-q.c];w={ixfe:qe,XF:E[qe],t:"z"},F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:We,r:q.r},w,t)}break;case 214:case 516:case 4:w=bw(q.val,q.ixfe,"s"),w.XF=E[w.ixfe],F>0&&(w.z=X[w.ixfe>>8&63]),el(w,t,r.opts.Date1904),P({c:q.c,r:q.r},w,t);break;case 0:case 512:G===1&&(o=q);break;case 252:c=q;break;case 1054:if(D.biff==4){X[F++]=q[1];for(var Ue=0;Ue<F+163&&zt[Ue]!=q[1];++Ue);Ue>=163&&fl(q[1],F+163)}else fl(q[1],q[0]);break;case 30:{X[F++]=q;for(var it=0;it<F+163&&zt[it]!=q;++it);it>=163&&fl(q,F+163)}break;case 229:U=U.concat(q);break;case 93:H[q.cmo[0]]=D.lastobj=q;break;case 438:D.lastobj.TxO=q;break;case 127:D.lastobj.ImData=q;break;case 440:for(v=q[0].s.r;v<=q[0].e.r;++v)for(x=q[0].s.c;x<=q[0].e.c;++x)g=t.dense?(s[v]||[])[x]:s[Ht({c:x,r:v})],g&&(g.l=q[1]);break;case 2048:for(v=q[0].s.r;v<=q[0].e.r;++v)for(x=q[0].s.c;x<=q[0].e.c;++x)g=t.dense?(s[v]||[])[x]:s[Ht({c:x,r:v})],g&&g.l&&(g.l.Tooltip=q[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;g=t.dense?(s[q[0].r]||[])[q[0].c]:s[Ht(q[0])];var Ot=H[q[2]];g||(t.dense?(s[q[0].r]||(s[q[0].r]=[]),g=s[q[0].r][q[0].c]={t:"z"}):g=s[Ht(q[0])]={t:"z"},o.e.r=Math.max(o.e.r,q[0].r),o.s.r=Math.min(o.s.r,q[0].r),o.e.c=Math.max(o.e.c,q[0].c),o.s.c=Math.min(o.s.c,q[0].c)),g.c||(g.c=[]),y={a:q[1],t:Ot.TxO.t},g.c.push(y)}break;case 2173:yNe(E[q.ixfe],q.ext);break;case 125:{if(!D.cellStyles)break;for(;q.e>=q.s;)M[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},K||(K=!0,GR(q.w/256)),Pu(M[q.e+1])}break;case 520:{var He={};q.level!=null&&(W[q.r]=He,He.level=q.level),q.hidden&&(W[q.r]=He,He.hidden=!0),q.hpt&&(W[q.r]=He,He.hpt=q.hpt,He.hpx=Em(q.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Vd(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=q;break;case 161:s["!margins"]||Vd(s["!margins"]={}),s["!margins"].header=q.header,s["!margins"].footer=q.footer;break;case 574:q.RTL&&(k.Views[0].RTL=!0);break;case 146:N=q;break;case 2198:B=q;break;case 140:T=q;break;case 442:u?R.CodeName=q||R.name:k.WBProps.CodeName=q||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),e.l+=Y}return r.SheetNames=Fn(i).sort(function(Rt,_t){return Number(Rt)-Number(_t)}).map(function(Rt){return i[Rt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&Z.forEach(function(Rt,_t){r.Sheets[r.SheetNames[_t]]["!autofilter"]=Rt}),r.Strings=c,r.SSF=Zr(zt),D.enc&&(r.Encryption=D.enc),B&&(r.Themes=B),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),V.names.length>0&&(k.Names=V.names),r.Workbook=k,r}var og={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function OTe(e,t,r){var n=Pt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=V6(n,tP,og.DSI);for(var i in s)t[i]=s[i]}catch(u){if(r.WTF)throw u}var o=Pt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=V6(o,rP,og.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(bZ(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function RTe(e,t){var r=[],n=[],s=[],i=0,o,l=v6(tP,"n"),c=v6(rP,"n");if(e.Props)for(o=Fn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Fn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:s).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<s.length;++i)CZ.indexOf(s[i][0])>-1||wZ.indexOf(s[i][0])>-1||s[i][1]!=null&&u.push(s[i]);n.length&&Pt.utils.cfb_add(t,"/SummaryInformation",z6(n,og.SI,c,rP)),(r.length||u.length)&&Pt.utils.cfb_add(t,"/DocumentSummaryInformation",z6(r,og.DSI,l,tP,u.length?u:null,og.UDI))}function tD(e,t){t||(t={}),nD(t),M_(),t.codepage&&I_(t.codepage);var r,n;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");r=Pt.find(e,"!CompObj"),n=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=xi(Ti(e));break;case"binary":e=xi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ks(e,0),n={content:e}}var s,i;if(r&&CTe(r),t.bookProps&&!t.bookSheets)s={};else{var o=dr?"buffer":"array";if(n&&n.content)s=PTe(n.content,t);else if((i=Pt.find(e,"PerfectOffice_MAIN"))&&i.content)s=Ud.to_workbook(i.content,(t.type=o,t));else if((i=Pt.find(e,"NativeContent_MAIN"))&&i.content)s=Ud.to_workbook(i.content,(t.type=o,t));else throw(i=Pt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=GNe(e))}var l={};return e.FullPaths&&OTe(e,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=e),s}function DTe(e,t){var r=t||{},n=Pt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Pt.utils.cfb_add(n,s,SQ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&RTe(e,n),r.biff==8&&e.vbaraw&&KNe(n,Pt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var ex={0:{f:aEe},1:{f:hEe},2:{f:OEe},3:{f:bEe},4:{f:xEe},5:{f:TEe},6:{f:FEe},7:{f:NEe},8:{f:WEe},9:{f:zEe},10:{f:UEe},11:{f:VEe},12:{f:pEe},13:{f:DEe},14:{f:jEe},15:{f:yEe},16:{f:pQ},17:{f:$Ee},18:{f:EEe},19:{f:FR},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:LCe},40:{},42:{},43:{f:FSe},44:{f:ISe},45:{f:BSe},46:{f:VSe},47:{f:USe},48:{},49:{f:l1e},50:{},51:{f:_Ne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$Z},62:{f:MEe},63:{f:PNe},64:{f:iCe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ja,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rCe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dEe},148:{f:lEe,p:16},151:{f:XEe},152:{},153:{f:ICe},154:{},155:{},156:{f:RCe},157:{},158:{},159:{T:1,f:Qje},160:{T:-1},161:{T:1,f:If},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qEe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:wNe},336:{T:-1},337:{f:NNe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:eP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:LZ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ZEe},427:{f:QEe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:eCe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:uEe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KEe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:eP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:VNe},633:{T:1},634:{T:-1},635:{T:1,f:BNe},636:{T:-1},637:{f:f1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jCe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:oCe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},lP={6:{f:m2},10:{f:Xc},12:{f:ts},13:{f:ts},14:{f:zn},15:{f:zn},16:{f:ga},17:{f:zn},18:{f:zn},19:{f:ts},20:{f:Y6},21:{f:Y6},23:{f:LZ},24:{f:Z6},25:{f:zn},26:{},27:{},28:{f:oje},29:{},34:{f:zn},35:{f:X6},38:{f:ga},39:{f:ga},40:{f:ga},41:{f:ga},42:{f:zn},43:{f:zn},47:{f:ySe},49:{f:D_e},51:{f:ts},60:{},61:{f:T_e},64:{f:zn},65:{f:R_e},66:{f:ts},77:{},80:{},81:{},82:{},85:{f:ts},89:{},90:{},91:{},92:{f:v_e},93:{f:uje},94:{},95:{f:zn},96:{},97:{},99:{f:zn},125:{f:$Z},128:{f:Y_e},129:{f:w_e},130:{f:ts},131:{f:zn},132:{f:zn},133:{f:b_e},134:{},140:{f:vje},141:{f:ts},144:{},146:{f:bje},151:{},152:{},153:{},154:{},155:{},156:{f:ts},157:{},158:{},160:{f:Cje},161:{f:Sje},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:q_e},190:{f:H_e},193:{f:Xc},197:{},198:{},199:{},200:{},201:{},202:{f:zn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ts},220:{},221:{f:zn},222:{},224:{f:K_e},225:{f:x_e},226:{f:Xc},227:{},229:{f:lje},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:j_e},253:{f:M_e},255:{f:N_e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:TZ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:zn},353:{f:Xc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:eje},431:{f:zn},432:{},433:{},434:{},437:{},438:{f:hje},439:{f:zn},440:{f:mje},441:{},442:{f:Nv},443:{},444:{f:ts},445:{},446:{},448:{f:Xc},449:{f:C_e,r:2},450:{f:Xc},512:{f:H6},513:{f:Eje},515:{f:Q_e},516:{f:L_e},517:{f:K6},519:{f:Tje},520:{f:k_e},523:{},545:{f:Q6},549:{f:q6},566:{},574:{f:P_e},638:{f:W_e},659:{},1048:{},1054:{f:B_e},1084:{},1212:{f:sje},2048:{f:gje},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:vw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Xc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:_je,r:12},2173:{f:vNe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:zn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:nje,r:12},2197:{},2198:{f:fNe,r:12},2199:{},2200:{},2201:{},2202:{f:aje,r:12},2203:{f:Xc},2204:{},2205:{},2206:{},2207:{},2211:{f:E_e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ts},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Nje},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wje},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:H6},1:{},2:{f:Dje},3:{f:Oje},4:{f:Pje},5:{f:K6},7:{f:Mje},8:{},9:{f:vw},11:{},22:{f:ts},30:{f:V_e},31:{},32:{},33:{f:Q6},36:{},37:{f:q6},50:{f:Fje},62:{},52:{},67:{},68:{f:ts},69:{},86:{},126:{},127:{f:Aje},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Lje},223:{},234:{},354:{},421:{},518:{f:m2},521:{f:vw},536:{f:Z6},547:{f:X6},561:{},579:{},1030:{f:m2},1033:{f:vw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ut(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&DR(r)&&e.push(r)}}function ITe(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return ut(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<s;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Tv(e,t,r){return e||(e=Ie(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function MTe(e,t,r,n){var s=Ie(9);return Tv(s,e,t),AZ(r,n||"b",s),s}function FTe(e,t,r){var n=Ie(8+2*r.length);return Tv(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function LTe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?_s(mn(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?ut(e,2,Ije(r,n,s)):ut(e,3,Rje(r,n,s));return;case"b":case"e":ut(e,5,MTe(r,n,t.v,t.t));return;case"s":case"str":ut(e,4,FTe(r,n,(t.v||"").slice(0,255)));return}ut(e,1,Tv(null,r,n))}function $Te(e,t,r,n){var s=Array.isArray(t),i=xr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ar(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Dn(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=hn(d)),o=c[d]+l;var f=s?(t[u]||[])[d]:t[o];f&&LTe(e,f,u,d)}}}function BTe(e,t){for(var r=t||{},n=Ja(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ut(n,r.biff==4?1033:r.biff==3?521:9,WR(e,16,r)),$Te(n,e.Sheets[e.SheetNames[s]],s,r),ut(n,10),n.end()}function UTe(e,t,r){ut(e,49,I_e({sz:12,name:"Arial"},r))}function VTe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&ut(e,1054,U_e(s,t[s],r))})}function zTe(e,t){var r=Ie(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ut(e,2151,r),r=Ie(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),IZ(xr(t["!ref"]||"A1"),r),r.write_shift(4,4),ut(e,2152,r)}function WTe(e,t){for(var r=0;r<16;++r)ut(e,224,G6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ut(e,224,G6(n,0,t))})}function qTe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ut(e,440,pje(n)),n[1].Tooltip&&ut(e,2048,xje(n))}delete t["!links"]}function HTe(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&ut(e,125,jje(W_(s,n),s))})}}function GTe(e,t,r,n,s){var i=16+Hu(s.cellXfs,t,s);if(t.v==null&&!t.bf){ut(e,513,df(r,n,i));return}if(t.bf)ut(e,6,wke(t,r,n,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?_s(mn(t.v)):t.v;ut(e,515,J_e(r,n,o,i));break;case"b":case"e":ut(e,517,Z_e(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=QR(s.Strings,t.v,s.revStrings);ut(e,253,F_e(r,n,l,i))}else ut(e,516,$_e(r,n,(t.v||"").slice(0,255),i,s));break;default:ut(e,513,df(r,n,i))}}function KTe(e,t,r){var n=Ja(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",m=[],g=xr(i["!ref"]||"A1"),y=u?65536:16384;if(g.e.c>255||g.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,y-1)}ut(n,2057,WR(r,16,t)),ut(n,13,Xi(1)),ut(n,12,Xi(100)),ut(n,15,Pa(!0)),ut(n,17,Pa(!1)),ut(n,16,cf(.001)),ut(n,95,Pa(!0)),ut(n,42,Pa(!1)),ut(n,43,Pa(!1)),ut(n,130,Xi(1)),ut(n,128,X_e()),ut(n,131,Pa(!1)),ut(n,132,Pa(!1)),u&&HTe(n,i["!cols"]),ut(n,512,z_e(g,t)),u&&(i["!links"]=[]);for(var x=g.s.r;x<=g.e.r;++x){f=Dn(x);for(var v=g.s.c;v<=g.e.c;++v){x===g.s.r&&(m[v]=hn(v)),d=m[v]+f;var j=c?(i[x]||[])[v]:i[d];j&&(GTe(n,j,x,v,t),u&&j.l&&i["!links"].push([d,j.l]))}}var S=l.CodeName||l.name||s;return u&&ut(n,574,O_e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&ut(n,229,cje(i["!merges"])),u&&qTe(n,i),ut(n,442,PZ(S)),u&&zTe(n,i),ut(n,10),n.end()}function YTe(e,t,r){var n=Ja(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(ut(n,2057,WR(e,5,r)),r.bookType=="xla"&&ut(n,135),ut(n,225,l?Xi(1200):null),ut(n,193,Z1e(2)),c&&ut(n,191),c&&ut(n,192),ut(n,226),ut(n,92,y_e("SheetJS",r)),ut(n,66,Xi(l?1200:1252)),l&&ut(n,353,Xi(0)),l&&ut(n,448),ut(n,317,kje(e.SheetNames.length)),l&&e.vbaraw&&ut(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";ut(n,442,PZ(u))}ut(n,156,Xi(17)),ut(n,25,Pa(!1)),ut(n,18,Pa(!1)),ut(n,19,Xi(0)),l&&ut(n,431,Pa(!1)),l&&ut(n,444,Xi(0)),ut(n,61,A_e()),ut(n,64,Pa(!1)),ut(n,141,Xi(0)),ut(n,34,Pa(CCe(e)=="true")),ut(n,14,Pa(!0)),l&&ut(n,439,Pa(!1)),ut(n,218,Xi(0)),UTe(n,e,r),VTe(n,e.SSF,r),WTe(n,r),l&&ut(n,352,Pa(!1));var d=n.end(),f=Ja();l&&ut(f,140,yje()),l&&r.Strings&&ITe(f,252,S_e(r.Strings)),ut(f,10);var m=f.end(),g=Ja(),y=0,x=0;for(x=0;x<e.SheetNames.length;++x)y+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var v=d.length+y+m.length;for(x=0;x<e.SheetNames.length;++x){var j=i[x]||{};ut(g,133,__e({pos:v,hs:j.Hidden||0,dt:0,name:e.SheetNames[x]},r)),v+=t[x].length}var S=g.end();if(y!=S.length)throw new Error("BS8 "+y+" != "+S.length);var w=[];return d.length&&w.push(d),S.length&&w.push(S),m.length&&w.push(m),Is(w)}function XTe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Zr(zt)),e&&e.SSF&&(mp(),_v(e.SSF),r.revssf=L_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,sD(r),r.cellXfs=[],Hu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=KTe(s,r,e);return n.unshift(YTe(e,n,r)),Is(n)}function SQ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Fa(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return XTe(e,t);case 4:case 3:case 2:return BTe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function l8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,l=i&&i.index||e.length,c=Ibe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,m=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var x=c[o].trim(),v=x.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var j=x.split(/<\/t[dh]>/i);for(l=0;l<j.length;++l){var S=j[l].trim();if(S.match(/<t[dh]/i)){for(var w=S,T=0;w.charAt(0)=="<"&&(T=w.indexOf(">"))>-1;)w=w.slice(T+1);for(var E=0;E<y.length;++E){var N=y[E];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,E=-1)}var k=Kt(S.slice(0,S.indexOf(">")));m=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||m>1)&&y.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+m-1}});var R=k.t||k["data-t"]||"";if(!w.length){d+=m;continue}if(w=QX(w),g.s.r>u&&(g.s.r=u),g.e.r<u&&(g.e.r=u),g.s.c>d&&(g.s.c=d),g.e.c<d&&(g.e.c=d),!w.length){d+=m;continue}var A={t:"s",v:w};r.raw||!w.trim().length||R=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN($o(w))?isNaN(Nm(w).getDate())||(A={t:"d",v:mn(w)},r.cellDates||(A={t:"n",v:_s(A.v)}),A.z=r.dateNF||zt[14]):A={t:"n",v:$o(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=A):n[Ht({r:u,c:d})]=A,d+=m}}}}return n["!ref"]=ar(g),y.length&&(n["!merges"]=y),n}function NQ(e,t,r,n){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>r||s[u].s.c>o)&&!(s[u].e.r<r||s[u].e.c<o)){if(s[u].s.r<r||s[u].s.c<o){l=-1;break}l=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(l<0)){var d=Ht({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],m=f&&f.v!=null&&(f.h||ER(f.w||(bl(f),f.w)||""))||"",g={};l>1&&(g.rowspan=l),c>1&&(g.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(g["data-t"]=f&&f.t||"z",f.v!=null&&(g["data-v"]=f.v),f.z!=null&&(g["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),g.id=(n.id||"sjs")+"-"+d,i.push(ct("td",m,g))}}var y="<tr>";return y+i.join("")+"</tr>"}var kQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',EQ="</body></html>";function ZTe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return qu(l8(r[0],t),t);var n=cD();return r.forEach(function(s,i){uD(n,l8(s,t),"Sheet"+(i+1))}),n}function CQ(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function TQ(e,t){var r=t||{},n=r.header!=null?r.header:kQ,s=r.footer!=null?r.footer:EQ,i=[n],o=Fa(e["!ref"]);r.dense=Array.isArray(e),i.push(CQ(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(NQ(e,o,l,r));return i.push("</table>"+s),i.join("")}function AQ(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Nn(n.origin):n.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var d=Fa(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var f=[],m=0,g=e["!rows"]||(e["!rows"]=[]),y=0,x=0,v=0,j=0,S=0,w=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&x<c;++y){var T=l[y];if(c8(T)){if(n.display)continue;g[x]={hidden:!0}}var E=T.children;for(v=j=0;v<E.length;++v){var N=E[v];if(!(n.display&&c8(N))){var k=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):QX(N.innerHTML),R=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<f.length;++m){var A=f[m];A.s.c==j+i&&A.s.r<x+s&&x+s<=A.e.r&&(j=A.e.c+1-i,m=-1)}w=+N.getAttribute("colspan")||1,((S=+N.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:x+s,c:j+i},e:{r:x+s+(S||1)-1,c:j+i+(w||1)-1}});var I={t:"s",v:k},P=N.getAttribute("data-t")||N.getAttribute("t")||"";k!=null&&(k.length==0?I.t=P||"z":n.raw||k.trim().length==0||P=="s"||(k==="TRUE"?I={t:"b",v:!0}:k==="FALSE"?I={t:"b",v:!1}:isNaN($o(k))?isNaN(Nm(k).getDate())||(I={t:"d",v:mn(k)},n.cellDates||(I={t:"n",v:_s(I.v)}),I.z=n.dateNF||zt[14]):I={t:"n",v:$o(k)})),I.z===void 0&&R!=null&&(I.z=R);var D="",B=N.getElementsByTagName("A");if(B&&B.length)for(var U=0;U<B.length&&!(B[U].hasAttribute("href")&&(D=B[U].getAttribute("href"),D.charAt(0)!="#"));++U);D&&D.charAt(0)!="#"&&(I.l={Target:D}),n.dense?(e[x+s]||(e[x+s]=[]),e[x+s][j+i]=I):e[Ht({c:j+i,r:x+s})]=I,u.e.c<j+i&&(u.e.c=j+i),j+=w}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,x-1+s),e["!ref"]=ar(u),x>=c&&(e["!fullref"]=ar((u.e.r=l.length-y+x-1+s,u))),e}function PQ(e,t){var r=t||{},n=r.dense?[]:{};return AQ(n,e,t)}function QTe(e,t){return qu(PQ(e,t),t)}function c8(e){var t="",r=JTe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function JTe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function eAe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=kr(t.replace(/<[^>]*>/g,""));return[r]}var u8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function OQ(e,t){var r=t||{},n=CR(e),s=[],i,o,l={name:""},c="",u=0,d,f,m={},g=[],y=r.dense?[]:{},x,v,j={value:""},S="",w=0,T=[],E=-1,N=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,A={},I=[],P={},D=0,B=0,U=[],H=1,M=1,W=[],K={Names:[]},V={},z=["",""],G=[],F={},X="",Z=0,re=!1,ee=!1,ce=0;for(Kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Kg.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?y["!ref"]=ar(k):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(y["!fullref"]=y["!ref"],k.e.r=r.sheetRows-1,y["!ref"]=ar(k)),I.length&&(y["!merges"]=I),U.length&&(y["!rows"]=U),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),g.push(d.name),m[d.name]=y,ee=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=Kt(x[0],!1),E=N=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,y=r.dense?[]:{},I=[],U=[],ee=!0);break;case"table-row-group":x[1]==="/"?--R:++R;break;case"table-row":case"":if(x[1]==="/"){E+=H,H=1;break}if(f=Kt(x[0],!1),f.?E=f.-1:E==-1&&(E=0),H=+f["number-rows-repeated"]||1,H<10)for(ce=0;ce<H;++ce)R>0&&(U[E+ce]={level:R});N=-1;break;case"covered-table-cell":x[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(y[E]||(y[E]=[]),y[E][N]={t:"z"}):y[Ht({r:E,c:N})]={t:"z"}),S="",T=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++N,j=Kt(x[0],!1),M=parseInt(j["number-columns-repeated"]||"1",10),v={t:"z",v:null},j.formula&&r.cellFormula!=!1&&(v.f=a8(kr(j.formula))),(j.||j["value-type"])=="string"&&(v.t="s",v.v=kr(j["string-value"]||""),r.dense?(y[E]||(y[E]=[]),y[E][N]=v):y[Ht({r:E,c:N})]=v),N+=M-1;else if(x[1]!=="/"){++N,S="",w=0,T=[],M=1;var pe=H?E+H-1:E;if(N>k.e.c&&(k.e.c=N),N<k.s.c&&(k.s.c=N),E<k.s.r&&(k.s.r=E),pe>k.e.r&&(k.e.r=pe),j=Kt(x[0],!1),G=[],F={},v={t:j.||j["value-type"],v:null},r.cellFormula)if(j.formula&&(j.formula=kr(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(D=parseInt(j["number-matrix-rows-spanned"],10)||0,B=parseInt(j["number-matrix-columns-spanned"],10)||0,P={s:{r:E,c:N},e:{r:E+D-1,c:N+B-1}},v.F=ar(P),W.push([P,v.F])),j.formula)v.f=a8(j.formula);else for(ce=0;ce<W.length;++ce)E>=W[ce][0].s.r&&E<=W[ce][0].e.r&&N>=W[ce][0].s.c&&N<=W[ce][0].e.c&&(v.F=W[ce][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(D=parseInt(j["number-rows-spanned"],10)||0,B=parseInt(j["number-columns-spanned"],10)||0,P={s:{r:E,c:N},e:{r:E+D-1,c:N+B-1}},I.push(P)),j["number-columns-repeated"]&&(M=parseInt(j["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=fn(j["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(j.value);break;case"percentage":v.t="n",v.v=parseFloat(j.value);break;case"currency":v.t="n",v.v=parseFloat(j.value);break;case"date":v.t="d",v.v=mn(j["date-value"]),r.cellDates||(v.t="n",v.v=_s(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Obe(j["time-value"])/86400,r.cellDates&&(v.t="d",v.v=$_(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(j.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",j["string-value"]!=null&&(S=kr(j["string-value"]),T=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(re=!1,v.t==="s"&&(v.v=S||"",T.length&&(v.R=T),re=w==0),V.Target&&(v.l=V),G.length>0&&(v.c=G,G=[]),S&&r.cellText!==!1&&(v.w=S),re&&(v.t="z",delete v.v),(!re||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var Y=0;Y<H;++Y){if(M=parseInt(j["number-columns-repeated"]||"1",10),r.dense)for(y[E+Y]||(y[E+Y]=[]),y[E+Y][N]=Y==0?v:Zr(v);--M>0;)y[E+Y][N+M]=Zr(v);else for(y[Ht({r:E+Y,c:N})]=v;--M>0;)y[Ht({r:E+Y,c:N+M})]=Zr(v);k.e.c<=N&&(k.e.c=N)}M=parseInt(j["number-columns-repeated"]||"1",10),N+=M-1,M=0,v={},S="",T=[]}V={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i;F.t=S,T.length&&(F.R=T),F.a=X,G.push(F)}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);X="",Z=0,S="",w=0,T=[];break;case"creator":x[1]==="/"?X=n.slice(Z,x.index):Z=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);S="",w=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(A[l.name]=c,(i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Kt(x[0],!1),s.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Kt(x[0],!1),c+=u8[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Kt(x[0],!1),c+=u8[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":o=Kt(x[0],!1),z=p2(o["cell-range-address"]);var Q={Name:o.name,Ref:z[0]+"!"+z[1]};ee&&(Q.Sheet=g.length),K.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!j||!j["string-value"])){var ae=eAe(n.slice(w,x.index));S=(S.length>0?S+`
`:"")+ae[0]}else Kt(x[0],!1),w=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{z=p2(Kt(x[0])["target-range-address"]),m[z[0]]["!autofilter"]={ref:z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(V=Kt(x[0],!1),!V.href)break;V.Target=kr(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(z=p2(V.Target.slice(1)),V.Target="#"+z[0]+"!"+z[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var q={Sheets:m,SheetNames:g,Workbook:K};return r.bookSheets&&delete q.Sheets,q}function d8(e,t){t=t||{},Yi(e,"META-INF/manifest.xml")&&O1e(es(e,"META-INF/manifest.xml"),t);var r=vi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=OQ(qr(r),t);return Yi(e,"meta.xml")&&(n.Props=vZ(es(e,"meta.xml"))),n}function f8(e,t){return OQ(e,t)}var tAe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Gg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Xn+t}})(),h8=(function(){var e=function(i){return zr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+zr(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=Fa(i["!ref"]||"A1"),m=i["!merges"]||[],g=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var x="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)x=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=f.e.r;++u){for(x=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var j=!1,S={},w="";for(g=0;g!=m.length;++g)if(!(m[g].s.c>d)&&!(m[g].s.r>u)&&!(m[g].e.c<d)&&!(m[g].e.r<u)){(m[g].s.c!=d||m[g].s.r!=u)&&(j=!0),S["table:number-columns-spanned"]=m[g].e.c-m[g].s.c+1,S["table:number-rows-spanned"]=m[g].e.r-m[g].s.r+1;break}if(j){c.push(r);continue}var T=Ht({r:u,c:d}),E=y?(i[u]||[])[d]:i[T];if(E&&E.f&&(S["table:formula"]=zr(kke(E.f)),E.F&&E.F.slice(0,T.length)==T)){var N=Fa(E.F);S["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,S["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!E){c.push(t);continue}switch(E.t){case"b":w=E.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=E.v?"true":"false";break;case"n":w=E.w||String(E.v||0),S["office:value-type"]="float",S["office:value"]=E.v||0;break;case"s":case"str":w=E.v==null?"":E.v,S["office:value-type"]="string";break;case"d":w=E.w||mn(E.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=mn(E.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(w);if(E.l&&E.l.Target){var R=E.l.Target;R=R.charAt(0)=="#"?"#"+Eke(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),k=ct("text:a",k,{"xlink:href":R.replace(/&/g,"&amp;")})}c.push("          "+ct("table:table-cell",ct("text:p",k,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Pu(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Xn],u=Gg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Gg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(xZ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function RQ(e,t){if(t.bookType=="fods")return h8(e,t);var r=SR(),n="",s=[],i=[];return n="mimetype",or(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",or(r,n,h8(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",or(r,n,tAe(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",or(r,n,Xn+xZ()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",or(r,n,I1e(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",or(r,n,R1e(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ff(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cP(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):qr(Wu(e))}function rAe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):xi(ll(e))}function nAe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ru(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function m8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function sAe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,s=t+13;s>=t;--s)n=n*256+e[s];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function aAe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function tx(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function $r(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function In(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Tr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=tx(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=tx(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var u={data:l,type:i};t[s]==null?t[s]=[u]:t[s].push(u)}return t}function qs(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push($r(n*8+s.type)),s.type==2&&t.push($r(s.data.length)),t.push(s.data))})}),Ru(t)}function rD(e,t){return e?.map(function(r){return t(r.data)})||[]}function qi(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=tx(e,n),i=Tr(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:In(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Tr(l.data),u=In(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=In(i[3][0].data)>>>0>0),r.push(o)}return r}function Eh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:$r(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:$r(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:$r(o.data.length)}],n[2].push({data:qs(o.meta),type:2})});var i=qs(n);t.push($r(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),Ru(t)}function iAe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=tx(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Ru(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=Ru(s);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Hi(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(iAe(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ru(t)}function Ch(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=$r(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Ru(t)}function oAe(e,t,r,n){var s=ff(e),i=s.getUint32(4,!0),o=(n>1?12:8)+m8(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=s.getUint32(o,!0),o+=4),o+=m8(i&(n>1?12288:4096))*4,i&16&&(c=s.getUint32(o,!0),o+=4),i&32&&(u=s.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function lAe(e,t,r){var n=ff(e),s=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);s&1&&(c=sAe(e,i),i+=16),s&2&&(u=n.getFloat64(i,!0),i+=8),s&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=n.getUint32(i,!0),i+=4),s&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return f}function x2(e,t){var r=new Uint8Array(32),n=ff(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,aAe(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function v2(e,t){var r=new Uint8Array(32),n=ff(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function cAe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return oAe(e,t,r,e[0]);case 5:return lAe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ua(e){var t=Tr(e);return tx(t[1][0].data)}function p8(e,t){var r=Tr(t.data),n=In(r[1][0].data),s=r[3],i=[];return(s||[]).forEach(function(o){var l=Tr(o.data),c=In(l[1][0].data)>>>0;switch(n){case 1:i[c]=cP(l[3][0].data);break;case 8:{var u=e[ua(l[9][0].data)][0],d=Tr(u.data),f=e[ua(d[1][0].data)][0],m=In(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var g=Tr(f.data);i[c]=g[3].map(function(y){return cP(y.data)}).join("")}break}}),i}function uAe(e,t){var r,n,s,i,o,l,c,u,d,f,m,g,y,x,v=Tr(e),j=In(v[1][0].data)>>>0,S=In(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&In(v[8][0].data)>0||!1,T,E;if((i=(s=v[7])==null?void 0:s[0])!=null&&i.data&&t!=0)T=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,E=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)T=(g=(m=v[4])==null?void 0:m[0])==null?void 0:g.data,E=(x=(y=v[3])==null?void 0:y[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=w?4:1,k=ff(T),R=[],A=0;A<T.length/2;++A){var I=k.getUint16(A*2,!0);I<65535&&R.push([A,I])}if(R.length!=S)throw"Expected ".concat(S," cells, found ").concat(R.length);var P=[];for(A=0;A<R.length-1;++A)P[R[A][0]]=E.subarray(R[A][1]*N,R[A+1][1]*N);return R.length>=1&&(P[R[R.length-1][0]]=E.subarray(R[R.length-1][1]*N)),{R:j,cells:P}}function dAe(e,t){var r,n=Tr(t.data),s=(r=n?.[7])!=null&&r[0]?In(n[7][0].data)>>>0>0?1:0:-1,i=rD(n[5],function(o){return uAe(o,s)});return{nrows:In(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function fAe(e,t,r){var n,s=Tr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(In(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(In(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=ar(i);var o=Tr(s[4][0].data),l=p8(e,e[ua(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?p8(e,e[ua(o[17][0].data)][0]):[],u=Tr(o[3][0].data),d=0;u[1].forEach(function(f){var m=Tr(f.data),g=e[ua(m[2][0].data)][0],y=In(g.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var x=dAe(e,g);x.data.forEach(function(v,j){v.forEach(function(S,w){var T=Ht({r:d+j,c:w}),E=cAe(S,l,c);E&&(r[T]=E)})}),d+=x.nrows})}function hAe(e,t){var r=Tr(t.data),n={"!ref":"A1"},s=e[ua(r[2][0].data)],i=In(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return fAe(e,s[0],n),n}function mAe(e,t){var r,n=Tr(t.data),s={name:(r=n[1])!=null&&r[0]?cP(n[1][0].data):"",sheets:[]},i=rD(n[2],ua);return i.forEach(function(o){e[o].forEach(function(l){var c=In(l.meta[1][0].data);c==6e3&&s.sheets.push(hAe(e,l))})}),s}function pAe(e,t){var r=cD(),n=Tr(t.data),s=rD(n[1],ua);if(s.forEach(function(i){e[i].forEach(function(o){var l=In(o.meta[1][0].data);if(l==2){var c=mAe(e,o);c.sheets.forEach(function(u,d){uD(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function y2(e){var t,r,n,s,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Hi(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=qi(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((s=(n=(r=(t=i?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&In(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=In(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return pAe(i,l)}function gAe(e,t,r){var n,s,i,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&In(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=ff(e[7][0].data),d=0,f=[],m=ff(e[4][0].data),g=0,y=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}u.setUint16(x*2,d,!0),m.setUint16(x*2,g,!0);var v,j;switch(typeof t[x]){case"string":v=x2({t:"s",v:t[x]},r),j=v2({t:"s",v:t[x]},r);break;case"number":v=x2({t:"n",v:t[x]},r),j=v2({t:"n",v:t[x]},r);break;case"boolean":v=x2({t:"b",v:t[x]},r),j=v2({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(v),d+=v.length,y.push(j),g+=j.length,++c}for(e[2][0].data=$r(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=Ru(f),e[3][0].data=Ru(y),c}function xAe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fa(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(ar(n)));var i=Wb(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(Z){typeof Z=="string"&&o.push(Z)})});var l={},c=[],u=Pt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(X,Z){return[X,u.FullPaths[Z]]}).forEach(function(X){var Z=X[0],re=X[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var ee=Z.content,ce=Hi(ee),pe=qi(ce);pe.forEach(function(Y){c.push(Y.id),l[Y.id]={deps:[],location:re,type:In(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(X,Z){return X-Z});var d=c.filter(function(X){return X>1}).map(function(X){return[X,$r(X)]});u.FileIndex.map(function(X,Z){return[X,u.FullPaths[Z]]}).forEach(function(X){var Z=X[0];if(X[1],!!Z.name.match(/\.iwa/)){var re=qi(Hi(Z.content));re.forEach(function(ee){ee.messages.forEach(function(ce){d.forEach(function(pe){ee.messages.some(function(Y){return In(Y.meta[1][0].data)!=11006&&nAe(Y.data,pe[1])})&&l[pe[0]].deps.push(ee.id)})})})}});for(var f=Pt.find(u,l[1].location),m=qi(Hi(f.content)),g,y=0;y<m.length;++y){var x=m[y];x.id==1&&(g=x)}var v=ua(Tr(g.messages[0].data)[1][0].data);for(f=Pt.find(u,l[v].location),m=qi(Hi(f.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(g=x);for(v=ua(Tr(g.messages[0].data)[2][0].data),f=Pt.find(u,l[v].location),m=qi(Hi(f.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(g=x);for(v=ua(Tr(g.messages[0].data)[2][0].data),f=Pt.find(u,l[v].location),m=qi(Hi(f.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(g=x);var j=Tr(g.messages[0].data);{j[6][0].data=$r(n.e.r+1),j[7][0].data=$r(n.e.c+1);var S=ua(j[46][0].data),w=Pt.find(u,l[S].location),T=qi(Hi(w.content));{for(var E=0;E<T.length&&T[E].id!=S;++E);if(T[E].id!=S)throw"Bad ColumnRowUIDMapArchive";var N=Tr(T[E].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var k=0;k<=n.e.c;++k){var R=[];R[1]=R[2]=[{type:0,data:$r(k+420690)}],N[1].push({type:2,data:qs(R)}),N[2].push({type:0,data:$r(k)}),N[3].push({type:0,data:$r(k)})}N[4]=[],N[5]=[],N[6]=[];for(var A=0;A<=n.e.r;++A)R=[],R[1]=R[2]=[{type:0,data:$r(A+726270)}],N[4].push({type:2,data:qs(R)}),N[5].push({type:0,data:$r(A)}),N[6].push({type:0,data:$r(A)});T[E].messages[0].data=qs(N)}w.content=Ch(Eh(T)),w.size=w.content.length,delete j[46];var I=Tr(j[4][0].data);{I[7][0].data=$r(n.e.r+1);var P=Tr(I[1][0].data),D=ua(P[2][0].data);w=Pt.find(u,l[D].location),T=qi(Hi(w.content));{if(T[0].id!=D)throw"Bad HeaderStorageBucket";var B=Tr(T[0].messages[0].data);for(A=0;A<i.length;++A){var U=Tr(B[2][0].data);U[1][0].data=$r(A),U[4][0].data=$r(i[A].length),B[2][A]={type:B[2][0].type,data:qs(U)}}T[0].messages[0].data=qs(B)}w.content=Ch(Eh(T)),w.size=w.content.length;var H=ua(I[2][0].data);w=Pt.find(u,l[H].location),T=qi(Hi(w.content));{if(T[0].id!=H)throw"Bad HeaderStorageBucket";for(B=Tr(T[0].messages[0].data),k=0;k<=n.e.c;++k)U=Tr(B[2][0].data),U[1][0].data=$r(k),U[4][0].data=$r(n.e.r+1),B[2][k]={type:B[2][0].type,data:qs(U)};T[0].messages[0].data=qs(B)}w.content=Ch(Eh(T)),w.size=w.content.length;var M=ua(I[4][0].data);(function(){for(var X=Pt.find(u,l[M].location),Z=qi(Hi(X.content)),re,ee=0;ee<Z.length;++ee){var ce=Z[ee];ce.id==M&&(re=ce)}var pe=Tr(re.messages[0].data);{pe[3]=[];var Y=[];o.forEach(function(q,ke){Y[1]=[{type:0,data:$r(ke)}],Y[2]=[{type:0,data:$r(1)}],Y[3]=[{type:2,data:rAe(q)}],pe[3].push({type:2,data:qs(Y)})})}re.messages[0].data=qs(pe);var Q=Eh(Z),ae=Ch(Q);X.content=ae,X.size=X.content.length})();var W=Tr(I[3][0].data);{var K=W[1][0];delete W[2];var V=Tr(K.data);{var z=ua(V[2][0].data);(function(){for(var X=Pt.find(u,l[z].location),Z=qi(Hi(X.content)),re,ee=0;ee<Z.length;++ee){var ce=Z[ee];ce.id==z&&(re=ce)}var pe=Tr(re.messages[0].data);{delete pe[6],delete W[7];var Y=new Uint8Array(pe[5][0].data);pe[5]=[];for(var Q=0,ae=0;ae<=n.e.r;++ae){var q=Tr(Y);Q+=gAe(q,i[ae],o),q[1][0].data=$r(ae),pe[5].push({data:qs(q),type:2})}pe[1]=[{type:0,data:$r(n.e.c+1)}],pe[2]=[{type:0,data:$r(n.e.r+1)}],pe[3]=[{type:0,data:$r(Q)}],pe[4]=[{type:0,data:$r(n.e.r+1)}]}re.messages[0].data=qs(pe);var ke=Eh(Z),ye=Ch(ke);X.content=ye,X.size=X.content.length})()}K.data=qs(V)}I[3][0].data=qs(W)}j[4][0].data=qs(I)}g.messages[0].data=qs(j);var G=Eh(m),F=Ch(G);return f.content=F,f.size=f.content.length,u}function DQ(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function nD(e){DQ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function sD(e){DQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function vAe(e){return hr.WS.indexOf(e)>-1?"sheet":e==hr.CS?"chart":e==hr.DS?"dialog":e==hr.MS?"macro":e&&e.length?e:"sheet"}function yAe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,vAe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function wAe(e,t,r,n,s,i,o,l,c,u,d,f){try{i[n]=ng(vi(e,r,!0),t);var m=es(e,t),g;switch(l){case"sheet":g=HCe(m,t,s,c,i[n],u,d,f);break;case"chart":if(g=GCe(m,t,s,c,i[n],u,d,f),!g||!g["!drawel"])break;var y=U0(g["!drawel"].Target,t),x=Yg(y),v=DNe(vi(e,y,!0),ng(vi(e,x,!0),y)),j=U0(v,y),S=Yg(j);g=bCe(vi(e,j,!0),j,c,ng(vi(e,S,!0),j),u,g);break;case"macro":g=KCe(m,t,s,c,i[n],u,d,f);break;case"dialog":g=YCe(m,t,s,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=g;var w=[];i&&i[n]&&Fn(i[n]).forEach(function(T){var E="";if(i[n][T].Type==hr.CMNT){E=U0(i[n][T].Target,t);var N=JCe(es(e,E,!0),E,c);if(!N||!N.length)return;e8(g,N,!1)}i[n][T].Type==hr.TCMNT&&(E=U0(i[n][T].Target,t),w=w.concat(MNe(es(e,E,!0),c)))}),w&&w.length&&e8(g,w,!0,c.people||[])}catch(T){if(c.WTF)throw T}}function $i(e){return e.charAt(0)=="/"?e.slice(1):e}function IQ(e,t){if(mp(),t=t||{},nD(t),Yi(e,"META-INF/manifest.xml")||Yi(e,"objectdata.xml"))return d8(e,t);if(Yi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof y2<"u"){if(e.FileIndex)return y2(e);var r=Pt.utils.cfb_new();return b6(e).forEach(function(U){or(r,U,Fbe(e,U))}),y2(r)}throw new Error("Unsupported NUMBERS file")}if(!Yi(e,"[Content_Types].xml"))throw Yi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Yi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=b6(e),s=A1e(vi(e,"[Content_Types].xml")),i=!1,o,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",es(e,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!es(e,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(sg=[],s.sst)try{sg=QCe(es(e,$i(s.sst)),s.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&s.themes.length&&(c=ZCe(vi(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(u=XCe(es(e,$i(s.style)),s.style,c,t))}s.links.map(function(U){try{var H=ng(vi(e,Yg($i(U))),U);return tTe(es(e,$i(U)),H,U,t)}catch{}});var d=qCe(es(e,$i(s.workbooks[0])),s.workbooks[0],t),f={},m="";s.coreprops.length&&(m=es(e,$i(s.coreprops[0]),!0),m&&(f=vZ(m)),s.extprops.length!==0&&(m=es(e,$i(s.extprops[0]),!0),m&&F1e(m,f,t)));var g={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(m=vi(e,$i(s.custprops[0]),!0),m&&(g=$1e(m,t)));var y={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(H){return H.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(y.Props=f,y.Custprops=g),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var x={};t.bookDeps&&s.calcchain&&(x=eTe(es(e,$i(s.calcchain)),s.calcchain));var v=0,j={},S,w;{var T=d.Sheets;f.Worksheets=T.length,f.SheetNames=[];for(var E=0;E!=T.length;++E)f.SheetNames[E]=T[E].name}var N=i?"bin":"xml",k=s.workbooks[0].lastIndexOf("/"),R=(s.workbooks[0].slice(0,k+1)+"_rels/"+s.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");Yi(e,R)||(R="xl/_rels/workbook."+N+".rels");var A=ng(vi(e,R,!0),R.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=rTe(es(e,$i(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=LNe(es(e,$i(s.people[0])),t)),A&&(A=yAe(A,d.Sheets));var I=es(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(A&&A[v]?(S="xl/"+A[v][1].replace(/[\/]?xl\//,""),Yi(e,S)||(S=A[v][1]),Yi(e,S)||(S=R.replace(/_rels\/.*$/,"")+A[v][1]),P=A[v][2]):(S="xl/worksheets/sheet"+(v+1-I)+"."+N,S=S.replace(/sheet0\./,"sheet.")),w=S.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var D=!1,B=0;B!=t.sheets.length;++B)typeof t.sheets[B]=="number"&&t.sheets[B]==v&&(D=1),typeof t.sheets[B]=="string"&&t.sheets[B].toLowerCase()==f.SheetNames[v].toLowerCase()&&(D=1);if(!D)continue e}}wAe(e,S,w,f.SheetNames[v],v,j,o,P,t,d,c,u)}return y={Directory:s,Workbook:d,Props:f,Custprops:g,Deps:x,Sheets:o,SheetNames:f.SheetNames,Strings:sg,Styles:u,Themes:c,SSF:Zr(zt)},t&&t.bookFiles&&(e.files?(y.keys=n,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(U,H){U=U.replace(/^Root Entry[\/]/,""),y.keys.push(U),y.files[U]=e.FileIndex[H]}))),t&&t.bookVBA&&(s.vba.length>0?y.vbaraw=es(e,$i(s.vba[0]),!0):s.defaults&&s.defaults.bin===HNe&&(y.vbaraw=es(e,"xl/vbaProject.bin",!0))),y}function bAe(e,t){var r=t||{},n="Workbook",s=Pt.find(e,n);try{if(n="/!DataSpaces/Version",s=Pt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(nSe(s.content),n="/!DataSpaces/DataSpaceMap",s=Pt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=aSe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Pt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=iSe(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Pt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);lSe(s.content)}catch{}if(n="/EncryptionInfo",s=Pt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=cSe(s.content);if(n="/EncryptedPackage",s=Pt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function _Ae(e,t){return t.bookType=="ods"?RQ(e,t):t.bookType=="numbers"?xAe(e,t):t.bookType=="xlsb"?jAe(e,t):MQ(e,t)}function jAe(e,t){Uh=1024,e&&!e.SSF&&(e.SSF=Zr(zt)),e&&e.SSF&&(mp(),_v(e.SSF),t.revssf=L_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ag?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=nQ.indexOf(t.bookType)>-1,s=VR();sD(t=t||{});var i=SR(),o="",l=0;if(t.cellXfs=[],Hu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",or(i,o,yZ(e.Props,t)),s.coreprops.push(o),Ur(t.rels,2,o,hr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,or(i,o,_Z(e.Props)),s.extprops.push(o),Ur(t.rels,3,o,hr.EXT_PROPS),e.Custprops!==e.Props&&Fn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",or(i,o,jZ(e.Custprops)),s.custprops.push(o),Ur(t.rels,4,o,hr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,or(i,o,sTe(l-1,o,t,e,d)),s.sheets.push(o),Ur(t.wbrels,-1,"worksheets/sheet"+l+"."+r,hr.WS[0])}if(f){var g=f["!comments"],y=!1,x="";g&&g.length>0&&(x="xl/comments"+l+"."+r,or(i,x,oTe(g,x)),s.comments.push(x),Ur(d,-1,"../comments"+l+"."+r,hr.CMNT),y=!0),f["!legacy"]&&y&&or(i,"xl/drawings/vmlDrawing"+l+".vml",tQ(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&or(i,Yg(o),om(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,or(i,o,iTe(t.Strings,o,t)),s.strs.push(o),Ur(t.wbrels,-1,"sharedStrings."+r,hr.SST)),o="xl/workbook."+r,or(i,o,nTe(e,o)),s.workbooks.push(o),Ur(t.rels,1,o,hr.WB),o="xl/theme/theme1.xml",or(i,o,KR(e.Themes,t)),s.themes.push(o),Ur(t.wbrels,-1,"theme/theme1.xml",hr.THEME),o="xl/styles."+r,or(i,o,aTe(e,o,t)),s.styles.push(o),Ur(t.wbrels,-1,"styles."+r,hr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",or(i,o,e.vbaraw),s.vba.push(o),Ur(t.wbrels,-1,"vbaProject.bin",hr.VBA)),o="xl/metadata."+r,or(i,o,lTe(o)),s.metadata.push(o),Ur(t.wbrels,-1,"metadata."+r,hr.XLMETA),or(i,"[Content_Types].xml",gZ(s,t)),or(i,"_rels/.rels",om(t.rels)),or(i,"xl/_rels/workbook."+r+".rels",om(t.wbrels)),delete t.revssf,delete t.ssf,i}function MQ(e,t){Uh=1024,e&&!e.SSF&&(e.SSF=Zr(zt)),e&&e.SSF&&(mp(),_v(e.SSF),t.revssf=L_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ag?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=nQ.indexOf(t.bookType)>-1,s=VR();sD(t=t||{});var i=SR(),o="",l=0;if(t.cellXfs=[],Hu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",or(i,o,yZ(e.Props,t)),s.coreprops.push(o),Ur(t.rels,2,o,hr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,or(i,o,_Z(e.Props)),s.extprops.push(o),Ur(t.rels,3,o,hr.EXT_PROPS),e.Custprops!==e.Props&&Fn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",or(i,o,jZ(e.Custprops)),s.custprops.push(o),Ur(t.rels,4,o,hr.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,or(i,o,mQ(l-1,t,e,f)),s.sheets.push(o),Ur(t.wbrels,-1,"worksheets/sheet"+l+"."+r,hr.WS[0])}if(m){var y=m["!comments"],x=!1,v="";if(y&&y.length>0){var j=!1;y.forEach(function(S){S[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(v="xl/threadedComments/threadedComment"+l+"."+r,or(i,v,FNe(y,d,t)),s.threadedcomments.push(v),Ur(f,-1,"../threadedComments/threadedComment"+l+"."+r,hr.TCMNT)),v="xl/comments"+l+"."+r,or(i,v,rQ(y)),s.comments.push(v),Ur(f,-1,"../comments"+l+"."+r,hr.CMNT),x=!0}m["!legacy"]&&x&&or(i,"xl/drawings/vmlDrawing"+l+".vml",tQ(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&or(i,Yg(o),om(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,or(i,o,zZ(t.Strings,t)),s.strs.push(o),Ur(t.wbrels,-1,"sharedStrings."+r,hr.SST)),o="xl/workbook."+r,or(i,o,wQ(e)),s.workbooks.push(o),Ur(t.rels,1,o,hr.WB),o="xl/theme/theme1.xml",or(i,o,KR(e.Themes,t)),s.themes.push(o),Ur(t.wbrels,-1,"theme/theme1.xml",hr.THEME),o="xl/styles."+r,or(i,o,ZZ(e,t)),s.styles.push(o),Ur(t.wbrels,-1,"styles."+r,hr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",or(i,o,e.vbaraw),s.vba.push(o),Ur(t.wbrels,-1,"vbaProject.bin",hr.VBA)),o="xl/metadata."+r,or(i,o,eQ()),s.metadata.push(o),Ur(t.wbrels,-1,"metadata."+r,hr.XLMETA),d.length>1&&(o="xl/persons/person.xml",or(i,o,$Ne(d)),s.people.push(o),Ur(t.wbrels,-1,"persons/person.xml",hr.PEOPLE)),or(i,"[Content_Types].xml",gZ(s,t)),or(i,"_rels/.rels",om(t.rels)),or(i,"xl/_rels/workbook."+r+".rels",om(t.wbrels)),delete t.revssf,delete t.ssf,i}function aD(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ti(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function SAe(e,t){return Pt.find(e,"EncryptedPackage")?bAe(e,t):tD(e,t)}function NAe(e,t){var r,n=e,s=t||{};return s.type||(s.type=dr&&Buffer.isBuffer(e)?"buffer":"base64"),r=YX(n,s),IQ(r,s)}function FQ(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return oP(e.slice(r),t);default:break e}return km.to_workbook(e,t)}function kAe(e,t){var r="",n=aD(e,t);switch(t.type){case"base64":r=Ti(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=lf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=qr(r)),t.type="binary",FQ(r,t)}function EAe(e,t){var r=e;return t.type=="base64"&&(r=Ti(r)),r=br.utils.decode(1200,r.slice(2),"str"),t.type="binary",FQ(r,t)}function CAe(e){return e.match(/[^\x00-\x7F]/)?ll(e):e}function w2(e,t,r,n){return n?(r.type="string",km.to_workbook(e,r)):km.to_workbook(t,r)}function zb(e,t){M_();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return zb(new Uint8Array(e),(r=Zr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,s=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),cm={},r.dateNF&&(cm.dateNF=r.dateNF),r.type||(r.type=dr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=dr?"buffer":"binary",n=Tbe(e),typeof Uint8Array<"u"&&!dr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=CAe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Zr(r),r.type="array",zb(wR(n),r)}switch((s=aD(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return SAe(Pt.read(n,r),r);break;case 9:if(s[1]<=8)return tD(n,r);break;case 60:return oP(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return Bje(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return UZ.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?NAe(n,r):w2(e,n,r,i);case 239:return s[3]===60?oP(n,r):w2(e,n,r,i);case 255:if(s[1]===254)return EAe(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return Ud.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Ud.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return iP.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return KZ.to_workbook(n,r);break;case 10:case 13:case 32:return kAe(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return $je.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?iP.to_workbook(n,r):w2(e,n,r,i)}function g8(e,t){var r=t||{};return r.type="file",zb(e,r)}function LQ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return jv(t.file,Pt.write(e,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Pt.write(e,t)}function TAe(e,t){var r=Zr(t||{}),n=_Ae(e,r);return $Q(n,r)}function AAe(e,t){var r=Zr(t||{}),n=MQ(e,r);return $Q(n,r)}function $Q(e,t){var r={},n=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Pt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(bv(s))}return t.password&&typeof encrypt_agile<"u"?LQ(encrypt_agile(s,t.password),t):t.type==="file"?jv(t.file,s):t.type=="string"?qr(s):s}function PAe(e,t){var r=t||{},n=DTe(e,r);return LQ(n,r)}function nl(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Wg(ll(n));case"binary":return ll(n);case"string":return e;case"file":return jv(t.file,n,"utf8");case"buffer":return dr?yc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):nl(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function OAe(e,t){switch(t.type){case"base64":return Wg(e);case"binary":return e;case"string":return e;case"file":return jv(t.file,e,"binary");case"buffer":return dr?yc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _w(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Wg(r):t.type=="string"?qr(r):r;case"file":return jv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function iD(e,t){M_(),yQ(e);var r=Zr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=iD(e,r);return r.type="array",bv(n)}return AAe(e,r)}function q_(e,t){M_(),yQ(e);var r=Zr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=q_(e,r);return r.type="array",bv(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return nl(ETe(e,r),r);case"slk":case"sylk":return nl(BZ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return nl(TQ(e.Sheets[e.SheetNames[s]],r),r);case"txt":return OAe(VQ(e.Sheets[e.SheetNames[s]],r),r);case"csv":return nl(lD(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return nl(UZ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return _w(iP.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return nl(km.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return nl(KZ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return nl(VZ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return nl(RQ(e,r),r);case"wk1":return _w(Ud.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return _w(Ud.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),_w(SQ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),PAe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return TAe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function oD(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function hf(e,t,r){var n=r||{};return n.type="file",n.file=t,oD(n),q_(e,n)}function RAe(e,t,r){var n=r||{};return n.type="file",n.file=t,oD(n),iD(e,n)}function DAe(e,t,r,n){var s=r||{};s.type="file",s.file=e,oD(s),s.type="buffer";var i=n;return i instanceof Function||(i=r),uu.writeFile(e,q_(t,s),i)}function BQ(e,t,r,n,s,i,o,l){var c=Dn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var g=t.s.c;g<=t.e.c;++g){var y=o?e[r][g]:e[n[g]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[g]!=null&&(m[i[g]]=u);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[g]!=null){if(x==null)if(y.t=="e"&&x===null)m[i[g]]=null;else if(u!==void 0)m[i[g]]=u;else if(d&&x===null)m[i[g]]=null;else continue;else m[i[g]]=d&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?x:bl(y,x,l);x!=null&&(f=!1)}}return{row:m,isempty:f}}function Wb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=xr(d);break;case"number":c=xr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(s=0);var f=Dn(c.s.r),m=[],g=[],y=0,x=0,v=Array.isArray(e),j=c.s.r,S=0,w={};v&&!e[j]&&(e[j]=[]);var T=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(T[S]||{}).hidden)switch(m[S]=hn(S),r=v?e[j][S]:e[m[S]+f],n){case 1:i[S]=S-c.s.c;break;case 2:i[S]=m[S];break;case 3:i[S]=u.header[S-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=bl(r,null,u),x=w[o]||0,!x)w[o]=1;else{do l=o+"_"+x++;while(w[l]);w[o]=x,w[l]=1}i[S]=l}for(j=c.s.r+s;j<=c.e.r;++j)if(!(E[j]||{}).hidden){var N=BQ(e,c,j,m,n,i,v,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[y++]=N.row)}return g.length=y,g}var x8=/"/g;function UQ(e,t,r,n,s,i,o,l){for(var c=!0,u=[],d="",f=Dn(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var g=l.dense?(e[r]||[])[m]:e[n[m]+f];if(g==null)d="";else if(g.v!=null){c=!1,d=""+(l.rawNumbers&&g.t=="n"?g.v:bl(g,null,l));for(var y=0,x=0;y!==d.length;++y)if((x=d.charCodeAt(y))===s||x===i||x===34||l.forceQuotes){d='"'+d.replace(x8,'""')+'"';break}d=="ID"&&(d='"ID"')}else g.f!=null&&!g.F?(c=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace(x8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function lD(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=xr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(m[y]||{}).hidden||(f[y]=hn(y));for(var x=0,v=s.s.r;v<=s.e.r;++v)(g[v]||{}).hidden||(d=UQ(e,s,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((x++?l:"")+d)));return delete n.dense,r.join("")}function VQ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=lD(e,t);if(typeof br>"u"||t.type=="string")return r;var n=br.utils.encode(1200,r,"str");return""+n}function IAe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=xr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=hn(l);for(var d=s.s.r;d<=s.e.r;++d)for(i=Dn(d),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function zQ(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Nn(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var f=xr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+s)}else o==-1&&(o=0,d.e.r=t.length-1+s);var m=n.header||[],g=0;t.forEach(function(x,v){Fn(x).forEach(function(j){(g=m.indexOf(j))==-1&&(m[g=m.length]=j);var S=x[j],w="z",T="",E=Ht({c:l+g,r:o+v+s});u=rx(i,E),S&&typeof S=="object"&&!(S instanceof Date)?i[E]=S:(typeof S=="number"?w="n":typeof S=="boolean"?w="b":typeof S=="string"?w="s":S instanceof Date?(w="d",n.cellDates||(w="n",S=_s(S)),T=n.dateNF||zt[14]):S===null&&n.nullError&&(w="e",S=0),u?(u.t=w,u.v=S,delete u.w,delete u.R,T&&(u.z=T)):i[E]=u={t:w,v:S},T&&(u.z=T))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var y=Dn(o);if(s)for(g=0;g<m.length;++g)i[hn(g+l)+y]={t:"s",v:m[g]};return i["!ref"]=ar(d),i}function MAe(e,t){return zQ(null,e,t)}function rx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Nn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?rx(e,Ht(t)):rx(e,Ht({r:t,c:r||0}))}function FAe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function cD(){return{SheetNames:[],Sheets:{}}}function uD(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(vQ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function LAe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=FAe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function $Ae(e,t){return e.z=t,e}function WQ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function BAe(e,t,r){return WQ(e,"#"+t,r)}function UAe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function VAe(e,t,r,n){for(var s=typeof t!="string"?t:xr(t),i=typeof t=="string"?t:ar(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=rx(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var os={encode_col:hn,encode_row:Dn,encode_cell:Ht,encode_range:ar,decode_col:MR,decode_row:IR,split_cell:o1e,decode_cell:Nn,decode_range:Fa,format_cell:bl,sheet_add_aoa:cZ,sheet_add_json:zQ,sheet_add_dom:AQ,aoa_to_sheet:gp,json_to_sheet:MAe,table_to_sheet:PQ,table_to_book:QTe,sheet_to_csv:lD,sheet_to_txt:VQ,sheet_to_json:Wb,sheet_to_html:TQ,sheet_to_formulae:IAe,sheet_to_row_object_array:Wb,sheet_get_cell:rx,book_new:cD,book_append_sheet:uD,book_set_sheet_visibility:LAe,cell_set_number_format:$Ae,cell_set_hyperlink:WQ,cell_set_internal_link:BAe,cell_add_comment:UAe,sheet_set_array_formula:VAe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},H_;function zAe(e){H_=e}function WAe(e,t){var r=H_(),n=t??{};if(e==null||e["!ref"]==null)return r.push(null),r;var s=xr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(m[y]||{}).hidden||(f[y]=hn(y));var x=s.s.r,v=!1,j=0;return r._read=function(){if(!v)return v=!0,r.push("\uFEFF");for(;x<=s.e.r;)if(++x,!(g[x-1]||{}).hidden&&(d=UQ(e,s,x-1,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),d||n.blankrows!==!1)))return r.push((j++?l:"")+d);return r.push(null)},r}function qAe(e,t){var r=H_(),n=t||{},s=n.header!=null?n.header:kQ,i=n.footer!=null?n.footer:EQ;r.push(s);var o=Fa(e["!ref"]);n.dense=Array.isArray(e),r.push(CQ(e,o,n));var l=o.s.r,c=!1;return r._read=function(){if(l>o.e.r)return c||(c=!0,r.push("</table>"+i)),r.push(null);for(;l<=o.e.r;){r.push(NQ(e,o,l,n)),++l;break}},r}function HAe(e,t){var r=H_({objectMode:!0});if(e==null||e["!ref"]==null)return r.push(null),r;var n={t:"n",v:0},s=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)&&(s=3),typeof f){case"string":u=xr(f);break;case"number":u=xr(e["!ref"]),u.s.r=f;break;default:u=f}s>0&&(i=0);var m=Dn(u.s.r),g=[],y=0,x=Array.isArray(e),v=u.s.r,j=0,S={};x&&!e[v]&&(e[v]=[]);var w=d.skipHidden&&e["!cols"]||[],T=d.skipHidden&&e["!rows"]||[];for(j=u.s.c;j<=u.e.c;++j)if(!(w[j]||{}).hidden)switch(g[j]=hn(j),n=x?e[v][j]:e[g[j]+m],s){case 1:o[j]=j-u.s.c;break;case 2:o[j]=g[j];break;case 3:o[j]=d.header[j-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=bl(n,null,d),y=S[l]||0,!y)S[l]=1;else{do c=l+"_"+y++;while(S[c]);S[l]=y,S[c]=1}o[j]=c}return v=u.s.r+i,r._read=function(){for(;v<=u.e.r;)if(!(T[v-1]||{}).hidden){var E=BQ(e,u,v,g,s,o,x,d);if(++v,E.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows)){r.push(E.row);return}}return r.push(null)},r}var GAe={to_json:HAe,to_html:qAe,to_csv:WAe,set_readable:zAe};const KAe=zg.version,qQ=Object.freeze(Object.defineProperty({__proto__:null,CFB:Pt,SSF:zX,parse_xlscfb:tD,parse_zip:IQ,read:zb,readFile:g8,readFileSync:g8,set_cptable:Qwe,set_fs:Ebe,stream:GAe,utils:os,version:KAe,write:q_,writeFile:hf,writeFileAsync:DAe,writeFileSync:hf,writeFileXLSX:RAe,writeXLSX:iD},Symbol.toStringTag,{value:"Module"}));var YAe="Separator",v8="horizontal",XAe=["horizontal","vertical"],HQ=_.forwardRef((e,t)=>{const{decorative:r,orientation:n=v8,...s}=e,i=ZAe(n)?n:v8,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(xt.div,{"data-orientation":i,...l,...s,ref:t})});HQ.displayName=YAe;function ZAe(e){return XAe.includes(e)}var GQ=HQ;const Pd=_.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(GQ,{ref:s,decorative:r,orientation:t,className:Je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Pd.displayName=GQ.displayName;function QAe({order:e,open:t,onClose:r}){if(!e)return null;const n=o=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(o),s=o=>new Date(o).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"}),i=o=>new Date(o).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});return a.jsx(Hn,{open:t,onOpenChange:r,children:a.jsxs(Pn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(On,{children:a.jsxs(Rn,{children:["Order Details - ",e.order_number]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(sb,{className:"h-4 w-4"}),"Customer Information"]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(sb,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:e.customer_name})]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Su,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.customer_phone})]}),e.customer_email&&a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Yd,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.customer_email})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(ip,{className:"h-4 w-4"}),"Delivery Information"]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Address:"})," ",e.delivery_address]}),e.delivery_landmark&&a.jsxs("p",{children:[a.jsx("strong",{children:"Landmark:"})," ",e.delivery_landmark]}),e.delivery_pincode&&a.jsxs("p",{children:[a.jsx("strong",{children:"PIN Code:"})," ",e.delivery_pincode]}),e.delivery_time&&a.jsxs("p",{children:[a.jsx("strong",{children:"Delivery Time:"})," ",e.delivery_time]}),e.delivery_latitude&&e.delivery_longitude&&a.jsxs("p",{children:[a.jsx("strong",{children:"Location:"})," ",a.jsx("a",{href:`https://www.google.com/maps?q=${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Map"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(ya,{className:"h-4 w-4"}),"Order Items"]}),a.jsx("div",{className:"space-y-3",children:Array.isArray(e.items)&&e.items.map((o,l)=>a.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[o.productImage&&a.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-cover rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:o.productName}),o.variant&&a.jsx("p",{className:"text-sm text-muted-foreground",children:o.variant}),a.jsxs("p",{className:"text-sm",children:[n(o.price),"  ",o.quantity," = ",n(o.price*o.quantity)]})]})]},l))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Order Summary"}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:n(e.subtotal)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Delivery Charge:"}),a.jsx("span",{children:e.delivery_charge>0?n(e.delivery_charge):"FREE"})]}),a.jsx(Pd,{}),a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{className:"text-primary",children:n(e.total)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Payment Method:"}),a.jsx(vt,{variant:"outline",children:e.payment_method.toUpperCase()})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Status:"}),a.jsx(vt,{children:e.status})]})]})]}),e.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"bg-muted p-3 rounded-lg",children:e.notes})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(rc,{className:"h-4 w-4"}),"Order Timeline"]}),a.jsx("div",{className:"bg-muted p-4 rounded-lg",children:a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["Placed on ",s(e.created_at)," at ",i(e.created_at)]})]})})]})]})]})})}function JAe({order:e,open:t,onClose:r,onSave:n}){const[s,i]=_.useState({}),[o,l]=_.useState(!1);if(_.useEffect(()=>{e&&i({customer_name:e.customer_name,customer_phone:e.customer_phone,customer_email:e.customer_email,delivery_address:e.delivery_address,delivery_landmark:e.delivery_landmark,delivery_pincode:e.delivery_pincode,delivery_time:e.delivery_time,status:e.status,payment_method:e.payment_method,notes:e.notes})},[e]),!e)return null;const c=async()=>{l(!0);try{await n(e.id,s),r()}finally{l(!1)}};return a.jsx(Hn,{open:t,onOpenChange:r,children:a.jsxs(Pn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(On,{children:a.jsxs(Rn,{children:["Edit Order - ",e.order_number]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"customer_name",children:"Customer Name"}),a.jsx(De,{id:"customer_name",value:s.customer_name||"",onChange:u=>i({...s,customer_name:u.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"customer_phone",children:"Phone"}),a.jsx(De,{id:"customer_phone",value:s.customer_phone||"",onChange:u=>i({...s,customer_phone:u.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"customer_email",children:"Email (Optional)"}),a.jsx(De,{id:"customer_email",type:"email",value:s.customer_email||"",onChange:u=>i({...s,customer_email:u.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"delivery_address",children:"Delivery Address"}),a.jsx(Js,{id:"delivery_address",value:s.delivery_address||"",onChange:u=>i({...s,delivery_address:u.target.value}),rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"delivery_landmark",children:"Landmark (Optional)"}),a.jsx(De,{id:"delivery_landmark",value:s.delivery_landmark||"",onChange:u=>i({...s,delivery_landmark:u.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"delivery_pincode",children:"PIN Code"}),a.jsx(De,{id:"delivery_pincode",value:s.delivery_pincode||"",onChange:u=>i({...s,delivery_pincode:u.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"delivery_time",children:"Delivery Time"}),a.jsx(De,{id:"delivery_time",value:s.delivery_time||"",onChange:u=>i({...s,delivery_time:u.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"status",children:"Order Status"}),a.jsxs(_r,{value:s.status,onValueChange:u=>i({...s,status:u}),children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"new",children:"New"}),a.jsx(Me,{value:"processing",children:"Processing"}),a.jsx(Me,{value:"delivered",children:"Delivered"}),a.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"payment_method",children:"Payment Method"}),a.jsxs(_r,{value:s.payment_method,onValueChange:u=>i({...s,payment_method:u}),children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"cod",children:"Cash on Delivery"}),a.jsx(Me,{value:"online",children:"Online Payment"}),a.jsx(Me,{value:"card",children:"Card"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"notes",children:"Notes (Optional)"}),a.jsx(Js,{id:"notes",value:s.notes||"",onChange:u=>i({...s,notes:u.target.value}),rows:3,placeholder:"Add any additional notes..."})]})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),a.jsx(le,{onClick:c,disabled:o,children:o?"Saving...":"Save Changes"})]})]})})}const ePe=()=>{const e=nr(),[t,r]=_.useState([]),[n,s]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState("all"),[f,m]=_.useState(new Date),[g,y]=_.useState(null),[x,v]=_.useState(!1),[j,S]=_.useState(!1),[w,T]=_.useState(0),[E,N]=_.useState(null),[k,R]=_.useState("");_.useEffect(()=>{A()},[]);const A=async()=>{const{data:{session:ee}}=await ne.auth.getSession();if(!ee){e("/admin/login");return}await I()},I=async()=>{try{s(!0);const{data:{user:ee}}=await ne.auth.getUser();if(!ee)return;const{data:ce}=await ne.from("stores").select("id").eq("user_id",ee.id).single();if(!ce)return;const{data:pe}=await ne.from("subscriptions").select(`
          subscription_plans (
            name,
            orders_view_limit
          )
        `).eq("user_id",ee.id).maybeSingle();let Y=null;if(pe?.subscription_plans?.orders_view_limit){const xe=pe.subscription_plans.orders_view_limit;Y=xe===999999?null:xe}R(pe?.subscription_plans?.name||""),N(Y);const{count:Q}=await ne.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",ce.id);T(Q||0);let ae=ne.from("orders").select("*").eq("store_id",ce.id).order("created_at",{ascending:!0});Y!==null&&(ae=ae.limit(Y));const{data:q,error:ke}=await ae;if(ke)throw ke;const ye=(q||[]).reverse();r(ye),m(new Date)}catch(ee){Ve({title:"Error",description:ee.message,variant:"destructive"})}finally{s(!1)}},P=()=>{let ee=t;if(i&&(ee=ee.filter(ce=>ce.customer_name.toLowerCase().includes(i.toLowerCase())||ce.customer_phone.includes(i)||ce.order_number.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(ee=ee.filter(ce=>ce.status===l)),u!=="all"){const ce=new Date,pe=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate());ee=ee.filter(Y=>{const Q=new Date(Y.created_at),ae=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate());switch(u){case"today":return ae.getTime()===pe.getTime();case"yesterday":const q=new Date(pe);return q.setDate(q.getDate()-1),ae.getTime()===q.getTime();case"last7days":const ke=new Date(pe);return ke.setDate(ke.getDate()-7),ae>=ke;case"last30days":const ye=new Date(pe);return ye.setDate(ye.getDate()-30),ae>=ye;default:return!0}})}return ee},D=ee=>{const ce={new:{label:"New",variant:"default",icon:Gn},processing:{label:"Processing",variant:"secondary",icon:ya},delivered:{label:"Delivered",variant:"default",icon:to},cancelled:{label:"Cancelled",variant:"destructive",icon:Qs}},pe=ce[ee]||ce.new,Y=pe.icon;return a.jsxs(vt,{variant:pe.variant,className:"flex items-center gap-1",children:[a.jsx(Y,{className:"h-3 w-3"}),pe.label]})},B=ee=>new Date(ee).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),U=ee=>new Date(ee).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),H=ee=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(ee),M=(ee,ce)=>{const pe=t.filter(q=>{const ke=new Date(q.created_at),ye=ke.toLocaleDateString("en-US",{month:"long"}),xe=ke.getFullYear().toString();return ye===ee&&xe===ce});if(pe.length===0){Ve({title:"No Orders",description:`No orders found for ${ee} ${ce}`,variant:"destructive"});return}const Y=pe.map(q=>({"Order Number":q.order_number,Date:B(q.created_at),Time:U(q.created_at),"Customer Name":q.customer_name,Phone:q.customer_phone,Email:q.customer_email||"N/A",Address:q.delivery_address,"Items Count":Array.isArray(q.items)?q.items.length:0,Items:Array.isArray(q.items)?q.items.map(ke=>`${ke.name} (${ke.quantity}x)`).join(", "):"N/A",Amount:q.total,"Payment Method":q.payment_method,Status:q.status})),Q=os.json_to_sheet(Y),ae=os.book_new();os.book_append_sheet(ae,Q,`${ee}_${ce}`),hf(ae,`Orders_${ee}_${ce}.xlsx`),Ve({title:"Export Successful",description:`Downloaded ${pe.length} orders for ${ee} ${ce}`})},W=()=>{const ee=new Date;return{month:ee.toLocaleDateString("en-US",{month:"long"}),year:ee.getFullYear().toString()}},K=()=>{const ee=new Date;return ee.setMonth(ee.getMonth()-1),{month:ee.toLocaleDateString("en-US",{month:"long"}),year:ee.getFullYear().toString()}},V=ee=>{y(ee),v(!0)},z=ee=>{y(ee),S(!0)},G=async(ee,ce)=>{try{const{error:pe}=await ne.from("orders").update(ce).eq("id",ee);if(pe)throw pe;Ve({title:"Success",description:"Order updated successfully"}),I()}catch(pe){Ve({title:"Error",description:pe.message,variant:"destructive"})}},F=async ee=>{await G(ee.id,{status:"delivered"})},X=async ee=>{await G(ee.id,{status:"cancelled"})},Z=P(),re=t.filter(ee=>{const ce=new Date;return new Date(ee.created_at).toDateString()===ce.toDateString()});return a.jsx(Si,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",children:["Orders Management",E!==null&&w>0&&a.jsxs("span",{className:"text-muted-foreground text-xl ml-2",children:["(Showing ",Math.min(t.length,E)," of ",w,")"]})]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage customer orders (Auto-cleanup: Orders older than 2 months)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{onClick:()=>{const ee=K();M(ee.month,ee.year)},variant:"outline",size:"sm",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export Previous Month"]}),a.jsxs(le,{onClick:()=>{const ee=W();M(ee.month,ee.year)},variant:"outline",size:"sm",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export Current Month"]}),a.jsxs(le,{onClick:I,variant:"outline",size:"sm",children:[a.jsx(xl,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(ya,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:a.jsx(Gn,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Orders"}),a.jsx("p",{className:"text-2xl font-bold",children:re.length})]})]})}),a.jsx(we,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:a.jsx(to,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Sync"}),a.jsx("p",{className:"text-sm font-medium",children:f.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),E!==null&&w>E&&a.jsxs(bn,{className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[a.jsx(wa,{className:"h-4 w-4 text-amber-600"}),a.jsx(_n,{className:"ml-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-amber-900 dark:text-amber-100",children:[k," Plan Limit"]}),a.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-1",children:["You can only view ",E," orders. ",w-E," more ",w-E===1?"order is":"orders are"," hidden."]})]}),a.jsxs(le,{onClick:()=>e("/admin/subscription"),size:"sm",className:"ml-4 flex-shrink-0",children:[a.jsx(Hle,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]}),a.jsxs(we,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsx(De,{placeholder:"Search by name, phone, or order number...",value:i,onChange:ee=>o(ee.target.value),className:"flex-1"}),a.jsxs(_r,{value:u,onValueChange:d,children:[a.jsx(yr,{className:"w-full md:w-[180px]",children:a.jsx(jr,{placeholder:"Filter by date"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Time"}),a.jsx(Me,{value:"today",children:"Today"}),a.jsx(Me,{value:"yesterday",children:"Yesterday"}),a.jsx(Me,{value:"last7days",children:"Last 7 Days"}),a.jsx(Me,{value:"last30days",children:"Last 30 Days"})]})]}),a.jsxs(_r,{value:l,onValueChange:c,children:[a.jsx(yr,{className:"w-full md:w-[180px]",children:a.jsx(jr,{placeholder:"Filter by status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"new",children:"New"}),a.jsx(Me,{value:"processing",children:"Processing"}),a.jsx(Me,{value:"delivered",children:"Delivered"}),a.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})}):Z.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No orders found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Order #"}),a.jsx(ze,{children:"Date & Time"}),a.jsx(ze,{children:"Customer"}),a.jsx(ze,{children:"Phone"}),a.jsx(ze,{children:"Items"}),a.jsx(ze,{children:"Amount"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{className:"text-right",children:"Actions"})]})}),a.jsx($s,{children:Z.map(ee=>a.jsxs(cr,{children:[a.jsx(Be,{className:"font-medium",children:ee.order_number}),a.jsx(Be,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:B(ee.created_at)}),a.jsx("div",{className:"text-muted-foreground",children:U(ee.created_at)})]})}),a.jsx(Be,{children:ee.customer_name}),a.jsx(Be,{children:ee.customer_phone}),a.jsx(Be,{children:a.jsxs("div",{className:"text-sm",children:[Array.isArray(ee.items)?ee.items.length:0," item",Array.isArray(ee.items)&&ee.items.length!==1?"s":""]})}),a.jsx(Be,{className:"font-medium",children:H(ee.total)}),a.jsx(Be,{children:D(ee.status)}),a.jsx(Be,{children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>V(ee),title:"View Details",children:a.jsx(ao,{className:"h-4 w-4"})}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>z(ee),title:"Edit Order",children:a.jsx(Nu,{className:"h-4 w-4"})}),ee.status!=="delivered"&&ee.status!=="cancelled"&&a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>F(ee),title:"Mark as Delivered",className:"text-green-600 hover:text-green-700",children:a.jsx(nce,{className:"h-4 w-4"})}),ee.status!=="cancelled"&&a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>X(ee),title:"Cancel Order",className:"text-destructive hover:text-destructive",children:a.jsx(l4,{className:"h-4 w-4"})})]})})]},ee.id))})]})}),Z.length>0&&a.jsxs("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:["Showing ",Z.length," order",Z.length!==1?"s":""]})]}),a.jsx(QAe,{order:g,open:x,onClose:()=>v(!1)}),a.jsx(JAe,{order:g,open:j,onClose:()=>S(!1),onSave:G})]})})},tPe=()=>{const e=nr(),[t,r]=_.useState(!0),[n,s]=_.useState(!1),[i,o]=_.useState(null),[l,c]=_.useState("30");_.useEffect(()=>{u()},[l]);const u=async()=>{try{const{data:{session:m}}=await ne.auth.getSession();if(!m){e("/admin/login");return}const{data:g,error:y}=await ne.from("subscriptions").select("plan_id, status, subscription_plans(enable_analytics)").eq("user_id",m.user.id).maybeSingle();if(!g||y){s(!1),r(!1);return}const x=g?.subscription_plans?.enable_analytics||!1,v=["active","trial"].includes(g?.status);if(!x||!v){s(!1),r(!1);return}s(!0),await d()}catch(m){Ve({title:"Error",description:m.message,variant:"destructive"}),r(!1)}},d=async()=>{try{r(!0);const{data:{user:m}}=await ne.auth.getUser();if(!m)return;const{data:g}=await ne.from("stores").select("id").eq("user_id",m.id).single();if(!g)return;const y=new Date;y.setDate(y.getDate()-parseInt(l));const{data:x,error:v}=await ne.from("orders").select("*").eq("store_id",g.id).gte("created_at",y.toISOString());if(v)throw v;const j=x?.reduce((N,k)=>N+k.total,0)||0,S=x?.length||0,w=S>0?j/S:0,T=new Map;x?.forEach(N=>{Array.isArray(N.items)&&N.items.forEach(k=>{const R=T.get(k.productId)||{name:k.productName,quantity:0,revenue:0};R.quantity+=k.quantity,R.revenue+=k.price*k.quantity,T.set(k.productId,R)})});const E=Array.from(T.values()).sort((N,k)=>k.revenue-N.revenue).slice(0,5);o({totalRevenue:j,ordersCount:S,averageOrderValue:w,topProducts:E})}catch(m){Ve({title:"Error",description:m.message,variant:"destructive"})}finally{r(!1)}},f=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(m);return t?a.jsx(Si,{children:a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})})}):n?a.jsx(Si,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your store performance and sales"})]}),a.jsxs(_r,{value:l,onValueChange:c,children:[a.jsxs(yr,{className:"w-[180px]",children:[a.jsx(rc,{className:"h-4 w-4 mr-2"}),a.jsx(jr,{})]}),a.jsxs(wr,{children:[a.jsx(Me,{value:"7",children:"Last 7 Days"}),a.jsx(Me,{value:"30",children:"Last 30 Days"}),a.jsx(Me,{value:"90",children:"Last 90 Days"}),a.jsx(Me,{value:"365",children:"Last Year"})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(we,{children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:a.jsx(Ds,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold",children:f(i?.totalRevenue||0)})]})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:a.jsx(ic,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold",children:i?.ordersCount||0})]})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:a.jsx(Lo,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Order Value"}),a.jsx("p",{className:"text-2xl font-bold",children:f(i?.averageOrderValue||0)})]})]})})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Top Selling Products"})}),a.jsx(_e,{children:i?.topProducts&&i.topProducts.length>0?a.jsx("div",{className:"space-y-4",children:i.topProducts.map((m,g)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:m.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.quantity," units sold"]})]}),a.jsx("p",{className:"text-lg font-bold text-primary",children:f(m.revenue)})]},g))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sales data available for this period"})})]})]})}):a.jsx(Si,{children:a.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[a.jsx(ya,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Not Available"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You need a subscription plan with analytics enabled to access this feature."})]})})},nx=e=>{if(!e)return null;if(e.includes("drive.google.com/thumbnail?")||e.includes("drive.google.com/uc?"))return e;const t=e.match(/\/d\/([a-zA-Z0-9_-]+)|[?&]id=([a-zA-Z0-9_-]+)/);return t?`https://drive.google.com/thumbnail?id=${t[1]||t[2]}&sz=w1000`:e};function rPe(){const[e,t]=_.useState([]),[r,n]=_.useState(""),[s,i]=_.useState(""),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState(null),[m,g]=_.useState(null),[y,x]=_.useState(!1),[v,j]=_.useState(null);_.useEffect(()=>{S()},[]);const S=async()=>{try{l(!0);const{data:{user:k}}=await ne.auth.getUser();if(!k)return;const{data:R}=await ne.from("stores").select("id").eq("user_id",k.id).single();if(!R)return;j(R.id);const{data:A,error:I}=await ne.from("categories").select("*").eq("store_id",R.id).order("name");if(I)throw I;t(A||[])}catch(k){Ve({title:"Error",description:k.message,variant:"destructive"})}finally{l(!1)}},w=async()=>{if(!r.trim()){Ve({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}if(!v){Ve({title:"Error",description:"Store not found",variant:"destructive"});return}try{u(!0);let k=s.trim();k||(k=Bwe());const{error:R}=await ne.from("categories").insert([{name:r.trim(),store_id:v,image_url:k}]);if(R)throw R;Ve({title:"Success",description:"Category added successfully"}),n(""),i(""),S()}catch(k){Ve({title:"Error",description:k.message,variant:"destructive"})}finally{u(!1)}},T=async()=>{if(d)try{const{error:k}=await ne.from("categories").delete().eq("id",d.id);if(k)throw k;Ve({title:"Success",description:"Category deleted successfully"}),S()}catch(k){Ve({title:"Error",description:k.message,variant:"destructive"})}finally{f(null)}},E=k=>{g({...k,newName:k.name,newImageUrl:k.image_url||""})},N=async()=>{if(m){if(!m.newName.trim()){Ve({title:"Error",description:"Category name cannot be empty",variant:"destructive"});return}try{x(!0);const{error:k}=await ne.from("categories").update({name:m.newName.trim(),image_url:m.newImageUrl.trim()||null}).eq("id",m.id);if(k)throw k;Ve({title:"Success",description:"Category updated successfully"}),g(null),S()}catch(k){Ve({title:"Error",description:k.message,variant:"destructive"})}finally{x(!1)}}};return a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Category Management"})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(De,{placeholder:"Enter category name...",value:r,onChange:k=>n(k.target.value),onKeyPress:k=>k.key==="Enter"&&!k.shiftKey&&w()}),a.jsx(De,{placeholder:"Enter Google Drive image URL (optional)...",value:s,onChange:k=>i(k.target.value),onKeyPress:k=>k.key==="Enter"&&!k.shiftKey&&w()}),s&&a.jsxs("div",{className:"border rounded-lg p-2 bg-muted/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Image Preview:"}),a.jsx("img",{src:nx(s)||"",alt:"Preview",className:"w-24 h-24 object-cover rounded",onError:k=>{k.currentTarget.style.display="none",k.currentTarget.nextElementSibling?.classList.remove("hidden")}}),a.jsx("p",{className:"text-xs text-destructive mt-1 hidden",children:"Failed to load image. Please check the URL."})]}),a.jsxs(le,{onClick:w,disabled:c,className:"w-full",children:[c?a.jsx(bs,{className:"h-4 w-4 animate-spin"}):a.jsx(Ei,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-2",children:"Add Category"})]})]}),o?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading categories..."}):e.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No categories yet. Add your first category above."}):a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(k=>a.jsxs(vt,{variant:"secondary",className:"px-3 py-2 flex items-center gap-2",children:[a.jsx("span",{children:k.name}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>E(k),className:"hover:text-primary transition-colors",title:"Edit category",children:a.jsx(Jle,{className:"h-3 w-3"})}),a.jsx("button",{onClick:()=>f(k),className:"hover:text-destructive transition-colors",title:"Delete category",children:a.jsx(fa,{className:"h-3 w-3"})})]})]},k.id))}),a.jsx(Tb,{open:!!d,onOpenChange:()=>f(null),children:a.jsxs(Mg,{children:[a.jsxs(Fg,{children:[a.jsx($g,{children:"Delete Category"}),a.jsxs(Bg,{children:['Are you sure you want to delete the category "',d?.name,'"? This action cannot be undone.']})]}),a.jsxs(Lg,{children:[a.jsx(Vg,{children:"Cancel"}),a.jsx(Ug,{onClick:T,className:"bg-destructive",children:"Delete"})]})]})}),a.jsx(Tb,{open:!!m,onOpenChange:()=>g(null),children:a.jsxs(Mg,{children:[a.jsxs(Fg,{children:[a.jsx($g,{children:"Edit Category"}),a.jsx(Bg,{children:"Update the category name and image URL."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Category Name"}),a.jsx(De,{placeholder:"Enter category name...",value:m?.newName||"",onChange:k=>g(R=>R?{...R,newName:k.target.value}:null)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Image URL (optional)"}),a.jsx(De,{placeholder:"Enter Google Drive image URL...",value:m?.newImageUrl||"",onChange:k=>g(R=>R?{...R,newImageUrl:k.target.value}:null)}),m?.newImageUrl&&a.jsxs("div",{className:"border rounded-lg p-2 bg-muted/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Image Preview:"}),a.jsx("img",{src:nx(m.newImageUrl)||"",alt:"Preview",className:"w-24 h-24 object-cover rounded",onError:k=>{k.currentTarget.style.display="none"}})]})]})]}),a.jsxs(Lg,{children:[a.jsx(Vg,{children:"Cancel"}),a.jsxs(Ug,{onClick:N,disabled:y,children:[y?a.jsx(bs,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update"]})]})]})})]})]})}const nPe=()=>{const e=nr();_.useEffect(()=>{t()},[]);const t=async()=>{const{data:{session:r}}=await ne.auth.getSession();r||e("/admin/login")};return a.jsx(Si,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your product categories"})]}),a.jsx(rPe,{})]})})},sPe=()=>{const e=nr(),[t,r]=_.useState(null),[n,s]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(0),[u,d]=_.useState(!1),[f,m]=_.useState(null),[g,y]=_.useState(null);_.useEffect(()=>{x()},[]),_.useEffect(()=>{if(!g)return;const A=()=>{const P=new Date,D=g.getTime()-P.getTime();if(D<=0){m({days:0,hours:0,minutes:0,seconds:0});return}const B=Math.floor(D/(1e3*60*60*24)),U=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),H=Math.floor(D%(1e3*60*60)/(1e3*60)),M=Math.floor(D%(1e3*60)/1e3);m({days:B,hours:U,minutes:H,seconds:M})};A();const I=setInterval(A,1e3);return()=>clearInterval(I)},[g]);const x=async()=>{try{const{data:{user:A}}=await ne.auth.getUser();if(!A){e("/auth");return}const{data:I}=await ne.from("stores").select("id").eq("user_id",A.id).single();if(I){const{count:W}=await ne.from("orders").select("*",{count:"exact",head:!0}).eq("store_id",I.id);c(W||0)}const{data:P,error:D}=await ne.from("subscriptions").select(`
          *,
          subscription_plans (*)
        `).eq("user_id",A.id).order("updated_at",{ascending:!1});let B=null;if(P&&P.length>0){const W=new Date,K=P.filter(z=>!(z.status==="cancelled"||z.status==="expired"||z.current_period_end&&new Date(z.current_period_end)<W)),V=K.filter(z=>z.status==="active");V.length>0?B=V[0]:B=K[0]}if(D&&D.code!=="PGRST116")throw D;if(B){const W={...B,subscription_plans:{...B.subscription_plans,features:Array.isArray(B.subscription_plans.features)?B.subscription_plans.features:[]}};r(W),B.current_period_end?y(new Date(B.current_period_end)):B.trial_ends_at&&y(new Date(B.trial_ends_at))}const{data:U,error:H}=await ne.from("subscription_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(H)throw H;const M=(U||[]).map(W=>({...W,features:Array.isArray(W.features)?W.features:[]}));s(M)}catch(A){console.error("Error fetching subscription data:",A),dt.error("Failed to load subscription data")}finally{o(!1)}},v=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(A),j=A=>A?new Date(A).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",S=()=>{if(!t)return 0;const A=t.subscription_plans?.whatsapp_orders_limit;if(A===null||A===0)return 0;const I=t.whatsapp_orders_used||0,P=I/A*100;return console.log("WhatsApp Usage:",{used:I,limit:A,percentage:P}),Math.min(P,100)},w=()=>{if(!t)return 0;const A=t.subscription_plans?.website_orders_limit;if(A===null||A===0)return 0;const I=t.website_orders_used||0,P=I/A*100;return console.log("Website Usage:",{used:I,limit:A,percentage:P}),Math.min(P,100)},T=A=>A>=96?"bg-red-600":A>=81?"bg-orange-500":A>=51?"bg-yellow-500":"bg-green-500",E=A=>A>=100?{level:"error",message:"Limit reached - Upgrade now!"}:A>=90?{level:"warning",message:"Almost at limit"}:A>=80?{level:"caution",message:"Running low on orders"}:null,N=async()=>{d(!0);try{await x(),dt.success("Refreshed! Order usage updated successfully.")}catch(A){console.error("Error refreshing:",A),dt.error("Failed to refresh data. Please try again.")}finally{d(!1)}},k=()=>{e("/pricing")},R=()=>t?.current_period_end?new Date(t.current_period_end)<new Date:!1;return i?a.jsx(Si,{children:a.jsx("div",{className:"pt-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."})})}):a.jsx(Si,{children:a.jsxs("div",{className:"space-y-8 p-6 md:p-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Subscription"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription plan"})]}),t&&f&&g&&!R()&&a.jsx(we,{className:`border-l-4 ${t.status==="trial"?"border-l-warning bg-warning/5":"border-l-primary bg-primary/5"}`,children:a.jsx(_e,{className:"p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gn,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${t.status==="trial"?"text-warning":"text-primary"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-foreground text-sm",children:t.status==="trial"?"Trial Status":"Subscription Status"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.status==="trial"?"Your free trial ends in ":"Your subscription renews in ",a.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[f.days,"d ",f.hours,"h ",f.minutes,"m ",f.seconds,"s"]})]})]})]})})}),t&&R()&&a.jsxs(bn,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[a.jsx(wa,{className:"h-5 w-5"}),a.jsxs(_n,{className:"ml-2",children:[a.jsx("span",{className:"font-semibold",children:"Your subscription has expired!"})," ","Your store cannot accept new orders. Please upgrade your plan to continue using our services."]})]}),t&&a.jsxs(we,{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:t.subscription_plans.name}),a.jsx(vt,{variant:R()?"destructive":t.status==="active"?"default":"secondary",children:R()?"Expired":t.status})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(t.billing_cycle==="yearly"&&t.subscription_plans.yearly_price?t.subscription_plans.yearly_price:t.subscription_plans.monthly_price)}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.billing_cycle==="yearly"?"year":"month"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ya,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{className:"text-foreground",children:[a.jsx("span",{className:"font-medium",children:"Billing:"})," ",t.billing_cycle==="yearly"?"Yearly":"Monthly"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rc,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{className:"text-foreground",children:[a.jsx("span",{className:"font-medium",children:"Expires:"})," ",j(t.current_period_end)]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:"Order Usage"}),a.jsxs(le,{size:"sm",variant:"outline",onClick:N,disabled:u,children:[a.jsx(xl,{className:`w-4 h-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.subscription_plans.whatsapp_orders_limit!==null&&(()=>{const A=S(),I=E(A);return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:"WhatsApp Orders"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.whatsapp_orders_limit===0?`${t.whatsapp_orders_used||0} / Unlimited`:`${t.whatsapp_orders_used||0} / ${t.subscription_plans.whatsapp_orders_limit}`})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-500 ${T(A)}`,style:{width:`${A}%`}})})}),I&&a.jsxs(bn,{variant:I.level==="error"?"destructive":"default",className:`mt-2 ${I.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":I.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx(_n,{className:"ml-2 text-sm font-medium",children:I.message})]})]})})(),t.subscription_plans.website_orders_limit!==null&&(()=>{const A=w(),I=E(A);return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:"Website Orders"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:t.subscription_plans.website_orders_limit===0?`${t.website_orders_used||0} / Unlimited`:`${t.website_orders_used||0} / ${t.subscription_plans.website_orders_limit}`})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-500 ${T(A)}`,style:{width:`${A}%`}})})}),I&&a.jsxs(bn,{variant:I.level==="error"?"destructive":"default",className:`mt-2 ${I.level==="warning"?"border-orange-500 bg-orange-50 dark:bg-orange-950/50":I.level==="caution"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/50":""}`,children:[a.jsx(wa,{className:"h-4 w-4"}),a.jsx(_n,{className:"ml-2 text-sm font-medium",children:I.message})]})]})})()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.next_billing_at&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(rc,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{className:"text-foreground",children:["Next billing: ",j(t.next_billing_at)]})]})}),t.trial_ends_at&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ya,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{className:"text-foreground",children:["Trial ends: ",j(t.trial_ends_at)]})]})})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Plan Features"}),a.jsxs("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[t.subscription_plans.max_products!==null&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:t.subscription_plans.max_products===0?"Unlimited Products":`Max ${t.subscription_plans.max_products} Product${t.subscription_plans.max_products===1?"":"s"}`})]}),t.subscription_plans.features.filter(A=>{if(!A||typeof A!="string"||A.trim()==="")return!1;const I=A.toLowerCase();return!I.includes("analytics")&&!I.includes("email")&&!I.includes("notification")&&!I.includes("location")&&!I.includes("tracking")&&!I.includes("product")&&!I.includes("support")&&!I.includes("whatsapp order")&&!I.includes("website order")}).map((A,I)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:A})]},I)),t.subscription_plans.enable_analytics&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),t.subscription_plans.enable_order_emails&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),t.subscription_plans.enable_location_sharing&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Available Plans"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(A=>{const I=t?.plan_id===A.id;return a.jsxs(we,{className:`p-6 flex flex-col ${I?"border-primary":"border-border"}`,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-1",children:A.name}),A.description&&a.jsx("p",{className:"text-sm text-muted-foreground",children:A.description})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-3xl font-bold text-foreground",children:v(A.monthly_price)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"/month"})]}),a.jsxs("ul",{className:"space-y-2 mb-6 flex-1",children:[A.max_products!==null&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:A.max_products===0?"Unlimited Products":`Max ${A.max_products} Product${A.max_products===1?"":"s"}`})]}),A.features.filter(P=>{if(!P||typeof P!="string"||P.trim()==="")return!1;const D=P.toLowerCase();return!D.includes("analytics")&&!D.includes("email")&&!D.includes("notification")&&!D.includes("location")&&!D.includes("tracking")&&!D.includes("product")&&!D.includes("support")&&!D.includes("whatsapp order")&&!D.includes("website order")}).map((P,D)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:P})]},D)),A.enable_analytics&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:"Advanced Analytics"})]}),A.enable_order_emails&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:"Email Notifications"})]}),A.enable_location_sharing&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:"Location Tracking"})]}),A.whatsapp_orders_limit!==null&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:A.whatsapp_orders_limit===0?"Unlimited WhatsApp orders/month":`${A.whatsapp_orders_limit} WhatsApp order${A.whatsapp_orders_limit===1?"":"s"}/month`})]}),A.website_orders_limit!==null&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-foreground",children:A.website_orders_limit===0?"Unlimited Website orders/month":`${A.website_orders_limit} Website order${A.website_orders_limit===1?"":"s"}/month`})]})]}),a.jsx(le,{className:"w-full",variant:I?"outline":"default",disabled:I,onClick:k,children:I?"Current Plan":a.jsxs(a.Fragment,{children:["Upgrade Now ",a.jsx(ZT,{className:"w-4 h-4 ml-2"})]})})]},A.id)})})]})]})})};var G_="Tabs",[aPe]=Yn(G_,[dp]),KQ=dp(),[iPe,dD]=aPe(G_),YQ=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Sf(l),[f,m]=ei({prop:n,onChange:s,defaultProp:i??"",caller:G_});return a.jsx(iPe,{scope:r,baseId:_i(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(xt.div,{dir:d,"data-orientation":o,...u,ref:t})})});YQ.displayName=G_;var XQ="TabsList",ZQ=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=dD(XQ,r),o=KQ(r);return a.jsx(I4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(xt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});ZQ.displayName=XQ;var QQ="TabsTrigger",JQ=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=dD(QQ,r),l=KQ(r),c=rJ(o.baseId,n),u=nJ(o.baseId,n),d=n===o.value;return a.jsx(M4,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(xt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Qe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Qe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Qe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});JQ.displayName=QQ;var eJ="TabsContent",tJ=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=dD(eJ,r),c=rJ(l.baseId,n),u=nJ(l.baseId,n),d=n===l.value,f=_.useRef(d);return _.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(us,{present:s||d,children:({present:m})=>a.jsx(xt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});tJ.displayName=eJ;function rJ(e,t){return`${e}-trigger-${t}`}function nJ(e,t){return`${e}-content-${t}`}var oPe=YQ,sJ=ZQ,aJ=JQ,iJ=tJ;const mf=oPe,Du=_.forwardRef(({className:e,...t},r)=>a.jsx(sJ,{ref:r,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Du.displayName=sJ.displayName;const Kr=_.forwardRef(({className:e,...t},r)=>a.jsx(aJ,{ref:r,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Kr.displayName=aJ.displayName;const Yr=_.forwardRef(({className:e,...t},r)=>a.jsx(iJ,{ref:r,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yr.displayName=iJ.displayName;function Pr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function lPe(e,t){const r=Pr(e);return isNaN(t)?qo(e,NaN):(r.setDate(r.getDate()+t),r)}function cPe(e,t){const r=Pr(e);if(isNaN(t))return qo(e,NaN);if(!t)return r;const n=r.getDate(),s=qo(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const oJ=6048e5,uPe=864e5,jw=43200,y8=1440;let dPe={};function Av(){return dPe}function sx(e,t){const r=Av(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Pr(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function qb(e){return sx(e,{weekStartsOn:1})}function lJ(e){const t=Pr(e),r=t.getFullYear(),n=qo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=qb(n),i=qo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=qb(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function w8(e){const t=Pr(e);return t.setHours(0,0,0,0),t}function Hb(e){const t=Pr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function cJ(e,t){const r=w8(e),n=w8(t),s=+r-Hb(r),i=+n-Hb(n);return Math.round((s-i)/uPe)}function fPe(e){const t=lJ(e),r=qo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),qb(r)}function Zw(e,t){const r=Pr(e),n=Pr(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function hPe(e){return qo(e,Date.now())}function mPe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pPe(e){if(!mPe(e)&&typeof e!="number")return!1;const t=Pr(e);return!isNaN(Number(t))}function gPe(e,t){const r=Pr(e),n=Pr(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Gb(e,t){const r=Pr(e),n=Pr(t),s=b8(r,n),i=Math.abs(cJ(r,n));r.setDate(r.getDate()-s*i);const o=+(b8(r,n)===-s),l=s*(i-o);return l===0?0:l}function b8(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function xPe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function vPe(e,t){return+Pr(e)-+Pr(t)}function yPe(e){const t=Pr(e);return t.setHours(23,59,59,999),t}function uJ(e){const t=Pr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function wPe(e){const t=Pr(e);return+yPe(t)==+uJ(t)}function bPe(e,t){const r=Pr(e),n=Pr(t),s=Zw(r,n),i=Math.abs(gPe(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Zw(r,n)===-s;wPe(Pr(e))&&i===1&&Zw(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function _Pe(e,t,r){const n=vPe(e,t)/1e3;return xPe(r?.roundingMethod)(n)}function _8(e){const t=Pr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jPe(e){const t=Pr(e),r=qo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const SPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NPe=(e,t,r)=>{let n;const s=SPe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function b2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const kPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TPe={date:b2({formats:kPe,defaultWidth:"full"}),time:b2({formats:EPe,defaultWidth:"full"}),dateTime:b2({formats:CPe,defaultWidth:"full"})},APe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PPe=(e,t,r,n)=>APe[e];function v0(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const OPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LPe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$Pe={ordinalNumber:LPe,era:v0({values:OPe,defaultWidth:"wide"}),quarter:v0({values:RPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:v0({values:DPe,defaultWidth:"wide"}),day:v0({values:IPe,defaultWidth:"wide"}),dayPeriod:v0({values:MPe,defaultWidth:"wide",formattingValues:FPe,defaultFormattingWidth:"wide"})};function y0(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?UPe(l,f=>f.test(o)):BPe(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function BPe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function UPe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function VPe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const zPe=/^(\d+)(th|st|nd|rd)?/i,WPe=/\d+/i,qPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HPe={any:[/^b/i,/^(a|c)/i]},GPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KPe={any:[/1/i,/2/i,/3/i,/4/i]},YPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tOe={ordinalNumber:VPe({matchPattern:zPe,parsePattern:WPe,valueCallback:e=>parseInt(e,10)}),era:y0({matchPatterns:qPe,defaultMatchWidth:"wide",parsePatterns:HPe,defaultParseWidth:"any"}),quarter:y0({matchPatterns:GPe,defaultMatchWidth:"wide",parsePatterns:KPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:y0({matchPatterns:YPe,defaultMatchWidth:"wide",parsePatterns:XPe,defaultParseWidth:"any"}),day:y0({matchPatterns:ZPe,defaultMatchWidth:"wide",parsePatterns:QPe,defaultParseWidth:"any"}),dayPeriod:y0({matchPatterns:JPe,defaultMatchWidth:"any",parsePatterns:eOe,defaultParseWidth:"any"})},dJ={code:"en-US",formatDistance:NPe,formatLong:TPe,formatRelative:PPe,localize:$Pe,match:tOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rOe(e){const t=Pr(e);return cJ(t,jPe(t))+1}function nOe(e){const t=Pr(e),r=+qb(t)-+fPe(t);return Math.round(r/oJ)+1}function fJ(e,t){const r=Pr(e),n=r.getFullYear(),s=Av(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=qo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=sx(o,t),c=qo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=sx(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function sOe(e,t){const r=Av(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=fJ(e,t),i=qo(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),sx(i,t)}function aOe(e,t){const r=Pr(e),n=+sx(r,t)-+sOe(r,t);return Math.round(n/oJ)+1}function Br(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Br(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Br(r+1,2)},d(e,t){return Br(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Br(e.getHours()%12||12,t.length)},H(e,t){return Br(e.getHours(),t.length)},m(e,t){return Br(e.getMinutes(),t.length)},s(e,t){return Br(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Br(s,t.length)}},Th={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j8={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Zc.y(e,t)},Y:function(e,t,r,n){const s=fJ(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Br(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Br(i,t.length)},R:function(e,t){const r=lJ(e);return Br(r,t.length)},u:function(e,t){const r=e.getFullYear();return Br(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Br(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Br(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Br(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=aOe(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Br(s,t.length)},I:function(e,t,r){const n=nOe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Br(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zc.d(e,t)},D:function(e,t,r){const n=rOe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Br(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Br(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Br(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Br(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Th.noon:n===0?s=Th.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Th.evening:n>=12?s=Th.afternoon:n>=4?s=Th.morning:s=Th.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Br(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Br(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zc.s(e,t)},S:function(e,t){return Zc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return N8(n);case"XXXX":case"XX":return bd(n);case"XXXXX":case"XXX":default:return bd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return N8(n);case"xxxx":case"xx":return bd(n);case"xxxxx":case"xxx":default:return bd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+S8(n,":");case"OOOO":default:return"GMT"+bd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+S8(n,":");case"zzzz":default:return"GMT"+bd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Br(n,t.length)},T:function(e,t,r){const n=e.getTime();return Br(n,t.length)}};function S8(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Br(i,2)}function N8(e,t){return e%60===0?(e>0?"-":"+")+Br(Math.abs(e)/60,2):bd(e,t)}function bd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Br(Math.trunc(n/60),2),i=Br(n%60,2);return r+s+t+i}const k8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hJ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},iOe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return k8(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",k8(n,t)).replace("{{time}}",hJ(s,t))},oOe={p:hJ,P:iOe},lOe=/^D+$/,cOe=/^Y+$/,uOe=["D","DD","YY","YYYY"];function dOe(e){return lOe.test(e)}function fOe(e){return cOe.test(e)}function hOe(e,t,r){const n=mOe(e,t,r);if(console.warn(n),uOe.includes(e))throw new RangeError(n)}function mOe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xOe=/^'([^]*?)'?$/,vOe=/''/g,yOe=/[a-zA-Z]/;function sr(e,t,r){const n=Av(),s=n.locale??dJ,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Pr(e);if(!pPe(l))throw new RangeError("Invalid time value");let c=t.match(gOe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=oOe[f];return m(d,s.formatLong)}return d}).join("").match(pOe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:wOe(d)};if(j8[f])return{isToken:!0,value:d};if(f.match(yOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(fOe(f)||dOe(f))&&hOe(f,t,String(e));const m=j8[f[0]];return m(l,f,s.localize,u)}).join("")}function wOe(e){const t=e.match(xOe);return t?t[1].replace(vOe,"'"):e}function bOe(e,t,r){const n=Av(),s=r?.locale??n.locale??dJ,i=2520,o=Zw(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=Pr(t),u=Pr(e)):(c=Pr(e),u=Pr(t));const d=_Pe(u,c),f=(Hb(u)-Hb(c))/1e3,m=Math.round((d-f)/60);let g;if(m<2)return r?.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<y8){const y=Math.round(m/60);return s.formatDistance("aboutXHours",y,l)}else{if(m<i)return s.formatDistance("xDays",1,l);if(m<jw){const y=Math.round(m/y8);return s.formatDistance("xDays",y,l)}else if(m<jw*2)return g=Math.round(m/jw),s.formatDistance("aboutXMonths",g,l)}if(g=bPe(u,c),g<12){const y=Math.round(m/jw);return s.formatDistance("xMonths",y,l)}else{const y=g%12,x=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",x,l):y<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function um(e,t){return bOe(e,hPe(e),t)}function _Oe(e,t){return cPe(e,-t)}function jOe(){const e=nr();gc();const{toast:t}=Ln(),[r,n]=_.useState(""),[s,i]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(!0),[d,f]=_.useState(null),[m,g]=_.useState(null),[y,x]=_.useState(""),[v,j]=_.useState(!1),[S,w]=_.useState(!1),[T,E]=_.useState(!1),[N,k]=_.useState(!1),[R,A]=_.useState(""),[I,P]=_.useState(""),[D,B]=_.useState("pending"),[U,H]=_.useState("newest"),[M,W]=_.useState(""),[K,V]=_.useState("");_.useEffect(()=>{(async()=>{const xe=sessionStorage.getItem("superadmin_session");if(xe){const ht=JSON.parse(xe);n(ht.fullName),G(),F();return}const{data:{user:Re}}=await ne.auth.getUser();if(!Re){e("/superadmin/login");return}const{data:je}=await ne.from("user_roles").select("role").eq("user_id",Re.id).eq("role","super_admin");if(!je||je.length===0){t({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:mt}=await ne.from("profiles").select("full_name, email").eq("user_id",Re.id).single();n(mt?.full_name||mt?.email||Re.email||"Super Admin"),G(),F()})()},[e]),_.useEffect(()=>{d?.recruited_by_helper_id?z(d.recruited_by_helper_id):x("")},[d]);const z=async ye=>{try{const{data:xe,error:Re}=await ne.from("helpers").select("full_name").eq("id",ye).single();if(Re)throw Re;x(xe?.full_name||"")}catch(xe){console.error("Error loading recruiter:",xe)}},G=async()=>{try{const{data:ye,error:xe}=await ne.from("helper_applications").select("*").order("created_at",{ascending:!1});if(xe)throw xe;i(ye||[])}catch(ye){console.error("Error loading applications:",ye),dt.error("Failed to load applications")}finally{u(!1)}},F=async()=>{try{const{data:ye,error:xe}=await ne.from("helpers").select(`
          *,
          store_referrals:store_referrals(id),
          recruited_helpers:helpers!recruited_by_helper_id(id)
        `).order("created_at",{ascending:!1});if(xe)throw xe;const Re=(ye||[]).map(je=>({...je,store_referrals_count:je.store_referrals?.length||0,recruited_helpers_count:je.recruited_helpers?.length||0,total_commission:0}));l(Re)}catch(ye){console.error("Error loading helpers:",ye),dt.error("Failed to load helpers")}},X=async ye=>{try{const{count:xe}=await ne.from("helpers").select("*",{count:"exact",head:!0}),Re=`HELP${String((xe||0)+1).padStart(3,"0")}`,je=window.location.origin,{error:mt}=await ne.from("helpers").insert({id:ye.user_id,application_id:ye.id,full_name:ye.full_name,email:ye.email,phone:ye.phone,referral_code:Re,store_referral_link:`${je}/signup?ref=${Re}`,helper_recruitment_link:`${je}/become-helper?ref=${Re}`,recruited_by_helper_id:ye.recruited_by_helper_id,status:"Active"});if(mt)throw mt;const{error:ht}=await ne.from("helper_applications").update({application_status:"Approved",approved_at:new Date().toISOString()}).eq("id",ye.id);if(ht)throw ht;dt.success("Helper approved and activated!"),j(!1),E(!1),G(),F()}catch(xe){console.error("Error approving application:",xe),dt.error("Failed to approve application")}},Z=async()=>{if(!R.trim()){dt.error("Please provide a rejection reason");return}try{const{error:ye}=await ne.from("helper_applications").update({application_status:"Rejected",rejection_reason:R}).eq("id",d.id);if(ye)throw ye;dt.success("Application rejected"),w(!1),j(!1),A(""),G()}catch(ye){console.error("Error rejecting application:",ye),dt.error("Failed to reject application")}},re=async ye=>{try{const{error:xe}=await ne.from("helper_applications").update({application_status:"Pending",rejection_reason:null}).eq("id",ye.id);if(xe)throw xe;dt.success("Application moved to pending"),E(!1),G()}catch(xe){console.error("Error reconsidering application:",xe),dt.error("Failed to reconsider application")}},ee=async ye=>{try{const xe=ye.status==="Active"?"Suspended":"Active",{error:Re}=await ne.from("helpers").update({status:xe}).eq("id",ye.id);if(Re)throw Re;dt.success(`Helper ${xe.toLowerCase()}`),k(!1),F()}catch(xe){console.error("Error updating helper status:",xe),dt.error("Failed to update helper status")}},ce=ye=>{let xe=ye.filter(Re=>{const je=Re.full_name?.toLowerCase().includes(I.toLowerCase())||Re.email?.toLowerCase().includes(I.toLowerCase())||Re.phone?.includes(I),mt=new Date(Re.created_at),ht=!M||mt>=new Date(M),oe=!K||mt<=new Date(K);return je&&ht&&oe});return xe.sort((Re,je)=>U==="newest"?new Date(je.created_at).getTime()-new Date(Re.created_at).getTime():U==="oldest"?new Date(Re.created_at).getTime()-new Date(je.created_at).getTime():U==="name-az"?Re.full_name.localeCompare(je.full_name):U==="name-za"?je.full_name.localeCompare(Re.full_name):0),xe},pe=ce(s.filter(ye=>ye.application_status==="Pending")),Y=ce(s.filter(ye=>ye.application_status==="Rejected")),Q=({apps:ye})=>a.jsx("div",{className:"space-y-4",children:ye.length===0?a.jsx(we,{children:a.jsx(_e,{className:"py-12 text-center text-muted-foreground",children:"No pending applications"})}):ye.map(xe=>a.jsx(we,{children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("h3",{className:"text-lg font-semibold",children:xe.full_name}),a.jsx(vt,{className:"bg-yellow-500",children:"Pending"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",xe.email]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",xe.phone]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Applied:"})," ",sr(new Date(xe.created_at),"PPP")]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"ID:"})," ",xe.id.slice(0,8).toUpperCase()]})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:xe.why_helper})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>{f(xe),j(!0)},children:[a.jsx(ao,{className:"w-4 h-4 mr-1"}),"View"]}),a.jsxs(le,{variant:"default",size:"sm",onClick:()=>X(xe),children:[a.jsx(vs,{className:"w-4 h-4 mr-1"}),"Approve"]}),a.jsxs(le,{variant:"destructive",size:"sm",onClick:()=>{f(xe),w(!0)},children:[a.jsx(Qs,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})},xe.id))}),ae=()=>{const ye=o.filter(xe=>{if(!s.find(ge=>ge.id===xe.application_id))return!1;const je=xe.full_name?.toLowerCase().includes(I.toLowerCase())||xe.email?.toLowerCase().includes(I.toLowerCase())||xe.phone?.includes(I),mt=new Date(xe.created_at),ht=!M||mt>=new Date(M),oe=!K||mt<=new Date(K);return je&&ht&&oe});return a.jsx("div",{className:"space-y-4",children:ye.length===0?a.jsx(we,{children:a.jsx(_e,{className:"py-12 text-center text-muted-foreground",children:"No approved helpers"})}):ye.map(xe=>a.jsx(we,{children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"space-y-3 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("h3",{className:"text-lg font-semibold",children:xe.full_name}),a.jsx(vt,{className:xe.status==="Active"?"bg-green-500":"bg-red-500",children:xe.status})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",xe.email]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",xe.phone]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Code:"})," ",a.jsx("span",{className:"font-mono font-semibold",children:xe.referral_code})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Approved:"})," ",sr(new Date(xe.created_at),"PPP")]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Lo,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-muted-foreground",children:"Stores:"})," ",a.jsx("span",{className:"font-semibold",children:xe.store_referrals_count})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sb,{className:"w-4 h-4 text-purple-500"}),a.jsx("span",{className:"text-muted-foreground",children:"Helpers:"})," ",a.jsx("span",{className:"font-semibold",children:xe.recruited_helpers_count})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>{g(xe);const Re=s.find(je=>je.id===xe.application_id);f(Re),j(!0)},children:[a.jsx(ao,{className:"w-4 h-4 mr-1"}),"Profile"]}),a.jsx(le,{variant:xe.status==="Active"?"destructive":"default",size:"sm",onClick:()=>{g(xe),k(!0)},children:xe.status==="Active"?a.jsxs(a.Fragment,{children:[a.jsx(l4,{className:"w-4 h-4 mr-1"}),"Suspend"]}):a.jsxs(a.Fragment,{children:[a.jsx(Iq,{className:"w-4 h-4 mr-1"}),"Activate"]})})]})]})})},xe.id))})},q=({apps:ye})=>a.jsx("div",{className:"space-y-4",children:ye.length===0?a.jsx(we,{children:a.jsx(_e,{className:"py-12 text-center text-muted-foreground",children:"No rejected applications"})}):ye.map(xe=>a.jsx(we,{children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx("h3",{className:"text-lg font-semibold",children:xe.full_name}),a.jsx(vt,{className:"bg-red-500",children:"Rejected"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",xe.email]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",xe.phone]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Rejected:"})," ",sr(new Date(xe.created_at),"PPP")]})]}),xe.rejection_reason&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs font-semibold text-red-700 dark:text-red-300 mb-1",children:"Rejection Reason:"}),a.jsx("p",{className:"text-sm text-red-900 dark:text-red-100",children:xe.rejection_reason})]})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>{f(xe),j(!0)},children:[a.jsx(ao,{className:"w-4 h-4 mr-1"}),"View"]}),a.jsxs(le,{variant:"default",size:"sm",onClick:()=>{f(xe),E(!0)},children:[a.jsx(vs,{className:"w-4 h-4 mr-1"}),"Reconsider"]})]})]})})},xe.id))}),ke=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vl,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:r})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{onClick:()=>window.open("/","_blank"),children:[a.jsx(ju,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),a.jsxs(Mr,{children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:ke,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 border-r bg-card min-h-screen p-4",children:a.jsxs("nav",{className:"space-y-2",children:[a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/dashboard"),children:[a.jsx(Aq,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/users"),children:[a.jsx(ti,{className:"mr-2 h-4 w-4"}),"Users & Stores"]}),a.jsxs(le,{variant:"default",className:"w-full justify-start",children:[a.jsx(Cq,{className:"mr-2 h-4 w-4"}),"Helper Applications"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/subscription-plans"),children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Subscription Plans"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/transactions"),children:[a.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Transactions"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/billing"),children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Billing & Revenue"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/custom-domains"),children:[a.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Custom Domains"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/settings"),children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})]})}),a.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Helper Applications"}),a.jsx("p",{className:"text-muted-foreground",children:"Review and manage helper applications"})]}),a.jsx(we,{children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative lg:col-span-2",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(De,{placeholder:"Search by name, email, or phone...",value:I,onChange:ye=>P(ye.target.value),className:"pl-10"})]}),a.jsx("div",{children:a.jsxs(_r,{value:U,onValueChange:H,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Sort by"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"newest",children:"Newest First"}),a.jsx(Me,{value:"oldest",children:"Oldest First"}),a.jsx(Me,{value:"name-az",children:"Name A-Z"}),a.jsx(Me,{value:"name-za",children:"Name Z-A"})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{type:"date",value:M,onChange:ye=>W(ye.target.value),placeholder:"From",className:"flex-1"}),a.jsx(De,{type:"date",value:K,onChange:ye=>V(ye.target.value),placeholder:"To",className:"flex-1"})]})]})})}),a.jsxs(mf,{value:D,onValueChange:B,children:[a.jsxs(Du,{children:[a.jsxs(Kr,{value:"pending",children:["Pending (",pe.length,")"]}),a.jsxs(Kr,{value:"approved",children:["Approved (",o.length,")"]}),a.jsxs(Kr,{value:"rejected",children:["Rejected (",Y.length,")"]})]}),a.jsx(Yr,{value:"pending",children:a.jsx(Q,{apps:pe})}),a.jsx(Yr,{value:"approved",children:a.jsx(ae,{})}),a.jsx(Yr,{value:"rejected",children:a.jsx(q,{apps:Y})})]}),a.jsx(Hn,{open:v,onOpenChange:j,children:a.jsxs(Pn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Application Details"}),a.jsx(Xs,{children:"Review complete application information"})]}),d&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:d.full_name})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:d.email})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-medium",children:d.phone})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Application Date"}),a.jsx("p",{className:"font-medium",children:sr(new Date(d.created_at),"PPP")})]})]}),y&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Recruited by:"})," ",y]})}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Why Helper?"}),a.jsx("p",{className:"mt-2 text-sm whitespace-pre-wrap",children:d.why_helper})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-lg font-semibold",children:"Bank Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Account Holder"}),a.jsx("p",{className:"font-medium",children:d.bank_account_name})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Account Number"}),a.jsx("p",{className:"font-medium",children:d.bank_account_number})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"IFSC Code"}),a.jsx("p",{className:"font-medium",children:d.bank_ifsc_code})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Bank Name"}),a.jsx("p",{className:"font-medium",children:d.bank_name})]})]})]}),d.application_status==="Pending"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(le,{onClick:()=>X(d),className:"flex-1",children:[a.jsx(vs,{className:"w-4 h-4 mr-2"}),"Approve Application"]}),a.jsxs(le,{variant:"destructive",onClick:()=>w(!0),className:"flex-1",children:[a.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Reject Application"]})]})]})]})}),a.jsx(Hn,{open:S,onOpenChange:w,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Reject Application"}),a.jsx(Xs,{children:"Please provide a reason for rejection"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx($e,{children:"Rejection Reason *"}),a.jsx(Js,{value:R,onChange:ye=>A(ye.target.value),placeholder:"Enter the reason for rejecting this application...",className:"mt-2"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Cancel"}),a.jsx(le,{variant:"destructive",onClick:Z,className:"flex-1",children:"Confirm Rejection"})]})]})]})}),a.jsx(Hn,{open:T,onOpenChange:E,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Reconsider Application"}),a.jsx(Xs,{children:"Move this application back to pending status?"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"This will clear the rejection reason and allow you to review the application again."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{variant:"outline",onClick:()=>E(!1),className:"flex-1",children:"Cancel"}),a.jsx(le,{onClick:()=>d&&re(d),className:"flex-1",children:"Move to Pending"})]})]})]})}),a.jsx(Hn,{open:N,onOpenChange:k,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:m?.status==="Active"?"Suspend Helper":"Activate Helper"}),a.jsxs(Xs,{children:["Are you sure you want to ",m?.status==="Active"?"suspend":"activate"," this helper?"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:m?.status==="Active"?"Suspended helpers cannot earn commissions or recruit new helpers.":"This helper will be able to earn commissions and recruit new helpers again."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{variant:"outline",onClick:()=>k(!1),className:"flex-1",children:"Cancel"}),a.jsx(le,{variant:m?.status==="Active"?"destructive":"default",onClick:()=>m&&ee(m),className:"flex-1",children:"Confirm"})]})]})]})})]})]})]})}function SOe(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var fD="ScrollArea",[mJ]=Yn(fD),[NOe,mo]=mJ(fD),pJ=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=_.useState(null),[u,d]=_.useState(null),[f,m]=_.useState(null),[g,y]=_.useState(null),[x,v]=_.useState(null),[j,S]=_.useState(0),[w,T]=_.useState(0),[E,N]=_.useState(!1),[k,R]=_.useState(!1),A=It(t,P=>c(P)),I=Sf(s);return a.jsx(NOe,{scope:r,type:n,dir:I,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:R,onCornerWidthChange:S,onCornerHeightChange:T,children:a.jsx(xt.div,{dir:I,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});pJ.displayName=fD;var gJ="ScrollAreaViewport",xJ=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=mo(gJ,r),l=_.useRef(null),c=It(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(xt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});xJ.displayName=gJ;var Cl="ScrollAreaScrollbar",hD=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mo(Cl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return _.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(kOe,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(EOe,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(vJ,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(mD,{...n,ref:t}):null});hD.displayName=Cl;var kOe=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mo(Cl,e.__scopeScrollArea),[i,o]=_.useState(!1);return _.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(us,{present:r||i,children:a.jsx(vJ,{"data-state":i?"visible":"hidden",...n,ref:t})})}),EOe=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mo(Cl,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Y_(()=>c("SCROLL_END"),100),[l,c]=SOe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),_.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const g=u[d];f!==g&&(c("SCROLL"),o()),f=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,o]),a.jsx(us,{present:r||l!=="hidden",children:a.jsx(mD,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Qe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Qe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vJ=_.forwardRef((e,t)=>{const r=mo(Cl,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=_.useState(!1),l=e.orientation==="horizontal",c=Y_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Cm(r.viewport,c),Cm(r.content,c),a.jsx(us,{present:n||i,children:a.jsx(mD,{"data-state":i?"visible":"hidden",...s,ref:t})})}),mD=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=mo(Cl,e.__scopeScrollArea),i=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=jJ(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,g){return ROe(m,o.current,l,g)}return r==="horizontal"?a.jsx(COe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,g=E8(m,l,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?a.jsx(TOe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,g=E8(m,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),COe=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=mo(Cl,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=It(t,c,i.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(wJ,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":K_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),NJ(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yb(o.paddingLeft),paddingEnd:Yb(o.paddingRight)}})}})}),TOe=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=mo(Cl,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=It(t,c,i.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(wJ,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":K_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),NJ(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yb(o.paddingTop),paddingEnd:Yb(o.paddingBottom)}})}})}),[AOe,yJ]=mJ(Cl),wJ=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,g=mo(Cl,r),[y,x]=_.useState(null),v=It(t,A=>x(A)),j=_.useRef(null),S=_.useRef(""),w=g.viewport,T=n.content-n.viewport,E=An(d),N=An(c),k=Y_(f,10);function R(A){if(j.current){const I=A.clientX-j.current.left,P=A.clientY-j.current.top;u({x:I,y:P})}}return _.useEffect(()=>{const A=I=>{const P=I.target;y?.contains(P)&&E(I,T)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,y,T,E]),_.useEffect(N,[n,N]),Cm(y,k),Cm(g.content,k),a.jsx(AOe,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:An(i),onThumbPointerUp:An(o),onThumbPositionChange:N,onThumbPointerDown:An(l),children:a.jsx(xt.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:Qe(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),j.current=y.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),R(A))}),onPointerMove:Qe(e.onPointerMove,R),onPointerUp:Qe(e.onPointerUp,A=>{const I=A.target;I.hasPointerCapture(A.pointerId)&&I.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=S.current,g.viewport&&(g.viewport.style.scrollBehavior=""),j.current=null})})})}),Kb="ScrollAreaThumb",bJ=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yJ(Kb,e.__scopeScrollArea);return a.jsx(us,{present:r||s.hasThumb,children:a.jsx(POe,{ref:t,...n})})}),POe=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=mo(Kb,r),o=yJ(Kb,r),{onThumbPositionChange:l}=o,c=It(t,f=>o.onThumbChange(f)),u=_.useRef(void 0),d=Y_(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const g=DOe(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),a.jsx(xt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Qe(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),y=f.clientX-g.left,x=f.clientY-g.top;o.onThumbPointerDown({x:y,y:x})}),onPointerUp:Qe(e.onPointerUp,o.onThumbPointerUp)})});bJ.displayName=Kb;var pD="ScrollAreaCorner",_J=_.forwardRef((e,t)=>{const r=mo(pD,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(OOe,{...e,ref:t}):null});_J.displayName=pD;var OOe=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=mo(pD,r),[i,o]=_.useState(0),[l,c]=_.useState(0),u=!!(i&&l);return Cm(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),c(d)}),Cm(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(xt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yb(e){return e?parseInt(e,10):0}function jJ(e,t){const r=e/t;return isNaN(r)?0:r}function K_(e){const t=jJ(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ROe(e,t,r,n="ltr"){const s=K_(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return SJ([c,u],f)(e)}function E8(e,t,r="ltr"){const n=K_(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Dg(e,c);return SJ([0,o],[0,l])(u)}function SJ(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function NJ(e,t){return e>0&&e<t}var DOe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function Y_(e,t){const r=An(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Cm(e,t){const r=An(t);Mn(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var kJ=pJ,IOe=xJ,MOe=_J;const EJ=_.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(kJ,{ref:n,className:Je("relative overflow-hidden",e),...r,children:[a.jsx(IOe,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(CJ,{}),a.jsx(MOe,{})]}));EJ.displayName=kJ.displayName;const CJ=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(hD,{ref:n,orientation:t,className:Je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(bJ,{className:"relative flex-1 rounded-full bg-border"})}));CJ.displayName=hD.displayName;var X_="Popover",[TJ]=Yn(X_,[Lu]),Pv=Lu(),[FOe,Gu]=TJ(X_),AJ=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Pv(t),c=_.useRef(null),[u,d]=_.useState(!1),[f,m]=ei({prop:n,defaultProp:s??!1,onChange:i,caller:X_});return a.jsx(o_,{...l,children:a.jsx(FOe,{scope:t,contentId:_i(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:o,children:r})})};AJ.displayName=X_;var PJ="PopoverAnchor",LOe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Gu(PJ,r),i=Pv(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return _.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(rv,{...i,...n,ref:t})});LOe.displayName=PJ;var OJ="PopoverTrigger",RJ=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Gu(OJ,r),i=Pv(r),o=It(t,s.triggerRef),l=a.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LJ(s.open),...n,ref:o,onClick:Qe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(rv,{asChild:!0,...i,children:l})});RJ.displayName=OJ;var gD="PopoverPortal",[$Oe,BOe]=TJ(gD,{forceMount:void 0}),DJ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=Gu(gD,t);return a.jsx($Oe,{scope:t,forceMount:r,children:a.jsx(us,{present:r||i.open,children:a.jsx(sp,{asChild:!0,container:s,children:n})})})};DJ.displayName=gD;var Tm="PopoverContent",IJ=_.forwardRef((e,t)=>{const r=BOe(Tm,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=Gu(Tm,e.__scopePopover);return a.jsx(us,{present:n||i.open,children:i.modal?a.jsx(VOe,{...s,ref:t}):a.jsx(zOe,{...s,ref:t})})});IJ.displayName=Tm;var UOe=wu("PopoverContent.RemoveScroll"),VOe=_.forwardRef((e,t)=>{const r=Gu(Tm,e.__scopePopover),n=_.useRef(null),s=It(t,n),i=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return y_(o)},[]),a.jsx(ov,{as:UOe,allowPinchZoom:!0,children:a.jsx(MJ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Qe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),zOe=_.forwardRef((e,t)=>{const r=Gu(Tm,e.__scopePopover),n=_.useRef(!1),s=_.useRef(!1);return a.jsx(MJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),MJ=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Gu(Tm,r),g=Pv(r);return v_(),a.jsx(av,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(_f,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(l_,{"data-state":LJ(m.open),role:"dialog",id:m.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FJ="PopoverClose",WOe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Gu(FJ,r);return a.jsx(xt.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>s.onOpenChange(!1))})});WOe.displayName=FJ;var qOe="PopoverArrow",HOe=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Pv(r);return a.jsx(c_,{...s,...n,ref:t})});HOe.displayName=qOe;function LJ(e){return e?"open":"closed"}var GOe=AJ,KOe=RJ,YOe=DJ,$J=IJ;const XOe=GOe,ZOe=KOe,BJ=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(YOe,{children:a.jsx($J,{ref:s,align:t,sideOffset:r,className:Je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));BJ.displayName=$J.displayName;const pu=({src:e,alt:t,className:r,fallback:n="/placeholder.svg",...s})=>{const[i,o]=_.useState(n),[l,c]=_.useState(!0),[u,d]=_.useState(!1),f=_.useRef(null);return _.useEffect(()=>{if(!f.current)return;const m=new IntersectionObserver(g=>{g.forEach(y=>{y.isIntersecting&&(d(!0),m.disconnect())})},{rootMargin:"50px"});return m.observe(f.current),()=>{m.disconnect()}},[]),_.useEffect(()=>{if(!u)return;const m=new Image;m.src=e,m.onload=()=>{o(e),c(!1)},m.onerror=()=>{o(n),c(!1)}},[e,u,n]),a.jsx("img",{ref:f,src:i,alt:t,className:Je("transition-opacity duration-300",l?"opacity-50":"opacity-100",r),loading:"lazy",...s})},QOe=()=>{const{cart:e,cartCount:t,cartTotal:r,removeItem:n}=p_(),[s,i]=_.useState(void 0);_.useEffect(()=>{e.length>0&&e[0].storeId&&(async()=>{const{data:f}=await ne.from("stores").select("slug").eq("id",e[0].storeId).maybeSingle();f&&i(f.slug)})()},[e]);const o=wl(),l=o?"/products":s?`/${s}/products`:"/products",c=o?"/cart":s?`/${s}/cart`:"/cart",u=o?"/checkout":s?`/${s}/checkout`:"/checkout";return a.jsxs(XOe,{children:[a.jsx(ZOe,{asChild:!0,children:a.jsxs(le,{variant:"outline",size:"icon",className:"relative","data-cart-icon":!0,children:[a.jsx(ic,{className:"w-4 h-4"}),t>0&&a.jsx(vt,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t})]})}),a.jsxs(BJ,{className:"w-80 p-0",align:"end",children:[a.jsxs("div",{className:"p-4 border-b border-border",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Shopping Cart"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," items"]})]}),e.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ic,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your cart is empty"}),a.jsx(pt,{to:l,children:a.jsx(le,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(EJ,{className:"h-80",children:a.jsx("div",{className:"p-4 space-y-4",children:e.map(d=>a.jsx(we,{className:"overflow-hidden",children:a.jsx(_e,{className:"p-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pu,{src:d.productImage,alt:d.productName,className:"w-16 h-16 object-cover rounded flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:d.productName}),d.variant&&a.jsx("p",{className:"text-xs text-muted-foreground",children:d.variant}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("span",{className:"text-sm font-semibold text-primary",children:["",d.price,"  ",d.quantity]}),a.jsx(le,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(d.productId,d.variant),children:a.jsx(ri,{className:"w-4 h-4"})})]})]})]})})},`${d.productId}-${d.variant}`))})}),a.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-xl font-bold text-primary",children:["",r]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(pt,{to:c,className:"w-full",children:a.jsx(le,{variant:"outline",className:"w-full min-h-[44px]",children:"View Cart"})}),a.jsx(pt,{to:u,className:"w-full",children:a.jsx(le,{className:"w-full min-h-[44px]",children:"Checkout"})})]})]})]})]})]})},JOe=async e=>{const t=await UJ(e),r=VJ(t);return!(!t||t.trim()===""||r==="919876543210"||r==="9876543210"||r.length<10)},UJ=async e=>{try{if(e){const{data:n}=await ne.from("stores").select("whatsapp_number").eq("id",e).single();return n?.whatsapp_number||"919876543210"}const{data:{user:t}}=await ne.auth.getUser();if(!t)return"919876543210";const{data:r}=await ne.from("stores").select("whatsapp_number").eq("user_id",t.id).single();return r?.whatsapp_number||"919876543210"}catch(t){return console.error("Error fetching WhatsApp number:",t),"919876543210"}},VJ=e=>e.replace(/[^0-9+]/g,""),e4e=e=>{const t=new Date().toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"});let r=` *NEW ORDER REQUEST*
`;if(r+=` ${t}

`,r+=` *CUSTOMER DETAILS*
`,r+=`Name: ${e.customerName}
`,r+=`Phone: ${e.phone}
`,e.email&&(r+=`Email: ${e.email}
`),r+=`
 *DELIVERY ADDRESS*
`,r+=`${e.address}
`,e.landmark&&(r+=`Landmark: ${e.landmark}
`),r+=`PIN Code: ${e.pincode}
`,r+=`Preferred Time: ${e.deliveryTime}
`,e.latitude&&e.longitude){const n=`https://www.google.com/maps?q=${e.latitude},${e.longitude}`;r+=` Location: ${n}
`}return r+=`
`,r+=` *ORDER ITEMS*
`,r+=`
`,e.cart.forEach((n,s)=>{r+=`${s+1}. ${n.productName}
`,n.variant&&(r+=`   Variant: ${n.variant}
`),n.sku&&(r+=`   SKU: ${n.sku}
`),r+=`   Qty: ${n.quantity}  ${n.price.toFixed(2)}
`,r+=`   Subtotal: ${(n.quantity*n.price).toFixed(2)}

`}),r+=`
`,r+=` *PAYMENT SUMMARY*
`,r+=`Subtotal: ${e.subtotal.toFixed(2)}
`,r+=`Delivery: ${e.deliveryCharge.toFixed(2)}
`,r+=`*Total Amount: ${e.total.toFixed(2)}*

`,r+=` Payment Method: Cash on Delivery (COD)

`,r+="Please confirm this order. Thank you! ",r},t4e=()=>` Hi! I have a question about your products/services.

Could you please help me?

Thank you! `,zJ=async(e,t,r)=>{if(!await JOe(r))return{success:!1,error:"WhatsApp number is not configured. Please contact the store owner to set up a valid WhatsApp number in admin settings."};const n=await UJ(r),s=VJ(n);if(s==="919876543210"||s==="9876543210")return{success:!1,error:"Invalid WhatsApp number. The default number 9876543210 is not allowed. Please contact the store owner to set up a valid WhatsApp number."};const i=encodeURIComponent(e),o=`https://wa.me/${s}?text=${i}`;return window.open(o,"_blank"),{success:!0}},Xa=({storeSlug:e,storeId:t})=>{const[r,n]=_.useState(!1),[s,i]=_.useState(""),o=nr(),{toast:l}=Ln(),c=wl(),u=c?"/":e?`/${e}`:"/home",d=c?"/products":e?`/${e}/products`:"/products",f=c?"/categories":e?`/${e}/categories`:"/categories",m=y=>{y.preventDefault(),s.trim()&&(o(`${d}?search=${encodeURIComponent(s)}`),i(""))},g=async()=>{const y=t4e(),x=await zJ(y,void 0,t);x.success||l({title:"WhatsApp Not Configured",description:x.error,variant:"destructive"})};return a.jsxs("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:[a.jsxs("div",{className:"container mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs(pt,{to:u,className:"flex items-center gap-2 group",children:[a.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg",children:a.jsx(ic,{className:"w-6 h-6 text-primary-foreground transition-transform duration-300 group-hover:rotate-12"})}),a.jsx("span",{className:"text-xl font-bold text-foreground hidden sm:block transition-colors duration-300 group-hover:text-primary",children:"MyStore"})]}),a.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[a.jsx(pt,{to:u,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Home"}),a.jsx(pt,{to:d,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Products"}),a.jsx(pt,{to:f,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"Categories"}),a.jsx(pt,{to:`${u}#about`,className:"relative text-foreground hover:text-primary transition-all duration-300 after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left hover:translate-y-[-2px]",children:"About"})]}),a.jsx("form",{onSubmit:m,className:"hidden lg:flex flex-1 max-w-md",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx(De,{type:"text",placeholder:"Search products...",value:s,onChange:y=>i(y.target.value),className:"pr-10"}),a.jsx(le,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:a.jsx(ac,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(le,{variant:"outline",size:"icon",onClick:g,className:"hidden sm:flex min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",children:a.jsx(Su,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-12"})}),a.jsx(ta,{}),a.jsx(QOe,{}),a.jsx(le,{variant:"ghost",size:"icon",className:"md:hidden min-w-[44px] min-h-[44px] group transition-all duration-300 hover:scale-105",onClick:()=>n(!r),children:r?a.jsx(ri,{className:"w-5 h-5 animate-in spin-in-180 duration-300"}):a.jsx(u4,{className:"w-5 h-5 animate-in fade-in duration-300"})})]})]}),a.jsx("form",{onSubmit:m,className:"lg:hidden mt-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(De,{type:"text",placeholder:"Search products...",value:s,onChange:y=>i(y.target.value),className:"pr-10"}),a.jsx(le,{type:"submit",size:"icon",variant:"ghost",className:"absolute right-0 top-0 group",children:a.jsx(ac,{className:"w-4 h-4 transition-transform duration-300 group-hover:scale-110"})})]})})]}),r&&a.jsx("div",{className:"md:hidden border-t border-border bg-background animate-in slide-in-from-top-2 duration-300",children:a.jsxs("nav",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[a.jsx(pt,{to:u,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300",onClick:()=>n(!1),children:"Home"}),a.jsx(pt,{to:d,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-75",onClick:()=>n(!1),children:"Products"}),a.jsx(pt,{to:f,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-150",onClick:()=>n(!1),children:"Categories"}),a.jsx(pt,{to:`${u}#about`,className:"text-foreground hover:text-primary transition-all duration-300 hover:translate-x-2 animate-in fade-in slide-in-from-left-2 duration-300 delay-200",onClick:()=>n(!1),children:"About"}),a.jsxs(le,{onClick:g,className:"w-full min-h-[48px] animate-in fade-in slide-in-from-bottom-2 duration-300 delay-300 group",children:[a.jsx(Su,{className:"w-5 h-5 mr-2 transition-transform duration-300 group-hover:rotate-12"}),"Contact on WhatsApp"]})]})})]})},Gl=()=>a.jsx("footer",{className:"bg-muted border-t border-border mt-20",children:a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-foreground mb-4",children:"About MyStore"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Your trusted online store for quality products at great prices. We deliver happiness to your doorstep."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),a.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ip,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:"123 Store Street, City, State 12345"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Su,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"+91 1234567890"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Yd,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"contact@mystore.com"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx(Tq,{className:"w-4 h-4"})}),a.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx(Pq,{className:"w-4 h-4"})}),a.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx(Dq,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"border-t border-border mt-8 pt-8 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," MyStore. All rights reserved."]})})]})});function V0(e){const{productName:t,storeName:r,category:n,variant:s,imageIndex:i}=e,o=[];if(o.push(t),s&&o.push(s),i!==void 0&&i>0){const u=["front view","side view","back view","detail view","alternate view"][i]||"additional view";o.push(u)}n&&o.push(`in ${n}`),r&&o.push(`at ${r}`);let l=o.join(" - ");return l.length>125&&(l=l.substring(0,122)+"..."),l}function r4e(e){const{storeName:t,imageType:r,description:n}=e;switch(r){case"logo":return`${t} logo`;case"banner":return n?`${t} - ${n}`:`${t} banner`;case"hero":return n?`${t} - ${n}`:`${t} hero image`;case"thumbnail":return`${t} thumbnail`;default:return`${t} image`}}function n4e(e,t){return t?`${e} category at ${t}`:`${e} category`}const xD=_.createContext({});function vD(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const yD=typeof window<"u",WJ=yD?_.useLayoutEffect:_.useEffect,Z_=_.createContext(null);function wD(e,t){e.indexOf(t)===-1&&e.push(t)}function bD(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const uc=(e,t,r)=>r>t?t:r<e?e:r;let _D=()=>{};const dc={},qJ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function HJ(e){return typeof e=="object"&&e!==null}const GJ=e=>/^0[^.\s]+$/u.test(e);function jD(e){let t;return()=>(t===void 0&&(t=e()),t)}const lo=e=>e,s4e=(e,t)=>r=>t(e(r)),Ov=(...e)=>e.reduce(s4e),ax=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class SD{constructor(){this.subscriptions=[]}add(t){return wD(this.subscriptions,t),()=>bD(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hl=e=>e*1e3,no=e=>e/1e3;function KJ(e,t){return t?e*(1e3/t):0}const YJ=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,a4e=1e-7,i4e=12;function o4e(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=YJ(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>a4e&&++l<i4e);return o}function Rv(e,t,r,n){if(e===t&&r===n)return lo;const s=i=>o4e(i,0,1,e,r);return i=>i===0||i===1?i:YJ(s(i),t,n)}const XJ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZJ=e=>t=>1-e(1-t),QJ=Rv(.33,1.53,.69,.99),ND=ZJ(QJ),JJ=XJ(ND),eee=e=>(e*=2)<1?.5*ND(e):.5*(2-Math.pow(2,-10*(e-1))),kD=e=>1-Math.sin(Math.acos(e)),tee=ZJ(kD),ree=XJ(kD),l4e=Rv(.42,0,1,1),c4e=Rv(0,0,.58,1),nee=Rv(.42,0,.58,1),u4e=e=>Array.isArray(e)&&typeof e[0]!="number",see=e=>Array.isArray(e)&&typeof e[0]=="number",d4e={linear:lo,easeIn:l4e,easeInOut:nee,easeOut:c4e,circIn:kD,circInOut:ree,circOut:tee,backIn:ND,backInOut:JJ,backOut:QJ,anticipate:eee},f4e=e=>typeof e=="string",C8=e=>{if(see(e)){_D(e.length===4);const[t,r,n,s]=e;return Rv(t,r,n,s)}else if(f4e(e))return d4e[e];return e},Sw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h4e(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const y=m&&s?r:n;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const m4e=40;function aee(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Sw.reduce((w,T)=>(w[T]=h4e(i),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:g,postRender:y}=o,x=()=>{const w=dc.useManualTiming?s.timestamp:performance.now();r=!1,dc.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(w-s.timestamp,m4e),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),m.process(s),g.process(s),y.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},v=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:Sw.reduce((w,T)=>{const E=o[T];return w[T]=(N,k=!1,R=!1)=>(r||v(),E.schedule(N,k,R)),w},{}),cancel:w=>{for(let T=0;T<Sw.length;T++)o[Sw[T]].cancel(w)},state:s,steps:o}}const{schedule:gn,cancel:Iu,state:Gs,steps:_2}=aee(typeof requestAnimationFrame<"u"?requestAnimationFrame:lo,!0);let Qw;function p4e(){Qw=void 0}const Za={now:()=>(Qw===void 0&&Za.set(Gs.isProcessing||dc.useManualTiming?Gs.timestamp:performance.now()),Qw),set:e=>{Qw=e,queueMicrotask(p4e)}},iee=e=>t=>typeof t=="string"&&t.startsWith(e),ED=iee("--"),g4e=iee("var(--"),CD=e=>g4e(e)?x4e.test(e.split("/*")[0].trim()):!1,x4e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ix={...vp,transform:e=>uc(0,1,e)},Nw={...vp,default:1},lg=e=>Math.round(e*1e5)/1e5,TD=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v4e(e){return e==null}const y4e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AD=(e,t)=>r=>!!(typeof r=="string"&&y4e.test(r)&&r.startsWith(e)||t&&!v4e(r)&&Object.prototype.hasOwnProperty.call(r,t)),oee=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(TD);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},w4e=e=>uc(0,255,e),j2={...vp,transform:e=>Math.round(w4e(e))},Od={test:AD("rgb","red"),parse:oee("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+j2.transform(e)+", "+j2.transform(t)+", "+j2.transform(r)+", "+lg(ix.transform(n))+")"};function b4e(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const uP={test:AD("#"),parse:b4e,transform:Od.transform},Dv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),eu=Dv("deg"),ml=Dv("%"),Gt=Dv("px"),_4e=Dv("vh"),j4e=Dv("vw"),T8={...ml,parse:e=>ml.parse(e)/100,transform:e=>ml.transform(e*100)},Vh={test:AD("hsl","hue"),parse:oee("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ml.transform(lg(t))+", "+ml.transform(lg(r))+", "+lg(ix.transform(n))+")"},is={test:e=>Od.test(e)||uP.test(e)||Vh.test(e),parse:e=>Od.test(e)?Od.parse(e):Vh.test(e)?Vh.parse(e):uP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Od.transform(e):Vh.transform(e),getAnimatableNone:e=>{const t=is.parse(e);return t.alpha=0,is.transform(t)}},S4e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N4e(e){return isNaN(e)&&typeof e=="string"&&(e.match(TD)?.length||0)+(e.match(S4e)?.length||0)>0}const lee="number",cee="color",k4e="var",E4e="var(",A8="${}",C4e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ox(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(C4e,c=>(is.test(c)?(n.color.push(i),s.push(cee),r.push(is.parse(c))):c.startsWith(E4e)?(n.var.push(i),s.push(k4e),r.push(c)):(n.number.push(i),s.push(lee),r.push(parseFloat(c))),++i,A8)).split(A8);return{values:r,split:l,indexes:n,types:s}}function uee(e){return ox(e).values}function dee(e){const{split:t,types:r}=ox(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===lee?i+=lg(s[o]):l===cee?i+=is.transform(s[o]):i+=s[o]}return i}}const T4e=e=>typeof e=="number"?0:is.test(e)?is.getAnimatableNone(e):e;function A4e(e){const t=uee(e);return dee(e)(t.map(T4e))}const Mu={test:N4e,parse:uee,createTransformer:dee,getAnimatableNone:A4e};function S2(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function P4e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=S2(c,l,e+1/3),i=S2(c,l,e),o=S2(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Xb(e,t){return r=>r>0?t:e}const jn=(e,t,r)=>e+(t-e)*r,N2=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},O4e=[uP,Od,Vh],R4e=e=>O4e.find(t=>t.test(e));function P8(e){const t=R4e(e);if(!t)return!1;let r=t.parse(e);return t===Vh&&(r=P4e(r)),r}const O8=(e,t)=>{const r=P8(e),n=P8(t);if(!r||!n)return Xb(e,t);const s={...r};return i=>(s.red=N2(r.red,n.red,i),s.green=N2(r.green,n.green,i),s.blue=N2(r.blue,n.blue,i),s.alpha=jn(r.alpha,n.alpha,i),Od.transform(s))},dP=new Set(["none","hidden"]);function D4e(e,t){return dP.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function I4e(e,t){return r=>jn(e,t,r)}function PD(e){return typeof e=="number"?I4e:typeof e=="string"?CD(e)?Xb:is.test(e)?O8:L4e:Array.isArray(e)?fee:typeof e=="object"?is.test(e)?O8:M4e:Xb}function fee(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>PD(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function M4e(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=PD(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function F4e(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const L4e=(e,t)=>{const r=Mu.createTransformer(t),n=ox(e),s=ox(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?dP.has(e)&&!s.values.length||dP.has(t)&&!n.values.length?D4e(e,t):Ov(fee(F4e(n,s),s.values),r):Xb(e,t)};function hee(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?jn(e,t,r):PD(e)(e,t)}const $4e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>gn.update(t,r),stop:()=>Iu(t),now:()=>Gs.isProcessing?Gs.timestamp:Za.now()}},mee=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Zb=2e4;function OD(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Zb;)t+=r,n=e.next(t);return t>=Zb?1/0:t}function B4e(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(OD(n),Zb);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:no(s)}}const U4e=5;function pee(e,t,r){const n=Math.max(t-U4e,0);return KJ(r-e(n),t-n)}const En={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},k2=.001;function V4e({duration:e=En.duration,bounce:t=En.bounce,velocity:r=En.velocity,mass:n=En.mass}){let s,i,o=1-t;o=uc(En.minDamping,En.maxDamping,o),e=uc(En.minDuration,En.maxDuration,no(e)),o<1?(s=u=>{const d=u*o,f=d*e,m=d-r,g=fP(u,o),y=Math.exp(-f);return k2-m/g*y},i=u=>{const f=u*o*e,m=f*r+r,g=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),x=fP(Math.pow(u,2),o);return(-s(u)+k2>0?-1:1)*((m-g)*y)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-k2+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=W4e(s,i,l);if(e=hl(e),isNaN(c))return{stiffness:En.stiffness,damping:En.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const z4e=12;function W4e(e,t,r){let n=r;for(let s=1;s<z4e;s++)n=n-e(n)/t(n);return n}function fP(e,t){return e*Math.sqrt(1-t*t)}const q4e=["duration","bounce"],H4e=["stiffness","damping","mass"];function R8(e,t){return t.some(r=>e[r]!==void 0)}function G4e(e){let t={velocity:En.velocity,stiffness:En.stiffness,damping:En.damping,mass:En.mass,isResolvedFromDuration:!1,...e};if(!R8(e,H4e)&&R8(e,q4e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*uc(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:En.mass,stiffness:s,damping:i}}else{const r=V4e(e);t={...t,...r,mass:En.mass},t.isResolvedFromDuration=!0}return t}function Qb(e=En.visualDuration,t=En.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:g}=G4e({...r,velocity:-no(r.velocity||0)}),y=m||0,x=u/(2*Math.sqrt(c*d)),v=o-i,j=no(Math.sqrt(c/d)),S=Math.abs(v)<5;n||(n=S?En.restSpeed.granular:En.restSpeed.default),s||(s=S?En.restDelta.granular:En.restDelta.default);let w;if(x<1){const E=fP(j,x);w=N=>{const k=Math.exp(-x*j*N);return o-k*((y+x*j*v)/E*Math.sin(E*N)+v*Math.cos(E*N))}}else if(x===1)w=E=>o-Math.exp(-j*E)*(v+(y+j*v)*E);else{const E=j*Math.sqrt(x*x-1);w=N=>{const k=Math.exp(-x*j*N),R=Math.min(E*N,300);return o-k*((y+x*j*v)*Math.sinh(R)+E*v*Math.cosh(R))/E}}const T={calculatedDuration:g&&f||null,next:E=>{const N=w(E);if(g)l.done=E>=f;else{let k=E===0?y:0;x<1&&(k=E===0?hl(y):pee(w,E,N));const R=Math.abs(k)<=n,A=Math.abs(o-N)<=s;l.done=R&&A}return l.value=l.done?o:N,l},toString:()=>{const E=Math.min(OD(T),Zb),N=mee(k=>T.next(E*k).value,E,30);return E+"ms "+N},toTransition:()=>{}};return T}Qb.applyToOptions=e=>{const t=B4e(e,100,Qb);return e.ease=t.ease,e.duration=hl(t.duration),e.type="keyframes",e};function hP({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},g=R=>l!==void 0&&R<l||c!==void 0&&R>c,y=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let x=r*t;const v=f+x,j=o===void 0?v:o(v);j!==v&&(x=j-f);const S=R=>-x*Math.exp(-R/n),w=R=>j+S(R),T=R=>{const A=S(R),I=w(R);m.done=Math.abs(A)<=u,m.value=m.done?j:I};let E,N;const k=R=>{g(m.value)&&(E=R,N=Qb({keyframes:[m.value,y(m.value)],velocity:pee(w,R,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:R=>{let A=!1;return!N&&E===void 0&&(A=!0,T(R),k(R)),E!==void 0&&R>=E?N.next(R-E):(!A&&T(R),m)}}}function K4e(e,t,r){const n=[],s=r||dc.mix||hee,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||lo:t;l=Ov(c,l)}n.push(l)}return n}function Y4e(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(_D(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=K4e(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=ax(e[f],e[f+1],d);return l[f](m)};return r?d=>u(uc(e[0],e[i-1],d)):u}function X4e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ax(0,t,n);e.push(jn(r,1,s))}}function Z4e(e){const t=[0];return X4e(t,e.length-1),t}function Q4e(e,t){return e.map(r=>r*t)}function J4e(e,t){return e.map(()=>t||nee).splice(0,e.length-1)}function cg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=u4e(n)?n.map(C8):C8(n),i={done:!1,value:t[0]},o=Q4e(r&&r.length===t.length?r:Z4e(t),e),l=Y4e(o,t,{ease:Array.isArray(s)?s:J4e(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const eRe=e=>e!==null;function RD(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(eRe),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const tRe={decay:hP,inertia:hP,tween:cg,keyframes:cg,spring:Qb};function gee(e){typeof e.type=="string"&&(e.type=tRe[e.type])}class DD{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const rRe=e=>e/100;class ID extends DD{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Za.now()&&this.tick(Za.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gee(t);const{type:r=cg,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||cg;c!==cg&&typeof l[0]!="number"&&(this.mixKeyframes=Ov(rRe,hee(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=OD(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:g,type:y,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const j=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,T=n;if(f){const R=Math.min(this.currentTime,s)/l;let A=Math.floor(R),I=R%1;!I&&R>=1&&(I=1),I===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(m==="reverse"?(I=1-I,g&&(I-=g/l)):m==="mirror"&&(T=o)),w=uc(0,1,I)*l}const E=S?{done:!1,value:d[0]}:T.next(w);i&&(E.value=i(E.value));let{done:N}=E;!S&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&y!==hP&&(E.value=RD(d,this.options,v,this.speed)),x&&x(E.value),k&&this.finish(),E}then(t,r){return this.finished.then(t,r)}get duration(){return no(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+no(t)}get time(){return no(this.currentTime)}set time(t){t=hl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Za.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=no(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$4e,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Za.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function nRe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rd=e=>e*180/Math.PI,mP=e=>{const t=Rd(Math.atan2(e[1],e[0]));return pP(t)},sRe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mP,rotateZ:mP,skewX:e=>Rd(Math.atan(e[1])),skewY:e=>Rd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pP=e=>(e=e%360,e<0&&(e+=360),e),D8=mP,I8=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),M8=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),aRe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:I8,scaleY:M8,scale:e=>(I8(e)+M8(e))/2,rotateX:e=>pP(Rd(Math.atan2(e[6],e[5]))),rotateY:e=>pP(Rd(Math.atan2(-e[2],e[0]))),rotateZ:D8,rotate:D8,skewX:e=>Rd(Math.atan(e[4])),skewY:e=>Rd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gP(e){return e.includes("scale")?1:0}function xP(e,t){if(!e||e==="none")return gP(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=aRe,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=sRe,s=l}if(!s)return gP(t);const i=n[t],o=s[1].split(",").map(oRe);return typeof i=="function"?i(o):o[i]}const iRe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return xP(r,t)};function oRe(e){return parseFloat(e.trim())}const yp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wp=new Set(yp),F8=e=>e===vp||e===Gt,lRe=new Set(["x","y","z"]),cRe=yp.filter(e=>!lRe.has(e));function uRe(e){const t=[];return cRe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const zd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xP(t,"x"),y:(e,{transform:t})=>xP(t,"y")};zd.translateX=zd.x;zd.translateY=zd.y;const Wd=new Set;let vP=!1,yP=!1,wP=!1;function xee(){if(yP){const e=Array.from(Wd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=uRe(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}yP=!1,vP=!1,Wd.forEach(e=>e.complete(wP)),Wd.clear()}function vee(){Wd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yP=!0)})}function dRe(){wP=!0,vee(),xee(),wP=!1}class MD{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Wd.add(this),vP||(vP=!0,gn.read(vee),gn.resolveKeyframes(xee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}nRe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wd.delete(this)}cancel(){this.state==="scheduled"&&(Wd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fRe=e=>e.startsWith("--");function hRe(e,t,r){fRe(t)?e.style.setProperty(t,r):e.style[t]=r}const mRe=jD(()=>window.ScrollTimeline!==void 0),pRe={};function gRe(e,t){const r=jD(e);return()=>pRe[t]??r()}const yee=gRe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),z0=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,L8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:z0([0,.65,.55,1]),circOut:z0([.55,0,1,.45]),backIn:z0([.31,.01,.66,-.59]),backOut:z0([.33,1.53,.69,.99])};function wee(e,t){if(e)return typeof e=="function"?yee()?mee(e,t):"ease-out":see(e)?z0(e):Array.isArray(e)?e.map(r=>wee(r,t)||L8.easeOut):L8[e]}function xRe(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=wee(l,s);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function bee(e){return typeof e=="function"&&"applyToOptions"in e}function vRe({type:e,...t}){return bee(e)&&yee()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yRe extends DD{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,_D(typeof t.type!="string");const u=vRe(t);this.animation=xRe(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=RD(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):hRe(r,n,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return no(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+no(t)}get time(){return no(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=hl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&mRe()?(this.animation.timeline=t,lo):r(this)}}const _ee={anticipate:eee,backInOut:JJ,circInOut:ree};function wRe(e){return e in _ee}function bRe(e){typeof e.ease=="string"&&wRe(e.ease)&&(e.ease=_ee[e.ease])}const $8=10;class _Re extends yRe{constructor(t){bRe(t),gee(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new ID({...o,autoplay:!1}),c=hl(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-$8).value,l.sample(c).value,$8),l.stop()}}const B8=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mu.test(e)||e==="0")&&!e.startsWith("url("));function jRe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function SRe(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=B8(s,t),l=B8(i,t);return!o||!l?!1:jRe(e)||(r==="spring"||bee(r))&&n}function bP(e){e.duration=0,e.type="keyframes"}const NRe=new Set(["opacity","clipPath","filter","transform"]),kRe=jD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ERe(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return kRe()&&r&&NRe.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const CRe=40;class TRe extends DD{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Za.now();const m={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},g=d?.KeyframeResolver||MD;this.keyframeResolver=new g(l,(y,x,v)=>this.onKeyframesResolved(y,x,m,!v),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Za.now(),SRe(t,i,o,l)||((dc.instantAnimations||!c)&&d?.(RD(t,n,r)),t[0]=t[t.length-1],bP(n),n.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>CRe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&ERe(m)?new _Re({...m,element:m.motionValue.owner.current}):new ID(m);g.finished.then(()=>this.notifyFinished()).catch(lo),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dRe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ARe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PRe(e){const t=ARe.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function jee(e,t,r=1){const[n,s]=PRe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return qJ(o)?parseFloat(o):o}return CD(s)?jee(s,t,r+1):s}function FD(e,t){return e?.[t]??e?.default??e}const See=new Set(["width","height","top","left","right","bottom",...yp]),ORe={test:e=>e==="auto",parse:e=>e},Nee=e=>t=>t.test(e),kee=[vp,Gt,ml,eu,j4e,_4e,ORe],U8=e=>kee.find(Nee(e));function RRe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||GJ(e):!0}const DRe=new Set(["brightness","contrast","saturate","opacity"]);function IRe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(TD)||[];if(!n)return e;const s=r.replace(n,"");let i=DRe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const MRe=/\b([a-z-]*)\(.*?\)/gu,_P={...Mu,getAnimatableNone:e=>{const t=e.match(MRe);return t?t.map(IRe).join(" "):e}},V8={...vp,transform:Math.round},FRe={rotate:eu,rotateX:eu,rotateY:eu,rotateZ:eu,scale:Nw,scaleX:Nw,scaleY:Nw,scaleZ:Nw,skew:eu,skewX:eu,skewY:eu,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:ix,originX:T8,originY:T8,originZ:Gt},LD={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...FRe,zIndex:V8,fillOpacity:ix,strokeOpacity:ix,numOctaves:V8},LRe={...LD,color:is,backgroundColor:is,outlineColor:is,fill:is,stroke:is,borderColor:is,borderTopColor:is,borderRightColor:is,borderBottomColor:is,borderLeftColor:is,filter:_P,WebkitFilter:_P},Eee=e=>LRe[e];function Cee(e,t){let r=Eee(e);return r!==_P&&(r=Mu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const $Re=new Set(["auto","none","0"]);function BRe(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!$Re.has(i)&&ox(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Cee(r,s)}class URe extends MD{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),CD(u))){const d=jee(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!See.has(n)||t.length!==2)return;const[s,i]=t,o=U8(s),l=U8(i);if(o!==l)if(F8(o)&&F8(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else zd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||RRe(t[s]))&&n.push(s);n.length&&BRe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=zd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function VRe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=r?.[e]??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Tee=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Aee(e){return HJ(e)&&"offsetHeight"in e}const z8=30,zRe=e=>!isNaN(parseFloat(e));class WRe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const s=Za.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Za.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zRe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new SD);const n=this.events[t].add(r);return t==="change"?()=>{n(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z8)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,z8);return KJ(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Am(e,t){return new WRe(e,t)}const{schedule:$D}=aee(queueMicrotask,!1),Ao={x:!1,y:!1};function Pee(){return Ao.x||Ao.y}function qRe(e){return e==="x"||e==="y"?Ao[e]?null:(Ao[e]=!0,()=>{Ao[e]=!1}):Ao.x||Ao.y?null:(Ao.x=Ao.y=!0,()=>{Ao.x=Ao.y=!1})}function Oee(e,t){const r=VRe(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function W8(e){return!(e.pointerType==="touch"||Pee())}function HRe(e,t,r={}){const[n,s,i]=Oee(e,r),o=l=>{if(!W8(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{W8(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Ree=(e,t)=>t?e===t?!0:Ree(e,t.parentElement):!1,BD=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GRe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KRe(e){return GRe.has(e.tagName)||e.tabIndex!==-1}const Jw=new WeakSet;function q8(e){return t=>{t.key==="Enter"&&e(t)}}function E2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const YRe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=q8(()=>{if(Jw.has(r))return;E2(r,"down");const s=q8(()=>{E2(r,"up")}),i=()=>E2(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function H8(e){return BD(e)&&!Pee()}function XRe(e,t,r={}){const[n,s,i]=Oee(e,r),o=l=>{const c=l.currentTarget;if(!H8(l))return;Jw.add(c);const u=t(c,l),d=(g,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Jw.has(c)&&Jw.delete(c),H8(g)&&typeof u=="function"&&u(g,{success:y})},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||Ree(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),Aee(l)&&(l.addEventListener("focus",u=>YRe(u,s)),!KRe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Dee(e){return HJ(e)&&"ownerSVGElement"in e}function ZRe(e){return Dee(e)&&e.tagName==="svg"}const va=e=>!!(e&&e.getVelocity),QRe=[...kee,is,Mu],JRe=e=>QRe.find(Nee(e)),UD=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function G8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eDe(...e){return t=>{let r=!1;const n=e.map(s=>{const i=G8(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():G8(e[s],null)}}}}function tDe(...e){return _.useCallback(eDe(...e),e)}class rDe extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Aee(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nDe({children:e,isPresent:t,anchorX:r,root:n}){const s=_.useId(),i=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(UD),c=tDe(i,e?.ref);return _.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:g}=o.current;if(t||!i.current||!u||!d)return;const y=r==="left"?`left: ${m}`:`right: ${g}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const v=n??document.head;return v.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(x)&&v.removeChild(x)}},[t]),a.jsx(rDe,{isPresent:t,childRef:i,sizeRef:o,children:_.cloneElement(e,{ref:c})})}const sDe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=vD(aDe),d=_.useId();let f=!0,m=_.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;n&&n()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,n]);return i&&f&&(m={...m}),_.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(nDe,{isPresent:r,anchorX:l,root:c,children:e})),a.jsx(Z_.Provider,{value:m,children:e})};function aDe(){return new Map}function Iee(e=!0){const t=_.useContext(Z_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=_.useId();_.useEffect(()=>{if(e)return s(i)},[e]);const o=_.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const kw=e=>e.key||"";function K8(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const Y8=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Iee(o),f=_.useMemo(()=>K8(e),[e]),m=o&&!u?[]:f.map(kw),g=_.useRef(!0),y=_.useRef(f),x=vD(()=>new Map),[v,j]=_.useState(f),[S,w]=_.useState(f);WJ(()=>{g.current=!1,y.current=f;for(let N=0;N<S.length;N++){const k=kw(S[N]);m.includes(k)?x.delete(k):x.get(k)!==!0&&x.set(k,!1)}},[S,m.length,m.join("-")]);const T=[];if(f!==v){let N=[...f];for(let k=0;k<S.length;k++){const R=S[k],A=kw(R);m.includes(A)||(N.splice(k,0,R),T.push(R))}return i==="wait"&&T.length&&(N=T),w(K8(N)),j(f),null}const{forceRender:E}=_.useContext(xD);return a.jsx(a.Fragment,{children:S.map(N=>{const k=kw(N),R=o&&!u?!1:f===S||m.includes(k),A=()=>{if(x.has(k))x.set(k,!0);else return;let I=!0;x.forEach(P=>{P||(I=!1)}),I&&(E?.(),w(y.current),o&&d?.(),n&&n())};return a.jsx(sDe,{isPresent:R,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:R?void 0:A,anchorX:l,children:N},k)})})},Mee=_.createContext({strict:!1}),X8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pm={};for(const e in X8)Pm[e]={isEnabled:t=>X8[e].some(r=>!!t[r])};function iDe(e){for(const t in e)Pm[t]={...Pm[t],...e[t]}}const oDe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oDe.has(e)}let Fee=e=>!Jb(e);function lDe(e){typeof e=="function"&&(Fee=t=>t.startsWith("on")?!Jb(t):e(t))}try{lDe(require("@emotion/is-prop-valid").default)}catch{}function cDe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Fee(s)||r===!0&&Jb(s)||!t&&!Jb(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const Q_=_.createContext({});function J_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function lx(e){return typeof e=="string"||Array.isArray(e)}const VD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zD=["initial",...VD];function ej(e){return J_(e.animate)||zD.some(t=>lx(e[t]))}function Lee(e){return!!(ej(e)||e.variants)}function uDe(e,t){if(ej(e)){const{initial:r,animate:n}=e;return{initial:r===!1||lx(r)?r:void 0,animate:lx(n)?n:void 0}}return e.inherit!==!1?t:{}}function dDe(e){const{initial:t,animate:r}=uDe(e,_.useContext(Q_));return _.useMemo(()=>({initial:t,animate:r}),[Z8(t),Z8(r)])}function Z8(e){return Array.isArray(e)?e.join(" "):e}const cx={};function fDe(e){for(const t in e)cx[t]=e[t],ED(t)&&(cx[t].isCSSVariable=!0)}function $ee(e,{layout:t,layoutId:r}){return wp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!cx[e]||e==="opacity")}const hDe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mDe=yp.length;function pDe(e,t,r){let n="",s=!0;for(let i=0;i<mDe;i++){const o=yp[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Tee(l,LD[o]);if(!c){s=!1;const d=hDe[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function WD(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(wp.has(c)){o=!0;continue}else if(ED(c)){s[c]=u;continue}else{const d=Tee(u,LD[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=pDe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const qD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bee(e,t,r){for(const n in t)!va(t[n])&&!$ee(n,r)&&(e[n]=t[n])}function gDe({transformTemplate:e},t){return _.useMemo(()=>{const r=qD();return WD(r,t,e),Object.assign({},r.vars,r.style)},[t])}function xDe(e,t){const r=e.style||{},n={};return Bee(n,r,e),Object.assign(n,gDe(e,t)),n}function vDe(e,t){const r={},n=xDe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const yDe={offset:"stroke-dashoffset",array:"stroke-dasharray"},wDe={offset:"strokeDashoffset",array:"strokeDasharray"};function bDe(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?yDe:wDe;e[i.offset]=Gt.transform(-n);const o=Gt.transform(t),l=Gt.transform(r);e[i.array]=`${o} ${l}`}function Uee(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(WD(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&bDe(f,s,i,o,!1)}const Vee=()=>({...qD(),attrs:{}}),zee=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _De(e,t,r,n){const s=_.useMemo(()=>{const i=Vee();return Uee(i,t,zee(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Bee(i,e.style,e),s.style={...i,...s.style}}return s}const jDe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HD(e){return typeof e!="string"||e.includes("-")?!1:!!(jDe.indexOf(e)>-1||/[A-Z]/u.test(e))}function SDe(e,t,r,{latestValues:n},s,i=!1){const l=(HD(e)?_De:vDe)(t,n,s,e),c=cDe(t,typeof e=="string",i),u=e!==_.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=_.useMemo(()=>va(d)?d.get():d,[d]);return _.createElement(e,{...u,children:f})}function Q8(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function GD(e,t,r,n){if(typeof t=="function"){const[s,i]=Q8(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Q8(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function eb(e){return va(e)?e.get():e}function NDe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:kDe(r,n,s,e),renderState:t()}}function kDe(e,t,r,n){const s={},i=n(e,{});for(const m in i)s[m]=eb(i[m]);let{initial:o,animate:l}=e;const c=ej(e),u=Lee(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!J_(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const y=GD(e,m[g]);if(y){const{transitionEnd:x,transition:v,...j}=y;for(const S in j){let w=j[S];if(Array.isArray(w)){const T=d?w.length-1:0;w=w[T]}w!==null&&(s[S]=w)}for(const S in x)s[S]=x[S]}}}return s}const Wee=e=>(t,r)=>{const n=_.useContext(Q_),s=_.useContext(Z_),i=()=>NDe(e,t,n,s);return r?i():vD(i)};function KD(e,t,r){const{style:n}=e,s={};for(const i in n)(va(n[i])||t.style&&va(t.style[i])||$ee(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(s[i]=n[i]);return s}const EDe=Wee({scrapeMotionValuesFromProps:KD,createRenderState:qD});function qee(e,t,r){const n=KD(e,t,r);for(const s in e)if(va(e[s])||va(t[s])){const i=yp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const CDe=Wee({scrapeMotionValuesFromProps:qee,createRenderState:Vee}),TDe=Symbol.for("motionComponentSymbol");function zh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ADe(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):zh(r)&&(r.current=n))},[t])}const YD=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PDe="framerAppearId",Hee="data-"+YD(PDe),Gee=_.createContext({});function ODe(e,t,r,n,s){const{visualElement:i}=_.useContext(Q_),o=_.useContext(Mee),l=_.useContext(Z_),c=_.useContext(UD).reducedMotion,u=_.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=_.useContext(Gee);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&RDe(u.current,r,s,f);const m=_.useRef(!1);_.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const g=r[Hee],y=_.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return WJ(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),y.current=!1),d.enteringChildren=void 0)}),d}function RDe(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Kee(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&zh(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function Kee(e){if(e)return e.options.allowProjection!==!1?e.projection:Kee(e.parent)}function C2(e,{forwardMotionProps:t=!1}={},r,n){r&&iDe(r);const s=HD(e)?CDe:EDe;function i(l,c){let u;const d={..._.useContext(UD),...l,layoutId:DDe(l)},{isStatic:f}=d,m=dDe(l),g=s(l,f);if(!f&&yD){IDe();const y=MDe(d);u=y.MeasureLayout,m.visualElement=ODe(e,g,d,n,y.ProjectionNode)}return a.jsxs(Q_.Provider,{value:m,children:[u&&m.visualElement?a.jsx(u,{visualElement:m.visualElement,...d}):null,SDe(e,l,ADe(g,m.visualElement,c),g,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=_.forwardRef(i);return o[TDe]=e,o}function DDe({layoutId:e}){const t=_.useContext(xD).id;return t&&e!==void 0?t+"-"+e:e}function IDe(e,t){_.useContext(Mee).strict}function MDe(e){const{drag:t,layout:r}=Pm;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function FDe(e,t){if(typeof Proxy>"u")return C2;const r=new Map,n=(i,o)=>C2(i,o,e,t),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,C2(o,void 0,e,t)),r.get(o))})}function Yee({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function LDe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $De(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function T2(e){return e===void 0||e===1}function jP({scale:e,scaleX:t,scaleY:r}){return!T2(e)||!T2(t)||!T2(r)}function _d(e){return jP(e)||Xee(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Xee(e){return J8(e.x)||J8(e.y)}function J8(e){return e&&e!=="0%"}function e1(e,t,r){const n=e-r,s=t*n;return r+s}function e$(e,t,r,n,s){return s!==void 0&&(e=e1(e,s,n)),e1(e,r,n)+t}function SP(e,t=0,r=1,n,s){e.min=e$(e.min,t,r,n,s),e.max=e$(e.max,t,r,n,s)}function Zee(e,{x:t,y:r}){SP(e.x,t.translate,t.scale,t.originPoint),SP(e.y,r.translate,r.scale,r.originPoint)}const t$=.999999999999,r$=1.0000000000001;function BDe(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Zee(e,o)),n&&_d(i.latestValues)&&qh(e,i.latestValues))}t.x<r$&&t.x>t$&&(t.x=1),t.y<r$&&t.y>t$&&(t.y=1)}function Wh(e,t){e.min=e.min+t,e.max=e.max+t}function n$(e,t,r,n,s=.5){const i=jn(e.min,e.max,s);SP(e,t,r,i,n)}function qh(e,t){n$(e.x,t.x,t.scaleX,t.scale,t.originX),n$(e.y,t.y,t.scaleY,t.scale,t.originY)}function Qee(e,t){return Yee($De(e.getBoundingClientRect(),t))}function UDe(e,t,r){const n=Qee(e,r),{scroll:s}=t;return s&&(Wh(n.x,s.offset.x),Wh(n.y,s.offset.y)),n}const s$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hh=()=>({x:s$(),y:s$()}),a$=()=>({min:0,max:0}),Wn=()=>({x:a$(),y:a$()}),NP={current:null},Jee={current:!1};function VDe(){if(Jee.current=!0,!!yD)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NP.current=e.matches;e.addEventListener("change",t),t()}else NP.current=!1}const zDe=new WeakMap;function WDe(e,t,r){for(const n in t){const s=t[n],i=r[n];if(va(s))e.addValue(n,s);else if(va(i))e.addValue(n,Am(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Am(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const i$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qDe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MD,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Za.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,gn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ej(r),this.isVariantNode=Lee(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const g=f[m];c[m]!==void 0&&va(g)&&g.set(c[m])}}mount(t){this.current=t,zDe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Jee.current||VDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NP.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Iu(this.notifyUpdate),Iu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=wp.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&gn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pm){const r=Pm[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<i$.length;n++){const s=i$[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=WDe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Am(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(qJ(n)||GJ(n))?n=parseFloat(n):!JRe(n)&&Mu.test(r)&&(n=Cee(t,r)),this.setBaseTarget(t,va(n)?n.get():n)),va(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=GD(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!va(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new SD),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){$D.render(this.render)}}class ete extends qDe{constructor(){super(...arguments),this.KeyframeResolver=URe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;va(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function tte(e,{style:t,vars:r},n,s){const i=e.style;let o;for(o in t)i[o]=t[o];s?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function HDe(e){return window.getComputedStyle(e)}class GDe extends ete{constructor(){super(...arguments),this.type="html",this.renderInstance=tte}readValueFromInstance(t,r){if(wp.has(r))return this.projection?.isProjecting?gP(r):iRe(t,r);{const n=HDe(t),s=(ED(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Qee(t,r)}build(t,r,n){WD(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return KD(t,r,n)}}const rte=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KDe(e,t,r,n){tte(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(rte.has(s)?s:YD(s),t.attrs[s])}class YDe extends ete{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(wp.has(r)){const n=Eee(r);return n&&n.default||0}return r=rte.has(r)?r:YD(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return qee(t,r,n)}build(t,r,n){Uee(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){KDe(t,r,n,s)}mount(t){this.isSVGTag=zee(t.tagName),super.mount(t)}}const XDe=(e,t)=>HD(e)?new YDe(t):new GDe(t,{allowProjection:e!==_.Fragment});function dm(e,t,r){const n=e.getProps();return GD(n,t,r!==void 0?r:n.custom,e)}const kP=e=>Array.isArray(e);function ZDe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Am(r))}function QDe(e){return kP(e)?e[e.length-1]||0:e}function JDe(e,t){const r=dm(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=QDe(i[o]);ZDe(e,o,l)}}function eIe(e){return!!(va(e)&&e.add)}function EP(e,t){const r=e.getValue("willChange");if(eIe(r))return r.add(t);if(!r&&dc.WillChange){const n=new dc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function nte(e){return e.props[Hee]}const tIe=e=>e!==null;function rIe(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(tIe),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const nIe={type:"spring",stiffness:500,damping:25,restSpeed:10},sIe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aIe={type:"keyframes",duration:.8},iIe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oIe=(e,{keyframes:t})=>t.length>2?aIe:wp.has(e)?e.startsWith("scale")?sIe(t[1]):nIe:iIe;function lIe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const XD=(e,t,r,n={},s,i)=>o=>{const l=FD(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-hl(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};lIe(l)||Object.assign(d,oIe(e,d)),d.duration&&(d.duration=hl(d.duration)),d.repeatDelay&&(d.repeatDelay=hl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(bP(d),d.delay===0&&(f=!0)),(dc.instantAnimations||dc.skipAnimations)&&(f=!0,bP(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=rIe(d.keyframes,l);if(m!==void 0){gn.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new ID(d):new TRe(d)};function cIe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function ste(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&cIe(u,d))continue;const g={delay:r,...FD(i||{},d)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===y&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const j=nte(e);if(j){const S=window.MotionHandoffAnimation(j,d,gn);S!==null&&(g.startTime=S,x=!0)}}EP(e,d),f.start(XD(d,f,m,e.shouldReduceMotion&&See.has(d)?{type:!1}:g,e,x));const v=f.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{gn.update(()=>{o&&JDe(e,o)})}),c}function ate(e,t,r,n=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function CP(e,t,r={}){const n=dm(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(ste(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return uIe(e,t,c,u,d,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function uIe(e,t,r=0,n=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(CP(c,t,{...o,delay:r+(typeof n=="function"?0:n)+ate(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function dIe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>CP(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=CP(e,t,r);else{const s=typeof t=="function"?dm(e,t,r.custom):t;n=Promise.all(ste(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function ite(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const fIe=zD.length;function ote(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?ote(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<fIe;r++){const n=zD[r],s=e.props[n];(lx(s)||s===!1)&&(t[n]=s)}return t}const hIe=[...VD].reverse(),mIe=VD.length;function pIe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>dIe(e,r,n)))}function gIe(e){let t=pIe(e),r=o$(),n=!0;const s=c=>(u,d)=>{const f=dm(e,d,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=ote(e.parent)||{},f=[],m=new Set;let g={},y=1/0;for(let v=0;v<mIe;v++){const j=hIe[v],S=r[j],w=u[j]!==void 0?u[j]:d[j],T=lx(w),E=j===c?S.isActive:null;E===!1&&(y=v);let N=w===d[j]&&w!==u[j]&&T;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),S.protectedKeys={...g},!S.isActive&&E===null||!w&&!S.prevProp||J_(w)||typeof w=="boolean")continue;const k=xIe(S.prevProp,w);let R=k||j===c&&S.isActive&&!N&&T||v>y&&T,A=!1;const I=Array.isArray(w)?w:[w];let P=I.reduce(s(j),{});E===!1&&(P={});const{prevResolvedValues:D={}}=S,B={...D,...P},U=W=>{R=!0,m.has(W)&&(A=!0,m.delete(W)),S.needsAnimating[W]=!0;const K=e.getValue(W);K&&(K.liveStyle=!1)};for(const W in B){const K=P[W],V=D[W];if(g.hasOwnProperty(W))continue;let z=!1;kP(K)&&kP(V)?z=!ite(K,V):z=K!==V,z?K!=null?U(W):m.add(W):K!==void 0&&m.has(W)?U(W):S.protectedKeys[W]=!0}S.prevProp=w,S.prevResolvedValues=P,S.isActive&&(g={...g,...P}),n&&e.blockInitialAnimation&&(R=!1);const H=N&&k;R&&(!H||A)&&f.push(...I.map(W=>{const K={type:j};if(typeof W=="string"&&n&&!H&&e.manuallyAnimateOnMount&&e.parent){const{parent:V}=e,z=dm(V,W);if(V.enteringChildren&&z){const{delayChildren:G}=z.transition||{};K.delay=ate(V.enteringChildren,e,G)}}return{animation:W,options:K}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const j=dm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);j&&j.transition&&(v.transition=j.transition)}m.forEach(j=>{const S=e.getBaseTarget(j),w=e.getValue(j);w&&(w.liveStyle=!0),v[j]=S??null}),f.push({animation:v})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){if(r[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),r[c].isActive=u;const d=o(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=o$()}}}function xIe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ite(t,e):!1}function gd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o$(){return{animate:gd(!0),whileInView:gd(),whileHover:gd(),whileTap:gd(),whileDrag:gd(),whileFocus:gd(),exit:gd()}}class Ku{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vIe extends Ku{constructor(t){super(t),t.animationState||(t.animationState=gIe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();J_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yIe=0;class wIe extends Ku{constructor(){super(...arguments),this.id=yIe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const bIe={animation:{Feature:vIe},exit:{Feature:wIe}};function ux(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Iv(e){return{point:{x:e.pageX,y:e.pageY}}}const _Ie=e=>t=>BD(t)&&e(t,Iv(t));function ug(e,t,r,n){return ux(e,t,_Ie(r),n)}const lte=1e-4,jIe=1-lte,SIe=1+lte,cte=.01,NIe=0-cte,kIe=0+cte;function Ra(e){return e.max-e.min}function EIe(e,t,r){return Math.abs(e-t)<=r}function l$(e,t,r,n=.5){e.origin=n,e.originPoint=jn(t.min,t.max,e.origin),e.scale=Ra(r)/Ra(t),e.translate=jn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=jIe&&e.scale<=SIe||isNaN(e.scale))&&(e.scale=1),(e.translate>=NIe&&e.translate<=kIe||isNaN(e.translate))&&(e.translate=0)}function dg(e,t,r,n){l$(e.x,t.x,r.x,n?n.originX:void 0),l$(e.y,t.y,r.y,n?n.originY:void 0)}function c$(e,t,r){e.min=r.min+t.min,e.max=e.min+Ra(t)}function CIe(e,t,r){c$(e.x,t.x,r.x),c$(e.y,t.y,r.y)}function u$(e,t,r){e.min=t.min-r.min,e.max=e.min+Ra(t)}function fg(e,t,r){u$(e.x,t.x,r.x),u$(e.y,t.y,r.y)}function Gi(e){return[e("x"),e("y")]}const ute=({current:e})=>e?e.ownerDocument.defaultView:null,d$=(e,t)=>Math.abs(e-t);function TIe(e,t){const r=d$(e.x,t.x),n=d$(e.y,t.y);return Math.sqrt(r**2+n**2)}class dte{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=P2(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=TIe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:x}=m,{timestamp:v}=Gs;this.history.push({...x,timestamp:v});const{onStart:j,onMove:S}=this.handlers;g||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=A2(g,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=P2(m.type==="pointercancel"?this.lastMoveEventInfo:A2(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,j),x&&x(m,j)},!BD(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=Iv(t),c=A2(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Gs;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,P2(c,this.history)),this.removeListeners=Ov(ug(this.contextWindow,"pointermove",this.handlePointerMove),ug(this.contextWindow,"pointerup",this.handlePointerUp),ug(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Iu(this.updatePoint)}}function A2(e,t){return t?{point:t(e.point)}:e}function f$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function P2({point:e},t){return{point:e,delta:f$(e,fte(t)),offset:f$(e,AIe(t)),velocity:PIe(t,.1)}}function AIe(e){return e[0]}function fte(e){return e[e.length-1]}function PIe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=fte(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>hl(t)));)r--;if(!n)return{x:0,y:0};const i=no(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OIe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?jn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?jn(r,e,n.max):Math.min(e,r)),e}function h$(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function RIe(e,{top:t,left:r,bottom:n,right:s}){return{x:h$(e.x,r,s),y:h$(e.y,t,n)}}function m$(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function DIe(e,t){return{x:m$(e.x,t.x),y:m$(e.y,t.y)}}function IIe(e,t){let r=.5;const n=Ra(e),s=Ra(t);return s>n?r=ax(t.min,t.max-n,e.min):n>s&&(r=ax(e.min,e.max-s,t.min)),uc(0,1,r)}function MIe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const TP=.35;function FIe(e=TP){return e===!1?e=0:e===!0&&(e=TP),{x:p$(e,"left","right"),y:p$(e,"top","bottom")}}function p$(e,t,r){return{min:g$(e,t),max:g$(e,r)}}function g$(e,t){return typeof e=="number"?e:e[t]||0}const LIe=new WeakMap;class $Ie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Iv(f).point)},o=(f,m)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qRe(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(j=>{let S=this.getAxisMotionValue(j).get()||0;if(ml.test(S)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[j];T&&(S=Ra(T)*(parseFloat(S)/100))}}this.originPoint[j]=S}),x&&gn.postRender(()=>x(f,m)),EP(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:j}=m;if(y&&this.currentDirection===null){this.currentDirection=BIe(j),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),v&&v(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Gi(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new dte(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:ute(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&gn.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ew(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=OIe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&zh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=RIe(n.layoutBox,t):this.constraints=!1,this.elastic=FIe(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Gi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=MIe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!zh(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=UDe(n,s.root,this.visualElement.getTransformPagePoint());let o=DIe(s.layout.layoutBox,i);if(r){const l=r(LDe(o));this.hasMutatedConstraints=!!l,l&&(o=Yee(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Gi(d=>{if(!Ew(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return EP(this.visualElement,t),n.start(XD(t,n,0,r,this.visualElement,!1))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Gi(r=>{const{drag:n}=this.getProps();if(!Ew(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-jn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!zh(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=IIe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gi(o=>{if(!Ew(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(jn(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;LIe.set(this.visualElement,this);const t=this.visualElement.current,r=ug(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();zh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gn.read(n);const o=ux(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=TP,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ew(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function BIe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class UIe extends Ku{constructor(t){super(t),this.removeGroupControls=lo,this.removeListeners=lo,this.controls=new $Ie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lo}unmount(){this.removeGroupControls(),this.removeListeners()}}const x$=e=>(t,r)=>{e&&gn.postRender(()=>e(t,r))};class VIe extends Ku{constructor(){super(...arguments),this.removePointerDownListener=lo}onPointerDown(t){this.session=new dte(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ute(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:x$(t),onStart:x$(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&gn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ug(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const w0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Gt.test(e))e=parseFloat(e);else return e;const r=v$(e,t.target.x),n=v$(e,t.target.y);return`${r}% ${n}%`}},zIe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Mu.parse(e);if(s.length>5)return n;const i=Mu.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=jn(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let O2=!1;class WIe extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;fDe(qIe),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),O2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,O2=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||gn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$D.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;O2=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hte(e){const[t,r]=Iee(),n=_.useContext(xD);return a.jsx(WIe,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(Gee),isPresent:t,safeToRemove:r})}const qIe={borderRadius:{...w0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:w0,borderTopRightRadius:w0,borderBottomLeftRadius:w0,borderBottomRightRadius:w0,boxShadow:zIe};function HIe(e,t,r){const n=va(e)?e:Am(e);return n.start(XD("",n,t,r)),n.animation}const GIe=(e,t)=>e.depth-t.depth;class KIe{constructor(){this.children=[],this.isDirty=!1}add(t){wD(this.children,t),this.isDirty=!0}remove(t){bD(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GIe),this.isDirty=!1,this.children.forEach(t)}}function YIe(e,t){const r=Za.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Iu(n),e(i-t))};return gn.setup(n,!0),()=>Iu(n)}const mte=["TopLeft","TopRight","BottomLeft","BottomRight"],XIe=mte.length,y$=e=>typeof e=="string"?parseFloat(e):e,w$=e=>typeof e=="number"||Gt.test(e);function ZIe(e,t,r,n,s,i){s?(e.opacity=jn(0,r.opacity??1,QIe(n)),e.opacityExit=jn(t.opacity??1,0,JIe(n))):i&&(e.opacity=jn(t.opacity??1,r.opacity??1,n));for(let o=0;o<XIe;o++){const l=`border${mte[o]}Radius`;let c=b$(t,l),u=b$(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||w$(c)===w$(u)?(e[l]=Math.max(jn(y$(c),y$(u),n),0),(ml.test(u)||ml.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=jn(t.rotate||0,r.rotate||0,n))}function b$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QIe=pte(0,.5,tee),JIe=pte(.5,.95,lo);function pte(e,t,r){return n=>n<e?0:n>t?1:r(ax(e,t,n))}function _$(e,t){e.min=t.min,e.max=t.max}function Bi(e,t){_$(e.x,t.x),_$(e.y,t.y)}function j$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function S$(e,t,r,n,s){return e-=t,e=e1(e,1/r,n),s!==void 0&&(e=e1(e,1/s,n)),e}function eMe(e,t=0,r=1,n=.5,s,i=e,o=e){if(ml.test(t)&&(t=parseFloat(t),t=jn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=jn(i.min,i.max,n);e===i&&(l-=t),e.min=S$(e.min,t,r,l,s),e.max=S$(e.max,t,r,l,s)}function N$(e,t,[r,n,s],i,o){eMe(e,t[r],t[n],t[s],t.scale,i,o)}const tMe=["x","scaleX","originX"],rMe=["y","scaleY","originY"];function k$(e,t,r,n){N$(e.x,t,tMe,r?r.x:void 0,n?n.x:void 0),N$(e.y,t,rMe,r?r.y:void 0,n?n.y:void 0)}function E$(e){return e.translate===0&&e.scale===1}function gte(e){return E$(e.x)&&E$(e.y)}function C$(e,t){return e.min===t.min&&e.max===t.max}function nMe(e,t){return C$(e.x,t.x)&&C$(e.y,t.y)}function T$(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xte(e,t){return T$(e.x,t.x)&&T$(e.y,t.y)}function A$(e){return Ra(e.x)/Ra(e.y)}function P$(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sMe{constructor(){this.members=[]}add(t){wD(this.members,t),t.scheduleRender()}remove(t){if(bD(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aMe(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:g,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),g&&(n+=`skewX(${g}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const R2=["","X","Y","Z"],iMe=1e3;let oMe=0;function D2(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function vte(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=nte(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",gn,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&vte(n)}function yte({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t?.()){this.id=oMe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uMe),this.nodes.forEach(mMe),this.nodes.forEach(pMe),this.nodes.forEach(dMe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new KIe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new SD),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Dee(o)&&!ZRe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=YIe(m,250),tb.hasAnimatedSinceResize&&(tb.hasAnimatedSinceResize=!1,this.nodes.forEach(D$)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||wMe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),j=!this.targetLayout||!xte(this.targetLayout,g),S=!f&&m;if(this.options.layoutRoot||this.resumeFrom||S||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...FD(y,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,S)}else f||D$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gMe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(R$);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hMe),this.nodes.forEach(lMe),this.nodes.forEach(cMe)):this.nodes.forEach(R$),this.clearAllSnapshots();const l=Za.now();Gs.delta=uc(0,1e3/60,l-Gs.timestamp),Gs.timestamp=l,Gs.isProcessing=!0,_2.update.process(Gs),_2.preRender.process(Gs),_2.render.process(Gs),Gs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$D.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fMe),this.sharedNodes.forEach(xMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ra(this.snapshot.measuredBox.x)&&!Ra(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gte(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||_d(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),bMe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wn();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_Me))){const{scroll:u}=this.root;u&&(Wh(l.x,u.offset.x),Wh(l.y,u.offset.y))}return l}removeElementScroll(o){const l=Wn();if(Bi(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Bi(l,o),Wh(l.x,d.offset.x),Wh(l.y,d.offset.y))}return l}applyTransform(o,l=!1){const c=Wn();Bi(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_d(d.latestValues)&&qh(c,d.latestValues)}return _d(this.latestValues)&&qh(c,this.latestValues),c}removeTransform(o){const l=Wn();Bi(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!_d(u.latestValues))continue;jP(u.latestValues)&&u.updateSnapshot();const d=Wn(),f=u.measurePageBox();Bi(d,f),k$(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _d(this.latestValues)&&k$(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Gs.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),fg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wn(),this.targetWithTransforms=Wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CIe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),Zee(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wn(),this.relativeTargetOrigin=Wn(),fg(this.relativeTargetOrigin,this.target,m.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jP(this.parent.latestValues)||Xee(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Bi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;BDe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j$(this.prevProjectionDelta.x,this.projectionDelta.x),j$(this.prevProjectionDelta.y,this.projectionDelta.y)),dg(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!P$(this.projectionDelta.x,this.prevProjectionDelta.x)||!P$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hh(),this.projectionDelta=Hh(),this.projectionDeltaWithTransform=Hh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Hh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Wn(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=g!==y,v=this.getStack(),j=!v||v.members.length<=1,S=!!(x&&!j&&this.options.crossfade===!0&&!this.path.some(yMe));this.animationProgress=0;let w;this.mixTargetDelta=T=>{const E=T/1e3;I$(f.x,o.x,E),I$(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fg(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vMe(this.relativeTarget,this.relativeTargetOrigin,m,E),w&&nMe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Wn()),Bi(w,this.relativeTarget)),x&&(this.animationValues=d,ZIe(d,u,this.latestValues,E,S,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{tb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Am(0)),this.currentAnimation=HIe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iMe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&wte(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Wn();const f=Ra(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Ra(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Bi(l,c),qh(l,d),dg(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sMe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&D2("z",o,u,this.animationValues);for(let d=0;d<R2.length;d++)D2(`rotate${R2[d]}`,o,u,this.animationValues),D2(`skew${R2[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=eb(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=eb(l?.pointerEvents)||""),this.hasProjected&&!_d(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=aMe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:g}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in cx){if(d[y]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:j}=cx[y],S=f==="none"?d[y]:x(d[y],u);if(v){const w=v.length;for(let T=0;T<w;T++)o[v[T]]=S}else j?this.options.visualElement.renderState.vars[y]=S:o[y]=S}this.options.layoutId&&(o.pointerEvents=u===this?eb(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(O$),this.root.sharedNodes.clear()}}}function lMe(e){e.updateLayout()}function cMe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Gi(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Ra(f);f.min=r[d].min,f.max=f.min+m}):wte(s,t.layoutBox,r)&&Gi(d=>{const f=i?t.measuredBox[d]:t.layoutBox[d],m=Ra(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=Hh();dg(o,r,t.layoutBox);const l=Hh();i?dg(l,e.applyTransform(n,!0),t.measuredBox):dg(l,r,t.layoutBox);const c=!gte(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const g=Wn();fg(g,t.layoutBox,f.layoutBox);const y=Wn();fg(y,r,m.layoutBox),xte(g,y)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function uMe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dMe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fMe(e){e.clearSnapshot()}function O$(e){e.clearMeasurements()}function R$(e){e.isLayoutDirty=!1}function hMe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D$(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mMe(e){e.resolveTargetDelta()}function pMe(e){e.calcProjection()}function gMe(e){e.resetSkewAndRotation()}function xMe(e){e.removeLeadSnapshot()}function I$(e,t,r){e.translate=jn(t.translate,0,r),e.scale=jn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function M$(e,t,r,n){e.min=jn(t.min,r.min,n),e.max=jn(t.max,r.max,n)}function vMe(e,t,r,n){M$(e.x,t.x,r.x,n),M$(e.y,t.y,r.y,n)}function yMe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wMe={duration:.45,ease:[.4,0,.1,1]},F$=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),L$=F$("applewebkit/")&&!F$("chrome/")?Math.round:lo;function $$(e){e.min=L$(e.min),e.max=L$(e.max)}function bMe(e){$$(e.x),$$(e.y)}function wte(e,t,r){return e==="position"||e==="preserve-aspect"&&!EIe(A$(t),A$(r),.2)}function _Me(e){return e!==e.root&&e.scroll?.wasRoot}const jMe=yte({attachResizeListener:(e,t)=>ux(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),I2={current:void 0},bte=yte({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!I2.current){const e=new jMe({});e.mount(window),e.setOptions({layoutScroll:!0}),I2.current=e}return I2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),SMe={pan:{Feature:VIe},drag:{Feature:UIe,ProjectionNode:bte,MeasureLayout:hte}};function B$(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&gn.postRender(()=>i(t,Iv(t)))}class NMe extends Ku{mount(){const{current:t}=this.node;t&&(this.unmount=HRe(t,(r,n)=>(B$(this.node,n,"Start"),s=>B$(this.node,s,"End"))))}unmount(){}}class kMe extends Ku{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ov(ux(this.node.current,"focus",()=>this.onFocus()),ux(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function U$(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&gn.postRender(()=>i(t,Iv(t)))}class EMe extends Ku{mount(){const{current:t}=this.node;t&&(this.unmount=XRe(t,(r,n)=>(U$(this.node,n,"Start"),(s,{success:i})=>U$(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AP=new WeakMap,M2=new WeakMap,CMe=e=>{const t=AP.get(e.target);t&&t(e)},TMe=e=>{e.forEach(CMe)};function AMe({root:e,...t}){const r=e||document;M2.has(r)||M2.set(r,{});const n=M2.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(TMe,{root:e,...t})),n[s]}function PMe(e,t,r){const n=AMe(t);return AP.set(e,r),n.observe(e),()=>{AP.delete(e),n.unobserve(e)}}const OMe={some:0,all:1};class RMe extends Ku{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:OMe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return PMe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(DMe(t,r))&&this.startObserver()}unmount(){}}function DMe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const IMe={inView:{Feature:RMe},tap:{Feature:EMe},focus:{Feature:kMe},hover:{Feature:NMe}},MMe={layout:{ProjectionNode:bte,MeasureLayout:hte}},FMe={...bIe,...IMe,...SMe,...MMe},hg=FDe(FMe,XDe),Om=({id:e,slug:t,name:r,category:n,priceRange:s,price_range:i,images:o,status:l,storeSlug:c})=>{const u=nr(),[d,f]=_.useState(!1),m=o&&o.length>0?o[0]:"/placeholder.svg",g=s||i||"Price on request",y=t||e,v=wl()?`/products/${y}`:c?`/${c}/products/${y}`:`/products/${y}`,j=S=>{S.preventDefault(),!d&&(f(!0),setTimeout(()=>{u(v)},700))};return a.jsx(hg.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},animate:d?{scale:.95}:{scale:1},onClick:j,className:"cursor-pointer",children:a.jsxs(we,{className:"group hover:shadow-lg transition-all duration-300 overflow-hidden",children:[a.jsx(_e,{className:"p-0",children:a.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[a.jsx(pu,{src:m,alt:V0({productName:r,storeName:c,category:n||void 0}),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l==="draft"&&a.jsx(vt,{className:"absolute top-2 right-2",variant:"secondary",children:"Coming Soon"})]})}),a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:n}),a.jsx("h3",{className:"font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:r}),a.jsx("p",{className:"text-lg font-bold text-primary",children:g})]}),a.jsx(tG,{className:"p-4 pt-0",children:a.jsx(le,{className:"w-full min-h-[44px]",variant:"outline",children:"View Details"})})]})})},ZD=({name:e,image_url:t,productCount:r=0,slug:n})=>{const s=nr(),[i,o]=_.useState(!1),c=wl()?`/products?category=${encodeURIComponent(e)}`:n?`/${n}/products?category=${encodeURIComponent(e)}`:`/products?category=${encodeURIComponent(e)}`,u=["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&h=500&fit=crop","https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop"],f=t?nx(t):(()=>{const g=e.split("").reduce((y,x)=>y+x.charCodeAt(0),0);return u[g%u.length]})(),m=()=>{i||(o(!0),setTimeout(()=>{s(c)},700))};return a.jsx("div",{className:"block p-2 cursor-pointer",onClick:m,children:a.jsx(hg.div,{whileHover:{y:-8,scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},className:"group h-full",animate:i?{scale:.95}:{scale:1},children:a.jsx(we,{className:"relative h-full border-2 border-transparent bg-card/50 backdrop-blur-sm hover:bg-card hover:border-primary transition-all duration-500 shadow-md hover:shadow-[0_5px_40px_-20px_rgba(0,0,0,0.4)] rounded-2xl",children:a.jsx(_e,{className:"p-0 relative",children:a.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:[a.jsx(pu,{src:f,alt:n4e(e),className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-90 group-hover:brightness-100"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/40 to-transparent opacity-80 group-hover:opacity-70 transition-opacity duration-500"}),a.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3 transform translate-y-0 transition-transform duration-500",children:[a.jsx("h3",{className:"font-bold text-base md:text-lg text-foreground drop-shadow-lg transition-colors duration-300",children:e}),r!==void 0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-90 group-hover:text-primary transition-colors duration-300",children:[r," ",r===1?"product":"products"]})]})]})})})})})},tj=({size:e="md",className:t,text:r})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a.jsxs("div",{className:Je("flex flex-col items-center justify-center gap-3",t),children:[a.jsx(bs,{className:Je("animate-spin text-primary",n[e])}),r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})},LMe=({text:e="Loading..."})=>a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(tj,{size:"lg",text:e})});function $Me(e){return Object.prototype.toString.call(e)==="[object Object]"}function V$(e){return $Me(e)||Array.isArray(e)}function BMe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function QD(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!V$(l)||!V$(c)?l===c:QD(l,c)})}function z$(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function UMe(e,t){if(e.length!==t.length)return!1;const r=z$(e),n=z$(t);return r.every((s,i)=>{const o=n[i];return QD(s,o)})}function JD(e){return typeof e=="number"}function PP(e){return typeof e=="string"}function rj(e){return typeof e=="boolean"}function W$(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sn(e){return Math.abs(e)}function eI(e){return Math.sign(e)}function mg(e,t){return Sn(e-t)}function VMe(e,t){if(e===0||t===0||Sn(e)<=Sn(t))return 0;const r=mg(Sn(e),Sn(t));return Sn(r/e)}function zMe(e){return Math.round(e*100)/100}function dx(e){return fx(e).map(Number)}function Uo(e){return e[Mv(e)]}function Mv(e){return Math.max(0,e.length-1)}function tI(e,t){return t===Mv(e)}function q$(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function fx(e){return Object.keys(e)}function _te(e,t){return[e,t].reduce((r,n)=>(fx(n).forEach(s=>{const i=r[s],o=n[s],l=W$(i)&&W$(o);r[s]=l?_te(i,o):o}),r),{})}function OP(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function WMe(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,u){return PP(e)?r[e](c):e(t,c,u)}return{measure:o}}function hx(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function qMe(e,t,r,n){const s=hx(),i=1e3/60;let o=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&y()})}function d(){g(),s.clear()}function f(v){if(!c)return;o||(o=v,r(),r());const j=v-o;for(o=v,l+=j;l>=i;)r(),l-=i;const S=l/i;n(S),c&&(c=t.requestAnimationFrame(f))}function m(){c||(c=t.requestAnimationFrame(f))}function g(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function y(){o=null,l=0}return{init:u,destroy:d,start:m,stop:g,update:r,render:n}}function HMe(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=d(),c=f();function u(y){const{height:x,width:v}=y;return n?x:v}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function m(y){return y*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function pf(e=0,t=0){const r=Sn(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function jte(e,t,r){const{constrain:n}=pf(0,e),s=e+1;let i=o(t);function o(m){return r?Sn((s+m)%s):n(m)}function l(){return i}function c(m){return i=o(m),f}function u(m){return d().set(l()+m)}function d(){return jte(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function GMe(e,t,r,n,s,i,o,l,c,u,d,f,m,g,y,x,v,j,S){const{cross:w,direction:T}=e,E=["INPUT","SELECT","TEXTAREA"],N={passive:!1},k=hx(),R=hx(),A=pf(50,225).constrain(g.measure(20)),I={mouse:300,touch:400},P={mouse:500,touch:600},D=y?43:25;let B=!1,U=0,H=0,M=!1,W=!1,K=!1,V=!1;function z(q){if(!S)return;function ke(xe){(rj(S)||S(q,xe))&&ee(xe)}const ye=t;k.add(ye,"dragstart",xe=>xe.preventDefault(),N).add(ye,"touchmove",()=>{},N).add(ye,"touchend",()=>{}).add(ye,"touchstart",ke).add(ye,"mousedown",ke).add(ye,"touchcancel",pe).add(ye,"contextmenu",pe).add(ye,"click",Y,!0)}function G(){k.clear(),R.clear()}function F(){const q=V?r:t;R.add(q,"touchmove",ce,N).add(q,"touchend",pe).add(q,"mousemove",ce,N).add(q,"mouseup",pe)}function X(q){const ke=q.nodeName||"";return E.includes(ke)}function Z(){return(y?P:I)[V?"mouse":"touch"]}function re(q,ke){const ye=f.add(eI(q)*-1),xe=d.byDistance(q,!y).distance;return y||Sn(q)<A?xe:v&&ke?xe*.5:d.byIndex(ye.get(),0).distance}function ee(q){const ke=OP(q,n);V=ke,K=y&&ke&&!q.buttons&&B,B=mg(s.get(),o.get())>=2,!(ke&&q.button!==0)&&(X(q.target)||(M=!0,i.pointerDown(q),u.useFriction(0).useDuration(0),s.set(o),F(),U=i.readPoint(q),H=i.readPoint(q,w),m.emit("pointerDown")))}function ce(q){if(!OP(q,n)&&q.touches.length>=2)return pe(q);const ye=i.readPoint(q),xe=i.readPoint(q,w),Re=mg(ye,U),je=mg(xe,H);if(!W&&!V&&(!q.cancelable||(W=Re>je,!W)))return pe(q);const mt=i.pointerMove(q);Re>x&&(K=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(T(mt)),q.preventDefault()}function pe(q){const ye=d.byDistance(0,!1).index!==f.get(),xe=i.pointerUp(q)*Z(),Re=re(T(xe),ye),je=VMe(xe,Re),mt=D-10*je,ht=j+je/50;W=!1,M=!1,R.clear(),u.useDuration(mt).useFriction(ht),c.distance(Re,!y),V=!1,m.emit("pointerUp")}function Y(q){K&&(q.stopPropagation(),q.preventDefault(),K=!1)}function Q(){return M}return{init:z,destroy:G,pointerDown:Q}}function KMe(e,t){let n,s;function i(f){return f.timeStamp}function o(f,m){const y=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(OP(f,t)?f:f.touches[0])[y]}function l(f){return n=f,s=f,o(f)}function c(f){const m=o(f)-o(s),g=i(f)-i(n)>170;return s=f,g&&(n=f),m}function u(f){if(!n||!s)return 0;const m=o(s)-o(n),g=i(f)-i(n),y=i(f)-i(s)>170,x=m/g;return g&&!y&&Sn(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function YMe(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:s+i,bottom:n+o,left:s,width:i,height:o}}return{measure:e}}function XMe(e){function t(n){return e*(n/100)}return{measure:t}}function ZMe(e,t,r,n,s,i,o){const l=[e].concat(n);let c,u,d=[],f=!1;function m(v){return s.measureSize(o.measure(v))}function g(v){if(!i)return;u=m(e),d=n.map(m);function j(S){for(const w of S){if(f)return;const T=w.target===e,E=n.indexOf(w.target),N=T?u:d[E],k=m(T?e:n[E]);if(Sn(k-N)>=.5){v.reInit(),t.emit("resize");break}}}c=new ResizeObserver(S=>{(rj(i)||i(v,S))&&j(S)}),r.requestAnimationFrame(()=>{l.forEach(S=>c.observe(S))})}function y(){f=!0,c&&c.disconnect()}return{init:g,destroy:y}}function QMe(e,t,r,n,s,i){let o=0,l=0,c=s,u=i,d=e.get(),f=0;function m(){const N=n.get()-e.get(),k=!c;let R=0;return k?(o=0,r.set(n),e.set(n),R=N):(r.set(e),o+=N/c,o*=u,d+=o,e.add(o),R=d-f),l=eI(R),f=d,E}function g(){const N=n.get()-t.get();return Sn(N)<.001}function y(){return c}function x(){return l}function v(){return o}function j(){return w(s)}function S(){return T(i)}function w(N){return c=N,E}function T(N){return u=N,E}const E={direction:x,duration:y,velocity:v,seek:m,settled:g,useBaseFriction:S,useBaseDuration:j,useFriction:T,useDuration:w};return E}function JMe(e,t,r,n,s){const i=s.measure(10),o=s.measure(50),l=pf(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(g){if(!u())return;const y=e.reachedMin(t.get())?"min":"max",x=Sn(e[y]-t.get()),v=r.get()-t.get(),j=l.constrain(x/o);r.subtract(v*j),!g&&Sn(v)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(g){c=!g}return{shouldConstrain:u,constrain:d,toggleActive:f}}function e3e(e,t,r,n,s){const i=pf(-t+e,0),o=f(),l=d(),c=m();function u(y,x){return mg(y,x)<=1}function d(){const y=o[0],x=Uo(o),v=o.lastIndexOf(y),j=o.indexOf(x)+1;return pf(v,j)}function f(){return r.map((y,x)=>{const{min:v,max:j}=i,S=i.constrain(y),w=!x,T=tI(r,x);return w?j:T||u(v,S)?v:u(j,S)?j:S}).map(y=>parseFloat(y.toFixed(3)))}function m(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return o;const{min:y,max:x}=l;return o.slice(y,x)}return{snapsContained:c,scrollContainLimit:l}}function t3e(e,t,r){const n=t[0],s=r?n-e:Uo(t);return{limit:pf(s,n)}}function r3e(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=pf(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function d(m){if(!u(m))return;const g=e*(m*-1);n.forEach(y=>y.add(g))}return{loop:d}}function n3e(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function s3e(e,t,r,n,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=f().map(t.measure),u=m(),d=g();function f(){return l(n).map(x=>Uo(x)[o]-x[0][i]).map(Sn)}function m(){return n.map(x=>r[i]-x[i]).map(x=>-Sn(x))}function g(){return l(u).map(x=>x[0]).map((x,v)=>x+c[v])}return{snaps:u,snapsAligned:d}}function a3e(e,t,r,n,s,i){const{groupSlides:o}=s,{min:l,max:c}=n,u=d();function d(){const m=o(i),g=!e||t==="keepSnaps";return r.length===1?[i]:g?m:m.slice(l,c).map((y,x,v)=>{const j=!x,S=tI(v,x);if(j){const w=Uo(v[0])+1;return q$(w)}if(S){const w=Mv(i)-Uo(v)[0]+1;return q$(w,Uo(v)[0])}return y})}return{slideRegistry:u}}function i3e(e,t,r,n,s){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(y){return y.concat().sort((x,v)=>Sn(x)-Sn(v))[0]}function u(y){const x=e?o(y):l(y),v=t.map((S,w)=>({diff:d(S-x,0),index:w})).sort((S,w)=>Sn(S.diff)-Sn(w.diff)),{index:j}=v[0];return{index:j,distance:x}}function d(y,x){const v=[y,y+r,y-r];if(!e)return y;if(!x)return c(v);const j=v.filter(S=>eI(S)===x);return j.length?c(j):Uo(v)-r}function f(y,x){const v=t[y]-s.get(),j=d(v,x);return{index:y,distance:j}}function m(y,x){const v=s.get()+y,{index:j,distance:S}=u(v),w=!e&&i(v);if(!x||w)return{index:j,distance:y};const T=t[j]-S,E=y+d(T,0);return{index:j,distance:E}}return{byDistance:m,byIndex:f,shortcut:d}}function o3e(e,t,r,n,s,i,o){function l(f){const m=f.distance,g=f.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,m){const g=s.byDistance(f,m);l(g)}function u(f,m){const g=t.clone().set(f),y=s.byIndex(g.get(),m);l(y)}return{distance:c,index:u}}function l3e(e,t,r,n,s,i,o,l){const c={passive:!0,capture:!0};let u=0;function d(g){if(!l)return;function y(x){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const S=r.findIndex(w=>w.includes(x));JD(S)&&(s.useDuration(0),n.index(S,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((x,v)=>{i.add(x,"focus",j=>{(rj(l)||l(g,j))&&y(v)},c)})}function f(g){g.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function W0(e){let t=e;function r(){return t}function n(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return JD(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function Ste(e,t){const r=e.scroll==="x"?o:l,n=t.style;let s=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const g=zMe(e.direction(m));g!==s&&(n.transform=r(g),s=g)}function u(m){i=!m}function d(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function c3e(e,t,r,n,s,i,o,l,c){const d=dx(s),f=dx(s).reverse(),m=j().concat(S());function g(k,R){return k.reduce((A,I)=>A-s[I],R)}function y(k,R){return k.reduce((A,I)=>g(A,R)>0?A.concat([I]):A,[])}function x(k){return i.map((R,A)=>({start:R-n[A]+.5+k,end:R+t-.5+k}))}function v(k,R,A){const I=x(R);return k.map(P=>{const D=A?0:-r,B=A?r:0,U=A?"end":"start",H=I[P][U];return{index:P,loopPoint:H,slideLocation:W0(-1),translate:Ste(e,c[P]),target:()=>l.get()>H?D:B}})}function j(){const k=o[0],R=y(f,k);return v(R,r,!1)}function S(){const k=t-o[0]-1,R=y(d,k);return v(R,-r,!0)}function w(){return m.every(({index:k})=>{const R=d.filter(A=>A!==k);return g(R,t)<=.1})}function T(){m.forEach(k=>{const{target:R,translate:A,slideLocation:I}=k,P=R();P!==I.get()&&(A.to(P),I.set(P))})}function E(){m.forEach(k=>k.translate.clear())}return{canLoop:w,clear:E,loop:T,loopPoints:m}}function u3e(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(rj(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:i,destroy:o}}function d3e(e,t,r,n){const s={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(y=>{c||(y.forEach(x=>{const v=t.indexOf(x.target);s[v]=x}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(y=>l.observe(y))}function d(){l&&l.disconnect(),c=!0}function f(y){return fx(s).reduce((x,v)=>{const j=parseInt(v),{isIntersecting:S}=s[j];return(y&&S||!y&&!S)&&x.push(j),x},[])}function m(y=!0){if(y&&i)return i;if(!y&&o)return o;const x=f(y);return y&&(i=x),y||(o=x),x}return{init:u,destroy:d,get:m}}function f3e(e,t,r,n,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=y(),f=x(),m=r.map(o),g=v();function y(){if(!u)return 0;const S=r[0];return Sn(t[l]-S[l])}function x(){if(!u)return 0;const S=i.getComputedStyle(Uo(n));return parseFloat(S.getPropertyValue(`margin-${c}`))}function v(){return r.map((S,w,T)=>{const E=!w,N=tI(T,w);return E?m[w]+d:N?m[w]+f:T[w+1][l]-S[l]}).map(Sn)}return{slideSizes:m,slideSizesWithGaps:g,startGap:d,endGap:f}}function h3e(e,t,r,n,s,i,o,l,c){const{startEdge:u,endEdge:d,direction:f}=e,m=JD(r);function g(j,S){return dx(j).filter(w=>w%S===0).map(w=>j.slice(w,w+S))}function y(j){return j.length?dx(j).reduce((S,w,T)=>{const E=Uo(S)||0,N=E===0,k=w===Mv(j),R=s[u]-i[E][u],A=s[u]-i[w][d],I=!n&&N?f(o):0,P=!n&&k?f(l):0,D=Sn(A-P-(R+I));return T&&D>t+c&&S.push(w),k&&S.push(j.length),S},[]).map((S,w,T)=>{const E=Math.max(T[w-1]||0);return j.slice(E,S)}):[]}function x(j){return m?g(j,r):y(j)}return{groupSlides:x}}function m3e(e,t,r,n,s,i,o){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:m,dragFree:g,dragThreshold:y,inViewThreshold:x,slidesToScroll:v,skipSnaps:j,containScroll:S,watchResize:w,watchSlides:T,watchDrag:E,watchFocus:N}=i,k=2,R=YMe(),A=R.measure(t),I=r.map(R.measure),P=HMe(c,u),D=P.measureSize(A),B=XMe(D),U=WMe(l,D),H=!f&&!!S,M=f||!!S,{slideSizes:W,slideSizesWithGaps:K,startGap:V,endGap:z}=f3e(P,A,I,r,M,s),G=h3e(P,D,v,f,A,I,V,z,k),{snaps:F,snapsAligned:X}=s3e(P,U,A,I,G),Z=-Uo(F)+Uo(K),{snapsContained:re,scrollContainLimit:ee}=e3e(D,Z,X,S,k),ce=H?re:X,{limit:pe}=t3e(Z,ce,f),Y=jte(Mv(ce),d,f),Q=Y.clone(),ae=dx(r),q=({dragHandler:_t,scrollBody:$t,scrollBounds:an,options:{loop:vr}})=>{vr||an.constrain(_t.pointerDown()),$t.seek()},ke=({scrollBody:_t,translate:$t,location:an,offsetLocation:vr,previousLocation:vn,scrollLooper:go,slideLooper:Us,dragHandler:xo,animation:si,eventHandler:Pi,scrollBounds:vo,options:{loop:ai}},Na)=>{const ds=_t.settled(),kc=!vo.shouldConstrain(),Wt=ai?ds:ds&&kc,gr=Wt&&!xo.pointerDown();gr&&si.stop();const Rr=an.get()*Na+vn.get()*(1-Na);vr.set(Rr),ai&&(go.loop(_t.direction()),Us.loop()),$t.to(vr.get()),gr&&Pi.emit("settle"),Wt||Pi.emit("scroll")},ye=qMe(n,s,()=>q(Rt),_t=>ke(Rt,_t)),xe=.68,Re=ce[Y.get()],je=W0(Re),mt=W0(Re),ht=W0(Re),oe=W0(Re),ge=QMe(je,ht,mt,oe,m,xe),Ne=i3e(f,ce,Z,pe,oe),We=o3e(ye,Y,Q,ge,Ne,oe,o),qe=n3e(pe),Ue=hx(),it=d3e(t,r,o,x),{slideRegistry:Ot}=a3e(H,S,ce,ee,G,ae),He=l3e(e,r,Ot,We,ge,Ue,o,N),Rt={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:A,slideRects:I,animation:ye,axis:P,dragHandler:GMe(P,e,n,s,oe,KMe(P,s),je,ye,We,ge,Ne,Y,o,B,g,y,j,xe,E),eventStore:Ue,percentOfView:B,index:Y,indexPrevious:Q,limit:pe,location:je,offsetLocation:ht,previousLocation:mt,options:i,resizeHandler:ZMe(t,o,s,r,P,w,R),scrollBody:ge,scrollBounds:JMe(pe,ht,oe,ge,B),scrollLooper:r3e(Z,pe,ht,[je,ht,mt,oe]),scrollProgress:qe,scrollSnapList:ce.map(qe.get),scrollSnaps:ce,scrollTarget:Ne,scrollTo:We,slideLooper:c3e(P,D,Z,W,K,F,ce,ht,r),slideFocus:He,slidesHandler:u3e(t,o,T),slidesInView:it,slideIndexes:ae,slideRegistry:Ot,slidesToScroll:G,target:oe,translate:Ste(P,t)};return Rt}function p3e(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function i(u,d){return e[u]=n(u).concat([d]),c}function o(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const g3e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function x3e(e){function t(i,o){return _te(i,o||{})}function r(i){const o=i.breakpoints||{},l=fx(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>fx(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function v3e(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function t1(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=x3e(s),o=v3e(i),l=hx(),c=p3e(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:m,off:g,emit:y}=c,x=P;let v=!1,j,S=u(g3e,t1.globalOptions),w=u(S),T=[],E,N,k;function R(){const{container:ae,slides:q}=w;N=(PP(ae)?e.querySelector(ae):ae)||e.children[0];const ye=PP(q)?N.querySelectorAll(q):q;k=[].slice.call(ye||N.children)}function A(ae){const q=m3e(e,N,k,n,s,ae,c);if(ae.loop&&!q.slideLooper.canLoop()){const ke=Object.assign({},ae,{loop:!1});return A(ke)}return q}function I(ae,q){v||(S=u(S,ae),w=d(S),T=q||T,R(),j=A(w),f([S,...T.map(({options:ke})=>ke)]).forEach(ke=>l.add(ke,"change",P)),w.active&&(j.translate.to(j.location.get()),j.animation.init(),j.slidesInView.init(),j.slideFocus.init(Q),j.eventHandler.init(Q),j.resizeHandler.init(Q),j.slidesHandler.init(Q),j.options.loop&&j.slideLooper.loop(),N.offsetParent&&k.length&&j.dragHandler.init(Q),E=o.init(Q,T)))}function P(ae,q){const ke=G();D(),I(u({startIndex:ke},ae),q),c.emit("reInit")}function D(){j.dragHandler.destroy(),j.eventStore.clear(),j.translate.clear(),j.slideLooper.clear(),j.resizeHandler.destroy(),j.slidesHandler.destroy(),j.slidesInView.destroy(),j.animation.destroy(),o.destroy(),l.clear()}function B(){v||(v=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function U(ae,q,ke){!w.active||v||(j.scrollBody.useBaseFriction().useDuration(q===!0?0:w.duration),j.scrollTo.index(ae,ke||0))}function H(ae){const q=j.index.add(1).get();U(q,ae,-1)}function M(ae){const q=j.index.add(-1).get();U(q,ae,1)}function W(){return j.index.add(1).get()!==G()}function K(){return j.index.add(-1).get()!==G()}function V(){return j.scrollSnapList}function z(){return j.scrollProgress.get(j.offsetLocation.get())}function G(){return j.index.get()}function F(){return j.indexPrevious.get()}function X(){return j.slidesInView.get()}function Z(){return j.slidesInView.get(!1)}function re(){return E}function ee(){return j}function ce(){return e}function pe(){return N}function Y(){return k}const Q={canScrollNext:W,canScrollPrev:K,containerNode:pe,internalEngine:ee,destroy:B,off:g,on:m,emit:y,plugins:re,previousScrollSnap:F,reInit:x,rootNode:ce,scrollNext:H,scrollPrev:M,scrollProgress:z,scrollSnapList:V,scrollTo:U,selectedScrollSnap:G,slideNodes:Y,slidesInView:X,slidesNotInView:Z};return I(t,r),setTimeout(()=>c.emit("init"),0),Q}t1.globalOptions=void 0;function rI(e={},t=[]){const r=_.useRef(e),n=_.useRef(t),[s,i]=_.useState(),[o,l]=_.useState(),c=_.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return _.useEffect(()=>{QD(r.current,e)||(r.current=e,c())},[e,c]),_.useEffect(()=>{UMe(n.current,t)||(n.current=t,c())},[t,c]),_.useEffect(()=>{if(BMe()&&o){t1.globalOptions=rI.globalOptions;const u=t1(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,s]}rI.globalOptions=void 0;const Nte=_.createContext(null);function nj(){const e=_.useContext(Nte);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const nI=_.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...o},l)=>{const[c,u]=rI({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=_.useState(!1),[m,g]=_.useState(!1),y=_.useCallback(S=>{S&&(f(S.canScrollPrev()),g(S.canScrollNext()))},[]),x=_.useCallback(()=>{u?.scrollPrev()},[u]),v=_.useCallback(()=>{u?.scrollNext()},[u]),j=_.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),x()):S.key==="ArrowRight"&&(S.preventDefault(),v())},[x,v]);return _.useEffect(()=>{!u||!r||r(u)},[u,r]),_.useEffect(()=>{if(u)return y(u),u.on("reInit",y),u.on("select",y),()=>{u?.off("select",y)}},[u,y]),a.jsx(Nte.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:v,canScrollPrev:d,canScrollNext:m},children:a.jsx("div",{ref:l,onKeyDownCapture:j,className:Je("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});nI.displayName="Carousel";const sI=_.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=nj();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:Je("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});sI.displayName="CarouselContent";const r1=_.forwardRef(({className:e,...t},r)=>{const{orientation:n}=nj();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Je("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});r1.displayName="CarouselItem";const aI=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=nj();return a.jsxs(le,{ref:s,variant:t,size:r,className:Je("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(ea,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});aI.displayName="CarouselPrevious";const iI=_.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=nj();return a.jsxs(le,{ref:s,variant:t,size:r,className:Je("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(Rs,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});iI.displayName="CarouselNext";const y3e={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function w3e(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function b3e(e,t){const r=e.rootNode();return t&&t(r)||r}function oI(e={}){let t,r,n,s,i=null,o=0,l=!1,c=!1,u=!1,d=!1;function f(U,H){r=U;const{mergeOptions:M,optionsAtMedia:W}=H,K=M(y3e,oI.globalOptions),V=M(K,e);if(t=W(V),r.scrollSnapList().length<=1)return;d=t.jump,n=!1,s=w3e(r,t.delay);const{eventStore:z,ownerDocument:G}=r.internalEngine(),F=!!r.internalEngine().options.watchDrag,X=b3e(r,t.rootNode);z.add(G,"visibilitychange",j),F&&r.on("pointerDown",w),F&&!t.stopOnInteraction&&r.on("pointerUp",T),t.stopOnMouseEnter&&z.add(X,"mouseenter",E),t.stopOnMouseEnter&&!t.stopOnInteraction&&z.add(X,"mouseleave",N),t.stopOnFocusIn&&r.on("slideFocusStart",v),t.stopOnFocusIn&&!t.stopOnInteraction&&z.add(r.containerNode(),"focusout",x),t.playOnInit&&x()}function m(){r.off("pointerDown",w).off("pointerUp",T).off("slideFocusStart",v),v(),n=!0,l=!1}function g(){const{ownerWindow:U}=r.internalEngine();U.clearTimeout(o),o=U.setTimeout(P,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function y(){const{ownerWindow:U}=r.internalEngine();U.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function x(){if(!n){if(S()){u=!0;return}l||r.emit("autoplay:play"),g(),l=!0}}function v(){n||(l&&r.emit("autoplay:stop"),y(),l=!1)}function j(){if(S())return u=l,v();u&&x()}function S(){const{ownerDocument:U}=r.internalEngine();return U.visibilityState==="hidden"}function w(){c||v()}function T(){c||x()}function E(){c=!0,v()}function N(){c=!1,x()}function k(U){typeof U<"u"&&(d=U),x()}function R(){l&&v()}function A(){l&&x()}function I(){return l}function P(){const{index:U}=r.internalEngine(),H=U.clone().add(1).get(),M=r.scrollSnapList().length-1,W=t.stopOnLastSnap&&H===M;if(r.canScrollNext()?r.scrollNext(d):r.scrollTo(0,d),r.emit("autoplay:select"),W)return v();x()}function D(){if(!i)return null;const U=s[r.selectedScrollSnap()],H=new Date().getTime()-i;return U-H}return{name:"autoplay",options:e,init:f,destroy:m,play:k,stop:R,reset:A,isPlaying:I,timeUntilNext:D}}oI.globalOptions=void 0;const kte=({bannerUrls:e,storeName:t,logoUrl:r,storeDescription:n})=>{const[s,i]=_.useState([]);return _.useEffect(()=>{const o=e.map(l=>nx(l)||l).filter(Boolean);i(o)},[e]),s.length?a.jsx("section",{className:"relative",children:a.jsxs(nI,{className:"w-full",plugins:[oI({delay:4e3,stopOnInteraction:!1})],opts:{loop:!0},children:[a.jsx(sI,{children:s.map((o,l)=>a.jsx(r1,{children:a.jsx("div",{className:"relative h-[300px] md:h-[380px] lg:h-[450px]",children:a.jsx(pu,{src:o,alt:r4e({storeName:t,imageType:"banner",description:n||void 0}),className:"absolute inset-0 w-full h-full object-fill"})})},l))}),s.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(aI,{className:"left-4 bg-white/20 border-white/30 text-white hover:bg-white/30"}),a.jsx(iI,{className:"right-4 bg-white/20 border-white/30 text-white hover:bg-white/30"})]})]})}):a.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r&&a.jsx("img",{src:nx(r)||r,alt:t,className:"h-24 w-24 mx-auto mb-6 rounded-full object-cover border-4 border-background shadow-lg"}),a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:t}),n&&a.jsx("p",{className:"text-xl text-muted-foreground",children:n})]})})})},F2=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],_3e=()=>{const{data:e,isLoading:t}=Ufe({queryKey:["home-data"],queryFn:async()=>{const{data:l}=await ne.from("stores").select("id, name, description, logo_url, hero_banner_url, hero_banner_urls").eq("slug","demo").eq("is_active",!0).maybeSingle();if(!l)return{allProducts:[],featuredProducts:[],newArrivals:[],categories:F2};const[c,u]=await Promise.all([Rg(l.id),ne.from("categories").select("*").eq("store_id",l.id).order("name").then(f=>f.data)]),d=[...c].sort((f,m)=>new Date(m.created_at||"").getTime()-new Date(f.created_at||"").getTime());return{allProducts:c,featuredProducts:c.slice(0,4),newArrivals:d.slice(0,4),categories:u&&u.length>0?u:F2,store:l}},staleTime:3e5,gcTime:6e5}),{allProducts:r=[],featuredProducts:n=[],newArrivals:s=[],categories:i=F2,store:o}=e||{};return t?a.jsx(LMe,{text:"Loading store..."}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{}),a.jsxs("main",{className:"flex-1",children:[o&&a.jsx(kte,{bannerUrls:o.hero_banner_urls&&o.hero_banner_urls.length>0?o.hero_banner_urls:o.hero_banner_url?[o.hero_banner_url]:[],storeName:o.name||"MyStore",logoUrl:o.logo_url,storeDescription:o.description}),!o&&a.jsx("section",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background py-32",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Welcome to MyStore"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Discover quality products at unbeatable prices. Shop now!"})]})})}),a.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),a.jsx("div",{className:"relative px-4",children:a.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:i.map((l,c)=>{const u=r.filter(d=>d.category===l.name).length;return a.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${c*100}ms`},children:a.jsx(ZD,{name:l.name,image_url:l.image_url,productCount:u})},l.id)})})})]})}),a.jsx("section",{className:"py-16 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),a.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),a.jsx(pt,{to:"/products",children:a.jsxs(le,{variant:"outline",children:["View All",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]}),n.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(l=>a.jsx(Om,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),s.length>0&&a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),a.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(l=>a.jsx(Om,{id:l.id,slug:l.slug,name:l.name,category:l.category,priceRange:l.price_range||"",images:l.images,status:l.status},l.id))})]})}),a.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),a.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore thousands of products and great deals"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(pt,{to:"/products",children:a.jsxs(le,{size:"lg",variant:"secondary",children:["Browse Products",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})}),a.jsx(pt,{to:"/pricing",children:a.jsxs(le,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["View Pricing Plans",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),a.jsx(Gl,{})]})},mx=({storeName:e,storeDescription:t,whatsappNumber:r,phone:n,email:s,address:i,socialLinks:o,policies:l})=>{const{slug:c}=xc(),u=c?`/${c}/policies`:"/policies",d=c?`/${c}`:"";return a.jsx("footer",{className:"bg-muted border-t border-border",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-foreground mb-4",children:["About ",e]}),a.jsx("p",{className:"text-muted-foreground text-sm",children:t||"Your trusted online store for quality products at great prices."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Shop"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(pt,{to:d||"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx(pt,{to:`${d}/products`,className:"text-muted-foreground hover:text-primary transition-colors",children:"All Products"})}),a.jsx("li",{children:a.jsx(pt,{to:`${d}/categories`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Categories"})}),a.jsx("li",{children:a.jsx(pt,{to:`${d}/cart`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shopping Cart"})}),a.jsx("li",{children:a.jsx(pt,{to:"/sitemap.xml",className:"text-muted-foreground hover:text-primary transition-colors",children:"Sitemap"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Policies"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(pt,{to:`${u}#terms`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms & Conditions"})}),a.jsx("li",{children:a.jsx(pt,{to:`${u}#return-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Return Policy"})}),a.jsx("li",{children:a.jsx(pt,{to:`${u}#shipping-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),a.jsx("li",{children:a.jsx(pt,{to:`${u}#privacy-policy`,className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-foreground mb-4",children:"Contact Us"}),a.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[n&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Su,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:n})]}),r&&n!==r&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Su,{className:"w-4 h-4 flex-shrink-0"}),a.jsxs("span",{children:["WhatsApp: ",r]})]}),s&&a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Yd,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:s})]}),i&&a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ip,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:i})]})]}),(o?.facebook||o?.instagram||o?.twitter)&&a.jsxs("div",{className:"flex gap-3 mt-4",children:[o?.facebook&&a.jsx("a",{href:o.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx(Tq,{className:"w-4 h-4"})}),o?.instagram&&a.jsx("a",{href:o.instagram,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx(Pq,{className:"w-4 h-4"})}),o?.twitter&&a.jsx("a",{href:o.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary hover:bg-primary hover:text-primary-foreground transition-colors",children:a.jsx(Dq,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"border-t border-border mt-4 pt-4 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," ",e,". All rights reserved."]})})]})})};var sj="Checkbox",[j3e]=Yn(sj),[S3e,lI]=j3e(sj);function N3e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,g]=ei({prop:r,defaultProp:s??!1,onChange:c,caller:sj}),[y,x]=_.useState(null),[v,j]=_.useState(null),S=_.useRef(!1),w=y?!!o||!!y.closest("form"):!0,T={checked:m,disabled:i,setChecked:g,control:y,setControl:x,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:S,required:u,defaultChecked:gu(s)?!1:s,isFormControl:w,bubbleInput:v,setBubbleInput:j};return a.jsx(S3e,{scope:t,...T,children:k3e(f)?f(T):n})}var Ete="CheckboxTrigger",Cte=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:y}=lI(Ete,e),x=It(s,d),v=_.useRef(c);return _.useEffect(()=>{const j=i?.form;if(j){const S=()=>f(v.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[i,f]),a.jsx(xt.button,{type:"button",role:"checkbox","aria-checked":gu(c)?"mixed":c,"aria-required":u,"data-state":Rte(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Qe(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Qe(r,j=>{f(S=>gu(S)?!0:!S),y&&g&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});Cte.displayName=Ete;var cI=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(N3e,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(Cte,{...f,ref:t,__scopeCheckbox:r}),m&&a.jsx(Ote,{__scopeCheckbox:r})]})})});cI.displayName=sj;var Tte="CheckboxIndicator",Ate=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=lI(Tte,r);return a.jsx(us,{present:n||gu(i.checked)||i.checked===!0,children:a.jsx(xt.span,{"data-state":Rte(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Ate.displayName=Tte;var Pte="CheckboxBubbleInput",Ote=_.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:g}=lI(Pte,e),y=It(r,g),x=pv(i),v=tv(n);_.useEffect(()=>{const S=m;if(!S)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set,N=!s.current;if(x!==i&&E){const k=new Event("click",{bubbles:N});S.indeterminate=gu(i),E.call(S,gu(i)?!1:i),S.dispatchEvent(k)}},[m,x,i,s]);const j=_.useRef(gu(i)?!1:i);return a.jsx(xt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ote.displayName=Pte;function k3e(e){return typeof e=="function"}function gu(e){return e==="indeterminate"}function Rte(e){return gu(e)?"indeterminate":e?"checked":"unchecked"}const ma=_.forwardRef(({className:e,...t},r)=>a.jsx(cI,{ref:r,className:Je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Ate,{className:Je("flex items-center justify-center text-current"),children:a.jsx(Gr,{className:"h-4 w-4"})})}));ma.displayName=cI.displayName;var Dte=["PageUp","PageDown"],Ite=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mte={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},bp="Slider",[RP,E3e,C3e]=Qx(bp),[Fte]=Yn(bp,[C3e]),[T3e,aj]=Fte(bp),Lte=_.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:y,...x}=e,v=_.useRef(new Set),j=_.useRef(0),w=o==="horizontal"?A3e:P3e,[T=[],E]=ei({prop:d,defaultProp:u,onChange:P=>{[...v.current][j.current]?.focus(),f(P)}}),N=_.useRef(T);function k(P){const D=M3e(T,P);I(P,D)}function R(P){I(P,j.current)}function A(){const P=N.current[j.current];T[j.current]!==P&&m(T)}function I(P,D,{commit:B}={commit:!1}){const U=B3e(i),H=U3e(Math.round((P-n)/i)*i+n,U),M=Dg(H,[n,s]);E((W=[])=>{const K=D3e(W,M,D);if($3e(K,c*i)){j.current=K.indexOf(M);const V=String(K)!==String(W);return V&&B&&m(K),V?K:W}else return W})}return a.jsx(T3e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:j,thumbs:v.current,values:T,orientation:o,form:y,children:a.jsx(RP.Provider,{scope:e.__scopeSlider,children:a.jsx(RP.Slot,{scope:e.__scopeSlider,children:a.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:Qe(x.onPointerDown,()=>{l||(N.current=T)}),min:n,max:s,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&I(n,0,{commit:!0}),onEndKeyDown:()=>!l&&I(s,T.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:D})=>{if(!l){const H=Dte.includes(P.key)||P.shiftKey&&Ite.includes(P.key)?10:1,M=j.current,W=T[M],K=i*H*D;I(W+K,M,{commit:!0})}}})})})})});Lte.displayName=bp;var[$te,Bte]=Fte(bp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A3e=_.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,m]=_.useState(null),g=It(t,w=>m(w)),y=_.useRef(void 0),x=Sf(s),v=x==="ltr",j=v&&!i||!v&&i;function S(w){const T=y.current||f.getBoundingClientRect(),E=[0,T.width],k=uI(E,j?[r,n]:[n,r]);return y.current=T,k(w-T.left)}return a.jsx($te,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:a.jsx(Ute,{dir:x,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const T=S(w.clientX);o?.(T)},onSlideMove:w=>{const T=S(w.clientX);l?.(T)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:w=>{const E=Mte[j?"from-left":"from-right"].includes(w.key);u?.({event:w,direction:E?-1:1})}})})}),P3e=_.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=_.useRef(null),f=It(t,d),m=_.useRef(void 0),g=!s;function y(x){const v=m.current||d.current.getBoundingClientRect(),j=[0,v.height],w=uI(j,g?[n,r]:[r,n]);return m.current=v,w(x-v.top)}return a.jsx($te,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:a.jsx(Ute,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const v=y(x.clientY);i?.(v)},onSlideMove:x=>{const v=y(x.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:x=>{const j=Mte[g?"from-bottom":"from-top"].includes(x.key);c?.({event:x,direction:j?-1:1})}})})}),Ute=_.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=aj(bp,r);return a.jsx(xt.span,{...u,ref:t,onKeyDown:Qe(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Dte.concat(Ite).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Qe(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:Qe(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Qe(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),Vte="SliderTrack",zte=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=aj(Vte,r);return a.jsx(xt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});zte.displayName=Vte;var DP="SliderRange",Wte=_.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=aj(DP,r),i=Bte(DP,r),o=_.useRef(null),l=It(t,o),c=s.values.length,u=s.values.map(m=>Gte(m,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(xt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});Wte.displayName=DP;var IP="SliderThumb",qte=_.forwardRef((e,t)=>{const r=E3e(e.__scopeSlider),[n,s]=_.useState(null),i=It(t,l=>s(l)),o=_.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(O3e,{...e,ref:i,index:o})}),O3e=_.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,o=aj(IP,r),l=Bte(IP,r),[c,u]=_.useState(null),d=It(t,S=>u(S)),f=c?o.form||!!c.closest("form"):!0,m=tv(c),g=o.values[n],y=g===void 0?0:Gte(g,o.min,o.max),x=I3e(n,o.values.length),v=m?.[l.size],j=v?F3e(v,y,l.direction):0;return _.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${j}px)`},children:[a.jsx(RP.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(xt.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:Qe(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&a.jsx(Hte,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},n)]})});qte.displayName=IP;var R3e="RadioBubbleInput",Hte=_.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=_.useRef(null),i=It(s,n),o=pv(t);return _.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(xt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});Hte.displayName=R3e;function D3e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function Gte(e,t,r){const i=100/(r-t)*(e-t);return Dg(i,[0,100])}function I3e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function M3e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function F3e(e,t,r){const n=e/2,i=uI([0,50],[0,n]);return(n-i(t)*r)*r}function L3e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function $3e(e,t){if(t>0){const r=L3e(e);return Math.min(...r)>=t}return!0}function uI(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function B3e(e){return(String(e).split(".")[1]||"").length}function U3e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Kte=Lte,V3e=zte,z3e=Wte,W3e=qte;const Yte=_.forwardRef(({className:e,...t},r)=>a.jsxs(Kte,{ref:r,className:Je("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(V3e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(z3e,{className:"absolute h-full bg-primary"})}),a.jsx(W3e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Yte.displayName=Kte.displayName;const Xte=({title:e="Something went wrong",message:t,onRetry:r,className:n})=>a.jsxs(bn,{variant:"destructive",className:n,children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx(Y4,{children:e}),a.jsxs(_n,{className:"flex flex-col gap-3",children:[a.jsx("span",{children:t}),r&&a.jsxs(le,{variant:"outline",size:"sm",onClick:r,className:"w-fit",children:[a.jsx(xl,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]}),L2=({slug:e}={})=>{const[t,r]=A4(),{slug:n}=xc(),s=e||n;nr();const[i,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(null),[f,m]=_.useState([]),[g,y]=_.useState([]),[x,v]=_.useState([]),[j,S]=_.useState([0,1e4]),[w,T]=_.useState("newest"),[E,N]=_.useState(!1),[k,R]=_.useState(null),[A,I]=_.useState(null),[P,D]=_.useState(null),B=wl();_.useEffect(()=>{(async()=>{if(s)try{c(!0),d(null);const{data:K}=await ne.from("stores").select("*").eq("slug",s).eq("is_active",!0).maybeSingle();if(K){R(K.id),I(K);const{data:V}=await ne.from("profiles").select("phone, email").eq("user_id",K.user_id).maybeSingle();V&&D(V);const z=await Rg(K.id);o(z)}}catch(K){d(K instanceof Error?K.message:"Failed to load products")}finally{c(!1)}})()},[s]);const U=async()=>{if(k)try{const W=await Rg(k);o(W)}catch(W){d(W instanceof Error?W.message:"Failed to reload products")}};_.useEffect(()=>{const W=[...new Set(i.map(K=>K.category))].filter(Boolean);y(W)},[i]),_.useEffect(()=>{const W=t.get("category");W&&g.includes(W)&&v([W]);const K=()=>{U()};return window.addEventListener("focus",K),()=>window.removeEventListener("focus",K)},[t,g,U]),_.useEffect(()=>{if(!i||i.length===0){m([]);return}let W=[...i];k&&(W=W.filter(z=>z.store_id===k));const K=t.get("search");K&&(W=W.filter(z=>z.name.toLowerCase().includes(K.toLowerCase())));const V=t.get("category");switch(V?W=W.filter(z=>z.category===V):x.length>0&&(W=W.filter(z=>x.includes(z.category))),(j[0]>0||j[1]<1e4)&&(W=W.filter(z=>{const G=z.basePrice||(z.variants?.length?Math.min(...z.variants.map(X=>X.price)):0);return(z.variants?.length?Math.max(...z.variants.map(X=>X.price)):z.basePrice||0)>=j[0]&&G<=j[1]})),w){case"price-low":W.sort((z,G)=>{const F=z.basePrice||(z.variants?.length?z.variants[0].price:0),X=G.basePrice||(G.variants?.length?G.variants[0].price:0);return F-X});break;case"price-high":W.sort((z,G)=>{const F=z.basePrice||(z.variants?.length?z.variants[0].price:0);return(G.basePrice||(G.variants?.length?G.variants[0].price:0))-F});break;case"name":W.sort((z,G)=>z.name.localeCompare(G.name));break}m(W)},[i,x,j,w,t,k]);const H=W=>{const K=new URLSearchParams(t);K.delete("category"),r(K),v(V=>V.includes(W)?V.filter(z=>z!==W):[...V,W])},M=()=>{const W=new URLSearchParams(t);W.delete("category"),r(W),v([]),S([0,1e4]),T("newest")};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:s}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:l?a.jsx("div",{className:"py-20",children:a.jsx(tj,{size:"lg",text:"Loading products..."})}):u?a.jsx("div",{className:"py-20",children:a.jsx(Xte,{title:"Failed to load products",message:u,onRetry:U})}):a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("aside",{className:`lg:w-64 ${E?"block":"hidden lg:block"}`,children:a.jsx(we,{className:"sticky top-24",children:a.jsxs(_e,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[a.jsx(JT,{className:"w-5 h-5"}),"Filters"]}),a.jsx(le,{variant:"ghost",size:"sm",onClick:M,className:"text-xs",children:"Clear All"})]}),g.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx($e,{className:"text-sm font-semibold mb-3 block",children:"Categories"}),a.jsx("div",{className:"space-y-3",children:g.map(W=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ma,{id:W,checked:x.includes(W),onCheckedChange:()=>H(W)}),a.jsx("label",{htmlFor:W,className:"text-sm text-muted-foreground cursor-pointer",children:W})]},W))})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-sm font-semibold mb-3 block",children:"Price Range"}),a.jsxs("div",{className:"px-2",children:[a.jsx(Yte,{min:0,max:1e4,step:100,value:j,onValueChange:S,className:"mb-4"}),a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["",j[0]]}),a.jsxs("span",{children:["",j[1]]})]})]})]})]})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"All Products"}),a.jsxs("p",{className:"text-muted-foreground",children:["Showing ",f.length," products"]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsxs(le,{variant:"outline",onClick:()=>N(!E),className:"lg:hidden flex-1",children:[a.jsx(JT,{className:"w-4 h-4 mr-2"}),"Filters"]}),a.jsxs(_r,{value:w,onValueChange:T,children:[a.jsx(yr,{className:"w-full sm:w-[180px]",children:a.jsx(jr,{placeholder:"Sort by"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"newest",children:"Newest"}),a.jsx(Me,{value:"price-low",children:"Price: Low to High"}),a.jsx(Me,{value:"price-high",children:"Price: High to Low"}),a.jsx(Me,{value:"name",children:"Name: A-Z"})]})]})]})]}),f.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(W=>a.jsx(Om,{...W,storeSlug:B?void 0:s},W.id))}):a.jsxs(we,{className:"p-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No products found matching your filters"}),a.jsx(le,{onClick:M,variant:"outline",children:"Clear Filters"})]})]})]})}),A?a.jsx(mx,{storeName:A.name,storeDescription:A.description,whatsappNumber:A.whatsapp_number,phone:P?.phone,email:P?.email,address:A.address,socialLinks:A.social_links,policies:A.policies}):a.jsx("footer",{className:"bg-muted border-t border-border",children:a.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})};function dI({title:e,description:t,canonical:r,image:n="https://digitaldukandar.in/placeholder.svg",type:s="website",keywords:i=[],author:o,price:l,currency:c="INR",availability:u}){const d=t.slice(0,160),f=e.slice(0,60);return a.jsxs(D4,{children:[a.jsx("title",{children:f}),a.jsx("meta",{name:"title",content:f}),a.jsx("meta",{name:"description",content:d}),i.length>0&&a.jsx("meta",{name:"keywords",content:i.join(", ")}),o&&a.jsx("meta",{name:"author",content:o}),a.jsx("link",{rel:"icon",type:"image/png",href:n}),a.jsx("link",{rel:"apple-touch-icon",href:n}),r&&a.jsx("link",{rel:"canonical",href:r}),a.jsx("meta",{property:"og:type",content:s}),a.jsx("meta",{property:"og:title",content:f}),a.jsx("meta",{property:"og:description",content:d}),a.jsx("meta",{property:"og:image",content:n}),r&&a.jsx("meta",{property:"og:url",content:r}),a.jsx("meta",{property:"og:site_name",content:"YesGive Shop"}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:f}),a.jsx("meta",{name:"twitter:description",content:d}),a.jsx("meta",{name:"twitter:image",content:n}),s==="product"&&l&&a.jsxs(a.Fragment,{children:[a.jsx("meta",{property:"product:price:amount",content:l.toString()}),a.jsx("meta",{property:"product:price:currency",content:c}),u&&a.jsx("meta",{property:"product:availability",content:u==="in stock"?"in stock":"out of stock"})]}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),a.jsx("meta",{name:"theme-color",content:"#000000"}),a.jsx("link",{rel:"preconnect",href:"https://vexeuxsvckpfvuxqchqu.supabase.co"})]})}function Zte(e){const{storeSlug:t,subdomain:r,customDomain:n,path:s=""}=e;return n&&n.trim()?`${n.startsWith("http")?n:`https://${n}`}${s}`:r&&r.trim()?`https://${r}.digitaldukandar.in${s}`:`https://digitaldukandar.in/${t}${s}`}function Qte(e,t,r){return Zte({storeSlug:e,subdomain:t,customDomain:r,path:""})}function q3e(e,t,r,n){return Zte({storeSlug:e,subdomain:r,customDomain:n,path:`/products/${t}`})}const b0=[{id:"demo-1",name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400",store_id:"demo"},{id:"demo-2",name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400",store_id:"demo"},{id:"demo-3",name:"Home & Living",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",store_id:"demo"},{id:"demo-4",name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",store_id:"demo"},{id:"demo-5",name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",store_id:"demo"},{id:"demo-6",name:"Books",image_url:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=400",store_id:"demo"}],$2=({slug:e}={})=>{const{slug:t}=xc(),r=e||t,[n,s]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null),[u,d]=_.useState("Store");return _.useEffect(()=>{(async()=>{try{o(!0);let m=null;if(r){const{data:g}=await ne.from("stores").select("id, name").eq("slug",r).eq("is_active",!0).maybeSingle();if(g)m=g.id,c(g.id),d(g.name);else{s(b0),o(!1);return}}else{const{data:{user:g}}=await ne.auth.getUser();if(g){const{data:y}=await ne.from("stores").select("id, name").eq("user_id",g.id).eq("is_active",!0).maybeSingle();y&&(m=y.id,c(y.id),d(y.name))}}if(m)try{const{data:g,error:y}=await ne.from("categories").select("*").eq("store_id",m).order("created_at",{ascending:!0});if(y)throw y;const x=await Promise.all((g||[]).map(async v=>{const{count:j,error:S}=await ne.from("products").select("*",{count:"exact",head:!0}).eq("store_id",m).eq("category",v.name).eq("status","published");return console.log(`Category "${v.name}": ${j} products`,{error:S}),{id:v.id,name:v.name,image_url:v.image_url,store_id:v.store_id,productCount:j||0}}));console.log("Categories with counts:",x),s(x.length>0?x:b0)}catch(g){console.error("Error fetching categories:",g),s(b0)}else s(b0)}catch(m){console.error("Error loading categories:",m),s(b0)}finally{o(!1)}})()},[r]),i?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{storeSlug:r,storeId:l}),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(tj,{size:"lg",text:"Loading categories..."})}),a.jsx(Gl,{})]}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dI,{title:`Categories - ${u} | Browse Our Collections`,description:`Explore all product categories at ${u}. Find exactly what you're looking for in our organized collections.`,canonical:Qte(r||"",null,null),keywords:n.map(f=>f.name).concat([u,"categories","shop by category"]),type:"website"}),a.jsx(Xa,{storeSlug:r,storeId:l}),a.jsx("main",{className:"flex-1",children:a.jsx("section",{className:"bg-gradient-to-b from-muted/30 to-background py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-w-7xl mx-auto",children:n.map(f=>a.jsx(ZD,{name:f.name,image_url:f.image_url,productCount:f.productCount,slug:r},f.id))})]})})}),a.jsx(Gl,{})]})};var fI="Radio",[H3e,Jte]=Yn(fI),[G3e,K3e]=H3e(fI),ere=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,m]=_.useState(null),g=It(t,v=>m(v)),y=_.useRef(!1),x=f?u||!!f.closest("form"):!0;return a.jsxs(G3e,{scope:r,checked:s,disabled:o,children:[a.jsx(xt.button,{type:"button",role:"radio","aria-checked":s,"data-state":sre(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:g,onClick:Qe(e.onClick,v=>{s||c?.(),x&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),x&&a.jsx(nre,{control:f,bubbles:!y.current,name:n,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});ere.displayName=fI;var tre="RadioIndicator",rre=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=K3e(tre,r);return a.jsx(us,{present:n||i.checked,children:a.jsx(xt.span,{"data-state":sre(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});rre.displayName=tre;var Y3e="RadioBubbleInput",nre=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=_.useRef(null),l=It(o,i),c=pv(r),u=tv(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&g){const y=new Event("click",{bubbles:n});g.call(d,r),d.dispatchEvent(y)}},[c,r,n]),a.jsx(xt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nre.displayName=Y3e;function sre(e){return e?"checked":"unchecked"}var X3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ij="RadioGroup",[Z3e]=Yn(ij,[dp,Jte]),are=dp(),ire=Jte(),[Q3e,J3e]=Z3e(ij),ore=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,g=are(r),y=Sf(u),[x,v]=ei({prop:i,defaultProp:s??null,onChange:f,caller:ij});return a.jsx(Q3e,{scope:r,name:n,required:o,disabled:l,value:x,onValueChange:v,children:a.jsx(I4,{asChild:!0,...g,orientation:c,dir:y,loop:d,children:a.jsx(xt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});ore.displayName=ij;var lre="RadioGroupItem",cre=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=J3e(lre,r),o=i.disabled||n,l=are(r),c=ire(r),u=_.useRef(null),d=It(t,u),f=i.value===s.value,m=_.useRef(!1);return _.useEffect(()=>{const g=x=>{X3e.includes(x.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",y)}},[]),a.jsx(M4,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(ere,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:Qe(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Qe(s.onFocus,()=>{m.current&&u.current?.click()})})})});cre.displayName=lre;var eFe="RadioGroupIndicator",ure=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=ire(r);return a.jsx(rre,{...s,...n,ref:t})});ure.displayName=eFe;var dre=ore,fre=cre,tFe=ure;const n1=_.forwardRef(({className:e,...t},r)=>a.jsx(dre,{className:Je("grid gap-2",e),...t,ref:r}));n1.displayName=dre.displayName;const Gh=_.forwardRef(({className:e,...t},r)=>a.jsx(fre,{ref:r,className:Je("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(tFe,{className:"flex items-center justify-center",children:a.jsx(Eq,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Gh.displayName=fre.displayName;function rFe(e){const{product:t,store:r,url:n,availability:s="InStock"}=e,i=t.base_price||t.basePrice,o=t.price_range||t.priceRange,l=t.sku||t.baseSku||t.id,c=t.images&&t.images.length>0?t.images[0]:null;return{"@context":"https://schema.org/","@type":"Product",name:t.name,description:t.description||`${t.name} available at ${r.name}`,sku:l,...c&&{image:t.images.filter(d=>d).map(d=>d.startsWith("http")?d:`${window.location.origin}${d}`)},...t.category&&{category:t.category},offers:{"@type":"Offer",url:n,priceCurrency:"USD",...i&&{price:i.toFixed(2)},...o&&!i&&{price:o},availability:`https://schema.org/${s}`,seller:{"@type":"Organization",name:r.name}}}}function hre(e){const{store:t,url:r,email:n}=e,s={"@context":"https://schema.org","@type":"Store",name:t.name,url:r,...t.description&&{description:t.description},...t.logo_url&&{image:t.logo_url.startsWith("http")?t.logo_url:`${window.location.origin}${t.logo_url}`},...t.whatsapp_number&&{telephone:t.whatsapp_number},...n&&{email:n},...t.address&&{address:{"@type":"PostalAddress",streetAddress:t.address}}};if(t.social_links){const i=[];t.social_links.facebook&&i.push(t.social_links.facebook),t.social_links.instagram&&i.push(t.social_links.instagram),t.social_links.twitter&&i.push(t.social_links.twitter),i.length>0&&(s.sameAs=i)}return s}function mre(e){const{items:t}=e;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t.map((n,s)=>({"@type":"ListItem",position:s+1,name:n.name,...n.url&&{item:n.url}}))}}function nFe(e){_.useEffect(()=>{if(!e)return;const{product:t,store:r,availability:n="InStock",email:s,breadcrumbs:i}=e,o=window.location.href,l=rFe({product:t,store:r,url:o,availability:n}),c=hre({store:r,url:`${window.location.origin}/${r.slug}`,email:s}),u=document.createElement("script");u.id="product-schema",u.type="application/ld+json",u.textContent=JSON.stringify(l);const d=document.createElement("script");d.id="organization-schema",d.type="application/ld+json",d.textContent=JSON.stringify(c);const f=document.getElementById("product-schema"),m=document.getElementById("organization-schema");if(f&&f.remove(),m&&m.remove(),document.head.appendChild(u),document.head.appendChild(d),i&&i.length>0){const g=mre({items:i}),y=document.createElement("script");y.id="breadcrumb-schema",y.type="application/ld+json",y.textContent=JSON.stringify(g);const x=document.getElementById("breadcrumb-schema");return x&&x.remove(),document.head.appendChild(y),()=>{const v=document.getElementById("breadcrumb-schema");v&&v.remove()}}return()=>{const g=document.getElementById("product-schema"),y=document.getElementById("organization-schema");g&&g.remove(),y&&y.remove()}},[e])}function sFe(e){_.useEffect(()=>{if(!e)return;const{store:t,email:r,breadcrumbs:n}=e,s=window.location.href,i=hre({store:t,url:s,email:r}),o=document.createElement("script");o.id="organization-schema",o.type="application/ld+json",o.textContent=JSON.stringify(i);const l=document.getElementById("organization-schema");if(l&&l.remove(),document.head.appendChild(o),n&&n.length>0){const c=mre({items:n}),u=document.createElement("script");u.id="breadcrumb-schema",u.type="application/ld+json",u.textContent=JSON.stringify(c);const d=document.getElementById("breadcrumb-schema");return d&&d.remove(),document.head.appendChild(u),()=>{const f=document.getElementById("breadcrumb-schema");f&&f.remove()}}return()=>{const c=document.getElementById("organization-schema");c&&c.remove()}},[e])}const B2=({slug:e}={})=>{const t=xc(),r=t.productSlug||t.slug,n=nr(),{toast:s}=Ln(),{addToCart:i,triggerFlyAnimation:o}=p_(),[l,c]=_.useState(null),u=_.useRef(null),d=_.useRef(null),[f,m]=_.useState(""),[g,y]=_.useState(1),[x,v]=_.useState(0),[j,S]=_.useState(!0),[w,T]=_.useState(e),[E,N]=_.useState([]),[k,R]=_.useState(null),[A,I]=_.useState(null),[P,D]=_.useState(!1),B=wl();if(_.useEffect(()=>{(async()=>{if(!r){n("/products");return}try{S(!0);let Q=await Ave(r);if(!Q&&(Q=await Yw(r),Q&&Q.slug)){const ke=wl()?`/products/${Q.slug}`:w?`/${w}/products/${Q.slug}`:`/products/${Q.slug}`;n(ke,{replace:!0});return}if(!Q){s({title:"Product not found",description:"This product doesn't exist or has been removed.",variant:"destructive"}),n("/products");return}c(Q);const ae=Q.store_id;if(ae){const{data:q}=await ne.from("stores").select("*").eq("id",ae).single();if(q){T(q.slug),R(q);const{data:je}=await ne.from("profiles").select("phone, email").eq("user_id",q.user_id).maybeSingle();je&&I(je)}const ye=(await Rg(ae)).filter(je=>je.id!==Q.id),xe=ye.filter(je=>je.category===Q.category),Re=xe.length>0?xe:ye;N(Re)}}catch(Q){console.error("Error loading product:",Q),s({title:"Error",description:"Failed to load product details",variant:"destructive"}),n("/products")}finally{S(!1)}})()},[r,n,s,w,B]),_.useEffect(()=>{f&&d.current&&d.current.classList.remove("animate-pulse")},[f]),nFe(l&&k?{product:{id:l.id,name:l.name,description:l.description,images:l.images,base_price:l.base_price||l.basePrice,price_range:l.price_range||l.priceRange,sku:l.sku||l.baseSku,category:l.category,variants:l.variants,status:l.status},store:{id:k.id,name:k.name,slug:k.slug,description:k.description,logo_url:k.logo_url,address:k.address,whatsapp_number:k.whatsapp_number,social_links:k.social_links},availability:l.status==="published"?"InStock":"OutOfStock",email:A?.email,breadcrumbs:[{name:"Home",url:B?window.location.origin:`${window.location.origin}/${w}`},{name:"Products",url:B?`${window.location.origin}/products`:`${window.location.origin}/${w}/products`},{name:l.name,url:window.location.href}]}:null),j)return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:w,storeId:l?.store_id||l?.storeId}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(tj,{size:"lg",text:"Loading product..."})}),k?a.jsx(mx,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:A?.phone,email:A?.email,address:k.address,socialLinks:k.social_links,policies:k.policies}):a.jsx("footer",{className:"bg-muted border-t border-border",children:a.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]});if(!l)return null;const U=l.variants?.find(Y=>Y.name===f),M=l.variants&&l.variants.length>0&&!f,W=U?U.price:l.basePrice||l.base_price||0,K=l.images&&l.images.length>0?l.images:["/placeholder.svg"],V=l.videoUrl||l.video_url,z=l.baseSku||l.sku,F=V?(Y=>Y.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||null)(V):null,X=F?`https://img.youtube.com/vi/${F}/hqdefault.jpg`:null,Z=w?`/${w}`:"/home",re=w?`/${w}/products`:"/products",ee=Y=>{y(Math.max(0,g+Y))},ce=()=>{if(!l)return;if(l.variants&&l.variants.length>0&&!f){s({title:"Please select a variant",description:"Redirecting to variant section...",variant:"destructive"}),setTimeout(()=>{d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"center"}),d.current.classList.add("animate-pulse"))},1e3);return}const Y=l.store_id;if(!Y){s({title:"Error",description:"Unable to add product to cart. Store information is missing.",variant:"destructive"});return}u.current&&o(K[0],u.current),i({productId:l.id,productName:l.name,productImage:K[0],variant:f||void 0,price:W,quantity:g,sku:U?.sku||z,storeId:Y}),D(!0)},pe=()=>{navigator.share?navigator.share({title:l.name,text:`Check out ${l.name} on MyStore`,url:window.location.href}):(s({title:"Link copied",description:"Product link has been copied to clipboard"}),navigator.clipboard.writeText(window.location.href))};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dI,{title:`${l.name} - ${k?.name||"Store"} | Buy Online`,description:l.description?.slice(0,160)||`Shop ${l.name} from ${k?.name}. ${U?`Price: ${U.price}`:l.base_price?`Starting from ${l.base_price}`:""}`,canonical:q3e(w||"",l.id,k?.subdomain,k?.custom_domain),image:K[0],type:"product",price:U?.price||l.base_price,availability:l.status==="published"?"in stock":"out of stock",keywords:[l.name,l.category,k?.name||"store","buy online"]}),a.jsx(Xa,{storeSlug:w,storeId:l.store_id||l.storeId}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 pb-32 md:pb-8",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[a.jsx(pt,{to:Z,className:"hover:text-foreground",children:"Home"}),a.jsx(bu,{className:"w-4 h-4"}),a.jsx(pt,{to:re,className:"hover:text-foreground",children:"Products"}),a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-foreground",children:l.name})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"lg:hidden mb-4",children:[a.jsxs(nI,{className:"w-full",opts:{loop:!0},children:[a.jsxs(sI,{children:[K.map((Y,Q)=>a.jsx(r1,{children:a.jsx(we,{className:"overflow-hidden",children:a.jsx(_e,{className:"p-0",children:a.jsx("div",{className:"aspect-square bg-muted",children:a.jsx(pu,{src:Y,alt:V0({productName:l.name,category:l.category,imageIndex:Q}),className:"w-full h-full object-contain"})})})})},Q)),V&&a.jsx(r1,{children:a.jsx(we,{className:"overflow-hidden",children:a.jsx(_e,{className:"p-0",children:a.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:a.jsx("div",{className:"relative w-full h-full",children:a.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${V.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||V}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})},"video")]}),(K.length>1||V)&&a.jsxs(a.Fragment,{children:[a.jsx(aI,{className:"left-2"}),a.jsx(iI,{className:"right-2"})]})]}),(K.length>1||V)&&a.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[K.map((Y,Q)=>a.jsx("button",{onClick:()=>v(Q),className:`w-2 h-2 rounded-full transition-colors ${x===Q?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":`View image ${Q+1}`},Q)),V&&a.jsx("button",{onClick:()=>v(K.length),className:`w-2 h-2 rounded-full transition-colors ${x===K.length?"bg-primary":"bg-muted-foreground/30"}`,"aria-label":"View video"},"video-dot")]})]}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx(we,{className:"overflow-hidden mb-4",children:a.jsx(_e,{className:"p-0",children:a.jsx("div",{ref:u,className:"aspect-square bg-muted",children:x<K.length?a.jsx(pu,{src:K[x],alt:V0({productName:l.name,category:l.category,imageIndex:x}),className:"w-full h-full object-contain"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:a.jsx("div",{className:"relative w-full h-full",children:a.jsx("iframe",{className:"absolute inset-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${V?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1]||V}`,title:"Product Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})})}),(K.length>1||V)&&a.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[K.map((Y,Q)=>a.jsx("button",{onClick:()=>v(Q),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] ${x===Q?"border-primary":"border-transparent hover:border-border"}`,children:a.jsx(pu,{src:Y,alt:V0({productName:l.name,category:l.category,imageIndex:Q}),className:"w-full h-full object-contain"})},Q)),V&&X&&a.jsxs("button",{onClick:()=>v(K.length),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors min-h-[44px] relative ${x===K.length?"border-primary":"border-transparent hover:border-border"}`,children:[a.jsx("img",{src:X,alt:`${l.name} - Product video`,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M8 5v14l11-7z"})})})]},"video-thumb")]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(vt,{variant:"secondary",className:"mb-2",children:l.category}),a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:l.name}),a.jsx("p",{className:"text-muted-foreground",children:l.description})]}),l.variants&&l.variants.length>0?a.jsx(we,{ref:d,className:`mb-6 ${f?"":"ring-2 ring-primary/50 ring-offset-2"}`,children:a.jsxs(_e,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs($e,{className:"text-base font-semibold",children:["Select Variant ",!f&&a.jsx("span",{className:"text-destructive",children:"*"})]}),!f&&a.jsx(vt,{variant:"destructive",className:"text-xs",children:"Required"})]}),a.jsx(n1,{value:f,onValueChange:m,children:a.jsx("div",{className:"space-y-3",children:l.variants.map(Y=>a.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer ${f===Y.name?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-accent"}`,onClick:()=>m(Y.name),children:[a.jsx(Gh,{value:Y.name,id:Y.name,className:"min-w-[20px] min-h-[20px]"}),a.jsx($e,{htmlFor:Y.name,className:"flex-1 cursor-pointer font-normal",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:Y.name}),a.jsxs("span",{className:"font-bold text-primary text-lg",children:["",Y.price]})]})})]},Y.name))})}),f?a.jsx("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:a.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected: ",f," - ",W]})}):a.jsx("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:a.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Please select a variant to continue"]})})]})}):a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-3xl font-bold text-primary",children:l.price_range||l.priceRange||`${l.basePrice||l.base_price||0}`})}),a.jsxs("div",{className:"mb-6",children:[a.jsx($e,{className:"text-base font-semibold mb-3 block",children:"Quantity"}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[a.jsx(le,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>ee(-1),disabled:g<=1||M,children:a.jsx(Oq,{className:"w-5 h-5"})}),a.jsx("span",{className:"w-16 text-center font-semibold text-lg",children:g}),a.jsx(le,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>ee(1),disabled:M,children:a.jsx(Ei,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",a.jsx("span",{className:"text-lg font-bold text-foreground",children:M?"":`${(W*g).toFixed(2)}`})]})]})]}),a.jsxs("div",{className:"space-y-3 mb-6 hidden md:block",children:[a.jsxs(le,{onClick:ce,className:"w-full min-h-[48px]",size:"lg",disabled:g===0,children:[a.jsx(ic,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),a.jsxs(le,{onClick:pe,variant:"outline",className:"w-full min-h-[44px]",children:[a.jsx(cL,{className:"w-4 h-4 mr-2"}),"Share Product"]})]}),a.jsx("div",{className:"mb-6 md:hidden",children:a.jsxs(le,{onClick:pe,variant:"outline",className:"w-full min-h-[44px]",children:[a.jsx(cL,{className:"w-4 h-4 mr-2"}),"Share Product"]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Product Details"}),a.jsxs("dl",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Category:"}),a.jsx("dd",{className:"font-medium",children:l.category})]}),z&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-muted-foreground",children:"SKU:"}),a.jsx("dd",{className:"font-medium",children:z})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Availability:"}),a.jsx("dd",{className:"font-medium text-success",children:"In Stock"})]})]})]})})]})]}),E.length>0&&a.jsxs("div",{className:"mt-16",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"More Products"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(Y=>a.jsx(Om,{id:Y.id,slug:Y.slug,name:Y.name,category:Y.category,priceRange:Y.price_range,images:Y.images,status:Y.status,storeSlug:B?void 0:w},Y.id))})]})]}),a.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border shadow-lg z-50 safe-area-inset-bottom",children:a.jsx("div",{className:"container mx-auto px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:M?"Select variant":l.variants&&l.variants.length>0&&f?`${f}`:l.name}),a.jsx("p",{className:"text-lg font-bold text-primary",children:M?"":`${(W*g).toFixed(2)}`})]}),a.jsxs(le,{onClick:ce,size:"lg",className:"min-h-[48px] px-6 font-semibold",disabled:g===0,children:[a.jsx(ic,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})})}),P&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end sm:items-center justify-center p-4",onClick:()=>D(!1),children:a.jsxs("div",{className:"bg-background rounded-t-2xl sm:rounded-2xl w-full max-w-md p-6 space-y-4 animate-in slide-in-from-bottom sm:slide-in-from-bottom-0 duration-300",onClick:Y=>Y.stopPropagation(),children:[a.jsxs("div",{className:"flex gap-4 pb-4 border-b border-border",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:a.jsx("img",{src:K[0],alt:V0({productName:l.name,category:l.category,imageIndex:0}),className:"w-full h-full object-cover",loading:"lazy"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-foreground truncate",children:l.name}),f&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",f]}),a.jsxs("p",{className:"text-sm font-medium text-primary",children:["",W,"  ",g]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),a.jsx("span",{className:"font-semibold",children:g})]}),a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsx("span",{className:"text-base font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-xl font-bold text-primary",children:["",(W*g).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-green-600 dark:text-green-400",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("span",{className:"font-semibold",children:"Added to cart"})]}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx(le,{onClick:()=>{D(!1),n(B?"/cart":`/${w}/cart`)},className:"w-full min-h-[48px] font-semibold",children:"View Cart"}),a.jsx(le,{onClick:()=>D(!1),variant:"outline",className:"w-full min-h-[48px]",children:"Continue Shopping"})]})]})}),k?a.jsx(mx,{storeName:k.name,storeDescription:k.description,whatsappNumber:k.whatsapp_number,phone:A?.phone,email:A?.email,address:k.address,socialLinks:k.social_links,policies:k.policies}):a.jsx("footer",{className:"bg-muted border-t border-border",children:a.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[" ",new Date().getFullYear()," All rights reserved."]})})})]})},U2=({slug:e}={})=>{const{slug:t}=xc(),r=e||t,{cart:n,cartTotal:s,updateQuantity:i,removeItem:o}=p_(),[l,c]=_.useState(r),u=wl();_.useEffect(()=>{r?c(r):n.length>0&&n[0].storeId&&(async()=>{const{data:y}=await ne.from("stores").select("slug").eq("id",n[0].storeId).maybeSingle();y&&c(y.slug)})()},[r,n]);const d=u?"/":l?`/${l}`:"/home",f=u?"/products":l?`/${l}/products`:"/products",m=u?"/checkout":l?`/${l}/checkout`:"/checkout";return n.length===0?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:l,storeId:n[0]?.storeId}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-md mx-auto text-center",children:[a.jsx(bg,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to your cart to see them here"}),a.jsx(pt,{to:f,children:a.jsx(le,{size:"lg",children:"Continue Shopping"})})]})}),a.jsx(Gl,{})]}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:l,storeId:n[0]?.storeId}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[a.jsx(pt,{to:d,className:"hover:text-foreground",children:"Home"}),a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-foreground",children:"Shopping Cart"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),a.jsx("div",{className:"space-y-4",children:n.map(g=>a.jsx(we,{children:a.jsx(_e,{className:"p-4 md:p-6",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(pu,{src:g.productImage,alt:g.productName,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:g.productName}),g.variant&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Variant: ",g.variant]}),g.sku&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",g.sku]})]}),a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>o(g.productId,g.variant),children:a.jsx(ri,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-4",children:[a.jsxs("div",{className:"flex items-center border border-border rounded-lg w-fit",children:[a.jsx(le,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(g.productId,g.variant,g.quantity-1),disabled:g.quantity<=1,children:a.jsx(Oq,{className:"w-5 h-5"})}),a.jsx("span",{className:"w-14 text-center font-semibold text-lg",children:g.quantity}),a.jsx(le,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px]",onClick:()=>i(g.productId,g.variant,g.quantity+1),children:a.jsx(Ei,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["",g.price," each"]}),a.jsxs("p",{className:"text-xl font-bold text-primary",children:["",g.price*g.quantity]})]})]})]})]})})},`${g.productId}-${g.variant}`))})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(we,{className:"sticky top-24",children:a.jsxs(_e,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[a.jsxs("span",{children:["Subtotal (",n.reduce((g,y)=>g+y.quantity,0)," items)"]}),a.jsxs("span",{children:["",s]})]}),a.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[a.jsx("span",{children:"Delivery"}),a.jsx("span",{className:"text-success",children:"FREE"})]}),a.jsxs("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold",children:"Total"}),a.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",s]})]})]}),a.jsx(le,{asChild:!0,className:"w-full min-h-[48px]",size:"lg",children:a.jsx(pt,{to:m,children:"Proceed to Checkout"})}),a.jsx(le,{asChild:!0,variant:"outline",className:"w-full min-h-[44px] mt-3",children:a.jsx(pt,{to:f,children:"Continue Shopping"})})]})})})]})]}),a.jsx(Gl,{})]})};function aFe({onLocationSelect:e,enabled:t=!0}){const[r,n]=_.useState(!1),s=()=>{if(!t){Ve({title:"Feature Not Available",description:"Location sharing is not enabled in your current subscription plan",variant:"destructive"});return}if(!navigator.geolocation){Ve({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"});return}n(!0),navigator.geolocation.getCurrentPosition(i=>{const{latitude:o,longitude:l}=i.coords;e(o,l),Ve({title:"Location Captured",description:"Your location has been added to the order"}),n(!1)},i=>{let o="Failed to get location";i.code===i.PERMISSION_DENIED&&(o="Location permission denied. Please enable location access in your browser settings."),Ve({title:"Location Error",description:o,variant:"destructive"}),n(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return t?a.jsx(le,{type:"button",variant:"outline",onClick:s,disabled:r,className:"w-full",children:r?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Location..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ip,{className:"h-4 w-4 mr-2"}),"Share My Current Location"]})}):null}const iFe=Tf({fullName:lr().trim().min(2,"Name must be at least 2 characters").max(100),phone:lr().trim().regex(/^[6-9]\d{9}$/,"Enter a valid 10-digit phone number"),email:lr().trim().email("Invalid email address").optional().or(Nwe("")),address:lr().trim().min(10,"Address must be at least 10 characters").max(200),landmark:lr().trim().max(100).optional(),pincode:lr().trim().regex(/^\d{6}$/,"Enter a valid 6-digit PIN code"),deliveryTime:vR(["morning","evening","anytime"],{required_error:"Please select a delivery time"})}),V2=({slug:e}={})=>{const{slug:t}=xc(),r=e||t,n=nr(),{cart:s,cartTotal:i,clearCart:o}=p_(),{toast:l}=Ln(),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,g]=_.useState(!1),[y,x]=_.useState(null),[v,j]=_.useState(null),[S,w]=_.useState(!1),T=_.useRef(null),[E,N]=_.useState(!0),[k,R]=_.useState(r),[A,I]=_.useState(!1),[P,D]=_.useState(null),B=vv({resolver:yv(iFe),defaultValues:{fullName:"",phone:"",email:"",address:"",landmark:"",pincode:"",deliveryTime:"anytime"}});_.useEffect(()=>{H(),U(),r?R(r):s.length>0&&s[0].storeId&&(async()=>{const{data:G}=await ne.from("stores").select("slug").eq("id",s[0].storeId).maybeSingle();G&&R(G.slug)})()},[r,s]);const U=async()=>{try{if(N(!0),s.length===0){N(!1);return}const z=s[0]?.storeId;if(!z||z.trim()===""){console.error("Cart storeId is invalid:",z),j("Unable to process your order. Please clear your cart and add products again from the store."),N(!1);return}const{data:G}=await ne.from("stores").select("id, user_id, whatsapp_number").eq("id",z).maybeSingle();if(!G){j("Store not found."),N(!1);return}const{data:F}=await ne.from("subscriptions").select(`
          status,
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          subscription_plans (
            name,
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",G.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),X=F&&F.length>0?F[0]:null;if(!X){j("This store has no active subscription. Orders are currently unavailable."),N(!1);return}if(!["active","trial"].includes(X.status)){j("This store's subscription is not active. Orders are currently unavailable."),N(!1);return}const Z=new Date,re=X.current_period_end?new Date(X.current_period_end):null;if(re&&re<Z){j("This store's subscription has expired. Orders are currently unavailable."),N(!1);return}if(X.subscription_plans){const ee=X.subscription_plans.whatsapp_orders_limit,ce=X.whatsapp_orders_used||0,pe=X.subscription_plans.website_orders_limit,Y=X.website_orders_used||0;if(ee===null&&pe===null){j("Ordering is not available in this store's plan."),N(!1);return}const Q=ee!==null&&(ee===0||ce<ee),ae=pe!==null&&(pe===0||Y<pe);if(!Q&&!ae){const q=ee!==null?"whatsapp":"website",ke=q==="whatsapp"?ce:Y,ye=q==="whatsapp"?ee:pe;D({planName:X.subscription_plans.name||"Current Plan",ordersUsed:ke,ordersLimit:ye||0,storeWhatsApp:G.whatsapp_number}),I(!0),N(!1);return}}j(null),N(!1)}catch(z){console.error("Error checking subscription:",z),j("Unable to verify store subscription. Please try again later."),N(!1)}},H=async()=>{try{if(s.length>0&&s[0].storeId){const z=s[0].storeId,{data:G}=await ne.from("stores").select("id, user_id, force_location_sharing").eq("id",z).maybeSingle();if(!G){f(!0),g(!1),console.log("No store found, enabling location by default");return}const{data:F}=await ne.from("subscriptions").select("plan_id, subscription_plans(enable_location_sharing)").eq("user_id",G.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),Z=(F&&F.length>0?F[0]:null)?.subscription_plans?.enable_location_sharing||!1,re=G.force_location_sharing||!1;f(Z),g(re),console.log("Location feature enabled:",Z,"forced:",re,"for store:",G.id)}else f(!1)}catch(z){console.error("Error checking location feature:",z),f(!1)}},M=(z,G)=>{x({latitude:z,longitude:G}),w(!1)};if(E)return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:k,storeId:s[0]?.storeId}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:a.jsx("div",{className:"max-w-md mx-auto text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking availability..."})})}),a.jsx(Gl,{})]});if(v)return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:k,storeId:s[0]?.storeId}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-md mx-auto text-center",children:[a.jsx(bg,{className:"w-24 h-24 mx-auto mb-6 text-destructive"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Orders Unavailable"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:v}),a.jsx(pt,{to:k?`/${k}`:"/home",children:a.jsx(le,{size:"lg",children:"Back to Home"})})]})}),a.jsx(Gl,{})]});if(s.length===0)return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:k,storeId:s[0]?.storeId}),a.jsx("main",{className:"flex-1 container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-md mx-auto text-center",children:[a.jsx(bg,{className:"w-24 h-24 mx-auto mb-6 text-muted-foreground"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some products to proceed to checkout"}),a.jsx(pt,{to:k?`/${k}/products`:"/products",children:a.jsx(le,{size:"lg",children:"Continue Shopping"})})]})}),a.jsx(Gl,{})]});const W=async z=>{if(u(!0),m&&!y){T.current?.scrollIntoView({behavior:"smooth",block:"center"}),w(!0),u(!1);return}const G={morning:"Morning (9 AM - 12 PM)",evening:"Evening (4 PM - 7 PM)",anytime:"Anytime"}[z.deliveryTime];try{const F=s[0]?.storeId;if(!F||F.trim()===""){l({title:"Cart Error",description:"Your cart contains invalid items. Please clear your cart and add products again.",variant:"destructive"}),u(!1);return}const{data:X}=await ne.from("stores").select("id, user_id").eq("id",F).maybeSingle();if(!X)throw new Error("Store not found");const{data:Z}=await ne.from("subscriptions").select(`
          whatsapp_orders_used,
          website_orders_used,
          current_period_end,
          status,
          subscription_plans (
            whatsapp_orders_limit,
            website_orders_limit
          )
        `).eq("user_id",X.user_id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),re=Z&&Z.length>0?Z[0]:null;if(re){const ke=new Date,ye=re.current_period_end?new Date(re.current_period_end):null;if(ye&&ye<ke)throw new Error("Your subscription has expired. Please upgrade your plan to continue accepting orders.");if(re?.subscription_plans){const xe=re.subscription_plans.whatsapp_orders_limit,Re=re.whatsapp_orders_used||0;if(xe===null)throw new Error("WhatsApp ordering is not available in your current plan.");if(xe>0&&Re>=xe)throw new Error("WhatsApp order limit reached for this month. Please upgrade your plan or contact support.")}}const ee=`ORD${Date.now().toString().slice(-8)}`,ce={store_id:X.id,order_number:ee,customer_name:z.fullName,customer_phone:z.phone,customer_email:z.email||null,delivery_address:z.address,delivery_landmark:z.landmark||null,delivery_pincode:z.pincode,delivery_time:G,delivery_latitude:y?.latitude||null,delivery_longitude:y?.longitude||null,items:s,subtotal:i,delivery_charge:0,total:i,status:"new",payment_method:"cod"},{data:pe,error:Y}=await ne.from("orders").insert(ce).select("id").single();if(Y)throw Y;const Q={customerName:z.fullName,phone:z.phone,email:z.email||void 0,address:z.address,landmark:z.landmark||void 0,pincode:z.pincode,deliveryTime:G,latitude:y?.latitude,longitude:y?.longitude,cart:s,subtotal:i,deliveryCharge:0,total:i},ae=e4e(Q),q=await zJ(ae,void 0,F);if(!q.success){l({title:"WhatsApp Not Configured",description:q.error,variant:"destructive"}),u(!1);return}l({title:"Order placed successfully!",description:"We'll contact you shortly on WhatsApp to confirm your order."}),o(),setTimeout(()=>{n(k?`/${k}`:"/home")},2e3)}catch(F){console.error("Checkout error:",F),l({title:"Order failed",description:F.message||"Failed to place order. Please try again.",variant:"destructive"}),u(!1)}},K=k?`/${k}`:"/home",V=k?`/${k}/cart`:"/cart";return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:k,storeId:s[0]?.storeId}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[a.jsx(pt,{to:K,className:"hover:text-foreground",children:"Home"}),a.jsx(bu,{className:"w-4 h-4"}),a.jsx(pt,{to:V,className:"hover:text-foreground",children:"Cart"}),a.jsx(bu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-foreground",children:"Checkout"})]}),a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(wv,{...B,children:a.jsxs("form",{onSubmit:B.handleSubmit(W),className:"space-y-6",children:[a.jsx(we,{children:a.jsxs(_e,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:B.control,name:"fullName",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Full Name *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter your full name",...z})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:B.control,name:"phone",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Phone Number *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"10-digit mobile number",...z})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:B.control,name:"email",render:({field:z})=>a.jsxs(Mt,{className:"md:col-span-2",children:[a.jsx(Dt,{children:"Email (Optional)"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"your.email@example.com",...z})}),a.jsx(Jt,{})]})})]})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Delivery Address"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Lt,{control:B.control,name:"address",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Complete Address *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"House/Flat No., Street, Area",...z})}),a.jsx(Jt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:B.control,name:"landmark",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Landmark (Optional)"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Nearby location",...z})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:B.control,name:"pincode",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"PIN Code *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"6-digit PIN code",...z})}),a.jsx(Jt,{})]})})]}),a.jsx(Lt,{control:B.control,name:"deliveryTime",render:({field:z})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Preferred Delivery Time *"}),a.jsx(Ft,{children:a.jsxs(n1,{onValueChange:z.onChange,defaultValue:z.value,className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[a.jsx(Gh,{value:"morning",id:"morning"}),a.jsx($e,{htmlFor:"morning",className:"flex-1 cursor-pointer font-normal",children:"Morning (9 AM - 12 PM)"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[a.jsx(Gh,{value:"evening",id:"evening"}),a.jsx($e,{htmlFor:"evening",className:"flex-1 cursor-pointer font-normal",children:"Evening (4 PM - 7 PM)"})]}),a.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-3 hover:bg-accent transition-colors",children:[a.jsx(Gh,{value:"anytime",id:"anytime"}),a.jsx($e,{htmlFor:"anytime",className:"flex-1 cursor-pointer font-normal",children:"Anytime"})]})]})}),a.jsx(Jt,{})]})}),d&&a.jsxs("div",{ref:T,className:`space-y-3 p-4 rounded-lg border transition-all duration-300 ${m&&!y?"animate-pulse-border":""} ${S?"animate-attention-shake border-destructive bg-destructive/5 shadow-lg shadow-destructive/20":"bg-card/50 backdrop-blur-sm hover:border-primary/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($e,{className:"text-base font-medium",children:"Share Your Location"}),m?a.jsx(hg.span,{className:"px-2.5 py-0.5 text-xs font-semibold rounded-full bg-primary/10 text-primary border border-primary/20",initial:{scale:0,x:-10},animate:{scale:1,x:0},transition:{type:"spring",stiffness:500,damping:15},children:"Required"}):a.jsx("span",{className:"px-2.5 py-0.5 text-xs font-medium rounded-full bg-muted text-muted-foreground",children:"Optional"})]}),m&&a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"We need your location for accurate delivery"]}),a.jsx(aFe,{onLocationSelect:M,enabled:d}),a.jsx(Y8,{mode:"wait",children:y&&a.jsxs(hg.div,{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-950/30 px-3 py-2 rounded-md",initial:{opacity:0,scale:.8,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-10},transition:{type:"spring",stiffness:500,damping:25},children:[a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Location captured successfully"]})}),a.jsx(Y8,{children:S&&!y&&a.jsxs(hg.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md border border-destructive/20",children:[a.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Please share your location to continue - it's required for delivery"]})})]})]})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),a.jsx(n1,{defaultValue:"cod",disabled:!0,children:a.jsxs("div",{className:"flex items-center space-x-2 border border-border rounded-lg p-4 bg-accent",children:[a.jsx(Gh,{value:"cod",id:"cod"}),a.jsx($e,{htmlFor:"cod",className:"flex-1 font-normal",children:"Cash on Delivery (COD)"})]})}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Pay when you receive your order"})]})}),a.jsxs(le,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:c,children:[a.jsx($h,{className:"w-5 h-5 mr-2"}),"Place Order via WhatsApp"]})]})})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(we,{className:"sticky top-24",children:a.jsxs(_e,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),a.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:s.map(z=>a.jsxs("div",{className:"flex gap-3 pb-3 border-b border-border last:border-0",children:[a.jsx("img",{src:z.productImage,alt:z.productName,className:"w-16 h-16 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:z.productName}),z.variant&&a.jsx("p",{className:"text-xs text-muted-foreground",children:z.variant}),a.jsxs("p",{className:"text-sm font-semibold text-primary",children:["",z.price,"  ",z.quantity]})]})]},`${z.productId}-${z.variant}`))}),a.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b border-border",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-muted-foreground",children:["Subtotal (",s.reduce((z,G)=>z+G.quantity,0)," items)"]}),a.jsxs("span",{children:["",i]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),a.jsx("span",{className:"text-success",children:"FREE"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-lg font-semibold",children:"Total"}),a.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",i]})]}),a.jsx("div",{className:"bg-accent p-3 rounded-lg",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:" Payment Method: Cash on Delivery"})})]})})})]})]}),a.jsx(Gl,{}),a.jsx(Hn,{open:A,onOpenChange:I,children:a.jsxs(Pn,{className:"sm:max-w-md",children:[a.jsxs(On,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[a.jsx(wa,{className:"h-5 w-5"}),a.jsx(Rn,{children:"Order Limit Reached"})]}),a.jsxs(Xs,{className:"pt-3 space-y-3",children:[a.jsx("p",{className:"text-base",children:"This store has reached its monthly order limit"}),P&&a.jsxs("div",{className:"bg-accent p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),a.jsx("span",{className:"font-semibold",children:P.planName})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Orders Used:"}),a.jsxs("span",{className:"font-semibold",children:[P.ordersUsed," of ",P.ordersLimit]})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The store owner needs to upgrade their plan to accept more orders."})]})]}),a.jsxs(wi,{className:"flex-col sm:flex-row gap-2",children:[P?.storeWhatsApp&&a.jsxs(le,{onClick:()=>{window.open(`https://wa.me/${P.storeWhatsApp}`,"_blank")},variant:"default",className:"w-full sm:w-auto",children:[a.jsx($h,{className:"h-4 w-4 mr-2"}),"Contact Store Owner"]}),a.jsx(le,{onClick:()=>{I(!1),n(k?`/${k}`:"/")},variant:"outline",className:"w-full sm:w-auto",children:"Back to Store"})]})]})}),a.jsx("style",{children:`
        @keyframes pulse-border {
          0%, 100% { border-color: hsl(var(--border)); }
          50% { border-color: hsl(var(--primary) / 0.5); }
        }

        @keyframes attention-shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
          20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .animate-pulse-border {
          animation: pulse-border 2s ease-in-out infinite;
        }

        .animate-attention-shake {
          animation: attention-shake 0.6s ease-in-out;
        }
      `})]})},oFe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState("monthly"),[c,u]=_.useState(null),d=nr(),{toast:f}=Ln();_.useEffect(()=>{g(),m()},[]);const m=()=>{const j=document.createElement("script");j.src="https://checkout.razorpay.com/v1/checkout.js",j.async=!0,document.body.appendChild(j)},g=async()=>{try{n(!0),i(null);const{data:j,error:S}=await ne.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price",{ascending:!0});if(S)throw S;t(j||[])}catch(j){console.error("Error fetching plans:",j),i("Failed to load pricing plans. Please try again later.")}finally{n(!1)}},y=j=>{const S=[];return j.max_products?S.push(`Up to ${j.max_products.toLocaleString()} products`):S.push("Unlimited products"),j.whatsapp_orders_limit!==null&&(j.whatsapp_orders_limit===0?S.push("Unlimited WhatsApp orders"):S.push(`${j.whatsapp_orders_limit.toLocaleString()} WhatsApp orders/month`)),j.website_orders_limit!==null&&(j.website_orders_limit===0?S.push("Unlimited website orders"):S.push(`${j.website_orders_limit.toLocaleString()} website orders/month`)),j.enable_location_sharing&&S.push("Location sharing for deliveries"),j.enable_analytics&&S.push("Advanced analytics dashboard"),j.enable_order_emails&&S.push("Email notifications"),j.trial_days>0&&S.push(`${j.trial_days}-day free trial`),S},x=async j=>{try{u(j.id);const{data:{user:S}}=await ne.auth.getUser();if(!S){d("/auth");return}const{data:w}=await ne.from("subscriptions").select("*").eq("user_id",S.id).in("status",["active","trial"]).order("created_at",{ascending:!1}).limit(1),T=w&&w.length>0?w[0]:null;if(T&&T.status==="active"){f({title:"Already subscribed",description:"You already have an active subscription",variant:"destructive"});return}const E=o==="yearly"&&j.yearly_price?j.yearly_price:j.monthly_price,{data:N,error:k}=await ne.functions.invoke("razorpay-payment",{body:{action:"create_order",plan_id:j.id,billing_cycle:o,user_id:S.id}});if(k||!N.success)throw new Error(N?.error||"Failed to create payment order");const{data:R}=await ne.from("profiles").select("full_name, email, phone").eq("user_id",S.id).maybeSingle(),A={key:N.key_id,amount:N.amount,currency:N.currency,name:"StoreBuilder",description:`${j.name} - ${o==="yearly"?"Yearly":"Monthly"} Subscription`,order_id:N.order_id,prefill:{name:R?.full_name||S.email,email:R?.email||S.email,contact:R?.phone||""},theme:{color:"#3B82F6"},handler:async function(P){console.log(" Payment completed, verifying...",{order_id:P.razorpay_order_id,payment_id:P.razorpay_payment_id});try{f({title:"Verifying payment...",description:"Please wait while we confirm your payment"});let D=0,B=null,U=null;for(;D<3;){const H=await ne.functions.invoke("razorpay-payment",{body:{action:"verify_payment",razorpay_order_id:P.razorpay_order_id,razorpay_payment_id:P.razorpay_payment_id,razorpay_signature:P.razorpay_signature,subscription_id:N.subscription_id,user_id:S.id}});if(B=H.data,U=H.error,!U&&B?.success){console.log(" Payment verified successfully");break}D++,console.warn(` Verification attempt ${D} failed, retrying...`),D<3&&await new Promise(M=>setTimeout(M,1e3*D))}if(U||!B?.success)throw console.error(" Payment verification failed after 3 attempts:",{error:U,data:B}),new Error(B?.error||"Payment verification failed");f({title:"Payment successful! ",description:"Your subscription has been activated. Redirecting..."}),setTimeout(()=>{d("/admin/dashboard")},1500)}catch(D){console.error(" Payment verification error:",D),f({title:"Payment verification failed",description:D.message||"Please contact support with your payment details",variant:"destructive"}),setTimeout(()=>{d("/admin/dashboard")},3e3)}finally{u(null)}},modal:{ondismiss:function(){u(null)}}};new window.Razorpay(A).open()}catch(S){console.error("Payment error:",S),f({title:"Payment failed",description:S.message||"Unable to process payment",variant:"destructive"})}finally{u(null)}};if(r)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(bs,{className:"w-8 h-8 animate-spin text-primary"})});if(s)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsx(Xte,{message:s,onRetry:g})});const v={"@context":"https://schema.org","@type":"WebPage",name:"Pricing Plans - DigitalDukandar",description:"Affordable e-commerce platform pricing for Indian businesses. Start with free 14-day trial. Plans starting from 299/month with unlimited products, WhatsApp integration & analytics.",url:"https://digitaldukandar.in/pricing"};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs(D4,{children:[a.jsx("title",{children:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),a.jsx("meta",{name:"title",content:"Pricing Plans - Affordable Online Store Builder India | DigitalDukandar"}),a.jsx("meta",{name:"description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month. Unlimited products, WhatsApp orders, custom domain, analytics. No hidden fees. Cancel anytime."}),a.jsx("meta",{name:"keywords",content:"online store pricing India, e-commerce platform cost, affordable store builder, WhatsApp store pricing, small business e-commerce plans, digital store subscription India"}),a.jsx("link",{rel:"canonical",content:"https://digitaldukandar.in/pricing"}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:"https://digitaldukandar.in/pricing"}),a.jsx("meta",{property:"og:title",content:"Pricing Plans - Affordable Online Store Builder"}),a.jsx("meta",{property:"og:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),a.jsx("meta",{property:"og:image",content:"https://digitaldukandar.in/logo.png"}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:"Pricing Plans - Affordable Online Store Builder"}),a.jsx("meta",{name:"twitter:description",content:"Flexible pricing for Indian entrepreneurs. Start FREE 14-day trial. Plans from 299/month."}),a.jsx("meta",{name:"twitter:image",content:"https://digitaldukandar.in/logo.png"}),a.jsx("script",{type:"application/ld+json",children:JSON.stringify(v)})]}),a.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl sticky top-0 z-50",children:a.jsxs("div",{className:"container mx-auto px-4 lg:px-8 h-20 flex items-center justify-between",children:[a.jsxs(pt,{to:"/",className:"flex items-center gap-3 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-primary/60 rounded-2xl blur-sm opacity-70 group-hover:opacity-100 transition-opacity"}),a.jsx("div",{className:"relative w-11 h-11 bg-gradient-to-br from-primary via-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all",children:a.jsx(Rh,{className:"w-6 h-6 text-primary-foreground"})})]}),a.jsx("span",{className:"font-playfair font-bold text-2xl bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"StoreBuilder"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsx(pt,{to:"/",children:a.jsx(le,{variant:"ghost",size:"sm",children:"Back to Home"})}),a.jsx(pt,{to:"/auth",children:a.jsxs(le,{size:"sm",children:["Get Started",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]})]})}),a.jsx("section",{className:"container mx-auto px-4 lg:px-8 py-24",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:"Transparent Pricing"})}),a.jsx("h1",{className:"font-playfair text-5xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6",children:"Choose Your Perfect Plan"}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Simple, transparent pricing for your online store. Start free, upgrade as you grow."})]}),a.jsx("div",{className:"flex justify-center mb-12",children:a.jsxs("div",{className:"inline-flex items-center gap-3 bg-muted p-1.5 rounded-lg",children:[a.jsx("button",{onClick:()=>l("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="monthly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Monthly"}),a.jsxs("button",{onClick:()=>l("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition-all ${o==="yearly"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:["Yearly",a.jsx(vt,{variant:"secondary",className:"ml-2 bg-primary/10 text-primary",children:"Save 20%"})]})]})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(j=>{const S=o==="yearly"&&j.yearly_price?j.yearly_price:j.monthly_price,w=y(j);return a.jsxs(we,{className:`relative p-8 transition-all duration-300 bg-card ${j.is_popular?"border-2 border-primary shadow-2xl scale-105":"border hover:shadow-lg hover:-translate-y-1"}`,children:[j.is_popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:a.jsx(vt,{className:"bg-primary text-primary-foreground px-4 py-1.5 text-sm font-semibold shadow-lg",children:j.badge_text||"Most Popular"})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"font-playfair text-3xl font-bold text-foreground mb-4 tracking-tight",children:j.name}),j.description&&a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:j.description}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsxs("span",{className:"text-5xl font-semibold text-foreground tracking-tight",children:["",S.toLocaleString()]}),a.jsxs("span",{className:"text-lg text-muted-foreground font-medium",children:["/",o==="monthly"?"month":"year"]})]}),o==="yearly"&&j.yearly_price&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Math.round(j.yearly_price/12).toLocaleString(),"/month billed annually"]})]}),a.jsx(le,{size:"lg",className:`w-full font-semibold mb-8 ${j.is_popular?"shadow-lg":""}`,variant:j.is_popular?"default":"outline",onClick:()=>x(j),disabled:c===j.id,children:c===j.id?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:["Get Started",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("p",{className:"text-sm font-semibold text-foreground mb-4",children:"Everything included:"}),w.map((T,E)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(Gr,{className:"w-3 h-3 text-green-500"})}),a.jsx("span",{className:"text-sm text-foreground font-medium leading-relaxed",children:T})]},E))]})]},j.id)})}),a.jsx("div",{className:"mt-20 text-center",children:a.jsxs("div",{className:"inline-flex flex-wrap justify-center items-center gap-6 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Secure payment processing"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Instant activation"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{children:"Cancel anytime"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border/50 bg-muted/20 py-8",children:a.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:a.jsx("p",{children:" 2024 StoreBuilder. All rights reserved."})})})]})};function lFe(){const e=nr(),{toast:t}=Ln(),[r,n]=A4(),[s,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(""),[m,g]=_.useState("");_.useEffect(()=>{r.get("error")==="account_deleted"&&(u(!0),n({})),ne.auth.getSession().then(async({data:{session:w}})=>{if(console.log("[Auth] Checking existing session:",w?"Found":"None"),w){l(!0);const{data:T}=await ne.from("helpers").select("*").eq("id",w.user.id).maybeSingle();if(T){console.log("[Auth] Helper found - redirecting to helper dashboard"),e("/helper/dashboard"),i(!1);return}const{data:E,error:N}=await ne.from("stores").select("*").eq("user_id",w.user.id).maybeSingle();console.log("[Auth] Store query error:",N),console.log("[Auth] Store found:",E?"Yes":"No",E),E?(console.log("[Auth] Redirecting to admin dashboard"),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),e("/onboarding/store-setup")),i(!1)}});const{data:{subscription:S}}=ne.auth.onAuthStateChange((w,T)=>{console.log("[Auth] Auth state changed:",w,T?"Session exists":"No session"),w==="SIGNED_IN"&&T&&(l(!0),setTimeout(async()=>{try{const{data:E}=await ne.from("helpers").select("*").eq("id",T.user.id).maybeSingle();if(E){console.log("[Auth] Helper found - redirecting to helper dashboard"),t({title:"Welcome back!",description:"Redirecting to your helper dashboard."}),e("/helper/dashboard");return}const{data:N,error:k}=await ne.from("stores").select("*").eq("user_id",T.user.id).maybeSingle();console.log("[Auth] After sign in - Query error:",k),console.log("[Auth] After sign in - Store found:",N?"Yes":"No",N);const R=T.provider_token,A=T.provider_refresh_token;if(N&&R){console.log("[Auth] Saving Google Drive tokens to store");const I={google_access_token:R};if(A){const P=new Date(Date.now()+36e5);I.google_refresh_token=A,I.google_token_expiry=P.toISOString()}await ne.from("stores").update(I).eq("id",N.id)}N?(console.log("[Auth] Existing user - redirecting to admin dashboard"),t({title:"Success",description:R?"Welcome back! Google Drive connected.":"Welcome back!"}),e("/admin/dashboard")):(console.log("[Auth] No store found - redirecting to onboarding"),t({title:"Welcome!",description:"Let's set up your store."}),e("/onboarding/store-setup"))}catch(E){console.error("[Auth] Error checking store:",E),t({variant:"destructive",title:"Error",description:"Failed to verify account. Please try again."})}},0))});return()=>S.unsubscribe()},[e,t]);const y=async()=>{try{i(!0),console.log("[Auth] Starting Google sign in...");const{error:j}=await ne.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth`,scopes:"https://www.googleapis.com/auth/drive.file"}});j?(console.error("[Auth] Sign in error:",j),t({variant:"destructive",title:"Error",description:j.message})):console.log("[Auth] OAuth redirect initiated")}catch(j){console.error("[Auth] Unexpected error:",j),t({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},x=async j=>{if(j.preventDefault(),!d||!m){t({variant:"destructive",title:"Error",description:"Please enter both email and password"});return}try{i(!0),console.log("[Auth] Starting email/password sign in...");const{error:S}=await ne.auth.signInWithPassword({email:d,password:m});S?(console.error("[Auth] Sign in error:",S),S.message.includes("Email not confirmed")?t({variant:"destructive",title:"Email Not Confirmed",description:"Please check your email and click the confirmation link we sent you. Check your spam folder if you don't see it."}):t({variant:"destructive",title:"Error",description:S.message})):console.log("[Auth] Sign in successful")}catch(S){console.error("[Auth] Unexpected error:",S),t({variant:"destructive",title:"Error",description:"An unexpected error occurred"})}finally{i(!1)}},v=async()=>{try{i(!0);const{error:j}=await ne.auth.signOut();if(j)throw j;t({title:"Signed out",description:"You have been signed out successfully."}),window.location.reload()}catch(j){t({variant:"destructive",title:"Error",description:j.message})}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-4",children:[c&&a.jsx(bn,{variant:"destructive",className:"border-2 shadow-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nc,{className:"h-6 w-6 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Y4,{className:"text-lg font-semibold mb-2",children:"Account Deleted"}),a.jsx(_n,{className:"text-base",children:"Your account has been deleted by the administrator. All your data has been removed from the system."})]}),a.jsx(le,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>u(!1),children:a.jsx(Qs,{className:"h-5 w-5"})})]})}),a.jsxs(we,{className:"w-full",children:[a.jsxs(Ge,{className:"space-y-1",children:[a.jsx(Ke,{className:"text-2xl font-bold text-center",children:"Sign In"}),a.jsx(nn,{className:"text-center",children:"Sign in to access your dashboard"})]}),a.jsx(_e,{className:"space-y-4",children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center space-y-2 py-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"You're already signed in"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redirecting to your dashboard..."})]}),a.jsx(le,{onClick:v,disabled:s,variant:"outline",className:"w-full",size:"lg",children:s?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing out..."]}):"Sign out"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email"}),a.jsx(De,{id:"email",type:"email",placeholder:"your@email.com",value:d,onChange:j=>f(j.target.value),disabled:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"Password"}),a.jsx(De,{id:"password",type:"password",placeholder:"Enter your password",value:m,onChange:j=>g(j.target.value),disabled:s,required:!0})]}),a.jsx(le,{type:"submit",disabled:s,className:"w-full",size:"lg",children:s?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):"Sign in with Email"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx(Pd,{})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsx(le,{onClick:y,disabled:s,variant:"outline",className:"w-full",size:"lg",children:s?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})]})]})})}function cFe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(""),[s,i]=_.useState(""),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),m="superadmin.digitaldukandar.in";_.useEffect(()=>{const y=window.location.hostname,x=y.endsWith(".lovable.app")||y.endsWith(".lovable.dev")||y.endsWith(".lovableproject.com");!(y===m)&&!(y==="localhost"||y==="127.0.0.1")&&!x&&f(!0)},[]);const g=async y=>{y.preventDefault(),u(!0);try{const{data:x,error:v}=await ne.auth.signInWithPassword({email:r,password:s});if(v)throw v;if(!x.user)throw new Error("Login failed");const{data:j,error:S}=await ne.from("user_roles").select("role").eq("user_id",x.user.id).eq("role","super_admin");if(S)throw S;if(!j||j.length===0)throw await ne.auth.signOut(),new Error("You do not have super admin access");const{data:w}=await ne.from("profiles").select("full_name").eq("user_id",x.user.id).single();sessionStorage.setItem("superadmin_session",JSON.stringify({id:x.user.id,email:x.user.email,fullName:w?.full_name||"Super Admin",loginAt:new Date().toISOString()})),o&&localStorage.setItem("superadmin_remember","true"),t({title:"Login Successful",description:"Welcome back to Super Admin Panel"}),e("/superadmin/dashboard")}catch(x){console.error("Login error:",x),t({variant:"destructive",title:"Login Failed",description:x.message||"Invalid credentials or insufficient permissions"})}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:a.jsxs(we,{className:"w-full max-w-md",children:[a.jsxs(Ge,{className:"space-y-4 text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(vl,{className:"w-8 h-8 text-primary"})}),a.jsxs("div",{children:[a.jsx(Ke,{className:"text-3xl font-bold",children:"Super Admin"}),a.jsx(nn,{className:"mt-2",children:d?"Access Restricted":"Enter your credentials to access the admin panel"})]})]}),a.jsx(_e,{children:d?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-destructive font-medium",children:"Unauthorized Domain Access"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This super admin panel can only be accessed from authorized domains."}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current domain: ",a.jsx("span",{className:"font-mono",children:window.location.hostname})]})]}):a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email Address"}),a.jsx(De,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:y=>n(y.target.value),required:!0,disabled:c})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"Password"}),a.jsx(De,{id:"password",type:"password",placeholder:"",value:s,onChange:y=>i(y.target.value),required:!0,disabled:c})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"remember",checked:o,onCheckedChange:y=>l(y),disabled:c}),a.jsx($e,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),a.jsx(le,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function _0({className:e,...t}){return a.jsx("div",{className:Je("animate-pulse rounded-md bg-muted",e),...t})}function uFe(){const[e,t]=_.useState([]),[r,n]=_.useState(!0);_.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const{data:o,error:l}=await ne.from("subscription_plans").select("id, name, enable_location_sharing, enable_analytics, enable_order_emails").order("display_order");if(l)throw l;t(o||[])}catch(o){Ve({title:"Error",description:o.message,variant:"destructive"})}finally{n(!1)}},i=async(o,l,c)=>{try{const{error:u}=await ne.from("subscription_plans").update({[l]:c}).eq("id",o);if(u)throw u;Ve({title:"Success",description:"Feature setting updated"}),s()}catch(u){Ve({title:"Error",description:u.message,variant:"destructive"})}};return r?a.jsx(we,{children:a.jsx(_e,{className:"p-6 text-center",children:a.jsx(bs,{className:"h-8 w-8 animate-spin mx-auto"})})}):a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Feature Management"})}),a.jsx(_e,{children:a.jsx("div",{className:"space-y-6",children:e.map(o=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold mb-4",children:o.name}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:`location-${o.id}`,className:"cursor-pointer",children:"Location Sharing"}),a.jsx(un,{id:`location-${o.id}`,checked:o.enable_location_sharing,onCheckedChange:l=>i(o.id,"enable_location_sharing",l)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($e,{htmlFor:`analytics-${o.id}`,className:"cursor-pointer",children:"Analytics"}),a.jsx(un,{id:`analytics-${o.id}`,checked:o.enable_analytics,onCheckedChange:l=>i(o.id,"enable_analytics",l)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:"Order Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for new orders"})]}),a.jsx(un,{checked:o.enable_order_emails,onCheckedChange:l=>i(o.id,"enable_order_emails",l)})]})]})]},o.id))})})]})}function dFe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(""),[s,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(null),[m,g]=_.useState(!0);_.useEffect(()=>{(async()=>{const T=sessionStorage.getItem("superadmin_session");if(T){const R=JSON.parse(T);n(R.fullName),y();return}const{data:{user:E}}=await ne.auth.getUser();if(!E){e("/superadmin/login");return}const{data:N}=await ne.from("user_roles").select("role").eq("user_id",E.id).eq("role","super_admin");if(!N||N.length===0){t({title:"Access Denied",description:"You need super admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:k}=await ne.from("profiles").select("full_name, email").eq("user_id",E.id).single();n(k?.full_name||k?.email||E.email||"Super Admin"),y()})();const w=setInterval(y,6e4);return()=>clearInterval(w)},[e]);const y=async()=>{try{const{data:S}=await ne.from("profiles").select("created_at, user_id"),w=S?.length||0,{data:T}=await ne.from("user_roles").select("user_id").eq("role","super_admin"),E=new Set(T?.map(He=>He.user_id)||[]),N=(S||[]).filter(He=>!E.has(He.user_id)),k=N.length,R=new Date;R.setHours(0,0,0,0);const A=N.filter(He=>new Date(He.created_at)>=R).length,I=new Date;I.setDate(I.getDate()-30);const P=new Date;P.setDate(P.getDate()-7);const{data:D}=await ne.from("stores").select("id, user_id, last_admin_visit, created_at"),{data:B}=await ne.from("orders").select("store_id").gte("created_at",I.toISOString()),U=new Set(B?.map(He=>He.store_id)||[]),M=(D||[]).filter(He=>!E.has(He.user_id)&&(U.has(He.id)||He.last_admin_visit&&new Date(He.last_admin_visit)>=P)).length,W=(D||[]).filter(He=>!E.has(He.user_id)).length,K=W>0?M/W*100:0,V=new Date;V.setDate(1),V.setHours(0,0,0,0);const z=new Date(V);z.setMonth(z.getMonth()-1);const{data:G}=await ne.from("transactions").select("total_amount").eq("status","success").gte("created_at",V.toISOString()),F=G?.reduce((He,Rt)=>He+(Rt.total_amount||0),0)||0,{data:X}=await ne.from("transactions").select("total_amount").eq("status","success").gte("created_at",z.toISOString()).lt("created_at",V.toISOString()),Z=X?.reduce((He,Rt)=>He+(Rt.total_amount||0),0)||0,re=Z>0?(F-Z)/Z*100:F>0?100:0,ee=new Date;ee.setDate(ee.getDate()-60);const ce=N.filter(He=>new Date(He.created_at)>=I).length,pe=N.filter(He=>{const Rt=new Date(He.created_at);return Rt>=ee&&Rt<I}).length,Y=pe>0?(ce-pe)/pe*100:ce>0?100:0;i({totalUsers:k,todayUsers:A,activeStores:M,activePercentage:K,monthlyRevenue:F,revenueGrowth:re,newSignups:ce,signupGrowth:Y});const{data:Q}=await ne.from("subscription_plans").select("*").eq("is_active",!0).order("monthly_price"),{data:ae}=await ne.from("subscriptions").select("plan_id, user_id, status").in("status",["trial","active"]),q=(ae||[]).filter(He=>!E.has(He.user_id)),ke=new Map;q.forEach(He=>{const Rt=ke.get(He.plan_id)||0;ke.set(He.plan_id,Rt+1)});const ye=["bg-gray-500","bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"],xe=q.length,Re=(Q||[]).map((He,Rt)=>{const _t=ke.get(He.id)||0;return{plan:He.name,users:_t,percentage:xe>0?_t/xe*100:0,revenue:_t*(He.monthly_price||0),color:ye[Rt%ye.length]}});Re.sort((He,Rt)=>Rt.users-He.users),l(Re);const je=[],mt=N.sort((He,Rt)=>new Date(Rt.created_at).getTime()-new Date(He.created_at).getTime()).slice(0,5),{data:ht}=await ne.from("profiles").select("user_id, email, full_name, created_at").in("user_id",mt.map(He=>He.user_id));ht?.forEach(He=>{je.push({id:`signup-${He.user_id}`,type:"signup",description:`New user registered: ${He.full_name||"Unknown"}`,userEmail:He.email,timestamp:He.created_at,icon:"user-plus"})});const{data:oe}=await ne.from("subscriptions").select(`
          user_id,
          status,
          created_at,
          updated_at,
          subscription_plans(name),
          profiles(email, full_name)
        `).order("updated_at",{ascending:!1}).limit(5);oe?.forEach(He=>{E.has(He.user_id)||je.push({id:`sub-${He.user_id}`,type:He.status==="active"?"upgrade":"subscription",description:`Subscription ${He.status}: ${He.subscription_plans?.name||"Plan"}`,userEmail:He.profiles?.email||null,timestamp:He.updated_at,icon:"trending-up"})}),je.sort((He,Rt)=>new Date(Rt.timestamp).getTime()-new Date(He.timestamp).getTime()),u(je.slice(0,10));const ge=performance.now(),{data:Ne}=await ne.from("profiles").select("user_id").limit(1),We=performance.now()-ge,qe=We<100?"healthy":We<500?"degraded":"down",{data:Ue}=await ne.from("platform_settings").select("razorpay_key_id").single(),it=Ue?.razorpay_key_id?"active":"inactive",{count:Ot}=await ne.from("orders").select("*",{count:"exact",head:!0});f({database:{status:qe,responseTime:Math.round(We)},api:{status:"operational",uptime:99.98},payment:{status:it,provider:"Razorpay"},storage:{totalUsers:k,totalStores:W,totalOrders:Ot||0}}),g(!1)}catch(S){console.error("Dashboard load error:",S),t({variant:"destructive",title:"Error Loading Data",description:S.message}),g(!1)}},x=()=>{sessionStorage.removeItem("superadmin_session"),localStorage.removeItem("superadmin_remember"),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/superadmin/login")},v=S=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(S),j=S=>{const w=new Date,T=new Date(S),E=w.getTime()-T.getTime(),N=Math.floor(E/6e4),k=Math.floor(E/36e5),R=Math.floor(E/864e5);return N<1?"Just now":N<60?`${N}m ago`:k<24?`${k}h ago`:`${R}d ago`};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vl,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"YourPlatform - Super Admin"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:r})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{onClick:()=>window.open("/","_blank"),children:[a.jsx(ju,{className:"mr-2 h-4 w-4"}),"View Platform Site"]}),a.jsxs(Mr,{children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:x,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"w-64 border-r bg-card min-h-screen p-4",children:a.jsxs("nav",{className:"space-y-2",children:[a.jsxs(le,{variant:"default",className:"w-full justify-start",children:[a.jsx(Aq,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/users"),children:[a.jsx(ti,{className:"mr-2 h-4 w-4"}),"Users & Stores"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/applications"),children:[a.jsx(Cq,{className:"mr-2 h-4 w-4"}),"Helper Applications"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/helpers"),children:[a.jsx(ti,{className:"mr-2 h-4 w-4"}),"Helper Management"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commissions"),children:[a.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Commission Management"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/commission-settings"),children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Commission Settings"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/reports-analytics"),children:[a.jsx(c4,{className:"mr-2 h-4 w-4"}),"Reports & Analytics"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/subscription-plans"),children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Subscription Plans"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/transactions"),children:[a.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Transactions"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/billing"),children:[a.jsx(_u,{className:"mr-2 h-4 w-4"}),"Billing & Revenue"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/custom-domains"),children:[a.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Custom Domains"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/sitemaps"),children:[a.jsx(gm,{className:"mr-2 h-4 w-4"}),"SEO & Sitemaps"]}),a.jsxs(le,{variant:"ghost",className:"w-full justify-start",onClick:()=>e("/superadmin/settings"),children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Platform Settings"]})]})}),a.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m?Array(4).fill(0).map((S,w)=>a.jsx(_0,{className:"h-32"},w)):s&&a.jsxs(a.Fragment,{children:[a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold",children:s.totalUsers.toLocaleString()}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(Lo,{className:"h-4 w-4 text-green-500"}),"+",s.todayUsers," today"]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Active Stores"})}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold",children:s.activeStores.toLocaleString()}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(to,{className:"h-4 w-4 text-green-500"}),s.activePercentage.toFixed(1),"% active"]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"})}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold",children:v(s.monthlyRevenue)}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(Lo,{className:"h-4 w-4 text-green-500"}),"+",s.revenueGrowth,"% from last month"]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"New Signups (30 days)"})}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold",children:s.newSignups}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(Lo,{className:"h-4 w-4 text-green-500"}),"+",s.signupGrowth,"% growth"]})]})]})]})}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Subscriptions by Plan"})}),a.jsx(_e,{className:"space-y-4",children:m?a.jsx(_0,{className:"h-40"}):o.length>0?a.jsxs(a.Fragment,{children:[o.map(S=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-medium",children:S.plan}),a.jsxs("span",{className:"text-muted-foreground",children:[S.users," users (",S.percentage.toFixed(1),"%)",S.revenue>0&&` - ${v(S.revenue)}/mo`]})]}),a.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${S.color} transition-all`,style:{width:`${Math.max(S.percentage,2)}%`}})})]},S.plan)),a.jsxs("div",{className:"pt-3 border-t",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-medium",children:"Total Subscribers"}),a.jsxs("span",{className:"text-muted-foreground",children:[o.reduce((S,w)=>S+w.users,0)," users"]})]}),a.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[a.jsx("span",{className:"font-medium",children:"Total MRR"}),a.jsx("span",{className:"text-muted-foreground",children:v(o.reduce((S,w)=>S+w.revenue,0))})]})]})]}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No subscription plans available"})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Monthly Recurring Revenue"})}),a.jsxs(_e,{children:[m?a.jsx(_0,{className:"h-64"}):a.jsx("div",{className:"h-64 flex items-center justify-center border-2 border-dashed rounded-lg",children:a.jsx("p",{className:"text-muted-foreground",children:"Revenue chart will be displayed here"})}),s&&a.jsxs("div",{className:"mt-4 flex gap-6 text-sm",children:[a.jsxs("span",{children:["Current MRR: ",a.jsx("strong",{children:v(s.monthlyRevenue)})]}),a.jsxs("span",{children:["ARR: ",a.jsx("strong",{children:v(s.monthlyRevenue*12)})]})]})]})]}),a.jsx(uFe,{}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Recent Activity"})}),a.jsx(_e,{children:m?a.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((S,w)=>a.jsx(_0,{className:"h-16"},w))}):c.length>0?a.jsxs("div",{className:"space-y-4",children:[c.map(S=>a.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[a.jsx("div",{className:"p-2 bg-muted rounded-lg",children:a.jsx(Ule,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:S.description}),S.userEmail&&a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:S.userEmail})]}),a.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:j(S.timestamp)})]},S.id)),a.jsxs(le,{variant:"ghost",className:"w-full",children:["View All Activity",a.jsx(bu,{className:"ml-2 h-4 w-4"})]})]}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent activity"})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"System Status"})}),a.jsx(_e,{children:m?a.jsx(_0,{className:"h-32"}):d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d.database.status==="healthy"?"bg-green-500":d.database.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),a.jsx("span",{className:"font-medium",children:"Database"})]}),a.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.database.status}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.database.responseTime,"ms"]})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d.api.status==="operational"?"bg-green-500":d.api.status==="degraded"?"bg-yellow-500":"bg-red-500"}`}),a.jsx("span",{className:"font-medium",children:"API"})]}),a.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.api.status}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.api.uptime,"% uptime"]})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d.payment.status==="active"?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"font-medium",children:"Payment Gateway"})]}),a.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:d.payment.status}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.payment.provider})]}),a.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"}),a.jsx("span",{className:"font-medium",children:"Storage"})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.storage.totalOrders.toLocaleString()," orders"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.storage.totalUsers," users, ",d.storage.totalStores," stores"]})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString(),"  Auto-refresh every 60s"]})})]}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"System health data unavailable"})})]})]})]})]})}var z2={exports:{}},W2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H$;function fFe(){if(H$)return W2;H$=1;var e=e_();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(f,m){var g=m(),y=n({inst:{value:g,getSnapshot:m}}),x=y[0].inst,v=y[1];return i(function(){x.value=g,x.getSnapshot=m,c(x)&&v({inst:x})},[f,g,m]),s(function(){return c(x)&&v({inst:x}),f(function(){c(x)&&v({inst:x})})},[f]),o(g),g}function c(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!r(f,g)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return W2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,W2}var G$;function hFe(){return G$||(G$=1,z2.exports=fFe()),z2.exports}var mFe=hFe();function pFe(){return mFe.useSyncExternalStore(gFe,()=>!0,()=>!1)}function gFe(){return()=>{}}var hI="Avatar",[xFe]=Yn(hI),[vFe,pre]=xFe(hI),gre=_.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=_.useState("idle");return a.jsx(vFe,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(xt.span,{...n,ref:t})})});gre.displayName=hI;var xre="AvatarImage",vre=_.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=pre(xre,r),l=yFe(n,i),c=An(u=>{s(u),o.onImageLoadingStatusChange(u)});return Mn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(xt.img,{...i,ref:t,src:n}):null});vre.displayName=xre;var yre="AvatarFallback",wre=_.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=pre(yre,r),[o,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(xt.span,{...s,ref:t}):null});wre.displayName=yre;function K$(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yFe(e,{referrerPolicy:t,crossOrigin:r}){const n=pFe(),s=_.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=_.useState(()=>K$(i,e));return Mn(()=>{l(K$(i,e))},[i,e]),Mn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var bre=gre,_re=vre,jre=wre;const Sre=_.forwardRef(({className:e,...t},r)=>a.jsx(bre,{ref:r,className:Je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Sre.displayName=bre.displayName;const wFe=_.forwardRef(({className:e,...t},r)=>a.jsx(_re,{ref:r,className:Je("aspect-square h-full w-full",e),...t}));wFe.displayName=_re.displayName;const Nre=_.forwardRef(({className:e,...t},r)=>a.jsx(jre,{ref:r,className:Je("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Nre.displayName=jre.displayName;function bFe({subscription:e,open:t,onClose:r,onSuccess:n}){const[s,i]=_.useState(!1),[o,l]=_.useState(!0),c=async()=>{try{if(i(!0),console.log("Subscription object:",e),console.log("Subscription ID:",e?.id),!e?.id)throw new Error("Subscription ID is missing. Please refresh the page and try again.");const f=new Date,m=new Date;e.billing_cycle==="yearly"?m.setFullYear(m.getFullYear()+1):m.setMonth(m.getMonth()+1);const g={status:"active",current_period_start:f.toISOString(),current_period_end:m.toISOString(),next_billing_at:m.toISOString(),updated_at:new Date().toISOString()};o&&(g.whatsapp_orders_used=0,g.website_orders_used=0);const{error:y}=await ne.from("subscriptions").update(g).eq("id",e.id);if(y)throw y;Ve({title:"Success",description:"Subscription renewed successfully"}),n(),r()}catch(f){console.error("Error renewing subscription:",f),Ve({title:"Error",description:f.message||"Failed to renew subscription",variant:"destructive"})}finally{i(!1)}};if(!e)return null;const u=e.status==="expired"||e.status==="pending_payment",d={whatsapp:e.whatsapp_orders_used||0,website:e.website_orders_used||0};return a.jsx(Hn,{open:t,onOpenChange:r,children:a.jsxs(Pn,{className:"sm:max-w-[500px]",children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Renew Subscription"}),a.jsx(Xs,{children:"Manually renew the subscription for this user"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(bn,{className:u?"border-red-500":"",children:[a.jsx(nc,{className:"h-4 w-4"}),a.jsx(_n,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Plan:"}),a.jsx("span",{children:e.plan?.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:"capitalize",children:e.status})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Current Period End:"}),a.jsx("span",{children:e.current_period_end?new Date(e.current_period_end).toLocaleDateString():"N/A"})]})]})})]}),a.jsx(bn,{children:a.jsx(_n,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:"Current Order Usage:"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"WhatsApp Orders:"}),a.jsx("span",{className:"font-mono",children:d.whatsapp})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Website Orders:"}),a.jsx("span",{className:"font-mono",children:d.website})]})]})})}),a.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-md border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{htmlFor:"reset-counters",className:"font-medium",children:"Reset Order Counters"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset WhatsApp and Website order counts to 0"})]}),a.jsx(un,{id:"reset-counters",checked:o,onCheckedChange:l})]}),a.jsxs(bn,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[a.jsx(to,{className:"h-4 w-4 text-green-600"}),a.jsxs(_n,{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-green-900 dark:text-green-100 mb-1",children:"After Renewal:"}),a.jsxs("ul",{className:"text-green-800 dark:text-green-200 space-y-1",children:[a.jsx("li",{children:" Status will be set to 'active'"}),a.jsxs("li",{children:[" New period: ",new Date().toLocaleDateString()," -"," ",e.billing_cycle==="yearly"?new Date(Date.now()+365*24*60*60*1e3).toLocaleDateString():new Date(Date.now()+720*60*60*1e3).toLocaleDateString()]}),o&&a.jsx("li",{children:" Order counters will be reset to 0"}),!o&&a.jsx("li",{children:" Order counters will remain unchanged"})]})]})]})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:r,disabled:s,children:"Cancel"}),a.jsxs(le,{onClick:c,disabled:s,children:[s&&a.jsx(bs,{className:"mr-2 h-4 w-4 animate-spin"}),"Renew Subscription"]})]})]})})}function kre({open:e,onOpenChange:t,userId:r,userEmail:n,currentSubscription:s,onSuccess:i}){const[o,l]=_.useState([]),[c,u]=_.useState(""),[d,f]=_.useState("monthly"),[m,g]=_.useState("trial"),[y,x]=_.useState(14),[v,j]=_.useState(!1);_.useEffect(()=>{e&&S()},[e]);const S=async()=>{try{const{data:E,error:N}=await ne.from("subscription_plans").select("id, name, trial_days").eq("is_active",!0).order("display_order");if(N)throw N;l(E||[])}catch(E){Ve({title:"Error",description:E.message,variant:"destructive"})}},w=E=>{u(E);const N=o.find(k=>k.id===E);N&&x(N.trial_days||14)},T=async()=>{if(!c){Ve({title:"Error",description:"Please select a plan",variant:"destructive"});return}try{j(!0);const E=new Date;let N=new Date;m==="trial"?N.setDate(N.getDate()+y):m==="active"?d==="monthly"?N.setMonth(N.getMonth()+1):N.setFullYear(N.getFullYear()+1):N=new Date(E.getTime()-864e5);const k=m==="trial"?new Date(E.getTime()+y*864e5):null,R=m==="active"?new Date(N.getTime()):null,{data:A}=await ne.from("subscriptions").select("id").eq("user_id",r).maybeSingle(),I={plan_id:c,billing_cycle:d,status:m,current_period_start:E.toISOString(),current_period_end:N.toISOString(),trial_ends_at:k?.toISOString()||null,next_billing_at:R?.toISOString()||null,started_at:E.toISOString()};if(A){const{error:P}=await ne.from("subscriptions").update({...I,updated_at:E.toISOString()}).eq("id",A.id);if(P)throw P}else{const{error:P}=await ne.from("subscriptions").insert({user_id:r,...I});if(P)throw P}Ve({title:"Success",description:`Subscription plan assigned to ${n}`}),i(),t(!1)}catch(E){Ve({title:"Error",description:E.message,variant:"destructive"})}finally{j(!1)}};return a.jsx(Hn,{open:e,onOpenChange:t,children:a.jsxs(Pn,{className:"max-w-md",children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Assign Subscription Plan"}),a.jsxs(Xs,{children:["Assign or update subscription plan for ",n,s&&a.jsxs("span",{className:"block mt-2 text-sm",children:["Current: ",s.plan.name," (",s.status,")"]})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Select Plan"}),a.jsxs(_r,{value:c,onValueChange:w,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Choose a plan"})}),a.jsx(wr,{children:o.map(E=>a.jsx(Me,{value:E.id,children:E.name},E.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Status"}),a.jsxs(_r,{value:m,onValueChange:g,children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"trial",children:"Trial"}),a.jsx(Me,{value:"active",children:"Active"}),a.jsx(Me,{value:"expired",children:"Expired"}),a.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Billing Cycle"}),a.jsxs(_r,{value:d,onValueChange:f,children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"monthly",children:"Monthly"}),a.jsx(Me,{value:"yearly",children:"Yearly"})]})]})]}),m==="trial"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Trial Days"}),a.jsx(De,{type:"number",value:y,onChange:E=>x(parseInt(E.target.value)),min:0})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(le,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(le,{onClick:T,disabled:v,children:v?"Assigning...":"Assign Plan"})]})]})})}function _Fe({user:e,open:t,onClose:r,onRefresh:n}){const[s,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState("");_.useEffect(()=>{if(!e?.subscription)return;const x=()=>{const j=e.subscription.status==="trial"?e.subscription.trial_ends_at:e.subscription.current_period_end;if(!j)return"";const S=new Date().getTime(),T=new Date(j).getTime()-S;if(T<=0)return"Expired";const E=Math.floor(T/(1e3*60*60*24)),N=Math.floor(T%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(T%(1e3*60*60)/(1e3*60)),R=Math.floor(T%(1e3*60)/1e3);return`${E}d ${N}h ${k}m ${R}s`};f(x());const v=setInterval(()=>{f(x())},1e3);return()=>clearInterval(v)},[e?.subscription]);const m=x=>{navigator.clipboard.writeText(x),Ve({title:"Copied",description:"Copied to clipboard"})},g=async()=>{try{console.log("Attempting to login as user:",e.id,e.email);const{data:x,error:v}=await ne.functions.invoke("login-as-user",{body:{user_id:e.id}});if(console.log("Edge function response:",{data:x,error:v}),v){if(console.error("Edge function error:",v),v.context?.body){const j=await v.context.text();console.error("Response body:",j);try{const S=JSON.parse(j);if(S.error)throw new Error(S.error)}catch(S){console.error("Could not parse response:",S)}}throw v}if(x?.error)throw console.error("Error from edge function:",x.error),new Error(x.error);if(x?.access_token){const{data:j}=await ne.auth.getSession();j.session&&localStorage.setItem("superadmin_session",JSON.stringify(j.session)),await ne.auth.setSession({access_token:x.access_token,refresh_token:x.refresh_token}),Ve({title:"Success",description:`Logged in as ${e.email}`}),window.location.href="/admin/dashboard"}else throw new Error("No access token received from edge function")}catch(x){console.error("Login as user error:",x),Ve({title:"Error",description:x.message||"Failed to login as user",variant:"destructive"})}},y=async()=>{if(!e.subscription){Ve({title:"Error",description:"No active subscription to cancel",variant:"destructive"});return}if(confirm(`Are you sure you want to cancel the subscription for ${e.email}?

Plan: ${e.subscription.plan.name}
Status: ${e.subscription.status}

This action will cancel their subscription immediately.`))try{u(!0);const{error:v}=await ne.from("subscriptions").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",e.subscription.id);if(v)throw v;Ve({title:"Success",description:`Subscription cancelled for ${e.email}`}),n(),setTimeout(()=>{r()},1e3)}catch(v){console.error("Cancel subscription error:",v),Ve({title:"Error",description:v.message||"Failed to cancel subscription",variant:"destructive"})}finally{u(!1)}};return a.jsxs(Hn,{open:t,onOpenChange:r,children:[a.jsxs(Pn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(On,{children:a.jsxs(Rn,{children:["User Details - ",e.email]})}),a.jsxs(mf,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Du,{className:"grid w-full grid-cols-4",children:[a.jsx(Kr,{value:"overview",children:"Overview"}),a.jsx(Kr,{value:"subscription",children:"Subscription"}),a.jsx(Kr,{value:"store",children:"Store Details"}),a.jsx(Kr,{value:"activity",children:"Activity Log"})]}),a.jsxs(Yr,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Account Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"User ID"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"font-mono text-sm",children:[e.id.slice(0,8),"..."]}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>m(e.id),children:a.jsx(Gd,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:e.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:e.full_name||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),a.jsx("p",{className:"font-medium",children:e.phone||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined"}),a.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),e.store?.whatsapp_number&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"WhatsApp Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium",children:e.store.whatsapp_number}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>m(e.store.whatsapp_number),children:a.jsx(Gd,{className:"w-4 h-4"})})]})]})]})]}),e.store&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Store Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),a.jsx("p",{className:"font-medium",children:e.store.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Slug"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium",children:e.store.slug}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>window.open(`/${e.store.slug}`,"_blank"),children:a.jsx(ju,{className:"w-4 h-4"})})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(le,{onClick:g,children:[a.jsx(vl,{className:"w-4 h-4 mr-2"}),"Login as User"]}),a.jsxs(le,{variant:"outline",children:[a.jsx(xl,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),a.jsxs(le,{variant:"outline",children:[a.jsx(Yd,{className:"w-4 h-4 mr-2"}),"Send Email"]}),a.jsxs(le,{variant:"destructive",children:[a.jsx(fa,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),a.jsx(Yr,{value:"subscription",className:"space-y-6",children:e.subscription?a.jsxs(a.Fragment,{children:[d&&d!=="Expired"&&a.jsx("div",{className:`relative overflow-hidden rounded-lg border ${e.subscription.status==="trial"?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30"} backdrop-blur-sm`,children:a.jsxs("div",{className:"p-4 flex items-start gap-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${e.subscription.status==="trial"?"bg-blue-500/20":"bg-green-500/20"}`,children:a.jsx(Gn,{className:`w-6 h-6 ${e.subscription.status==="trial"?"text-blue-400":"text-green-400"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:e.subscription.status==="trial"?"Trial Period":"Active Subscription"}),a.jsx(vt,{variant:"outline",className:`text-xs ${e.subscription.status==="trial"?"border-blue-500/50 text-blue-400":"border-green-500/50 text-green-400"}`,children:e.subscription.status==="trial"?"Trial":"Paid"})]}),a.jsx("p",{className:"text-xl font-semibold mb-1",children:e.subscription.status==="trial"?`Ends in ${d}`:`Renews in ${d}`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.subscription.status==="trial"?"Trial will expire on "+new Date(e.subscription.trial_ends_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Next billing on "+new Date(e.subscription.current_period_end).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Current Subscription"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Plan"}),a.jsx(vt,{variant:"outline",children:e.subscription.plan.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(vt,{className:e.subscription.status==="active"?"bg-green-500":e.subscription.status==="trial"?"bg-orange-500":"bg-gray-500",children:e.subscription.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing Cycle"}),a.jsx("p",{className:"font-medium capitalize",children:e.subscription.billing_cycle})]}),e.subscription.started_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Started On"}),a.jsx("p",{className:"font-medium",children:new Date(e.subscription.started_at).toLocaleDateString()})]}),e.subscription.current_period_start&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period Start"}),a.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_start).toLocaleDateString()})]}),e.subscription.current_period_end&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Period End"}),a.jsx("p",{className:"font-medium",children:new Date(e.subscription.current_period_end).toLocaleDateString()})]}),e.subscription.trial_ends_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Ends"}),a.jsx("p",{className:"font-medium",children:new Date(e.subscription.trial_ends_at).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{onClick:()=>i(!0),variant:"default",children:[a.jsx(xl,{className:"w-4 h-4 mr-2"}),"Renew Subscription"]}),a.jsx(le,{variant:"outline",onClick:()=>l(!0),children:"Change Plan"}),a.jsx(le,{variant:"destructive",onClick:y,disabled:c,children:c?"Cancelling...":"Cancel Subscription"})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No active subscription"})})}),a.jsx(Yr,{value:"store",className:"space-y-6",children:e.store?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store Name"}),a.jsx("p",{className:"font-medium",children:e.store.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Slug"}),a.jsx("p",{className:"font-medium",children:e.store.slug})]})]}),a.jsx(le,{children:"Edit Store Settings"})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No store created"})})}),a.jsx(Yr,{value:"activity",className:"space-y-4",children:a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Activity log will be shown here"})})})]})]}),e.subscription&&a.jsx(bFe,{subscription:e.subscription,open:s,onClose:()=>i(!1),onSuccess:n}),a.jsx(kre,{open:o,onOpenChange:l,userId:e.id,userEmail:e.email,currentSubscription:e.subscription,onSuccess:n})]})}function jFe({user:e,open:t,onClose:r,onSuccess:n}){const[s,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(!1),d=async()=>{try{u(!0),Ve({title:"Feature Not Available",description:"Account suspension requires database migration. Coming soon.",variant:"destructive"}),r()}catch(f){Ve({title:"Error",description:f.message,variant:"destructive"})}finally{u(!1)}};return a.jsx(Hn,{open:t,onOpenChange:r,children:a.jsxs(Pn,{children:[a.jsx(On,{children:a.jsx(Rn,{children:"Suspend Account"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[a.jsx(nc,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:"Warning"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Suspending this account will prevent the user from logging in and make their store inaccessible."})]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm mb-2",children:[a.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"reason",children:"Reason for Suspension"}),a.jsxs(_r,{value:s,onValueChange:i,children:[a.jsx(yr,{id:"reason",children:a.jsx(jr,{placeholder:"Select a reason"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"violation",children:"Policy Violation"}),a.jsx(Me,{value:"non-payment",children:"Non-payment"}),a.jsx(Me,{value:"fraud",children:"Fraudulent Activity"}),a.jsx(Me,{value:"spam",children:"Spam"}),a.jsx(Me,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"notes",children:"Internal Notes"}),a.jsx(Js,{id:"notes",placeholder:"Add any additional notes about this suspension...",value:o,onChange:f=>l(f.target.value),rows:4})]})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:r,disabled:c,children:"Cancel"}),a.jsx(le,{variant:"destructive",onClick:d,disabled:!s||c,children:c?"Suspending...":"Confirm Suspend"})]})]})})}function SFe({user:e,open:t,onClose:r,onSuccess:n}){const[s,i]=_.useState(""),[o,l]=_.useState(!1),c=async()=>{if(s!=="DELETE"){Ve({title:"Invalid Confirmation",description:"Please type DELETE to confirm",variant:"destructive"});return}try{l(!0);const{data:u,error:d}=await ne.functions.invoke("delete-user-account",{body:{userId:e.id}});if(d)throw d;if(!u.success)throw new Error(u.error||"Failed to delete user account");Ve({title:"Account Completely Deleted",description:`${e.email}'s account, all data, and authentication records have been permanently deleted`}),n(),r()}catch(u){Ve({title:"Error",description:u.message||"Failed to delete account. Please try again.",variant:"destructive"})}finally{l(!1)}};return a.jsx(Hn,{open:t,onOpenChange:r,children:a.jsxs(Pn,{children:[a.jsx(On,{children:a.jsx(Rn,{children:"Delete Account"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx(wa,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Permanent Action"}),a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. All data will be permanently deleted."})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"What will be deleted:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Authentication credentials (cannot login anymore)"}),a.jsx("li",{children:"User account and profile"}),a.jsx("li",{children:"Store data and settings"}),a.jsx("li",{children:"All products"}),a.jsx("li",{children:"Subscription history"}),a.jsx("li",{children:"All transactions"}),a.jsx("li",{children:"Files and assets"})]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm mb-2",children:[a.jsx("strong",{children:"User:"})," ",e.email]}),e.store&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Store:"})," ",e.store.name]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"confirmation",children:["Type ",a.jsx("span",{className:"font-bold text-destructive",children:"DELETE"})," to confirm"]}),a.jsx(De,{id:"confirmation",value:s,onChange:u=>i(u.target.value),placeholder:"Type DELETE here"})]})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:r,disabled:o,children:"Cancel"}),a.jsx(le,{variant:"destructive",onClick:c,disabled:s!=="DELETE"||o,children:o?"Deleting...":"Permanently Delete"})]})]})})}function NFe(){const e=nr(),[t,r]=_.useState([]),[n,s]=_.useState({totalUsers:0,activeStores:0,trialUsers:0,paidUsers:0,expired:0,cancelled:0,inactiveStores:0,noStore:0}),[i,o]=_.useState(!0),[l,c]=_.useState(""),[u,d]=_.useState("all"),[f,m]=_.useState("all"),[g,y]=_.useState("all"),[x,v]=_.useState("newest"),[j,S]=_.useState([]),[w,T]=_.useState(1),[E,N]=_.useState(20),[k,R]=_.useState(null),[A,I]=_.useState(!1),[P,D]=_.useState(!1),[B,U]=_.useState(!1),[H,M]=_.useState(!1),[W,K]=_.useState(!1);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){V(),z();return}const{data:{user:q}}=await ne.auth.getUser();if(!q){Ve({title:"Access Denied",description:"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}const{data:ke,error:ye}=await ne.from("user_roles").select("role").eq("user_id",q.id).eq("role","super_admin");if(ye||!ke||ke.length===0){Ve({title:"Access Denied",description:ye?.message||"You need admin privileges to access this area",variant:"destructive"}),e("/superadmin/login");return}V(),z()})()},[e]);const V=async()=>{try{o(!0);let Q=[];try{const{data:{session:ht}}=await ne.auth.getSession(),oe=sessionStorage.getItem("superadmin_session"),ge={"Content-Type":"application/json"};ht?.access_token&&(ge.Authorization=`Bearer ${ht.access_token}`),oe&&(ge["x-superadmin-session"]=oe);const Ne=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/get-all-users",{method:"POST",headers:ge});if(Ne.ok)Q=(await Ne.json()).users||[];else throw new Error("Edge function unavailable")}catch(ht){console.log("Edge function not available, falling back to profiles:",ht);const{data:oe,error:ge}=await ne.from("profiles").select("id, email, full_name, phone, user_id, created_at").order("created_at",{ascending:!1});if(ge)throw ge;Q=(oe||[]).map(Ne=>({id:Ne.user_id,email:Ne.email,full_name:Ne.full_name,phone:Ne.phone,created_at:Ne.created_at,user_id:Ne.user_id}))}const{data:ae}=await ne.from("user_roles").select("user_id").eq("role","super_admin"),q=new Set(ae?.map(ht=>ht.user_id)||[]),{data:ke}=await ne.from("helpers").select("id"),ye=new Set(ke?.map(ht=>ht.id)||[]),{data:xe}=await ne.from("helper_applications").select("user_id"),Re=new Set(xe?.map(ht=>ht.user_id)||[]),je=(Q||[]).filter(ht=>!q.has(ht.user_id)&&!ye.has(ht.user_id)&&!Re.has(ht.user_id)),mt=await Promise.all(je.map(async ht=>{const{data:oe}=await ne.from("stores").select("id, name, slug, last_admin_visit, whatsapp_number").eq("user_id",ht.user_id).limit(1),{data:ge}=await ne.from("subscriptions").select(`
              id,
              status,
              billing_cycle,
              started_at,
              current_period_start,
              current_period_end,
              trial_ends_at,
              whatsapp_orders_used,
              website_orders_used,
              updated_at,
              subscription_plans (
                name
              )
            `).eq("user_id",ht.user_id).order("updated_at",{ascending:!1});let Ne=null;if(ge&&ge.length>0){const He=new Date,Rt=ge.filter($t=>!($t.status==="cancelled"||$t.status==="expired"||$t.current_period_end&&new Date($t.current_period_end)<He)),_t=Rt.filter($t=>$t.status==="active");if(_t.length>0)Ne=_t[0];else{const $t=Rt.find(an=>an.status==="trial");$t?Ne=$t:Ne=Rt[0]}}const We=Ne?[Ne]:[],{data:qe}=await ne.from("orders").select("total, created_at").eq("store_id",oe?.[0]?.id||"").order("created_at",{ascending:!1}),Ue=qe?.reduce((He,Rt)=>He+(Rt.total||0),0)||0,it=qe&&qe.length>0?qe[0].created_at:null,Ot=qe?.length||0;return{id:ht.user_id,email:ht.email,full_name:ht.full_name,phone:ht.phone,created_at:ht.created_at,store:oe?.[0]||null,subscription:We?.[0]?{id:We[0].id,plan:We[0].subscription_plans,status:We[0].status,billing_cycle:We[0].billing_cycle,started_at:We[0].started_at,current_period_start:We[0].current_period_start,current_period_end:We[0].current_period_end,trial_ends_at:We[0].trial_ends_at,whatsapp_orders_used:We[0].whatsapp_orders_used,website_orders_used:We[0].website_orders_used}:null,totalRevenue:Ue,lastOrderDate:it,orderCount:Ot}}));r(mt)}catch(Q){Ve({title:"Error",description:Q.message,variant:"destructive"})}finally{o(!1)}},z=async()=>{try{const{data:Q}=await ne.from("profiles").select("user_id"),{data:ae}=await ne.from("user_roles").select("user_id").eq("role","super_admin"),q=new Set(ae?.map(Ue=>Ue.user_id)||[]),ke=(Q||[]).filter(Ue=>!q.has(Ue.user_id)).length,{count:ye}=await ne.from("stores").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:xe}=await ne.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","trial"),{count:Re}=await ne.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{count:je}=await ne.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","expired"),{count:mt}=await ne.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","cancelled"),ht=new Date;ht.setDate(ht.getDate()-60);const{data:oe}=await ne.from("stores").select("id, last_admin_visit");let ge=0;if(oe)for(const Ue of oe){const{data:it}=await ne.from("orders").select("id").eq("store_id",Ue.id).gte("created_at",ht.toISOString()).limit(1),Ot=it&&it.length>0,He=Ue.last_admin_visit&&new Date(Ue.last_admin_visit)>=ht;!Ot&&!He&&ge++}const{data:Ne}=await ne.from("stores").select("user_id"),We=new Set(Ne?.map(Ue=>Ue.user_id)||[]),qe=(Q||[]).filter(Ue=>!We.has(Ue.user_id)&&!q.has(Ue.user_id)).length;s({totalUsers:ke,activeStores:ye||0,trialUsers:xe||0,paidUsers:Re||0,expired:je||0,cancelled:mt||0,inactiveStores:ge,noStore:qe})}catch(Q){console.error("Error fetching stats:",Q)}},G=t.filter(Q=>{const ae=Q.email.toLowerCase().includes(l.toLowerCase())||Q.store?.name?.toLowerCase().includes(l.toLowerCase())||Q.store?.slug?.toLowerCase().includes(l.toLowerCase()),q=u==="all"||Q.subscription?.plan?.name?.toLowerCase()===u.toLowerCase(),ke=f==="all"||Q.subscription?.status===f;return ae&&q&&ke&&(()=>{if(g==="all")return!0;if(g==="no-store")return!Q.store;if(g==="inactive"){if(!Q.store)return!1;const xe=new Date;xe.setDate(xe.getDate()-60);const Re=Q.lastOrderDate&&new Date(Q.lastOrderDate)>=xe,je=Q.store.last_admin_visit&&new Date(Q.store.last_admin_visit)>=xe;return!Re&&!je}if(g==="active"){if(!Q.store)return!1;const xe=new Date;xe.setDate(xe.getDate()-60);const Re=Q.lastOrderDate&&new Date(Q.lastOrderDate)>=xe,je=Q.store.last_admin_visit&&new Date(Q.store.last_admin_visit)>=xe;return Re||je}return!0})()}),F=[...G].sort((Q,ae)=>{switch(x){case"newest":return new Date(ae.created_at).getTime()-new Date(Q.created_at).getTime();case"oldest":return new Date(Q.created_at).getTime()-new Date(ae.created_at).getTime();case"name":return(Q.full_name||Q.email).localeCompare(ae.full_name||ae.email);default:return 0}}),X=F.slice((w-1)*E,w*E),Z=Math.ceil(F.length/E),re=Q=>{S(Q?X.map(ae=>ae.id):[])},ee=(Q,ae)=>{S(ae?[...j,Q]:j.filter(q=>q!==Q))},ce=async()=>{try{const Q=await Ef(()=>Promise.resolve().then(()=>qQ),void 0),ae=await Promise.all(G.map(async xe=>{let Re=null;if(xe.store?.id){const{data:je}=await ne.from("stores").select("whatsapp_number, description, hero_banner_url, logo_url, custom_domain, social_links").eq("id",xe.store.id).single();Re=je}return{"User ID":xe.id,Email:xe.email,"Full Name":xe.full_name||"N/A",Phone:xe.phone||"N/A","Store Name":xe.store?.name||"No Store","Store Slug":xe.store?.slug||"N/A","Store WhatsApp":Re?.whatsapp_number||"N/A","Store Description":Re?.description||"N/A","Custom Domain":Re?.custom_domain||"N/A","Store Logo":Re?.logo_url||"N/A","Hero Banner":Re?.hero_banner_url||"N/A","Social Links":Re?.social_links?JSON.stringify(Re.social_links):"N/A","Total Orders":xe.orderCount,"Total Revenue":`${xe.totalRevenue}`,"Last Order Date":xe.lastOrderDate?new Date(xe.lastOrderDate).toLocaleString():"No orders","Last Admin Visit":xe.store?.last_admin_visit?new Date(xe.store.last_admin_visit).toLocaleString():"No visits","Subscription Plan":xe.subscription?.plan?.name||"Free","Plan Status":xe.subscription?.status||"None","Billing Cycle":xe.subscription?.billing_cycle||"N/A","Trial Ends":xe.subscription?.trial_ends_at?new Date(xe.subscription.trial_ends_at).toLocaleDateString():"N/A","Joined Date":new Date(xe.created_at).toLocaleString()}})),q=Q.utils.json_to_sheet(ae),ke=[{wch:36},{wch:30},{wch:20},{wch:15},{wch:25},{wch:20},{wch:15},{wch:40},{wch:25},{wch:50},{wch:50},{wch:30},{wch:12},{wch:15},{wch:20},{wch:20},{wch:15},{wch:12},{wch:12},{wch:15},{wch:20}];q["!cols"]=ke;const ye=Q.utils.book_new();Q.utils.book_append_sheet(ye,q,"Users"),Q.writeFile(ye,`users_export_${new Date().toISOString().split("T")[0]}.xlsx`),Ve({title:"Success",description:`Exported ${ae.length} users to Excel`})}catch(Q){Ve({title:"Export Failed",description:Q.message,variant:"destructive"})}},pe=async()=>{try{M(!0);const Q=await fetch("https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/sync-missing-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(!Q.ok)throw new Error("Failed to sync profiles");const ae=await Q.json();Ve({title:"Success",description:ae.message+(ae.count>0?` (${ae.count} profiles synced)`:"")}),ae.count>0&&V()}catch(Q){Ve({title:"Error",description:Q.message,variant:"destructive"})}finally{M(!1)}},Y=Q=>{if(!Q)return a.jsx(vt,{variant:"secondary",children:"No Plan"});const{status:ae,trial_ends_at:q}=Q;if(ae==="active")return a.jsx(vt,{className:"bg-green-500",children:"Active"});if(ae==="trial"){const ke=q?Math.ceil((new Date(q).getTime()-new Date().getTime())/864e5):0;return a.jsxs(vt,{variant:"outline",className:"border-orange-500 text-orange-500",children:["Trial (",ke,"d left)"]})}else{if(ae==="expired")return a.jsx(vt,{variant:"destructive",children:"Expired"});if(ae==="cancelled")return a.jsx(vt,{variant:"secondary",children:"Cancelled"})}return a.jsx(vt,{variant:"secondary",children:ae})};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Users & Stores Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage all users and their stores"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(le,{children:[a.jsx(Mq,{className:"w-4 h-4 mr-2"}),"Manually Add User"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[a.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold",children:n.totalUsers})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Stores"}),a.jsx("p",{className:"text-2xl font-bold",children:n.activeStores})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border border-yellow-500 cursor-pointer",onClick:()=>y("no-store"),children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No Store"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.noStore}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Not created store"})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Trial Users"}),a.jsx("p",{className:"text-2xl font-bold",children:n.trialUsers})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid Users"}),a.jsx("p",{className:"text-2xl font-bold",children:n.paidUsers})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"}),a.jsx("p",{className:"text-2xl font-bold",children:n.expired})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),a.jsx("p",{className:"text-2xl font-bold",children:n.cancelled})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border border-orange-500 cursor-pointer",onClick:()=>y("inactive"),children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),a.jsx("p",{className:"text-2xl font-bold text-orange-500",children:n.inactiveStores}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"No activity in 60 days"})]})]}),a.jsxs("div",{className:"bg-card p-4 rounded-lg border space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx(De,{placeholder:"Search by email, store name, or slug",value:l,onChange:Q=>c(Q.target.value),className:"w-full"})}),a.jsxs(_r,{value:u,onValueChange:d,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"All Plans"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Plans"}),a.jsx(Me,{value:"free",children:"Free"}),a.jsx(Me,{value:"starter",children:"Starter"}),a.jsx(Me,{value:"pro",children:"Pro"}),a.jsx(Me,{value:"enterprise",children:"Enterprise"})]})]}),a.jsxs(_r,{value:f,onValueChange:m,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"All Status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"active",children:"Active"}),a.jsx(Me,{value:"trial",children:"Trial"}),a.jsx(Me,{value:"expired",children:"Expired"}),a.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs(_r,{value:g,onValueChange:Q=>y(Q),children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Activity"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Users"}),a.jsx(Me,{value:"no-store",children:"No Store Created"}),a.jsx(Me,{value:"active",children:"Active (recent orders)"}),a.jsx(Me,{value:"inactive",children:"Inactive (60+ days)"})]})]}),a.jsxs(_r,{value:x,onValueChange:v,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Sort by"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"newest",children:"Newest First"}),a.jsx(Me,{value:"oldest",children:"Oldest First"}),a.jsx(Me,{value:"name",children:"Name A-Z"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{variant:"outline",onClick:()=>{V(),z()},disabled:i,children:[a.jsx(xl,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh Data"]}),a.jsxs(le,{variant:"outline",onClick:pe,disabled:H,children:[a.jsx(xl,{className:`w-4 h-4 mr-2 ${H?"animate-spin":""}`}),"Sync Profiles"]}),a.jsxs(le,{variant:"outline",onClick:ce,children:[a.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),j.length>0&&a.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium",children:[j.length," users selected"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{variant:"outline",size:"sm",children:[a.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Export Selected"]}),a.jsx(le,{variant:"outline",size:"sm",children:"Change Plan"}),a.jsx(le,{variant:"outline",size:"sm",children:"Suspend"}),a.jsxs(le,{variant:"outline",size:"sm",children:[a.jsx(Yd,{className:"w-4 h-4 mr-2"}),"Send Email"]}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>S([]),children:"Deselect All"})]})]}),a.jsxs("div",{className:"bg-card rounded-lg border",children:[a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{className:"w-12",children:a.jsx(ma,{checked:X.length>0&&j.length===X.length,onCheckedChange:re})}),a.jsx(ze,{children:"User Info"}),a.jsx(ze,{children:"Store Info"}),a.jsx(ze,{children:"Revenue"}),a.jsx(ze,{children:"Plan"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Created Date"}),a.jsx(ze,{className:"text-right",children:"Actions"})]})}),a.jsx($s,{children:i?a.jsx(cr,{children:a.jsx(Be,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):X.length===0?a.jsx(cr,{children:a.jsx(Be,{colSpan:8,className:"text-center py-8",children:"No users found"})}):X.map(Q=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsx(ma,{checked:j.includes(Q.id),onCheckedChange:ae=>ee(Q.id,ae)})}),a.jsx(Be,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sre,{children:a.jsx(Nre,{children:Q.email[0].toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Q.email}),Q.full_name&&a.jsx("p",{className:"text-sm text-muted-foreground",children:Q.full_name}),Q.phone&&a.jsx("p",{className:"text-xs text-muted-foreground",children:Q.phone})]})]})}),a.jsx(Be,{children:Q.store?a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium",children:Q.store.name}),(()=>{const ae=new Date;ae.setDate(ae.getDate()-60);const q=Q.lastOrderDate&&new Date(Q.lastOrderDate)>=ae,ke=Q.store.last_admin_visit&&new Date(Q.store.last_admin_visit)>=ae;if(!q&&!ke){const xe=[Q.lastOrderDate,Q.store.last_admin_visit].filter(Boolean).map(je=>new Date(je)).sort((je,mt)=>mt.getTime()-je.getTime())[0],Re=xe?Math.floor((Date.now()-xe.getTime())/(1e3*60*60*24)):null;return a.jsxs(vt,{variant:"outline",className:"border-orange-500 text-orange-500 text-xs",children:["Inactive ",Re?`${Re}d`:""]})}return null})()]}),a.jsxs("a",{href:`/${Q.store.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[Q.store.slug,a.jsx(ju,{className:"h-3 w-3"})]}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[a.jsxs("p",{children:[Q.orderCount," orders",Q.lastOrderDate&&a.jsxs(a.Fragment,{children:["  Last: ",um(new Date(Q.lastOrderDate),{addSuffix:!0})]}),!Q.lastOrderDate&&a.jsx(a.Fragment,{children:"  No orders yet"})]}),Q.store.last_admin_visit&&a.jsxs("p",{children:["Admin visit: ",um(new Date(Q.store.last_admin_visit),{addSuffix:!0})]}),!Q.store.last_admin_visit&&a.jsx("p",{children:"No admin visits tracked"})]})]}):a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(vt,{variant:"outline",className:"border-yellow-500 text-yellow-600 bg-yellow-50",children:"No Store Created"})})}),a.jsxs(Be,{children:[a.jsxs("p",{className:"font-medium",children:["",Q.totalRevenue.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"total revenue"})]}),a.jsxs(Be,{children:[a.jsx(vt,{variant:"outline",children:Q.subscription?.plan?.name||"Free"}),Q.subscription&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.subscription.billing_cycle})]}),a.jsx(Be,{children:Y(Q.subscription)}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{children:new Date(Q.created_at).toLocaleDateString()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:um(new Date(Q.created_at),{addSuffix:!0})})]})}),a.jsx(Be,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{R(Q),I(!0)},children:a.jsx(ao,{className:"w-4 h-4"})}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsx(le,{variant:"ghost",size:"sm",children:a.jsx(Gle,{className:"w-4 h-4"})})}),a.jsxs(Ho,{align:"end",children:[a.jsxs(Mr,{onClick:()=>{R(Q),I(!0)},children:[a.jsx(ao,{className:"w-4 h-4 mr-2"}),"View Details"]}),a.jsxs(Mr,{onClick:()=>{R(Q),K(!0)},children:[a.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Assign Plan"]}),Q.store&&a.jsxs(Mr,{onClick:()=>window.open(`/${Q.store.slug}`,"_blank"),children:[a.jsx(ju,{className:"w-4 h-4 mr-2"}),"Visit Store"]}),a.jsxs(Mr,{onClick:async()=>{const ae=prompt("Enter email subject:");if(!ae)return;const q=prompt("Enter email message:");if(q)try{const{error:ke}=await ne.functions.invoke("send-user-email",{body:{to:Q.email,subject:ae,message:q}});if(ke)throw ke;Ve({title:"Email sent",description:`Email sent successfully to ${Q.email}`})}catch(ke){Ve({title:"Error",description:ke.message,variant:"destructive"})}},children:[a.jsx(Yd,{className:"w-4 h-4 mr-2"}),"Send Email"]}),a.jsx(Mr,{onClick:()=>{R(Q),D(!0)},children:"Suspend Account"}),a.jsxs(Mr,{onClick:()=>{R(Q),U(!0)},className:"text-destructive",children:[a.jsx(fa,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]},Q.id))})]}),Z>1&&a.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(w-1)*E+1,"-",Math.min(w*E,F.length)," of"," ",F.length," users"]}),a.jsx(iR,{children:a.jsxs(oR,{children:[a.jsx(Ld,{children:a.jsx(lR,{onClick:()=>T(Math.max(1,w-1)),className:w===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,Z)},(Q,ae)=>a.jsx(Ld,{children:a.jsx(gv,{onClick:()=>T(ae+1),isActive:w===ae+1,className:"cursor-pointer",children:ae+1})},ae)),a.jsx(Ld,{children:a.jsx(cR,{onClick:()=>T(Math.min(Z,w+1)),className:w===Z?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}),k&&a.jsxs(a.Fragment,{children:[a.jsx(_Fe,{user:k,open:A,onClose:()=>{I(!1),R(null)},onRefresh:V}),a.jsx(jFe,{user:k,open:P,onClose:()=>{D(!1),R(null)},onSuccess:V}),a.jsx(SFe,{user:k,open:B,onClose:()=>{U(!1),R(null)},onSuccess:V}),a.jsx(kre,{userId:k.id,userEmail:k.email,currentSubscription:k.subscription,open:W,onOpenChange:Q=>{K(Q),Q||R(null)},onSuccess:V})]})]})}function kFe(){const e=nr(),[t,r]=_.useState(!0),[n,s]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState(""),[u,d]=_.useState("all"),[f,m]=_.useState("joined_date"),[g,y]=_.useState(!1),[x,v]=_.useState(!1),[j,S]=_.useState(!1),[w,T]=_.useState(!1),[E,N]=_.useState(!1),[k,R]=_.useState(null),[A,I]=_.useState(null),[P,D]=_.useState({direct_rate:10,network_rate:5,reason:"",apply_to:"future"}),[B,U]=_.useState({reason:""}),[H,M]=_.useState({notes:""}),[W,K]=_.useState({amount:"",reference:"",notes:""});_.useEffect(()=>{V()},[]),_.useEffect(()=>{G()},[n,l,u,f]);const V=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await z(),r(!1)}catch(Y){console.error("Error checking super admin access:",Y),e("/superadmin/login")}},z=async()=>{try{const{data:Y,error:Q}=await ne.from("helpers").select(`
          *,
          store_referrals:store_referrals(id),
          recruited_helpers:helpers!recruited_by_helper_id(id)
        `).order("created_at",{ascending:!1});if(Q)throw Q;const ae=await Promise.all((Y||[]).map(async q=>{const{data:ke}=await ne.from("network_commissions").select("*").eq("earning_helper_id",q.id),ye=ke?.reduce((je,mt)=>je+(mt.direct_commission_amount||0)+(mt.network_commission_amount||0),0)||0,xe=ke?.filter(je=>je.commission_status==="Paid").reduce((je,mt)=>je+(mt.direct_commission_amount||0)+(mt.network_commission_amount||0),0)||0,Re=ke?.filter(je=>je.commission_status.includes("Pending")).reduce((je,mt)=>je+(mt.direct_commission_amount||0)+(mt.network_commission_amount||0),0)||0;return{...q,direct_commission_rate:q.direct_commission_rate||10,network_commission_rate:q.network_commission_rate||5,direct_referrals_count:q.store_referrals?.length||0,recruited_helpers_count:q.recruited_helpers?.length||0,total_commission_earned:ye,total_commission_paid:xe,total_pending_payment:Re}}));s(ae),o(ae)}catch(Y){console.error("Error loading helpers:",Y),dt.error("Failed to load helpers")}},G=()=>{let Y=[...n];l&&(Y=Y.filter(Q=>Q.full_name.toLowerCase().includes(l.toLowerCase())||Q.email.toLowerCase().includes(l.toLowerCase())||Q.helper_id.toLowerCase().includes(l.toLowerCase()))),u!=="all"&&(Y=Y.filter(Q=>Q.status.toLowerCase()===u.toLowerCase())),Y.sort((Q,ae)=>{switch(f){case"joined_date":return new Date(ae.created_at).getTime()-new Date(Q.created_at).getTime();case"referrals":return ae.direct_referrals_count-Q.direct_referrals_count;case"network":return ae.recruited_helpers_count-Q.recruited_helpers_count;case"earnings":return ae.total_commission_earned-Q.total_commission_earned;default:return 0}}),o(Y)},F=async Y=>{R(Y);try{const{data:Q}=await ne.from("store_referrals").select("*").eq("helper_id",Y.id),{data:ae}=await ne.from("helpers").select("*").eq("recruited_by_helper_id",Y.id),{data:q}=await ne.from("network_commissions").select(`
          *,
          store_referral:store_referrals(store_owner_name, subscription_plan)
        `).eq("earning_helper_id",Y.id).order("created_at",{ascending:!1}),ke=[];ke.push({date:Y.created_at,event:"Application Approved",icon:vs}),Q&&Q.length>0&&ke.push({date:Q[0].signup_date,event:"First Referral",icon:ti}),q&&q.length>0&&ke.push({date:q[0].created_at,event:"First Commission Earned",icon:Ds}),ae&&ae.length>0&&ke.push({date:ae[0].created_at,event:"First Helper Recruited",icon:nb}),I({storeReferrals:Q,recruitedHelpers:ae,commissions:q,activityLog:ke.sort((ye,xe)=>new Date(xe.date).getTime()-new Date(ye.date).getTime())}),y(!0)}catch(Q){console.error("Error loading helper details:",Q),dt.error("Failed to load helper details")}},X=Y=>{R(Y),D({direct_rate:Y.direct_commission_rate,network_rate:Y.network_commission_rate,reason:"",apply_to:"future"}),v(!0)},Z=async()=>{if(!P.reason){dt.error("Please provide a reason for changing rates");return}try{const{error:Y}=await ne.from("helpers").update({direct_commission_rate:P.direct_rate,network_commission_rate:P.network_rate,updated_at:new Date().toISOString()}).eq("id",k?.id);if(Y)throw Y;dt.success("Commission rates updated successfully"),v(!1),await z()}catch(Y){console.error("Error updating rates:",Y),dt.error("Failed to update commission rates")}},re=async()=>{if(!B.reason){dt.error("Please provide a reason for suspension");return}try{const{error:Y}=await ne.from("helpers").update({status:"Suspended",suspension_reason:B.reason,suspended_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",k?.id);if(Y)throw Y;dt.success("Helper suspended successfully. Notification email will be sent."),S(!1),U({reason:""}),await z()}catch(Y){console.error("Error suspending helper:",Y),dt.error("Failed to suspend helper")}},ee=async()=>{try{const{error:Y}=await ne.from("helpers").update({status:"Active",suspension_reason:null,suspended_at:null,activation_notes:H.notes,updated_at:new Date().toISOString()}).eq("id",k?.id);if(Y)throw Y;dt.success("Helper activated successfully. Notification email will be sent."),T(!1),M({notes:""}),await z()}catch(Y){console.error("Error activating helper:",Y),dt.error("Failed to activate helper")}},ce=async()=>{if(!W.amount||!W.reference){dt.error("Please fill in all required fields");return}try{dt.success("Manual payment recorded successfully"),N(!1),K({amount:"",reference:"",notes:""})}catch(Y){console.error("Error adding manual payment:",Y),dt.error("Failed to add manual payment")}},pe=Y=>Y==="Active"?a.jsx(vt,{className:"bg-green-500",children:"Active"}):Y==="Suspended"?a.jsx(vt,{className:"bg-red-500",children:"Suspended"}):a.jsx(vt,{variant:"outline",children:Y});return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading helpers..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(ti,{className:"h-8 w-8"}),"Helper Management"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all approved helpers and their performance"})]}),a.jsx(le,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Helpers"}),a.jsx("p",{className:"text-2xl font-bold",children:n.length})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:n.filter(Y=>Y.status==="Active").length})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Suspended"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:n.filter(Y=>Y.status==="Suspended").length})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Commissions Paid"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",n.reduce((Y,Q)=>Y+Q.total_commission_paid,0).toLocaleString()]})]})})]}),a.jsx(we,{children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(De,{placeholder:"Search by name, email, or ID...",value:l,onChange:Y=>c(Y.target.value),className:"pl-10"})]}),a.jsxs(_r,{value:u,onValueChange:d,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"active",children:"Active Only"}),a.jsx(Me,{value:"suspended",children:"Suspended Only"})]})]}),a.jsxs(_r,{value:f,onValueChange:m,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Sort by"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"joined_date",children:"Join Date"}),a.jsx(Me,{value:"referrals",children:"Referrals Count"}),a.jsx(Me,{value:"network",children:"Network Size"}),a.jsx(Me,{value:"earnings",children:"Total Earnings"})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:["Showing ",i.length," of ",n.length," helpers"]})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Helper ID"}),a.jsx(ze,{children:"Name"}),a.jsx(ze,{children:"Email"}),a.jsx(ze,{children:"Phone"}),a.jsx(ze,{children:"Referral Code"}),a.jsx(ze,{children:"Joined"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Referrals"}),a.jsx(ze,{children:"Network"}),a.jsx(ze,{children:"Rates"}),a.jsx(ze,{children:"Earned"}),a.jsx(ze,{children:"Paid"}),a.jsx(ze,{children:"Pending"}),a.jsx(ze,{children:"Actions"})]})}),a.jsx($s,{children:i.map(Y=>a.jsxs(cr,{children:[a.jsx(Be,{className:"font-medium",children:Y.helper_id}),a.jsx(Be,{children:Y.full_name}),a.jsx(Be,{className:"text-sm",children:Y.email}),a.jsx(Be,{children:Y.phone}),a.jsx(Be,{className:"font-mono text-sm",children:Y.referral_code}),a.jsx(Be,{children:sr(new Date(Y.created_at),"PP")}),a.jsx(Be,{children:pe(Y.status)}),a.jsx(Be,{children:Y.direct_referrals_count}),a.jsx(Be,{children:Y.recruited_helpers_count}),a.jsxs(Be,{className:"text-sm",children:[Y.direct_commission_rate,"% / ",Y.network_commission_rate,"%"]}),a.jsxs(Be,{className:"text-green-500 font-semibold",children:["",Y.total_commission_earned.toLocaleString()]}),a.jsxs(Be,{className:"text-blue-500",children:["",Y.total_commission_paid.toLocaleString()]}),a.jsxs(Be,{className:"text-yellow-500",children:["",Y.total_pending_payment.toLocaleString()]}),a.jsx(Be,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(le,{size:"sm",variant:"outline",onClick:()=>F(Y),children:a.jsx(ao,{className:"h-4 w-4"})}),a.jsx(le,{size:"sm",variant:"outline",onClick:()=>X(Y),children:a.jsx(Nu,{className:"h-4 w-4"})}),Y.status==="Active"?a.jsx(le,{size:"sm",variant:"destructive",onClick:()=>{R(Y),S(!0)},children:a.jsx(l4,{className:"h-4 w-4"})}):a.jsx(le,{size:"sm",variant:"default",onClick:()=>{R(Y),T(!0)},children:a.jsx(vs,{className:"h-4 w-4"})})]})})]},Y.id))})]})})})})]}),a.jsx(Hn,{open:g,onOpenChange:y,children:a.jsxs(Pn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(On,{children:[a.jsxs(Rn,{children:["Helper Details - ",k?.full_name]}),a.jsxs(Xs,{children:[k?.helper_id," | ",k?.email]})]}),a.jsxs(mf,{defaultValue:"overview",className:"mt-4",children:[a.jsxs(Du,{className:"grid w-full grid-cols-5",children:[a.jsx(Kr,{value:"overview",children:"Overview"}),a.jsx(Kr,{value:"referrals",children:"Store Referrals"}),a.jsx(Kr,{value:"network",children:"Helper Network"}),a.jsx(Kr,{value:"commissions",children:"Commissions"}),a.jsx(Kr,{value:"activity",children:"Activity Log"})]}),a.jsxs(Yr,{value:"overview",className:"space-y-4",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Profile Information"})}),a.jsxs(_e,{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Helper ID"}),a.jsx("p",{className:"font-semibold",children:k?.helper_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Referral Code"}),a.jsx("p",{className:"font-semibold",children:k?.referral_code})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-semibold",children:k?.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-semibold",children:k?.phone})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Joined Date"}),a.jsx("p",{className:"font-semibold",children:k&&sr(new Date(k.created_at),"PPP")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),k&&pe(k.status)]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Performance Statistics"})}),a.jsxs(_e,{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Referrals"}),a.jsx("p",{className:"text-2xl font-bold",children:k?.direct_referrals_count})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recruited Helpers"}),a.jsx("p",{className:"text-2xl font-bold",children:k?.recruited_helpers_count})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earned"}),a.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",k?.total_commission_earned.toLocaleString()]})]})]})]})]}),a.jsx(Yr,{value:"referrals",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{children:["Store Referrals (",A?.storeReferrals?.length||0,")"]})}),a.jsx(_e,{children:A?.storeReferrals?.length>0?a.jsx("div",{className:"space-y-2",children:A.storeReferrals.map(Y=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:Y.store_owner_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Y.store_owner_email})]}),a.jsx("div",{className:"text-right",children:a.jsx(vt,{className:Y.subscription_purchased?"bg-green-500":"bg-yellow-500",children:Y.subscription_purchased?"Paid":"Trial"})})]},Y.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No store referrals yet"})})]})}),a.jsx(Yr,{value:"network",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{children:["Helper Network (",A?.recruitedHelpers?.length||0,")"]})}),a.jsx(_e,{children:A?.recruitedHelpers?.length>0?a.jsx("div",{className:"space-y-2",children:A.recruitedHelpers.map(Y=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:Y.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Y.helper_id})]}),a.jsx(vt,{className:Y.status==="Active"?"bg-green-500":"bg-red-500",children:Y.status})]},Y.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recruited helpers yet"})})]})}),a.jsx(Yr,{value:"commissions",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ke,{children:["Commission History (",A?.commissions?.length||0,")"]}),a.jsxs(le,{size:"sm",onClick:()=>N(!0),children:[a.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Add Manual Payment"]})]})}),a.jsx(_e,{children:A?.commissions?.length>0?a.jsx("div",{className:"space-y-2",children:A.commissions.map(Y=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:Y.store_referral?.store_owner_name||"N/A"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:sr(new Date(Y.created_at),"PPP")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-500",children:["",(Y.direct_commission_amount+Y.network_commission_amount).toLocaleString()]}),a.jsx(vt,{className:Y.commission_status==="Paid"?"bg-blue-500":"bg-yellow-500",children:Y.commission_status})]})]},Y.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No commissions yet"})})]})}),a.jsx(Yr,{value:"activity",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Activity Log"})}),a.jsx(_e,{children:a.jsx("div",{className:"space-y-4",children:A?.activityLog?.map((Y,Q)=>{const ae=Y.icon;return a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx(ae,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:Y.event}),a.jsx("p",{className:"text-sm text-muted-foreground",children:sr(new Date(Y.date),"PPP 'at' pp")})]})]},Q)})})})]})})]})]})}),a.jsx(Hn,{open:x,onOpenChange:v,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Edit Commission Rates"}),a.jsxs(Xs,{children:["Update commission rates for ",k?.full_name]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Direct Commission Rate (%)"}),a.jsx(De,{type:"number",value:P.direct_rate,onChange:Y=>D({...P,direct_rate:parseFloat(Y.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Network Commission Rate (%)"}),a.jsx(De,{type:"number",value:P.network_rate,onChange:Y=>D({...P,network_rate:parseFloat(Y.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Reason for Change *"}),a.jsx(Js,{value:P.reason,onChange:Y=>D({...P,reason:Y.target.value}),placeholder:"Explain why rates are being changed..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Apply To"}),a.jsxs(_r,{value:P.apply_to,onValueChange:Y=>D({...P,apply_to:Y}),children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"future",children:"Future Commissions Only"}),a.jsx(Me,{value:"pending",children:"All Pending Commissions"})]})]})]})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx(le,{onClick:Z,children:"Save Changes"})]})]})}),a.jsx(Hn,{open:j,onOpenChange:S,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Suspend Helper"}),a.jsxs(Xs,{children:["Suspend ",k?.full_name,". This will disable their referral links and prevent them from earning new commissions."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Reason for Suspension *"}),a.jsx(Js,{value:B.reason,onChange:Y=>U({reason:Y.target.value}),placeholder:"Provide a clear reason for suspension..."})]}),a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded p-3",children:a.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx(nc,{className:"inline w-4 h-4 mr-2"}),"A notification email will be sent to the helper informing them of the suspension."]})})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(le,{variant:"destructive",onClick:re,children:"Suspend Helper"})]})]})}),a.jsx(Hn,{open:w,onOpenChange:T,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Activate Helper"}),a.jsxs(Xs,{children:["Reactivate ",k?.full_name,". This will re-enable their referral links."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Activation Notes"}),a.jsx(Js,{value:H.notes,onChange:Y=>M({notes:Y.target.value}),placeholder:"Add any notes about the activation..."})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:a.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[a.jsx(vs,{className:"inline w-4 h-4 mr-2"}),"A notification email will be sent to the helper informing them of the reactivation."]})})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsx(le,{onClick:ee,children:"Activate Helper"})]})]})}),a.jsx(Hn,{open:E,onOpenChange:N,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Add Manual Payment"}),a.jsxs(Xs,{children:["Record a manual commission payment for ",k?.full_name]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Amount *"}),a.jsx(De,{type:"number",value:W.amount,onChange:Y=>K({...W,amount:Y.target.value}),placeholder:"Enter payment amount"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Payment Reference *"}),a.jsx(De,{value:W.reference,onChange:Y=>K({...W,reference:Y.target.value}),placeholder:"Transaction ID or reference number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Notes"}),a.jsx(Js,{value:W.notes,onChange:Y=>K({...W,notes:Y.target.value}),placeholder:"Additional notes about this payment..."})]})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),a.jsx(le,{onClick:ce,children:"Add Payment"})]})]})})]})}function EFe(){const e=nr(),[t,r]=_.useState(!0),[n,s]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[g,y]=_.useState(!1),[x,v]=_.useState("direct"),[j,S]=_.useState({payment_date:sr(new Date,"yyyy-MM-dd"),payment_reference:""}),[w,T]=_.useState({direct:{total:0,count:0,oldestDays:0},network:{total:0,count:0,oldestDays:0},paid:{total:0,count:0}});_.useEffect(()=>{E()},[]);const E=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await N(),r(!1)}catch(D){console.error("Error checking super admin access:",D),e("/superadmin/login")}},N=async()=>{try{const{data:D,error:B}=await ne.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("direct_commission_amount",0).order("created_at",{ascending:!0});if(B)throw B;const U=(D||[]).map(ee=>({id:ee.id,helper_name:ee.helper?.full_name||"N/A",helper_id:ee.helper?.id||"N/A",store_owner_name:ee.store_referral?.store_owner_name||"N/A",plan_name:ee.store_referral?.subscription_plan||"N/A",plan_amount:ee.store_referral?.subscription_amount||0,commission_amount:ee.direct_commission_amount,earned_date:ee.created_at,days_pending:Gb(new Date,new Date(ee.created_at))}));s(U);const{data:H,error:M}=await ne.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Earned-Pending").gt("network_commission_amount",0).order("created_at",{ascending:!0});if(M)throw M;const W=(H||[]).map(ee=>({id:ee.id,helper_name:ee.helper?.full_name||"N/A",helper_id:ee.helper?.id||"N/A",store_owner_name:ee.store_referral?.store_owner_name||"N/A",plan_name:ee.store_referral?.subscription_plan||"N/A",plan_amount:ee.store_referral?.subscription_amount||0,commission_amount:ee.network_commission_amount,earned_date:ee.created_at,days_pending:Gb(new Date,new Date(ee.created_at))}));o(W);const{data:K,error:V}=await ne.from("network_commissions").select(`
          *,
          helper:helpers!earning_helper_id(full_name, id),
          store_referral:store_referrals(store_owner_name, subscription_plan, subscription_amount)
        `).eq("commission_status","Paid").order("payment_date",{ascending:!1}).limit(100);if(V)throw V;const z=(K||[]).map(ee=>({id:ee.id,helper_name:ee.helper?.full_name||"N/A",helper_id:ee.helper?.id||"N/A",store_owner_name:ee.store_referral?.store_owner_name||"N/A",plan_name:ee.store_referral?.subscription_plan||"N/A",plan_amount:ee.store_referral?.subscription_amount||0,commission_amount:(ee.direct_commission_amount||0)+(ee.network_commission_amount||0),earned_date:ee.created_at,days_pending:0,payment_date:ee.payment_date,payment_reference:ee.payment_reference}));c(z);const G=U.reduce((ee,ce)=>ee+ce.commission_amount,0),F=U.length>0?Math.max(...U.map(ee=>ee.days_pending)):0,X=W.reduce((ee,ce)=>ee+ce.commission_amount,0),Z=W.length>0?Math.max(...W.map(ee=>ee.days_pending)):0,re=z.reduce((ee,ce)=>ee+ce.commission_amount,0);T({direct:{total:G,count:U.length,oldestDays:F},network:{total:X,count:W.length,oldestDays:Z},paid:{total:re,count:z.length}})}catch(D){console.error("Error loading commissions:",D),dt.error("Failed to load commissions")}},k=(D,B)=>{D==="direct"?d(B?n.map(U=>U.id):[]):m(B?i.map(U=>U.id):[])},R=(D,B,U)=>{D==="direct"?d(U?[...u,B]:u.filter(H=>H!==B)):m(U?[...f,B]:f.filter(H=>H!==B))},A=async()=>{const D=x==="direct"?u:f;if(D.length===0){dt.error("Please select at least one commission");return}if(!j.payment_reference){dt.error("Please enter payment reference");return}try{const{error:B}=await ne.from("network_commissions").update({commission_status:"Paid",payment_date:j.payment_date,payment_reference:j.payment_reference,updated_at:new Date().toISOString()}).in("id",D);if(B)throw B;dt.success(`Successfully marked ${D.length} commission(s) as paid`),y(!1),d([]),m([]),S({payment_date:sr(new Date,"yyyy-MM-dd"),payment_reference:""}),await N()}catch(B){console.error("Error marking commissions as paid:",B),dt.error("Failed to mark commissions as paid")}},I=D=>{try{let B=[],U="";D==="direct"?(B=n,U="Pending Direct Commissions"):D==="network"?(B=i,U="Pending Network Commissions"):(B=l,U="Paid Commissions");const H=B.map(V=>({"Helper Name":V.helper_name,"Helper ID":V.helper_id,"Store Owner":V.store_owner_name,Plan:V.plan_name,"Plan Amount":`${V.plan_amount.toLocaleString()}`,"Commission Amount":`${V.commission_amount.toLocaleString()}`,"Earned Date":sr(new Date(V.earned_date),"PPP"),...D==="paid"?{"Payment Date":V.payment_date?sr(new Date(V.payment_date),"PPP"):"N/A","Payment Reference":V.payment_reference||"N/A"}:{"Days Pending":V.days_pending}})),M=os.book_new(),W=os.json_to_sheet(H);os.book_append_sheet(M,W,U);const K=`${U.toLowerCase().replace(/ /g,"_")}_${sr(new Date,"yyyy-MM-dd")}.xlsx`;hf(M,K),dt.success("Export successful!")}catch(B){console.error("Error exporting:",B),dt.error("Failed to export data")}},P=()=>{try{const D=[{Category:"Pending Direct Commissions",Count:w.direct.count,Amount:`${w.direct.total.toLocaleString()}`},{Category:"Pending Network Commissions",Count:w.network.count,Amount:`${w.network.total.toLocaleString()}`},{Category:"Total Pending",Count:w.direct.count+w.network.count,Amount:`${(w.direct.total+w.network.total).toLocaleString()}`},{Category:"",Count:"",Amount:""},{Category:"Paid Commissions (Last 100)",Count:w.paid.count,Amount:`${w.paid.total.toLocaleString()}`}],B=os.book_new(),U=os.json_to_sheet(D);os.book_append_sheet(B,U,"Payment Report");const H=`payment_report_${sr(new Date,"yyyy-MM-dd")}.xlsx`;hf(B,H),dt.success("Payment report generated!")}catch(D){console.error("Error generating report:",D),dt.error("Failed to generate report")}};return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading commissions..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(Ds,{className:"h-8 w-8"}),"Commission Management"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage pending and paid commission payments"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{variant:"outline",onClick:P,children:[a.jsx(gm,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),a.jsx(le,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Direct"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",w.direct.total.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.direct.count," payments"]})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Network"}),a.jsxs("p",{className:"text-2xl font-bold text-yellow-500",children:["",w.network.total.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.network.count," payments"]})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pending"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-500",children:["",(w.direct.total+w.network.total).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.direct.count+w.network.count," payments"]})]})}),a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid (Last 100)"}),a.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",w.paid.total.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.paid.count," payments"]})]})})]}),a.jsxs(mf,{defaultValue:"direct",onValueChange:D=>v(D),children:[a.jsxs(Du,{className:"grid w-full grid-cols-4",children:[a.jsxs(Kr,{value:"direct",children:["Pending Direct (",w.direct.count,")"]}),a.jsxs(Kr,{value:"network",children:["Pending Network (",w.network.count,")"]}),a.jsxs(Kr,{value:"paid",children:["Paid History (",w.paid.count,")"]}),a.jsx(Kr,{value:"reports",children:"Reports"})]}),a.jsx(Yr,{value:"direct",className:"space-y-4",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ke,{children:"Pending Direct Commissions"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",w.direct.total.toLocaleString()," | Oldest: ",w.direct.oldestDays," days"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>I("direct"),disabled:n.length===0,children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs(le,{size:"sm",onClick:()=>{v("direct"),y(!0)},disabled:u.length===0,children:[a.jsx(vs,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",u.length,")"]})]})]})}),a.jsx(_e,{className:"p-0",children:n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending direct commissions"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{className:"w-12",children:a.jsx(ma,{checked:u.length===n.length,onCheckedChange:D=>k("direct",D)})}),a.jsx(ze,{children:"Helper"}),a.jsx(ze,{children:"Store Owner"}),a.jsx(ze,{children:"Plan"}),a.jsx(ze,{children:"Plan Amount"}),a.jsx(ze,{children:"Commission"}),a.jsx(ze,{children:"Earned Date"}),a.jsx(ze,{children:"Days Pending"})]})}),a.jsx($s,{children:n.map(D=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsx(ma,{checked:u.includes(D.id),onCheckedChange:B=>R("direct",D.id,B)})}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:D.helper_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),a.jsx(Be,{children:D.store_owner_name}),a.jsx(Be,{children:D.plan_name}),a.jsxs(Be,{children:["",D.plan_amount.toLocaleString()]}),a.jsxs(Be,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),a.jsx(Be,{children:sr(new Date(D.earned_date),"PP")}),a.jsx(Be,{children:a.jsxs(vt,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),a.jsx(Yr,{value:"network",className:"space-y-4",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ke,{children:"Pending Network Commissions"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Total: ",w.network.total.toLocaleString()," | Oldest: ",w.network.oldestDays," days"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>I("network"),disabled:i.length===0,children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs(le,{size:"sm",onClick:()=>{v("network"),y(!0)},disabled:f.length===0,children:[a.jsx(vs,{className:"h-4 w-4 mr-2"}),"Mark Selected as Paid (",f.length,")"]})]})]})}),a.jsx(_e,{className:"p-0",children:i.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending network commissions"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{className:"w-12",children:a.jsx(ma,{checked:f.length===i.length,onCheckedChange:D=>k("network",D)})}),a.jsx(ze,{children:"Helper"}),a.jsx(ze,{children:"Store Owner"}),a.jsx(ze,{children:"Plan"}),a.jsx(ze,{children:"Plan Amount"}),a.jsx(ze,{children:"Commission"}),a.jsx(ze,{children:"Earned Date"}),a.jsx(ze,{children:"Days Pending"})]})}),a.jsx($s,{children:i.map(D=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsx(ma,{checked:f.includes(D.id),onCheckedChange:B=>R("network",D.id,B)})}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:D.helper_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),a.jsx(Be,{children:D.store_owner_name}),a.jsx(Be,{children:D.plan_name}),a.jsxs(Be,{children:["",D.plan_amount.toLocaleString()]}),a.jsxs(Be,{className:"font-bold text-blue-500",children:["",D.commission_amount.toLocaleString()]}),a.jsx(Be,{children:sr(new Date(D.earned_date),"PP")}),a.jsx(Be,{children:a.jsxs(vt,{variant:D.days_pending>30?"destructive":"secondary",children:[D.days_pending," days"]})})]},D.id))})]})})})]})}),a.jsx(Yr,{value:"paid",className:"space-y-4",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ke,{children:"Paid Commissions (Last 100)"}),a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>I("paid"),disabled:l.length===0,children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),a.jsx(_e,{className:"p-0",children:l.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No paid commissions yet"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Helper"}),a.jsx(ze,{children:"Store Owner"}),a.jsx(ze,{children:"Plan"}),a.jsx(ze,{children:"Commission"}),a.jsx(ze,{children:"Earned Date"}),a.jsx(ze,{children:"Payment Date"}),a.jsx(ze,{children:"Reference"})]})}),a.jsx($s,{children:l.map(D=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:D.helper_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:D.helper_id})]})}),a.jsx(Be,{children:D.store_owner_name}),a.jsx(Be,{children:D.plan_name}),a.jsxs(Be,{className:"font-bold text-green-500",children:["",D.commission_amount.toLocaleString()]}),a.jsx(Be,{children:sr(new Date(D.earned_date),"PP")}),a.jsx(Be,{children:D.payment_date&&sr(new Date(D.payment_date),"PP")}),a.jsx(Be,{className:"text-sm",children:D.payment_reference})]},D.id))})]})})})]})}),a.jsx(Yr,{value:"reports",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Pending Commissions Summary"})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct Commissions"}),a.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",w.direct.total.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.direct.count," payments"]})]}),a.jsx(Gn,{className:"h-8 w-8 text-yellow-500"})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Network Commissions"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",w.network.total.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.network.count," payments"]})]}),a.jsx(Gn,{className:"h-8 w-8 text-yellow-500"})]}),a.jsx("div",{className:"flex justify-between items-center p-4 bg-primary/10 rounded",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold",children:"Total Pending"}),a.jsxs("p",{className:"text-3xl font-bold text-orange-500",children:["",(w.direct.total+w.network.total).toLocaleString()]}),a.jsxs("p",{className:"text-xs",children:[w.direct.count+w.network.count," payments"]})]})})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{children:"Payment Analytics"})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Direct)"}),a.jsxs("span",{className:"font-semibold",children:[w.direct.oldestDays," days"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Oldest Pending (Network)"}),a.jsxs("span",{className:"font-semibold",children:[w.network.oldestDays," days"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Paid (Last 100)"}),a.jsxs("span",{className:"font-semibold text-green-500",children:["",w.paid.total.toLocaleString()]})]})]}),a.jsxs(le,{className:"w-full mt-4",onClick:P,children:[a.jsx(gm,{className:"h-4 w-4 mr-2"}),"Download Full Report"]})]})]})]})})]})]}),a.jsx(Hn,{open:g,onOpenChange:y,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Mark Commissions as Paid"}),a.jsxs(Xs,{children:["Mark ",x==="direct"?u.length:f.length," selected commission(s) as paid"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Payment Date"}),a.jsx(De,{type:"date",value:j.payment_date,onChange:D=>S({...j,payment_date:D.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Payment Reference / Transaction ID *"}),a.jsx(De,{value:j.payment_reference,onChange:D=>S({...j,payment_reference:D.target.value}),placeholder:"Enter transaction ID or reference number"})]}),a.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded p-3",children:a.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[a.jsx(vs,{className:"inline w-4 h-4 mr-2"}),'This will update the commission status to "Paid" and record the payment details.']})})]}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),a.jsx(le,{onClick:A,children:"Mark as Paid"})]})]})})]})}function CFe(){const e=nr(),[t,r]=_.useState(!0),[n,s]=_.useState(!1),[i,o]=_.useState(10),[l,c]=_.useState(5),[u,d]=_.useState([{plan_name:"Basic Plan",commission_rate:10},{plan_name:"Premium Plan",commission_rate:10},{plan_name:"Enterprise Plan",commission_rate:10}]),[f,m]=_.useState(!0),[g,y]=_.useState(!1),[x,v]=_.useState(!0),[j,S]=_.useState(!0),[w,T]=_.useState(500),[E,N]=_.useState("monthly"),[k,R]=_.useState("1st"),[A,I]=_.useState(7),[P,D]=_.useState(!0),[B,U]=_.useState(2),[H,M]=_.useState(-1),[W,K]=_.useState("HELP"),[V,z]=_.useState(!0);_.useEffect(()=>{G()},[]);const G=async()=>{try{if(!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}await F(),r(!1)}catch(Y){console.error("Error checking super admin access:",Y),e("/superadmin/login")}},F=async()=>{dt.success("Settings loaded")},X=()=>{d([...u,{plan_name:"New Plan",commission_rate:10}])},Z=(Y,Q,ae)=>{const q=[...u];q[Y]={...q[Y],[Q]:ae},d(q)},re=Y=>{const Q=u.filter((ae,q)=>q!==Y);d(Q)},ee=async()=>{s(!0);try{console.log("Settings to save:",{global_rates:{default_direct_rate:i,default_network_rate:l,plan_specific_rates:u},features:{enable_multi_tier:f,auto_approve_applications:g,send_welcome_email:x,send_commission_notifications:j},payment:{min_payout_threshold:w,payment_schedule:E,payment_day:k},trial:{default_trial_days:A,send_trial_reminders:P,reminder_before_days:B},recruitment:{max_helpers_per_recruiter:H,referral_code_prefix:W,auto_generate_codes:V}}),await new Promise(Q=>setTimeout(Q,1e3)),dt.success("Settings saved successfully!"),s(!1)}catch(Y){console.error("Error saving settings:",Y),dt.error("Failed to save settings"),s(!1)}};if(t)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})});const ce=100,pe=ce*l/100;return a.jsx("div",{className:"min-h-screen bg-background p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(bi,{className:"h-8 w-8"}),"Commission Settings"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure commission rates, payment settings, and helper program rules"})]}),a.jsx(le,{onClick:()=>e("/superadmin/dashboard"),children:"Back to Dashboard"})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Global Commission Rates"}),a.jsx(nn,{children:"Set default commission rates for all helpers"})]}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Default Direct Commission Rate (%)"}),a.jsx(De,{type:"number",value:i,onChange:Y=>o(parseFloat(Y.target.value)),min:0,max:100}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Commission earned when helper refers a store owner"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Default Network Commission Rate (%)"}),a.jsx(De,{type:"number",value:l,onChange:Y=>c(parseFloat(Y.target.value)),min:0,max:100}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage of recruited helper's earning"})]})]}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(O0,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Network Commission Example:"}),a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["If a recruited helper earns ",ce,", the recruiter gets"," ",a.jsxs("span",{className:"font-bold",children:["",pe.toFixed(2)]})," ","(",l,"% of ",ce,")"]})]})]})})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ke,{children:"Plan-Specific Commission Rates"}),a.jsx(nn,{children:"Set different rates for each subscription plan"})]}),a.jsxs(le,{size:"sm",onClick:X,children:[a.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Add Plan"]})]})}),a.jsx(_e,{children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Plan Name"}),a.jsx(ze,{children:"Commission Rate (%)"}),a.jsx(ze,{className:"w-20",children:"Actions"})]})}),a.jsx($s,{children:u.map((Y,Q)=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsx(De,{value:Y.plan_name,onChange:ae=>Z(Q,"plan_name",ae.target.value)})}),a.jsx(Be,{children:a.jsx(De,{type:"number",value:Y.commission_rate,onChange:ae=>Z(Q,"commission_rate",parseFloat(ae.target.value)),min:0,max:100})}),a.jsx(Be,{children:a.jsx(le,{variant:"destructive",size:"sm",onClick:()=>re(Q),children:"Delete"})})]},Q))})]})})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Feature Controls"}),a.jsx(nn,{children:"Enable or disable helper program features"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:"Enable Multi-Tier Helper Program"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow helpers to recruit other helpers and earn network commissions"})]}),a.jsx(un,{checked:f,onCheckedChange:m})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:"Auto-approve Helper Applications"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve all helper applications without manual review"})]}),a.jsx(un,{checked:g,onCheckedChange:y})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:"Send Helper Welcome Email"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Send welcome email when helper application is approved"})]}),a.jsx(un,{checked:x,onCheckedChange:v})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:"Send Commission Earned Notifications"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify helpers when they earn new commissions"})]}),a.jsx(un,{checked:j,onCheckedChange:S})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Payment Settings"}),a.jsx(nn,{children:"Configure payment schedules and thresholds"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Minimum Payout Threshold ()"}),a.jsx(De,{type:"number",value:w,onChange:Y=>T(parseFloat(Y.target.value)),min:0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Helpers must earn at least this amount before payment is processed"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Payment Schedule"}),a.jsxs(_r,{value:E,onValueChange:N,children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"weekly",children:"Weekly"}),a.jsx(Me,{value:"biweekly",children:"Bi-weekly"}),a.jsx(Me,{value:"monthly",children:"Monthly"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Payment Day"}),a.jsxs(_r,{value:k,onValueChange:R,children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsx(wr,{children:E==="weekly"?a.jsxs(a.Fragment,{children:[a.jsx(Me,{value:"monday",children:"Every Monday"}),a.jsx(Me,{value:"tuesday",children:"Every Tuesday"}),a.jsx(Me,{value:"wednesday",children:"Every Wednesday"}),a.jsx(Me,{value:"thursday",children:"Every Thursday"}),a.jsx(Me,{value:"friday",children:"Every Friday"})]}):E==="biweekly"?a.jsxs(a.Fragment,{children:[a.jsx(Me,{value:"1st-15th",children:"1st and 15th of month"}),a.jsx(Me,{value:"monday",children:"Every other Monday"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Me,{value:"1st",children:"1st of month"}),a.jsx(Me,{value:"15th",children:"15th of month"}),a.jsx(Me,{value:"last",children:"Last day of month"})]})})]})]})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Trial Period Settings"}),a.jsx(nn,{children:"Configure trial period for store owners"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Default Trial Days"}),a.jsx(De,{type:"number",value:A,onChange:Y=>I(parseInt(Y.target.value)),min:0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of free trial days for new store owners"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:"Send Trial Expiry Reminders"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify store owners before their trial expires"})]}),a.jsx(un,{checked:P,onCheckedChange:D})]}),P&&a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Send Reminder Before (Days)"}),a.jsx(De,{type:"number",value:B,onChange:Y=>U(parseInt(Y.target.value)),min:1}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Send reminder this many days before trial expires"})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Helper Recruitment Settings"}),a.jsx(nn,{children:"Configure helper recruitment rules and referral codes"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Maximum Helpers Per Recruiter"}),a.jsx(De,{type:"number",value:H===-1?"":H,onChange:Y=>M(Y.target.value?parseInt(Y.target.value):-1),placeholder:"Leave empty for unlimited",min:0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty or enter -1 for unlimited recruitment"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Referral Code Prefix"}),a.jsx(De,{value:W,onChange:Y=>K(Y.target.value.toUpperCase()),placeholder:"HELP",maxLength:6}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Prefix for auto-generated referral codes (e.g., HELP001, HELP002)"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:"Auto-generate Referral Codes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate unique referral codes for new helpers"})]}),a.jsx(un,{checked:V,onCheckedChange:z})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(le,{size:"lg",onClick:ee,disabled:n,children:[a.jsx(Xd,{className:"h-5 w-5 mr-2"}),n?"Saving...":"Save All Settings"]})})]})})}var q2,Y$;function ni(){if(Y$)return q2;Y$=1;var e=Array.isArray;return q2=e,q2}var H2,X$;function Ere(){if(X$)return H2;X$=1;var e=typeof Ky=="object"&&Ky&&Ky.Object===Object&&Ky;return H2=e,H2}var G2,Z$;function Tl(){if(Z$)return G2;Z$=1;var e=Ere(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return G2=r,G2}var K2,Q$;function Fv(){if(Q$)return K2;Q$=1;var e=Tl(),t=e.Symbol;return K2=t,K2}var Y2,J$;function TFe(){if(J$)return Y2;J$=1;var e=Fv(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[s]=c:delete o[s]),d}return Y2=i,Y2}var X2,eB;function AFe(){if(eB)return X2;eB=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return X2=r,X2}var Z2,tB;function _c(){if(tB)return Z2;tB=1;var e=Fv(),t=TFe(),r=AFe(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return Z2=o,Z2}var Q2,rB;function jc(){if(rB)return Q2;rB=1;function e(t){return t!=null&&typeof t=="object"}return Q2=e,Q2}var J2,nB;function _p(){if(nB)return J2;nB=1;var e=_c(),t=jc(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return J2=n,J2}var ek,sB;function mI(){if(sB)return ek;sB=1;var e=ni(),t=_p(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return ek=s,ek}var tk,aB;function Yu(){if(aB)return tk;aB=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return tk=e,tk}var rk,iB;function pI(){if(iB)return rk;iB=1;var e=_c(),t=Yu(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==s||c==r||c==i}return rk=o,rk}var nk,oB;function PFe(){if(oB)return nk;oB=1;var e=Tl(),t=e["__core-js_shared__"];return nk=t,nk}var sk,lB;function OFe(){if(lB)return sk;lB=1;var e=PFe(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return sk=r,sk}var ak,cB;function Cre(){if(cB)return ak;cB=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return ak=r,ak}var ik,uB;function RFe(){if(uB)return ik;uB=1;var e=pI(),t=OFe(),r=Yu(),n=Cre(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||t(m))return!1;var g=e(m)?d:i;return g.test(n(m))}return ik=f,ik}var ok,dB;function DFe(){if(dB)return ok;dB=1;function e(t,r){return t?.[r]}return ok=e,ok}var lk,fB;function Ff(){if(fB)return lk;fB=1;var e=RFe(),t=DFe();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return lk=r,lk}var ck,hB;function oj(){if(hB)return ck;hB=1;var e=Ff(),t=e(Object,"create");return ck=t,ck}var uk,mB;function IFe(){if(mB)return uk;mB=1;var e=oj();function t(){this.__data__=e?e(null):{},this.size=0}return uk=t,uk}var dk,pB;function MFe(){if(pB)return dk;pB=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return dk=e,dk}var fk,gB;function FFe(){if(gB)return fk;gB=1;var e=oj(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return fk=s,fk}var hk,xB;function LFe(){if(xB)return hk;xB=1;var e=oj(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return hk=n,hk}var mk,vB;function $Fe(){if(vB)return mk;vB=1;var e=oj(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return mk=r,mk}var pk,yB;function BFe(){if(yB)return pk;yB=1;var e=IFe(),t=MFe(),r=FFe(),n=LFe(),s=$Fe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,pk=i,pk}var gk,wB;function UFe(){if(wB)return gk;wB=1;function e(){this.__data__=[],this.size=0}return gk=e,gk}var xk,bB;function gI(){if(bB)return xk;bB=1;function e(t,r){return t===r||t!==t&&r!==r}return xk=e,xk}var vk,_B;function lj(){if(_B)return vk;_B=1;var e=gI();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return vk=t,vk}var yk,jB;function VFe(){if(jB)return yk;jB=1;var e=lj(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return yk=n,yk}var wk,SB;function zFe(){if(SB)return wk;SB=1;var e=lj();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return wk=t,wk}var bk,NB;function WFe(){if(NB)return bk;NB=1;var e=lj();function t(r){return e(this.__data__,r)>-1}return bk=t,bk}var _k,kB;function qFe(){if(kB)return _k;kB=1;var e=lj();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return _k=t,_k}var jk,EB;function cj(){if(EB)return jk;EB=1;var e=UFe(),t=VFe(),r=zFe(),n=WFe(),s=qFe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,jk=i,jk}var Sk,CB;function xI(){if(CB)return Sk;CB=1;var e=Ff(),t=Tl(),r=e(t,"Map");return Sk=r,Sk}var Nk,TB;function HFe(){if(TB)return Nk;TB=1;var e=BFe(),t=cj(),r=xI();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Nk=n,Nk}var kk,AB;function GFe(){if(AB)return kk;AB=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return kk=e,kk}var Ek,PB;function uj(){if(PB)return Ek;PB=1;var e=GFe();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return Ek=t,Ek}var Ck,OB;function KFe(){if(OB)return Ck;OB=1;var e=uj();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Ck=t,Ck}var Tk,RB;function YFe(){if(RB)return Tk;RB=1;var e=uj();function t(r){return e(this,r).get(r)}return Tk=t,Tk}var Ak,DB;function XFe(){if(DB)return Ak;DB=1;var e=uj();function t(r){return e(this,r).has(r)}return Ak=t,Ak}var Pk,IB;function ZFe(){if(IB)return Pk;IB=1;var e=uj();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return Pk=t,Pk}var Ok,MB;function vI(){if(MB)return Ok;MB=1;var e=HFe(),t=KFe(),r=YFe(),n=XFe(),s=ZFe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Ok=i,Ok}var Rk,FB;function Tre(){if(FB)return Rk;FB=1;var e=vI(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,Rk=r,Rk}var Dk,LB;function QFe(){if(LB)return Dk;LB=1;var e=Tre(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return Dk=r,Dk}var Ik,$B;function JFe(){if($B)return Ik;$B=1;var e=QFe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return Ik=n,Ik}var Mk,BB;function yI(){if(BB)return Mk;BB=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return Mk=e,Mk}var Fk,UB;function eLe(){if(UB)return Fk;UB=1;var e=Fv(),t=yI(),r=ni(),n=_p(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Fk=o,Fk}var Lk,VB;function Are(){if(VB)return Lk;VB=1;var e=eLe();function t(r){return r==null?"":e(r)}return Lk=t,Lk}var $k,zB;function Pre(){if(zB)return $k;zB=1;var e=ni(),t=mI(),r=JFe(),n=Are();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return $k=s,$k}var Bk,WB;function dj(){if(WB)return Bk;WB=1;var e=_p();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Bk=t,Bk}var Uk,qB;function wI(){if(qB)return Uk;qB=1;var e=Pre(),t=dj();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return Uk=r,Uk}var Vk,HB;function Ore(){if(HB)return Vk;HB=1;var e=wI();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return Vk=t,Vk}var tLe=Ore();const ki=Sr(tLe);var zk,GB;function rLe(){if(GB)return zk;GB=1;function e(t){return t==null}return zk=e,zk}var nLe=rLe();const pr=Sr(nLe);var Wk,KB;function sLe(){if(KB)return Wk;KB=1;var e=_c(),t=ni(),r=jc(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Wk=s,Wk}var aLe=sLe();const gf=Sr(aLe);var iLe=pI();const Zt=Sr(iLe);var oLe=Yu();const jp=Sr(oLe);var qk={exports:{}},Dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YB;function lLe(){if(YB)return Dr;YB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(v){if(typeof v=="object"&&v!==null){var j=v.$$typeof;switch(j){case e:switch(v=v.type,v){case r:case s:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case i:return v;default:return j}}case t:return j}}}return Dr.ContextConsumer=o,Dr.ContextProvider=i,Dr.Element=e,Dr.ForwardRef=c,Dr.Fragment=r,Dr.Lazy=m,Dr.Memo=f,Dr.Portal=t,Dr.Profiler=s,Dr.StrictMode=n,Dr.Suspense=u,Dr.SuspenseList=d,Dr.isAsyncMode=function(){return!1},Dr.isConcurrentMode=function(){return!1},Dr.isContextConsumer=function(v){return x(v)===o},Dr.isContextProvider=function(v){return x(v)===i},Dr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},Dr.isForwardRef=function(v){return x(v)===c},Dr.isFragment=function(v){return x(v)===r},Dr.isLazy=function(v){return x(v)===m},Dr.isMemo=function(v){return x(v)===f},Dr.isPortal=function(v){return x(v)===t},Dr.isProfiler=function(v){return x(v)===s},Dr.isStrictMode=function(v){return x(v)===n},Dr.isSuspense=function(v){return x(v)===u},Dr.isSuspenseList=function(v){return x(v)===d},Dr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===n||v===u||v===d||v===g||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},Dr.typeOf=x,Dr}var XB;function cLe(){return XB||(XB=1,qk.exports=lLe()),qk.exports}var uLe=cLe(),Hk,ZB;function Rre(){if(ZB)return Hk;ZB=1;var e=_c(),t=jc(),r="[object Number]";function n(s){return typeof s=="number"||t(s)&&e(s)==r}return Hk=n,Hk}var Gk,QB;function dLe(){if(QB)return Gk;QB=1;var e=Rre();function t(r){return e(r)&&r!=+r}return Gk=t,Gk}var fLe=dLe();const Lv=Sr(fLe);var hLe=Rre();const mLe=Sr(hLe);var Da=function(t){return t===0?0:t>0?1:-1},Dd=function(t){return gf(t)&&t.indexOf("%")===t.length-1},lt=function(t){return mLe(t)&&!Lv(t)},pLe=function(t){return pr(t)},ws=function(t){return lt(t)||gf(t)},gLe=0,$v=function(t){var r=++gLe;return"".concat(t||"").concat(r)},Ia=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!lt(t)&&!gf(t))return n;var i;if(Dd(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lv(i)&&(i=n),s&&i>r&&(i=r),i},au=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},xLe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},ru=function(t,r){return lt(t)&&lt(r)?function(n){return t+n*(r-t)}:function(){return r}};function MP(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ki(n,t))===r})}var vLe=function(t,r){return lt(t)&&lt(r)?t-r:gf(t)&&gf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function fm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function FP(e){"@babel/helpers - typeof";return FP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FP(e)}var yLe=["viewBox","children"],wLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JB=["points","pathLength"],Kk={svg:yLe,polygon:JB,polyline:JB},bI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],s1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!jp(n))return null;var s={};return Object.keys(n).forEach(function(i){bI.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},bLe=function(t,r,n){return function(s){return t(r,n,s),null}},xf=function(t,r,n){if(!jp(t)||FP(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];bI.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=bLe(o,r,n))}),s},_Le=["children"],jLe=["children"];function e9(e,t){if(e==null)return{};var r=SLe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var t9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ec=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},r9=null,Yk=null,_I=function e(t){if(t===r9&&Array.isArray(Yk))return Yk;var r=[];return _.Children.forEach(t,function(n){pr(n)||(uLe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Yk=r,r9=t,r};function co(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return ec(s)}):n=[ec(t)],_I(e).forEach(function(s){var i=ki(s,"type.displayName")||ki(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function hi(e,t){var r=co(e,t);return r&&r[0]}var n9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!lt(n)||n<=0||!lt(s)||s<=0)},NLe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kLe=function(t){return t&&t.type&&gf(t.type)&&NLe.indexOf(t.type)>=0},ELe=function(t,r,n,s){var i,o=(i=Kk?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Zt(t)&&(s&&o.includes(r)||wLe.includes(r))||n&&bI.includes(r)},Yt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(_.isValidElement(t)&&(s=t.props),!jp(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;ELe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},LP=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return s9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!s9(i,o))return!1}return!0},s9=function(t,r){if(pr(t)&&pr(r))return!0;if(!pr(t)&&!pr(r)){var n=t.props||{},s=n.children,i=e9(n,_Le),o=r.props||{},l=o.children,c=e9(o,jLe);return s&&l?fm(i,c)&&LP(s,l):!s&&!l?fm(i,c):!1}return!1},a9=function(t,r){var n=[],s={};return _I(t).forEach(function(i,o){if(kLe(i))n.push(i);else if(i){var l=ec(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},CLe=function(t){var r=t&&t.type;return r&&t9[r]?t9[r]:null},TLe=function(t,r){return _I(r).indexOf(t)},ALe=["children","width","height","viewBox","className","style","title","desc"];function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function PLe(e,t){if(e==null)return{};var r=OLe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BP(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=PLe(e,ALe),d=s||{width:r,height:n,x:0,y:0},f=ur("recharts-surface",i);return se.createElement("svg",$P({},Yt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),se.createElement("title",null,l),se.createElement("desc",null,c),t)}var RLe=["children","className"];function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UP.apply(this,arguments)}function DLe(e,t){if(e==null)return{};var r=ILe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ILe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Vr=se.forwardRef(function(e,t){var r=e.children,n=e.className,s=DLe(e,RLe),i=ur("recharts-layer",n);return se.createElement("g",UP({className:i},Yt(s,!0),{ref:t}),r)}),Vo=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Xk,i9;function MLe(){if(i9)return Xk;i9=1;function e(t,r,n){var s=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+r];return o}return Xk=e,Xk}var Zk,o9;function FLe(){if(o9)return Zk;o9=1;var e=MLe();function t(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:e(r,n,s)}return Zk=t,Zk}var Qk,l9;function Dre(){if(l9)return Qk;l9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function c(u){return l.test(u)}return Qk=c,Qk}var Jk,c9;function LLe(){if(c9)return Jk;c9=1;function e(t){return t.split("")}return Jk=e,Jk}var eE,u9;function $Le(){if(u9)return eE;u9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=u+"?",x="["+i+"]?",v="(?:"+g+"(?:"+[d,f,m].join("|")+")"+x+y+")*",j=x+y+v,S="(?:"+[d+l+"?",l,f,m,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+S+j,"g");function T(E){return E.match(w)||[]}return eE=T,eE}var tE,d9;function BLe(){if(d9)return tE;d9=1;var e=LLe(),t=Dre(),r=$Le();function n(s){return t(s)?r(s):e(s)}return tE=n,tE}var rE,f9;function ULe(){if(f9)return rE;f9=1;var e=FLe(),t=Dre(),r=BLe(),n=Are();function s(i){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return rE=s,rE}var nE,h9;function VLe(){if(h9)return nE;h9=1;var e=ULe(),t=e("toUpperCase");return nE=t,nE}var zLe=VLe();const fj=Sr(zLe);function rn(e){return function(){return e}}const Ire=Math.cos,a1=Math.sin,Ko=Math.sqrt,i1=Math.PI,hj=2*i1,VP=Math.PI,zP=2*VP,jd=1e-6,WLe=zP-jd;function Mre(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qLe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Mre;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class HLe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Mre:qLe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>jd)if(!(Math.abs(f*c-u*d)>jd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,y=s-l,x=c*c+u*u,v=g*g+y*y,j=Math.sqrt(x),S=Math.sqrt(m),w=i*Math.tan((VP-Math.acos((x+m-v)/(2*j*S)))/2),T=w/S,E=w/j;Math.abs(T-1)>jd&&this._append`L${t+T*d},${r+T*f}`,this._append`A${i},${i},0,0,${+(f*g>d*y)},${this._x1=t+E*c},${this._y1=r+E*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>jd||Math.abs(this._y1-d)>jd)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%zP+zP),m>WLe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>jd&&this._append`A${n},${n},0,${+(m>=VP)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function jI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new HLe(t)}function SI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fre(e){this._context=e}Fre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mj(e){return new Fre(e)}function Lre(e){return e[0]}function $re(e){return e[1]}function Bre(e,t){var r=rn(!0),n=null,s=mj,i=null,o=jI(l);e=typeof e=="function"?e:e===void 0?Lre:rn(e),t=typeof t=="function"?t:t===void 0?$re:rn(t);function l(c){var u,d=(c=SI(c)).length,f,m=!1,g;for(n==null&&(i=s(g=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:rn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:rn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:rn(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Cw(e,t,r){var n=null,s=rn(!0),i=null,o=mj,l=null,c=jI(u);e=typeof e=="function"?e:e===void 0?Lre:rn(+e),t=typeof t=="function"?t:rn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$re:rn(+r);function u(f){var m,g,y,x=(f=SI(f)).length,v,j=!1,S,w=new Array(x),T=new Array(x);for(i==null&&(l=o(S=c())),m=0;m<=x;++m){if(!(m<x&&s(v=f[m],m,f))===j)if(j=!j)g=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=g;--y)l.point(w[y],T[y]);l.lineEnd(),l.areaEnd()}j&&(w[m]=+e(v,m,f),T[m]=+t(v,m,f),l.point(n?+n(v,m,f):w[m],r?+r(v,m,f):T[m]))}if(S)return l=null,S+""||null}function d(){return Bre().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:rn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:rn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:rn(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class Ure{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function GLe(e){return new Ure(e,!0)}function KLe(e){return new Ure(e,!1)}const NI={draw(e,t){const r=Ko(t/i1);e.moveTo(r,0),e.arc(0,0,r,0,hj)}},YLe={draw(e,t){const r=Ko(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Vre=Ko(1/3),XLe=Vre*2,ZLe={draw(e,t){const r=Ko(t/XLe),n=r*Vre;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QLe={draw(e,t){const r=Ko(t),n=-r/2;e.rect(n,n,r,r)}},JLe=.8908130915292852,zre=a1(i1/10)/a1(7*i1/10),e5e=a1(hj/10)*zre,t5e=-Ire(hj/10)*zre,r5e={draw(e,t){const r=Ko(t*JLe),n=e5e*r,s=t5e*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=hj*i/5,l=Ire(o),c=a1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},sE=Ko(3),n5e={draw(e,t){const r=-Ko(t/(sE*3));e.moveTo(0,r*2),e.lineTo(-sE*r,-r),e.lineTo(sE*r,-r),e.closePath()}},Ui=-.5,Vi=Ko(3)/2,WP=1/Ko(12),s5e=(WP/2+1)*3,a5e={draw(e,t){const r=Ko(t/s5e),n=r/2,s=r*WP,i=n,o=r*WP+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ui*n-Vi*s,Vi*n+Ui*s),e.lineTo(Ui*i-Vi*o,Vi*i+Ui*o),e.lineTo(Ui*l-Vi*c,Vi*l+Ui*c),e.lineTo(Ui*n+Vi*s,Ui*s-Vi*n),e.lineTo(Ui*i+Vi*o,Ui*o-Vi*i),e.lineTo(Ui*l+Vi*c,Ui*c-Vi*l),e.closePath()}};function i5e(e,t){let r=null,n=jI(s);e=typeof e=="function"?e:rn(e||NI),t=typeof t=="function"?t:rn(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:rn(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:rn(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function o1(){}function l1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Wre(e){this._context=e}Wre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:l1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:l1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o5e(e){return new Wre(e)}function qre(e){this._context=e}qre.prototype={areaStart:o1,areaEnd:o1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:l1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l5e(e){return new qre(e)}function Hre(e){this._context=e}Hre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:l1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c5e(e){return new Hre(e)}function Gre(e){this._context=e}Gre.prototype={areaStart:o1,areaEnd:o1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u5e(e){return new Gre(e)}function m9(e){return e<0?-1:1}function p9(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(m9(i)+m9(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function g9(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function aE(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function c1(e){this._context=e}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aE(this,this._t0,g9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aE(this,g9(this,r=p9(this,e,t)),r);break;default:aE(this,this._t0,r=p9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Kre(e){this._context=new Yre(e)}(Kre.prototype=Object.create(c1.prototype)).point=function(e,t){c1.prototype.point.call(this,t,e)};function Yre(e){this._context=e}Yre.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function d5e(e){return new c1(e)}function f5e(e){return new Kre(e)}function Xre(e){this._context=e}Xre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=x9(e),s=x9(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function x9(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function h5e(e){return new Xre(e)}function pj(e,t){this._context=e,this._t=t}pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function m5e(e){return new pj(e,.5)}function p5e(e){return new pj(e,0)}function g5e(e){return new pj(e,1)}function Rm(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function qP(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function x5e(e,t){return e[t]}function v5e(e){const t=[];return t.key=e,t}function y5e(){var e=rn([]),t=qP,r=Rm,n=x5e;function s(i){var o=Array.from(e.apply(this,arguments),v5e),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=SI(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:rn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:rn(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?qP:typeof i=="function"?i:rn(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Rm,s):r},s}function w5e(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Rm(e,t)}}function b5e(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rm(e,t)}}function _5e(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,g=(f-m)/2,y=0;y<l;++y){var x=e[t[y]],v=x[n][1]||0,j=x[n-1][1]||0;g+=v-j}c+=f,u+=g*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Rm(e,t)}}function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}var j5e=["type","size","sizeType"];function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HP.apply(this,arguments)}function v9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v9(Object(r),!0).forEach(function(n){S5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S5e(e,t,r){return t=N5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5e(e){var t=k5e(e,"string");return px(t)=="symbol"?t:t+""}function k5e(e,t){if(px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E5e(e,t){if(e==null)return{};var r=C5e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zre={symbolCircle:NI,symbolCross:YLe,symbolDiamond:ZLe,symbolSquare:QLe,symbolStar:r5e,symbolTriangle:n5e,symbolWye:a5e},T5e=Math.PI/180,A5e=function(t){var r="symbol".concat(fj(t));return Zre[r]||NI},P5e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*T5e;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},O5e=function(t,r){Zre["symbol".concat(fj(t))]=r},kI=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=E5e(t,j5e),u=y9(y9({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=A5e(n),j=i5e().type(v).size(P5e(i,l,n));return j()},f=u.className,m=u.cx,g=u.cy,y=Yt(u,!0);return m===+m&&g===+g&&i===+i?se.createElement("path",HP({},y,{className:ur("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};kI.registerSymbol=O5e;function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GP.apply(this,arguments)}function w9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(r),!0).forEach(function(n){gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jre(n.key),n)}}function M5e(e,t,r){return t&&I5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F5e(e,t,r){return t=u1(t),L5e(e,Qre()?Reflect.construct(t,r||[],u1(e).constructor):t.apply(e,r))}function L5e(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $5e(e)}function $5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qre=function(){return!!e})()}function u1(e){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(e)}function B5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KP(e,t)}function KP(e,t){return KP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},KP(e,t)}function gx(e,t,r){return t=Jre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=U5e(e,"string");return Dm(t)=="symbol"?t:t+""}function U5e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zi=32,EI=(function(e){function t(){return D5e(this,t),F5e(this,t,arguments)}return B5e(t,e),M5e(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=zi/2,o=zi/6,l=zi/3,c=n.inactive?s:n.color;if(n.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:zi,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(zi,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(zi/8,"h").concat(zi,"v").concat(zi*3/4,"h").concat(-zi,"z"),className:"recharts-legend-icon"});if(se.isValidElement(n.legendIcon)){var u=R5e({},n);return delete u.legendIcon,se.cloneElement(n.legendIcon,u)}return se.createElement(kI,{fill:c,cx:i,cy:i,size:zi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:zi,height:zi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,y){var x=g.formatter||c,v=ur(gx(gx({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var j=Zt(g.value)?null:g.value;Vo(!Zt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?u:g.color;return se.createElement("li",GP({className:v,style:f,key:"legend-item-".concat(y)},xf(n.props,g,y)),se.createElement(BP,{width:o,height:o,viewBox:d,style:m},n.renderIcon(g)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},x?x(j,g,y):j))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(_.PureComponent);gx(EI,"displayName","Legend");gx(EI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var iE,b9;function V5e(){if(b9)return iE;b9=1;var e=cj();function t(){this.__data__=new e,this.size=0}return iE=t,iE}var oE,_9;function z5e(){if(_9)return oE;_9=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return oE=e,oE}var lE,j9;function W5e(){if(j9)return lE;j9=1;function e(t){return this.__data__.get(t)}return lE=e,lE}var cE,S9;function q5e(){if(S9)return cE;S9=1;function e(t){return this.__data__.has(t)}return cE=e,cE}var uE,N9;function H5e(){if(N9)return uE;N9=1;var e=cj(),t=xI(),r=vI(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return uE=s,uE}var dE,k9;function ene(){if(k9)return dE;k9=1;var e=cj(),t=V5e(),r=z5e(),n=W5e(),s=q5e(),i=H5e();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,dE=o,dE}var fE,E9;function G5e(){if(E9)return fE;E9=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return fE=t,fE}var hE,C9;function K5e(){if(C9)return hE;C9=1;function e(t){return this.__data__.has(t)}return hE=e,hE}var mE,T9;function tne(){if(T9)return mE;T9=1;var e=vI(),t=G5e(),r=K5e();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,mE=n,mE}var pE,A9;function rne(){if(A9)return pE;A9=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return pE=e,pE}var gE,P9;function nne(){if(P9)return gE;P9=1;function e(t,r){return t.has(r)}return gE=e,gE}var xE,O9;function sne(){if(O9)return xE;O9=1;var e=tne(),t=rne(),r=nne(),n=1,s=2;function i(o,l,c,u,d,f){var m=c&n,g=o.length,y=l.length;if(g!=y&&!(m&&y>g))return!1;var x=f.get(o),v=f.get(l);if(x&&v)return x==l&&v==o;var j=-1,S=!0,w=c&s?new e:void 0;for(f.set(o,l),f.set(l,o);++j<g;){var T=o[j],E=l[j];if(u)var N=m?u(E,T,j,l,o,f):u(T,E,j,o,l,f);if(N!==void 0){if(N)continue;S=!1;break}if(w){if(!t(l,function(k,R){if(!r(w,R)&&(T===k||d(T,k,c,u,f)))return w.push(R)})){S=!1;break}}else if(!(T===E||d(T,E,c,u,f))){S=!1;break}}return f.delete(o),f.delete(l),S}return xE=i,xE}var vE,R9;function Y5e(){if(R9)return vE;R9=1;var e=Tl(),t=e.Uint8Array;return vE=t,vE}var yE,D9;function X5e(){if(D9)return yE;D9=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return yE=e,yE}var wE,I9;function CI(){if(I9)return wE;I9=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return wE=e,wE}var bE,M9;function Z5e(){if(M9)return bE;M9=1;var e=Fv(),t=Y5e(),r=gI(),n=sne(),s=X5e(),i=CI(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",x="[object String]",v="[object Symbol]",j="[object ArrayBuffer]",S="[object DataView]",w=e?e.prototype:void 0,T=w?w.valueOf:void 0;function E(N,k,R,A,I,P,D){switch(R){case S:if(N.byteLength!=k.byteLength||N.byteOffset!=k.byteOffset)return!1;N=N.buffer,k=k.buffer;case j:return!(N.byteLength!=k.byteLength||!P(new t(N),new t(k)));case c:case u:case m:return r(+N,+k);case d:return N.name==k.name&&N.message==k.message;case g:case x:return N==k+"";case f:var B=s;case y:var U=A&o;if(B||(B=i),N.size!=k.size&&!U)return!1;var H=D.get(N);if(H)return H==k;A|=l,D.set(N,k);var M=n(B(N),B(k),A,I,P,D);return D.delete(N),M;case v:if(T)return T.call(N)==T.call(k)}return!1}return bE=E,bE}var _E,F9;function ane(){if(F9)return _E;F9=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return _E=e,_E}var jE,L9;function Q5e(){if(L9)return jE;L9=1;var e=ane(),t=ni();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return jE=r,jE}var SE,$9;function J5e(){if($9)return SE;$9=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return SE=e,SE}var NE,B9;function e6e(){if(B9)return NE;B9=1;function e(){return[]}return NE=e,NE}var kE,U9;function t6e(){if(U9)return kE;U9=1;var e=J5e(),t=e6e(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return kE=i,kE}var EE,V9;function r6e(){if(V9)return EE;V9=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return EE=e,EE}var CE,z9;function n6e(){if(z9)return CE;z9=1;var e=_c(),t=jc(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return CE=n,CE}var TE,W9;function TI(){if(W9)return TE;W9=1;var e=n6e(),t=jc(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return TE=i,TE}var q0={exports:{}},AE,q9;function s6e(){if(q9)return AE;q9=1;function e(){return!1}return AE=e,AE}q0.exports;var H9;function ine(){return H9||(H9=1,(function(e,t){var r=Tl(),n=s6e(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(q0,q0.exports)),q0.exports}var PE,G9;function AI(){if(G9)return PE;G9=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return PE=r,PE}var OE,K9;function PI(){if(K9)return OE;K9=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return OE=t,OE}var RE,Y9;function a6e(){if(Y9)return RE;Y9=1;var e=_c(),t=PI(),r=jc(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",x="[object WeakMap]",v="[object ArrayBuffer]",j="[object DataView]",S="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",E="[object Int16Array]",N="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",A="[object Uint16Array]",I="[object Uint32Array]",P={};P[S]=P[w]=P[T]=P[E]=P[N]=P[k]=P[R]=P[A]=P[I]=!0,P[n]=P[s]=P[v]=P[i]=P[j]=P[o]=P[l]=P[c]=P[u]=P[d]=P[f]=P[m]=P[g]=P[y]=P[x]=!1;function D(B){return r(B)&&t(B.length)&&!!P[e(B)]}return RE=D,RE}var DE,X9;function one(){if(X9)return DE;X9=1;function e(t){return function(r){return t(r)}}return DE=e,DE}var H0={exports:{}};H0.exports;var Z9;function i6e(){return Z9||(Z9=1,(function(e,t){var r=Ere(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(H0,H0.exports)),H0.exports}var IE,Q9;function lne(){if(Q9)return IE;Q9=1;var e=a6e(),t=one(),r=i6e(),n=r&&r.isTypedArray,s=n?t(n):e;return IE=s,IE}var ME,J9;function o6e(){if(J9)return ME;J9=1;var e=r6e(),t=TI(),r=ni(),n=ine(),s=AI(),i=lne(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&t(u),g=!f&&!m&&n(u),y=!f&&!m&&!g&&i(u),x=f||m||g||y,v=x?e(u.length,String):[],j=v.length;for(var S in u)(d||l.call(u,S))&&!(x&&(S=="length"||g&&(S=="offset"||S=="parent")||y&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,j)))&&v.push(S);return v}return ME=c,ME}var FE,eU;function l6e(){if(eU)return FE;eU=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return FE=t,FE}var LE,tU;function cne(){if(tU)return LE;tU=1;function e(t,r){return function(n){return t(r(n))}}return LE=e,LE}var $E,rU;function c6e(){if(rU)return $E;rU=1;var e=cne(),t=e(Object.keys,Object);return $E=t,$E}var BE,nU;function u6e(){if(nU)return BE;nU=1;var e=l6e(),t=c6e(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return BE=s,BE}var UE,sU;function Bv(){if(sU)return UE;sU=1;var e=pI(),t=PI();function r(n){return n!=null&&t(n.length)&&!e(n)}return UE=r,UE}var VE,aU;function gj(){if(aU)return VE;aU=1;var e=o6e(),t=u6e(),r=Bv();function n(s){return r(s)?e(s):t(s)}return VE=n,VE}var zE,iU;function d6e(){if(iU)return zE;iU=1;var e=Q5e(),t=t6e(),r=gj();function n(s){return e(s,r,t)}return zE=n,zE}var WE,oU;function f6e(){if(oU)return WE;oU=1;var e=d6e(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,u,d){var f=l&t,m=e(i),g=m.length,y=e(o),x=y.length;if(g!=x&&!f)return!1;for(var v=g;v--;){var j=m[v];if(!(f?j in o:n.call(o,j)))return!1}var S=d.get(i),w=d.get(o);if(S&&w)return S==o&&w==i;var T=!0;d.set(i,o),d.set(o,i);for(var E=f;++v<g;){j=m[v];var N=i[j],k=o[j];if(c)var R=f?c(k,N,j,o,i,d):c(N,k,j,i,o,d);if(!(R===void 0?N===k||u(N,k,l,c,d):R)){T=!1;break}E||(E=j=="constructor")}if(T&&!E){var A=i.constructor,I=o.constructor;A!=I&&"constructor"in i&&"constructor"in o&&!(typeof A=="function"&&A instanceof A&&typeof I=="function"&&I instanceof I)&&(T=!1)}return d.delete(i),d.delete(o),T}return WE=s,WE}var qE,lU;function h6e(){if(lU)return qE;lU=1;var e=Ff(),t=Tl(),r=e(t,"DataView");return qE=r,qE}var HE,cU;function m6e(){if(cU)return HE;cU=1;var e=Ff(),t=Tl(),r=e(t,"Promise");return HE=r,HE}var GE,uU;function une(){if(uU)return GE;uU=1;var e=Ff(),t=Tl(),r=e(t,"Set");return GE=r,GE}var KE,dU;function p6e(){if(dU)return KE;dU=1;var e=Ff(),t=Tl(),r=e(t,"WeakMap");return KE=r,KE}var YE,fU;function g6e(){if(fU)return YE;fU=1;var e=h6e(),t=xI(),r=m6e(),n=une(),s=p6e(),i=_c(),o=Cre(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",g=o(e),y=o(t),x=o(r),v=o(n),j=o(s),S=i;return(e&&S(new e(new ArrayBuffer(1)))!=m||t&&S(new t)!=l||r&&S(r.resolve())!=u||n&&S(new n)!=d||s&&S(new s)!=f)&&(S=function(w){var T=i(w),E=T==c?w.constructor:void 0,N=E?o(E):"";if(N)switch(N){case g:return m;case y:return l;case x:return u;case v:return d;case j:return f}return T}),YE=S,YE}var XE,hU;function x6e(){if(hU)return XE;hU=1;var e=ene(),t=sne(),r=Z5e(),n=f6e(),s=g6e(),i=ni(),o=ine(),l=lne(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function y(x,v,j,S,w,T){var E=i(x),N=i(v),k=E?d:s(x),R=N?d:s(v);k=k==u?f:k,R=R==u?f:R;var A=k==f,I=R==f,P=k==R;if(P&&o(x)){if(!o(v))return!1;E=!0,A=!1}if(P&&!A)return T||(T=new e),E||l(x)?t(x,v,j,S,w,T):r(x,v,k,j,S,w,T);if(!(j&c)){var D=A&&g.call(x,"__wrapped__"),B=I&&g.call(v,"__wrapped__");if(D||B){var U=D?x.value():x,H=B?v.value():v;return T||(T=new e),w(U,H,j,S,T)}}return P?(T||(T=new e),n(x,v,j,S,w,T)):!1}return XE=y,XE}var ZE,mU;function OI(){if(mU)return ZE;mU=1;var e=x6e(),t=jc();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return ZE=r,ZE}var QE,pU;function v6e(){if(pU)return QE;pU=1;var e=ene(),t=OI(),r=1,n=2;function s(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var m=l[u];if(f&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++u<d;){m=l[u];var g=m[0],y=i[g],x=m[1];if(f&&m[2]){if(y===void 0&&!(g in i))return!1}else{var v=new e;if(c)var j=c(y,x,g,i,o,v);if(!(j===void 0?t(x,y,r|n,c,v):j))return!1}}return!0}return QE=s,QE}var JE,gU;function dne(){if(gU)return JE;gU=1;var e=Yu();function t(r){return r===r&&!e(r)}return JE=t,JE}var eC,xU;function y6e(){if(xU)return eC;xU=1;var e=dne(),t=gj();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return eC=r,eC}var tC,vU;function fne(){if(vU)return tC;vU=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return tC=e,tC}var rC,yU;function w6e(){if(yU)return rC;yU=1;var e=v6e(),t=y6e(),r=fne();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return rC=n,rC}var nC,wU;function b6e(){if(wU)return nC;wU=1;function e(t,r){return t!=null&&r in Object(t)}return nC=e,nC}var sC,bU;function _6e(){if(bU)return sC;bU=1;var e=Pre(),t=TI(),r=ni(),n=AI(),s=PI(),i=dj();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var g=i(c[d]);if(!(m=l!=null&&u(l,g)))break;l=l[g]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&s(f)&&n(g,f)&&(r(l)||t(l)))}return sC=o,sC}var aC,_U;function j6e(){if(_U)return aC;_U=1;var e=b6e(),t=_6e();function r(n,s){return n!=null&&t(n,s,e)}return aC=r,aC}var iC,jU;function S6e(){if(jU)return iC;jU=1;var e=OI(),t=Ore(),r=j6e(),n=mI(),s=dne(),i=fne(),o=dj(),l=1,c=2;function u(d,f){return n(d)&&s(f)?i(o(d),f):function(m){var g=t(m,d);return g===void 0&&g===f?r(m,d):e(f,g,l|c)}}return iC=u,iC}var oC,SU;function Sp(){if(SU)return oC;SU=1;function e(t){return t}return oC=e,oC}var lC,NU;function N6e(){if(NU)return lC;NU=1;function e(t){return function(r){return r?.[t]}}return lC=e,lC}var cC,kU;function k6e(){if(kU)return cC;kU=1;var e=wI();function t(r){return function(n){return e(n,r)}}return cC=t,cC}var uC,EU;function E6e(){if(EU)return uC;EU=1;var e=N6e(),t=k6e(),r=mI(),n=dj();function s(i){return r(i)?e(n(i)):t(i)}return uC=s,uC}var dC,CU;function Al(){if(CU)return dC;CU=1;var e=w6e(),t=S6e(),r=Sp(),n=ni(),s=E6e();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return dC=i,dC}var fC,TU;function hne(){if(TU)return fC;TU=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return fC=e,fC}var hC,AU;function C6e(){if(AU)return hC;AU=1;function e(t){return t!==t}return hC=e,hC}var mC,PU;function T6e(){if(PU)return mC;PU=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return mC=e,mC}var pC,OU;function A6e(){if(OU)return pC;OU=1;var e=hne(),t=C6e(),r=T6e();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return pC=n,pC}var gC,RU;function P6e(){if(RU)return gC;RU=1;var e=A6e();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return gC=t,gC}var xC,DU;function O6e(){if(DU)return xC;DU=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return xC=e,xC}var vC,IU;function R6e(){if(IU)return vC;IU=1;function e(){}return vC=e,vC}var yC,MU;function D6e(){if(MU)return yC;MU=1;var e=une(),t=R6e(),r=CI(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return yC=s,yC}var wC,FU;function I6e(){if(FU)return wC;FU=1;var e=tne(),t=P6e(),r=O6e(),n=nne(),s=D6e(),i=CI(),o=200;function l(c,u,d){var f=-1,m=t,g=c.length,y=!0,x=[],v=x;if(d)y=!1,m=r;else if(g>=o){var j=u?null:s(c);if(j)return i(j);y=!1,m=n,v=new e}else v=u?[]:x;e:for(;++f<g;){var S=c[f],w=u?u(S):S;if(S=d||S!==0?S:0,y&&w===w){for(var T=v.length;T--;)if(v[T]===w)continue e;u&&v.push(w),x.push(S)}else m(v,w,d)||(v!==x&&v.push(w),x.push(S))}return x}return wC=l,wC}var bC,LU;function M6e(){if(LU)return bC;LU=1;var e=Al(),t=I6e();function r(n,s){return n&&n.length?t(n,e(s,2)):[]}return bC=r,bC}var F6e=M6e();const $U=Sr(F6e);function mne(e,t,r){return t===!0?$U(e,r):Zt(t)?$U(e,t):e}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var L6e=["ref"];function BU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BU(Object(r),!0).forEach(function(n){xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gne(n.key),n)}}function B6e(e,t,r){return t&&UU(e.prototype,t),r&&UU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U6e(e,t,r){return t=d1(t),V6e(e,pne()?Reflect.construct(t,r||[],d1(e).constructor):t.apply(e,r))}function V6e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6e(e)}function z6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pne=function(){return!!e})()}function d1(e){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(e)}function W6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YP(e,t)}function YP(e,t){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YP(e,t)}function xj(e,t,r){return t=gne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gne(e){var t=q6e(e,"string");return Im(t)=="symbol"?t:t+""}function q6e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function H6e(e,t){if(e==null)return{};var r=G6e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K6e(e){return e.value}function Y6e(e,t){if(se.isValidElement(e))return se.cloneElement(e,t);if(typeof e=="function")return se.createElement(e,t);t.ref;var r=H6e(t,L6e);return se.createElement(EI,r)}var VU=1,xu=(function(e){function t(){var r;$6e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=U6e(this,t,[].concat(s)),xj(r,"lastBoundingBox",{width:-1,height:-1}),r}return W6e(t,e),B6e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>VU||Math.abs(s.height-this.lastBoundingBox.height)>VU)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ul({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ul(Ul({},f),m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Ul(Ul({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},Y6e(i,Ul(Ul({},this.props),{},{payload:mne(d,u,K6e)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Ul(Ul({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&lt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(_.PureComponent);xj(xu,"displayName","Legend");xj(xu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _C,zU;function X6e(){if(zU)return _C;zU=1;var e=Fv(),t=TI(),r=ni(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return _C=s,_C}var jC,WU;function xne(){if(WU)return jC;WU=1;var e=ane(),t=X6e();function r(n,s,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];s>0&&i(d)?s>1?r(d,s-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return jC=r,jC}var SC,qU;function Z6e(){if(qU)return SC;qU=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return SC=e,SC}var NC,HU;function Q6e(){if(HU)return NC;HU=1;var e=Z6e(),t=e();return NC=t,NC}var kC,GU;function vne(){if(GU)return kC;GU=1;var e=Q6e(),t=gj();function r(n,s){return n&&e(n,s,t)}return kC=r,kC}var EC,KU;function J6e(){if(KU)return EC;KU=1;var e=Bv();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return EC=t,EC}var CC,YU;function RI(){if(YU)return CC;YU=1;var e=vne(),t=J6e(),r=t(e);return CC=r,CC}var TC,XU;function yne(){if(XU)return TC;XU=1;var e=RI(),t=Bv();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=s(l,c,u)}),o}return TC=r,TC}var AC,ZU;function e8e(){if(ZU)return AC;ZU=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return AC=e,AC}var PC,QU;function t8e(){if(QU)return PC;QU=1;var e=_p();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!s&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&s&&o&&!i&&!l||u&&s&&o||!c&&o||!d)return-1}return 0}return PC=t,PC}var OC,JU;function r8e(){if(JU)return OC;JU=1;var e=t8e();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=s.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=s[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return OC=t,OC}var RC,e7;function n8e(){if(e7)return RC;e7=1;var e=yI(),t=wI(),r=Al(),n=yne(),s=e8e(),i=one(),o=r8e(),l=Sp(),c=ni();function u(d,f,m){f.length?f=e(f,function(x){return c(x)?function(v){return t(v,x.length===1?x[0]:x)}:x}):f=[l];var g=-1;f=e(f,i(r));var y=n(d,function(x,v,j){var S=e(f,function(w){return w(x)});return{criteria:S,index:++g,value:x}});return s(y,function(x,v){return o(x,v,m)})}return RC=u,RC}var DC,t7;function s8e(){if(t7)return DC;t7=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return DC=e,DC}var IC,r7;function a8e(){if(r7)return IC;r7=1;var e=s8e(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=t(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=i(u),e(n,this,d)}}return IC=r,IC}var MC,n7;function i8e(){if(n7)return MC;n7=1;function e(t){return function(){return t}}return MC=e,MC}var FC,s7;function wne(){if(s7)return FC;s7=1;var e=Ff(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return FC=t,FC}var LC,a7;function o8e(){if(a7)return LC;a7=1;var e=i8e(),t=wne(),r=Sp(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return LC=n,LC}var $C,i7;function l8e(){if(i7)return $C;i7=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return $C=n,$C}var BC,o7;function c8e(){if(o7)return BC;o7=1;var e=o8e(),t=l8e(),r=t(e);return BC=r,BC}var UC,l7;function u8e(){if(l7)return UC;l7=1;var e=Sp(),t=a8e(),r=c8e();function n(s,i){return r(t(s,i,e),s+"")}return UC=n,UC}var VC,c7;function vj(){if(c7)return VC;c7=1;var e=gI(),t=Bv(),r=AI(),n=Yu();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return VC=s,VC}var zC,u7;function d8e(){if(u7)return zC;u7=1;var e=xne(),t=n8e(),r=u8e(),n=vj(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return zC=s,zC}var f8e=d8e();const DI=Sr(f8e);function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function XP(){return XP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XP.apply(this,arguments)}function h8e(e,t){return x8e(e)||g8e(e,t)||p8e(e,t)||m8e()}function m8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p8e(e,t){if(e){if(typeof e=="string")return d7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d7(e,t)}}function d7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function x8e(e){if(Array.isArray(e))return e}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(n){v8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v8e(e,t,r){return t=y8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8e(e){var t=w8e(e,"string");return xx(t)=="symbol"?t:t+""}function w8e(e,t){if(xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8e(e){return Array.isArray(e)&&ws(e[0])&&ws(e[1])?e.join(" ~ "):e}var _8e=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,g=t.wrapperClassName,y=t.labelClassName,x=t.label,v=t.labelFormatter,j=t.accessibilityLayer,S=j===void 0?!1:j,w=function(){if(d&&d.length){var D={padding:0,margin:0},B=(m?DI(d,m):d).map(function(U,H){if(U.type==="none")return null;var M=WC({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),W=U.formatter||f||b8e,K=U.value,V=U.name,z=K,G=V;if(W&&z!=null&&G!=null){var F=W(K,V,U,H,d);if(Array.isArray(F)){var X=h8e(F,2);z=X[0],G=X[1]}else z=F}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:M},ws(G)?se.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ws(G)?se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,se.createElement("span",{className:"recharts-tooltip-item-value"},z),se.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:D},B)}return null},T=WC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=WC({margin:0},u),N=!pr(x),k=N?x:"",R=ur("recharts-default-tooltip",g),A=ur("recharts-tooltip-label",y);N&&v&&d!==void 0&&d!==null&&(k=v(x,d));var I=S?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",XP({className:R,style:T},I),se.createElement("p",{className:A,style:E},se.isValidElement(k)?k:"".concat(k)),w())};function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function Tw(e,t,r){return t=j8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8e(e){var t=S8e(e,"string");return vx(t)=="symbol"?t:t+""}function S8e(e,t){if(vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j0="recharts-tooltip-wrapper",N8e={visibility:"hidden"};function k8e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ur(j0,Tw(Tw(Tw(Tw({},"".concat(j0,"-right"),lt(r)&&t&&lt(t.x)&&r>=t.x),"".concat(j0,"-left"),lt(r)&&t&&lt(t.x)&&r<t.x),"".concat(j0,"-bottom"),lt(n)&&t&&lt(t.y)&&n>=t.y),"".concat(j0,"-top"),lt(n)&&t&&lt(t.y)&&n<t.y))}function h7(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&lt(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var m=d,g=c[n];return m<g?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,x=c[n]+u;return y>x?Math.max(d,c[n]):Math.max(f,c[n])}function E8e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function C8e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=h7({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=h7({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=E8e({translateX:d,translateY:f,useTranslate3d:l})):u=N8e,{cssProperties:u,cssClasses:k8e({translateX:d,translateY:f,coordinate:r})}}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function m7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function p7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m7(Object(r),!0).forEach(function(n){QP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ne(n.key),n)}}function P8e(e,t,r){return t&&A8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O8e(e,t,r){return t=f1(t),R8e(e,bne()?Reflect.construct(t,r||[],f1(e).constructor):t.apply(e,r))}function R8e(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D8e(e)}function D8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bne=function(){return!!e})()}function f1(e){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(e)}function I8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZP(e,t)}function ZP(e,t){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZP(e,t)}function QP(e,t,r){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=M8e(e,"string");return Mm(t)=="symbol"?t:t+""}function M8e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g7=1,F8e=(function(e){function t(){var r;T8e(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=O8e(this,t,[].concat(s)),QP(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QP(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return I8e(t,e),P8e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>g7||Math.abs(n.height-this.state.lastBoundingBox.height)>g7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,m=s.isAnimationActive,g=s.offset,y=s.position,x=s.reverseDirection,v=s.useTranslate3d,j=s.viewBox,S=s.wrapperStyle,w=C8e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),T=w.cssClasses,E=w.cssProperties,N=p7(p7({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return se.createElement("div",{tabIndex:-1,className:T,style:N,ref:function(R){n.wrapperNode=R}},u)}}])})(_.PureComponent),L8e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Np={isSsr:L8e()};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function x7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(r),!0).forEach(function(n){II(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sne(n.key),n)}}function U8e(e,t,r){return t&&B8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V8e(e,t,r){return t=h1(t),z8e(e,jne()?Reflect.construct(t,r||[],h1(e).constructor):t.apply(e,r))}function z8e(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W8e(e)}function W8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jne=function(){return!!e})()}function h1(e){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(e)}function q8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JP(e,t)}function JP(e,t){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},JP(e,t)}function II(e,t,r){return t=Sne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sne(e){var t=H8e(e,"string");return Fm(t)=="symbol"?t:t+""}function H8e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G8e(e){return e.dataKey}function K8e(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(_8e,t)}var Qi=(function(e){function t(){return $8e(this,t),V8e(this,t,arguments)}return q8e(t,e),U8e(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,m=s.isAnimationActive,g=s.offset,y=s.payload,x=s.payloadUniqBy,v=s.position,j=s.reverseDirection,S=s.useTranslate3d,w=s.viewBox,T=s.wrapperStyle,E=y??[];f&&E.length&&(E=mne(y.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),x,G8e));var N=E.length>0;return se.createElement(F8e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:N,offset:g,position:v,reverseDirection:j,useTranslate3d:S,viewBox:w,wrapperStyle:T},K8e(u,v7(v7({},this.props),{},{payload:E})))}}])})(_.PureComponent);II(Qi,"displayName","Tooltip");II(Qi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Np.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qC,y7;function Y8e(){if(y7)return qC;y7=1;var e=Tl(),t=function(){return e.Date.now()};return qC=t,qC}var HC,w7;function X8e(){if(w7)return HC;w7=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return HC=t,HC}var GC,b7;function Z8e(){if(b7)return GC;b7=1;var e=X8e(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return GC=r,GC}var KC,_7;function Nne(){if(_7)return KC;_7=1;var e=Z8e(),t=Yu(),r=_p(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):s.test(u)?n:+u}return KC=c,KC}var YC,j7;function Q8e(){if(j7)return YC;j7=1;var e=Yu(),t=Y8e(),r=Nne(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,u){var d,f,m,g,y,x,v=0,j=!1,S=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(j=!!u.leading,S="maxWait"in u,m=S?s(r(u.maxWait)||0,c):m,w="trailing"in u?!!u.trailing:w);function T(B){var U=d,H=f;return d=f=void 0,v=B,g=l.apply(H,U),g}function E(B){return v=B,y=setTimeout(R,c),j?T(B):g}function N(B){var U=B-x,H=B-v,M=c-U;return S?i(M,m-H):M}function k(B){var U=B-x,H=B-v;return x===void 0||U>=c||U<0||S&&H>=m}function R(){var B=t();if(k(B))return A(B);y=setTimeout(R,N(B))}function A(B){return y=void 0,w&&d?T(B):(d=f=void 0,g)}function I(){y!==void 0&&clearTimeout(y),v=0,d=x=f=y=void 0}function P(){return y===void 0?g:A(t())}function D(){var B=t(),U=k(B);if(d=arguments,f=this,x=B,U){if(y===void 0)return E(x);if(S)return clearTimeout(y),y=setTimeout(R,c),T(x)}return y===void 0&&(y=setTimeout(R,c)),g}return D.cancel=I,D.flush=P,D}return YC=o,YC}var XC,S7;function J8e(){if(S7)return XC;S7=1;var e=Q8e(),t=Yu(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(s,i,{leading:l,maxWait:i,trailing:c})}return XC=n,XC}var e$e=J8e();const kne=Sr(e$e);function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function N7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N7(Object(r),!0).forEach(function(n){t$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$e(e,t,r){return t=r$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$e(e){var t=n$e(e,"string");return yx(t)=="symbol"?t:t+""}function n$e(e,t){if(yx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s$e(e,t){return l$e(e)||o$e(e,t)||i$e(e,t)||a$e()}function a$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$e(e,t){if(e){if(typeof e=="string")return k7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k7(e,t)}}function k7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function l$e(e){if(Array.isArray(e))return e}var ZC=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,g=e.children,y=e.debounce,x=y===void 0?0:y,v=e.id,j=e.className,S=e.onResize,w=e.style,T=w===void 0?{}:w,E=_.useRef(null),N=_.useRef();N.current=S,_.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var k=_.useState({containerWidth:s.width,containerHeight:s.height}),R=s$e(k,2),A=R[0],I=R[1],P=_.useCallback(function(B,U){I(function(H){var M=Math.round(B),W=Math.round(U);return H.containerWidth===M&&H.containerHeight===W?H:{containerWidth:M,containerHeight:W}})},[]);_.useEffect(function(){var B=function(V){var z,G=V[0].contentRect,F=G.width,X=G.height;P(F,X),(z=N.current)===null||z===void 0||z.call(N,F,X)};x>0&&(B=kne(B,x,{trailing:!0,leading:!1}));var U=new ResizeObserver(B),H=E.current.getBoundingClientRect(),M=H.width,W=H.height;return P(M,W),U.observe(E.current),function(){U.disconnect()}},[P,x]);var D=_.useMemo(function(){var B=A.containerWidth,U=A.containerHeight;if(B<0||U<0)return null;Vo(Dd(o)||Dd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Vo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=Dd(o)?B:o,M=Dd(c)?U:c;r&&r>0&&(H?M=H/r:M&&(H=M*r),m&&M>m&&(M=m)),Vo(H>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,M,o,c,d,f,r);var W=!Array.isArray(g)&&ec(g.type).endsWith("Chart");return se.Children.map(g,function(K){return se.isValidElement(K)?_.cloneElement(K,Aw({width:H,height:M},W?{style:Aw({height:"100%",width:"100%",maxHeight:M,maxWidth:H},K.props.style)}:{})):K})},[r,g,c,m,f,d,A,o]);return se.createElement("div",{id:v?"".concat(v):void 0,className:ur("recharts-responsive-container",j),style:Aw(Aw({},T),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:E},D)}),yj=function(t){return null};yj.displayName="Cell";function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function E7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(r),!0).forEach(function(n){c$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c$e(e,t,r){return t=u$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$e(e){var t=d$e(e,"string");return wx(t)=="symbol"?t:t+""}function d$e(e,t){if(wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ah={widthCache:{},cacheCount:0},f$e=2e3,h$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},C7="recharts_measurement_span";function m$e(e){var t=eO({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var pg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Np.isSsr)return{width:0,height:0};var n=m$e(r),s=JSON.stringify({text:t,copyStyle:n});if(Ah.widthCache[s])return Ah.widthCache[s];try{var i=document.getElementById(C7);i||(i=document.createElement("span"),i.setAttribute("id",C7),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=eO(eO({},h$e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ah.widthCache[s]=c,++Ah.cacheCount>f$e&&(Ah.cacheCount=0,Ah.widthCache={}),c}catch{return{width:0,height:0}}},p$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function m1(e,t){return y$e(e)||v$e(e,t)||x$e(e,t)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$e(e,t){if(e){if(typeof e=="string")return T7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T7(e,t)}}function T7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function y$e(e){if(Array.isArray(e))return e}function w$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_$e(n.key),n)}}function b$e(e,t,r){return t&&A7(e.prototype,t),r&&A7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _$e(e){var t=j$e(e,"string");return bx(t)=="symbol"?t:t+""}function j$e(e,t){if(bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,N$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ene={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},k$e=Object.keys(Ene),Kh="NaN";function E$e(e,t){return e*Ene[t]}var Pw=(function(){function e(t,r){w$e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!S$e.test(r)&&(this.num=NaN,this.unit=""),k$e.includes(r)&&(this.num=E$e(t,r),this.unit="px")}return b$e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=N$e.exec(r))!==null&&n!==void 0?n:[],i=m1(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])})();function Cne(e){if(e.includes(Kh))return Kh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=P7.exec(t))!==null&&r!==void 0?r:[],s=m1(n,4),i=s[1],o=s[2],l=s[3],c=Pw.parse(i??""),u=Pw.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Kh;t=t.replace(P7,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=O7.exec(t))!==null&&f!==void 0?f:[],g=m1(m,4),y=g[1],x=g[2],v=g[3],j=Pw.parse(y??""),S=Pw.parse(v??""),w=x==="+"?j.add(S):j.subtract(S);if(w.isNaN())return Kh;t=t.replace(O7,w.toString())}return t}var R7=/\(([^()]*)\)/;function C$e(e){for(var t=e;t.includes("(");){var r=R7.exec(t),n=m1(r,2),s=n[1];t=t.replace(R7,Cne(s))}return t}function T$e(e){var t=e.replace(/\s+/g,"");return t=C$e(t),t=Cne(t),t}function A$e(e){try{return T$e(e)}catch{return Kh}}function QC(e){var t=A$e(e.slice(5,-1));return t===Kh?"":t}var P$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O$e=["dx","dy","angle","className","breakAll"];function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tO.apply(this,arguments)}function D7(e,t){if(e==null)return{};var r=R$e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I7(e,t){return F$e(e)||M$e(e,t)||I$e(e,t)||D$e()}function D$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$e(e,t){if(e){if(typeof e=="string")return M7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M7(e,t)}}function M7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function F$e(e){if(Array.isArray(e))return e}var Tne=/[ \f\n\r\t\v\u2028\u2029]+/,Ane=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];pr(r)||(n?i=r.toString().split(""):i=r.toString().split(Tne));var o=i.map(function(c){return{word:c,width:pg(c,s).width}}),l=n?0:pg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},L$e=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=lt(o),f=l,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(M,W){var K=W.word,V=W.width,z=M[M.length-1];if(z&&(s==null||i||z.width+V+n<Number(s)))z.words.push(K),z.width+=V+n;else{var G={words:[K],width:V};M.push(G)}return M},[])},g=m(r),y=function(H){return H.reduce(function(M,W){return M.width>W.width?M:W})};if(!d)return g;for(var x="",v=function(H){var M=f.slice(0,H),W=Ane({breakAll:u,style:c,children:M+x}).wordsWithComputedWidth,K=m(W),V=K.length>o||y(K).width>Number(s);return[V,K]},j=0,S=f.length-1,w=0,T;j<=S&&w<=f.length-1;){var E=Math.floor((j+S)/2),N=E-1,k=v(N),R=I7(k,2),A=R[0],I=R[1],P=v(E),D=I7(P,1),B=D[0];if(!A&&!B&&(j=E+1),A&&B&&(S=E-1),!A&&B){T=I;break}w++}return T||g},F7=function(t){var r=pr(t)?[]:t.toString().split(Tne);return[{words:r}]},$$e=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Np.isSsr){var c,u,d=Ane({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return F7(s);return L$e({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return F7(s)},L7="#808080",vf=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,g=m===void 0?"start":m,y=t.verticalAnchor,x=y===void 0?"end":y,v=t.fill,j=v===void 0?L7:v,S=D7(t,P$e),w=_.useMemo(function(){return $$e({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),T=S.dx,E=S.dy,N=S.angle,k=S.className,R=S.breakAll,A=D7(S,O$e);if(!ws(n)||!ws(i))return null;var I=n+(lt(T)?T:0),P=i+(lt(E)?E:0),D;switch(x){case"start":D=QC("calc(".concat(u,")"));break;case"middle":D=QC("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=QC("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(f){var U=w[0].width,H=S.width;B.push("scale(".concat((lt(H)?H/U:1)/U,")"))}return N&&B.push("rotate(".concat(N,", ").concat(I,", ").concat(P,")")),B.length&&(A.transform=B.join(" ")),se.createElement("text",tO({},Yt(A,!0),{x:I,y:P,className:ur("recharts-text",k),textAnchor:g,fill:j.includes("url")?L7:j}),w.map(function(M,W){var K=M.words.join(R?"":" ");return se.createElement("tspan",{x:I,dy:W===0?D:l,key:"".concat(K,"-").concat(W)},K)}))};function vu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MI(e){let t,r,n;e.length!==2?(t=vu,r=(l,c)=>vu(e(l),c),n=(l,c)=>e(l)-c):(t=e===vu||e===B$e?e:U$e,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function U$e(){return 0}function Pne(e){return e===null?NaN:+e}function*V$e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const z$e=MI(vu),Uv=z$e.right;MI(Pne).center;class $7 extends Map{constructor(t,r=H$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(B7(this,t))}has(t){return super.has(B7(this,t))}set(t,r){return super.set(W$e(this,t),r)}delete(t){return super.delete(q$e(this,t))}}function B7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function W$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function q$e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function H$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G$e(e=vu){if(e===vu)return One;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function One(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const K$e=Math.sqrt(50),Y$e=Math.sqrt(10),X$e=Math.sqrt(2);function p1(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=K$e?10:i>=Y$e?5:i>=X$e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?p1(e,t,r*2):[l,c,u]}function rO(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?p1(t,e,r):p1(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function nO(e,t,r){return t=+t,e=+e,r=+r,p1(e,t,r)[2]}function sO(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?nO(t,e,r):nO(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function U7(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function V7(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Rne(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?One:G$e(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+m)),y=Math.min(n,Math.floor(t+(c-u)*f/c+m));Rne(e,t,g,y,s)}const i=e[t];let o=r,l=n;for(S0(e,r,t),s(e[n],i)>0&&S0(e,r,n);o<l;){for(S0(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?S0(e,r,l):(++l,S0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function S0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Z$e(e,t,r){if(e=Float64Array.from(V$e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return V7(e);if(t>=1)return U7(e);var n,s=(n-1)*t,i=Math.floor(s),o=U7(Rne(e,i).subarray(0,i+1)),l=V7(e.subarray(i+1));return o+(l-o)*(s-i)}}function Q$e(e,t,r=Pne){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function J$e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function po(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Sc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const aO=Symbol("implicit");function FI(){var e=new $7,t=[],r=[],n=aO;function s(i){let o=e.get(i);if(o===void 0){if(n!==aO)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $7;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return FI(t,r).unknown(n)},po.apply(s,arguments),s}function _x(){var e=FI().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,g=s<n,y=g?s:n,x=g?n:s;i=(x-y)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),y+=(x-y-i*(m-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=J$e(m).map(function(j){return y+i*j});return r(g?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,s]=m,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(m){return[n,s]=m,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return _x(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},po.apply(f(),arguments)}function Dne(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Dne(t())},e}function gg(){return Dne(_x.apply(null,arguments).paddingInner(1))}function LI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ine(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Vv(){}var jx=.7,g1=1/jx,hm="\\s*([+-]?\\d+)\\s*",Sx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eBe=/^#([0-9a-f]{3,8})$/,tBe=new RegExp(`^rgb\\(${hm},${hm},${hm}\\)$`),rBe=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),nBe=new RegExp(`^rgba\\(${hm},${hm},${hm},${Sx}\\)$`),sBe=new RegExp(`^rgba\\(${pl},${pl},${pl},${Sx}\\)$`),aBe=new RegExp(`^hsl\\(${Sx},${pl},${pl}\\)$`),iBe=new RegExp(`^hsla\\(${Sx},${pl},${pl},${Sx}\\)$`),z7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LI(Vv,Nx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:W7,formatHex:W7,formatHex8:oBe,formatHsl:lBe,formatRgb:q7,toString:q7});function W7(){return this.rgb().formatHex()}function oBe(){return this.rgb().formatHex8()}function lBe(){return Mne(this).formatHsl()}function q7(){return this.rgb().formatRgb()}function Nx(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eBe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?H7(t):r===3?new Qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ow(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ow(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tBe.exec(e))?new Qa(t[1],t[2],t[3],1):(t=rBe.exec(e))?new Qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nBe.exec(e))?Ow(t[1],t[2],t[3],t[4]):(t=sBe.exec(e))?Ow(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aBe.exec(e))?Y7(t[1],t[2]/100,t[3]/100,1):(t=iBe.exec(e))?Y7(t[1],t[2]/100,t[3]/100,t[4]):z7.hasOwnProperty(e)?H7(z7[e]):e==="transparent"?new Qa(NaN,NaN,NaN,0):null}function H7(e){return new Qa(e>>16&255,e>>8&255,e&255,1)}function Ow(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qa(e,t,r,n)}function cBe(e){return e instanceof Vv||(e=Nx(e)),e?(e=e.rgb(),new Qa(e.r,e.g,e.b,e.opacity)):new Qa}function iO(e,t,r,n){return arguments.length===1?cBe(e):new Qa(e,t,r,n??1)}function Qa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}LI(Qa,iO,Ine(Vv,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jx:Math.pow(jx,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qa(qd(this.r),qd(this.g),qd(this.b),x1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:G7,formatHex:G7,formatHex8:uBe,formatRgb:K7,toString:K7}));function G7(){return`#${Id(this.r)}${Id(this.g)}${Id(this.b)}`}function uBe(){return`#${Id(this.r)}${Id(this.g)}${Id(this.b)}${Id((isNaN(this.opacity)?1:this.opacity)*255)}`}function K7(){const e=x1(this.opacity);return`${e===1?"rgb(":"rgba("}${qd(this.r)}, ${qd(this.g)}, ${qd(this.b)}${e===1?")":`, ${e})`}`}function x1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Id(e){return e=qd(e),(e<16?"0":"")+e.toString(16)}function Y7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Io(e,t,r,n)}function Mne(e){if(e instanceof Io)return new Io(e.h,e.s,e.l,e.opacity);if(e instanceof Vv||(e=Nx(e)),!e)return new Io;if(e instanceof Io)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Io(o,l,c,e.opacity)}function dBe(e,t,r,n){return arguments.length===1?Mne(e):new Io(e,t,r,n??1)}function Io(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}LI(Io,dBe,Ine(Vv,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new Io(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jx:Math.pow(jx,e),new Io(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Qa(JC(e>=240?e-240:e+120,s,n),JC(e,s,n),JC(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Io(X7(this.h),Rw(this.s),Rw(this.l),x1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x1(this.opacity);return`${e===1?"hsl(":"hsla("}${X7(this.h)}, ${Rw(this.s)*100}%, ${Rw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function X7(e){return e=(e||0)%360,e<0?e+360:e}function Rw(e){return Math.max(0,Math.min(1,e||0))}function JC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $I=e=>()=>e;function fBe(e,t){return function(r){return e+r*t}}function hBe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mBe(e){return(e=+e)==1?Fne:function(t,r){return r-t?hBe(t,r,e):$I(isNaN(t)?r:t)}}function Fne(e,t){var r=t-e;return r?fBe(e,r):$I(isNaN(e)?t:e)}const Z7=(function e(t){var r=mBe(t);function n(s,i){var o=r((s=iO(s)).r,(i=iO(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=Fne(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n})(1);function pBe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function gBe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xBe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=kp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function vBe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function v1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yBe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=kp(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var oO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eT=new RegExp(oO.source,"g");function wBe(e){return function(){return e}}function bBe(e){return function(t){return e(t)+""}}function _Be(e,t){var r=oO.lastIndex=eT.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=oO.exec(e))&&(s=eT.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:v1(n,s)})),r=eT.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?bBe(c[0].x):wBe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function kp(e,t){var r=typeof t,n;return t==null||r==="boolean"?$I(t):(r==="number"?v1:r==="string"?(n=Nx(t))?(t=n,Z7):_Be:t instanceof Nx?Z7:t instanceof Date?vBe:gBe(t)?pBe:Array.isArray(t)?xBe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yBe:v1)(e,t)}function BI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jBe(e,t){t===void 0&&(t=e,e=kp);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function SBe(e){return function(){return e}}function y1(e){return+e}var Q7=[0,1];function Ma(e){return e}function lO(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SBe(isNaN(t)?NaN:.5)}function NBe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kBe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=lO(s,n),i=r(o,i)):(n=lO(n,s),i=r(i,o)),function(l){return i(n(l))}}function EBe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=lO(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Uv(e,l,1,n)-1;return i[c](s[c](l))}}function zv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wj(){var e=Q7,t=Q7,r=kp,n,s,i,o=Ma,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ma&&(o=NBe(e[0],e[m-1])),l=m>2?EBe:kBe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(s((u||(u=l(t,e.map(n),v1)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,y1),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=BI,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ma,d()):o!==Ma},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,g){return n=m,s=g,d()}}function UI(){return wj()(Ma,Ma)}function CBe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function w1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Lm(e){return e=w1(Math.abs(e)),e?e[1]:NaN}function TBe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ABe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var PBe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kx(e){if(!(t=PBe.exec(e)))throw new Error("invalid format: "+e);var t;return new VI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kx.prototype=VI.prototype;function VI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}VI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OBe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Lne;function RBe(e,t){var r=w1(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(Lne=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+w1(e,Math.max(0,t+i-1))[0]}function J7(e,t){var r=w1(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const eV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CBe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J7(e*100,t),r:J7,s:RBe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tV(e){return e}var rV=Array.prototype.map,nV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DBe(e){var t=e.grouping===void 0||e.thousands===void 0?tV:TBe(rV.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?tV:ABe(rV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=kx(f);var m=f.fill,g=f.align,y=f.sign,x=f.symbol,v=f.zero,j=f.width,S=f.comma,w=f.precision,T=f.trim,E=f.type;E==="n"?(S=!0,E="g"):eV[E]||(w===void 0&&(w=12),T=!0,E="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",k=x==="$"?n:/[%p]/.test(E)?o:"",R=eV[E],A=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(P){var D=N,B=k,U,H,M;if(E==="c")B=R(P)+B,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?c:R(Math.abs(P),w),T&&(P=OBe(P)),W&&+P==0&&y!=="+"&&(W=!1),D=(W?y==="("?y:l:y==="-"||y==="("?"":y)+D,B=(E==="s"?nV[8+Lne/3]:"")+B+(W&&y==="("?")":""),A){for(U=-1,H=P.length;++U<H;)if(M=P.charCodeAt(U),48>M||M>57){B=(M===46?s+P.slice(U+1):P.slice(U))+B,P=P.slice(0,U);break}}}S&&!v&&(P=t(P,1/0));var K=D.length+P.length+B.length,V=K<j?new Array(j-K+1).join(m):"";switch(S&&v&&(P=t(V+P,V.length?j-B.length:1/0),V=""),g){case"<":P=D+P+B+V;break;case"=":P=D+V+P+B;break;case"^":P=V.slice(0,K=V.length>>1)+D+P+B+V.slice(K);break;default:P=V+D+P+B;break}return i(P)}return I.toString=function(){return f+""},I}function d(f,m){var g=u((f=kx(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Lm(m)/3)))*3,x=Math.pow(10,-y),v=nV[8+y/3];return function(j){return g(x*j)+v}}return{format:u,formatPrefix:d}}var Dw,zI,$ne;IBe({thousands:",",grouping:[3],currency:["$",""]});function IBe(e){return Dw=DBe(e),zI=Dw.format,$ne=Dw.formatPrefix,Dw}function MBe(e){return Math.max(0,-Lm(Math.abs(e)))}function FBe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lm(t)/3)))*3-Lm(Math.abs(e)))}function LBe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lm(t)-Lm(e))+1}function Bne(e,t,r,n){var s=sO(e,t,r),i;switch(n=kx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=FBe(s,o))&&(n.precision=i),$ne(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=LBe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=MBe(s))&&(n.precision=i-(n.type==="%")*2);break}}return zI(n)}function Xu(e){var t=e.domain;return e.ticks=function(r){var n=t();return rO(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return Bne(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=nO(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function b1(){var e=UI();return e.copy=function(){return zv(e,b1())},po.apply(e,arguments),Xu(e)}function Une(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,y1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Une(e).unknown(t)},e=arguments.length?Array.from(e,y1):[0,1],Xu(r)}function Vne(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function sV(e){return Math.log(e)}function aV(e){return Math.exp(e)}function $Be(e){return-Math.log(-e)}function BBe(e){return-Math.exp(-e)}function UBe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VBe(e){return e===10?UBe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zBe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iV(e){return(t,r)=>-e(-t,r)}function WI(e){const t=e(sV,aV),r=t.domain;let n=10,s,i;function o(){return s=zBe(n),i=VBe(n),r()[0]<0?(s=iV(s),i=iV(i),e($Be,BBe)):e(sV,aV),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=s(u),g=s(d),y,x;const v=l==null?10:+l;let j=[];if(!(n%1)&&g-m<v){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(y=1;y<n;++y)if(x=m<0?y/i(-m):y*i(m),!(x<u)){if(x>d)break;j.push(x)}}else for(;m<=g;++m)for(y=n-1;y>=1;--y)if(x=m>0?y/i(-m):y*i(m),!(x<u)){if(x>d)break;j.push(x)}j.length*2<v&&(j=rO(u,d,v))}else j=rO(m,g,Math.min(g-m,v)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kx(c)).precision==null&&(c.trim=!0),c=zI(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Vne(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function zne(){const e=WI(wj()).domain([1,10]);return e.copy=()=>zv(e,zne()).base(e.base()),po.apply(e,arguments),e}function oV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qI(e){var t=1,r=e(oV(t),lV(t));return r.constant=function(n){return arguments.length?e(oV(t=+n),lV(t)):t},Xu(r)}function Wne(){var e=qI(wj());return e.copy=function(){return zv(e,Wne()).constant(e.constant())},po.apply(e,arguments)}function cV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WBe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qBe(e){return e<0?-e*e:e*e}function HI(e){var t=e(Ma,Ma),r=1;function n(){return r===1?e(Ma,Ma):r===.5?e(WBe,qBe):e(cV(r),cV(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Xu(t)}function GI(){var e=HI(wj());return e.copy=function(){return zv(e,GI()).exponent(e.exponent())},po.apply(e,arguments),e}function HBe(){return GI.apply(null,arguments).exponent(.5)}function uV(e){return Math.sign(e)*e*e}function GBe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qne(){var e=UI(),t=[0,1],r=!1,n;function s(i){var o=GBe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(uV(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,y1)).map(uV)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return qne(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},po.apply(s,arguments),Xu(s)}function Hne(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Q$e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Uv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vu),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Hne().domain(e).range(t).unknown(n)},po.apply(i,arguments)}function Gne(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Uv(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Gne().domain([e,t]).range(s).unknown(i)},po.apply(Xu(o),arguments)}function Kne(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Uv(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Kne().domain(e).range(t).unknown(r)},po.apply(s,arguments)}const tT=new Date,rT=new Date;function js(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>js(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(tT.setTime(+i),rT.setTime(+o),e(tT),e(rT),Math.floor(r(tT,rT))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const _1=js(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?js(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_1);_1.range;const Kl=1e3,so=Kl*60,Yl=so*60,fc=Yl*24,KI=fc*7,dV=fc*30,nT=fc*365,Md=js(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCSeconds());Md.range;const YI=js(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getMinutes());YI.range;const XI=js(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCMinutes());XI.range;const ZI=js(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl-e.getMinutes()*so)},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getHours());ZI.range;const QI=js(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getUTCHours());QI.range;const Wv=js(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*so)/fc,e=>e.getDate()-1);Wv.range;const bj=js(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fc,e=>e.getUTCDate()-1);bj.range;const Yne=js(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fc,e=>Math.floor(e/fc));Yne.range;function Lf(e){return js(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*so)/KI)}const _j=Lf(0),j1=Lf(1),KBe=Lf(2),YBe=Lf(3),$m=Lf(4),XBe=Lf(5),ZBe=Lf(6);_j.range;j1.range;KBe.range;YBe.range;$m.range;XBe.range;ZBe.range;function $f(e){return js(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/KI)}const jj=$f(0),S1=$f(1),QBe=$f(2),JBe=$f(3),Bm=$f(4),e9e=$f(5),t9e=$f(6);jj.range;S1.range;QBe.range;JBe.range;Bm.range;e9e.range;t9e.range;const JI=js(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());JI.range;const eM=js(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());eM.range;const hc=js(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:js(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hc.range;const mc=js(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:js(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mc.range;function Xne(e,t,r,n,s,i){const o=[[Md,1,Kl],[Md,5,5*Kl],[Md,15,15*Kl],[Md,30,30*Kl],[i,1,so],[i,5,5*so],[i,15,15*so],[i,30,30*so],[s,1,Yl],[s,3,3*Yl],[s,6,6*Yl],[s,12,12*Yl],[n,1,fc],[n,2,2*fc],[r,1,KI],[t,1,dV],[t,3,3*dV],[e,1,nT]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),y=g?g.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,g=MI(([,,v])=>v).right(o,m);if(g===o.length)return e.every(sO(u/nT,d/nT,f));if(g===0)return _1.every(Math.max(sO(u,d,f),1));const[y,x]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return y.every(x)}return[l,c]}const[r9e,n9e]=Xne(mc,eM,jj,Yne,QI,XI),[s9e,a9e]=Xne(hc,JI,_j,Wv,ZI,YI);function sT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function N0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function i9e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=k0(s),d=E0(s),f=k0(i),m=E0(i),g=k0(o),y=E0(o),x=k0(l),v=E0(l),j=k0(c),S=E0(c),w={a:W,A:K,b:V,B:z,c:null,d:xV,e:xV,f:T9e,g:$9e,G:U9e,H:k9e,I:E9e,j:C9e,L:Zne,m:A9e,M:P9e,p:G,q:F,Q:wV,s:bV,S:O9e,u:R9e,U:D9e,V:I9e,w:M9e,W:F9e,x:null,X:null,y:L9e,Y:B9e,Z:V9e,"%":yV},T={a:X,A:Z,b:re,B:ee,c:null,d:vV,e:vV,f:H9e,g:rUe,G:sUe,H:z9e,I:W9e,j:q9e,L:Jne,m:G9e,M:K9e,p:ce,q:pe,Q:wV,s:bV,S:Y9e,u:X9e,U:Z9e,V:Q9e,w:J9e,W:eUe,x:null,X:null,y:tUe,Y:nUe,Z:aUe,"%":yV},E={a:I,A:P,b:D,B,c:U,d:pV,e:pV,f:_9e,g:mV,G:hV,H:gV,I:gV,j:v9e,L:b9e,m:x9e,M:y9e,p:A,q:g9e,Q:S9e,s:N9e,S:w9e,u:d9e,U:f9e,V:h9e,w:u9e,W:m9e,x:H,X:M,y:mV,Y:hV,Z:p9e,"%":j9e};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),T.x=N(r,T),T.X=N(n,T),T.c=N(t,T);function N(Y,Q){return function(ae){var q=[],ke=-1,ye=0,xe=Y.length,Re,je,mt;for(ae instanceof Date||(ae=new Date(+ae));++ke<xe;)Y.charCodeAt(ke)===37&&(q.push(Y.slice(ye,ke)),(je=fV[Re=Y.charAt(++ke)])!=null?Re=Y.charAt(++ke):je=Re==="e"?" ":"0",(mt=Q[Re])&&(Re=mt(ae,je)),q.push(Re),ye=ke+1);return q.push(Y.slice(ye,ke)),q.join("")}}function k(Y,Q){return function(ae){var q=N0(1900,void 0,1),ke=R(q,Y,ae+="",0),ye,xe;if(ke!=ae.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(Q&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ye=aT(N0(q.y,0,1)),xe=ye.getUTCDay(),ye=xe>4||xe===0?S1.ceil(ye):S1(ye),ye=bj.offset(ye,(q.V-1)*7),q.y=ye.getUTCFullYear(),q.m=ye.getUTCMonth(),q.d=ye.getUTCDate()+(q.w+6)%7):(ye=sT(N0(q.y,0,1)),xe=ye.getDay(),ye=xe>4||xe===0?j1.ceil(ye):j1(ye),ye=Wv.offset(ye,(q.V-1)*7),q.y=ye.getFullYear(),q.m=ye.getMonth(),q.d=ye.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),xe="Z"in q?aT(N0(q.y,0,1)).getUTCDay():sT(N0(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(xe+5)%7:q.w+q.U*7-(xe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,aT(q)):sT(q)}}function R(Y,Q,ae,q){for(var ke=0,ye=Q.length,xe=ae.length,Re,je;ke<ye;){if(q>=xe)return-1;if(Re=Q.charCodeAt(ke++),Re===37){if(Re=Q.charAt(ke++),je=E[Re in fV?Q.charAt(ke++):Re],!je||(q=je(Y,ae,q))<0)return-1}else if(Re!=ae.charCodeAt(q++))return-1}return q}function A(Y,Q,ae){var q=u.exec(Q.slice(ae));return q?(Y.p=d.get(q[0].toLowerCase()),ae+q[0].length):-1}function I(Y,Q,ae){var q=g.exec(Q.slice(ae));return q?(Y.w=y.get(q[0].toLowerCase()),ae+q[0].length):-1}function P(Y,Q,ae){var q=f.exec(Q.slice(ae));return q?(Y.w=m.get(q[0].toLowerCase()),ae+q[0].length):-1}function D(Y,Q,ae){var q=j.exec(Q.slice(ae));return q?(Y.m=S.get(q[0].toLowerCase()),ae+q[0].length):-1}function B(Y,Q,ae){var q=x.exec(Q.slice(ae));return q?(Y.m=v.get(q[0].toLowerCase()),ae+q[0].length):-1}function U(Y,Q,ae){return R(Y,t,Q,ae)}function H(Y,Q,ae){return R(Y,r,Q,ae)}function M(Y,Q,ae){return R(Y,n,Q,ae)}function W(Y){return o[Y.getDay()]}function K(Y){return i[Y.getDay()]}function V(Y){return c[Y.getMonth()]}function z(Y){return l[Y.getMonth()]}function G(Y){return s[+(Y.getHours()>=12)]}function F(Y){return 1+~~(Y.getMonth()/3)}function X(Y){return o[Y.getUTCDay()]}function Z(Y){return i[Y.getUTCDay()]}function re(Y){return c[Y.getUTCMonth()]}function ee(Y){return l[Y.getUTCMonth()]}function ce(Y){return s[+(Y.getUTCHours()>=12)]}function pe(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var Q=N(Y+="",w);return Q.toString=function(){return Y},Q},parse:function(Y){var Q=k(Y+="",!1);return Q.toString=function(){return Y},Q},utcFormat:function(Y){var Q=N(Y+="",T);return Q.toString=function(){return Y},Q},utcParse:function(Y){var Q=k(Y+="",!0);return Q.toString=function(){return Y},Q}}}var fV={"-":"",_:" ",0:"0"},Bs=/^\s*\d+/,o9e=/^%/,l9e=/[\\^$*+?|[\]().{}]/g;function Or(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function c9e(e){return e.replace(l9e,"\\$&")}function k0(e){return new RegExp("^(?:"+e.map(c9e).join("|")+")","i")}function E0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function u9e(e,t,r){var n=Bs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function d9e(e,t,r){var n=Bs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function f9e(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function h9e(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function m9e(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=Bs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mV(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function p9e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function g9e(e,t,r){var n=Bs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x9e(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function pV(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function v9e(e,t,r){var n=Bs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function gV(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function y9e(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function w9e(e,t,r){var n=Bs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function b9e(e,t,r){var n=Bs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _9e(e,t,r){var n=Bs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function j9e(e,t,r){var n=o9e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function S9e(e,t,r){var n=Bs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function N9e(e,t,r){var n=Bs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xV(e,t){return Or(e.getDate(),t,2)}function k9e(e,t){return Or(e.getHours(),t,2)}function E9e(e,t){return Or(e.getHours()%12||12,t,2)}function C9e(e,t){return Or(1+Wv.count(hc(e),e),t,3)}function Zne(e,t){return Or(e.getMilliseconds(),t,3)}function T9e(e,t){return Zne(e,t)+"000"}function A9e(e,t){return Or(e.getMonth()+1,t,2)}function P9e(e,t){return Or(e.getMinutes(),t,2)}function O9e(e,t){return Or(e.getSeconds(),t,2)}function R9e(e){var t=e.getDay();return t===0?7:t}function D9e(e,t){return Or(_j.count(hc(e)-1,e),t,2)}function Qne(e){var t=e.getDay();return t>=4||t===0?$m(e):$m.ceil(e)}function I9e(e,t){return e=Qne(e),Or($m.count(hc(e),e)+(hc(e).getDay()===4),t,2)}function M9e(e){return e.getDay()}function F9e(e,t){return Or(j1.count(hc(e)-1,e),t,2)}function L9e(e,t){return Or(e.getFullYear()%100,t,2)}function $9e(e,t){return e=Qne(e),Or(e.getFullYear()%100,t,2)}function B9e(e,t){return Or(e.getFullYear()%1e4,t,4)}function U9e(e,t){var r=e.getDay();return e=r>=4||r===0?$m(e):$m.ceil(e),Or(e.getFullYear()%1e4,t,4)}function V9e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Or(t/60|0,"0",2)+Or(t%60,"0",2)}function vV(e,t){return Or(e.getUTCDate(),t,2)}function z9e(e,t){return Or(e.getUTCHours(),t,2)}function W9e(e,t){return Or(e.getUTCHours()%12||12,t,2)}function q9e(e,t){return Or(1+bj.count(mc(e),e),t,3)}function Jne(e,t){return Or(e.getUTCMilliseconds(),t,3)}function H9e(e,t){return Jne(e,t)+"000"}function G9e(e,t){return Or(e.getUTCMonth()+1,t,2)}function K9e(e,t){return Or(e.getUTCMinutes(),t,2)}function Y9e(e,t){return Or(e.getUTCSeconds(),t,2)}function X9e(e){var t=e.getUTCDay();return t===0?7:t}function Z9e(e,t){return Or(jj.count(mc(e)-1,e),t,2)}function ese(e){var t=e.getUTCDay();return t>=4||t===0?Bm(e):Bm.ceil(e)}function Q9e(e,t){return e=ese(e),Or(Bm.count(mc(e),e)+(mc(e).getUTCDay()===4),t,2)}function J9e(e){return e.getUTCDay()}function eUe(e,t){return Or(S1.count(mc(e)-1,e),t,2)}function tUe(e,t){return Or(e.getUTCFullYear()%100,t,2)}function rUe(e,t){return e=ese(e),Or(e.getUTCFullYear()%100,t,2)}function nUe(e,t){return Or(e.getUTCFullYear()%1e4,t,4)}function sUe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bm(e):Bm.ceil(e),Or(e.getUTCFullYear()%1e4,t,4)}function aUe(){return"+0000"}function yV(){return"%"}function wV(e){return+e}function bV(e){return Math.floor(+e/1e3)}var Ph,tse,rse;iUe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iUe(e){return Ph=i9e(e),tse=Ph.format,Ph.parse,rse=Ph.utcFormat,Ph.utcParse,Ph}function oUe(e){return new Date(e)}function lUe(e){return e instanceof Date?+e:+new Date(+e)}function tM(e,t,r,n,s,i,o,l,c,u){var d=UI(),f=d.invert,m=d.domain,g=u(".%L"),y=u(":%S"),x=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),S=u("%b %d"),w=u("%B"),T=u("%Y");function E(N){return(c(N)<N?g:l(N)<N?y:o(N)<N?x:i(N)<N?v:n(N)<N?s(N)<N?j:S:r(N)<N?w:T)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,lUe)):m().map(oUe)},d.ticks=function(N){var k=m();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?E:u(k)},d.nice=function(N){var k=m();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?m(Vne(k,N)):d},d.copy=function(){return zv(d,tM(e,t,r,n,s,i,o,l,c,u))},d}function cUe(){return po.apply(tM(s9e,a9e,hc,JI,_j,Wv,ZI,YI,Md,tse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uUe(){return po.apply(tM(r9e,n9e,mc,eM,jj,bj,QI,XI,Md,rse).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sj(){var e=0,t=1,r,n,s,i,o=Ma,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var g,y;return arguments.length?([g,y]=m,o=f(g,y),u):[o(0),o(1)]}}return u.range=d(kp),u.rangeRound=d(BI),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Zu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nse(){var e=Xu(Sj()(Ma));return e.copy=function(){return Zu(e,nse())},Sc.apply(e,arguments)}function sse(){var e=WI(Sj()).domain([1,10]);return e.copy=function(){return Zu(e,sse()).base(e.base())},Sc.apply(e,arguments)}function ase(){var e=qI(Sj());return e.copy=function(){return Zu(e,ase()).constant(e.constant())},Sc.apply(e,arguments)}function rM(){var e=HI(Sj());return e.copy=function(){return Zu(e,rM()).exponent(e.exponent())},Sc.apply(e,arguments)}function dUe(){return rM.apply(null,arguments).exponent(.5)}function ise(){var e=[],t=Ma;function r(n){if(n!=null&&!isNaN(n=+n))return t((Uv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(vu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Z$e(e,i/n))},r.copy=function(){return ise(t).domain(e)},Sc.apply(r,arguments)}function Nj(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Ma,d,f=!1,m;function g(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(f=!!x,g):f},g.interpolator=function(x){return arguments.length?(u=x,g):u};function y(x){return function(v){var j,S,w;return arguments.length?([j,S,w]=v,u=jBe(x,[j,S,w]),g):[u(0),u(.5),u(1)]}}return g.range=y(kp),g.rangeRound=y(BI),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return d=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,g}}function ose(){var e=Xu(Nj()(Ma));return e.copy=function(){return Zu(e,ose())},Sc.apply(e,arguments)}function lse(){var e=WI(Nj()).domain([.1,1,10]);return e.copy=function(){return Zu(e,lse()).base(e.base())},Sc.apply(e,arguments)}function cse(){var e=qI(Nj());return e.copy=function(){return Zu(e,cse()).constant(e.constant())},Sc.apply(e,arguments)}function nM(){var e=HI(Nj());return e.copy=function(){return Zu(e,nM()).exponent(e.exponent())},Sc.apply(e,arguments)}function fUe(){return nM.apply(null,arguments).exponent(.5)}const _V=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_x,scaleDiverging:ose,scaleDivergingLog:lse,scaleDivergingPow:nM,scaleDivergingSqrt:fUe,scaleDivergingSymlog:cse,scaleIdentity:Une,scaleImplicit:aO,scaleLinear:b1,scaleLog:zne,scaleOrdinal:FI,scalePoint:gg,scalePow:GI,scaleQuantile:Hne,scaleQuantize:Gne,scaleRadial:qne,scaleSequential:nse,scaleSequentialLog:sse,scaleSequentialPow:rM,scaleSequentialQuantile:ise,scaleSequentialSqrt:dUe,scaleSequentialSymlog:ase,scaleSqrt:HBe,scaleSymlog:Wne,scaleThreshold:Kne,scaleTime:cUe,scaleUtc:uUe,tickFormat:Bne},Symbol.toStringTag,{value:"Module"}));var iT,jV;function kj(){if(jV)return iT;jV=1;var e=_p();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):s(c,u)))var u=c,d=l}return d}return iT=t,iT}var oT,SV;function use(){if(SV)return oT;SV=1;function e(t,r){return t>r}return oT=e,oT}var lT,NV;function hUe(){if(NV)return lT;NV=1;var e=kj(),t=use(),r=Sp();function n(s){return s&&s.length?e(s,r,t):void 0}return lT=n,lT}var mUe=hUe();const Ej=Sr(mUe);var cT,kV;function dse(){if(kV)return cT;kV=1;function e(t,r){return t<r}return cT=e,cT}var uT,EV;function pUe(){if(EV)return uT;EV=1;var e=kj(),t=dse(),r=Sp();function n(s){return s&&s.length?e(s,r,t):void 0}return uT=n,uT}var gUe=pUe();const Cj=Sr(gUe);var dT,CV;function xUe(){if(CV)return dT;CV=1;var e=yI(),t=Al(),r=yne(),n=ni();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return dT=s,dT}var fT,TV;function vUe(){if(TV)return fT;TV=1;var e=xne(),t=xUe();function r(n,s){return e(t(n,s),1)}return fT=r,fT}var yUe=vUe();const wUe=Sr(yUe);var hT,AV;function bUe(){if(AV)return hT;AV=1;var e=OI();function t(r,n){return e(r,n)}return hT=t,hT}var _Ue=bUe();const Tj=Sr(_Ue);var Ep=1e9,jUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aM,xn=!0,uo="[DecimalError] ",Hd=uo+"Invalid argument: ",sM=uo+"Exponent out of range: ",Cp=Math.floor,Sd=Math.pow,SUe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,As=1e7,dn=7,fse=9007199254740991,N1=Cp(fse/dn),St={};St.absoluteValue=St.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};St.comparedTo=St.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};St.decimalPlaces=St.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*dn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};St.dividedBy=St.div=function(e){return tc(this,new this.constructor(e))};St.dividedToIntegerBy=St.idiv=function(e){var t=this,r=t.constructor;return Xr(tc(t,new r(e),0,1),r.precision)};St.equals=St.eq=function(e){return!this.cmp(e)};St.exponent=function(){return cs(this)};St.greaterThan=St.gt=function(e){return this.cmp(e)>0};St.greaterThanOrEqualTo=St.gte=function(e){return this.cmp(e)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(e){return this.cmp(e)<0};St.lessThanOrEqualTo=St.lte=function(e){return this.cmp(e)<1};St.logarithm=St.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(yi))throw Error(uo+"NaN");if(r.s<1)throw Error(uo+(r.s?"NaN":"-Infinity"));return r.eq(yi)?new n(0):(xn=!1,t=tc(Ex(r,i),Ex(e,i),i),xn=!0,Xr(t,s))};St.minus=St.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pse(t,e):hse(t,(e.s=-e.s,e))};St.modulo=St.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(uo+"NaN");return r.s?(xn=!1,t=tc(r,e,0,1).times(e),xn=!0,r.minus(t)):Xr(new n(r),s)};St.naturalExponential=St.exp=function(){return mse(this)};St.naturalLogarithm=St.ln=function(){return Ex(this)};St.negated=St.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};St.plus=St.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hse(t,e):pse(t,(e.s=-e.s,e))};St.precision=St.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hd+e);if(t=cs(s)+1,n=s.d.length-1,r=n*dn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};St.squareRoot=St.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(uo+"NaN")}for(e=cs(l),xn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=cl(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Cp((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(tc(l,i,o+2)).times(.5),cl(i.d).slice(0,o)===(t=cl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Xr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return xn=!0,Xr(n,r)};St.times=St.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,m=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=g.length,c<u&&(i=m,m=g,g=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+g[n]*m[s-n-1]+t,i[s--]=l%As|0,t=l/As|0;i[s]=(i[s]+t)%As|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,xn?Xr(e,f.precision):e};St.toDecimalPlaces=St.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_l(e,0,Ep),t===void 0?t=n.rounding:_l(t,0,8),Xr(r,e+cs(r)+1,t))};St.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=yf(n,!0):(_l(e,0,Ep),t===void 0?t=s.rounding:_l(t,0,8),n=Xr(new s(n),e+1,t),r=yf(n,!0,e+1)),r};St.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?yf(s):(_l(e,0,Ep),t===void 0?t=i.rounding:_l(t,0,8),n=Xr(new i(s),e+cs(s)+1,t),r=yf(n.abs(),!1,e+cs(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};St.toInteger=St.toint=function(){var e=this,t=e.constructor;return Xr(new t(e),cs(e)+1,t.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(yi);if(l=new c(l),!l.s){if(e.s<1)throw Error(uo+"Infinity");return l}if(l.eq(yi))return l;if(n=c.precision,e.eq(yi))return Xr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=fse){for(s=new c(yi),t=Math.ceil(n/dn+4),xn=!1;r%2&&(s=s.times(l),OV(s.d,t)),r=Cp(r/2),r!==0;)l=l.times(l),OV(l.d,t);return xn=!0,e.s<0?new c(yi).div(s):Xr(s,n)}}else if(i<0)throw Error(uo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,xn=!1,s=e.times(Ex(l,n+u)),xn=!0,s=mse(s),s.s=i,s};St.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=cs(s),n=yf(s,r<=i.toExpNeg||r>=i.toExpPos)):(_l(e,1,Ep),t===void 0?t=i.rounding:_l(t,0,8),s=Xr(new i(s),e,t),r=cs(s),n=yf(s,e<=r||r<=i.toExpNeg,e)),n};St.toSignificantDigits=St.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_l(e,1,Ep),t===void 0?t=n.rounding:_l(t,0,8)),Xr(new n(r),e,t)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cs(e),r=e.constructor;return yf(e,t<=r.toExpNeg||t>=r.toExpPos)};function hse(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),xn?Xr(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/dn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/As|0,c[i]%=As;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,xn?Xr(t,f):t}function _l(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hd+e)}function cl(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=dn-n.length,r&&(i+=nu(r)),i+=n;o=e[t],n=o+"",r=dn-n.length,r&&(i+=nu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var tc=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%As|0,o=i/As|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*As+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,m,g,y,x,v,j,S,w,T,E,N,k,R,A=n.constructor,I=n.s==s.s?1:-1,P=n.d,D=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(uo+"Division by zero");for(c=n.e-s.e,k=D.length,E=P.length,g=new A(I),y=g.d=[],u=0;D[u]==(P[u]||0);)++u;if(D[u]>(P[u]||0)&&--c,i==null?S=i=A.precision:o?S=i+(cs(n)-cs(s))+1:S=i,S<0)return new A(0);if(S=S/dn+2|0,u=0,k==1)for(d=0,D=D[0],S++;(u<E||d)&&S--;u++)w=d*As+(P[u]||0),y[u]=w/D|0,d=w%D|0;else{for(d=As/(D[0]+1)|0,d>1&&(D=e(D,d),P=e(P,d),k=D.length,E=P.length),T=k,x=P.slice(0,k),v=x.length;v<k;)x[v++]=0;R=D.slice(),R.unshift(0),N=D[0],D[1]>=As/2&&++N;do d=0,l=t(D,x,k,v),l<0?(j=x[0],k!=v&&(j=j*As+(x[1]||0)),d=j/N|0,d>1?(d>=As&&(d=As-1),f=e(D,d),m=f.length,v=x.length,l=t(f,x,m,v),l==1&&(d--,r(f,k<m?R:D,m))):(d==0&&(l=d=1),f=D.slice()),m=f.length,m<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(D,x,k,v),l<1&&(d++,r(x,k<v?R:D,v))),v=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[v++]=P[T]||0:(x=[P[T]],v=1);while((T++<E||x[0]!==void 0)&&S--)}return y[0]||y.shift(),g.e=c,Xr(g,o?i+cs(g)+1:i)}})();function mse(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(cs(e)>16)throw Error(sM+cs(e));if(!e.s)return new d(yi);for(xn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Sd(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(yi),d.precision=l;;){if(s=Xr(s.times(e),l),r=r.times(++c),o=i.plus(tc(s,r,l)),cl(o.d).slice(0,l)===cl(i.d).slice(0,l)){for(;u--;)i=Xr(i.times(i),l);return d.precision=f,t==null?(xn=!0,Xr(i,f)):i}i=o}}function cs(e){for(var t=e.e*dn,r=e.d[0];r>=10;r/=10)t++;return t}function mT(e,t,r){if(t>e.LN10.sd())throw xn=!0,r&&(e.precision=r),Error(uo+"LN10 precision limit exceeded");return Xr(new e(e.LN10),t)}function nu(e){for(var t="";e--;)t+="0";return t}function Ex(e,t){var r,n,s,i,o,l,c,u,d,f=1,m=10,g=e,y=g.d,x=g.constructor,v=x.precision;if(g.s<1)throw Error(uo+(g.s?"NaN":"-Infinity"));if(g.eq(yi))return new x(0);if(t==null?(xn=!1,u=v):u=t,g.eq(10))return t==null&&(xn=!0),mT(x,u);if(u+=m,x.precision=u,r=cl(y),n=r.charAt(0),i=cs(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=cl(g.d),n=r.charAt(0),f++;i=cs(g),n>1?(g=new x("0."+r),i++):g=new x(n+"."+r.slice(1))}else return c=mT(x,u+2,v).times(i+""),g=Ex(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=v,t==null?(xn=!0,Xr(g,v)):g;for(l=o=g=tc(g.minus(yi),g.plus(yi),u),d=Xr(g.times(g),u),s=3;;){if(o=Xr(o.times(d),u),c=l.plus(tc(o,new x(s),u)),cl(c.d).slice(0,u)===cl(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(mT(x,u+2,v).times(i+""))),l=tc(l,new x(f),u),x.precision=v,t==null?(xn=!0,Xr(l,v)):l;l=c,s+=2}}function PV(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Cp(r/dn),e.d=[],n=(r+1)%dn,r<0&&(n+=dn),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=dn;n<s;)e.d.push(+t.slice(n,n+=dn));t=t.slice(n),n=dn-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),xn&&(e.e>N1||e.e<-N1))throw Error(sM+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xr(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=dn,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/dn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=dn,s=n-dn+o}if(r!==void 0&&(i=Sd(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Sd(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=cs(e),f.length=1,t=t-i-1,f[0]=Sd(10,(dn-t%dn)%dn),e.e=Cp(-t/dn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Sd(10,dn-n),f[d]=s>0?(u/Sd(10,o-s)%Sd(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==As&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=As)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(xn&&(e.e>N1||e.e<-N1))throw Error(sM+cs(e));return e}function pse(e,t){var r,n,s,i,o,l,c,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),xn?Xr(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(g/dn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=As-1;--c[i],c[s]+=As}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,xn?Xr(t,g):t):new m(0)}function yf(e,t,r){var n,s=cs(e),i=cl(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+nu(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+nu(-s-1)+i,r&&(n=r-o)>0&&(i+=nu(n))):s>=o?(i+=nu(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+nu(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=nu(n))),e.s<0?"-"+i:i}function OV(e,t){if(e.length>t)return e.length=t,!0}function gse(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return PV(o,i.toString())}else if(typeof i!="string")throw Error(Hd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,SUe.test(i))PV(o,i);else throw Error(Hd+i)}if(s.prototype=St,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=gse,s.config=s.set=NUe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function NUe(e){if(!e||typeof e!="object")throw Error(uo+"Object expected");var t,r,n,s=["precision",1,Ep,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Cp(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Hd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hd+r+": "+n);return this}var aM=gse(jUe);yi=new aM(1);const Wr=aM;function kUe(e){return AUe(e)||TUe(e)||CUe(e)||EUe()}function EUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CUe(e,t){if(e){if(typeof e=="string")return cO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(e,t)}}function TUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function AUe(e){if(Array.isArray(e))return cO(e)}function cO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PUe=function(t){return t},xse={},vse=function(t){return t===xse},RV=function(t){return function r(){return arguments.length===0||arguments.length===1&&vse(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},OUe=function e(t,r){return t===1?r:RV(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==xse}).length;return o>=t?r.apply(void 0,s):e(t-o,RV(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return vse(f)?c.shift():f});return r.apply(void 0,kUe(d).concat(c))}))})},Aj=function(t){return OUe(t.length,t)},uO=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},RUe=Aj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),DUe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PUe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},dO=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yse=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function IUe(e){var t;return e===0?t=1:t=Math.floor(new Wr(e).abs().log(10).toNumber())+1,t}function MUe(e,t,r){for(var n=new Wr(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var FUe=Aj(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),LUe=Aj(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),$Ue=Aj(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Pj={rangeStep:MUe,getDigitCount:IUe,interpolateNumber:FUe,uninterpolateNumber:LUe,uninterpolateTruncation:$Ue};function fO(e){return VUe(e)||UUe(e)||wse(e)||BUe()}function BUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VUe(e){if(Array.isArray(e))return hO(e)}function Cx(e,t){return qUe(e)||WUe(e,t)||wse(e,t)||zUe()}function zUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(e,t){if(e){if(typeof e=="string")return hO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hO(e,t)}}function hO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WUe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function qUe(e){if(Array.isArray(e))return e}function bse(e){var t=Cx(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function _se(e,t,r){if(e.lte(0))return new Wr(0);var n=Pj.getDigitCount(e.toNumber()),s=new Wr(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Wr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Wr(Math.ceil(c))}function HUe(e,t,r){var n=1,s=new Wr(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Wr(10).pow(Pj.getDigitCount(e)-1),s=new Wr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Wr(Math.floor(e)))}else e===0?s=new Wr(Math.floor((t-1)/2)):r||(s=new Wr(Math.floor(e)));var o=Math.floor((t-1)/2),l=DUe(RUe(function(c){return s.add(new Wr(c-o).mul(n)).toNumber()}),uO);return l(0,t)}function jse(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Wr(0),tickMin:new Wr(0),tickMax:new Wr(0)};var i=_se(new Wr(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Wr(0):(o=new Wr(e).add(t).div(2),o=o.sub(new Wr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Wr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?jse(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Wr(l).mul(i)),tickMax:o.add(new Wr(c).mul(i))})}function GUe(e){var t=Cx(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=bse([r,n]),c=Cx(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(fO(uO(0,s-1).map(function(){return 1/0}))):[].concat(fO(uO(0,s-1).map(function(){return-1/0})),[d]);return r>n?dO(f):f}if(u===d)return HUe(u,s,i);var m=jse(u,d,o,i),g=m.step,y=m.tickMin,x=m.tickMax,v=Pj.rangeStep(y,x.add(new Wr(.1).mul(g)),g);return r>n?dO(v):v}function KUe(e,t){var r=Cx(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bse([n,s]),l=Cx(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=_se(new Wr(u).sub(c).div(d-1),i,0),m=[].concat(fO(Pj.rangeStep(new Wr(c),new Wr(u).sub(new Wr(.99).mul(f)),f)),[u]);return n>s?dO(m):m}var YUe=yse(GUe),XUe=yse(KUe),ZUe="Invariant failed";function wf(e,t){throw new Error(ZUe)}var QUe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(this,arguments)}function JUe(e,t){return n7e(e)||r7e(e,t)||t7e(e,t)||e7e()}function e7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7e(e,t){if(e){if(typeof e=="string")return DV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DV(e,t)}}function DV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function n7e(e){if(Array.isArray(e))return e}function s7e(e,t){if(e==null)return{};var r=a7e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kse(n.key),n)}}function l7e(e,t,r){return t&&o7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c7e(e,t,r){return t=E1(t),u7e(e,Sse()?Reflect.construct(t,r||[],E1(e).constructor):t.apply(e,r))}function u7e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d7e(e)}function d7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sse=function(){return!!e})()}function E1(e){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(e)}function f7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mO(e,t)}function Nse(e,t,r){return t=kse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kse(e){var t=h7e(e,"string");return Um(t)=="symbol"?t:t+""}function h7e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oj=(function(e){function t(){return i7e(this,t),c7e(this,t,arguments)}return f7e(t,e),l7e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=s7e(n,QUe),g=Yt(m,!1);this.props.direction==="x"&&d.type!=="number"&&wf();var y=c.map(function(x){var v=u(x,l),j=v.x,S=v.y,w=v.value,T=v.errorVal;if(!T)return null;var E=[],N,k;if(Array.isArray(T)){var R=JUe(T,2);N=R[0],k=R[1]}else N=k=T;if(i==="vertical"){var A=d.scale,I=S+s,P=I+o,D=I-o,B=A(w-N),U=A(w+k);E.push({x1:U,y1:P,x2:U,y2:D}),E.push({x1:B,y1:I,x2:U,y2:I}),E.push({x1:B,y1:P,x2:B,y2:D})}else if(i==="horizontal"){var H=f.scale,M=j+s,W=M-o,K=M+o,V=H(w-N),z=H(w+k);E.push({x1:W,y1:z,x2:K,y2:z}),E.push({x1:M,y1:V,x2:M,y2:z}),E.push({x1:W,y1:V,x2:K,y2:V})}return se.createElement(Vr,k1({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},g),E.map(function(G){return se.createElement("line",k1({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return se.createElement(Vr,{className:"recharts-errorBars"},y)}}])})(se.Component);Nse(Oj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Nse(Oj,"displayName","ErrorBar");function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function IV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IV(Object(r),!0).forEach(function(n){m7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7e(e,t,r){return t=p7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7e(e){var t=g7e(e,"string");return Tx(t)=="symbol"?t:t+""}function g7e(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ese=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=hi(r,xu);if(!o)return null;var l=xu.defaultProps,c=l!==void 0?xd(xd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,g=f.props,y=g.sectors||g.data||[];return d.concat(y.map(function(x){return{type:o.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,g=m!==void 0?xd(xd({},m),f.props):{},y=g.dataKey,x=g.name,v=g.legendType,j=g.hide;return{inactive:j,dataKey:y,type:c.iconType||v||"square",color:iM(f),value:x||y,payload:g}}),xd(xd(xd({},c),xu.getWithHeight(o,s)),{},{payload:u,item:o})};function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function MV(e){return w7e(e)||y7e(e)||v7e(e)||x7e()}function x7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7e(e,t){if(e){if(typeof e=="string")return pO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(e,t)}}function y7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w7e(e){if(Array.isArray(e))return pO(e)}function pO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(r),!0).forEach(function(n){mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mm(e,t,r){return t=b7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7e(e){var t=_7e(e,"string");return Ax(t)=="symbol"?t:t+""}function _7e(e,t){if(Ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(e,t,r){return pr(e)||pr(t)?r:ws(t)?ki(e,t,r):Zt(t)?t(e):r}function xg(e,t,r,n){var s=wUe(e,function(l){return xa(l,t)});if(r==="number"){var i=s.filter(function(l){return lt(l)||parseFloat(l)});return i.length?[Cj(i),Ej(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!pr(l)}):s;return o.map(function(l){return ws(l)||l instanceof Date?l:""})}var j7e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,m=u>=l-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(Da(f-d)!==Da(m-f)){var y=[];if(Da(m-f)===Da(c[1]-c[0])){g=m;var x=f+c[1]-c[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{g=d;var v=m+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var j=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>j[0]&&t<=j[1]||t>=y[0]&&t<=y[1]){o=s[u].index;break}}else{var S=Math.min(d,m),w=Math.max(d,m);if(t>(S+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&t<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<l-1&&t>(n[T].coordinate+n[T-1].coordinate)/2&&t<=(n[T].coordinate+n[T+1].coordinate)/2||T===l-1&&t>(n[T].coordinate+n[T-1].coordinate)/2){o=n[T].index;break}return o},iM=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},S7e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,g=f.length;m<g;m++){var y=d[f[m]],x=y.items,v=y.cateAxisId,j=x.filter(function(k){return ec(k.type).indexOf("Bar")>=0});if(j&&j.length){var S=j[0].type.defaultProps,w=S!==void 0?Tn(Tn({},S),j[0].props):j[0].props,T=w.barSize,E=w[v];o[E]||(o[E]=[]);var N=pr(T)?r:T;o[E].push({item:j[0],stackList:j.slice(1),barSize:pr(N)?void 0:Ia(N,n,0)})}}return o},N7e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ia(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,g=s/c,y=o.reduce(function(T,E){return T+E.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&g>0&&(m=!0,g*=.9,y=c*g);var x=(s-y)/2>>0,v={offset:x-u,size:0};d=o.reduce(function(T,E){var N={item:E.item,position:{offset:v.offset+v.size+u,size:m?g:E.barSize}},k=[].concat(MV(T),[N]);return v=k[k.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(R){k.push({item:R,position:v})}),k},f)}else{var j=Ia(n,s,0,!0);s-2*j-(c-1)*u<=0&&(u=0);var S=(s-2*j-(c-1)*u)/c;S>1&&(S>>=0);var w=l===+l?Math.min(S,l):S;d=o.reduce(function(T,E,N){var k=[].concat(MV(T),[{item:E.item,position:{offset:j+(S+u)*N+(S-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(R){k.push({item:R,position:k[k.length-1].position})}),k},f)}return d},k7e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Ese({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,m=d.height,g=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&g!=="center"&&lt(t[g]))return Tn(Tn({},t),{},mm({},g,t[g]+(f||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&y!=="middle"&&lt(t[y]))return Tn(Tn({},t),{},mm({},y,t[y]+(m||0)))}return t},E7e=function(t,r,n){return pr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Cse=function(t,r,n,s,i){var o=r.props.children,l=co(o,Oj).filter(function(u){return E7e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xa(d,n);if(pr(f))return u;var m=Array.isArray(f)?[Cj(f),Ej(f)]:[f,f],g=c.reduce(function(y,x){var v=xa(d,x,0),j=m[0]-Math.abs(Array.isArray(v)?v[0]:v),S=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},C7e=function(t,r,n,s,i){var o=r.map(function(l){return Cse(t,l,n,i,s)}).filter(function(l){return!pr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Tse=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Cse(t,c,u,s)||xg(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Ase=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Pse=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Xl=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Da(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:s(m)+u,value:f,offset:u}});return d.filter(function(f){return!Lv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:s(f)+u,value:f,index:m,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,m){return{coordinate:s(f)+u,value:i?i[f]:f,index:m,offset:u}})},pT=new WeakMap,Iw=function(t,r){if(typeof r!="function")return t;pT.has(t)||pT.set(t,new WeakMap);var n=pT.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},Ose=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:_x(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:b1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gg(),realScaleType:"point"}:i==="category"?{scale:_x(),realScaleType:"band"}:{scale:b1(),realScaleType:"linear"};if(gf(s)){var c="scale".concat(fj(s));return{scale:(_V[c]||gg)(),realScaleType:_V[c]?c:"point"}}return Zt(s)?{scale:s}:{scale:gg(),realScaleType:"point"}},LV=1e-4,Rse=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-LV,o=Math.max(s[0],s[1])+LV,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},T7e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},A7e=function(t,r){if(!r||r.length!==2||!lt(r[0])||!lt(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!lt(t[0])||t[0]<n)&&(i[0]=n),(!lt(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},P7e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Lv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},O7e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Lv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},R7e={sign:P7e,expand:w5e,none:Rm,silhouette:b5e,wiggle:_5e,positive:O7e},D7e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=R7e[n],o=y5e().keys(s).value(function(l,c){return+xa(l,c,0)}).order(qP).offset(i);return o(t)},I7e=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var g,y=(g=m.type)!==null&&g!==void 0&&g.defaultProps?Tn(Tn({},m.type.defaultProps),m.props):m.props,x=y.stackId,v=y.hide;if(v)return f;var j=y[n],S=f[j]||{hasStack:!1,stackGroups:{}};if(ws(x)){var w=S.stackGroups[x]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(m),S.hasStack=!0,S.stackGroups[x]=w}else S.stackGroups[$v("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[m]};return Tn(Tn({},f),{},mm({},j,S))},c),d={};return Object.keys(u).reduce(function(f,m){var g=u[m];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,v){var j=g.stackGroups[v];return Tn(Tn({},x),{},mm({},v,{numericAxisId:n,cateAxisId:s,items:j.items,stackedData:D7e(t,j.items,i)}))},y)}return Tn(Tn({},f),{},mm({},m,g))},d)},Dse=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=YUe(u,i,l);return t.domain([Cj(d),Ej(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),m=XUe(f,i,l);return{niceTicks:m}}return null},$V=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=xa(o,r.dataKey,r.domain[l]);return pr(c)?null:r.scale(c)-i/2+s},M7e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},F7e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(ws(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},L7e=function(t){return t.reduce(function(r,n){return[Cj(n.concat([r[0]]).filter(lt)),Ej(n.concat([r[1]]).filter(lt))]},[1/0,-1/0])},Ise=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=L7e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},BV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gO=function(t,r,n){if(Zt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(lt(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(BV.test(t[0])){var i=+BV.exec(t[0])[1];s[0]=r[0]-i}else Zt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(lt(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(UV.test(t[1])){var o=+UV.exec(t[1])[1];s[1]=r[1]+o}else Zt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},C1=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=DI(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},VV=function(t,r,n){return!t||!t.length||Tj(t,ki(n,"type.defaultProps.domain"))?r:t},Mse=function(t,r){var n=t.type.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Tn(Tn({},Yt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:iM(t),value:xa(r,s),type:c,payload:r,chartType:u,hide:d})};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}function zV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(r),!0).forEach(function(n){Fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fse(e,t,r){return t=$7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7e(e){var t=B7e(e,"string");return Px(t)=="symbol"?t:t+""}function B7e(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U7e(e,t){return q7e(e)||W7e(e,t)||z7e(e,t)||V7e()}function V7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7e(e,t){if(e){if(typeof e=="string")return WV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WV(e,t)}}function WV(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function q7e(e){if(Array.isArray(e))return e}var T1=Math.PI/180,H7e=function(t){return t*180/Math.PI},sn=function(t,r,n,s){return{x:t+Math.cos(-T1*s)*n,y:r+Math.sin(-T1*s)*n}},Lse=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},G7e=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ia(t.cx,o,o/2),f=Ia(t.cy,l,l/2),m=Lse(o,l,n),g=Ia(t.innerRadius,m,0),y=Ia(t.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(v,j){var S=r[j],w=S.domain,T=S.reversed,E;if(pr(S.range))s==="angleAxis"?E=[c,u]:s==="radiusAxis"&&(E=[g,y]),T&&(E=[E[1],E[0]]);else{E=S.range;var N=E,k=U7e(N,2);c=k[0],u=k[1]}var R=Ose(S,i),A=R.realScaleType,I=R.scale;I.domain(w).range(E),Rse(I);var P=Dse(I,zl(zl({},S),{},{realScaleType:A})),D=zl(zl(zl({},S),P),{},{range:E,radius:y,realScaleType:A,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:y,startAngle:c,endAngle:u});return zl(zl({},v),{},Fse({},j,D))},{})},K7e=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Y7e=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=K7e({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:H7e(u),angleInRadian:u}},X7e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},Z7e=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},qV=function(t,r){var n=t.x,s=t.y,i=Y7e({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=X7e(r),f=d.startAngle,m=d.endAngle,g=l,y;if(f<=m){for(;g>m;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=m}else{for(;g>f;)g-=360;for(;g<m;)g+=360;y=g>=m&&g<=f}return y?zl(zl({},r),{},{radius:o,angle:Z7e(g,r)}):null},$se=function(t){return!_.isValidElement(t)&&!Zt(t)&&typeof t!="boolean"?t.className:""};function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}var Q7e=["offset"];function J7e(e){return nVe(e)||rVe(e)||tVe(e)||eVe()}function eVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tVe(e,t){if(e){if(typeof e=="string")return xO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(e,t)}}function rVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nVe(e){if(Array.isArray(e))return xO(e)}function xO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sVe(e,t){if(e==null)return{};var r=aVe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HV(Object(r),!0).forEach(function(n){iVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iVe(e,t,r){return t=oVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oVe(e){var t=lVe(e,"string");return Ox(t)=="symbol"?t:t+""}function lVe(e,t){if(Ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}var cVe=function(t){var r=t.value,n=t.formatter,s=pr(t.children)?r:t.children;return Zt(n)?n(s):s},uVe=function(t,r){var n=Da(r-t),s=Math.min(Math.abs(r-t),360);return n*s},dVe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,g=c.startAngle,y=c.endAngle,x=c.clockWise,v=(f+m)/2,j=uVe(g,y),S=j>=0?1:-1,w,T;s==="insideStart"?(w=g+S*o,T=x):s==="insideEnd"?(w=y-S*o,T=!x):s==="end"&&(w=y+S*o,T=x),T=j<=0?T:!T;var E=sn(u,d,v,w),N=sn(u,d,v,w+(T?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(T?0:1,`,
    `).concat(N.x,",").concat(N.y),R=pr(t.id)?$v("recharts-radial-line-"):t.id;return se.createElement("text",Rx({},n,{dominantBaseline:"central",className:ur("recharts-radial-bar-label",l)}),se.createElement("defs",null,se.createElement("path",{id:R,d:k})),se.createElement("textPath",{xlinkHref:"#".concat(R)},r))},fVe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(s==="outside"){var g=sn(o,l,u+n,m),y=g.x,x=g.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,j=sn(o,l,v,m),S=j.x,w=j.y;return{x:S,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hVe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*s,g=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,v=x*s,j=x>0?"end":"start",S=x>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:g};return ps(ps({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var T={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return ps(ps({},T),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var E={x:l-v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return ps(ps({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:S,verticalAnchor:"middle"};return ps(ps({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?ps({x:l+v,y:c+d/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?ps({x:l+u-v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideTop"?ps({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?ps({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:g},k):i==="insideTopLeft"?ps({x:l+v,y:c+m,textAnchor:S,verticalAnchor:y},k):i==="insideTopRight"?ps({x:l+u-v,y:c+m,textAnchor:j,verticalAnchor:y},k):i==="insideBottomLeft"?ps({x:l+v,y:c+d-m,textAnchor:S,verticalAnchor:g},k):i==="insideBottomRight"?ps({x:l+u-v,y:c+d-m,textAnchor:j,verticalAnchor:g},k):jp(i)&&(lt(i.x)||Dd(i.x))&&(lt(i.y)||Dd(i.y))?ps({x:l+Ia(i.x,u),y:c+Ia(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):ps({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},mVe=function(t){return"cx"in t&&lt(t.cx)};function Os(e){var t=e.offset,r=t===void 0?5:t,n=sVe(e,Q7e),s=ps({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,m=s.textBreakAll;if(!i||pr(l)&&pr(c)&&!_.isValidElement(u)&&!Zt(u))return null;if(_.isValidElement(u))return _.cloneElement(u,s);var g;if(Zt(u)){if(g=_.createElement(u,s),_.isValidElement(g))return g}else g=cVe(s);var y=mVe(i),x=Yt(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dVe(s,g,x);var v=y?fVe(s):hVe(s);return se.createElement(vf,Rx({className:ur("recharts-label",f)},x,v,{breakAll:m}),g)}Os.displayName="Label";var Bse=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,g=t.top,y=t.left,x=t.width,v=t.height,j=t.clockWise,S=t.labelViewBox;if(S)return S;if(lt(x)&&lt(v)){if(lt(f)&&lt(m))return{x:f,y:m,width:x,height:v};if(lt(g)&&lt(y))return{x:g,y,width:x,height:v}}return lt(f)&&lt(m)?{x:f,y:m,width:0,height:0}:lt(r)&&lt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},pVe=function(t,r){return t?t===!0?se.createElement(Os,{key:"label-implicit",viewBox:r}):ws(t)?se.createElement(Os,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===Os?_.cloneElement(t,{key:"label-implicit",viewBox:r}):se.createElement(Os,{key:"label-implicit",content:t,viewBox:r}):Zt(t)?se.createElement(Os,{key:"label-implicit",content:t,viewBox:r}):jp(t)?se.createElement(Os,Rx({viewBox:r},t,{key:"label-implicit"})):null:null},gVe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=Bse(t),o=co(s,Os).map(function(c,u){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=pVe(t.label,r||i);return[l].concat(J7e(o))};Os.parseViewBox=Bse;Os.renderCallByParent=gVe;var gT,GV;function xVe(){if(GV)return gT;GV=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return gT=e,gT}var vVe=xVe();const yVe=Sr(vVe);function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}var wVe=["valueAccessor"],bVe=["data","dataKey","clockWise","id","textBreakAll"];function _Ve(e){return kVe(e)||NVe(e)||SVe(e)||jVe()}function jVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SVe(e,t){if(e){if(typeof e=="string")return vO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vO(e,t)}}function NVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kVe(e){if(Array.isArray(e))return vO(e)}function vO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}function KV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KV(Object(r),!0).forEach(function(n){EVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EVe(e,t,r){return t=CVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CVe(e){var t=TVe(e,"string");return Dx(t)=="symbol"?t:t+""}function TVe(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XV(e,t){if(e==null)return{};var r=AVe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PVe=function(t){return Array.isArray(t.value)?yVe(t.value):t.value};function yu(e){var t=e.valueAccessor,r=t===void 0?PVe:t,n=XV(e,wVe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=XV(n,bVe);return!s||!s.length?null:se.createElement(Vr,{className:"recharts-label-list"},s.map(function(d,f){var m=pr(i)?r(d,f):xa(d&&d.payload,i),g=pr(l)?{}:{id:"".concat(l,"-").concat(f)};return se.createElement(Os,A1({},Yt(d,!0),u,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Os.parseViewBox(pr(o)?d:YV(YV({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}yu.displayName="LabelList";function OVe(e,t){return e?e===!0?se.createElement(yu,{key:"labelList-implicit",data:t}):se.isValidElement(e)||Zt(e)?se.createElement(yu,{key:"labelList-implicit",data:t,content:e}):jp(e)?se.createElement(yu,A1({data:t},e,{key:"labelList-implicit"})):null:null}function RVe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=co(n,yu).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=OVe(e.label,t);return[i].concat(_Ve(s))}yu.renderCallByParent=RVe;function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yO.apply(this,arguments)}function ZV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZV(Object(r),!0).forEach(function(n){DVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DVe(e,t,r){return t=IVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IVe(e){var t=MVe(e,"string");return Ix(t)=="symbol"?t:t+""}function MVe(e,t){if(Ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FVe=function(t,r){var n=Da(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Mw=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/T1,m=u?i:i+o*f,g=sn(r,n,d,m),y=sn(r,n,s,m),x=u?i-o*f:i,v=sn(r,n,d*Math.cos(f*T1),x);return{center:g,circleTangency:y,lineTangency:v,theta:f}},Use=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=FVe(o,l),u=o+c,d=sn(r,n,i,o),f=sn(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var g=sn(r,n,s,o),y=sn(r,n,s,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},LVe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Da(d-u),m=Mw({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=m.circleTangency,y=m.lineTangency,x=m.theta,v=Mw({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=v.circleTangency,S=v.lineTangency,w=v.theta,T=c?Math.abs(u-d):Math.abs(u-d)-x-w;if(T<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Use({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var N=Mw({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,R=N.lineTangency,A=N.theta,I=Mw({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=I.circleTangency,D=I.lineTangency,B=I.theta,U=c?Math.abs(u-d):Math.abs(u-d)-A-B;if(U<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},$Ve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vse=function(t){var r=QV(QV({},$Ve),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<i||d===f)return null;var g=ur("recharts-sector",m),y=o-i,x=Ia(l,y,0,!0),v;return x>0&&Math.abs(d-f)<360?v=LVe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Use({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),se.createElement("path",yO({},Yt(r,!0),{className:g,d:v,role:"img"}))};function Mx(e){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mx(e)}function wO(){return wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wO.apply(this,arguments)}function JV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JV(Object(r),!0).forEach(function(n){BVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BVe(e,t,r){return t=UVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UVe(e){var t=VVe(e,"string");return Mx(t)=="symbol"?t:t+""}function VVe(e,t){if(Mx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tz={curveBasisClosed:l5e,curveBasisOpen:c5e,curveBasis:o5e,curveBumpX:GLe,curveBumpY:KLe,curveLinearClosed:u5e,curveLinear:mj,curveMonotoneX:d5e,curveMonotoneY:f5e,curveNatural:h5e,curveStep:m5e,curveStepAfter:g5e,curveStepBefore:p5e},Fw=function(t){return t.x===+t.x&&t.y===+t.y},C0=function(t){return t.x},T0=function(t){return t.y},zVe=function(t,r){if(Zt(t))return t;var n="curve".concat(fj(t));return(n==="curveMonotone"||n==="curveBump")&&r?tz["".concat(n).concat(r==="vertical"?"Y":"X")]:tz[n]||mj},WVe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=zVe(n,l),f=u?i.filter(function(x){return Fw(x)}):i,m;if(Array.isArray(o)){var g=u?o.filter(function(x){return Fw(x)}):o,y=f.map(function(x,v){return ez(ez({},x),{},{base:g[v]})});return l==="vertical"?m=Cw().y(T0).x1(C0).x0(function(x){return x.base.x}):m=Cw().x(C0).y1(T0).y0(function(x){return x.base.y}),m.defined(Fw).curve(d),m(y)}return l==="vertical"&&lt(o)?m=Cw().y(T0).x1(C0).x0(o):lt(o)?m=Cw().x(C0).y1(T0).y0(o):m=Bre().x(C0).y(T0),m.defined(Fw).curve(d),m(f)},bO=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?WVe(t):s;return _.createElement("path",wO({},Yt(t,!1),s1(t),{className:ur("recharts-curve",r),d:o,ref:i}))},xT={exports:{}},vT,rz;function qVe(){if(rz)return vT;rz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vT=e,vT}var yT,nz;function HVe(){if(nz)return yT;nz=1;var e=qVe();function t(){}function r(){}return r.resetWarningCache=t,yT=function(){function n(o,l,c,u,d,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},yT}var sz;function GVe(){return sz||(sz=1,xT.exports=HVe()()),xT.exports}var KVe=GVe();const Ir=Sr(KVe);var YVe=Object.getOwnPropertyNames,XVe=Object.getOwnPropertySymbols,ZVe=Object.prototype.hasOwnProperty;function az(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Lw(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function iz(e){return YVe(e).concat(XVe(e))}var QVe=Object.hasOwn||(function(e,t){return ZVe.call(e,t)});function Bf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var JVe="__v",eze="__o",tze="_owner",oz=Object.getOwnPropertyDescriptor,lz=Object.keys;function rze(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function nze(e,t){return Bf(e.getTime(),t.getTime())}function sze(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function aze(e,t){return e===t}function cz(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var m=o.value,g=l.value;if(r.equals(m[0],g[0],c,f,e,t,r)&&r.equals(m[1],g[1],m[0],g[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ize=Bf;function oze(e,t,r){var n=lz(e),s=n.length;if(lz(t).length!==s)return!1;for(;s-- >0;)if(!zse(e,t,r,n[s]))return!1;return!0}function A0(e,t,r){var n=iz(e),s=n.length;if(iz(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!zse(e,t,r,i)||(o=oz(e,i),l=oz(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function lze(e,t){return Bf(e.valueOf(),t.valueOf())}function cze(e,t){return e.source===t.source&&e.flags===t.flags}function uz(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function uze(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dze(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function zse(e,t,r,n){return(n===tze||n===eze||n===JVe)&&(e.$$typeof||t.$$typeof)?!0:QVe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var fze="[object Arguments]",hze="[object Boolean]",mze="[object Date]",pze="[object Error]",gze="[object Map]",xze="[object Number]",vze="[object Object]",yze="[object RegExp]",wze="[object Set]",bze="[object String]",_ze="[object URL]",jze=Array.isArray,dz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fz=Object.assign,Sze=Object.prototype.toString.call.bind(Object.prototype.toString);function Nze(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(y,x,v){if(y===x)return!0;if(y==null||x==null)return!1;var j=typeof y;if(j!==typeof x)return!1;if(j!=="object")return j==="number"?o(y,x,v):j==="function"?s(y,x,v):!1;var S=y.constructor;if(S!==x.constructor)return!1;if(S===Object)return l(y,x,v);if(jze(y))return t(y,x,v);if(dz!=null&&dz(y))return f(y,x,v);if(S===Date)return r(y,x,v);if(S===RegExp)return u(y,x,v);if(S===Map)return i(y,x,v);if(S===Set)return d(y,x,v);var w=Sze(y);return w===mze?r(y,x,v):w===yze?u(y,x,v):w===gze?i(y,x,v):w===wze?d(y,x,v):w===vze?typeof y.then!="function"&&typeof x.then!="function"&&l(y,x,v):w===_ze?m(y,x,v):w===pze?n(y,x,v):w===fze?l(y,x,v):w===hze||w===xze||w===bze?c(y,x,v):!1}}function kze(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?A0:rze,areDatesEqual:nze,areErrorsEqual:sze,areFunctionsEqual:aze,areMapsEqual:n?az(cz,A0):cz,areNumbersEqual:ize,areObjectsEqual:n?A0:oze,arePrimitiveWrappersEqual:lze,areRegExpsEqual:cze,areSetsEqual:n?az(uz,A0):uz,areTypedArraysEqual:n?A0:uze,areUrlsEqual:dze};if(r&&(s=fz({},s,r(s))),t){var i=Lw(s.areArraysEqual),o=Lw(s.areMapsEqual),l=Lw(s.areObjectsEqual),c=Lw(s.areSetsEqual);s=fz({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function Eze(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function Cze(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return r(c,u,{cache:m,equals:s,meta:g,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Tze=Qu();Qu({strict:!0});Qu({circular:!0});Qu({circular:!0,strict:!0});Qu({createInternalComparator:function(){return Bf}});Qu({strict:!0,createInternalComparator:function(){return Bf}});Qu({circular:!0,createInternalComparator:function(){return Bf}});Qu({circular:!0,createInternalComparator:function(){return Bf},strict:!0});function Qu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=kze(e),c=Nze(l),u=n?n(c):Eze(c);return Cze({circular:r,comparator:c,createState:s,equals:u,strict:o})}function Aze(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function hz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Aze(s)};requestAnimationFrame(n)}function _O(e){"@babel/helpers - typeof";return _O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_O(e)}function Pze(e){return Ize(e)||Dze(e)||Rze(e)||Oze()}function Oze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rze(e,t){if(e){if(typeof e=="string")return mz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mz(e,t)}}function mz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ize(e){if(Array.isArray(e))return e}function Mze(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Pze(o),c=l[0],u=l.slice(1);if(typeof c=="number"){hz(s.bind(null,u),c);return}s(c),hz(s.bind(null,u));return}_O(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Fx(e){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fx(e)}function pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(r),!0).forEach(function(n){Wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wse(e,t,r){return t=Fze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fze(e){var t=Lze(e,"string");return Fx(t)==="symbol"?t:String(t)}function Lze(e,t){if(Fx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ze=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Bze=function(t){return t},Uze=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vg=function(t,r){return Object.keys(r).reduce(function(n,s){return gz(gz({},n),{},Wse({},s,t(s,r[s])))},{})},xz=function(t,r,n){return t.map(function(s){return"".concat(Uze(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Vze(e,t){return qze(e)||Wze(e,t)||qse(e,t)||zze()}function zze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qze(e){if(Array.isArray(e))return e}function Hze(e){return Yze(e)||Kze(e)||qse(e)||Gze()}function Gze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(e,t){if(e){if(typeof e=="string")return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(e,t)}}function Kze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yze(e){if(Array.isArray(e))return jO(e)}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P1=1e-4,Hse=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Gse=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},vz=function(t,r){return function(n){var s=Hse(t,r);return Gse(s,n)}},Xze=function(t,r){return function(n){var s=Hse(t,r),i=[].concat(Hze(s.map(function(o,l){return o*l}).slice(1)),[0]);return Gse(i,n)}},yz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Vze(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=vz(s,o),m=vz(i,l),g=Xze(s,o),y=function(j){return j>1?1:j<0?0:j},x=function(j){for(var S=j>1?1:j,w=S,T=0;T<8;++T){var E=f(w)-S,N=g(w);if(Math.abs(E-S)<P1||N<P1)return m(w);w=y(w-E/N)}return m(w)};return x.isStepper=!1,x},Zze=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var g=-(d-f)*n,y=m*i,x=m+(g-y)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<P1&&Math.abs(x)<P1?[f,0]:[v,x]};return c.isStepper=!0,c.dt=l,c},Qze=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yz(s);case"spring":return Zze();default:if(s.split("(")[0]==="cubic-bezier")return yz(s)}return typeof s=="function"?s:null};function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function wz(e){return tWe(e)||eWe(e)||Kse(e)||Jze()}function Jze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tWe(e){if(Array.isArray(e))return NO(e)}function bz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bz(Object(r),!0).forEach(function(n){SO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SO(e,t,r){return t=rWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rWe(e){var t=nWe(e,"string");return Lx(t)==="symbol"?t:String(t)}function nWe(e,t){if(Lx(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sWe(e,t){return oWe(e)||iWe(e,t)||Kse(e,t)||aWe()}function aWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kse(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oWe(e){if(Array.isArray(e))return e}var O1=function(t,r,n){return t+(r-t)*n},kO=function(t){var r=t.from,n=t.to;return r!==n},lWe=function e(t,r,n){var s=vg(function(i,o){if(kO(o)){var l=t(o.from,o.to,o.velocity),c=sWe(l,2),u=c[0],d=c[1];return Hs(Hs({},o),{},{from:u,velocity:d})}return o},r);return n<1?vg(function(i,o){return kO(o)?Hs(Hs({},o),{},{velocity:O1(o.velocity,s[i].velocity,n),from:O1(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const cWe=(function(e,t,r,n,s){var i=$ze(e,t),o=i.reduce(function(v,j){return Hs(Hs({},v),{},SO({},j,[e[j],t[j]]))},{}),l=i.reduce(function(v,j){return Hs(Hs({},v),{},SO({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return vg(function(j,S){return S.from},l)},g=function(){return!Object.values(l).filter(kO).length},y=function(j){u||(u=j);var S=j-u,w=S/r.dt;l=lWe(r,l,w),s(Hs(Hs(Hs({},e),t),m())),u=j,g()||(c=requestAnimationFrame(f))},x=function(j){d||(d=j);var S=(j-d)/n,w=vg(function(E,N){return O1.apply(void 0,wz(N).concat([r(S)]))},o);if(s(Hs(Hs(Hs({},e),t),w)),S<1)c=requestAnimationFrame(f);else{var T=vg(function(E,N){return O1.apply(void 0,wz(N).concat([r(1)]))},o);s(Hs(Hs(Hs({},e),t),T))}};return f=r.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var uWe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dWe(e,t){if(e==null)return{};var r=fWe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fWe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function wT(e){return gWe(e)||pWe(e)||mWe(e)||hWe()}function hWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mWe(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function pWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gWe(e){if(Array.isArray(e))return EO(e)}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_z(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G0(e,t,r){return t=Yse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vWe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yse(n.key),n)}}function yWe(e,t,r){return t&&vWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yse(e){var t=wWe(e,"string");return Vm(t)==="symbol"?t:String(t)}function wWe(e,t){if(Vm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CO(e,t)}function _We(e){var t=jWe();return function(){var n=R1(e),s;if(t){var i=R1(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return TO(this,s)}}function TO(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AO(e)}function AO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R1(e){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(e)}var pc=(function(e){bWe(r,e);var t=_We(r);function r(n,s){var i;xWe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(AO(i)),i.changeStyle=i.changeStyle.bind(AO(i)),!l||g<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),TO(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},TO(i);i.state={style:c?G0({},c,u):u}}else i.state={style:{}};return i}return yWe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var g={style:c?G0({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(g);return}if(!(Tze(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:s.to;if(this.state&&m){var v={style:c?G0({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(v)}this.runAnimation(Eo(Eo({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,m=s.onAnimationStart,g=cWe(o,l,Qze(u),c,this.changeStyle),y=function(){i.stopJSAnimation=g()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,g=function(x,v,j){if(j===0)return x;var S=v.duration,w=v.easing,T=w===void 0?"ease":w,E=v.style,N=v.properties,k=v.onAnimationEnd,R=j>0?o[j-1]:v,A=N||Object.keys(E);if(typeof T=="function"||T==="spring")return[].concat(wT(x),[i.runJSAnimation.bind(i,{from:R.style,to:E,duration:S,easing:T}),S]);var I=xz(A,S,T),P=Eo(Eo(Eo({},R.style),E),{},{transition:I});return[].concat(wT(x),[P,S,k]).filter(Bze)};return this.manager.start([c].concat(wT(o.reduce(g,[d,Math.max(m,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Mze());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,m=s.steps,g=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var x=l?G0({},l,c):c,v=xz(Object.keys(x),o,u);y.start([d,i,Eo(Eo({},x),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=dWe(s,uWe),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(g){var y=g.props,x=y.style,v=x===void 0?{}:x,j=y.className,S=_.cloneElement(g,Eo(Eo({},c),{},{style:Eo(Eo({},v),d),className:j}));return S};return u===1?f(_.Children.only(i)):se.createElement("div",null,_.Children.map(i,function(m){return f(m)}))}}]),r})(_.PureComponent);pc.displayName="Animate";pc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pc.propTypes={from:Ir.oneOfType([Ir.object,Ir.string]),to:Ir.oneOfType([Ir.object,Ir.string]),attributeName:Ir.string,duration:Ir.number,begin:Ir.number,easing:Ir.oneOfType([Ir.string,Ir.func]),steps:Ir.arrayOf(Ir.shape({duration:Ir.number.isRequired,style:Ir.object.isRequired,easing:Ir.oneOfType([Ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ir.func]),properties:Ir.arrayOf("string"),onAnimationEnd:Ir.func})),children:Ir.oneOfType([Ir.node,Ir.func]),isActive:Ir.bool,canBegin:Ir.bool,onAnimationEnd:Ir.func,shouldReAnimate:Ir.bool,onAnimationStart:Ir.func,onAnimationReStart:Ir.func};function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(this,arguments)}function SWe(e,t){return CWe(e)||EWe(e,t)||kWe(e,t)||NWe()}function NWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kWe(e,t){if(e){if(typeof e=="string")return jz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jz(e,t)}}function jz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function CWe(e){if(Array.isArray(e))return e}function Sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sz(Object(r),!0).forEach(function(n){TWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TWe(e,t,r){return t=AWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AWe(e){var t=PWe(e,"string");return $x(t)=="symbol"?t:t+""}function PWe(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kz=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,g=4;m<g;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+s,`
            L `).concat(t+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},OWe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=m}return!1},RWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oM=function(t){var r=Nz(Nz({},RWe),t),n=_.useRef(),s=_.useState(-1),i=SWe(s,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,g=r.className,y=r.animationEasing,x=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ur("recharts-rectangle",g);return S?se.createElement(pc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:y,isActive:S},function(T){var E=T.width,N=T.height,k=T.x,R=T.y;return se.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:j,easing:y},se.createElement("path",D1({},Yt(r,!0),{className:w,d:kz(k,R,E,N,m),ref:n})))}):se.createElement("path",D1({},Yt(r,!0),{className:w,d:kz(c,u,d,f,m)}))},DWe=["points","className","baseLinePoints","connectNulls"];function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(this,arguments)}function IWe(e,t){if(e==null)return{};var r=MWe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ez(e){return BWe(e)||$We(e)||LWe(e)||FWe()}function FWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LWe(e,t){if(e){if(typeof e=="string")return PO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(e,t)}}function $We(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BWe(e){if(Array.isArray(e))return PO(e)}function PO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cz=function(t){return t&&t.x===+t.x&&t.y===+t.y},UWe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Cz(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Cz(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},yg=function(t,r){var n=UWe(t);r&&(n=[n.reduce(function(i,o){return[].concat(Ez(i),Ez(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},VWe=function(t,r,n){var s=yg(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(yg(r.reverse(),n).slice(1))},zWe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=IWe(t,DWe);if(!r||!r.length)return null;var l=ur("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=VWe(r,s,i);return se.createElement("g",{className:l},se.createElement("path",Yh({},Yt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?se.createElement("path",Yh({},Yt(o,!0),{fill:"none",d:yg(r,i)})):null,c?se.createElement("path",Yh({},Yt(o,!0),{fill:"none",d:yg(s,i)})):null)}var d=yg(r,i);return se.createElement("path",Yh({},Yt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OO.apply(this,arguments)}var lM=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ur("recharts-dot",i);return r===+r&&n===+n&&s===+s?_.createElement("circle",OO({},Yt(t,!1),s1(t),{className:o,cx:r,cy:n,r:s})):null};function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}var WWe=["x","y","top","left","width","height","className"];function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RO.apply(this,arguments)}function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qWe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(n){HWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HWe(e,t,r){return t=GWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GWe(e){var t=KWe(e,"string");return Bx(t)=="symbol"?t:t+""}function KWe(e,t){if(Bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YWe(e,t){if(e==null)return{};var r=XWe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ZWe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},QWe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,g=m===void 0?0:m,y=t.className,x=YWe(t,WWe),v=qWe({x:n,y:i,top:l,left:u,width:f,height:g},x);return!lt(n)||!lt(i)||!lt(f)||!lt(g)||!lt(l)||!lt(u)?null:se.createElement("path",RO({},Yt(v,!0),{className:ur("recharts-cross",y),d:ZWe(n,i,f,g,l,u)}))},bT,Az;function JWe(){if(Az)return bT;Az=1;var e=kj(),t=use(),r=Al();function n(s,i){return s&&s.length?e(s,r(i,2),t):void 0}return bT=n,bT}var eqe=JWe();const tqe=Sr(eqe);var _T,Pz;function rqe(){if(Pz)return _T;Pz=1;var e=kj(),t=Al(),r=dse();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return _T=n,_T}var nqe=rqe();const sqe=Sr(nqe);var aqe=["cx","cy","angle","ticks","axisLine"],iqe=["ticks","tick","angle","tickFormatter","stroke"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oz(Object(r),!0).forEach(function(n){Rj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rz(e,t){if(e==null)return{};var r=oqe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zse(n.key),n)}}function cqe(e,t,r){return t&&Dz(e.prototype,t),r&&Dz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uqe(e,t,r){return t=I1(t),dqe(e,Xse()?Reflect.construct(t,r||[],I1(e).constructor):t.apply(e,r))}function dqe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fqe(e)}function fqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xse=function(){return!!e})()}function I1(e){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(e)}function hqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DO(e,t)}function DO(e,t){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},DO(e,t)}function Rj(e,t,r){return t=Zse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zse(e){var t=mqe(e,"string");return zm(t)=="symbol"?t:t+""}function mqe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dj=(function(e){function t(){return lqe(this,t),uqe(this,t,arguments)}return hqe(t,e),cqe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return sn(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=tqe(l,function(d){return d.coordinate||0}),u=sqe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Rz(n,aqe),d=l.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),f=sn(s,i,d[0],o),m=sn(s,i,d[1],o),g=vd(vd(vd({},Yt(u,!1)),{},{fill:"none"},Yt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return se.createElement("line",wg({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=Rz(s,iqe),f=this.getTickTextAnchor(),m=Yt(d,!1),g=Yt(o,!1),y=i.map(function(x,v){var j=n.getTickValueCoord(x),S=vd(vd(vd(vd({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:u},g),{},{index:v},j),{},{payload:x});return se.createElement(Vr,wg({className:ur("recharts-polar-radius-axis-tick",$se(o)),key:"tick-".concat(x.coordinate)},xf(n.props,x,v)),t.renderTickItem(o,S,c?c(x.value,v):x.value))});return se.createElement(Vr,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:se.createElement(Vr,{className:ur("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Os.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return se.isValidElement(n)?o=se.cloneElement(n,s):Zt(n)?o=n(s):o=se.createElement(vf,wg({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(_.PureComponent);Rj(Dj,"displayName","PolarRadiusAxis");Rj(Dj,"axisType","radiusAxis");Rj(Dj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function Iz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iz(Object(r),!0).forEach(function(n){Ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jse(n.key),n)}}function gqe(e,t,r){return t&&Mz(e.prototype,t),r&&Mz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xqe(e,t,r){return t=M1(t),vqe(e,Qse()?Reflect.construct(t,r||[],M1(e).constructor):t.apply(e,r))}function vqe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yqe(e)}function yqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qse=function(){return!!e})()}function M1(e){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(e)}function wqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IO(e,t)}function IO(e,t){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IO(e,t)}function Ij(e,t,r){return t=Jse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jse(e){var t=bqe(e,"string");return Wm(t)=="symbol"?t:t+""}function bqe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _qe=Math.PI/180,Fz=1e-5,Mj=(function(e){function t(){return pqe(this,t),xqe(this,t,arguments)}return wqe(t,e),gqe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=sn(i,o,l,n.coordinate),m=sn(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*_qe),o;return i>Fz?o=s==="outer"?"start":"end":i<-Fz?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=yd(yd({},Yt(this.props,!1)),{},{fill:"none"},Yt(l,!1));if(c==="circle")return se.createElement(lM,Cd({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return sn(s,i,o,m.coordinate)});return se.createElement(zWe,Cd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Yt(this.props,!1),f=Yt(o,!1),m=yd(yd({},d),{},{fill:"none"},Yt(l,!1)),g=i.map(function(y,x){var v=n.getTickLineCoord(y),j=n.getTickTextAnchor(y),S=yd(yd(yd({textAnchor:j},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:y,x:v.x2,y:v.y2});return se.createElement(Vr,Cd({className:ur("recharts-polar-angle-axis-tick",$se(o)),key:"tick-".concat(y.coordinate)},xf(n.props,y,x)),l&&se.createElement("line",Cd({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,S,c?c(y.value,x):y.value))});return se.createElement(Vr,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:se.createElement(Vr,{className:ur("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return se.isValidElement(n)?o=se.cloneElement(n,s):Zt(n)?o=n(s):o=se.createElement(vf,Cd({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(_.PureComponent);Ij(Mj,"displayName","PolarAngleAxis");Ij(Mj,"axisType","angleAxis");Ij(Mj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jT,Lz;function jqe(){if(Lz)return jT;Lz=1;var e=cne(),t=e(Object.getPrototypeOf,Object);return jT=t,jT}var ST,$z;function Sqe(){if($z)return ST;$z=1;var e=_c(),t=jqe(),r=jc(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return ST=u,ST}var Nqe=Sqe();const kqe=Sr(Nqe);var NT,Bz;function Eqe(){if(Bz)return NT;Bz=1;var e=_c(),t=jc(),r="[object Boolean]";function n(s){return s===!0||s===!1||t(s)&&e(s)==r}return NT=n,NT}var Cqe=Eqe();const Tqe=Sr(Cqe);function Ux(e){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ux(e)}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}function Aqe(e,t){return Dqe(e)||Rqe(e,t)||Oqe(e,t)||Pqe()}function Pqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oqe(e,t){if(e){if(typeof e=="string")return Uz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uz(e,t)}}function Uz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rqe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Dqe(e){if(Array.isArray(e))return e}function Vz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vz(Object(r),!0).forEach(function(n){Iqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iqe(e,t,r){return t=Mqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mqe(e){var t=Fqe(e,"string");return Ux(t)=="symbol"?t:t+""}function Fqe(e,t){if(Ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wz=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Lqe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$qe=function(t){var r=zz(zz({},Lqe),t),n=_.useRef(),s=_.useState(-1),i=Aqe(s,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,g=r.className,y=r.animationEasing,x=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var S=ur("recharts-trapezoid",g);return j?se.createElement(pc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:x,animationEasing:y,isActive:j},function(w){var T=w.upperWidth,E=w.lowerWidth,N=w.height,k=w.x,R=w.y;return se.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:y},se.createElement("path",F1({},Yt(r,!0),{className:S,d:Wz(k,R,T,E,N),ref:n})))}):se.createElement("g",null,se.createElement("path",F1({},Yt(r,!0),{className:S,d:Wz(c,u,d,f,m)})))},Bqe=["option","shapeType","propTransformer","activeClassName","isActive"];function Vx(e){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vx(e)}function Uqe(e,t){if(e==null)return{};var r=Vqe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qz(Object(r),!0).forEach(function(n){zqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zqe(e,t,r){return t=Wqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wqe(e){var t=qqe(e,"string");return Vx(t)=="symbol"?t:t+""}function qqe(e,t){if(Vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hqe(e,t){return L1(L1({},t),e)}function Gqe(e,t){return e==="symbols"}function Hz(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return se.createElement(oM,r);case"trapezoid":return se.createElement($qe,r);case"sector":return se.createElement(Vse,r);case"symbols":if(Gqe(t))return se.createElement(kI,r);break;default:return null}}function Kqe(e){return _.isValidElement(e)?e.props:e}function eae(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Hqe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Uqe(e,Bqe),u;if(_.isValidElement(t))u=_.cloneElement(t,L1(L1({},c),Kqe(t)));else if(Zt(t))u=t(c);else if(kqe(t)&&!Tqe(t)){var d=s(t,c);u=se.createElement(Hz,{shapeType:r,elementProps:d})}else{var f=c;u=se.createElement(Hz,{shapeType:r,elementProps:f})}return l?se.createElement(Vr,{className:o},u):u}function Fj(e,t){return t!=null&&"trapezoids"in e.props}function Lj(e,t){return t!=null&&"sectors"in e.props}function zx(e,t){return t!=null&&"points"in e.props}function Yqe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Xqe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Zqe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function Qqe(e,t){var r;return Fj(e,t)?r=Yqe:Lj(e,t)?r=Xqe:zx(e,t)&&(r=Zqe),r}function Jqe(e,t){var r;return Fj(e,t)?r="trapezoids":Lj(e,t)?r="sectors":zx(e,t)&&(r="points"),r}function eHe(e,t){if(Fj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Lj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return zx(e,t)?t.payload:{}}function tHe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Jqe(r,t),i=eHe(r,t),o=n.filter(function(c,u){var d=Tj(i,c),f=r.props[s].filter(function(y){var x=Qqe(r,t);return x(y,t)}),m=r.props[s].indexOf(f[f.length-1]),g=u===m;return d&&g}),l=n.indexOf(o[o.length-1]);return l}var rb;function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function Gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gz(Object(r),!0).forEach(function(n){eo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rae(n.key),n)}}function nHe(e,t,r){return t&&Kz(e.prototype,t),r&&Kz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sHe(e,t,r){return t=$1(t),aHe(e,tae()?Reflect.construct(t,r||[],$1(e).constructor):t.apply(e,r))}function aHe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iHe(e)}function iHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tae=function(){return!!e})()}function $1(e){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$1(e)}function oHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MO(e,t)}function MO(e,t){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},MO(e,t)}function eo(e,t,r){return t=rae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rae(e){var t=lHe(e,"string");return qm(t)=="symbol"?t:t+""}function lHe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nc=(function(e){function t(r){var n;return rHe(this,t),n=sHe(this,t,[r]),eo(n,"pieRef",null),eo(n,"sectorRefs",[]),eo(n,"id",$v("recharts-pie-")),eo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Zt(s)&&s()}),eo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Zt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return oHe(t,e),nHe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Yt(this.props,!1),f=Yt(o,!1),m=Yt(l,!1),g=o&&o.offsetRadius||20,y=n.map(function(x,v){var j=(x.startAngle+x.endAngle)/2,S=sn(x.cx,x.cy,x.outerRadius+g,j),w=tn(tn(tn(tn({},d),x),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(S.x,x.cx)},S),T=tn(tn(tn(tn({},d),x),{},{fill:"none",stroke:x.fill},m),{},{index:v,points:[sn(x.cx,x.cy,x.outerRadius,j),S]}),E=c;return pr(c)&&pr(u)?E="value":pr(c)&&(E=u),se.createElement(Vr,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,T,"line"),t.renderLabelItem(o,w,xa(x,E)))});return se.createElement(Vr,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=s.isActiveIndex(d),m=c&&s.hasActiveIndex()?c:null,g=f?o:m,y=tn(tn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return se.createElement(Vr,Xh({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},xf(s.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),se.createElement(eae,Xh({option:g,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,m=f.prevSectors,g=f.prevIsAnimationActive;return se.createElement(pc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,v=[],j=i&&i[0],S=j.startAngle;return i.forEach(function(w,T){var E=m&&m[T],N=T>0?ki(w,"paddingAngle",0):0;if(E){var k=ru(E.endAngle-E.startAngle,w.endAngle-w.startAngle),R=tn(tn({},w),{},{startAngle:S+N,endAngle:S+k(x)+N});v.push(R),S=R.endAngle}else{var A=w.endAngle,I=w.startAngle,P=ru(0,A-I),D=P(x),B=tn(tn({},w),{},{startAngle:S+N,endAngle:S+D+N});v.push(B),S=B.endAngle}}),se.createElement(Vr,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Tj(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,m=s.outerRadius,g=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!lt(u)||!lt(d)||!lt(f)||!lt(m))return null;var x=ur("recharts-pie",l);return se.createElement(Vr,{tabIndex:this.props.rootTabIndex,className:x,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Os.renderCallByParent(this.props,null,!1),(!g||y)&&yu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(se.isValidElement(n))return se.cloneElement(n,s);if(Zt(n))return n(s);var o=ur("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return se.createElement(bO,Xh({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(se.isValidElement(n))return se.cloneElement(n,s);var o=i;if(Zt(n)&&(o=n(s),se.isValidElement(o)))return o;var l=ur("recharts-pie-label-text",typeof n!="boolean"&&!Zt(n)?n.className:"");return se.createElement(vf,Xh({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(_.PureComponent);rb=Nc;eo(Nc,"displayName","Pie");eo(Nc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Np.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});eo(Nc,"parseDeltaAngle",function(e,t){var r=Da(t-e),n=Math.min(Math.abs(t-e),360);return r*n});eo(Nc,"getRealPieData",function(e){var t=e.data,r=e.children,n=Yt(e,!1),s=co(r,yj);return t&&t.length?t.map(function(i,o){return tn(tn(tn({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return tn(tn({},n),i.props)}):[]});eo(Nc,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=Lse(s,i),l=n+Ia(e.cx,s,s/2),c=r+Ia(e.cy,i,i/2),u=Ia(e.innerRadius,o,0),d=Ia(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});eo(Nc,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?tn(tn({},t.type.defaultProps),t.props):t.props,s=rb.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,g=Math.abs(n.minAngle),y=rb.parseCoordinateOfPie(n,r),x=rb.parseDeltaAngle(o,l),v=Math.abs(x),j=u;pr(u)&&pr(f)?(Vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):pr(u)&&(Vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var S=s.filter(function(R){return xa(R,j,0)!==0}).length,w=(v>=360?S:S-1)*c,T=v-S*g-w,E=s.reduce(function(R,A){var I=xa(A,j,0);return R+(lt(I)?I:0)},0),N;if(E>0){var k;N=s.map(function(R,A){var I=xa(R,j,0),P=xa(R,d,A),D=(lt(I)?I:0)/E,B;A?B=k.endAngle+Da(x)*c*(I!==0?1:0):B=o;var U=B+Da(x)*((I!==0?g:0)+D*T),H=(B+U)/2,M=(y.innerRadius+y.outerRadius)/2,W=[{name:P,value:I,payload:R,dataKey:j,type:m}],K=sn(y.cx,y.cy,M,H);return k=tn(tn(tn({percent:D,cornerRadius:i,name:P,tooltipPayload:W,midAngle:H,middleRadius:M,tooltipPosition:K},R),y),{},{value:xa(R,j),startAngle:B,endAngle:U,payload:R,paddingAngle:Da(x)*c}),k})}return tn(tn({},y),{},{sectors:N,data:s})});var kT,Yz;function cHe(){if(Yz)return kT;Yz=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,c=t(e((s-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return kT=r,kT}var ET,Xz;function nae(){if(Xz)return ET;Xz=1;var e=Nne(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*r}return s===s?s:0}return ET=n,ET}var CT,Zz;function uHe(){if(Zz)return CT;Zz=1;var e=cHe(),t=vj(),r=nae();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return CT=n,CT}var TT,Qz;function dHe(){if(Qz)return TT;Qz=1;var e=uHe(),t=e();return TT=t,TT}var fHe=dHe();const B1=Sr(fHe);function Wx(e){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wx(e)}function Jz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jz(Object(r),!0).forEach(function(n){sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sae(e,t,r){return t=hHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hHe(e){var t=mHe(e,"string");return Wx(t)=="symbol"?t:t+""}function mHe(e,t){if(Wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pHe=["Webkit","Moz","O","ms"],gHe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=pHe.reduce(function(i,o){return eW(eW({},i),{},sae({},o+n,r))},{});return s[t]=r,s};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}function tW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tW(Object(r),!0).forEach(function(n){fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iae(n.key),n)}}function vHe(e,t,r){return t&&rW(e.prototype,t),r&&rW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yHe(e,t,r){return t=V1(t),wHe(e,aae()?Reflect.construct(t,r||[],V1(e).constructor):t.apply(e,r))}function wHe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bHe(e)}function bHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aae=function(){return!!e})()}function V1(e){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V1(e)}function _He(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FO(e,t)}function FO(e,t){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FO(e,t)}function fi(e,t,r){return t=iae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=jHe(e,"string");return Hm(t)=="symbol"?t:t+""}function jHe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SHe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gg().domain(B1(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},nW=function(t){return t.changedTouches&&!!t.changedTouches.length},Gm=(function(e){function t(r){var n;return xHe(this,t),n=yHe(this,t,[r]),fi(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),fi(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),fi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),fi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fi(n,"handleSlideDragStart",function(s){var i=nW(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _He(t,e),vHe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),m=Math.max(s,i),g=t.getIndexInRange(o,f),y=t.getIndexInRange(o,m);return{startIndex:g-g%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=xa(i[n],l,n);return Zt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,g=c.endIndex,y=c.onChange,x=n.pageX-i;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var v=this.getIndex({startX:o+x,endX:l+x});(v.startIndex!==m||v.endIndex!==g)&&y&&y(v),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=nW(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,g=d.travellerWidth,y=d.onChange,x=d.gap,v=d.data,j={startX:this.state.startX,endX:this.state.endX},S=n.pageX-i;S>0?S=Math.min(S,f+m-g-u):S<0&&(S=Math.max(S,f-u)),j[o]=u+S;var w=this.getIndex(j),T=w.startIndex,E=w.endIndex,N=function(){var R=v.length-1;return o==="startX"&&(l>c?T%x===0:E%x===0)||l<c&&E===R||o==="endX"&&(l>c?E%x===0:T%x===0)||l>c&&E===R};this.setState(fi(fi({},o,u+S),"brushMoveStartX",n.pageX),function(){y&&N()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var g=l[m];s==="startX"&&g>=u||s==="endX"&&g<=c||this.setState(fi({},s,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return se.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=_.Children.only(u);return f?se.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,g=c.ariaLabel,y=c.data,x=c.startIndex,v=c.endIndex,j=Math.max(n,this.props.x),S=AT(AT({},Yt(this.props,!1)),{},{x:j,y:u,width:d,height:f}),w=g||"Min value: ".concat((i=y[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return se.createElement(Vr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,S))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,g=5,y={pointerEvents:"none",fill:u};return se.createElement(Vr,{className:"recharts-brush-texts"},se.createElement(vf,U1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-g,y:o+l/2},y),this.getTextOfTick(s)),se.createElement(vf,U1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+g,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,g=m.startX,y=m.endX,x=m.isTextActive,v=m.isSlideMoving,j=m.isTravellerMoving,S=m.isTravellerFocused;if(!s||!s.length||!lt(l)||!lt(c)||!lt(u)||!lt(d)||u<=0||d<=0)return null;var w=ur("recharts-brush",i),T=se.Children.count(o)===1,E=gHe("userSelect","none");return se.createElement(Vr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(x||v||j||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),se.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return se.isValidElement(n)?i=se.cloneElement(n,s):Zt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return AT({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?SHe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var m=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(_.PureComponent);fi(Gm,"displayName","Brush");fi(Gm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PT,sW;function NHe(){if(sW)return PT;sW=1;var e=RI();function t(r,n){var s;return e(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return PT=t,PT}var OT,aW;function kHe(){if(aW)return OT;aW=1;var e=rne(),t=Al(),r=NHe(),n=ni(),s=vj();function i(o,l,c){var u=n(o)?e:r;return c&&s(o,l,c)&&(l=void 0),u(o,t(l,3))}return OT=i,OT}var EHe=kHe();const CHe=Sr(EHe);var gl=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},RT,iW;function THe(){if(iW)return RT;iW=1;var e=wne();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return RT=t,RT}var DT,oW;function AHe(){if(oW)return DT;oW=1;var e=THe(),t=vne(),r=Al();function n(s,i){var o={};return i=r(i,3),t(s,function(l,c,u){e(o,c,i(l,c,u))}),o}return DT=n,DT}var PHe=AHe();const OHe=Sr(PHe);var IT,lW;function RHe(){if(lW)return IT;lW=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(!r(t[n],n,t))return!1;return!0}return IT=e,IT}var MT,cW;function DHe(){if(cW)return MT;cW=1;var e=RI();function t(r,n){var s=!0;return e(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return MT=t,MT}var FT,uW;function IHe(){if(uW)return FT;uW=1;var e=RHe(),t=DHe(),r=Al(),n=ni(),s=vj();function i(o,l,c){var u=n(o)?e:t;return c&&s(o,l,c)&&(l=void 0),u(o,r(l,3))}return FT=i,FT}var MHe=IHe();const oae=Sr(MHe);var FHe=["x","y"];function qx(e){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qx(e)}function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LO.apply(this,arguments)}function dW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dW(Object(r),!0).forEach(function(n){LHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LHe(e,t,r){return t=$He(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $He(e){var t=BHe(e,"string");return qx(t)=="symbol"?t:t+""}function BHe(e,t){if(qx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UHe(e,t){if(e==null)return{};var r=VHe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zHe(e,t){var r=e.x,n=e.y,s=UHe(e,FHe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),m=parseInt(f,10);return P0(P0(P0(P0(P0({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function fW(e){return se.createElement(eae,LO({shapeType:"rectangle",propTransformer:zHe,activeClassName:"recharts-active-bar"},e))}var WHe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=lt(n)||pLe(n);return i?t(n,s):(i||wf(),r)}},qHe=["value","background"],lae;function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function HHe(e,t){if(e==null)return{};var r=GHe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(this,arguments)}function hW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hW(Object(r),!0).forEach(function(n){du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uae(n.key),n)}}function YHe(e,t,r){return t&&mW(e.prototype,t),r&&mW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XHe(e,t,r){return t=W1(t),ZHe(e,cae()?Reflect.construct(t,r||[],W1(e).constructor):t.apply(e,r))}function ZHe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QHe(e)}function QHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cae=function(){return!!e})()}function W1(e){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W1(e)}function JHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$O(e,t)}function $O(e,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$O(e,t)}function du(e,t,r){return t=uae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uae(e){var t=eGe(e,"string");return Km(t)=="symbol"?t:t+""}function eGe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ji=(function(e){function t(){var r;KHe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=XHe(this,t,[].concat(s)),du(r,"state",{isAnimationFinished:!1}),du(r,"id",$v("recharts-bar-")),du(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),du(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return JHe(t,e),YHe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Yt(this.props,!1);return n&&n.map(function(f,m){var g=m===c,y=g?u:o,x=rs(rs(rs({},d),f),{},{isActive:g,option:y,index:m,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return se.createElement(Vr,z1({className:"recharts-bar-rectangle"},xf(s.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),se.createElement(fW,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state.prevData;return se.createElement(pc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,x=i.map(function(v,j){var S=m&&m[j];if(S){var w=ru(S.x,v.x),T=ru(S.y,v.y),E=ru(S.width,v.width),N=ru(S.height,v.height);return rs(rs({},v),{},{x:w(y),y:T(y),width:E(y),height:N(y)})}if(o==="horizontal"){var k=ru(0,v.height),R=k(y);return rs(rs({},v),{},{y:v.y+v.height-R,height:R})}var A=ru(0,v.width),I=A(y);return rs(rs({},v),{},{width:I})});return se.createElement(Vr,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Tj(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Yt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=HHe(u,qHe);if(!f)return null;var g=rs(rs(rs(rs(rs({},m),{},{fill:"#eee"},f),c),xf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return se.createElement(fW,z1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=co(d,Oj);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,g=function(v,j){var S=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:S,errorVal:xa(v,j)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return se.createElement(Vr,y,f.map(function(x){return se.cloneElement(x,{key:"error-bar-".concat(s,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,g=n.isAnimationActive,y=n.background,x=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=ur("recharts-bar",o),S=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,T=S||w,E=pr(x)?this.id:x;return se.createElement(Vr,{className:j},S||w?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(E)},se.createElement("rect",{x:S?u:u-f/2,y:w?d:d-m/2,width:S?f:f*2,height:w?m:m*2}))):null,se.createElement(Vr,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,E),(!g||v)&&yu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(_.PureComponent);lae=Ji;du(Ji,"displayName","Bar");du(Ji,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Np.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});du(Ji,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,g=T7e(n,r);if(!g)return null;var y=t.layout,x=r.type.defaultProps,v=x!==void 0?rs(rs({},x),r.props):r.props,j=v.dataKey,S=v.children,w=v.minPointSize,T=y==="horizontal"?o:i,E=u?T.scale.domain():null,N=M7e({numericAxis:T}),k=co(S,yj),R=f.map(function(A,I){var P,D,B,U,H,M;u?P=A7e(u[d+I],E):(P=xa(A,j),Array.isArray(P)||(P=[N,P]));var W=WHe(w,lae.defaultProps.minPointSize)(P[1],I);if(y==="horizontal"){var K,V=[o.scale(P[0]),o.scale(P[1])],z=V[0],G=V[1];D=$V({axis:i,ticks:l,bandSize:s,offset:g.offset,entry:A,index:I}),B=(K=G??z)!==null&&K!==void 0?K:void 0,U=g.size;var F=z-G;if(H=Number.isNaN(F)?0:F,M={x:D,y:o.y,width:U,height:o.height},Math.abs(W)>0&&Math.abs(H)<Math.abs(W)){var X=Da(H||W)*(Math.abs(W)-Math.abs(H));B-=X,H+=X}}else{var Z=[i.scale(P[0]),i.scale(P[1])],re=Z[0],ee=Z[1];if(D=re,B=$V({axis:o,ticks:c,bandSize:s,offset:g.offset,entry:A,index:I}),U=ee-re,H=g.size,M={x:i.x,y:B,width:i.width,height:H},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var ce=Da(U||W)*(Math.abs(W)-Math.abs(U));U+=ce}}return rs(rs(rs({},A),{},{x:D,y:B,width:U,height:H,value:u?P:P[1],payload:A,background:M},k&&k[I]&&k[I].props),{},{tooltipPayload:[Mse(r,A)],tooltipPosition:{x:D+U/2,y:B+H/2}})});return rs({data:R,layout:y},m)});function Hx(e){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hx(e)}function tGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dae(n.key),n)}}function rGe(e,t,r){return t&&pW(e.prototype,t),r&&pW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gW(Object(r),!0).forEach(function(n){$j(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $j(e,t,r){return t=dae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=nGe(e,"string");return Hx(t)=="symbol"?t:t+""}function nGe(e,t){if(Hx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sGe=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!hi(u,Ji);return d.reduce(function(g,y){var x=r[y],v=x.orientation,j=x.domain,S=x.padding,w=S===void 0?{}:S,T=x.mirror,E=x.reversed,N="".concat(v).concat(T?"Mirror":""),k,R,A,I,P;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=j[1]-j[0],B=1/0,U=x.categoricalDomain.sort(vLe);if(U.forEach(function(Z,re){re>0&&(B=Math.min((Z||0)-(U[re-1]||0),B))}),Number.isFinite(B)){var H=B/D,M=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(k=H*M/2),x.padding==="no-gap"){var W=Ia(t.barCategoryGap,H*M),K=H*M/2;k=K-W-(K-W)/M*W}}}s==="xAxis"?R=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:s==="yAxis"?R=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:R=x.range,E&&(R=[R[1],R[0]]);var V=Ose(x,i,m),z=V.scale,G=V.realScaleType;z.domain(j).range(R),Rse(z);var F=Dse(z,Oo(Oo({},x),{},{realScaleType:G}));s==="xAxis"?(P=v==="top"&&!T||v==="bottom"&&T,A=n.left,I=f[N]-P*x.height):s==="yAxis"&&(P=v==="left"&&!T||v==="right"&&T,A=f[N]-P*x.width,I=n.top);var X=Oo(Oo(Oo({},x),F),{},{realScaleType:G,x:A,y:I,scale:z,width:s==="xAxis"?n.width:x.width,height:s==="yAxis"?n.height:x.height});return X.bandSize=C1(X,F),!x.hide&&s==="xAxis"?f[N]+=(P?-1:1)*X.height:x.hide||(f[N]+=(P?-1:1)*X.width),Oo(Oo({},g),{},$j({},y,X))},{})},fae=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},aGe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return fae({x:r,y:n},{x:s,y:i})},hae=(function(){function e(t){tGe(this,e),this.scale=t}return rGe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])})();$j(hae,"EPS",1e-4);var cM=function(t){var r=Object.keys(t).reduce(function(n,s){return Oo(Oo({},n),{},$j({},s,hae.create(t[s])))},{});return Oo(Oo({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return OHe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return oae(s,function(i,o){return r[o].isInRange(i)})}})};function iGe(e){return(e%180+180)%180}var oGe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=iGe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},LT,xW;function lGe(){if(xW)return LT;xW=1;var e=Al(),t=Bv(),r=gj();function n(s){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=s(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return LT=n,LT}var $T,vW;function cGe(){if(vW)return $T;vW=1;var e=nae();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return $T=t,$T}var BT,yW;function uGe(){if(yW)return BT;yW=1;var e=hne(),t=Al(),r=cGe(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return BT=s,BT}var UT,wW;function dGe(){if(wW)return UT;wW=1;var e=lGe(),t=uGe(),r=e(t);return UT=r,UT}var fGe=dGe();const hGe=Sr(fGe);var mGe=Tre();const pGe=Sr(mGe);var gGe=pGe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uM=_.createContext(void 0),dM=_.createContext(void 0),mae=_.createContext(void 0),pae=_.createContext({}),gae=_.createContext(void 0),xae=_.createContext(0),vae=_.createContext(0),bW=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=gGe(i);return se.createElement(uM.Provider,{value:n},se.createElement(dM.Provider,{value:s},se.createElement(pae.Provider,{value:i},se.createElement(mae.Provider,{value:d},se.createElement(gae.Provider,{value:o},se.createElement(xae.Provider,{value:u},se.createElement(vae.Provider,{value:c},l)))))))},xGe=function(){return _.useContext(gae)},yae=function(t){var r=_.useContext(uM);r==null&&wf();var n=r[t];return n==null&&wf(),n},vGe=function(){var t=_.useContext(uM);return au(t)},yGe=function(){var t=_.useContext(dM),r=hGe(t,function(n){return oae(n.domain,Number.isFinite)});return r||au(t)},wae=function(t){var r=_.useContext(dM);r==null&&wf();var n=r[t];return n==null&&wf(),n},wGe=function(){var t=_.useContext(mae);return t},bGe=function(){return _.useContext(pae)},fM=function(){return _.useContext(vae)},hM=function(){return _.useContext(xae)};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function _Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_ae(n.key),n)}}function SGe(e,t,r){return t&&jGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NGe(e,t,r){return t=q1(t),kGe(e,bae()?Reflect.construct(t,r||[],q1(e).constructor):t.apply(e,r))}function kGe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EGe(e)}function EGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bae=function(){return!!e})()}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(e)}function CGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BO(e,t)}function BO(e,t){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BO(e,t)}function _W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_W(Object(r),!0).forEach(function(n){mM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mM(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=TGe(e,"string");return Ym(t)=="symbol"?t:t+""}function TGe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function AGe(e,t){return DGe(e)||RGe(e,t)||OGe(e,t)||PGe()}function PGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OGe(e,t){if(e){if(typeof e=="string")return SW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SW(e,t)}}function SW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DGe(e){if(Array.isArray(e))return e}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UO.apply(this,arguments)}var IGe=function(t,r){var n;return se.isValidElement(t)?n=se.cloneElement(t,r):Zt(t)?n=t(r):n=se.createElement("line",UO({},r,{className:"recharts-reference-line-line"})),n},MGe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,g=i.height;if(n){var y=u.y,x=t.y.apply(y,{position:o});if(gl(u,"discard")&&!t.y.isInRange(x))return null;var v=[{x:d+m,y:x},{x:d,y:x}];return c==="left"?v.reverse():v}if(r){var j=u.x,S=t.x.apply(j,{position:o});if(gl(u,"discard")&&!t.x.isInRange(S))return null;var w=[{x:S,y:f+g},{x:S,y:f}];return l==="top"?w.reverse():w}if(s){var T=u.segment,E=T.map(function(N){return t.apply(N,{position:o})});return gl(u,"discard")&&CHe(E,function(N){return!t.isInRange(N)})?null:E}return null};function FGe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=xGe(),d=yae(s),f=wae(i),m=wGe();if(!u||!m)return null;Vo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=cM({x:d.scale,y:f.scale}),y=ws(t),x=ws(r),v=n&&n.length===2,j=MGe(g,y,x,v,m,e.position,d.orientation,f.orientation,e);if(!j)return null;var S=AGe(j,2),w=S[0],T=w.x,E=w.y,N=S[1],k=N.x,R=N.y,A=gl(e,"hidden")?"url(#".concat(u,")"):void 0,I=jW(jW({clipPath:A},Yt(e,!0)),{},{x1:T,y1:E,x2:k,y2:R});return se.createElement(Vr,{className:ur("recharts-reference-line",l)},IGe(o,I),Os.renderCallByParent(e,aGe({x1:T,y1:E,x2:k,y2:R})))}var pM=(function(e){function t(){return _Ge(this,t),NGe(this,t,arguments)}return CGe(t,e),SGe(t,[{key:"render",value:function(){return se.createElement(FGe,this.props)}}])})(se.Component);mM(pM,"displayName","ReferenceLine");mM(pM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VO(){return VO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VO.apply(this,arguments)}function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function NW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NW(Object(r),!0).forEach(function(n){Bj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sae(n.key),n)}}function BGe(e,t,r){return t&&$Ge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UGe(e,t,r){return t=H1(t),VGe(e,jae()?Reflect.construct(t,r||[],H1(e).constructor):t.apply(e,r))}function VGe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zGe(e)}function zGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jae=function(){return!!e})()}function H1(e){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H1(e)}function WGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zO(e,t)}function zO(e,t){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zO(e,t)}function Bj(e,t,r){return t=Sae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=qGe(e,"string");return Xm(t)=="symbol"?t:t+""}function qGe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HGe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=cM({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return gl(t,"discard")&&!o.isInRange(l)?null:l},Uj=(function(e){function t(){return LGe(this,t),UGe(this,t,arguments)}return WGe(t,e),BGe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ws(s),d=ws(i);if(Vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=HGe(this.props);if(!f)return null;var m=f.x,g=f.y,y=this.props,x=y.shape,v=y.className,j=gl(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=kW(kW({clipPath:j},Yt(this.props,!0)),{},{cx:m,cy:g});return se.createElement(Vr,{className:ur("recharts-reference-dot",v)},t.renderDot(x,S),Os.renderCallByParent(this.props,{x:m-o,y:g-o,width:2*o,height:2*o}))}}])})(se.Component);Bj(Uj,"displayName","ReferenceDot");Bj(Uj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bj(Uj,"renderDot",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):Zt(e)?r=e(t):r=se.createElement(lM,VO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function EW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EW(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KGe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kae(n.key),n)}}function YGe(e,t,r){return t&&KGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XGe(e,t,r){return t=G1(t),ZGe(e,Nae()?Reflect.construct(t,r||[],G1(e).constructor):t.apply(e,r))}function ZGe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QGe(e)}function QGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nae=function(){return!!e})()}function G1(e){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G1(e)}function JGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qO(e,t)}function qO(e,t){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qO(e,t)}function Vj(e,t,r){return t=kae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kae(e){var t=eKe(e,"string");return Zm(t)=="symbol"?t:t+""}function eKe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tKe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=cM({x:d.scale,y:f.scale}),g={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(u,{position:"end"}):m.y.rangeMax};return gl(i,"discard")&&(!m.isInRange(g)||!m.isInRange(y))?null:fae(g,y)},zj=(function(e){function t(){return GGe(this,t),XGe(this,t,arguments)}return JGe(t,e),YGe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Vo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ws(s),m=ws(i),g=ws(o),y=ws(l),x=this.props.shape;if(!f&&!m&&!g&&!y&&!x)return null;var v=tKe(f,m,g,y,this.props);if(!v&&!x)return null;var j=gl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return se.createElement(Vr,{className:ur("recharts-reference-area",c)},t.renderRect(x,CW(CW({clipPath:j},Yt(this.props,!0)),v)),Os.renderCallByParent(this.props,v))}}])})(se.Component);Vj(zj,"displayName","ReferenceArea");Vj(zj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vj(zj,"renderRect",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):Zt(e)?r=e(t):r=se.createElement(oM,WO({},t,{className:"recharts-reference-area-rect"})),r});function Eae(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function rKe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oGe(n,r)}function nKe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function K1(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function sKe(e,t){return Eae(e,t+1)}function aKe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:Eae(n,u)};var x=c,v,j=function(){return v===void 0&&(v=r(y,x)),v},S=y.coordinate,w=c===0||K1(e,S,j,d,l);w||(c=0,d=o,u+=1),w&&(d=S+e*(j()/2+s),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function Gx(e){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(e)}function TW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TW(Object(r),!0).forEach(function(n){iKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iKe(e,t,r){return t=oKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oKe(e){var t=lKe(e,"string");return Gx(t)=="symbol"?t:t+""}function lKe(e,t){if(Gx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cKe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var g=i[m],y,x=function(){return y===void 0&&(y=r(g,m)),y};if(m===o-1){var v=e*(g.coordinate+e*x()/2-c);i[m]=g=ca(ca({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate})}else i[m]=g=ca(ca({},g),{},{tickCoord:g.coordinate});var j=K1(e,g.tickCoord,x,l,c);j&&(c=g.tickCoord-e*(x()/2+s),i[m]=ca(ca({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function uKe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=ca(ca({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var g=K1(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+s),o[l-1]=ca(ca({},d),{},{isShow:!0}))}for(var y=i?l-1:l,x=function(S){var w=o[S],T,E=function(){return T===void 0&&(T=r(w,S)),T};if(S===0){var N=e*(w.coordinate-e*E()/2-c);o[S]=w=ca(ca({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[S]=w=ca(ca({},w),{},{tickCoord:w.coordinate});var k=K1(e,w.tickCoord,E,c,u);k&&(c=w.tickCoord+e*(E()/2+s),o[S]=ca(ca({},w),{},{isShow:!0}))},v=0;v<y;v++)x(v);return o}function gM(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(lt(c)||Np.isSsr)return sKe(s,typeof c=="number"&&lt(c)?c:0);var m=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?pg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(w,T){var E=Zt(u)?u(w.value,T):w.value;return g==="width"?rKe(pg(E,{fontSize:t,letterSpacing:r}),y,f):pg(E,{fontSize:t,letterSpacing:r})[g]},v=s.length>=2?Da(s[1].coordinate-s[0].coordinate):1,j=nKe(i,v,g);return c==="equidistantPreserveStart"?aKe(v,j,x,s,o):(c==="preserveStart"||c==="preserveStartEnd"?m=uKe(v,j,x,s,o,c==="preserveStartEnd"):m=cKe(v,j,x,s,o),m.filter(function(S){return S.isShow}))}var dKe=["viewBox"],fKe=["viewBox"],hKe=["ticks"];function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(this,arguments)}function AW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AW(Object(r),!0).forEach(function(n){xM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VT(e,t){if(e==null)return{};var r=mKe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tae(n.key),n)}}function gKe(e,t,r){return t&&PW(e.prototype,t),r&&PW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xKe(e,t,r){return t=Y1(t),vKe(e,Cae()?Reflect.construct(t,r||[],Y1(e).constructor):t.apply(e,r))}function vKe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yKe(e)}function yKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cae=function(){return!!e})()}function Y1(e){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y1(e)}function wKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HO(e,t)}function HO(e,t){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},HO(e,t)}function xM(e,t,r){return t=Tae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tae(e){var t=bKe(e,"string");return Qm(t)=="symbol"?t:t+""}function bKe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tp=(function(e){function t(r){var n;return pKe(this,t),n=xKe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return wKe(t,e),gKe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=VT(n,dKe),l=this.props,c=l.viewBox,u=VT(l,fKe);return!fm(i,c)||!fm(o,u)||!fm(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,m=s.tickMargin,g,y,x,v,j,S,w=f?-1:1,T=n.tickSize||d,E=lt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=y=n.coordinate,v=o+ +!f*c,x=v-w*T,S=x-w*m,j=E;break;case"left":x=v=n.coordinate,y=i+ +!f*l,g=y-w*T,j=g-w*m,S=E;break;case"right":x=v=n.coordinate,y=i+ +f*l,g=y+w*T,j=g+w*m,S=E;break;default:g=y=n.coordinate,v=o+ +f*c,x=v+w*T,S=x+w*m,j=E;break}return{line:{x1:g,y1:x,x2:y,y2:v},tick:{x:j,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ms(ms(ms({},Yt(this.props,!1)),Yt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=ms(ms({},f),{},{x1:s,y1:i+m*l,x2:s+o,y2:i+m*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=ms(ms({},f),{},{x1:s+g*o,y1:i,x2:s+g*o,y2:i+l})}return se.createElement("line",Zh({},f,{className:ur("recharts-cartesian-axis-line",ki(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,g=gM(ms(ms({},this.props),{},{ticks:n}),s,i),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=Yt(this.props,!1),j=Yt(d,!1),S=ms(ms({},v),{},{fill:"none"},Yt(c,!1)),w=g.map(function(T,E){var N=o.getTickLineCoord(T),k=N.line,R=N.tick,A=ms(ms(ms(ms({textAnchor:y,verticalAnchor:x},v),{},{stroke:"none",fill:u},j),R),{},{index:E,payload:T,visibleTicksCount:g.length,tickFormatter:f});return se.createElement(Vr,Zh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},xf(o.props,T,E)),c&&se.createElement("line",Zh({},S,k,{className:ur("recharts-cartesian-axis-tick-line",ki(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(Zt(f)?f(T.value,E):T.value).concat(m||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,m=f.ticks,g=VT(f,hKe),y=m;return Zt(c)&&(y=m&&m.length>0?c(this.props):c(g)),o<=0||l<=0||!y||!y.length?null:se.createElement(Vr,{className:ur("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Os.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ur(s.className,"recharts-cartesian-axis-tick-value");return se.isValidElement(n)?o=se.cloneElement(n,ms(ms({},s),{},{className:l})):Zt(n)?o=n(ms(ms({},s),{},{className:l})):o=se.createElement(vf,Zh({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(_.Component);xM(Tp,"displayName","CartesianAxis");xM(Tp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _Ke=["x1","y1","x2","y2","key"],jKe=["offset"];function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function OW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OW(Object(r),!0).forEach(function(n){SKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SKe(e,t,r){return t=NKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NKe(e){var t=kKe(e,"string");return bf(t)=="symbol"?t:t+""}function kKe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(this,arguments)}function RW(e,t){if(e==null)return{};var r=EKe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var CKe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return se.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Aae(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(Zt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=RW(t,_Ke),u=Yt(c,!1);u.offset;var d=RW(u,jKe);r=se.createElement("line",Fd({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function TKe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=pa(pa({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Aae(s,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function AKe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=pa(pa({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Aae(s,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function PKe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var y=!d[g+1],x=y?s+o-m:d[g+1]-m;if(x<=0)return null;var v=g%t.length;return se.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:x,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function OKe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var f=d.map(function(m,g){var y=!d[g+1],x=y?i+l-m:d[g+1]-m;if(x<=0)return null;var v=g%n.length;return se.createElement("rect",{key:"react-".concat(g),x:m,y:o,width:x,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var RKe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return Pse(gM(pa(pa(pa({},Tp.defaultProps),n),{},{ticks:Xl(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},DKe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return Pse(gM(pa(pa(pa({},Tp.defaultProps),n),{},{ticks:Xl(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Oh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GO(e){var t,r,n,s,i,o,l=fM(),c=hM(),u=bGe(),d=pa(pa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Oh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Oh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Oh.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Oh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Oh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Oh.verticalFill,x:lt(e.x)?e.x:u.left,y:lt(e.y)?e.y:u.top,width:lt(e.width)?e.width:u.width,height:lt(e.height)?e.height:u.height}),f=d.x,m=d.y,g=d.width,y=d.height,x=d.syncWithTicks,v=d.horizontalValues,j=d.verticalValues,S=vGe(),w=yGe();if(!lt(g)||g<=0||!lt(y)||y<=0||!lt(f)||f!==+f||!lt(m)||m!==+m)return null;var T=d.verticalCoordinatesGenerator||RKe,E=d.horizontalCoordinatesGenerator||DKe,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&Zt(E)){var R=v&&v.length,A=E({yAxis:w?pa(pa({},w),{},{ticks:R?v:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:x);Vo(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bf(A),"]")),Array.isArray(A)&&(N=A)}if((!k||!k.length)&&Zt(T)){var I=j&&j.length,P=T({xAxis:S?pa(pa({},S),{},{ticks:I?j:S.ticks}):void 0,width:l,height:c,offset:u},I?!0:x);Vo(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bf(P),"]")),Array.isArray(P)&&(k=P)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(CKe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),se.createElement(TKe,Fd({},d,{offset:u,horizontalPoints:N,xAxis:S,yAxis:w})),se.createElement(AKe,Fd({},d,{offset:u,verticalPoints:k,xAxis:S,yAxis:w})),se.createElement(PKe,Fd({},d,{horizontalPoints:N})),se.createElement(OKe,Fd({},d,{verticalPoints:k})))}GO.displayName="CartesianGrid";function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function IKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rae(n.key),n)}}function FKe(e,t,r){return t&&MKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LKe(e,t,r){return t=X1(t),$Ke(e,Pae()?Reflect.construct(t,r||[],X1(e).constructor):t.apply(e,r))}function $Ke(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BKe(e)}function BKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pae=function(){return!!e})()}function X1(e){return X1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X1(e)}function UKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KO(e,t)}function KO(e,t){return KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},KO(e,t)}function Oae(e,t,r){return t=Rae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=VKe(e,"string");return Jm(t)=="symbol"?t:t+""}function VKe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YO(){return YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YO.apply(this,arguments)}function zKe(e){var t=e.xAxisId,r=fM(),n=hM(),s=yae(t);return s==null?null:_.createElement(Tp,YO({},s,{className:ur("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xl(o,!0)}}))}var Kx=(function(e){function t(){return IKe(this,t),LKe(this,t,arguments)}return UKe(t,e),FKe(t,[{key:"render",value:function(){return _.createElement(zKe,this.props)}}])})(_.Component);Oae(Kx,"displayName","XAxis");Oae(Kx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function WKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mae(n.key),n)}}function HKe(e,t,r){return t&&qKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GKe(e,t,r){return t=Z1(t),KKe(e,Dae()?Reflect.construct(t,r||[],Z1(e).constructor):t.apply(e,r))}function KKe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YKe(e)}function YKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dae=function(){return!!e})()}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(e)}function XKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XO(e,t)}function XO(e,t){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},XO(e,t)}function Iae(e,t,r){return t=Mae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mae(e){var t=ZKe(e,"string");return ep(t)=="symbol"?t:t+""}function ZKe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZO(){return ZO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZO.apply(this,arguments)}var QKe=function(t){var r=t.yAxisId,n=fM(),s=hM(),i=wae(r);return i==null?null:_.createElement(Tp,ZO({},i,{className:ur("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Xl(l,!0)}}))},Yx=(function(e){function t(){return WKe(this,t),GKe(this,t,arguments)}return XKe(t,e),HKe(t,[{key:"render",value:function(){return _.createElement(QKe,this.props)}}])})(_.Component);Iae(Yx,"displayName","YAxis");Iae(Yx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DW(e){return rYe(e)||tYe(e)||eYe(e)||JKe()}function JKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eYe(e,t){if(e){if(typeof e=="string")return QO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(e,t)}}function tYe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rYe(e){if(Array.isArray(e))return QO(e)}function QO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JO=function(t,r,n,s,i){var o=co(t,pM),l=co(t,Uj),c=[].concat(DW(o),DW(l)),u=co(t,zj),d="".concat(s,"Id"),f=s[0],m=r;if(c.length&&(m=c.reduce(function(x,v){if(v.props[d]===n&&gl(v.props,"extendDomain")&&lt(v.props[f])){var j=v.props[f];return[Math.min(x[0],j),Math.max(x[1],j)]}return x},m)),u.length){var g="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(x,v){if(v.props[d]===n&&gl(v.props,"extendDomain")&&lt(v.props[g])&&lt(v.props[y])){var j=v.props[g],S=v.props[y];return[Math.min(x[0],j,S),Math.max(x[1],j,S)]}return x},m)}return i&&i.length&&(m=i.reduce(function(x,v){return lt(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},m)),m},zT={exports:{}},IW;function nYe(){return IW||(IW=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,y=new Array(g);m<g;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,g,y){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],j=arguments.length,S,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,g),!0;case 6:return v.fn.call(v.context,d,f,m,g,y),!0}for(w=1,S=new Array(j-1);w<j;w++)S[w-1]=arguments[w];v.fn.apply(v.context,S)}else{var T=v.length,E;for(w=0;w<T;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),j){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,m);break;default:if(!S)for(E=1,S=new Array(j-1);E<j;E++)S[E-1]=arguments[E];v[w].fn.apply(v[w].context,S)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,g);else{for(var x=0,v=[],j=y.length;x<j;x++)(y[x].fn!==d||m&&!y[x].once||f&&y[x].context!==f)&&v.push(y[x]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(zT)),zT.exports}var sYe=nYe();const aYe=Sr(sYe);var WT=new aYe,qT="recharts.syncMouseEvents";function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function iYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fae(n.key),n)}}function lYe(e,t,r){return t&&oYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HT(e,t,r){return t=Fae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fae(e){var t=cYe(e,"string");return Xx(t)=="symbol"?t:t+""}function cYe(e,t){if(Xx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uYe=(function(){function e(){iYe(this,e),HT(this,"activeIndex",0),HT(this,"coordinateList",[]),HT(this,"layout","horizontal")}return lYe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function dYe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&lt(n)&&lt(s))return!0}return!1}function fYe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Lae(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=sn(t,r,n,s),l=sn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function hYe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=sn(l,c,u,f),g=sn(l,c,d,f);n=m.x,s=m.y,i=g.x,o=g.y}else return Lae(t);return[{x:n,y:s},{x:i,y:o}]}function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}function MW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MW(Object(r),!0).forEach(function(n){mYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mYe(e,t,r){return t=pYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pYe(e){var t=gYe(e,"string");return Zx(t)=="symbol"?t:t+""}function gYe(e,t){if(Zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xYe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!o||m!=="ScatterChart"&&s!=="axis")return null;var y,x=bO;if(m==="ScatterChart")y=o,x=QWe;else if(m==="BarChart")y=fYe(f,o,c,d),x=oM;else if(f==="radial"){var v=Lae(o),j=v.cx,S=v.cy,w=v.radius,T=v.startAngle,E=v.endAngle;y={cx:j,cy:S,startAngle:T,endAngle:E,innerRadius:w,outerRadius:w},x=Vse}else y={points:hYe(f,o,c)},x=bO;var N=$w($w($w($w({stroke:"#ccc",pointerEvents:"none"},c),y),Yt(g,!1)),{},{payload:l,payloadIndex:u,className:ur("recharts-tooltip-cursor",g.className)});return _.isValidElement(g)?_.cloneElement(g,N):_.createElement(x,N)}var vYe=["item"],yYe=["children","className","width","height","style","compact","title","desc"];function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(this,arguments)}function FW(e,t){return _Ye(e)||bYe(e,t)||Bae(e,t)||wYe()}function wYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _Ye(e){if(Array.isArray(e))return e}function LW(e,t){if(e==null)return{};var r=jYe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jYe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uae(n.key),n)}}function kYe(e,t,r){return t&&NYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EYe(e,t,r){return t=Q1(t),CYe(e,$ae()?Reflect.construct(t,r||[],Q1(e).constructor):t.apply(e,r))}function CYe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TYe(e)}function TYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ae=function(){return!!e})()}function Q1(e){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q1(e)}function AYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e4(e,t)}function e4(e,t){return e4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},e4(e,t)}function rp(e){return RYe(e)||OYe(e)||Bae(e)||PYe()}function PYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(e,t){if(e){if(typeof e=="string")return t4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t4(e,t)}}function OYe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RYe(e){if(Array.isArray(e))return t4(e)}function t4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$W(Object(r),!0).forEach(function(n){qt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qt(e,t,r){return t=Uae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uae(e){var t=DYe(e,"string");return tp(t)=="symbol"?t:t+""}function DYe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IYe={xAxis:["bottom","top"],yAxis:["left","right"]},MYe={width:"100%",height:"100%"},Vae={x:0,y:0};function Bw(e){return e}var FYe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},LYe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Le(Le(Le({},s),sn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return Le(Le(Le({},s),sn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Vae},Wj=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(rp(l),rp(u)):l},[]);return o.length>0?o:t&&t.length&&lt(s)&&lt(i)?t.slice(s,i+1):[]};function zae(e){return e==="number"?[0,"auto"]:void 0}var r4=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Wj(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;m=MP(g,o.dataKey,s)}else m=f&&f[n]||l[n];return m?[].concat(rp(c),[Mse(u,m)]):c},[])},BW=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=FYe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=j7e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=r4(t,r,d,f),g=LYe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:g}}return null},$Ye=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,g=Ase(d,i);return n.reduce(function(y,x){var v,j=x.type.defaultProps!==void 0?Le(Le({},x.type.defaultProps),x.props):x.props,S=j.type,w=j.dataKey,T=j.allowDataOverflow,E=j.allowDuplicatedCategory,N=j.scale,k=j.ticks,R=j.includeHidden,A=j[o];if(y[A])return y;var I=Wj(t.data,{graphicalItems:s.filter(function(F){var X,Z=o in F.props?F.props[o]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[o];return Z===A}),dataStartIndex:c,dataEndIndex:u}),P=I.length,D,B,U;dYe(j.domain,T,S)&&(D=gO(j.domain,null,T),g&&(S==="number"||N!=="auto")&&(U=xg(I,w,"category")));var H=zae(S);if(!D||D.length===0){var M,W=(M=j.domain)!==null&&M!==void 0?M:H;if(w){if(D=xg(I,w,S),S==="category"&&g){var K=xLe(D);E&&K?(B=D,D=B1(0,P)):E||(D=VV(W,D,x).reduce(function(F,X){return F.indexOf(X)>=0?F:[].concat(rp(F),[X])},[]))}else if(S==="category")E?D=D.filter(function(F){return F!==""&&!pr(F)}):D=VV(W,D,x).reduce(function(F,X){return F.indexOf(X)>=0||X===""||pr(X)?F:[].concat(rp(F),[X])},[]);else if(S==="number"){var V=C7e(I,s.filter(function(F){var X,Z,re=o in F.props?F.props[o]:(X=F.type.defaultProps)===null||X===void 0?void 0:X[o],ee="hide"in F.props?F.props.hide:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return re===A&&(R||!ee)}),w,i,d);V&&(D=V)}g&&(S==="number"||N!=="auto")&&(U=xg(I,w,"category"))}else g?D=B1(0,P):l&&l[A]&&l[A].hasStack&&S==="number"?D=m==="expand"?[0,1]:Ise(l[A].stackGroups,c,u):D=Tse(I,s.filter(function(F){var X=o in F.props?F.props[o]:F.type.defaultProps[o],Z="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return X===A&&(R||!Z)}),S,d,!0);if(S==="number")D=JO(f,D,A,i,k),W&&(D=gO(W,D,T));else if(S==="category"&&W){var z=W,G=D.every(function(F){return z.indexOf(F)>=0});G&&(D=z)}}return Le(Le({},y),{},qt({},A,Le(Le({},j),{},{axisType:i,domain:D,categoricalDomain:U,duplicateDomain:B,originalDomain:(v=j.domain)!==null&&v!==void 0?v:H,isCategorical:g,layout:d})))},{})},BYe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,m=Wj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=m.length,y=Ase(d,i),x=-1;return n.reduce(function(v,j){var S=j.type.defaultProps!==void 0?Le(Le({},j.type.defaultProps),j.props):j.props,w=S[o],T=zae("number");if(!v[w]){x++;var E;return y?E=B1(0,g):l&&l[w]&&l[w].hasStack?(E=Ise(l[w].stackGroups,c,u),E=JO(f,E,w,i)):(E=gO(T,Tse(m,n.filter(function(N){var k,R,A=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],I="hide"in N.props?N.props.hide:(R=N.type.defaultProps)===null||R===void 0?void 0:R.hide;return A===w&&!I}),"number",d),s.defaultProps.allowDataOverflow),E=JO(f,E,w,i)),Le(Le({},v),{},qt({},w,Le(Le({axisType:i},s.defaultProps),{},{hide:!0,orientation:ki(IYe,"".concat(i,".").concat(x%2),null),domain:E,originalDomain:T,isCategorical:y,layout:d})))}return v},{})},UYe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),m=co(d,i),g={};return m&&m.length?g=$Ye(t,{axes:m,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=BYe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},VYe=function(t){var r=au(t),n=Xl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:DI(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:C1(r,n)}},UW=function(t){var r=t.children,n=t.defaultShowTooltip,s=hi(r,Gm),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},zYe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ec(r&&r.type);return n&&n.indexOf("Bar")>=0})},VW=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WYe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},g=hi(f,Gm),y=hi(f,xu),x=Object.keys(c).reduce(function(E,N){var k=c[N],R=k.orientation;return!k.mirror&&!k.hide?Le(Le({},E),{},qt({},R,E[R]+k.width)):E},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(E,N){var k=o[N],R=k.orientation;return!k.mirror&&!k.hide?Le(Le({},E),{},qt({},R,ki(E,"".concat(R))+k.height)):E},{top:m.top||0,bottom:m.bottom||0}),j=Le(Le({},v),x),S=j.bottom;g&&(j.bottom+=g.props.height||Gm.defaultProps.height),y&&r&&(j=k7e(j,s,n,r));var w=u-j.left-j.right,T=d-j.top-j.bottom;return Le(Le({brushBottom:S},j),{},{width:Math.max(w,0),height:Math.max(T,0)})},qYe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Wae=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(j,S){var w=S.graphicalItems,T=S.stackGroups,E=S.offset,N=S.updateId,k=S.dataStartIndex,R=S.dataEndIndex,A=j.barSize,I=j.layout,P=j.barGap,D=j.barCategoryGap,B=j.maxBarSize,U=VW(I),H=U.numericAxisName,M=U.cateAxisName,W=zYe(w),K=[];return w.forEach(function(V,z){var G=Wj(j.data,{graphicalItems:[V],dataStartIndex:k,dataEndIndex:R}),F=V.type.defaultProps!==void 0?Le(Le({},V.type.defaultProps),V.props):V.props,X=F.dataKey,Z=F.maxBarSize,re=F["".concat(H,"Id")],ee=F["".concat(M,"Id")],ce={},pe=c.reduce(function(ge,Ne){var We=S["".concat(Ne.axisType,"Map")],qe=F["".concat(Ne.axisType,"Id")];We&&We[qe]||Ne.axisType==="zAxis"||wf();var Ue=We[qe];return Le(Le({},ge),{},qt(qt({},Ne.axisType,Ue),"".concat(Ne.axisType,"Ticks"),Xl(Ue)))},ce),Y=pe[M],Q=pe["".concat(M,"Ticks")],ae=T&&T[re]&&T[re].hasStack&&F7e(V,T[re].stackGroups),q=ec(V.type).indexOf("Bar")>=0,ke=C1(Y,Q),ye=[],xe=W&&S7e({barSize:A,stackGroups:T,totalSize:qYe(pe,M)});if(q){var Re,je,mt=pr(Z)?B:Z,ht=(Re=(je=C1(Y,Q,!0))!==null&&je!==void 0?je:mt)!==null&&Re!==void 0?Re:0;ye=N7e({barGap:P,barCategoryGap:D,bandSize:ht!==ke?ht:ke,sizeList:xe[ee],maxBarSize:mt}),ht!==ke&&(ye=ye.map(function(ge){return Le(Le({},ge),{},{position:Le(Le({},ge.position),{},{offset:ge.position.offset-ht/2})})}))}var oe=V&&V.type&&V.type.getComposedData;oe&&K.push({props:Le(Le({},oe(Le(Le({},pe),{},{displayedData:G,props:j,dataKey:X,item:V,bandSize:ke,barPosition:ye,offset:E,stackedData:ae,layout:I,dataStartIndex:k,dataEndIndex:R}))),{},qt(qt(qt({key:V.key||"item-".concat(z)},H,pe[H]),M,pe[M]),"animationId",N)),childIndex:TLe(V,j.children),item:V})}),K},g=function(j,S){var w=j.props,T=j.dataStartIndex,E=j.dataEndIndex,N=j.updateId;if(!n9({props:w}))return null;var k=w.children,R=w.layout,A=w.stackOffset,I=w.data,P=w.reverseStackOrder,D=VW(R),B=D.numericAxisName,U=D.cateAxisName,H=co(k,n),M=I7e(I,H,"".concat(B,"Id"),"".concat(U,"Id"),A,P),W=c.reduce(function(F,X){var Z="".concat(X.axisType,"Map");return Le(Le({},F),{},qt({},Z,UYe(w,Le(Le({},X),{},{graphicalItems:H,stackGroups:X.axisType===B&&M,dataStartIndex:T,dataEndIndex:E}))))},{}),K=WYe(Le(Le({},W),{},{props:w,graphicalItems:H}),S?.legendBBox);Object.keys(W).forEach(function(F){W[F]=d(w,W[F],K,F.replace("Map",""),r)});var V=W["".concat(U,"Map")],z=VYe(V),G=m(w,Le(Le({},W),{},{dataStartIndex:T,dataEndIndex:E,updateId:N,graphicalItems:H,stackGroups:M,offset:K}));return Le(Le({formattedGraphicalItems:G,graphicalItems:H,offset:K,stackGroups:M},z),W)},y=(function(v){function j(S){var w,T,E;return SYe(this,j),E=EYe(this,j,[S]),qt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qt(E,"accessibilityManager",new uYe),qt(E,"handleLegendBBoxUpdate",function(N){if(N){var k=E.state,R=k.dataStartIndex,A=k.dataEndIndex,I=k.updateId;E.setState(Le({legendBBox:N},g({props:E.props,dataStartIndex:R,dataEndIndex:A,updateId:I},Le(Le({},E.state),{},{legendBBox:N}))))}}),qt(E,"handleReceiveSyncEvent",function(N,k,R){if(E.props.syncId===N){if(R===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(k)}}),qt(E,"handleBrushChange",function(N){var k=N.startIndex,R=N.endIndex;if(k!==E.state.dataStartIndex||R!==E.state.dataEndIndex){var A=E.state.updateId;E.setState(function(){return Le({dataStartIndex:k,dataEndIndex:R},g({props:E.props,dataStartIndex:k,dataEndIndex:R,updateId:A},E.state))}),E.triggerSyncEvent({dataStartIndex:k,dataEndIndex:R})}}),qt(E,"handleMouseEnter",function(N){var k=E.getMouseInfo(N);if(k){var R=Le(Le({},k),{},{isTooltipActive:!0});E.setState(R),E.triggerSyncEvent(R);var A=E.props.onMouseEnter;Zt(A)&&A(R,N)}}),qt(E,"triggeredAfterMouseMove",function(N){var k=E.getMouseInfo(N),R=k?Le(Le({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var A=E.props.onMouseMove;Zt(A)&&A(R,N)}),qt(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),qt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),qt(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),qt(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var R=E.props.onMouseLeave;Zt(R)&&R(k,N)}),qt(E,"handleOuterEvent",function(N){var k=CLe(N),R=ki(E.props,"".concat(k));if(k&&Zt(R)){var A,I;/.*touch.*/i.test(k)?I=E.getMouseInfo(N.changedTouches[0]):I=E.getMouseInfo(N),R((A=I)!==null&&A!==void 0?A:{},N)}}),qt(E,"handleClick",function(N){var k=E.getMouseInfo(N);if(k){var R=Le(Le({},k),{},{isTooltipActive:!0});E.setState(R),E.triggerSyncEvent(R);var A=E.props.onClick;Zt(A)&&A(R,N)}}),qt(E,"handleMouseDown",function(N){var k=E.props.onMouseDown;if(Zt(k)){var R=E.getMouseInfo(N);k(R,N)}}),qt(E,"handleMouseUp",function(N){var k=E.props.onMouseUp;if(Zt(k)){var R=E.getMouseInfo(N);k(R,N)}}),qt(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),qt(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),qt(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),qt(E,"handleDoubleClick",function(N){var k=E.props.onDoubleClick;if(Zt(k)){var R=E.getMouseInfo(N);k(R,N)}}),qt(E,"handleContextMenu",function(N){var k=E.props.onContextMenu;if(Zt(k)){var R=E.getMouseInfo(N);k(R,N)}}),qt(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&WT.emit(qT,E.props.syncId,N,E.eventEmitterSymbol)}),qt(E,"applySyncEvent",function(N){var k=E.props,R=k.layout,A=k.syncMethod,I=E.state.updateId,P=N.dataStartIndex,D=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(Le({dataStartIndex:P,dataEndIndex:D},g({props:E.props,dataStartIndex:P,dataEndIndex:D,updateId:I},E.state)));else if(N.activeTooltipIndex!==void 0){var B=N.chartX,U=N.chartY,H=N.activeTooltipIndex,M=E.state,W=M.offset,K=M.tooltipTicks;if(!W)return;if(typeof A=="function")H=A(K,N);else if(A==="value"){H=-1;for(var V=0;V<K.length;V++)if(K[V].value===N.activeLabel){H=V;break}}var z=Le(Le({},W),{},{x:W.left,y:W.top}),G=Math.min(B,z.x+z.width),F=Math.min(U,z.y+z.height),X=K[H]&&K[H].value,Z=r4(E.state,E.props.data,H),re=K[H]?{x:R==="horizontal"?K[H].coordinate:G,y:R==="horizontal"?F:K[H].coordinate}:Vae;E.setState(Le(Le({},N),{},{activeLabel:X,activeCoordinate:re,activePayload:Z,activeTooltipIndex:H}))}else E.setState(N)}),qt(E,"renderCursor",function(N){var k,R=E.state,A=R.isTooltipActive,I=R.activeCoordinate,P=R.activePayload,D=R.offset,B=R.activeTooltipIndex,U=R.tooltipAxisBandSize,H=E.getTooltipEventType(),M=(k=N.props.active)!==null&&k!==void 0?k:A,W=E.props.layout,K=N.key||"_recharts-cursor";return se.createElement(xYe,{key:K,activeCoordinate:I,activePayload:P,activeTooltipIndex:B,chartName:r,element:N,isActive:M,layout:W,offset:D,tooltipAxisBandSize:U,tooltipEventType:H})}),qt(E,"renderPolarAxis",function(N,k,R){var A=ki(N,"type.axisType"),I=ki(E.state,"".concat(A,"Map")),P=N.type.defaultProps,D=P!==void 0?Le(Le({},P),N.props):N.props,B=I&&I[D["".concat(A,"Id")]];return _.cloneElement(N,Le(Le({},B),{},{className:ur(A,B.className),key:N.key||"".concat(k,"-").concat(R),ticks:Xl(B,!0)}))}),qt(E,"renderPolarGrid",function(N){var k=N.props,R=k.radialLines,A=k.polarAngles,I=k.polarRadius,P=E.state,D=P.radiusAxisMap,B=P.angleAxisMap,U=au(D),H=au(B),M=H.cx,W=H.cy,K=H.innerRadius,V=H.outerRadius;return _.cloneElement(N,{polarAngles:Array.isArray(A)?A:Xl(H,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(I)?I:Xl(U,!0).map(function(z){return z.coordinate}),cx:M,cy:W,innerRadius:K,outerRadius:V,key:N.key||"polar-grid",radialLines:R})}),qt(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,k=E.props,R=k.children,A=k.width,I=k.height,P=E.props.margin||{},D=A-(P.left||0)-(P.right||0),B=Ese({children:R,formattedGraphicalItems:N,legendWidth:D,legendContent:u});if(!B)return null;var U=B.item,H=LW(B,vYe);return _.cloneElement(U,Le(Le({},H),{},{chartWidth:A,chartHeight:I,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),qt(E,"renderTooltip",function(){var N,k=E.props,R=k.children,A=k.accessibilityLayer,I=hi(R,Qi);if(!I)return null;var P=E.state,D=P.isTooltipActive,B=P.activeCoordinate,U=P.activePayload,H=P.activeLabel,M=P.offset,W=(N=I.props.active)!==null&&N!==void 0?N:D;return _.cloneElement(I,{viewBox:Le(Le({},M),{},{x:M.left,y:M.top}),active:W,label:H,payload:W?U:[],coordinate:B,accessibilityLayer:A})}),qt(E,"renderBrush",function(N){var k=E.props,R=k.margin,A=k.data,I=E.state,P=I.offset,D=I.dataStartIndex,B=I.dataEndIndex,U=I.updateId;return _.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Iw(E.handleBrushChange,N.props.onChange),data:A,x:lt(N.props.x)?N.props.x:P.left,y:lt(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(R.bottom||0),width:lt(N.props.width)?N.props.width:P.width,startIndex:D,endIndex:B,updateId:"brush-".concat(U)})}),qt(E,"renderReferenceElement",function(N,k,R){if(!N)return null;var A=E,I=A.clipPathId,P=E.state,D=P.xAxisMap,B=P.yAxisMap,U=P.offset,H=N.type.defaultProps||{},M=N.props,W=M.xAxisId,K=W===void 0?H.xAxisId:W,V=M.yAxisId,z=V===void 0?H.yAxisId:V;return _.cloneElement(N,{key:N.key||"".concat(k,"-").concat(R),xAxis:D[K],yAxis:B[z],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:I})}),qt(E,"renderActivePoints",function(N){var k=N.item,R=N.activePoint,A=N.basePoint,I=N.childIndex,P=N.isRange,D=[],B=k.props.key,U=k.item.type.defaultProps!==void 0?Le(Le({},k.item.type.defaultProps),k.item.props):k.item.props,H=U.activeDot,M=U.dataKey,W=Le(Le({index:I,dataKey:M,cx:R.x,cy:R.y,r:4,fill:iM(k.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Yt(H,!1)),s1(H));return D.push(j.renderActiveDot(H,W,"".concat(B,"-activePoint-").concat(I))),A?D.push(j.renderActiveDot(H,Le(Le({},W),{},{cx:A.x,cy:A.y}),"".concat(B,"-basePoint-").concat(I))):P&&D.push(null),D}),qt(E,"renderGraphicChild",function(N,k,R){var A=E.filterFormatItem(N,k,R);if(!A)return null;var I=E.getTooltipEventType(),P=E.state,D=P.isTooltipActive,B=P.tooltipAxis,U=P.activeTooltipIndex,H=P.activeLabel,M=E.props.children,W=hi(M,Qi),K=A.props,V=K.points,z=K.isRange,G=K.baseLine,F=A.item.type.defaultProps!==void 0?Le(Le({},A.item.type.defaultProps),A.item.props):A.item.props,X=F.activeDot,Z=F.hide,re=F.activeBar,ee=F.activeShape,ce=!!(!Z&&D&&W&&(X||re||ee)),pe={};I!=="axis"&&W&&W.props.trigger==="click"?pe={onClick:Iw(E.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(pe={onMouseLeave:Iw(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Iw(E.handleItemMouseEnter,N.props.onMouseEnter)});var Y=_.cloneElement(N,Le(Le({},A.props),pe));function Q(Ne){return typeof B.dataKey=="function"?B.dataKey(Ne.payload):null}if(ce)if(U>=0){var ae,q;if(B.dataKey&&!B.allowDuplicatedCategory){var ke=typeof B.dataKey=="function"?Q:"payload.".concat(B.dataKey.toString());ae=MP(V,ke,H),q=z&&G&&MP(G,ke,H)}else ae=V?.[U],q=z&&G&&G[U];if(ee||re){var ye=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[_.cloneElement(N,Le(Le(Le({},A.props),pe),{},{activeIndex:ye})),null,null]}if(!pr(ae))return[Y].concat(rp(E.renderActivePoints({item:A,activePoint:ae,basePoint:q,childIndex:U,isRange:z})))}else{var xe,Re=(xe=E.getItemByXY(E.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:Y},je=Re.graphicalItem,mt=je.item,ht=mt===void 0?N:mt,oe=je.childIndex,ge=Le(Le(Le({},A.props),pe),{},{activeIndex:oe});return[_.cloneElement(ht,ge),null,null]}return z?[Y,null,null]:[Y,null]}),qt(E,"renderCustomized",function(N,k,R){return _.cloneElement(N,Le(Le({key:"recharts-customized-".concat(R)},E.props),E.state))}),qt(E,"renderMap",{CartesianGrid:{handler:Bw,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Bw},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Bw},YAxis:{handler:Bw},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=S.id)!==null&&w!==void 0?w:$v("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=kne(E.triggeredAfterMouseMove,(T=S.throttleDelay)!==null&&T!==void 0?T:1e3/60),E.state={},E}return AYe(j,v),kYe(j,[{key:"componentDidMount",value:function(){var w,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,T=w.children,E=w.data,N=w.height,k=w.layout,R=hi(T,Qi);if(R){var A=R.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=r4(this.state,E,A,I),D=this.state.tooltipTicks[A].coordinate,B=(this.state.offset.top+N)/2,U=k==="horizontal",H=U?{x:D,y:B}:{y:D,x:B},M=this.state.formattedGraphicalItems.find(function(K){var V=K.item;return V.type.name==="Scatter"});M&&(H=Le(Le({},H),M.props.points[A].tooltipPosition),P=M.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:I,activePayload:P,activeCoordinate:H};this.setState(W),this.renderCursor(R),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){LP([hi(w.children,Qi)],[hi(this.props.children,Qi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=hi(this.props.children,Qi);if(w&&typeof w.props.shared=="boolean"){var T=w.props.shared?"axis":"item";return l.indexOf(T)>=0?T:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var T=this.container,E=T.getBoundingClientRect(),N=p$e(E),k={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},R=E.width/T.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,R);if(!A)return null;var I=this.state,P=I.xAxisMap,D=I.yAxisMap,B=this.getTooltipEventType(),U=BW(this.state,this.props.data,this.props.layout,A);if(B!=="axis"&&P&&D){var H=au(P).scale,M=au(D).scale,W=H&&H.invert?H.invert(k.chartX):null,K=M&&M.invert?M.invert(k.chartY):null;return Le(Le({},k),{},{xValue:W,yValue:K},U)}return U?Le(Le({},k),U):null}},{key:"inRange",value:function(w,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=w/E,R=T/E;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,I=k>=A.left&&k<=A.left+A.width&&R>=A.top&&R<=A.top+A.height;return I?{x:k,y:R}:null}var P=this.state,D=P.angleAxisMap,B=P.radiusAxisMap;if(D&&B){var U=au(D);return qV({x:k,y:R},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,T=this.getTooltipEventType(),E=hi(w,Qi),N={};E&&T==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=s1(this.props,this.handleOuterEvent);return Le(Le({},k),N)}},{key:"addListener",value:function(){WT.on(qT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WT.removeListener(qT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,T,E){for(var N=this.state.formattedGraphicalItems,k=0,R=N.length;k<R;k++){var A=N[k];if(A.item===w||A.props.key===w.key||T===ec(A.item.type)&&E===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,T=this.state.offset,E=T.left,N=T.top,k=T.height,R=T.width;return se.createElement("defs",null,se.createElement("clipPath",{id:w},se.createElement("rect",{x:E,y:N,height:k,width:R})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(T,E){var N=FW(E,2),k=N[0],R=N[1];return Le(Le({},T),{},qt({},k,R.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(T,E){var N=FW(E,2),k=N[0],R=N[1];return Le(Le({},T),{},qt({},k,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(w){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(w){var T=this.state,E=T.formattedGraphicalItems,N=T.activeItem;if(E&&E.length)for(var k=0,R=E.length;k<R;k++){var A=E[k],I=A.props,P=A.item,D=P.type.defaultProps!==void 0?Le(Le({},P.type.defaultProps),P.props):P.props,B=ec(P.type);if(B==="Bar"){var U=(I.data||[]).find(function(K){return OWe(w,K)});if(U)return{graphicalItem:A,payload:U}}else if(B==="RadialBar"){var H=(I.data||[]).find(function(K){return qV(w,K)});if(H)return{graphicalItem:A,payload:H}}else if(Fj(A,N)||Lj(A,N)||zx(A,N)){var M=tHe({graphicalItem:A,activeTooltipItem:N,itemData:D.data}),W=D.activeIndex===void 0?M:D.activeIndex;return{graphicalItem:Le(Le({},A),{},{childIndex:W}),payload:zx(A,N)?D.data[M]:A.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!n9(this))return null;var T=this.props,E=T.children,N=T.className,k=T.width,R=T.height,A=T.style,I=T.compact,P=T.title,D=T.desc,B=LW(T,yYe),U=Yt(B,!1);if(I)return se.createElement(bW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(BP,Qh({},U,{width:k,height:R,title:P,desc:D}),this.renderClipPath(),a9(E,this.renderMap)));if(this.props.accessibilityLayer){var H,M;U.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,U.role=(M=this.props.role)!==null&&M!==void 0?M:"application",U.onKeyDown=function(K){w.accessibilityManager.keyboardEvent(K)},U.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return se.createElement(bW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",Qh({className:ur("recharts-wrapper",N),style:Le({position:"relative",cursor:"default",width:k,height:R},A)},W,{ref:function(V){w.container=V}}),se.createElement(BP,Qh({},U,{width:k,height:R,title:P,desc:D,style:MYe}),this.renderClipPath(),a9(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);qt(y,"displayName",r),qt(y,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),qt(y,"getDerivedStateFromProps",function(v,j){var S=v.dataKey,w=v.data,T=v.children,E=v.width,N=v.height,k=v.layout,R=v.stackOffset,A=v.margin,I=j.dataStartIndex,P=j.dataEndIndex;if(j.updateId===void 0){var D=UW(v);return Le(Le(Le({},D),{},{updateId:0},g(Le(Le({props:v},D),{},{updateId:0}),j)),{},{prevDataKey:S,prevData:w,prevWidth:E,prevHeight:N,prevLayout:k,prevStackOffset:R,prevMargin:A,prevChildren:T})}if(S!==j.prevDataKey||w!==j.prevData||E!==j.prevWidth||N!==j.prevHeight||k!==j.prevLayout||R!==j.prevStackOffset||!fm(A,j.prevMargin)){var B=UW(v),U={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},H=Le(Le({},BW(j,w,k)),{},{updateId:j.updateId+1}),M=Le(Le(Le({},B),U),H);return Le(Le(Le({},M),g(Le({props:v},M),j)),{},{prevDataKey:S,prevData:w,prevWidth:E,prevHeight:N,prevLayout:k,prevStackOffset:R,prevMargin:A,prevChildren:T})}if(!LP(T,j.prevChildren)){var W,K,V,z,G=hi(T,Gm),F=G&&(W=(K=G.props)===null||K===void 0?void 0:K.startIndex)!==null&&W!==void 0?W:I,X=G&&(V=(z=G.props)===null||z===void 0?void 0:z.endIndex)!==null&&V!==void 0?V:P,Z=F!==I||X!==P,re=!pr(w),ee=re&&!Z?j.updateId:j.updateId+1;return Le(Le({updateId:ee},g(Le(Le({props:v},j),{},{updateId:ee,dataStartIndex:F,dataEndIndex:X}),j)),{},{prevChildren:T,dataStartIndex:F,dataEndIndex:X})}return null}),qt(y,"renderActiveDot",function(v,j,S){var w;return _.isValidElement(v)?w=_.cloneElement(v,j):Zt(v)?w=v(j):w=se.createElement(lM,j),se.createElement(Vr,{className:"recharts-active-dot",key:S},w)});var x=_.forwardRef(function(j,S){return se.createElement(y,Qh({},j,{ref:S}))});return x.displayName=y.displayName,x},zW=Wae({chartName:"BarChart",GraphicalChild:Ji,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kx},{axisType:"yAxis",AxisComp:Yx}],formatAxisMap:sGe}),HYe=Wae({chartName:"PieChart",GraphicalChild:Nc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mj},{axisType:"radiusAxis",AxisComp:Dj}],formatAxisMap:G7e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const GYe=()=>{const e=nr(),[t,r]=_.useState(!0),[n,s]=_.useState(null),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[g,y]=_.useState({start:"",end:""}),[x,v]=_.useState({applications:!0,approvals:!0,referrals:!0,commissions:!0,payments:!0,networkStats:!0}),[j,S]=_.useState("month");_.useEffect(()=>{w()},[]);const w=async()=>{if(!(sessionStorage.getItem("isSuperAdmin")==="true")){dt.error("Access denied. Super Admin only."),e("/superadmin/login");return}await T()},T=async()=>{r(!0);try{await Promise.all([E(),N(),k(),R(),A()])}catch(B){console.error("Error loading analytics data:",B),dt.error("Failed to load analytics data")}finally{r(!1)}},E=async()=>{const{data:B}=await ne.from("helper_applications").select("id, application_status"),U=B?.length||0,H=B?.filter(oe=>oe.application_status==="Pending").length||0,M=B?.filter(oe=>oe.application_status==="Rejected").length||0,{data:W}=await ne.from("helpers").select("id, status"),K=W?.length||0,V=W?.filter(oe=>oe.status==="Active").length||0,z=W?.filter(oe=>oe.status==="Suspended").length||0,{data:G}=await ne.from("store_referrals").select("id, trial_status, subscription_purchased"),F=G?.length||0,X=G?.filter(oe=>oe.trial_status==="Active").length||0,Z=G?.filter(oe=>oe.subscription_purchased===!0).length||0,re=F>0?Z/F*100:0,{data:ee}=await ne.from("network_commissions").select("direct_commission_amount, network_commission_amount, commission_status, created_at"),ce=ee?.reduce((oe,ge)=>oe+(ge.direct_commission_amount||0)+(ge.network_commission_amount||0),0)||0,pe=ee?.reduce((oe,ge)=>oe+(ge.direct_commission_amount||0),0)||0,Y=ee?.reduce((oe,ge)=>oe+(ge.network_commission_amount||0),0)||0,Q=ee?.filter(oe=>oe.commission_status==="Earned-Pending").reduce((oe,ge)=>oe+(ge.direct_commission_amount||0)+(ge.network_commission_amount||0),0)||0,ae=_8(new Date),q=ee?.filter(oe=>oe.commission_status==="Paid"&&new Date(oe.created_at)>=ae).reduce((oe,ge)=>oe+(ge.direct_commission_amount||0)+(ge.network_commission_amount||0),0)||0,{data:ke}=await ne.from("helpers").select("id, recruited_by_helper_id"),ye=ke?.filter(oe=>oe.recruited_by_helper_id)||[],xe=new Set(ye.map(oe=>oe.recruited_by_helper_id)).size,Re=new Map;ye.forEach(oe=>{const ge=Re.get(oe.recruited_by_helper_id)||0;Re.set(oe.recruited_by_helper_id,ge+1)});const je=Re.size>0?Math.max(...Array.from(Re.values())):0,mt=xe>0?ye.length/xe:0,ht=ee?.filter(oe=>oe.commission_status==="Paid").reduce((oe,ge)=>oe+(ge.network_commission_amount||0),0)||0;s({helperProgram:{totalApplications:U,pendingApplications:H,approvedHelpers:K,rejectedApplications:M,activeHelpers:V,suspendedHelpers:z},referralPerformance:{totalReferrals:F,onTrial:X,convertedToPaid:Z,conversionRate:re},commissionOverview:{totalEarned:ce,directCommissions:pe,networkCommissions:Y,pendingPayment:Q,paidThisMonth:q},networkGrowth:{totalNetworks:xe,largestNetwork:je,averageNetworkSize:mt,networkCommissionsPaid:ht}})},N=async()=>{const B=[];for(let U=11;U>=0;U--){const H=_Oe(new Date,U),M=_8(H),W=uJ(H),{data:K}=await ne.from("helper_applications").select("id, application_status, created_at").gte("created_at",M.toISOString()).lte("created_at",W.toISOString()),V=K?.length||0,z=K?.filter(re=>re.application_status==="Approved").length||0,G=K?.filter(re=>re.application_status==="Rejected").length||0,{data:F}=await ne.from("network_commissions").select("direct_commission_amount, network_commission_amount").gte("date_earned",M.toISOString()).lte("date_earned",W.toISOString()),X=F?.reduce((re,ee)=>re+(ee.direct_commission_amount||0),0)||0,Z=F?.reduce((re,ee)=>re+(ee.network_commission_amount||0),0)||0;B.push({month:sr(H,"MMM yyyy"),applications:V,approved:z,rejected:G,directCommissions:X,networkCommissions:Z,total:X+Z})}o(B)},k=async()=>{const{data:B}=await ne.from("helpers").select("id, full_name, created_at");if(!B)return;const H=(await Promise.all(B.map(async M=>{const{data:W}=await ne.from("store_referrals").select("id").eq("helper_id",M.id),{data:K}=await ne.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",M.id),V=K?.reduce((F,X)=>F+(X.direct_commission_amount||0),0)||0,z=K?.reduce((F,X)=>F+(X.network_commission_amount||0),0)||0,{data:G}=await ne.from("helpers").select("id").eq("recruited_by_helper_id",M.id);return{id:M.id,name:M.full_name,directCommissions:V,referralCount:W?.length||0,networkSize:G?.length||0,totalEarnings:V+z,joinedDate:M.created_at}}))).sort((M,W)=>W.totalEarnings-M.totalEarnings).slice(0,20);c(H)},R=async()=>{const{data:B}=await ne.from("helpers").select("id");if(!B)return;const U=await Promise.all(B.map(async G=>{const{data:F}=await ne.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",G.id);return F?.reduce((X,Z)=>X+(Z.direct_commission_amount||0)+(Z.network_commission_amount||0),0)||0}));U.sort((G,F)=>F-G);const H=U.length,M=Math.ceil(H*.1),W=Math.ceil(H*.4),K=U.slice(0,M),V=U.slice(M,M+W),z=U.slice(M+W);d([{name:"Top 10%",value:K.length,earnings:K.reduce((G,F)=>G+F,0)},{name:"Middle 40%",value:V.length,earnings:V.reduce((G,F)=>G+F,0)},{name:"Bottom 50%",value:z.length,earnings:z.reduce((G,F)=>G+F,0)}])},A=async()=>{const{data:B}=await ne.from("helper_applications").select("id, status"),{data:U}=await ne.from("helpers").select("id"),H=await Promise.all((U||[]).map(async M=>{const{data:W}=await ne.from("store_referrals").select("id, subscription_purchased").eq("helper_id",M.id),K=W?.some(z=>z.subscription_purchased===!0),{data:V}=await ne.from("helpers").select("id").eq("recruited_by_helper_id",M.id);return{hasReferrals:(W?.length||0)>0,hasPaidReferrals:K,hasRecruited:(V?.length||0)>0}}));m([{stage:"Applications Submitted",count:B?.length||0,percentage:100},{stage:"Applications Approved",count:U?.length||0,percentage:B?.length?(U?.length||0)/B.length*100:0},{stage:"Helpers with Referrals",count:H.filter(M=>M.hasReferrals).length,percentage:U?.length?H.filter(M=>M.hasReferrals).length/U.length*100:0},{stage:"Helpers with Paid Referrals",count:H.filter(M=>M.hasPaidReferrals).length,percentage:U?.length?H.filter(M=>M.hasPaidReferrals).length/U.length*100:0},{stage:"Helpers who Recruited",count:H.filter(M=>M.hasRecruited).length,percentage:U?.length?H.filter(M=>M.hasRecruited).length/U.length*100:0}])},I=()=>{try{const B=l.map((W,K)=>({Rank:K+1,"Helper Name":W.name,"Helper ID":W.id,"Direct Commissions":`${W.directCommissions.toLocaleString()}`,"Referral Count":W.referralCount,"Network Size":W.networkSize,"Total Earnings":`${W.totalEarnings.toLocaleString()}`,"Joined Date":sr(new Date(W.joinedDate),"PPP")})),U=os.json_to_sheet(B),H=os.book_new();os.book_append_sheet(H,U,"Top Performers");const M=`top_helpers_${sr(new Date,"yyyy-MM-dd")}.xlsx`;hf(H,M),dt.success("Report exported successfully!")}catch{dt.error("Failed to export report")}},P=()=>{if(!g.start||!g.end){dt.error("Please select date range");return}dt.success("Custom report generated!")},D=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(c4,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive insights into helper program performance"})]})]}),a.jsx(vt,{variant:"default",className:"text-sm px-3 py-1",children:"Super Admin"})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"text-base flex items-center gap-2",children:[a.jsx(ti,{className:"h-5 w-5 text-blue-500"}),"Helper Program Stats"]})}),a.jsxs(_e,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total applications:"}),a.jsx("span",{className:"font-semibold",children:n?.helperProgram.totalApplications})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),a.jsx("span",{className:"font-semibold text-yellow-600",children:n?.helperProgram.pendingApplications})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Approved helpers:"}),a.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.approvedHelpers})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rejected:"}),a.jsx("span",{className:"font-semibold text-red-600",children:n?.helperProgram.rejectedApplications})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Active helpers:"}),a.jsx("span",{className:"font-semibold text-green-600",children:n?.helperProgram.activeHelpers})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Suspended:"}),a.jsx("span",{className:"font-semibold text-orange-600",children:n?.helperProgram.suspendedHelpers})]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"text-base flex items-center gap-2",children:[a.jsx(Iq,{className:"h-5 w-5 text-green-500"}),"Referral Performance"]})}),a.jsxs(_e,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total referrals:"}),a.jsx("span",{className:"font-semibold",children:n?.referralPerformance.totalReferrals})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Currently on trial:"}),a.jsx("span",{className:"font-semibold text-blue-600",children:n?.referralPerformance.onTrial})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Converted to paid:"}),a.jsx("span",{className:"font-semibold text-green-600",children:n?.referralPerformance.convertedToPaid})]}),a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Conversion rate:"}),a.jsxs("span",{className:"font-bold text-green-600",children:[n?.referralPerformance.conversionRate.toFixed(1),"%"]})]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"text-base flex items-center gap-2",children:[a.jsx(Ds,{className:"h-5 w-5 text-green-500"}),"Commission Overview"]})}),a.jsxs(_e,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total earned:"}),a.jsxs("span",{className:"font-bold",children:["",n?.commissionOverview.totalEarned.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground ml-4",children:"Direct:"}),a.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground ml-4",children:"Network:"}),a.jsxs("span",{className:"font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending payment:"}),a.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Paid this month:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"text-base flex items-center gap-2",children:[a.jsx(nb,{className:"h-5 w-5 text-purple-500"}),"Network Growth"]})}),a.jsxs(_e,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total networks:"}),a.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Largest network:"}),a.jsxs("span",{className:"font-semibold text-blue-600",children:[n?.networkGrowth.largestNetwork," helpers"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Average size:"}),a.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Network commissions:"}),a.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Performance Charts"}),a.jsx(nn,{children:"Visual representation of key metrics over time"})]}),a.jsx(_e,{children:a.jsxs(mf,{defaultValue:"applications",children:[a.jsxs(Du,{className:"grid w-full grid-cols-4",children:[a.jsx(Kr,{value:"applications",children:"Applications"}),a.jsx(Kr,{value:"commissions",children:"Commissions"}),a.jsx(Kr,{value:"distribution",children:"Distribution"}),a.jsx(Kr,{value:"funnel",children:"Funnel"})]}),a.jsx(Yr,{value:"applications",className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Applications Over Time"}),a.jsx(ZC,{width:"100%",height:400,children:a.jsxs(zW,{data:i,children:[a.jsx(GO,{strokeDasharray:"3 3"}),a.jsx(Kx,{dataKey:"month"}),a.jsx(Yx,{}),a.jsx(Qi,{}),a.jsx(xu,{}),a.jsx(Ji,{dataKey:"applications",fill:"#8884d8",name:"Total Applications"}),a.jsx(Ji,{dataKey:"approved",fill:"#82ca9d",name:"Approved"}),a.jsx(Ji,{dataKey:"rejected",fill:"#ff8042",name:"Rejected"})]})})]})}),a.jsx(Yr,{value:"commissions",className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Commission Payouts"}),a.jsx(ZC,{width:"100%",height:400,children:a.jsxs(zW,{data:i,children:[a.jsx(GO,{strokeDasharray:"3 3"}),a.jsx(Kx,{dataKey:"month"}),a.jsx(Yx,{}),a.jsx(Qi,{}),a.jsx(xu,{}),a.jsx(Ji,{dataKey:"directCommissions",fill:"#0088FE",name:"Direct Commissions"}),a.jsx(Ji,{dataKey:"networkCommissions",fill:"#00C49F",name:"Network Commissions"}),a.jsx(Ji,{dataKey:"total",fill:"#FFBB28",name:"Total"})]})})]})}),a.jsx(Yr,{value:"distribution",className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Helper Performance Distribution"}),a.jsx(ZC,{width:"100%",height:400,children:a.jsxs(HYe,{children:[a.jsx(Nc,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:B=>`${B.name}: ${B.value} helpers`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:u.map((B,U)=>a.jsx(yj,{fill:D[U%D.length]},`cell-${U}`))}),a.jsx(Qi,{})]})}),a.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:u.map((B,U)=>a.jsx(we,{children:a.jsxs(_e,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:D[U%D.length]}}),a.jsx("span",{className:"font-semibold",children:B.name})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[B.value," helpers"]}),a.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["",B.earnings?.toLocaleString()," earned"]})]})},U))})]})}),a.jsx(Yr,{value:"funnel",className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conversion Funnel"}),a.jsx("div",{className:"space-y-3",children:f.map((B,U)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-semibold",children:B.stage}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[B.percentage.toFixed(1),"%"]}),a.jsx("span",{className:"font-bold",children:B.count})]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-8 relative overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-full flex items-center justify-center text-white text-sm font-semibold transition-all",style:{width:`${B.percentage}%`},children:B.percentage>20&&`${B.count} helpers`})})]},U))})]})})]})})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Detailed Reports"}),a.jsx(nn,{children:"In-depth analysis and performance reports"})]}),a.jsx(_e,{children:a.jsxs(mf,{defaultValue:"top-performers",children:[a.jsxs(Du,{className:"grid w-full grid-cols-4",children:[a.jsx(Kr,{value:"top-performers",children:"Top Performers"}),a.jsx(Kr,{value:"network",children:"Network Analytics"}),a.jsx(Kr,{value:"payments",children:"Payment Reports"}),a.jsx(Kr,{value:"applications",children:"Applications"})]}),a.jsxs(Yr,{value:"top-performers",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Top 20 Performing Helpers"}),a.jsxs(le,{onClick:I,children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{className:"w-16",children:"Rank"}),a.jsx(ze,{children:"Helper Name"}),a.jsx(ze,{children:"Direct Commissions"}),a.jsx(ze,{children:"Referral Count"}),a.jsx(ze,{children:"Network Size"}),a.jsx(ze,{children:"Total Earnings"}),a.jsx(ze,{children:"Joined Date"})]})}),a.jsx($s,{children:l.map((B,U)=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsxs(vt,{variant:U<3?"default":"secondary",children:["#",U+1]})}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:B.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:B.id})]})}),a.jsxs(Be,{className:"font-semibold",children:["",B.directCommissions.toLocaleString()]}),a.jsx(Be,{children:B.referralCount}),a.jsx(Be,{children:B.networkSize}),a.jsxs(Be,{className:"font-bold text-green-600",children:["",B.totalEarnings.toLocaleString()]}),a.jsx(Be,{className:"text-sm text-muted-foreground",children:sr(new Date(B.joinedDate),"PP")})]},B.id))})]})})]}),a.jsxs(Yr,{value:"network",className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Helper Network Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Network Distribution"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Networks:"}),a.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Average Size:"}),a.jsx("span",{className:"font-semibold",children:n?.networkGrowth.averageNetworkSize.toFixed(1)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Largest:"}),a.jsx("span",{className:"font-semibold",children:n?.networkGrowth.largestNetwork})]})]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Network Commissions"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Paid:"}),a.jsxs("span",{className:"font-bold text-green-600",children:["",n?.networkGrowth.networkCommissionsPaid.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),a.jsxs("span",{className:"font-semibold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Growth Metrics"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Active Recruiters:"}),a.jsx("span",{className:"font-semibold",children:n?.networkGrowth.totalNetworks})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Recruitment Rate:"}),a.jsxs("span",{className:"font-semibold",children:[n?.helperProgram.approvedHelpers&&n?.networkGrowth.totalNetworks?(n.networkGrowth.totalNetworks/n.helperProgram.approvedHelpers*100).toFixed(1):0,"%"]})]})]})})]})]})]}),a.jsxs(Yr,{value:"payments",className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reports"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Commission Type Breakdown"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"Direct Commissions"}),a.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.directCommissions.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.directCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"Network Commissions"}),a.jsxs("span",{className:"text-sm font-semibold",children:["",n?.commissionOverview.networkCommissions.toLocaleString()]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n?.commissionOverview.totalEarned?n.commissionOverview.networkCommissions/n.commissionOverview.totalEarned*100:0}%`}})})]})]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Payment Status"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Paid This Month"}),a.jsxs("span",{className:"font-bold text-green-600",children:["",n?.commissionOverview.paidThisMonth.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Pending Payment"}),a.jsxs("span",{className:"font-bold text-yellow-600",children:["",n?.commissionOverview.pendingPayment.toLocaleString()]})]})]})})]})]})]}),a.jsxs(Yr,{value:"applications",className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Application Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Total Applications"})}),a.jsx(_e,{children:a.jsx("p",{className:"text-3xl font-bold",children:n?.helperProgram.totalApplications})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Approval Rate"})}),a.jsx(_e,{children:a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.approvedHelpers/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Rejection Rate"})}),a.jsx(_e,{children:a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[n?.helperProgram.totalApplications?(n.helperProgram.rejectedApplications/n.helperProgram.totalApplications*100).toFixed(1):0,"%"]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx(Ke,{className:"text-base",children:"Pending Review"})}),a.jsx(_e,{children:a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n?.helperProgram.pendingApplications})})]})]})]})]})})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Custom Report Builder"}),a.jsx(nn,{children:"Generate custom reports based on your requirements"})]}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Start Date"}),a.jsx("input",{type:"date",value:g.start,onChange:B=>y({...g,start:B.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"End Date"}),a.jsx("input",{type:"date",value:g.end,onChange:B=>y({...g,end:B.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Select Metrics"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"metric-applications",checked:x.applications,onCheckedChange:B=>v({...x,applications:B})}),a.jsx("label",{htmlFor:"metric-applications",className:"text-sm",children:"Applications"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"metric-approvals",checked:x.approvals,onCheckedChange:B=>v({...x,approvals:B})}),a.jsx("label",{htmlFor:"metric-approvals",className:"text-sm",children:"Approvals"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"metric-referrals",checked:x.referrals,onCheckedChange:B=>v({...x,referrals:B})}),a.jsx("label",{htmlFor:"metric-referrals",className:"text-sm",children:"Referrals"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"metric-commissions",checked:x.commissions,onCheckedChange:B=>v({...x,commissions:B})}),a.jsx("label",{htmlFor:"metric-commissions",className:"text-sm",children:"Commissions"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"metric-payments",checked:x.payments,onCheckedChange:B=>v({...x,payments:B})}),a.jsx("label",{htmlFor:"metric-payments",className:"text-sm",children:"Payments"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ma,{id:"metric-network",checked:x.networkStats,onCheckedChange:B=>v({...x,networkStats:B})}),a.jsx("label",{htmlFor:"metric-network",className:"text-sm",children:"Network Stats"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Group By"}),a.jsxs(_r,{value:j,onValueChange:S,children:[a.jsx(yr,{children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"day",children:"By Day"}),a.jsx(Me,{value:"week",children:"By Week"}),a.jsx(Me,{value:"month",children:"By Month"})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(le,{onClick:P,className:"flex-1",children:[a.jsx(gm,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),a.jsxs(le,{variant:"outline",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export to Excel"]}),a.jsxs(le,{variant:"outline",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export to PDF"]}),a.jsxs(le,{variant:"outline",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]})]})]})]})},KYe=Tf({name:lr().min(1,"Name is required"),slug:lr().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug must be lowercase with hyphens only"),description:lr().optional(),monthly_price:pd.number().min(0,"Price must be 0 or greater"),yearly_price:pd.number().min(0,"Price must be 0 or greater").optional(),max_products:pd.number().optional(),enable_whatsapp_orders:tl().default(!1),whatsapp_orders_limit:pd.number().optional(),enable_website_orders:tl().default(!1),website_orders_limit:pd.number().optional(),trial_days:pd.number().min(0).default(14),is_active:tl().default(!0),is_popular:tl().default(!1),badge_text:lr().optional(),badge_color:lr().optional(),display_order:pd.number().default(0),enable_location_sharing:tl().default(!1),enable_analytics:tl().default(!1),enable_custom_domain:tl().default(!1),enable_order_emails:tl().default(!1),enable_ai_voice:tl().default(!1)}),YYe=({open:e,onOpenChange:t,onSubmit:r,defaultValues:n,mode:s})=>{const i=vv({resolver:yv(KYe),defaultValues:{name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1}});_.useEffect(()=>{e&&n?i.reset(n):e&&!n&&i.reset({name:"",slug:"",description:"",monthly_price:0,yearly_price:0,max_products:void 0,enable_whatsapp_orders:!1,whatsapp_orders_limit:void 0,enable_website_orders:!1,website_orders_limit:void 0,trial_days:14,is_active:!0,is_popular:!1,badge_text:"",badge_color:"",display_order:0,enable_location_sharing:!1,enable_analytics:!1,enable_custom_domain:!1,enable_order_emails:!1,enable_ai_voice:!1})},[e,n,i]);const o=async l=>{await r(l),i.reset()};return a.jsx(Hn,{open:e,onOpenChange:t,children:a.jsxs(Pn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(On,{children:[a.jsx(Rn,{children:s==="add"?"Add New Plan":"Edit Plan"}),a.jsx(Xs,{children:s==="add"?"Create a new subscription plan with custom features.":"Update the subscription plan details and features."})]}),a.jsx(wv,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"}),a.jsx(Lt,{control:i.control,name:"name",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Plan Name"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"e.g., Free, Pro, Business",...l})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"slug",render:({field:l})=>a.jsxs(Mt,{children:[a.jsxs(Dt,{className:"flex items-center gap-2",children:["Slug",a.jsx(R0,{children:a.jsxs(tw,{children:[a.jsx(rw,{asChild:!0,children:a.jsx(O0,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),a.jsx(D0,{children:a.jsx("p",{className:"max-w-xs",children:"Unique identifier used in URLs and code. Must be lowercase with hyphens only."})})]})})]}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"e.g., free, pro, business",...l})}),a.jsx(Ca,{children:"Lowercase letters, numbers, and hyphens only"}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"description",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Description"}),a.jsx(Ft,{children:a.jsx(Js,{placeholder:"Brief description of the plan",...l,value:l.value||""})}),a.jsx(Jt,{})]})})]}),a.jsx(Pd,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Pricing"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Lt,{control:i.control,name:"monthly_price",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Monthly Price ()"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"0",...l})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"yearly_price",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Yearly Price ()"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"0",...l,value:l.value||""})}),a.jsx(Jt,{})]})})]})]}),a.jsx(Pd,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Limits & Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Lt,{control:i.control,name:"max_products",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Max Products"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),a.jsx(Ca,{children:"Empty = Unlimited"}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"trial_days",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Trial Days"}),a.jsx(Ft,{children:a.jsx(De,{type:"number",...l})}),a.jsx(Jt,{})]})})]}),a.jsx(Lt,{control:i.control,name:"display_order",render:({field:l})=>a.jsxs(Mt,{children:[a.jsxs(Dt,{className:"flex items-center gap-2",children:["Display Order",a.jsx(R0,{children:a.jsxs(tw,{children:[a.jsx(rw,{asChild:!0,children:a.jsx(O0,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),a.jsx(D0,{children:a.jsx("p",{className:"max-w-xs",children:"Controls the order in which plans appear on the pricing page. Lower numbers (0, 1, 2...) appear first."})})]})})]}),a.jsx(Ft,{children:a.jsx(De,{type:"number",...l})}),a.jsx(Ca,{children:"Lower numbers appear first"}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"enable_whatsapp_orders",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"WhatsApp Orders Limit"}),a.jsx(Ca,{children:"Set a monthly limit for WhatsApp orders"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_whatsapp_orders")&&a.jsx(Lt,{control:i.control,name:"whatsapp_orders_limit",render:({field:l})=>a.jsxs(Mt,{children:[a.jsxs(Dt,{className:"flex items-center gap-2",children:["WhatsApp Orders per Month",a.jsx(R0,{children:a.jsxs(tw,{children:[a.jsx(rw,{asChild:!0,children:a.jsx(O0,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),a.jsx(D0,{children:a.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via WhatsApp per billing period."})})]})})]}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),a.jsx(Ca,{children:"Empty = Unlimited"}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"enable_website_orders",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Website Orders Limit"}),a.jsx(Ca,{children:"Set a monthly limit for website orders"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),i.watch("enable_website_orders")&&a.jsx(Lt,{control:i.control,name:"website_orders_limit",render:({field:l})=>a.jsxs(Mt,{children:[a.jsxs(Dt,{className:"flex items-center gap-2",children:["Website Orders per Month",a.jsx(R0,{children:a.jsxs(tw,{children:[a.jsx(rw,{asChild:!0,children:a.jsx(O0,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),a.jsx(D0,{children:a.jsx("p",{className:"max-w-xs",children:"Maximum number of orders store owners can receive via website per billing period."})})]})})]}),a.jsx(Ft,{children:a.jsx(De,{type:"number",placeholder:"Leave empty for unlimited",...l,value:l.value||""})}),a.jsx(Ca,{children:"Empty = Unlimited"}),a.jsx(Jt,{})]})})]}),a.jsx(Pd,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Features"}),a.jsx(Lt,{control:i.control,name:"enable_location_sharing",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Location Sharing"}),a.jsx(Ca,{children:"Allow users to share delivery locations"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),a.jsx(Lt,{control:i.control,name:"enable_analytics",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Analytics"}),a.jsx(Ca,{children:"Access to analytics dashboard and reports"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),a.jsx(Lt,{control:i.control,name:"enable_custom_domain",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Custom Domain"}),a.jsx(Ca,{children:"Allow store owners to connect their own domain"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),a.jsx(Lt,{control:i.control,name:"enable_order_emails",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Order Email Notifications"}),a.jsx(Ca,{children:"Send email notifications to store owners when new orders arrive"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),a.jsx(Lt,{control:i.control,name:"enable_ai_voice",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"AI Voice Assistant"}),a.jsx(Ca,{children:"Allow store owners to add ElevenLabs AI voice embed code"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),a.jsx(Pd,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Badge & Status"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Lt,{control:i.control,name:"badge_text",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Badge Text"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"e.g., Most Popular",...l,value:l.value||""})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:i.control,name:"badge_color",render:({field:l})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Badge Color"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"e.g., blue, green",...l,value:l.value||""})}),a.jsx(Jt,{})]})})]}),a.jsx(Lt,{control:i.control,name:"is_popular",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Mark as Popular"}),a.jsx(Ca,{children:"Highlight this plan with a special border"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})}),a.jsx(Lt,{control:i.control,name:"is_active",render:({field:l})=>a.jsxs(Mt,{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Dt,{className:"text-base",children:"Active"}),a.jsx(Ca,{children:"Make this plan available to users"})]}),a.jsx(Ft,{children:a.jsx(un,{checked:l.value,onCheckedChange:l.onChange})})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(le,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(le,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Saving...":s==="add"?"Create Plan":"Update Plan"})]})]})})]})})},XYe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState([]),[s,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState("add"),[d,f]=_.useState(null),[m,g]=_.useState(!1),[y,x]=_.useState(null),[v,j]=_.useState(0),[S,w]=_.useState(!1);_.useEffect(()=>{(async()=>{const{data:{user:D}}=await ne.auth.getUser();if(!D&&!sessionStorage.getItem("superadmin_session")){e("/superadmin/login");return}if(D){const{data:B}=await ne.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!B||B.length===0){e("/superadmin/login");return}}T()})()},[e]);const T=async()=>{try{const{data:P,error:D}=await ne.from("subscription_plans").select("*").order("display_order");if(D)throw D;n(P||[])}catch{t({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{i(!1)}},E=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P),N=()=>{u("add"),f(null),l(!0)},k=P=>{u("edit");const D={...P,enable_whatsapp_orders:P.whatsapp_orders_limit!==null,enable_website_orders:P.website_orders_limit!==null};f(D),l(!0)},R=async P=>{x(P),w(!0),g(!0);try{const{count:D,error:B}=await ne.from("subscriptions").select("*",{count:"exact",head:!0}).eq("plan_id",P).in("status",["active","trial"]);if(B)throw B;j(D||0)}catch(D){console.error("Error checking active subscribers:",D),j(0)}finally{w(!1)}},A=async()=>{if(y){if(v>0){t({title:"Cannot Delete Plan",description:`This plan has ${v} active subscriber${v>1?"s":""}. Please deactivate the plan instead or migrate users to another plan first.`,variant:"destructive"}),g(!1),x(null);return}try{const{error:P}=await ne.from("subscription_plans").delete().eq("id",y);if(P)throw P;n(r.filter(D=>D.id!==y)),t({title:"Success",description:"Plan deleted successfully"})}catch{t({title:"Error",description:"Failed to delete plan",variant:"destructive"}),T()}finally{g(!1),x(null),j(0)}}},I=async P=>{try{const D={...P,whatsapp_orders_limit:P.enable_whatsapp_orders?P.whatsapp_orders_limit||0:null,website_orders_limit:P.enable_website_orders?P.website_orders_limit||0:null};if(delete D.enable_whatsapp_orders,delete D.enable_website_orders,c==="add"){const{data:B,error:U}=await ne.from("subscription_plans").insert([D]).select().single();if(U)throw U;n([...r,B]),t({title:"Success",description:"Plan created successfully"})}else if(d){const{data:B,error:U}=await ne.from("subscription_plans").update(D).eq("id",d.id).select().single();if(U)throw U;n(r.map(H=>H.id===d.id?B:H)),t({title:"Success",description:"Plan updated successfully"})}l(!1)}catch{t({title:"Error",description:`Failed to ${c} plan`,variant:"destructive"}),T()}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Plans"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscription plans and pricing"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(le,{onClick:N,children:[a.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Plan"]})]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:s?a.jsx("div",{className:"text-center py-12",children:"Loading plans..."}):a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(P=>a.jsxs(we,{className:P.is_popular?"border-primary":"",children:[a.jsxs(Ge,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(Ke,{children:P.name}),a.jsx(nn,{className:"mt-2",children:P.description})]}),P.is_popular&&a.jsx(vt,{variant:"default",children:"Popular"})]}),P.badge_text&&a.jsx(vt,{variant:"outline",className:"w-fit",children:P.badge_text})]}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:E(P.monthly_price)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"}),P.yearly_price&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[E(P.yearly_price),"/year"]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:["Max Products: ",P.max_products===0||P.max_products===null?"Unlimited":P.max_products]}),a.jsxs("p",{children:["WhatsApp Orders: ",P.whatsapp_orders_limit===0||P.whatsapp_orders_limit===null?"Unlimited":P.whatsapp_orders_limit]}),a.jsxs("p",{children:["Website Orders: ",P.website_orders_limit===0||P.website_orders_limit===null?"Unlimited":P.website_orders_limit]}),a.jsxs("p",{children:["Status: ",P.is_active?"Active":"Inactive"]}),a.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[P.enable_location_sharing&&a.jsx(vt,{variant:"secondary",children:"Location"}),P.enable_analytics&&a.jsx(vt,{variant:"secondary",children:"Analytics"}),P.enable_custom_domain&&a.jsx(vt,{variant:"secondary",children:"Custom Domain"}),P.enable_ai_voice&&a.jsx(vt,{variant:"secondary",children:"AI Voice"})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsxs(le,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>k(P),children:[a.jsx(Nu,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsx(le,{variant:"outline",size:"sm",onClick:()=>R(P.id),children:a.jsx(fa,{className:"h-4 w-4"})})]})]})})]},P.id))})}),a.jsx(YYe,{open:o,onOpenChange:l,onSubmit:I,mode:c,defaultValues:d||void 0}),a.jsx(Tb,{open:m,onOpenChange:g,children:a.jsxs(Mg,{children:[a.jsxs(Fg,{children:[a.jsx($g,{children:S?"Checking Active Subscribers...":"Delete Subscription Plan"}),a.jsx(Bg,{className:"space-y-3",children:S?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),a.jsx("span",{children:"Checking for active subscribers..."})]}):a.jsx(a.Fragment,{children:v>0?a.jsxs("div",{className:"rounded-lg border-2 border-destructive bg-destructive/10 p-4",children:[a.jsx("p",{className:"font-semibold text-destructive",children:" Cannot Delete This Plan"}),a.jsxs("p",{className:"mt-2 text-sm",children:["This plan currently has"," ",a.jsx("span",{className:"font-bold",children:v})," ","active subscriber",v>1?"s":"","."]}),a.jsxs("p",{className:"mt-2 text-sm",children:[a.jsx("strong",{children:"Recommended:"}),' Use the "Active" toggle to deactivate this plan instead. This will hide it from new users while keeping existing subscriptions working.']})]}):a.jsxs("div",{className:"rounded-lg border border-green-500 bg-green-50 p-4 dark:bg-green-950",children:[a.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:" Safe to Delete"}),a.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["This plan has ",a.jsx("span",{className:"font-bold",children:"0 active subscribers"}),"."]}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Are you sure you want to permanently delete this subscription plan? This action cannot be undone."})]})})})]}),a.jsxs(Lg,{children:[a.jsx(Vg,{children:"Cancel"}),a.jsx(Ug,{onClick:A,disabled:S||v>0,className:v>0?"bg-gray-400 hover:bg-gray-400":"bg-destructive hover:bg-destructive/90",children:v>0?"Cannot Delete":"Delete Plan"})]})]})})]})},ZYe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState([]),[s,i]=_.useState(!0);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:m}}=await ne.auth.getUser();if(!m){e("/superadmin/login");return}const{data:g}=await ne.from("user_roles").select("role").eq("user_id",m.id).eq("role","super_admin");if(!g||g.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:d,error:f}=await ne.from("transactions").select("*").order("created_at",{ascending:!1});if(f)throw f;const m=[...new Set(d?.map(x=>x.user_id)||[])],{data:g}=await ne.from("profiles").select("user_id, email, full_name").in("user_id",m),y=d?.map(x=>({...x,profiles:g?.find(v=>v.user_id===x.user_id)||{email:"",full_name:""}}))||[];n(y)}catch{t({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{i(!1)}},l=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d),c=d=>new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=d=>{const f={completed:"default",pending:"secondary",failed:"destructive"};return a.jsx(vt,{variant:f[d]||"secondary",children:d})};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View all payment transactions"})]})]}),a.jsx(ta,{})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:s?a.jsx("div",{className:"text-center py-12",children:"Loading transactions..."}):a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Invoice"}),a.jsx(ze,{children:"User"}),a.jsx(ze,{children:"Amount"}),a.jsx(ze,{children:"Gateway"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Date"})]})}),a.jsx($s,{children:r.length===0?a.jsx(cr,{children:a.jsx(Be,{colSpan:6,className:"text-center text-muted-foreground",children:"No transactions found"})}):r.map(d=>a.jsxs(cr,{children:[a.jsx(Be,{className:"font-medium",children:d.invoice_number||"N/A"}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:d.profiles?.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:d.profiles?.email})]})}),a.jsx(Be,{children:l(d.total_amount)}),a.jsx(Be,{children:d.payment_gateway}),a.jsx(Be,{children:u(d.status)}),a.jsx(Be,{children:c(d.created_at)})]},d.id))})]})})})]})};function QYe(){const e=nr(),[t,r]=_.useState(!0),[n,s]=_.useState({totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState(""),[g,y]=_.useState("all"),[x,v]=_.useState("30"),[j,S]=_.useState(!1);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){w();return}const{data:{user:D}}=await ne.auth.getUser();if(!D){Ve({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}const{data:B}=await ne.from("user_roles").select("role").eq("user_id",D.id).eq("role","super_admin");if(!B||B.length===0){Ve({title:"Access Denied",description:"You need admin privileges",variant:"destructive"}),e("/superadmin/login");return}w()})()},[e]);const w=async()=>{try{r(!0);const{data:I,error:P}=await ne.from("subscriptions").select(`
          id,
          user_id,
          plan_id,
          status,
          billing_cycle,
          created_at,
          current_period_end,
          trial_ends_at,
          subscription_plans (
            name,
            monthly_price,
            yearly_price
          )
        `).order("created_at",{ascending:!1});if(P)throw P;const D=[...new Set(I?.map(ae=>ae.user_id)||[])],{data:B}=await ne.from("profiles").select("user_id, email, full_name").in("user_id",D),U=I?.map(ae=>({...ae,profiles:B?.find(q=>q.user_id===ae.user_id)||{email:"",full_name:null}}))||[];o(U);const H=U.filter(ae=>ae.status==="pending_payment");d(H);const{data:M,error:W}=await ne.from("transactions").select("*").order("created_at",{ascending:!1}).limit(100);if(W)throw W;const K=[...new Set(M?.map(ae=>ae.user_id)||[])],{data:V}=await ne.from("profiles").select("user_id, email, full_name").in("user_id",K),z=M?.map(ae=>({...ae,profiles:V?.find(q=>q.user_id===ae.user_id)||{email:"",full_name:null}}))||[];c(z);const G=new Date,F=new Date(G.getTime()-720*60*60*1e3),X=new Date(G.getTime()-1440*60*60*1e3),Z=z.filter(ae=>ae.status==="success"||ae.status==="completed").reduce((ae,q)=>ae+(q.total_amount||0),0),re=z.filter(ae=>(ae.status==="success"||ae.status==="completed")&&new Date(ae.created_at)>=F).reduce((ae,q)=>ae+(q.total_amount||0),0),ee=z.filter(ae=>(ae.status==="success"||ae.status==="completed")&&new Date(ae.created_at)>=X&&new Date(ae.created_at)<F).reduce((ae,q)=>ae+(q.total_amount||0),0),ce=ee>0?(re-ee)/ee*100:0,pe=U.filter(ae=>ae.status==="active").length,Y=H.length,Q=z.filter(ae=>ae.status==="failed").length;s({totalRevenue:Z,monthlyRevenue:re,revenueGrowth:ce,activeSubscriptions:pe,pendingPayments:Y,failedPayments:Q})}catch(I){Ve({title:"Error",description:I.message,variant:"destructive"})}finally{r(!1)}},T=async()=>{try{S(!0);const I=new Date(Date.now()-1440*60*1e3),{error:P}=await ne.from("subscriptions").delete().eq("status","pending_payment").lt("created_at",I.toISOString());if(P)throw P;Ve({title:"Success",description:"Old pending payments cleaned up successfully"}),w()}catch(I){Ve({title:"Error",description:I.message,variant:"destructive"})}finally{S(!1)}},E=async()=>{try{const I=await Ef(()=>Promise.resolve().then(()=>qQ),void 0),P=N.map(U=>({Invoice:U.invoice_number||"N/A","User Email":U.profiles?.email||"N/A","User Name":U.profiles?.full_name||"N/A",Amount:`${U.total_amount}`,Gateway:U.payment_gateway,Method:U.payment_method||"N/A",Status:U.status,Date:new Date(U.created_at).toLocaleString()})),D=I.utils.json_to_sheet(P),B=I.utils.book_new();I.utils.book_append_sheet(B,D,"Transactions"),I.writeFile(B,`transactions_${new Date().toISOString().split("T")[0]}.xlsx`),Ve({title:"Success",description:`Exported ${P.length} transactions`})}catch(I){Ve({title:"Error",description:I.message,variant:"destructive"})}},N=l.filter(I=>{const P=I.profiles?.email?.toLowerCase().includes(f.toLowerCase())||I.invoice_number?.toLowerCase().includes(f.toLowerCase()),D=g==="all"||I.status===g,B=parseInt(x),U=new Date(Date.now()-B*24*60*60*1e3),H=new Date(I.created_at)>=U;return P&&D&&H}),k=i.filter(I=>{const P=I.profiles?.email?.toLowerCase().includes(f.toLowerCase())||I.subscription_plans?.name?.toLowerCase().includes(f.toLowerCase()),D=g==="all"||I.status===g;return P&&D}),R=I=>{const D={success:{variant:"default",icon:vs,label:"Success"},completed:{variant:"default",icon:vs,label:"Completed"},pending:{variant:"secondary",icon:Gn,label:"Pending"},pending_payment:{variant:"outline",icon:wa,label:"Pending Payment"},failed:{variant:"destructive",icon:Qs,label:"Failed"},active:{variant:"default",icon:vs,label:"Active"},trial:{variant:"secondary",icon:Gn,label:"Trial"},expired:{variant:"destructive",icon:Qs,label:"Expired"},cancelled:{variant:"outline",icon:Qs,label:"Cancelled"}}[I]||{variant:"secondary",icon:Gn,label:I},B=D.icon;return a.jsxs(vt,{variant:D.variant,className:"flex items-center gap-1 w-fit",children:[a.jsx(B,{className:"w-3 h-3"}),D.label]})},A=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I);return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx(xl,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{children:"Loading billing data..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Billing & Revenue"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage subscriptions, transactions, and revenue"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ta,{}),a.jsxs(le,{variant:"outline",onClick:w,children:[a.jsx(xl,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs(we,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A(n.totalRevenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time earnings"})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium",children:"Monthly Revenue"}),a.jsx(Lo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:A(n.monthlyRevenue)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.revenueGrowth>=0?"+":"",n.revenueGrowth.toFixed(1),"% from last month"]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium",children:"Active Subscriptions"}),a.jsx(ti,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.activeSubscriptions}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium",children:"Pending Payments"}),a.jsx(wa,{className:"h-4 w-4 text-orange-500"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.pendingPayments}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium",children:"Failed Payments"}),a.jsx(Qs,{className:"h-4 w-4 text-destructive"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.failedPayments}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Unsuccessful transactions"})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium",children:"Total Subscriptions"}),a.jsx(_u,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscriptions"})]})]})]}),n.pendingPayments>0&&a.jsxs(we,{className:"border-orange-500 bg-orange-50 dark:bg-orange-950",children:[a.jsxs(Ge,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wa,{className:"h-5 w-5 text-orange-500"}),a.jsxs(Ke,{className:"text-orange-700 dark:text-orange-300",children:[n.pendingPayments," Pending Payment",n.pendingPayments>1?"s":""]})]}),a.jsxs(le,{variant:"destructive",size:"sm",onClick:T,disabled:j,children:[a.jsx(fa,{className:"w-4 h-4 mr-2"}),j?"Cleaning...":"Clean Old (>24h)"]})]}),a.jsx(nn,{className:"text-orange-600 dark:text-orange-400",children:"These subscriptions are awaiting payment. Old pending payments (>24 hours) are automatically cleaned up every hour."})]}),u.length>0&&a.jsx(_e,{children:a.jsxs("div",{className:"space-y-2",children:[u.slice(0,5).map(I=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:I.profiles?.email}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.subscription_plans?.name," - ",A(I.billing_cycle==="yearly"&&I.subscription_plans?.yearly_price?I.subscription_plans.yearly_price:I.subscription_plans?.monthly_price||0)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:um(new Date(I.created_at),{addSuffix:!0})})})]},I.id)),u.length>5&&a.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",u.length-5," more pending"]})]})})]}),a.jsxs(mf,{defaultValue:"transactions",className:"w-full",children:[a.jsxs(Du,{className:"grid w-full max-w-md grid-cols-2",children:[a.jsx(Kr,{value:"transactions",children:"Transactions"}),a.jsx(Kr,{value:"subscriptions",children:"Subscriptions"})]}),a.jsx(Yr,{value:"transactions",className:"space-y-4",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ke,{children:"Transaction History"}),a.jsx(nn,{children:"View and manage all payment transactions"})]}),a.jsxs(le,{variant:"outline",onClick:E,children:[a.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative md:col-span-2",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by email or invoice...",value:f,onChange:I=>m(I.target.value),className:"pl-10"})]}),a.jsxs(_r,{value:g,onValueChange:y,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"success",children:"Success"}),a.jsx(Me,{value:"completed",children:"Completed"}),a.jsx(Me,{value:"pending",children:"Pending"}),a.jsx(Me,{value:"failed",children:"Failed"})]})]}),a.jsxs(_r,{value:x,onValueChange:v,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Date Range"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"7",children:"Last 7 days"}),a.jsx(Me,{value:"30",children:"Last 30 days"}),a.jsx(Me,{value:"90",children:"Last 90 days"}),a.jsx(Me,{value:"365",children:"Last year"}),a.jsx(Me,{value:"9999",children:"All time"})]})]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Invoice"}),a.jsx(ze,{children:"User"}),a.jsx(ze,{children:"Amount"}),a.jsx(ze,{children:"Gateway"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Date"})]})}),a.jsx($s,{children:N.length===0?a.jsx(cr,{children:a.jsx(Be,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No transactions found"})}):N.map(I=>a.jsxs(cr,{children:[a.jsx(Be,{className:"font-medium",children:I.invoice_number||"N/A"}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:I.profiles?.full_name||"N/A"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:I.profiles?.email})]})}),a.jsx(Be,{className:"font-medium",children:A(I.total_amount)}),a.jsx(Be,{children:a.jsx(vt,{variant:"outline",children:I.payment_gateway})}),a.jsx(Be,{children:R(I.status)}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{children:new Date(I.created_at).toLocaleDateString()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:um(new Date(I.created_at),{addSuffix:!0})})]})})]},I.id))})]})}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",N.length," of ",l.length," transactions"]})]})]})}),a.jsx(Yr,{value:"subscriptions",className:"space-y-4",children:a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx(Ke,{children:"All Subscriptions"}),a.jsx(nn,{children:"Manage all user subscriptions"})]})})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative md:col-span-2",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by email or plan...",value:f,onChange:I=>m(I.target.value),className:"pl-10"})]}),a.jsxs(_r,{value:g,onValueChange:y,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"active",children:"Active"}),a.jsx(Me,{value:"trial",children:"Trial"}),a.jsx(Me,{value:"pending_payment",children:"Pending Payment"}),a.jsx(Me,{value:"expired",children:"Expired"}),a.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"User"}),a.jsx(ze,{children:"Plan"}),a.jsx(ze,{children:"Amount"}),a.jsx(ze,{children:"Billing Cycle"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Period End"})]})}),a.jsx($s,{children:k.length===0?a.jsx(cr,{children:a.jsx(Be,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No subscriptions found"})}):k.map(I=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:I.profiles?.full_name||"N/A"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:I.profiles?.email})]})}),a.jsx(Be,{children:a.jsx(vt,{variant:"outline",children:I.subscription_plans?.name})}),a.jsx(Be,{className:"font-medium",children:A(I.billing_cycle==="yearly"&&I.subscription_plans?.yearly_price?I.subscription_plans.yearly_price:I.subscription_plans?.monthly_price||0)}),a.jsx(Be,{children:a.jsx(vt,{variant:"secondary",children:I.billing_cycle})}),a.jsx(Be,{children:R(I.status)}),a.jsx(Be,{children:I.current_period_end?a.jsxs("div",{children:[a.jsx("p",{children:new Date(I.current_period_end).toLocaleDateString()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:um(new Date(I.current_period_end),{addSuffix:!0})})]}):a.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},I.id))})]})}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",k.length," of ",i.length," subscriptions"]})]})]})})]})]})]})}const JYe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState([]),[s,i]=_.useState(!0);_.useEffect(()=>{(async()=>{if(sessionStorage.getItem("superadmin_session")){o();return}const{data:{user:u}}=await ne.auth.getUser();if(!u){e("/superadmin/login");return}const{data:d}=await ne.from("user_roles").select("role").eq("user_id",u.id).eq("role","super_admin");if(!d||d.length===0){e("/superadmin/login");return}o()})()},[e]);const o=async()=>{try{const{data:l,error:c}=await ne.from("stores").select("id, name, slug, custom_domain, user_id").not("custom_domain","is",null).order("name");if(c)throw c;const u=[...new Set(l?.map(m=>m.user_id)||[])],{data:d}=await ne.from("profiles").select("user_id, email, full_name").in("user_id",u),f=l?.map(m=>({id:m.id,name:m.name,slug:m.slug,custom_domain:m.custom_domain,profiles:d?.find(g=>g.user_id===m.user_id)||{email:"",full_name:""}}))||[];n(f)}catch{t({title:"Error",description:"Failed to load custom domains",variant:"destructive"})}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Custom Domains"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage custom domains for stores"})]})]}),a.jsx(ta,{})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:s?a.jsx("div",{className:"text-center py-12",children:"Loading domains..."}):a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Store"}),a.jsx(ze,{children:"Owner"}),a.jsx(ze,{children:"Domain"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Actions"})]})}),a.jsx($s,{children:r.length===0?a.jsx(cr,{children:a.jsx(Be,{colSpan:5,className:"text-center text-muted-foreground",children:"No custom domains found"})}):r.map(l=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:l.slug})]})}),a.jsx(Be,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.profiles?.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:l.profiles?.email})]})}),a.jsx(Be,{children:a.jsxs("a",{href:`https://${l.custom_domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[l.custom_domain,a.jsx(ju,{className:"h-3 w-3"})]})}),a.jsx(Be,{children:a.jsx(vt,{variant:"default",children:"Active"})}),a.jsx(Be,{children:a.jsx(le,{variant:"outline",size:"sm",onClick:()=>t({title:"Coming soon",description:"Domain management features"}),children:"Manage"})})]},l.id))})]})})})]})},WW="00000000-0000-0000-0000-000000000000",eXe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState({sender_email:"",sender_name:"",platform_name:"",auto_cleanup_orders:!1,orders_cleanup_months:6,auto_cleanup_active_logs:!1,active_logs_cleanup_months:6,auto_cleanup_inactive_logs:!1,inactive_logs_cleanup_months:6,razorpay_key_id:"",razorpay_key_secret:"",razorpay_test_mode:!1}),[s,i]=_.useState(!1),[o,l]=_.useState(!0),[c,u]=_.useState(!1),[d,f]=_.useState([]),[m,g]=_.useState(""),[y,x]=_.useState(""),[v,j]=_.useState(""),[S,w]=_.useState(""),[T,E]=_.useState(!1),[N,k]=_.useState(!1);_.useEffect(()=>{const P=async()=>{if(sessionStorage.getItem("superadmin_session")){await Promise.all([D(),B()]);return}const{data:{user:H}}=await ne.auth.getUser();if(!H){e("/superadmin/login");return}const{data:M}=await ne.from("user_roles").select("role").eq("user_id",H.id).eq("role","super_admin");!M||M.length===0?e("/superadmin/login"):await Promise.all([D(),B()])},D=async()=>{const{data:U}=await ne.from("subscription_plans").select("*").eq("is_active",!0).order("display_order");if(U){f(U);const H=U.find(M=>M.is_default_plan);H&&g(H.id)}},B=async()=>{try{const{data:U,error:H}=await ne.from("platform_settings").select("*").eq("id",WW).single();if(H)throw H;U&&n({sender_email:U.sender_email||"",sender_name:U.sender_name||"",platform_name:U.platform_name||"",auto_cleanup_orders:U.auto_cleanup_orders||!1,orders_cleanup_months:U.orders_cleanup_months||6,auto_cleanup_active_logs:U.auto_cleanup_active_logs||!1,active_logs_cleanup_months:U.active_logs_cleanup_months||6,auto_cleanup_inactive_logs:U.auto_cleanup_inactive_logs||!1,inactive_logs_cleanup_months:U.inactive_logs_cleanup_months||6,razorpay_key_id:U.razorpay_key_id||"",razorpay_key_secret:U.razorpay_key_secret||"",razorpay_test_mode:U.razorpay_test_mode||!1})}catch(U){console.error("Error loading settings:",U),t({title:"Error",description:"Failed to load platform settings",variant:"destructive"})}finally{l(!1)}};P()},[e,t]);const R=async()=>{i(!0);try{const{error:P}=await ne.from("platform_settings").update({sender_email:r.sender_email,sender_name:r.sender_name,platform_name:r.platform_name,auto_cleanup_orders:r.auto_cleanup_orders,orders_cleanup_months:r.orders_cleanup_months,auto_cleanup_active_logs:r.auto_cleanup_active_logs,active_logs_cleanup_months:r.active_logs_cleanup_months,auto_cleanup_inactive_logs:r.auto_cleanup_inactive_logs,inactive_logs_cleanup_months:r.inactive_logs_cleanup_months,razorpay_key_id:r.razorpay_key_id,razorpay_key_secret:r.razorpay_key_secret,razorpay_test_mode:r.razorpay_test_mode}).eq("id",WW);if(P)throw P;m&&(await ne.from("subscription_plans").update({is_default_plan:!1}).neq("id",m),await ne.from("subscription_plans").update({is_default_plan:!0}).eq("id",m)),t({title:"Settings saved",description:"Platform settings have been updated successfully."})}catch(P){console.error("Save error:",P),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{i(!1)}},A=async P=>{u(!0);try{const D={ordersMonths:9999,activeLogsMonths:9999,inactiveLogsMonths:9999,cleanupOrders:P==="all"||P==="orders",cleanupActiveLogs:P==="all"||P==="activeLogs",cleanupInactiveLogs:P==="all"||P==="inactiveLogs"},{data:B,error:U}=await ne.functions.invoke("cleanup-old-orders",{body:D});if(U)throw U;const H=[];B.results.orders?.deleted&&H.push(`${B.results.orders.deleted} orders`),B.results.activeLogs?.deleted&&H.push(`${B.results.activeLogs.deleted} active logs`),B.results.inactiveLogs?.deleted&&H.push(`${B.results.inactiveLogs.deleted} inactive logs`),t({title:"Cleanup completed",description:`Successfully deleted: ${H.join(", ")}`})}catch(D){t({title:"Cleanup failed",description:D.message||"Failed to cleanup data.",variant:"destructive"})}finally{u(!1)}},I=async()=>{if(!y||!v||!S){t({title:"Validation Error",description:"All fields are required",variant:"destructive"});return}if(v!==S){t({title:"Validation Error",description:"New password and confirm password do not match",variant:"destructive"});return}if(v.length<8){t({title:"Validation Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}E(!0);try{const{data:{user:P}}=await ne.auth.getUser();if(!P?.email)throw new Error("User not authenticated");const{error:D}=await ne.auth.signInWithPassword({email:P.email,password:y});if(D)throw new Error("Current password is incorrect");const{error:B}=await ne.auth.updateUser({password:v});if(B)throw B;x(""),j(""),w(""),t({title:"Password Changed",description:"Your password has been updated successfully"})}catch(P){t({title:"Error",description:P.message||"Failed to change password",variant:"destructive"})}finally{E(!1)}};return o?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>e("/superadmin/dashboard"),children:a.jsx(ea,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-wide settings"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(le,{onClick:R,disabled:s,children:[a.jsx(Xd,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Email Settings"}),a.jsx(nn,{children:"Configure the sender information for emails sent to users"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"senderEmail",children:"Sender Email"}),a.jsx(De,{id:"senderEmail",type:"email",placeholder:"onboarding@resend.dev",value:r.sender_email,onChange:P=>n({...r,sender_email:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This email will be used as the sender when sending emails to users"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"senderName",children:"Sender Name"}),a.jsx(De,{id:"senderName",type:"text",placeholder:"Super Admin",value:r.sender_name,onChange:P=>n({...r,sender_name:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'The name that will appear in the "From" field of emails'})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"General Settings"}),a.jsx(nn,{children:"Configure general platform settings"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"platformName",children:"Platform Name"}),a.jsx(De,{id:"platformName",type:"text",placeholder:"Vendy Platform",value:r.platform_name,onChange:P=>n({...r,platform_name:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"The name of your platform"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"defaultPlan",children:"Default Subscription Plan"}),a.jsxs(_r,{value:m,onValueChange:g,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Select default plan for new stores"})}),a.jsx(wr,{children:d.map(P=>a.jsxs(Me,{value:P.id,children:[P.name," - ",P.monthly_price>0?`${P.monthly_price}/mo`:"Free"]},P.id))})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This plan will be automatically assigned to new store owners"})]})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Account Security"}),a.jsx(nn,{children:"Change your super admin password"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"currentPassword",children:"Current Password"}),a.jsx(De,{id:"currentPassword",type:"password",placeholder:"Enter current password",value:y,onChange:P=>x(P.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"newPassword",children:"New Password"}),a.jsx(De,{id:"newPassword",type:"password",placeholder:"Enter new password (min 8 characters)",value:v,onChange:P=>j(P.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(De,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:S,onChange:P=>w(P.target.value)})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(le,{onClick:I,disabled:T||!y||!v||!S,className:"w-full",children:[a.jsx(Lh,{className:"mr-2 h-4 w-4"}),T?"Changing Password...":"Change Password"]})})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Razorpay Payment Gateway"}),a.jsx(nn,{children:"Configure Razorpay API credentials for subscription payments"})]}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"razorpayKeyId",children:"Razorpay API Key ID"}),a.jsx(De,{id:"razorpayKeyId",type:"text",placeholder:"rzp_live_xxxxxxxxxxxxxx or rzp_test_xxxxxxxxxxxxxx",value:r.razorpay_key_id,onChange:P=>n({...r,razorpay_key_id:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key ID (starts with rzp_live_ for production or rzp_test_ for testing)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"razorpayKeySecret",children:"Razorpay API Key Secret"}),a.jsx(De,{id:"razorpayKeySecret",type:"password",placeholder:"Enter your Razorpay Key Secret",value:r.razorpay_key_secret,onChange:P=>n({...r,razorpay_key_secret:P.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Razorpay API Key Secret (keep this secure and never share)"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{htmlFor:"razorpayTestMode",children:"Test Mode"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable only if using test credentials (rzp_test_)"})]}),a.jsx(un,{id:"razorpayTestMode",checked:r.razorpay_test_mode,onCheckedChange:P=>n({...r,razorpay_test_mode:P})})]}),a.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:a.jsxs("p",{className:"text-xs text-foreground",children:[a.jsx("strong",{children:" Production Credentials:"})," Use your LIVE Razorpay credentials (rzp_live_) to accept real payments. These credentials will process actual subscription payments from store owners. Keep them secure and ensure your Razorpay account is properly configured with bank details."]})})]})]}),a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Data Cleanup Management"}),a.jsx(nn,{children:"Configure automatic cleanup settings and manually clean data"})]}),a.jsx(_e,{children:a.jsxs(FA,{open:N,onOpenChange:k,children:[a.jsx(LA,{asChild:!0,children:a.jsxs(le,{variant:"outline",className:"w-full justify-between mb-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),N?"Hide Cleanup Settings":"Show Cleanup Settings"]}),N?a.jsx(kq,{className:"h-4 w-4"}):a.jsx(pm,{className:"h-4 w-4"})]})}),a.jsxs($A,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Orders Cleanup"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{htmlFor:"autoCleanupOrders",children:"Auto Cleanup Orders"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old orders"})]}),a.jsx(un,{id:"autoCleanupOrders",checked:r.auto_cleanup_orders,onCheckedChange:P=>n({...r,auto_cleanup_orders:P})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"ordersCleanupMonths",children:"Cleanup Interval (Months)"}),a.jsx(De,{id:"ordersCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.orders_cleanup_months,onChange:P=>n({...r,orders_cleanup_months:parseInt(P.target.value)||6})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete orders older than this many months (1-24 months)"})]})]}),a.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Active Logs Cleanup"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{htmlFor:"autoCleanupActiveLogs",children:"Auto Cleanup Active Logs"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old active store logs"})]}),a.jsx(un,{id:"autoCleanupActiveLogs",checked:r.auto_cleanup_active_logs,onCheckedChange:P=>n({...r,auto_cleanup_active_logs:P})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"activeLogsCleanupMonths",children:"Cleanup Interval (Months)"}),a.jsx(De,{id:"activeLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.active_logs_cleanup_months,onChange:P=>n({...r,active_logs_cleanup_months:parseInt(P.target.value)||6})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete active logs older than this many months (1-24 months)"})]})]}),a.jsxs("div",{className:"space-y-4 pb-4 border-b",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Inactive Logs Cleanup"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{htmlFor:"autoCleanupInactiveLogs",children:"Auto Cleanup Inactive Logs"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically delete old inactive store logs"})]}),a.jsx(un,{id:"autoCleanupInactiveLogs",checked:r.auto_cleanup_inactive_logs,onCheckedChange:P=>n({...r,auto_cleanup_inactive_logs:P})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"inactiveLogsCleanupMonths",children:"Cleanup Interval (Months)"}),a.jsx(De,{id:"inactiveLogsCleanupMonths",type:"number",min:"1",max:"24",placeholder:"6",value:r.inactive_logs_cleanup_months,onChange:P=>n({...r,inactive_logs_cleanup_months:parseInt(P.target.value)||6})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-cleanup will delete inactive logs older than this many months (1-24 months)"})]})]}),a.jsxs("div",{className:"space-y-3 pt-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Manual Cleanup Actions"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a cleanup action to execute immediately"}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"destructive",className:"w-full",disabled:c,children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),c?"Cleaning up...":"Select Cleanup Action",a.jsx(pm,{className:"ml-2 h-4 w-4"})]})}),a.jsxs(Ho,{className:"w-full",align:"center",children:[a.jsxs(Mr,{onClick:()=>A("orders"),disabled:c||!r.auto_cleanup_orders,className:"cursor-pointer",children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),"Cleanup Orders Only"]}),a.jsxs(Mr,{onClick:()=>A("activeLogs"),disabled:c||!r.auto_cleanup_active_logs,className:"cursor-pointer",children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),"Cleanup Active Logs Only"]}),a.jsxs(Mr,{onClick:()=>A("inactiveLogs"),disabled:c||!r.auto_cleanup_inactive_logs,className:"cursor-pointer",children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),"Cleanup Inactive Logs Only"]}),a.jsxs(Mr,{onClick:()=>A("all"),disabled:c||!r.auto_cleanup_orders||!r.auto_cleanup_active_logs||!r.auto_cleanup_inactive_logs,className:"cursor-pointer text-destructive",children:[a.jsx(fa,{className:"mr-2 h-4 w-4"}),"Cleanup All Data"]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable the corresponding auto-cleanup toggle above to activate each cleanup action"})]})]})]})})]})]})})]})},tXe="https://vexeuxsvckpfvuxqchqu.supabase.co/functions/v1/submit-sitemap-to-google";function rXe(){const[e,t]=_.useState(!1),[r,n]=_.useState([]),{toast:s}=Ln(),i=async()=>{try{t(!0),n([]),s({title:"Submitting sitemaps...",description:"This may take a few minutes for all stores."});const{data:{session:o}}=await ne.auth.getSession();if(!o)throw new Error("Not authenticated. Please login again.");const c=await(await fetch(tXe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.access_token}`},body:JSON.stringify({})})).json();if(c.success)n(c.results),s({title:"Sitemaps submitted!",description:`Successfully processed ${c.processed} stores.`});else throw new Error(c.error||"Failed to submit sitemaps")}catch(o){console.error("Error submitting sitemaps:",o),s({title:"Error",description:o.message||"Failed to submit sitemaps",variant:"destructive"})}finally{t(!1)}};return a.jsx("div",{className:"container mx-auto p-6",children:a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Google Search Console Sitemap Manager"}),a.jsx(nn,{children:"Automatically submit sitemaps for all stores to Google Search Console"})]}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"This tool will automatically submit sitemaps for all stores with subdomains or custom domains to Google Search Console. New stores will automatically get their sitemaps submitted."}),a.jsx(le,{onClick:i,disabled:e,className:"w-full",children:e?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Sitemaps..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xl,{className:"mr-2 h-4 w-4"}),"Submit All Sitemaps to Google"]})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"Submission Results:"}),a.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r.map((o,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:o.domain}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o.sitemapUrl}),o.message&&a.jsx("p",{className:"text-xs mt-1",children:o.message}),o.error&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:o.error})]}),a.jsx("div",{className:"ml-4",children:o.success?a.jsx(vs,{className:"h-5 w-5 text-green-500"}):a.jsx(Qs,{className:"h-5 w-5 text-destructive"})})]},l))})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:"How it works:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Automatically submits sitemaps when new stores are created"}),a.jsx("li",{children:"Automatically re-submits when subdomain or custom domain changes"}),a.jsx("li",{children:"Uses Google Search Console API for instant submission"}),a.jsx("li",{children:"No manual work needed for each store"}),a.jsx("li",{children:"Tracks submission status in database"})]})]}),a.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-yellow-800",children:"Setup Required:"}),a.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside mt-2",children:[a.jsx("li",{children:"Create Google Cloud Project"}),a.jsx("li",{children:"Enable Google Search Console API"}),a.jsx("li",{children:"Create Service Account and download JSON key"}),a.jsx("li",{children:"Add service account email to Google Search Console as owner for each domain"}),a.jsxs("li",{children:["Add credentials to Supabase environment variables:",a.jsxs("ul",{className:"ml-6 mt-1 space-y-1 list-disc",children:[a.jsx("li",{children:a.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_EMAIL"})}),a.jsx("li",{children:a.jsx("code",{className:"text-xs",children:"GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY"})})]})]})]})]})]})]})})}const nXe=[{name:"Wireless Headphones",description:"Premium wireless headphones with noise cancellation and superior sound quality. Perfect for music lovers and professionals.",category:"Electronics",base_price:2999,price_range:"2,999 - 3,499",stock:50,status:"published",images:["https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80","https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&q=80"],variants:[{name:"Black",price:2999,sku:"WH-BLK"},{name:"White",price:3199,sku:"WH-WHT"},{name:"Blue",price:3499,sku:"WH-BLU"}]},{name:"Smart Watch",description:"Feature-rich smartwatch with fitness tracking, heart rate monitor, and notification support. Stay connected on the go.",category:"Electronics",base_price:4999,price_range:"4,999 - 5,999",stock:30,status:"published",images:["https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&q=80","https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=800&q=80"],variants:[{name:"Black Band",price:4999,sku:"SW-BLK"},{name:"Sport Band",price:5499,sku:"SW-SPT"},{name:"Leather Band",price:5999,sku:"SW-LTH"}]},{name:"Classic T-Shirt",description:"Comfortable cotton t-shirt perfect for everyday wear. Made from premium quality fabric that lasts.",category:"Fashion",base_price:599,price_range:"599 - 699",stock:100,status:"published",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800&q=80","https://images.unsplash.com/photo-1503341504253-dff4815485f1?w=800&q=80"],variants:[{name:"Small",price:599,sku:"TS-S"},{name:"Medium",price:599,sku:"TS-M"},{name:"Large",price:649,sku:"TS-L"},{name:"XL",price:699,sku:"TS-XL"}]},{name:"Denim Jeans",description:"Stylish and durable denim jeans with a perfect fit. Essential wardrobe staple for any occasion.",category:"Fashion",base_price:1499,price_range:"1,499 - 1,799",stock:75,status:"published",images:["https://images.unsplash.com/photo-1542272604-787c3835535d?w=800&q=80","https://images.unsplash.com/photo-1475178626620-a4d074967452?w=800&q=80"],variants:[{name:"30",price:1499,sku:"DJ-30"},{name:"32",price:1599,sku:"DJ-32"},{name:"34",price:1699,sku:"DJ-34"},{name:"36",price:1799,sku:"DJ-36"}]},{name:"Leather Wallet",description:"Genuine leather wallet with multiple card slots and compartments. Sleek design meets functionality.",category:"Accessories",base_price:899,price_range:"899 - 1,099",stock:60,status:"published",images:["https://images.unsplash.com/photo-1627123424574-724758594e93?w=800&q=80","https://images.unsplash.com/photo-1608666619878-e5f5c9c6ff04?w=800&q=80"],variants:[{name:"Brown",price:899,sku:"LW-BRN"},{name:"Black",price:999,sku:"LW-BLK"},{name:"Tan",price:1099,sku:"LW-TAN"}]},{name:"Sunglasses",description:"UV protection sunglasses with polarized lenses. Stylish eyewear for sunny days.",category:"Accessories",base_price:1299,price_range:"1,299 - 1,599",stock:45,status:"published",images:["https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800&q=80","https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=800&q=80"],variants:[{name:"Classic Black",price:1299,sku:"SG-BLK"},{name:"Aviator Gold",price:1499,sku:"SG-GLD"},{name:"Sport Blue",price:1599,sku:"SG-BLU"}]},{name:"Coffee Maker",description:"Automatic coffee maker for perfect brew every time. Start your morning right with fresh coffee.",category:"Home & Kitchen",base_price:3499,price_range:"3,499",stock:25,status:"published",images:["https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=800&q=80"],variants:[]},{name:"Yoga Mat",description:"Non-slip yoga mat with extra cushioning. Perfect for yoga, pilates, and home workouts.",category:"Sports",base_price:799,price_range:"799 - 999",stock:80,status:"published",images:["https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80"],variants:[{name:"Purple",price:799,sku:"YM-PUR"},{name:"Blue",price:899,sku:"YM-BLU"},{name:"Pink",price:999,sku:"YM-PNK"}]}],sXe=[{name:"Electronics",image_url:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&q=80"},{name:"Fashion",image_url:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=400&q=80"},{name:"Accessories",image_url:"https://images.unsplash.com/photo-1523293182086-7651a899d37f?w=400&q=80"},{name:"Home & Kitchen",image_url:"https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400&q=80"},{name:"Sports",image_url:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400&q=80"},{name:"Beauty",image_url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400&q=80"}],aXe=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""),iXe=async e=>{try{console.log("Seeding demo data for store:",e);const t=sXe.map(i=>({...i,store_id:e})),{error:r}=await ne.from("categories").insert(t);r&&console.error("Error inserting demo categories:",r);const n=nXe.map(i=>({...i,store_id:e,slug:aXe(i.name)}));console.log(`[SEED] Inserting ${n.length} demo products with slugs...`);const{error:s}=await ne.from("products").insert(n);return s?(console.error("[SEED] Error inserting demo products:",s),!1):(console.log(`[SEED]  Successfully seeded ${n.length} demo products`),console.log("Demo data seeded successfully"),!0)}catch(t){return console.error("Error seeding demo data:",t),!1}},oXe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!1),[s,i]=_.useState(!1),[o,l]=_.useState(""),[c,u]=_.useState({storeName:"",storeSlug:"",description:"",whatsappNumber:"",countryCode:"+91"}),[d,f]=_.useState("idle");_.useEffect(()=>{m()},[e]);const m=async()=>{const{data:{user:w}}=await ne.auth.getUser();if(!w){t({title:"Authentication required",description:"Please log in to continue with onboarding",variant:"destructive"}),e("/auth");return}const{data:T}=await ne.from("helpers").select("id, full_name, status").eq("id",w.id).maybeSingle();if(T){t({title:"Access Denied",description:"You are registered as a helper. Helpers cannot create stores. Please contact support if you need assistance.",variant:"destructive"}),e("/helper/dashboard");return}const{data:E}=await ne.from("helper_applications").select("id, application_status").eq("user_id",w.id).maybeSingle();if(E){t({title:"Access Denied",description:"You have applied or are registered as a helper. Helpers cannot create stores.",variant:"destructive"}),e("/application-status");return}const{data:N}=await ne.from("profiles").select("full_name").eq("user_id",w.id).maybeSingle();l(N?.full_name||w.email||"Guest")},g=w=>w.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").substring(0,30),y=w=>{u(T=>({...T,storeName:w,storeSlug:g(w)})),w&&v(g(w))},x=w=>{const T=g(w);u(E=>({...E,storeSlug:T})),T&&v(T)},v=async w=>{if(w.length<3){f("idle");return}i(!0);const{data:T}=await ne.from("stores").select("slug").eq("slug",w).maybeSingle();f(T?"taken":"available"),i(!1)},j=()=>c.storeName.length>=2&&c.storeName.length<=50&&c.storeSlug.length>=3&&c.storeSlug.length<=30&&d==="available"&&c.whatsappNumber.length>=10,S=async()=>{if(j()){n(!0);try{const{data:{user:w}}=await ne.auth.getUser();if(!w)throw new Error("No user found");const{data:{session:T}}=await ne.auth.getSession(),E=T?.provider_token,N=T?.provider_refresh_token,k=E?new Date(Date.now()+3600*1e3).toISOString():null,{data:R,error:A}=await ne.from("stores").insert({user_id:w.id,name:c.storeName,slug:c.storeSlug,subdomain:c.storeSlug,description:c.description||null,whatsapp_number:`${c.countryCode}${c.whatsappNumber}`,google_access_token:E||null,google_refresh_token:N||null,google_token_expiry:k}).select();if(A)throw A;if(R&&R.length>0){const P=R[0].id;await iXe(P)}const{data:I}=await ne.from("subscription_plans").select("*").eq("is_default_plan",!0).maybeSingle();if(I){const P=new Date;P.setDate(P.getDate()+(I.trial_days||14)),await ne.from("subscriptions").insert({user_id:w.id,plan_id:I.id,status:"trial",trial_ends_at:P.toISOString(),current_period_start:new Date().toISOString(),current_period_end:P.toISOString()})}t({title:"Store created!",description:"Your store is ready with demo products. Let's customize it next."}),e("/onboarding/customize")}catch(w){t({title:"Error",description:w.message,variant:"destructive"})}finally{n(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:a.jsx("div",{className:"h-full bg-primary w-1/4 transition-all duration-300"})}),a.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2,3,4].map(w=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${w===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:w}),w<4&&a.jsx("div",{className:`w-8 md:w-16 h-0.5 ${w<1?"bg-primary":"bg-muted"}`})]},w))}),a.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 1 of 4"})]}),a.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-card rounded-lg shadow-lg border p-6 md:p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:a.jsx(eA,{className:"w-8 h-8 text-primary"})}),a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome, ",o,"! "]}),a.jsx("p",{className:"text-muted-foreground",children:"Let's set up your online store"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"storeName",children:["Store Name ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(De,{id:"storeName",placeholder:"My Awesome Store",value:c.storeName,onChange:w=>y(w.target.value),maxLength:50}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be displayed to your customers"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"storeSlug",children:["Store Slug ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap hidden md:inline",children:"yourplatform.com/"}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(De,{id:"storeSlug",value:c.storeSlug,onChange:w=>x(w.target.value),maxLength:30,className:"pr-8"}),s&&a.jsx(bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-muted-foreground"}),!s&&d==="available"&&a.jsx(Gr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!s&&d==="taken"&&a.jsx(ri,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]})]}),d==="available"&&a.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[a.jsx(Gr,{className:"w-3 h-3"})," Available"]}),d==="taken"&&a.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[a.jsx(ri,{className:"w-3 h-3"})," Already taken"]}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{children:" 3-30 characters"}),a.jsx("p",{children:" Lowercase letters, numbers, hyphens only"}),a.jsx("p",{children:" Must start with letter"})]}),c.storeSlug&&a.jsxs("p",{className:"text-xs text-primary font-medium",children:["Your store will be: ",c.storeSlug,".yourplatform.com"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:"Store Description"}),a.jsx(Js,{id:"description",placeholder:"Tell customers about your store...",value:c.description,onChange:w=>u(T=>({...T,description:w.target.value})),maxLength:500,rows:4}),a.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[c.description.length,"/500"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"whatsapp",children:["WhatsApp Business Number ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_r,{value:c.countryCode,onValueChange:w=>u(T=>({...T,countryCode:w})),children:[a.jsx(yr,{className:"w-24",children:a.jsx(jr,{})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"+91",children:" +91"}),a.jsx(Me,{value:"+1",children:" +1"}),a.jsx(Me,{value:"+44",children:" +44"}),a.jsx(Me,{value:"+971",children:" +971"})]})]}),a.jsx(De,{id:"whatsapp",type:"tel",placeholder:"9876543210",value:c.whatsappNumber,onChange:w=>u(T=>({...T,whatsappNumber:w.target.value.replace(/\D/g,"")})),className:"flex-1"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers will place orders via WhatsApp to this number"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t",children:[a.jsx(le,{variant:"ghost",onClick:()=>e("/admin/dashboard"),className:"order-2 sm:order-1",children:"I'll do this later"}),a.jsx(le,{onClick:S,disabled:!j()||r,className:"w-full sm:w-auto order-1 sm:order-2",children:r?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):"Continue"})]})]})})]})},lXe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!1),[s,i]=_.useState(null),[o,l]=_.useState({logoUrl:"",heroBannerUrl:"",tagline:"",primaryColor:"#3B82F6",secondaryColor:"#10B981"});_.useEffect(()=>{c()},[]);const c=async()=>{const{data:{user:f}}=await ne.auth.getUser();if(f){const{data:m}=await ne.from("stores").select("*").eq("user_id",f.id).single();m&&i(m)}},u=()=>{l(f=>({...f,primaryColor:"#3B82F6",secondaryColor:"#10B981"}))},d=async()=>{n(!0);try{const{data:{user:f}}=await ne.auth.getUser();if(!f)throw new Error("No user found");const{error:m}=await ne.from("stores").update({logo_url:o.logoUrl||null,hero_banner_url:o.heroBannerUrl||null}).eq("user_id",f.id);if(m)throw m;t({title:"Store customized!",description:"Let's complete your setup."}),e("/onboarding/complete")}catch(f){t({title:"Error",description:f.message,variant:"destructive"})}finally{n(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:a.jsx("div",{className:"h-full bg-primary w-3/4 transition-all duration-300"})}),a.jsxs("div",{className:"container max-w-4xl mx-auto pt-8 pb-4 px-4",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[1,2,3,4].map(f=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-sm font-medium ${f<=3?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:f}),f<4&&a.jsx("div",{className:`w-8 md:w-16 h-0.5 ${f<3?"bg-primary":"bg-muted"}`})]},f))}),a.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2",children:"Step 3 of 4"})]}),a.jsx("div",{className:"container max-w-6xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-card rounded-lg shadow-lg border overflow-hidden",children:[a.jsxs("div",{className:"text-center p-6 md:p-8 border-b",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-500/10 mb-4",children:a.jsx(Qle,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Make It Yours"}),a.jsx("p",{className:"text-muted-foreground",children:"Customize your store's look and feel"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 p-6 md:p-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx($e,{children:"Store Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-lg border-2 border-dashed flex items-center justify-center bg-muted",children:o.logoUrl?a.jsx("img",{src:o.logoUrl,alt:"Logo",className:"w-full h-full object-cover rounded-lg"}):a.jsx(Zl,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(De,{placeholder:"Paste Google Drive link or image URL",value:o.logoUrl,onChange:f=>l(m=>({...m,logoUrl:f.target.value}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended size: 200x200px"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx($e,{children:"Hero Banner Image"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-full aspect-video rounded-lg border-2 border-dashed flex items-center justify-center bg-muted overflow-hidden",children:o.heroBannerUrl?a.jsx("img",{src:o.heroBannerUrl,alt:"Banner",className:"w-full h-full object-cover"}):a.jsx(Zl,{className:"w-8 h-8 text-muted-foreground"})}),a.jsx(De,{placeholder:"Paste Google Drive link or image URL",value:o.heroBannerUrl,onChange:f=>l(m=>({...m,heroBannerUrl:f.target.value}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended size: 1920x600px  This appears on your store homepage"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"tagline",children:"Store Tagline"}),a.jsx(De,{id:"tagline",placeholder:"Quality products, fast delivery",value:o.tagline,onChange:f=>l(m=>({...m,tagline:f.target.value.substring(0,100)})),maxLength:100}),a.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[o.tagline.length,"/100"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx($e,{children:"Color Scheme"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Primary Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"color",value:o.primaryColor,onChange:f=>l(m=>({...m,primaryColor:f.target.value})),className:"w-12 h-10 rounded border cursor-pointer"}),a.jsx(De,{value:o.primaryColor,onChange:f=>l(m=>({...m,primaryColor:f.target.value})),className:"flex-1 font-mono text-sm"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Buttons, links, headers"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Secondary Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"color",value:o.secondaryColor,onChange:f=>l(m=>({...m,secondaryColor:f.target.value})),className:"w-12 h-10 rounded border cursor-pointer"}),a.jsx(De,{value:o.secondaryColor,onChange:f=>l(m=>({...m,secondaryColor:f.target.value})),className:"flex-1 font-mono text-sm"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Accents, success messages"})]})]}),a.jsxs(le,{variant:"ghost",size:"sm",onClick:u,className:"w-full",children:[a.jsx(ece,{className:"w-4 h-4"}),"Reset to Defaults"]})]}),a.jsxs("div",{className:"bg-accent/50 rounded-lg p-4",children:[a.jsx($e,{className:"mb-2 block",children:"Branding"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:'"Powered by YourPlatform" will appear on your store'}),a.jsx(le,{variant:"outline",size:"sm",className:"w-full",children:"Upgrade to Remove Branding"})]})]}),a.jsxs("div",{className:"bg-muted/30 rounded-lg p-6 lg:sticky lg:top-24 lg:self-start",children:[a.jsx("p",{className:"text-sm font-medium mb-4 text-center",children:"Live Preview"}),a.jsxs("div",{className:"bg-background rounded-lg shadow-lg overflow-hidden border",children:[a.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-2",children:[o.logoUrl?a.jsx("img",{src:o.logoUrl,alt:"Logo",className:"w-8 h-8 object-cover rounded"}):a.jsx("div",{className:"w-8 h-8 bg-muted rounded"}),a.jsx("span",{className:"font-semibold text-sm",children:s?.name||"Your Store"})]})}),a.jsxs("div",{className:"relative aspect-[2/1] bg-gradient-to-br from-primary/20 to-secondary/20 overflow-hidden",children:[o.heroBannerUrl?a.jsx("img",{src:o.heroBannerUrl,alt:"Hero",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full"}),o.tagline&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("p",{className:"text-white font-bold text-lg md:text-xl text-center px-4 bg-black/30 py-2 rounded",children:o.tagline})})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold",children:"Products"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[1,2].map(f=>a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"aspect-square bg-muted"}),a.jsxs("div",{className:"p-2 space-y-1",children:[a.jsx("div",{className:"h-3 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-4 rounded w-1/2",style:{backgroundColor:o.primaryColor+"40"}})]})]},f))}),a.jsx("button",{className:"w-full py-2 rounded text-sm font-medium text-white",style:{backgroundColor:o.primaryColor},children:"View All"})]}),a.jsx("div",{className:"p-4 border-t text-center",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"Powered by YourPlatform"})})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-6 md:p-8 border-t",children:[a.jsxs(le,{variant:"ghost",onClick:()=>e("/onboarding/store-setup"),className:"order-2 sm:order-1",children:[a.jsx(ea,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"flex gap-2 order-1 sm:order-2 w-full sm:w-auto",children:[a.jsx(le,{variant:"ghost",onClick:()=>e("/onboarding/complete"),children:"Skip for Now"}),a.jsx(le,{onClick:d,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Continue"})]})]})]})})]})};var vM="Progress",yM=100,[cXe]=Yn(vM),[uXe,dXe]=cXe(vM),qae=_.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=fXe,...o}=e;(s||s===0)&&!qW(s)&&console.error(hXe(`${s}`,"Progress"));const l=qW(s)?s:yM;n!==null&&!HW(n,l)&&console.error(mXe(`${n}`,"Progress"));const c=HW(n,l)?n:null,u=J1(c)?i(c,l):void 0;return a.jsx(uXe,{scope:r,value:c,max:l,children:a.jsx(xt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":J1(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Kae(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});qae.displayName=vM;var Hae="ProgressIndicator",Gae=_.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=dXe(Hae,r);return a.jsx(xt.div,{"data-state":Kae(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Gae.displayName=Hae;function fXe(e,t){return`${Math.round(e/t*100)}%`}function Kae(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function J1(e){return typeof e=="number"}function qW(e){return J1(e)&&!isNaN(e)&&e>0}function HW(e,t){return J1(e)&&!isNaN(e)&&e<=t&&e>=0}function hXe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yM}\`.`}function mXe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Yae=qae,pXe=Gae;const Xae=_.forwardRef(({className:e,value:t,...r},n)=>a.jsx(Yae,{ref:n,className:Je("relative h-4 w-full overflow-hidden rounded-full bg-muted border border-border",e),...r,children:a.jsx(pXe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Xae.displayName=Yae.displayName;const gXe=()=>{const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(null),[s,i]=_.useState(14);_.useEffect(()=>{o()},[]);const o=async()=>{const{data:{user:d}}=await ne.auth.getUser();if(d){const{data:f}=await ne.from("stores").select("*").eq("user_id",d.id).single();f&&n(f)}},l=()=>{const d=`${r?.slug}.yourplatform.com`;navigator.clipboard.writeText(d),t({title:"Copied!",description:"Store URL copied to clipboard"})},c=async()=>{try{const{data:{user:d}}=await ne.auth.getUser();if(!d)return;await ne.from("profiles").update({}).eq("user_id",d.id),t({title:" Welcome aboard!",description:"Your store is ready to go."}),e("/admin/dashboard")}catch(d){console.error(d)}},u=(14-s)/14*100;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/5 to-primary/5",children:[a.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-muted z-50",children:a.jsx("div",{className:"h-full bg-primary w-full transition-all duration-300"})}),a.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-1/4 animate-bounce",children:a.jsx(zw,{className:"w-6 h-6 text-yellow-500"})}),a.jsx("div",{className:"absolute top-32 right-1/4 animate-bounce delay-100",children:a.jsx(zw,{className:"w-4 h-4 text-blue-500"})}),a.jsx("div",{className:"absolute top-40 left-1/3 animate-bounce delay-200",children:a.jsx(zw,{className:"w-5 h-5 text-purple-500"})})]}),a.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-12 md:py-16",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-500/10 mb-6 animate-pulse",children:a.jsx(vs,{className:"w-10 h-10 text-green-600"})}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3",children:" Your Store is Ready!"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"You're all set to start selling"})]}),a.jsx(we,{className:"p-6 md:p-8 mb-8 shadow-lg",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:r?.name||"Your Store"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary font-medium",children:[a.jsxs("span",{children:[r?.slug,".yourplatform.com"]}),a.jsx(le,{variant:"ghost",size:"sm",onClick:l,className:"h-8 w-8 p-0",children:a.jsx(Gd,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsxs(le,{onClick:()=>window.open(`https://${r?.slug}.yourplatform.com`,"_blank"),children:[a.jsx(ju,{className:"w-4 h-4"}),"Visit Store"]}),a.jsxs(le,{variant:"outline",children:[a.jsx(Oa,{className:"w-4 h-4"}),"Download QR Code"]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-32 h-32 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted",children:a.jsx("span",{className:"text-xs text-muted-foreground",children:"QR Code"})})})]})}),a.jsx(we,{className:"p-6 mb-8 bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-semibold",children:["Your free trial ends in ",s," days"]}),a.jsx(le,{variant:"outline",size:"sm",children:"View Plans"})]}),a.jsx(Xae,{value:u,className:"h-2"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Trial ends on ",new Date(Date.now()+s*24*60*60*1e3).toLocaleDateString()]})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Quick Start Guide"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs(we,{className:"p-6 text-center space-y-4 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-500/10",children:a.jsx(Ei,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Add Your First Product"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add products to your store"})]}),a.jsx(le,{variant:"outline",className:"w-full",onClick:()=>e("/admin/products/add"),children:"Add Product"})]}),a.jsxs(we,{className:"p-6 text-center space-y-4 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-500/10",children:a.jsx(ao,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"View Your Store"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"See how customers see your store"})]}),a.jsx(le,{variant:"outline",className:"w-full",onClick:()=>window.open(`https://${r?.slug}.yourplatform.com`,"_blank"),children:"Open Store"})]}),a.jsxs(we,{className:"p-6 text-center space-y-4 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-500/10",children:a.jsx(zle,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Learn More"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Watch tutorials and guides"})]}),a.jsx(le,{variant:"outline",className:"w-full",children:"View Resources"})]})]})]}),a.jsxs(we,{className:"p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"What's Next"}),a.jsx("div",{className:"space-y-3",children:["Add your first product","Customize store policies","Share your store link","Receive your first order"].map((d,f)=>a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded border-2 border-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:d})]},f))})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[a.jsx(le,{size:"lg",onClick:c,className:"w-full sm:w-auto px-8",children:"Go to Dashboard"}),a.jsx(le,{variant:"ghost",size:"lg",onClick:c,className:"w-full sm:w-auto",children:"I'll explore on my own"})]})]})]})},GW=({slug:e}={})=>{const{slug:t}=xc(),r=e||t,[n,s]=_.useState(null),[i,o]=_.useState(null),[l,c]=_.useState([]),[u,d]=_.useState([]),[f,m]=_.useState([]),[g,y]=_.useState([]),[x,v]=_.useState(!0),[j,S]=_.useState(!1),w=wl(),T=w?"/products":`/${r}/products`;_.useEffect(()=>{E()},[r]),_.useEffect(()=>{if(!n?.ai_voice_embed_code)return;if(document.querySelector('script[src*="elevenlabs"]')){S(!0);return}const k=document.createElement("script");return k.src="https://unpkg.com/@elevenlabs/convai-widget-embed",k.async=!0,k.type="text/javascript",k.onload=()=>{console.log("ElevenLabs widget script loaded successfully"),S(!0)},k.onerror=R=>{console.error("Failed to load ElevenLabs widget script:",R)},document.body.appendChild(k),()=>{k.parentNode&&k.parentNode.removeChild(k)}},[n?.ai_voice_embed_code]),sFe(n&&i?{store:{id:n.id,name:n.name,slug:n.slug,description:n.description,logo_url:n.logo_url,address:n.address,whatsapp_number:n.whatsapp_number,social_links:n.social_links},email:i.email||void 0,breadcrumbs:[{name:"Home",url:window.location.origin},{name:n.name,url:window.location.href}]}:null);const E=async()=>{try{v(!0);const N=wl();let k=ne.from("stores").select("*").eq("is_active",!0);N&&r?r.includes(".")?k=k.or(`custom_domain.eq.${r},subdomain.eq.${r}`):k=k.or(`subdomain.eq.${r},slug.eq.${r}`):k=k.eq("slug",r);const{data:R,error:A}=await k.maybeSingle();if(A)throw A;if(!R){Ve({title:"Store not found",description:"The store you're looking for doesn't exist or is inactive.",variant:"destructive"});return}s({...R,social_links:R.social_links,policies:R.policies});const{data:I}=await ne.from("profiles").select("phone, email").eq("user_id",R.user_id).maybeSingle();I&&o(I);const{data:P,error:D}=await ne.from("categories").select("*").eq("store_id",R.id).order("name");D?console.error("Error fetching categories:",D):P&&y(P);const B=await Rg(R.id);c(B),d(B.slice(0,16));const U=[...B].sort((H,M)=>new Date(M.created_at||"").getTime()-new Date(H.created_at||"").getTime());m(U.slice(0,4))}catch(N){console.error("Error loading store:",N),Ve({title:"Error",description:N.message,variant:"destructive"})}finally{v(!1)}};return x?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(bs,{className:"h-8 w-8 animate-spin"})}):n?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(dI,{title:`${n.name} - Online Store | Shop Quality Products`,description:n.description||`Browse ${n.name}'s collection of quality products. ${g.length>0?"Explore categories: "+g.map(N=>N.name).slice(0,3).join(", "):""}`,canonical:Qte(n.slug,n.subdomain,n.custom_domain),image:n.logo_url||n.hero_banner_url||"https://digitaldukandar.in/logo.png",keywords:g.map(N=>N.name).concat([n.name,"online store","shop"]),type:"website"}),a.jsx(Xa,{storeSlug:n.slug,storeId:n.id}),a.jsxs("main",{className:"flex-1",children:[a.jsx(kte,{bannerUrls:n.hero_banner_urls&&n.hero_banner_urls.length>0?n.hero_banner_urls:n.hero_banner_url?[n.hero_banner_url]:[],storeName:n.name,logoUrl:n.logo_url,storeDescription:n.description}),g.length>0&&a.jsx("section",{className:"py-20 bg-gradient-to-b from-muted/30 to-background relative overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Shop by Category"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our curated collections designed just for you"})]}),a.jsx("div",{className:"relative px-4",children:a.jsx("div",{className:"flex gap-2 overflow-x-auto py-4 scrollbar-hide snap-x snap-mandatory px-4",children:g.map((N,k)=>{const R=l.filter(A=>A.category===N.name&&A.status==="published").length;return a.jsx("div",{className:"flex-shrink-0 w-48 snap-center",style:{animationDelay:`${k*100}ms`},children:a.jsx(ZD,{name:N.name,image_url:N.image_url,productCount:R,slug:w?void 0:n?.slug})},N.id)})})})]})}),a.jsx("section",{className:"py-16 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Featured Products"}),a.jsx("p",{className:"text-muted-foreground",children:"Check out our top picks for you"})]}),a.jsx(pt,{to:T,children:a.jsxs(le,{variant:"outline",children:["See All",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]}),u.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(N=>a.jsx(Om,{id:N.id,slug:N.slug,name:N.name,category:N.category,priceRange:N.price_range||"",images:N.images,status:N.status,storeSlug:w?void 0:n.slug},N.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No products available yet."})]})}),f.length>0&&a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"New Arrivals"}),a.jsx("p",{className:"text-muted-foreground",children:"Fresh products just for you"})]}),a.jsx(pt,{to:T,children:a.jsxs(le,{variant:"outline",children:["See All",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(N=>a.jsx(Om,{id:N.id,slug:N.slug,name:N.name,category:N.category,priceRange:N.price_range||"",images:N.images,status:N.status,storeSlug:w?void 0:n.slug},N.id))})]})}),a.jsx("section",{className:"py-20 bg-primary text-primary-foreground mb-0",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Shopping?"}),a.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Explore our full collection of amazing products"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(pt,{to:T,children:a.jsxs(le,{size:"lg",variant:"secondary",children:["Browse All Products",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})}),n.whatsapp_number&&a.jsx("a",{href:`https://wa.me/${n.whatsapp_number.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:a.jsxs(le,{size:"lg",variant:"secondary",className:"bg-background text-foreground hover:bg-background/90",children:["Contact on WhatsApp",a.jsx(Rs,{className:"w-4 h-4 ml-2"})]})})]})]})})]}),a.jsx(mx,{storeName:n.name,storeDescription:n.description,whatsappNumber:n.whatsapp_number,phone:i?.phone,email:i?.email,address:n.address,socialLinks:n.social_links,policies:n.policies}),n.ai_voice_embed_code&&j&&(()=>{const N=n.ai_voice_embed_code.match(/agent-id="([^"]+)"/),k=N?N[1]:null;return k?a.jsx("elevenlabs-convai",{"agent-id":k,style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999}}):(console.error("No agent-id found in ai_voice_embed_code"),null)})()]}):a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Store Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you're looking for doesn't exist."}),a.jsx(pt,{to:"/",children:a.jsx(le,{children:"Go Home"})})]})},KW=({slug:e}={})=>{const{slug:t}=xc(),r=e||t,n=nr(),[s,i]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(null);_.useEffect(()=>{d()},[r]),_.useEffect(()=>{if(window.location.hash){const m=document.querySelector(window.location.hash);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[s]);const d=async()=>{try{i(!0);const{data:m,error:g}=await ne.from("stores").select("*").eq("slug",r).eq("is_active",!0).single();if(g||!m){dt.error("Store not found"),n("/");return}l(m);const{data:y}=await ne.from("profiles").select("phone, email").eq("user_id",m.user_id).single();y&&u(y)}catch(m){console.error("Error loading store:",m),dt.error("Failed to load store information")}finally{i(!1)}};if(s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(bs,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return null;const f=o.policies||{};return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Xa,{storeSlug:r}),a.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 mt-16",children:[a.jsxs(le,{variant:"ghost",onClick:()=>n(`/${r}`),className:"mb-6",children:[a.jsx(ea,{className:"w-4 h-4 mr-2"}),"Back to Store"]}),a.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Store Policies"}),a.jsx("p",{className:"text-muted-foreground",children:"Learn about our policies and terms of service"})]}),a.jsx("section",{id:"terms",className:"scroll-mt-20",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Terms & Conditions"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.termsConditions||"Terms and conditions will be available soon."})]})}),a.jsx("section",{id:"return-policy",className:"scroll-mt-20",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Return Policy"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.returnPolicy||"Return policy will be available soon."})]})}),a.jsx("section",{id:"shipping-policy",className:"scroll-mt-20",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Shipping Policy"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.shippingPolicy||"Shipping policy will be available soon."})]})}),a.jsx("section",{id:"privacy-policy",className:"scroll-mt-20",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Privacy Policy"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.privacyPolicy||"Privacy policy will be available soon."})]})}),f.deliveryAreas&&a.jsx("section",{id:"delivery-areas",className:"scroll-mt-20",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Delivery Areas"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground whitespace-pre-wrap",children:f.deliveryAreas})]})}),o.address&&a.jsx("section",{id:"address",className:"scroll-mt-20",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Store Address"}),a.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:o.address})]})})]})]}),a.jsx(mx,{storeName:o.name,storeDescription:o.description,whatsappNumber:o.whatsapp_number,phone:c?.phone,email:c?.email,address:o.address,socialLinks:o.social_links,policies:o.policies})]})},xXe=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsx(pt,{to:"/",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),a.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),a.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:['Welcome to Digital Dukandar ("we," "our," or "us"). We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ',a.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"})," and use our multi-vendor store platform services."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Information We Collect"}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2.1 Personal Information"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Register for an account (name, email address, phone number)"}),a.jsx("li",{children:"Create a store or product listing"}),a.jsx("li",{children:"Make a purchase through our platform"}),a.jsx("li",{children:"Contact our customer support"}),a.jsx("li",{children:"Sign in using Google OAuth (email, profile picture, name)"})]}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"2.2 Automatically Collected Information"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"When you visit our website, we automatically collect certain information:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Device information (browser type, operating system)"}),a.jsx("li",{children:"IP address and location data"}),a.jsx("li",{children:"Usage data (pages visited, time spent on pages)"}),a.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. How We Use Your Information"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We use the information we collect for the following purposes:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"To create and manage your account"}),a.jsx("li",{children:"To process transactions and deliver products/services"}),a.jsx("li",{children:"To send order confirmations and updates"}),a.jsx("li",{children:"To provide customer support"}),a.jsx("li",{children:"To improve our platform and user experience"}),a.jsx("li",{children:"To send promotional communications (with your consent)"}),a.jsx("li",{children:"To comply with legal obligations"}),a.jsx("li",{children:"To detect and prevent fraud or abuse"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing and Disclosure"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may share your information in the following situations:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"With Store Owners:"})," When you make a purchase, we share your order details with the relevant store owner"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Service Providers:"})," We may share data with third-party service providers (payment processors, hosting services, analytics providers)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"We do not sell your personal information to third parties."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate technical and organizational security measures to protect your personal information. This includes encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Your Privacy Rights"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You have the following rights regarding your personal information:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Cookies and Tracking Technologies"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our platform. Cookies help us remember your preferences, analyze site usage, and provide personalized content. You can control cookie settings through your browser preferences."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Third-Party Services"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Our platform integrates with third-party services:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Google OAuth:"})," For authentication (subject to Google's Privacy Policy)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Supabase:"})," For database and authentication services"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"WhatsApp:"})," For order notifications"]})]}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"These services have their own privacy policies, and we encourage you to review them."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our services are not intended for children under the age of 13. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),a.jsx("div",{className:"bg-accent p-4 rounded-lg",children:a.jsxs("p",{className:"text-muted-foreground",children:[a.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",a.jsx("br",{}),a.jsx("strong",{children:"Website:"})," ",a.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]})]})]}),a.jsx("footer",{className:"border-t mt-16",children:a.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),vXe=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsx(pt,{to:"/",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})}),a.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),a.jsxs("p",{className:"text-muted-foreground mb-8",children:["Last Updated: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-slate max-w-none space-y-8",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["By accessing or using Digital Dukandar's services available at ",a.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"digitaldukandar.in"}),' ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.']})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"YesGive is a multi-vendor e-commerce platform that enables:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Store owners to create and manage online stores"}),a.jsx("li",{children:"Product listing and inventory management"}),a.jsx("li",{children:"Order processing through WhatsApp and website checkouts"}),a.jsx("li",{children:"Customer management and analytics"}),a.jsx("li",{children:"Subscription-based access to platform features"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts"}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3.1 Account Creation"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"To use certain features, you must create an account. You agree to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Provide accurate, current, and complete information"}),a.jsx("li",{children:"Maintain the security of your account credentials"}),a.jsx("li",{children:"Notify us immediately of any unauthorized access"}),a.jsx("li",{children:"Be responsible for all activities under your account"})]}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"3.2 Account Types"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Store Owners:"})," Can create stores, manage products, and process orders"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Customers:"})," Can browse stores, place orders, and manage their profiles"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Super Admin:"})," Platform administrators with full access"]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Subscription Plans and Payments"}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.1 Subscription Tiers"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We offer various subscription plans (Free, Basic, Pro, Enterprise) with different features and limits. Plan details are available on our Pricing page."}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4.2 Payment Terms"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Subscriptions are billed monthly or yearly in advance"}),a.jsx("li",{children:"Payments are non-refundable except as required by law"}),a.jsx("li",{children:"You authorize automatic renewal unless cancelled before the renewal date"}),a.jsx("li",{children:"We reserve the right to change pricing with 30 days' notice"})]}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-6",children:"4.3 Free Trials"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Free trial periods are subject to terms disclosed at sign-up. We may require payment information upfront but won't charge until the trial ends unless you cancel."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Store Owner Responsibilities"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"As a store owner, you agree to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Provide accurate product descriptions and pricing"}),a.jsx("li",{children:"Honor all orders placed through your store"}),a.jsx("li",{children:"Comply with all applicable laws and regulations"}),a.jsx("li",{children:"Not sell prohibited items (illegal goods, counterfeit products, etc.)"}),a.jsx("li",{children:"Handle customer data responsibly and securely"}),a.jsx("li",{children:"Respond to customer inquiries in a timely manner"}),a.jsx("li",{children:"Process refunds and returns according to your stated policies"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Prohibited Activities"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You may not use our Platform to:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Violate any laws or regulations"}),a.jsx("li",{children:"Infringe on intellectual property rights"}),a.jsx("li",{children:"Transmit harmful code, viruses, or malware"}),a.jsx("li",{children:"Engage in fraudulent activities or scams"}),a.jsx("li",{children:"Harass, abuse, or harm other users"}),a.jsx("li",{children:"Scrape or copy content without permission"}),a.jsx("li",{children:"Interfere with the Platform's operation"}),a.jsx("li",{children:"Create fake accounts or impersonate others"}),a.jsx("li",{children:"Manipulate prices, reviews, or ratings"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Content and Intellectual Property"}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.1 Your Content"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"You retain ownership of content you upload (products, images, descriptions). By uploading content, you grant us a license to display, store, and distribute it as necessary to provide our services."}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7.2 Our Content"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Platform, including its design, features, and code, is protected by copyright and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Order Processing and Transactions"}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8.1 Order Placement"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orders placed through the Platform constitute an offer to purchase. Store owners reserve the right to accept or decline orders."}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.2 Payment Processing"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Currently, orders are processed via Cash on Delivery (COD) or direct WhatsApp communication. Future payment integrations may be added."}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"8.3 Disputes"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"YesGive acts as a platform provider. Disputes regarding orders, refunds, or product quality should be resolved directly between customers and store owners. We may assist in mediation but are not responsible for transaction outcomes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Termination"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"We may suspend or terminate your account if you:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Violate these Terms"}),a.jsx("li",{children:"Engage in fraudulent or illegal activities"}),a.jsx("li",{children:"Fail to pay subscription fees"}),a.jsx("li",{children:"Create risk or legal liability for us"})]}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mt-4",children:"You may cancel your account at any time through account settings. Upon termination, you lose access to your store and data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimers and Limitations of Liability"}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:"10.1 Service Availability"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We strive for 99.9% uptime but do not guarantee uninterrupted service. We are not liable for downtime, data loss, or service interruptions."}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.2 No Warranty"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Platform is provided "as is" without warranties of any kind, express or implied. We do not guarantee that the service will be error-free or secure.'}),a.jsx("h3",{className:"text-xl font-semibold mb-3 mt-4",children:"10.3 Limitation of Liability"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To the maximum extent permitted by law, YesGive shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Indemnification"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to indemnify and hold YesGive harmless from any claims, damages, or expenses arising from your use of the Platform, violation of these Terms, or infringement of any rights."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may modify these Terms at any time. Changes will be effective upon posting. Continued use of the Platform constitutes acceptance of modified Terms. Material changes will be communicated via email or platform notifications."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law and Dispute Resolution"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"These Terms are governed by the laws of India. Any disputes shall be resolved through:"}),a.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Informal negotiation (30 days)"}),a.jsx("li",{children:"Binding arbitration (if negotiation fails)"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Contact Information"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"For questions about these Terms, please contact us:"}),a.jsx("div",{className:"bg-accent p-4 rounded-lg",children:a.jsxs("p",{className:"text-muted-foreground",children:[a.jsx("strong",{children:"Email:"})," support@digitaldukandar.in",a.jsx("br",{}),a.jsx("strong",{children:"Website:"})," ",a.jsx("a",{href:"https://digitaldukandar.in",className:"text-primary hover:underline",children:"https://digitaldukandar.in"})]})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Severability"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will continue in full effect."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"16. Entire Agreement"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and YesGive regarding use of the Platform."})]})]})]}),a.jsx("footer",{className:"border-t mt-16",children:a.jsx("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," YesGive. All rights reserved."]})})})]}),yXe=Tf({full_name:lr().min(2,"Name must be at least 2 characters"),email:lr().email("Invalid email address"),phone:lr().regex(/^\d{10}$/,"Phone number must be 10 digits"),password:lr().min(6,"Password must be at least 6 characters"),confirm_password:lr().min(6,"Password must be at least 6 characters"),why_helper:lr().min(50,"Please write at least 50 characters"),bank_account_name:lr().min(2,"Account holder name is required"),bank_account_number:lr().min(8,"Invalid account number"),bank_ifsc_code:lr().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),bank_name:lr().min(2,"Bank name is required"),terms:tl().refine(e=>e===!0,"You must agree to terms and conditions")}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]});function wXe(){const[e]=A4(),[t,r]=_.useState(!1),[n,s]=_.useState(""),[i,o]=_.useState(""),l=e.get("ref"),c=vv({resolver:yv(yXe),defaultValues:{full_name:"",email:"",phone:"",password:"",confirm_password:"",why_helper:"",bank_account_name:"",bank_account_number:"",bank_ifsc_code:"",bank_name:"",terms:!1}});_.useState(()=>{l&&ne.from("helpers").select("full_name").eq("referral_code",l).single().then(({data:d})=>{d&&o(d.full_name)})});const u=async d=>{try{const{data:f}=await ne.from("helper_applications").select("email").eq("email",d.email).maybeSingle();if(f){dt.error("This email is already registered as a helper");return}const{data:m}=await ne.from("helper_applications").select("phone").eq("phone",d.phone).maybeSingle();if(m){dt.error("This phone number is already registered");return}const{data:g}=await ne.from("profiles").select("user_id, email").eq("email",d.email).maybeSingle();if(g){const{data:w}=await ne.from("stores").select("id, store_name").eq("user_id",g.user_id).maybeSingle();if(w){dt.error("This email is already registered as a store owner. Store owners cannot become helpers. Please use a different email address.");return}}const{data:y,error:x}=await ne.auth.signUp({email:d.email,password:d.password,options:{data:{full_name:d.full_name,user_type:"helper_applicant"},emailRedirectTo:`${window.location.origin}/application-status`}});if(x){if(x.message.includes("already registered"))dt.error("This email is already registered");else throw x;return}if(!y.user){dt.error("Failed to create account");return}let v=null;if(l){const{data:w}=await ne.from("helpers").select("id").eq("referral_code",l).single();w&&(v=w.id)}const{data:j,error:S}=await ne.from("helper_applications").insert({user_id:y.user.id,full_name:d.full_name,email:d.email,phone:d.phone,why_helper:d.why_helper,bank_account_name:d.bank_account_name,bank_account_number:d.bank_account_number,bank_ifsc_code:d.bank_ifsc_code,bank_name:d.bank_name,recruited_by_helper_id:v}).select().single();if(S)throw S;s(j.id.slice(0,8).toUpperCase()),r(!0),dt.success("Account created! Application submitted successfully!")}catch(f){console.error("Error submitting application:",f),dt.error(f.message||"Failed to submit application. Please try again.")}};return t?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(we,{className:"max-w-2xl w-full",children:[a.jsxs(Ge,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-4",children:a.jsx(vs,{className:"w-10 h-10 text-white"})}),a.jsx(Ke,{className:"text-3xl",children:"Application Submitted Successfully! "}),a.jsx(nn,{className:"text-lg mt-4",children:"We'll review your application within 2-3 business days and notify you via email"})]}),a.jsxs(_e,{className:"text-center space-y-4",children:[a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Application ID"}),a.jsxs("p",{className:"text-2xl font-bold",children:["#",n]})]}),a.jsx(pt,{to:"/application-status",children:a.jsx(le,{className:"w-full",children:"Check Application Status"})})]})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Join Our Helper Program & Earn Commissions"}),a.jsx("p",{className:"text-xl opacity-90 mb-8",children:"Help businesses grow and earn money for every paying customer you bring"}),i&&a.jsx("div",{className:"bg-primary-foreground text-primary p-4 rounded-lg inline-block mb-8",children:a.jsxs("p",{className:"font-semibold",children:["You're applying via ",a.jsxs("span",{className:"text-primary",children:[i,"'s"]})," referral"]})}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-12",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[a.jsx(Ds,{className:"w-10 h-10 mx-auto mb-3"}),a.jsx("p",{className:"font-semibold",children:"Earn 10% commission on every subscription you refer"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[a.jsx(ti,{className:"w-10 h-10 mx-auto mb-3"}),a.jsx("p",{className:"font-semibold",children:"Build your own helper network and earn additional 5%"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[a.jsx(ip,{className:"w-10 h-10 mx-auto mb-3"}),a.jsx("p",{className:"font-semibold",children:"Flexible working - work from anywhere"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-lg",children:[a.jsx(vs,{className:"w-10 h-10 mx-auto mb-3"}),a.jsx("p",{className:"font-semibold",children:"No investment required - completely free to join"})]})]})]})}),a.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4",children:a.jsxs(we,{children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Application Form"}),a.jsx(nn,{children:"Fill in your details to become a helper"})]}),a.jsx(_e,{children:a.jsx(wv,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-6",children:[a.jsx(Lt,{control:c.control,name:"full_name",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Full Name *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter your full name",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"email",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Email Address *"}),a.jsx(Ft,{children:a.jsx(De,{type:"email",placeholder:"Enter your email",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"phone",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"UPI Phone Number *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter 10-digit phone number",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"password",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Password *"}),a.jsx(Ft,{children:a.jsx(De,{type:"password",placeholder:"Create a password (min 6 characters)",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"confirm_password",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Confirm Password *"}),a.jsx(Ft,{children:a.jsx(De,{type:"password",placeholder:"Confirm your password",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"why_helper",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Why do you want to become a helper? *"}),a.jsx(Ft,{children:a.jsx(Js,{placeholder:"Tell us why you want to join our helper program (minimum 50 characters)",className:"min-h-32",...d})}),a.jsx(Jt,{})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Bank Account Details"}),a.jsx(Lt,{control:c.control,name:"bank_account_name",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Account Holder Name *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"As per bank records",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"bank_account_number",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Account Number *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter account number",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"bank_ifsc_code",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"IFSC Code *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"e.g., SBIN0001234",...d})}),a.jsx(Jt,{})]})}),a.jsx(Lt,{control:c.control,name:"bank_name",render:({field:d})=>a.jsxs(Mt,{children:[a.jsx(Dt,{children:"Bank Name *"}),a.jsx(Ft,{children:a.jsx(De,{placeholder:"Enter your bank name",...d})}),a.jsx(Jt,{})]})})]}),a.jsx(Lt,{control:c.control,name:"terms",render:({field:d})=>a.jsxs(Mt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Ft,{children:a.jsx(ma,{checked:d.value,onCheckedChange:d.onChange})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsx(Dt,{children:"I agree to terms and conditions *"}),a.jsx(Jt,{})]})]})}),a.jsx(le,{type:"submit",className:"w-full",size:"lg",children:"Apply Now"})]})})})]})})]})}function bXe(){const[e,t]=_.useState(""),[r,n]=_.useState(null),[s,i]=_.useState(!1),[o,l]=_.useState(!1),c=async()=>{if(!e.trim()){dt.error("Please enter an email or phone number");return}i(!0),l(!0);try{const{data:d,error:f}=await ne.from("helper_applications").select("*").or(`email.eq.${e},phone.eq.${e}`).single();if(f||!d){n(null);return}n(d)}catch(d){console.error("Error searching application:",d),dt.error("Failed to search application")}finally{i(!1)}},u=d=>{switch(d){case"Pending":return a.jsxs(vt,{className:"bg-yellow-500 text-white",children:[a.jsx(Gn,{className:"w-4 h-4 mr-1"}),"Application Pending"]});case"Approved":return a.jsxs(vt,{className:"bg-green-500 text-white",children:[a.jsx(vs,{className:"w-4 h-4 mr-1"}),"Application Approved!"]});case"Rejected":return a.jsxs(vt,{className:"bg-red-500 text-white",children:[a.jsx(Qs,{className:"w-4 h-4 mr-1"}),"Application Not Approved"]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Check Application Status"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Enter your email or phone number to check your helper application status"})]}),a.jsxs(we,{className:"mb-8",children:[a.jsxs(Ge,{children:[a.jsx(Ke,{children:"Search Your Application"}),a.jsx(nn,{children:"Enter the email or phone number you used to apply"})]}),a.jsx(_e,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx(De,{placeholder:"Enter email or phone number",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),a.jsxs(le,{onClick:c,disabled:s,children:[a.jsx(ac,{className:"w-4 h-4 mr-2"}),s?"Searching...":"Check Status"]})]})})]}),o&&!s&&a.jsx(a.Fragment,{children:r?a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ke,{children:"Application Details"}),u(r.application_status)]})}),a.jsxs(_e,{className:"space-y-6",children:[r.application_status==="Pending"&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6",children:[a.jsx("p",{className:"text-lg mb-2 text-yellow-900 dark:text-yellow-100",children:"Your application is under review. We'll notify you within 2-3 business days."}),a.jsxs("div",{className:"mt-4 space-y-2 text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Application ID:"})," ",r.id.slice(0,8).toUpperCase()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Applied on:"})," ",sr(new Date(r.created_at),"PPP")]})]})]}),r.application_status==="Approved"&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[a.jsx("p",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:"Congratulations! Your application has been approved."}),a.jsx("div",{className:"mt-4 space-y-2 text-sm text-green-800 dark:text-green-200",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Approved on:"})," ",r.approved_at?sr(new Date(r.approved_at),"PPP"):"N/A"]})}),a.jsx(pt,{to:"/auth",children:a.jsx(le,{className:"mt-4 w-full",children:"Login to Dashboard"})})]}),r.application_status==="Rejected"&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[a.jsx("p",{className:"text-lg font-semibold text-red-900 dark:text-red-100 mb-4",children:"Your application was not approved at this time."}),r.rejection_reason&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"font-semibold text-sm mb-1 text-red-900 dark:text-red-100",children:"Reason:"}),a.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:r.rejection_reason})]}),a.jsxs("div",{className:"space-y-2 text-sm text-red-800 dark:text-red-200",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Rejected on:"})," ",sr(new Date(r.created_at),"PPP")]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold text-red-900 dark:text-red-100",children:"Can reapply on:"})," ",sr(lPe(new Date(r.created_at),30),"PPP")]})]}),a.jsx("p",{className:"mt-4 text-sm text-red-700 dark:text-red-300",children:"You can reapply after 30 days from rejection date"})]})]})]}):a.jsx(we,{children:a.jsxs(_e,{className:"py-12 text-center",children:[a.jsx(Qs,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Application Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find an application with this email or phone number"}),a.jsx(pt,{to:"/become-helper",children:a.jsx(le,{children:"Apply Now"})})]})})})]})})}function _Xe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState({directReferrals:{total:0,trial:0,paid:0,conversionRate:0},helperNetwork:{total:0,pending:0,approved:0,suspended:0},directCommission:{total:0,pending:0,paid:0},networkCommission:{total:0,pending:0,paid:0}});_.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:{user:y}}=await ne.auth.getUser();if(!y){e("/auth");return}const{data:x,error:v}=await ne.from("helpers").select("*").eq("email",y.email).single();if(v||!x){const{data:j}=await ne.from("helper_applications").select("*").eq("email",y.email).single();if(j){if(j.application_status==="Pending"){e("/application-status");return}else if(j.application_status==="Rejected"){t({title:"Application Rejected",description:j.rejection_reason||"Your application was not approved",variant:"destructive"}),e("/application-status");return}}else{e("/become-helper");return}}if(x.status==="Suspended"){t({title:"Account Suspended",description:"Your helper account has been suspended. Please contact support.",variant:"destructive"});return}i(x),await u(x.id),n(!1)}catch(y){console.error("Error checking helper access:",y),e("/auth")}},u=async y=>{try{const{data:x}=await ne.from("store_referrals").select("*").eq("helper_id",y),v=x?.length||0,j=x?.filter(M=>!M.subscription_purchased).length||0,S=x?.filter(M=>M.subscription_purchased).length||0,w=v>0?S/v*100:0,{data:T}=await ne.from("helpers").select("*, helper_applications!inner(*)").eq("recruited_by_helper_id",y),E=T?.length||0,{data:N}=await ne.from("helper_applications").select("*").eq("recruited_by_helper_id",y).eq("application_status","Pending"),k=T?.filter(M=>M.status==="Active").length||0,R=T?.filter(M=>M.status==="Suspended").length||0,{data:A}=await ne.from("network_commissions").select("*").eq("earning_helper_id",y),I=A?.reduce((M,W)=>M+(W.direct_commission_amount||0),0)||0,P=A?.reduce((M,W)=>M+(W.network_commission_amount||0),0)||0,D=A?.filter(M=>M.commission_status.includes("Pending")).reduce((M,W)=>M+(W.direct_commission_amount||0),0)||0,B=A?.filter(M=>M.commission_status==="Paid").reduce((M,W)=>M+(W.direct_commission_amount||0),0)||0,U=A?.filter(M=>M.commission_status.includes("Pending")).reduce((M,W)=>M+(W.network_commission_amount||0),0)||0,H=A?.filter(M=>M.commission_status==="Paid").reduce((M,W)=>M+(W.network_commission_amount||0),0)||0;l({directReferrals:{total:v,trial:j,paid:S,conversionRate:Math.round(w)},helperNetwork:{total:E,pending:N?.length||0,approved:k,suspended:R},directCommission:{total:I,pending:D,paid:B},networkCommission:{total:P,pending:U,paid:H}})}catch(x){console.error("Error loading stats:",x)}},d=(y,x)=>{navigator.clipboard.writeText(y),dt.success(`${x} link copied to clipboard!`)},f=async()=>{await ne.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};if(r)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})});if(!s)return null;const m=`${window.location.origin}/auth?ref=${s.referral_code}`,g=`${window.location.origin}/become-helper?ref=${s.referral_code}`;return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vl,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"Helper Dashboard"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:s.full_name})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{onClick:()=>e("/helper/profile"),children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:f,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold",children:["Welcome back, ",s.full_name,"!"]}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsxs(vt,{variant:"outline",className:"font-mono",children:["ID: ",s.referral_code]}),a.jsx(vt,{className:s.status==="Active"?"bg-green-500":"bg-yellow-500",children:s.status})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(we,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Direct Referrals"}),a.jsx(ti,{className:"h-5 w-5 text-blue-500"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:o.directReferrals.total}),a.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-3 w-3"}),a.jsxs("span",{children:[o.directReferrals.trial," on trial"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:[o.directReferrals.paid," paid customers"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"h-3 w-3"}),a.jsxs("span",{children:["Conversion: ",o.directReferrals.conversionRate,"%"]})]})]})]})]}),a.jsxs(we,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Helper Network"}),a.jsx(Kd,{className:"h-5 w-5 text-purple-500"})]}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o.helperNetwork.total}),a.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-3 w-3"}),a.jsxs("span",{children:[o.helperNetwork.pending," pending approval"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:[o.helperNetwork.approved," approved & active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qs,{className:"h-3 w-3 text-red-500"}),a.jsxs("span",{children:[o.helperNetwork.suspended," suspended"]})]})]})]})]}),a.jsxs(we,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Direct Commission"}),a.jsx(Ds,{className:"h-5 w-5 text-green-500"})]}),a.jsxs(_e,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-500 mb-2",children:["",o.directCommission.total.toLocaleString()]}),a.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-3 w-3"}),a.jsxs("span",{children:["",o.directCommission.pending.toLocaleString()," pending"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:["",o.directCommission.paid.toLocaleString()," paid"]})]})]})]})]}),a.jsxs(we,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Ge,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Network Commission"}),a.jsx(iL,{className:"h-5 w-5 text-orange-500"})]}),a.jsxs(_e,{children:[a.jsxs("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:["",o.networkCommission.total.toLocaleString()]}),a.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"h-3 w-3"}),a.jsxs("span",{children:["",o.networkCommission.pending.toLocaleString()," pending"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-3 w-3 text-green-500"}),a.jsxs("span",{children:["",o.networkCommission.paid.toLocaleString()," paid"]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(we,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-referrals"),children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Store Referrals"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.directReferrals.total," store owners you've referred"]})]}),a.jsx(Rs,{className:"h-6 w-6 text-primary"})]})})}),a.jsx(we,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/my-helper-network"),children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Helper Network"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["View all ",o.helperNetwork.total," helpers you've recruited"]})]}),a.jsx(Rs,{className:"h-6 w-6 text-primary"})]})})}),a.jsx(we,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e("/helper/commission-history"),children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Commission History"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View earnings & payment details"})]}),a.jsx(Rs,{className:"h-6 w-6 text-primary"})]})})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(iL,{className:"h-5 w-5"}),"Your Referral Links"]})}),a.jsxs(_e,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Store Owner Referral Link"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to refer store owners"})]}),a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[a.jsx(lL,{className:"h-4 w-4"}),"QR Code"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:m}),a.jsxs(le,{onClick:()=>d(m,"Store referral"),className:"gap-2",children:[a.jsx(Gd,{className:"h-4 w-4"}),"Copy"]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Helper Recruitment Link"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this to recruit helpers"})]}),a.jsxs(le,{variant:"outline",size:"sm",onClick:()=>{},className:"gap-2",children:[a.jsx(lL,{className:"h-4 w-4"}),"QR Code"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1 p-3 bg-muted rounded-lg font-mono text-sm truncate",children:g}),a.jsxs(le,{onClick:()=>d(g,"Helper recruitment"),className:"gap-2",children:[a.jsx(Gd,{className:"h-4 w-4"}),"Copy"]})]})]})]})]})]})]})}function jXe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState(""),[m,g]=_.useState("all"),[y,x]=_.useState(""),[v,j]=_.useState(""),[S,w]=_.useState({totalReferrals:0,onTrial:0,convertedToPaid:0,conversionRate:0,totalCommission:0,pendingPayment:0,alreadyPaid:0});_.useEffect(()=>{T()},[]),_.useEffect(()=>{N()},[o,d,m,y,v]);const T=async()=>{try{const{data:{user:I}}=await ne.auth.getUser();if(!I){e("/auth");return}const{data:P,error:D}=await ne.from("helpers").select("*").eq("email",I.email).single();if(D||!P){e("/helper/dashboard");return}i(P),await E(P.id),n(!1)}catch(I){console.error("Error checking helper access:",I),e("/auth")}},E=async I=>{try{const{data:P,error:D}=await ne.from("store_referrals").select("*").eq("helper_id",I).order("signup_date",{ascending:!1});if(D)throw D;const B=P?.length||0,U=P?.filter(F=>F.trial_status==="Active"&&!F.subscription_purchased).length||0,H=P?.filter(F=>F.subscription_purchased).length||0,M=B>0?H/B*100:0,{data:W}=await ne.from("network_commissions").select("*").eq("earning_helper_id",I).in("store_referral_id",P?.map(F=>F.id)||[]),K=W?.reduce((F,X)=>F+(X.direct_commission_amount||0),0)||0,V=W?.filter(F=>F.commission_status.includes("Pending")).reduce((F,X)=>F+(X.direct_commission_amount||0),0)||0,z=W?.filter(F=>F.commission_status==="Paid").reduce((F,X)=>F+(X.direct_commission_amount||0),0)||0;w({totalReferrals:B,onTrial:U,convertedToPaid:H,conversionRate:Math.round(M),totalCommission:K,pendingPayment:V,alreadyPaid:z});const G=P?.map(F=>{const X=W?.find(Z=>Z.store_referral_id===F.id);return{...F,commissionEarned:X?.direct_commission_amount||0,commissionStatus:X?.commission_status||"Not Earned",paymentDate:X?.payment_date||null}})||[];l(G),u(G)}catch(P){console.error("Error loading referrals:",P),dt.error("Failed to load referrals")}},N=()=>{let I=[...o];d&&(I=I.filter(P=>P.store_owner_name?.toLowerCase().includes(d.toLowerCase())||P.store_owner_email?.toLowerCase().includes(d.toLowerCase()))),m==="paid"?I=I.filter(P=>P.subscription_purchased):m==="trial"&&(I=I.filter(P=>!P.subscription_purchased)),y&&(I=I.filter(P=>new Date(P.signup_date)>=new Date(y))),v&&(I=I.filter(P=>new Date(P.signup_date)<=new Date(v))),u(I)},k=I=>{if(I.subscription_purchased)return{label:"Purchased",color:"bg-green-500",icon:to};if(I.trial_status==="Active"){const P=I.trial_end_date?Gb(new Date(I.trial_end_date),new Date):0;return P>0?{label:`Active Trial (${P}d left)`,color:"bg-yellow-500",icon:Gn}:{label:"Trial Expired",color:"bg-red-500",icon:Qs}}return{label:"Trial Expired",color:"bg-red-500",icon:Qs}},R=I=>I==="Paid"?a.jsx(vt,{className:"bg-blue-500",children:"Paid"}):I.includes("Pending")?a.jsx(vt,{className:"bg-yellow-500",children:"Pending"}):I.includes("Earned")?a.jsx(vt,{className:"bg-green-500",children:"Earned"}):a.jsx(vt,{variant:"outline",children:"Not Earned"}),A=async()=>{await ne.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading referrals..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pt,{to:"/helper/dashboard",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vl,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"My Referrals"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:s?.full_name})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:A,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Total Referrals"})}),a.jsx(_e,{children:a.jsx("div",{className:"text-3xl font-bold",children:S.totalReferrals})})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"On Trial / Paid"})}),a.jsxs(_e,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[a.jsx("span",{className:"text-yellow-500",children:S.onTrial})," / ",a.jsx("span",{className:"text-green-500",children:S.convertedToPaid})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Conversion: ",S.conversionRate,"%"]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Total Commission"})}),a.jsx(_e,{children:a.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",S.totalCommission.toLocaleString()]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Payment Status"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),a.jsxs("span",{className:"font-semibold text-yellow-500",children:["",S.pendingPayment.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),a.jsxs("span",{className:"font-semibold text-green-500",children:["",S.alreadyPaid.toLocaleString()]})]})]})})]})]}),a.jsx(we,{children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),a.jsx(De,{placeholder:"Search by name or email...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]}),a.jsxs(_r,{value:m,onValueChange:g,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Filter by status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"Show All"}),a.jsx(Me,{value:"paid",children:"Show Only Paid"}),a.jsx(Me,{value:"trial",children:"Show Only Trials"})]})]}),a.jsx(De,{type:"date",placeholder:"From date",value:y,onChange:I=>x(I.target.value)}),a.jsx(De,{type:"date",placeholder:"To date",value:v,onChange:I=>j(I.target.value)})]})})}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{children:["Store Referrals (",c.length,")"]})}),a.jsx(_e,{children:c.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ti,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No referrals found"})]}):a.jsx("div",{className:"space-y-4",children:c.map(I=>{const P=k(I),D=P.icon;return a.jsx(we,{className:"hover:shadow-md transition-shadow",children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:I.store_owner_name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:I.store_owner_email}),a.jsx("div",{className:"text-sm text-muted-foreground",children:I.store_owner_phone}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[a.jsx(rc,{className:"inline w-3 h-3 mr-1"}),"Signed up: ",sr(new Date(I.signup_date),"PPP")]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Status"}),a.jsxs(vt,{className:`${P.color} flex items-center gap-1 w-fit`,children:[a.jsx(D,{className:"w-3 h-3"}),P.label]}),I.subscription_purchased&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsxs("div",{className:"text-muted-foreground",children:["Plan: ",I.subscription_plan]}),a.jsxs("div",{className:"text-muted-foreground",children:["Amount: ",I.subscription_amount?.toLocaleString()]}),I.purchase_date&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Purchased: ",sr(new Date(I.purchase_date),"PP")]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Commission"}),a.jsxs("div",{className:"text-2xl font-bold text-green-500",children:["",I.commissionEarned.toLocaleString()]}),a.jsx("div",{className:"mt-2",children:R(I.commissionStatus)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Payment"}),I.paymentDate?a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"text-muted-foreground",children:"Paid on:"}),a.jsx("div",{className:"font-medium",children:sr(new Date(I.paymentDate),"PPP")})]}):a.jsx("div",{className:"text-sm text-muted-foreground",children:"Not paid yet"})]})]})})},I.id)})})})]})]})]})}function SXe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState({totalRecruited:0,pendingApproval:0,active:0,suspended:0,totalNetworkCommission:0,pendingCommission:0,paidCommission:0,bestPerformer:{name:"",earned:0}});_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:{user:v}}=await ne.auth.getUser();if(!v){e("/auth");return}const{data:j,error:S}=await ne.from("helpers").select("*").eq("email",v.email).single();if(S||!j){e("/helper/dashboard");return}i(j),await f(j.id),n(!1)}catch(v){console.error("Error checking helper access:",v),e("/auth")}},f=async v=>{try{const{data:j,error:S}=await ne.from("helpers").select(`
          *,
          helper_applications!inner(application_status)
        `).eq("recruited_by_helper_id",v).order("created_at",{ascending:!1});if(S)throw S;const w=await Promise.all((j||[]).map(async D=>{const{data:B}=await ne.from("store_referrals").select("id").eq("helper_id",D.id),{data:U}=await ne.from("network_commissions").select("direct_commission_amount, commission_status").eq("earning_helper_id",D.id),H=U?.reduce((V,z)=>V+(z.direct_commission_amount||0),0)||0,{data:M}=await ne.from("network_commissions").select("network_commission_amount, commission_status").eq("earning_helper_id",D.id).eq("recruiting_helper_id",v),W=M?.reduce((V,z)=>V+(z.network_commission_amount||0),0)||0;let K="Not Earned";if(M&&M.length>0){const V=M.some(G=>G.commission_status.includes("Pending"));M.every(G=>G.commission_status==="Paid")?K="Paid":V?K="Pending":K="Earned"}return{...D,store_referrals_count:B?.length||0,total_commission_earned:H,network_commission_to_recruiter:W,commission_status:K,application_status:D.helper_applications?.application_status||"Pending"}}));l(w);const T=w.length,E=w.filter(D=>D.application_status==="Pending").length,N=w.filter(D=>D.status==="Active").length,k=w.filter(D=>D.status==="Suspended").length,R=w.reduce((D,B)=>D+B.network_commission_to_recruiter,0),A=w.filter(D=>D.commission_status==="Pending").reduce((D,B)=>D+B.network_commission_to_recruiter,0),I=w.filter(D=>D.commission_status==="Paid").reduce((D,B)=>D+B.network_commission_to_recruiter,0),P=w.reduce((D,B)=>B.network_commission_to_recruiter>D.earned?{name:B.full_name,earned:B.network_commission_to_recruiter}:D,{name:"",earned:0});u({totalRecruited:T,pendingApproval:E,active:N,suspended:k,totalNetworkCommission:R,pendingCommission:A,paidCommission:I,bestPerformer:P})}catch(j){console.error("Error loading recruited helpers:",j),dt.error("Failed to load network data")}},m=(v,j)=>j==="Pending"?a.jsxs(vt,{className:"bg-yellow-500",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}):v==="Active"?a.jsxs(vt,{className:"bg-green-500",children:[a.jsx(to,{className:"w-3 h-3 mr-1"}),"Active"]}):v==="Suspended"?a.jsxs(vt,{className:"bg-red-500",children:[a.jsx(Qs,{className:"w-3 h-3 mr-1"}),"Suspended"]}):a.jsx(vt,{variant:"outline",children:"Unknown"}),g=v=>v==="Paid"?a.jsx(vt,{className:"bg-blue-500",children:"Paid"}):v==="Pending"?a.jsx(vt,{className:"bg-yellow-500",children:"Pending"}):v==="Earned"?a.jsx(vt,{className:"bg-green-500",children:"Earned"}):a.jsx(vt,{variant:"outline",children:"Not Earned"}),y=(v,j)=>{navigator.clipboard.writeText(v),dt.success(`${j} copied to clipboard!`)},x=async()=>{await ne.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading network..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pt,{to:"/helper/dashboard",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nb,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"My Helper Network"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:s?.full_name})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:x,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Network Size"})}),a.jsxs(_e,{children:[a.jsx("div",{className:"text-3xl font-bold",children:c.totalRecruited}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Pending: ",c.pendingApproval," | Active: ",c.active]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Total Network Commission"})}),a.jsxs(_e,{children:[a.jsxs("div",{className:"text-3xl font-bold text-green-500",children:["",c.totalNetworkCommission.toLocaleString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["From ",c.active," active helpers"]})]})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Commission Status"})}),a.jsx(_e,{children:a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Pending:"}),a.jsxs("span",{className:"font-semibold text-yellow-500",children:["",c.pendingCommission.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),a.jsxs("span",{className:"font-semibold text-green-500",children:["",c.paidCommission.toLocaleString()]})]})]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{className:"pb-2",children:a.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:"Best Performer"})}),a.jsx(_e,{children:c.bestPerformer.name?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold text-lg truncate",children:c.bestPerformer.name}),a.jsxs("p",{className:"text-sm text-green-500",children:["Earned you ",c.bestPerformer.earned.toLocaleString()]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet"})})]})]}),o.length===0?a.jsx(we,{children:a.jsx(_e,{className:"py-16",children:a.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[a.jsx(nb,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Build Your Helper Network"}),a.jsx("p",{className:"text-muted-foreground mb-6 text-lg",children:"You haven't recruited any helpers yet. Start building your network to earn 5% network commission on their earnings!"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx(Ds,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-semibold mb-1",children:"Passive Income"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 5% of everything your recruited helpers earn"})]}),a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx(Lo,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-semibold mb-1",children:"Unlimited Potential"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No limit on how many helpers you can recruit"})]}),a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[a.jsx(QT,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-semibold mb-1",children:"Build Your Team"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a strong network and grow together"})]})]}),a.jsxs("div",{className:"bg-primary/5 border-2 border-primary/20 rounded-lg p-6",children:[a.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center justify-center gap-2",children:[a.jsx(Zle,{className:"h-5 w-5"}),"Your Helper Recruitment Link"]}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${s?.referral_code}`,readOnly:!0,className:"flex-1 px-4 py-2 bg-background border rounded-lg text-sm"}),a.jsxs(le,{onClick:()=>y(`${window.location.origin}/become-helper?ref=${s?.referral_code}`,"Helper recruitment link"),children:[a.jsx(Gd,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this link with people interested in becoming helpers"})]})]})})}):a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"bg-primary/5 border-primary/20",children:a.jsxs(_e,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:a.jsx(sc,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold",children:["You (",s?.full_name," - ",s?.helper_id,")"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Network Builder | ",o.length," Helper",o.length!==1?"s":""," Recruited"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:`${window.location.origin}/become-helper?ref=${s?.referral_code}`,readOnly:!0,className:"flex-1 px-3 py-2 bg-background border rounded-lg text-sm"}),a.jsxs(le,{size:"sm",onClick:()=>y(`${window.location.origin}/become-helper?ref=${s?.referral_code}`,"Helper recruitment link"),children:[a.jsx(Gd,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["Your Recruited Helpers (",o.length,")"]}),o.map((v,j)=>a.jsx(we,{className:"hover:shadow-md transition-shadow",children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(ti,{className:"h-4 w-4 text-primary"})}),j<o.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-primary/20 mt-2"})]}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-lg",children:v.full_name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.id," | ",v.referral_code]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:v.email}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[a.jsx(rc,{className:"inline w-3 h-3 mr-1"}),"Joined: ",sr(new Date(v.created_at),"PPP")]}),a.jsx("div",{className:"mt-2",children:m(v.status,v.application_status)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Their Performance"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vl,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Store Referrals:"}),a.jsx("span",{className:"font-semibold",children:v.store_referrals_count})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ds,{className:"w-3 h-3 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Their Earnings:"}),a.jsxs("span",{className:"font-semibold text-green-500",children:["",v.total_commission_earned.toLocaleString()]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Your Network Commission"}),a.jsxs("div",{className:"text-2xl font-bold text-green-500 mb-2",children:["",v.network_commission_to_recruiter.toLocaleString()]}),a.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["5% of their ",v.total_commission_earned.toLocaleString()]}),g(v.commission_status)]}),a.jsx("div",{className:"flex items-center",children:a.jsxs(le,{variant:"outline",size:"sm",className:"w-full",children:[a.jsx(ju,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})})]})})},v.id))]})]})]})]})}function NXe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,f]=_.useState([]),[m,g]=_.useState([]),[y,x]=_.useState(""),[v,j]=_.useState(""),[S,w]=_.useState("all"),[T,E]=_.useState("all"),[N,k]=_.useState({direct:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},network:{total:0,pending:0,paid:0,pendingCount:0,paidCount:0},grand:{total:0,pending:0,paid:0,nextPaymentDate:""}});_.useEffect(()=>{R()},[]),_.useEffect(()=>{I()},[o,c,y,v,S,T]);const R=async()=>{try{const{data:{user:U}}=await ne.auth.getUser();if(!U){e("/auth");return}const{data:H,error:M}=await ne.from("helpers").select("*").eq("email",U.email).single();if(M||!H){e("/helper/dashboard");return}i(H),await A(H.id),n(!1)}catch(U){console.error("Error checking helper access:",U),e("/auth")}},A=async U=>{try{const{data:H,error:M}=await ne.from("network_commissions").select(`
          *,
          store_referral:store_referrals(
            store_owner_name,
            store_owner_email,
            subscription_plan,
            subscription_amount
          )
        `).eq("earning_helper_id",U).order("created_at",{ascending:!1});if(M)throw M;const W=[],K=[];for(const ae of H||[])if(ae.direct_commission_amount>0&&W.push({id:ae.id,date_earned:ae.created_at,store_owner_name:ae.store_referral?.store_owner_name||"N/A",subscription_plan:ae.store_referral?.subscription_plan||"N/A",plan_amount:ae.store_referral?.subscription_amount||0,commission_amount:ae.direct_commission_amount,commission_status:ae.commission_status,payment_date:ae.payment_date,payment_reference:ae.payment_reference}),ae.network_commission_amount>0&&ae.recruiting_helper_id){const{data:q}=await ne.from("helpers").select("full_name").eq("id",ae.earning_helper_id).single();K.push({id:ae.id,date_earned:ae.created_at,helper_name:q?.full_name||"N/A",customer_name:ae.store_referral?.store_owner_name||"N/A",helper_commission:ae.direct_commission_amount,network_commission:ae.network_commission_amount,commission_status:ae.commission_status,payment_date:ae.payment_date,payment_reference:ae.payment_reference})}l(W),u(K);const V=W.reduce((ae,q)=>ae+q.commission_amount,0),z=W.filter(ae=>ae.commission_status.includes("Pending")).reduce((ae,q)=>ae+q.commission_amount,0),G=W.filter(ae=>ae.commission_status==="Paid").reduce((ae,q)=>ae+q.commission_amount,0),F=W.filter(ae=>ae.commission_status.includes("Pending")).length,X=W.filter(ae=>ae.commission_status==="Paid").length,Z=K.reduce((ae,q)=>ae+q.network_commission,0),re=K.filter(ae=>ae.commission_status.includes("Pending")).reduce((ae,q)=>ae+q.network_commission,0),ee=K.filter(ae=>ae.commission_status==="Paid").reduce((ae,q)=>ae+q.network_commission,0),ce=K.filter(ae=>ae.commission_status.includes("Pending")).length,pe=K.filter(ae=>ae.commission_status==="Paid").length,Y=[...W,...K].filter(ae=>ae.commission_status.includes("Pending")&&ae.payment_date).map(ae=>new Date(ae.payment_date).getTime()).sort((ae,q)=>ae-q),Q=Y.length>0?sr(new Date(Y[0]),"PPP"):"TBD";k({direct:{total:V,pending:z,paid:G,pendingCount:F,paidCount:X},network:{total:Z,pending:re,paid:ee,pendingCount:ce,paidCount:pe},grand:{total:V+Z,pending:z+re,paid:G+ee,nextPaymentDate:Q}})}catch(H){console.error("Error loading commissions:",H),dt.error("Failed to load commission history")}},I=()=>{let U=[...o],H=[...c];y&&(U=U.filter(M=>new Date(M.date_earned)>=new Date(y)),H=H.filter(M=>new Date(M.date_earned)>=new Date(y))),v&&(U=U.filter(M=>new Date(M.date_earned)<=new Date(v)),H=H.filter(M=>new Date(M.date_earned)<=new Date(v))),S==="pending"?(U=U.filter(M=>M.commission_status.includes("Pending")),H=H.filter(M=>M.commission_status.includes("Pending"))):S==="paid"&&(U=U.filter(M=>M.commission_status==="Paid"),H=H.filter(M=>M.commission_status==="Paid")),T==="direct"?H=[]:T==="network"&&(U=[]),f(U),g(H)},P=U=>U==="Paid"?a.jsxs(vt,{className:"bg-green-500",children:[a.jsx(to,{className:"w-3 h-3 mr-1"}),"Paid"]}):U.includes("Pending")?a.jsxs(vt,{className:"bg-yellow-500",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Pending"]}):a.jsx(vt,{variant:"outline",children:U}),D=()=>{try{const U=d.map(z=>({"Date Earned":sr(new Date(z.date_earned),"PPP"),"Store Owner":z.store_owner_name,"Subscription Plan":z.subscription_plan,"Plan Amount":`${z.plan_amount.toLocaleString()}`,"Your Commission (10%)":`${z.commission_amount.toLocaleString()}`,Status:z.commission_status,"Payment Date":z.payment_date?sr(new Date(z.payment_date),"PPP"):"N/A","Payment Reference":z.payment_reference||"N/A"})),H=m.map(z=>({"Date Earned":sr(new Date(z.date_earned),"PPP"),"Helper Name":z.helper_name,"Their Customer":z.customer_name,"Their Commission":`${z.helper_commission.toLocaleString()}`,"Your Network Commission (5%)":`${z.network_commission.toLocaleString()}`,Status:z.commission_status,"Payment Date":z.payment_date?sr(new Date(z.payment_date),"PPP"):"N/A","Payment Reference":z.payment_reference||"N/A"})),M=os.book_new();if(U.length>0){const z=os.json_to_sheet(U);os.book_append_sheet(M,z,"Direct Commissions")}if(H.length>0){const z=os.json_to_sheet(H);os.book_append_sheet(M,z,"Network Commissions")}const W=[{Category:"Direct Commissions",Total:`${N.direct.total.toLocaleString()}`,Pending:`${N.direct.pending.toLocaleString()}`,Paid:`${N.direct.paid.toLocaleString()}`},{Category:"Network Commissions",Total:`${N.network.total.toLocaleString()}`,Pending:`${N.network.pending.toLocaleString()}`,Paid:`${N.network.paid.toLocaleString()}`},{Category:"GRAND TOTAL",Total:`${N.grand.total.toLocaleString()}`,Pending:`${N.grand.pending.toLocaleString()}`,Paid:`${N.grand.paid.toLocaleString()}`}],K=os.json_to_sheet(W);os.book_append_sheet(M,K,"Summary");const V=`commission_history_${sr(new Date,"yyyy-MM-dd")}.xlsx`;hf(M,V),dt.success("Commission history exported successfully!")}catch(U){console.error("Error exporting to Excel:",U),dt.error("Failed to export commission history")}},B=async()=>{await ne.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading commission history..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pt,{to:"/helper/dashboard",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ds,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"Commission History"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:s?.full_name})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:B,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsxs("main",{className:"container mx-auto p-6 space-y-6",children:[a.jsx(we,{className:"bg-gradient-to-r from-green-500/10 to-blue-500/10 border-green-500/20",children:a.jsx(_e,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Earned"}),a.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["",N.grand.total.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct + Network"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pending"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-500",children:["",N.grand.pending.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Paid"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-500",children:["",N.grand.paid.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Received"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Next Payment"}),a.jsx("p",{className:"text-xl font-bold",children:N.grand.nextPaymentDate}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Expected date"})]})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx(De,{type:"date",placeholder:"From date",value:y,onChange:U=>x(U.target.value)}),a.jsx(De,{type:"date",placeholder:"To date",value:v,onChange:U=>j(U.target.value)}),a.jsxs(_r,{value:S,onValueChange:w,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Status"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Status"}),a.jsx(Me,{value:"pending",children:"Pending Only"}),a.jsx(Me,{value:"paid",children:"Paid Only"})]})]}),a.jsxs(_r,{value:T,onValueChange:E,children:[a.jsx(yr,{children:a.jsx(jr,{placeholder:"Type"})}),a.jsxs(wr,{children:[a.jsx(Me,{value:"all",children:"All Types"}),a.jsx(Me,{value:"direct",children:"Direct Only"}),a.jsx(Me,{value:"network",children:"Network Only"})]})]}),a.jsxs(le,{onClick:D,className:"w-full",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})]})})}),T!=="network"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ds,{className:"h-6 w-6 text-green-500"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Direct Commissions"}),a.jsx("span",{className:"text-muted-foreground",children:"(From Store Owners You Referred)"})]}),a.jsx(we,{className:"bg-green-500/5 border-green-500/20",children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Direct Commission"}),a.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["",N.direct.total.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),a.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",N.direct.pending.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",N.direct.pendingCount," customer",N.direct.pendingCount!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),a.jsxs("p",{className:"text-xl font-bold text-blue-500",children:["",N.direct.paid.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",N.direct.paidCount," customer",N.direct.paidCount!==1?"s":""]})]})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-0",children:d.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No direct commissions found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Date Earned"}),a.jsx(ze,{children:"Store Owner"}),a.jsx(ze,{children:"Subscription Plan"}),a.jsx(ze,{children:"Plan Amount"}),a.jsx(ze,{children:"Your Commission (10%)"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Payment Date"}),a.jsx(ze,{children:"Reference"})]})}),a.jsx($s,{children:d.map(U=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rc,{className:"h-4 w-4 text-muted-foreground"}),sr(new Date(U.date_earned),"PP")]})}),a.jsx(Be,{className:"font-medium",children:U.store_owner_name}),a.jsx(Be,{children:U.subscription_plan}),a.jsxs(Be,{children:["",U.plan_amount.toLocaleString()]}),a.jsxs(Be,{className:"font-bold text-green-500",children:["",U.commission_amount.toLocaleString()]}),a.jsx(Be,{children:P(U.commission_status)}),a.jsx(Be,{children:U.payment_date?sr(new Date(U.payment_date),"PP"):"-"}),a.jsx(Be,{className:"text-sm text-muted-foreground",children:U.payment_reference||"-"})]},U.id))})]})})})})]}),T!=="direct"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ds,{className:"h-6 w-6 text-blue-500"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Network Commissions"}),a.jsx("span",{className:"text-muted-foreground",children:"(From Helpers You Recruited)"})]}),a.jsx(we,{className:"bg-blue-500/5 border-blue-500/20",children:a.jsx(_e,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Network Commission"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-500",children:["",N.network.total.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),a.jsxs("p",{className:"text-xl font-bold text-yellow-500",children:["",N.network.pending.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",N.network.pendingCount," helper",N.network.pendingCount!==1?"s":""]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Paid"}),a.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",N.network.paid.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["from ",N.network.paidCount," helper",N.network.paidCount!==1?"s":""]})]})]})})}),a.jsx(we,{children:a.jsx(_e,{className:"p-0",children:m.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No network commissions found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Fs,{children:[a.jsx(Ls,{children:a.jsxs(cr,{children:[a.jsx(ze,{children:"Date Earned"}),a.jsx(ze,{children:"Helper Name"}),a.jsx(ze,{children:"Their Customer"}),a.jsx(ze,{children:"Their Commission"}),a.jsx(ze,{children:"Your Network Commission (5%)"}),a.jsx(ze,{children:"Status"}),a.jsx(ze,{children:"Payment Date"}),a.jsx(ze,{children:"Reference"})]})}),a.jsx($s,{children:m.map(U=>a.jsxs(cr,{children:[a.jsx(Be,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rc,{className:"h-4 w-4 text-muted-foreground"}),sr(new Date(U.date_earned),"PP")]})}),a.jsx(Be,{className:"font-medium",children:U.helper_name}),a.jsx(Be,{children:U.customer_name}),a.jsxs(Be,{children:["",U.helper_commission.toLocaleString()]}),a.jsxs(Be,{className:"font-bold text-blue-500",children:["",U.network_commission.toLocaleString()]}),a.jsx(Be,{children:P(U.commission_status)}),a.jsx(Be,{children:U.payment_date?sr(new Date(U.payment_date),"PP"):"-"}),a.jsx(Be,{className:"text-sm text-muted-foreground",children:U.payment_reference||"-"})]},U.id))})]})})})})]})]})]})}function kXe(){const e=nr(),{toast:t}=Ln(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,f]=_.useState(!1),[m,g]=_.useState(null),[y,x]=_.useState({full_name:"",phone:""}),[v,j]=_.useState({account_holder_name:"",account_number:"",ifsc_code:"",bank_name:""}),[S,w]=_.useState(""),[T,E]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,k]=_.useState({memberSince:"",daysActive:0,totalEarnings:0,rank:"Bronze",badges:[]});_.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:{user:M}}=await ne.auth.getUser();if(!M){e("/auth");return}const{data:W,error:K}=await ne.from("helpers").select("*").eq("email",M.email).single();if(K||!W){e("/helper/dashboard");return}if(i(W),x({full_name:W.full_name,phone:W.phone}),W.application_id){const{data:V}=await ne.from("helper_applications").select("bank_account_name, bank_account_number, bank_ifsc_code, bank_name").eq("id",W.application_id).single();V&&j({account_holder_name:V.bank_account_name||"",account_number:V.bank_account_number||"",ifsc_code:V.bank_ifsc_code||"",bank_name:V.bank_name||""})}await A(W.id,W.created_at),n(!1)}catch(M){console.error("Error checking helper access:",M),e("/auth")}},A=async(M,W)=>{try{const K=Gb(new Date,new Date(W)),{data:V}=await ne.from("network_commissions").select("direct_commission_amount, network_commission_amount").eq("earning_helper_id",M),z=V?.reduce((X,Z)=>X+(Z.direct_commission_amount||0)+(Z.network_commission_amount||0),0)||0;let G="Bronze";const F=[];z>=1e5?(G="Gold",F.push("Gold Member","Top Performer","Network Builder")):z>=5e4?(G="Silver",F.push("Silver Member","Rising Star")):(G="Bronze",K>=30&&F.push("Consistent Helper"),z>0&&F.push("First Earnings")),k({memberSince:sr(new Date(W),"PPP"),daysActive:K,totalEarnings:z,rank:G,badges:F})}catch(K){console.error("Error loading performance:",K)}},I=async()=>{try{const{error:M}=await ne.from("helpers").update({full_name:y.full_name,phone:y.phone,updated_at:new Date().toISOString()}).eq("id",s.id);if(M)throw M;i({...s,full_name:y.full_name,phone:y.phone}),l(!1),dt.success("Profile updated successfully!")}catch(M){console.error("Error updating profile:",M),dt.error("Failed to update profile")}},P=()=>{g(v),f(!0)},D=async()=>{try{const{data:{user:M}}=await ne.auth.getUser();if(!M?.email)throw new Error("User not found");const{error:W}=await ne.auth.signInWithPassword({email:M.email,password:S});if(W){dt.error("Incorrect password");return}const{error:K}=await ne.from("helper_applications").update({bank_account_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}).eq("id",s.application_id);if(K)throw K;i({...s,bank_account_holder_name:m.account_holder_name,bank_account_number:m.account_number,bank_ifsc_code:m.ifsc_code,bank_name:m.bank_name}),u(!1),f(!1),w(""),g(null),dt.success("Bank details updated successfully!")}catch(M){console.error("Error updating bank details:",M),dt.error("Failed to update bank details")}},B=async()=>{if(T.newPassword!==T.confirmPassword){dt.error("New passwords do not match");return}if(T.newPassword.length<6){dt.error("Password must be at least 6 characters");return}try{const{data:{user:M}}=await ne.auth.getUser();if(!M?.email)throw new Error("User not found");const{error:W}=await ne.auth.signInWithPassword({email:M.email,password:T.currentPassword});if(W){dt.error("Current password is incorrect");return}const{error:K}=await ne.auth.updateUser({password:T.newPassword});if(K)throw K;E({currentPassword:"",newPassword:"",confirmPassword:""}),dt.success("Password changed successfully!")}catch(M){console.error("Error changing password:",M),dt.error("Failed to change password")}},U=M=>{const W={Bronze:"bg-orange-500",Silver:"bg-gray-400",Gold:"bg-yellow-500"};return a.jsxs(vt,{className:`${W[M]} text-white text-lg px-4 py-1`,children:[a.jsx(QT,{className:"w-4 h-4 mr-2"}),M]})},H=async()=>{await ne.auth.signOut(),t({title:"Logged Out",description:"You have been logged out successfully"}),e("/")};return r?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:a.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pt,{to:"/helper/dashboard",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"Profile & Settings"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ta,{}),a.jsxs(Sl,{children:[a.jsx(Nl,{asChild:!0,children:a.jsxs(le,{variant:"ghost",className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),a.jsx("span",{children:s?.full_name})]})}),a.jsxs(Ho,{align:"end",className:"w-56",children:[a.jsxs(Mr,{children:[a.jsx(bi,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),a.jsx(Bu,{}),a.jsxs(Mr,{onClick:H,className:"text-destructive",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})}),a.jsx("main",{className:"container mx-auto p-6 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(sc,{className:"h-5 w-5"}),"Profile Information"]}),o?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{size:"sm",variant:"outline",onClick:()=>{l(!1),x({full_name:s.full_name,phone:s.phone})},children:[a.jsx(ri,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs(le,{size:"sm",onClick:I,children:[a.jsx(Xd,{className:"h-4 w-4 mr-2"}),"Save"]})]}):a.jsxs(le,{size:"sm",variant:"outline",onClick:()=>l(!0),children:[a.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),a.jsx(_e,{className:"space-y-4",children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Full Name"}),a.jsx(De,{value:y.full_name,onChange:M=>x({...y,full_name:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Phone"}),a.jsx(De,{value:y.phone,onChange:M=>x({...y,phone:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Email (Cannot be changed)"}),a.jsx(De,{value:s.email,disabled:!0})]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Full Name"}),a.jsx("p",{className:"font-semibold",children:s.full_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),a.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[a.jsx(Yd,{className:"h-4 w-4"}),s.email]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),a.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[a.jsx(Su,{className:"h-4 w-4"}),s.phone]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Helper ID"}),a.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[a.jsx(vl,{className:"h-4 w-4"}),s.helper_id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Referral Code"}),a.jsx("p",{className:"font-semibold text-primary",children:s.referral_code})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Joined Date"}),a.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[a.jsx(rc,{className:"h-4 w-4"}),sr(new Date(s.created_at),"PPP")]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),a.jsx(vt,{className:s.status==="Active"?"bg-green-500":"bg-red-500",children:s.status})]})]})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(_u,{className:"h-5 w-5"}),"Bank Details"]}),c?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{size:"sm",variant:"outline",onClick:()=>{u(!1),j({account_holder_name:s.bank_account_holder_name||"",account_number:s.bank_account_number||"",ifsc_code:s.bank_ifsc_code||"",bank_name:s.bank_name||""})},children:[a.jsx(ri,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs(le,{size:"sm",onClick:P,children:[a.jsx(Xd,{className:"h-4 w-4 mr-2"}),"Save"]})]}):a.jsxs(le,{size:"sm",variant:"outline",onClick:()=>u(!0),children:[a.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),a.jsx(_e,{className:"space-y-4",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Account Holder Name"}),a.jsx(De,{value:v.account_holder_name,onChange:M=>j({...v,account_holder_name:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Account Number"}),a.jsx(De,{value:v.account_number,onChange:M=>j({...v,account_number:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"IFSC Code"}),a.jsx(De,{value:v.ifsc_code,onChange:M=>j({...v,ifsc_code:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Bank Name"}),a.jsx(De,{value:v.bank_name,onChange:M=>j({...v,bank_name:M.target.value})})]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.bank_account_holder_name?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Holder Name"}),a.jsx("p",{className:"font-semibold",children:s.bank_account_holder_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Account Number"}),a.jsx("p",{className:"font-semibold",children:s.bank_account_number?`****${s.bank_account_number.slice(-4)}`:"Not provided"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"IFSC Code"}),a.jsx("p",{className:"font-semibold",children:s.bank_ifsc_code||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Bank Name"}),a.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[a.jsx(Wle,{className:"h-4 w-4"}),s.bank_name||"Not provided"]})]})]}):a.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[a.jsx(_u,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No bank details added yet"})]})})})]}),a.jsxs(we,{children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(Lh,{className:"h-5 w-5"}),"Change Password"]})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Current Password"}),a.jsx(De,{type:"password",value:T.currentPassword,onChange:M=>E({...T,currentPassword:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"New Password"}),a.jsx(De,{type:"password",value:T.newPassword,onChange:M=>E({...T,newPassword:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Confirm New Password"}),a.jsx(De,{type:"password",value:T.confirmPassword,onChange:M=>E({...T,confirmPassword:M.target.value})})]}),a.jsx(le,{onClick:B,children:"Update Password"})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs(we,{className:"bg-gradient-to-br from-primary/10 to-purple-500/10",children:[a.jsx(Ge,{children:a.jsxs(Ke,{className:"flex items-center gap-2",children:[a.jsx(Lo,{className:"h-5 w-5"}),"Your Performance"]})}),a.jsxs(_e,{className:"space-y-4",children:[a.jsx("div",{className:"text-center py-4",children:U(N.rank)}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Member Since"}),a.jsx("span",{className:"font-semibold",children:N.memberSince})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Days Active"}),a.jsxs("span",{className:"font-semibold text-blue-500",children:[N.daysActive," days"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),a.jsxs("span",{className:"font-bold text-green-500 text-lg",children:["",N.totalEarnings.toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-background/50 rounded-lg",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),a.jsx("span",{className:"font-semibold",children:N.rank})]})]}),N.badges.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[a.jsx(QT,{className:"h-4 w-4"}),"Achievement Badges"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:N.badges.map((M,W)=>a.jsxs(vt,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(to,{className:"h-3 w-3"}),M]},W))})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t",children:[a.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Rank Progression"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Bronze"}),a.jsx("span",{className:"text-muted-foreground",children:"0+"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Silver"}),a.jsx("span",{className:"text-muted-foreground",children:"50,000+"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Gold"}),a.jsx("span",{className:"text-muted-foreground",children:"100,000+"})]})]})]})]})]})})]})}),a.jsx(Hn,{open:d,onOpenChange:f,children:a.jsxs(Pn,{children:[a.jsxs(On,{children:[a.jsx(Rn,{children:"Verify Password"}),a.jsx(Xs,{children:"Please enter your password to confirm bank details update"})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Password"}),a.jsx(De,{type:"password",value:S,onChange:M=>w(M.target.value),placeholder:"Enter your password"})]})}),a.jsxs(wi,{children:[a.jsx(le,{variant:"outline",onClick:()=>{f(!1),w(""),g(null)},children:"Cancel"}),a.jsx(le,{onClick:D,children:"Verify & Update"})]})]})})]})}function EXe(){const e=nr(),[t,r]=_.useState(!1),[n,s]=_.useState(""),[i,o]=_.useState(""),l=async c=>{if(c.preventDefault(),!n||!i){dt.error("Please enter both email and password");return}try{r(!0);const{data:u,error:d}=await ne.auth.signInWithPassword({email:n,password:i});if(d){d.message.includes("Invalid login credentials")?dt.error("Invalid email or password. Please check your credentials."):dt.error(d.message);return}if(!u.user){dt.error("Login failed. Please try again.");return}console.log("[HelperLogin] User ID:",u.user.id),console.log("[HelperLogin] User Email:",u.user.email);const{data:f,error:m}=await ne.from("helpers").select("*").eq("id",u.user.id).maybeSingle();if(console.log("[HelperLogin] Helper check - Error:",m),console.log("[HelperLogin] Helper check - Data:",f),m){console.error("Error checking helper status:",m),dt.error("Failed to verify helper status");return}if(f){dt.success("Welcome back!"),e("/helper/dashboard");return}const{data:g,error:y}=await ne.from("helper_applications").select("*").eq("user_id",u.user.id).maybeSingle();if(console.log("[HelperLogin] Application check - Error:",y),console.log("[HelperLogin] Application check - Data:",g),g){g.application_status==="Pending"?(dt.info("Your application is under review"),e("/application-status")):g.application_status==="Rejected"?(dt.error("Your helper application was rejected"),e("/application-status")):(dt.info("Checking your application status..."),e("/application-status"));return}console.log("[HelperLogin] No helper or application found"),dt.error("You are not registered as a helper. Please apply to become a helper first."),await ne.auth.signOut()}catch(u){console.error("Login error:",u),dt.error(u.message||"An error occurred during login")}finally{r(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"mb-4",children:a.jsx(pt,{to:"/",children:a.jsxs(le,{variant:"ghost",size:"sm",children:[a.jsx(ea,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),a.jsxs(we,{className:"shadow-xl",children:[a.jsxs(Ge,{className:"space-y-1 text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-4",children:a.jsx(ti,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),a.jsx(Ke,{className:"text-2xl font-bold",children:"Helper Login"}),a.jsx(nn,{children:"Sign in to access your helper dashboard"})]}),a.jsxs(_e,{children:[a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:"Email"}),a.jsx(De,{id:"email",type:"email",placeholder:"helper@example.com",value:n,onChange:c=>s(c.target.value),disabled:t,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"Password"}),a.jsx(De,{id:"password",type:"password",placeholder:"",value:i,onChange:c=>o(c.target.value),disabled:t,required:!0})]}),a.jsx(le,{type:"submit",className:"w-full",disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(bs,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),a.jsxs("div",{className:"mt-6 text-center space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Don't have a helper account?"}),a.jsx(pt,{to:"/become-helper",children:a.jsx(le,{variant:"link",className:"text-blue-600 dark:text-blue-400",children:"Apply to become a helper"})})]}),a.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Are you a store owner?"," ",a.jsx(pt,{to:"/auth",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Login here"})]})})]})]}),a.jsx(we,{className:"mt-4 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:a.jsx(_e,{className:"pt-4",children:a.jsxs("p",{className:"text-xs text-blue-900 dark:text-blue-200 text-center",children:[a.jsx("strong",{children:"Note:"})," This login is exclusively for helpers. Store owners should use the main login page."]})})})]})})}function YW(){const[e,t]=_.useState(""),[r,n]=_.useState(!0);return _.useEffect(()=>{const s=async(l,c)=>{console.log("[SITEMAP] Generating store-specific sitemap for:",l);const{data:u,error:d}=await ne.from("stores").select("id, slug, subdomain, custom_domain, updated_at").or(`slug.eq.${l},subdomain.eq.${l},custom_domain.eq.${l}`).single();if(d||!u){console.error("[SITEMAP] Store not found:",d),t(`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
</urlset>`);return}let f="";u.custom_domain?f=`https://${u.custom_domain}`:u.subdomain?f=`https://${u.subdomain}.digitaldukandar.in`:f=`https://digitaldukandar.in/${u.slug}`;const{data:m,error:g}=await ne.from("products").select("id, name, slug, updated_at").eq("store_id",u.id).eq("status","published").order("created_at",{ascending:!1});g&&console.error("[SITEMAP] Error fetching products:",g),console.log("[SITEMAP] Store products found:",m?.length||0);let y=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Store Home -->
  <url>
    <loc>${f}</loc>
    <lastmod>${u.updated_at?new Date(u.updated_at).toISOString().split("T")[0]:c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Store Pages -->
  <url>
    <loc>${f}/products</loc>
    <lastmod>${c}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>${f}/categories</loc>
    <lastmod>${c}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>${f}/policies</loc>
    <lastmod>${c}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>

  <!-- Individual Products (${m?.length||0} products) -->`;if(m&&m.length>0)for(const x of m){const v=x.slug||x.id,j=`${f}/products/${v}`,S=x.updated_at?new Date(x.updated_at).toISOString().split("T")[0]:c;y+=`
  <url>
    <loc>${j}</loc>
    <lastmod>${S}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>`}y+=`
</urlset>`,t(y)},i=async l=>{console.log("[SITEMAP] Generating platform-wide sitemap");const{data:c,error:u}=await ne.from("stores").select("slug, subdomain, custom_domain, updated_at").order("created_at",{ascending:!1});console.log("[SITEMAP] Stores query result:",{stores:c,error:u}),console.log("[SITEMAP] Number of stores:",c?.length||0);let d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <!-- Platform Pages -->
  <url>
    <loc>https://digitaldukandar.in/</loc>
    <lastmod>${l}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/pricing</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/auth</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.6</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/become-helper</loc>
    <lastmod>${l}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.7</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/privacy-policy</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>
  <url>
    <loc>https://digitaldukandar.in/terms-of-service</loc>
    <lastmod>${l}</lastmod>
    <changefreq>yearly</changefreq>
    <priority>0.3</priority>
  </url>

  <!-- Store Pages (${c?.length||0} stores found) -->`;if(c&&c.length>0){console.log("[SITEMAP] Adding",c.length,"stores to sitemap");for(const f of c){let m="";f.custom_domain?(m=`https://${f.custom_domain}`,console.log(`[SITEMAP] Store ${f.slug}: using custom_domain -> ${m}`)):f.subdomain?(m=`https://${f.subdomain}.digitaldukandar.in`,console.log(`[SITEMAP] Store ${f.slug}: using subdomain -> ${m}`)):(m=`https://digitaldukandar.in/${f.slug}`,console.log(`[SITEMAP] Store ${f.slug}: using slug fallback -> ${m}`));const g=f.updated_at?new Date(f.updated_at).toISOString().split("T")[0]:l;d+=`
  <url>
    <loc>${m}</loc>
    <lastmod>${g}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>`}}d+=`
</urlset>`,t(d)};(async()=>{try{n(!0);const l=g_(),c=eG(),u=new Date().toISOString().split("T")[0];console.log("[SITEMAP] Domain Info:",l),console.log("[SITEMAP] Store Identifier:",c),l.isStoreSpecific&&c?await s(c,u):await i(u)}catch(l){console.error("[SITEMAP] Error generating sitemap:",l)}finally{n(!1)}})()},[]),_.useEffect(()=>{e&&document.querySelector('meta[http-equiv="Content-Type"]')?.setAttribute("content","application/xml")},[e]),r?a.jsx("div",{style:{padding:"20px"},children:"Generating sitemap..."}):a.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:e})}const CXe=new Sfe,TXe=()=>{const e=g_(),t=eG();return console.log("Domain Info:",e),console.log("Store Identifier:",t),a.jsx(Tfe,{client:CXe,children:a.jsx(QH,{children:a.jsx(zce,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:a.jsx(R0,{children:a.jsxs(Zhe,{children:[a.jsx(Bce,{}),a.jsx(bue,{}),a.jsxs(Bhe,{children:[a.jsx(Sme,{}),a.jsx(Ohe,{children:e.isStoreSpecific&&t?a.jsxs(a.Fragment,{children:[a.jsx(kt,{path:"/",element:a.jsx(GW,{slug:t})}),a.jsx(kt,{path:"/policies",element:a.jsx(KW,{slug:t})}),a.jsx(kt,{path:"/categories",element:a.jsx($2,{slug:t})}),a.jsx(kt,{path:"/products",element:a.jsx(L2,{slug:t})}),a.jsx(kt,{path:"/products/:slug",element:a.jsx(B2,{slug:t})}),a.jsx(kt,{path:"/cart",element:a.jsx(U2,{slug:t})}),a.jsx(kt,{path:"/checkout",element:a.jsx(V2,{slug:t})}),a.jsx(kt,{path:"/sitemap.xml",element:a.jsx(YW,{})}),a.jsx(kt,{path:"*",element:a.jsx(u5,{})})]}):a.jsxs(a.Fragment,{children:[a.jsx(kt,{path:"/",element:a.jsx(sge,{})}),a.jsx(kt,{path:"/pricing",element:a.jsx(oFe,{})}),a.jsx(kt,{path:"/auth",element:a.jsx(lFe,{})}),a.jsx(kt,{path:"/sitemap.xml",element:a.jsx(YW,{})}),a.jsx(kt,{path:"/privacy-policy",element:a.jsx(xXe,{})}),a.jsx(kt,{path:"/terms-of-service",element:a.jsx(vXe,{})}),a.jsx(kt,{path:"/become-helper",element:a.jsx(wXe,{})}),a.jsx(kt,{path:"/application-status",element:a.jsx(bXe,{})}),a.jsx(kt,{path:"/helper/login",element:a.jsx(EXe,{})}),a.jsx(kt,{path:"/helper/dashboard",element:a.jsx(_Xe,{})}),a.jsx(kt,{path:"/helper/my-referrals",element:a.jsx(jXe,{})}),a.jsx(kt,{path:"/helper/my-helper-network",element:a.jsx(SXe,{})}),a.jsx(kt,{path:"/helper/commission-history",element:a.jsx(NXe,{})}),a.jsx(kt,{path:"/helper/profile",element:a.jsx(kXe,{})}),a.jsx(kt,{path:"/home",element:a.jsx(_3e,{})}),a.jsx(kt,{path:"/categories",element:a.jsx($2,{})}),a.jsx(kt,{path:"/products",element:a.jsx(L2,{})}),a.jsx(kt,{path:"/products/:slug",element:a.jsx(B2,{})}),a.jsx(kt,{path:"/cart",element:a.jsx(U2,{})}),a.jsx(kt,{path:"/checkout",element:a.jsx(V2,{})}),a.jsx(kt,{path:"/admin/dashboard",element:a.jsx(Dve,{})}),a.jsx(kt,{path:"/admin/products",element:a.jsx(Tye,{})}),a.jsx(kt,{path:"/admin/products/add",element:a.jsx(qwe,{})}),a.jsx(kt,{path:"/admin/products/edit/:id",element:a.jsx(Kwe,{})}),a.jsx(kt,{path:"/admin/categories",element:a.jsx(nPe,{})}),a.jsx(kt,{path:"/admin/orders",element:a.jsx(ePe,{})}),a.jsx(kt,{path:"/admin/analytics",element:a.jsx(tPe,{})}),a.jsx(kt,{path:"/admin/subscription",element:a.jsx(sPe,{})}),a.jsx(kt,{path:"/admin/settings",element:a.jsx(Yve,{})}),a.jsx(kt,{path:"/superadmin/login",element:a.jsx(cFe,{})}),a.jsx(kt,{path:"/superadmin/dashboard",element:a.jsx(dFe,{})}),a.jsx(kt,{path:"/superadmin/users",element:a.jsx(NFe,{})}),a.jsx(kt,{path:"/superadmin/applications",element:a.jsx(jOe,{})}),a.jsx(kt,{path:"/superadmin/helpers",element:a.jsx(kFe,{})}),a.jsx(kt,{path:"/superadmin/commissions",element:a.jsx(EFe,{})}),a.jsx(kt,{path:"/superadmin/commission-settings",element:a.jsx(CFe,{})}),a.jsx(kt,{path:"/superadmin/reports-analytics",element:a.jsx(GYe,{})}),a.jsx(kt,{path:"/superadmin/subscription-plans",element:a.jsx(XYe,{})}),a.jsx(kt,{path:"/superadmin/transactions",element:a.jsx(ZYe,{})}),a.jsx(kt,{path:"/superadmin/billing",element:a.jsx(QYe,{})}),a.jsx(kt,{path:"/superadmin/custom-domains",element:a.jsx(JYe,{})}),a.jsx(kt,{path:"/superadmin/settings",element:a.jsx(eXe,{})}),a.jsx(kt,{path:"/superadmin/sitemaps",element:a.jsx(rXe,{})}),a.jsx(kt,{path:"/onboarding/store-setup",element:a.jsx(oXe,{})}),a.jsx(kt,{path:"/onboarding/customize",element:a.jsx(lXe,{})}),a.jsx(kt,{path:"/onboarding/complete",element:a.jsx(gXe,{})}),a.jsx(kt,{path:"/:slug",element:a.jsx(GW,{})}),a.jsx(kt,{path:"/:slug/policies",element:a.jsx(KW,{})}),a.jsx(kt,{path:"/:slug/categories",element:a.jsx($2,{})}),a.jsx(kt,{path:"/:slug/products",element:a.jsx(L2,{})}),a.jsx(kt,{path:"/:slug/products/:productSlug",element:a.jsx(B2,{})}),a.jsx(kt,{path:"/:slug/cart",element:a.jsx(U2,{})}),a.jsx(kt,{path:"/:slug/checkout",element:a.jsx(V2,{})}),a.jsx(kt,{path:"*",element:a.jsx(u5,{})})]})})]})]})})})})})};Woe.createRoot(document.getElementById("root")).render(a.jsx(TXe,{}));
